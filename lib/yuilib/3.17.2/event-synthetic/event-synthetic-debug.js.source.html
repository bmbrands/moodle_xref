<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/yuilib/3.17.2/event-synthetic/event-synthetic-debug.js source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='lib/yuilib/3.17.2/event-synthetic';
filename='event-synthetic-debug.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/yuilib/3.17.2/event-synthetic/</a> -> <a href="event-synthetic-debug.js.html">event-synthetic-debug.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="event-synthetic-debug.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="event-synthetic-debug.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/*</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">YUI 3.17.2 (build 9c3c78e)</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">Copyright 2014 Yahoo! Inc. All rights reserved.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">Licensed under the BSD License.</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">http://yuilibrary.com/license/</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">*/</span>
<a name="l7"><span class="linenum">   7</span></a>  
<a name="l8"><span class="linenum">   8</span></a>  YUI.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>('event-synthetic', function (Y, NAME) {
<a name="l9"><span class="linenum">   9</span></a>  
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">/**</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * Define new DOM events that can be subscribed to from Nodes.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @module event</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> * @submodule event-synthetic</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> */</span>
<a name="l16"><span class="linenum">  16</span></a>  var CustomEvent = Y.CustomEvent,
<a name="l17"><span class="linenum">  17</span></a>      DOMMap   = Y.Env.evt.dom_map,
<a name="l18"><span class="linenum">  18</span></a>      toArray  = Y.Array,
<a name="l19"><span class="linenum">  19</span></a>      YLang    = Y.Lang,
<a name="l20"><span class="linenum">  20</span></a>      isObject = YLang.isObject,
<a name="l21"><span class="linenum">  21</span></a>      isString = YLang.isString,
<a name="l22"><span class="linenum">  22</span></a>      isArray  = YLang.isArray,
<a name="l23"><span class="linenum">  23</span></a>      query    = Y.Selector.query,
<a name="l24"><span class="linenum">  24</span></a>      noop     = function () {};
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">/**</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * &lt;p&gt;The triggering mechanism used by SyntheticEvents.&lt;/p&gt;</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> *</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * &lt;p&gt;Implementers should not instantiate these directly.  Use the Notifier</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * provided to the event's implemented &lt;code&gt;on(node, sub, notifier)&lt;/code&gt; or</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * &lt;code&gt;delegate(node, sub, notifier, filter)&lt;/code&gt; methods.&lt;/p&gt;</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @class SyntheticEvent.Notifier</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @constructor</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @param handle {EventHandle} the detach handle for the subscription to an</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *              internal custom event used to execute the callback passed to</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *              on(..) or delegate(..)</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @param emitFacade {Boolean} take steps to ensure the first arg received by</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> *              the subscription callback is an event facade</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @private</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @since 3.2.0</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> */</span>
<a name="l43"><span class="linenum">  43</span></a>  function <a class="function" onClick="logFunction('Notifier')" href="../../../../_functions/notifier.html" onMouseOver="funcPopup(event,'notifier')">Notifier</a>(handle, emitFacade) {
<a name="l44"><span class="linenum">  44</span></a>      this.handle     = handle;
<a name="l45"><span class="linenum">  45</span></a>      this.emitFacade = emitFacade;
<a name="l46"><span class="linenum">  46</span></a>  }
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">/**</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * &lt;p&gt;Executes the subscription callback, passing the firing arguments as the</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * first parameters to that callback. For events that are configured with</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * emitFacade=true, it is common practice to pass the triggering DOMEventFacade</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * as the first parameter.  Barring a proper DOMEventFacade or EventFacade</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * (from a CustomEvent), a new EventFacade will be generated.  In that case, if</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * fire() is called with a simple object, it will be mixed into the facade.</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> * Otherwise, the facade will be prepended to the callback parameters.&lt;/p&gt;</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> *</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * &lt;p&gt;For notifiers provided to delegate logic, the first argument should be an</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * object with a &amp;quot;currentTarget&amp;quot; property to identify what object to</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * default as 'this' in the callback.  Typically this is gleaned from the</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * DOMEventFacade or EventFacade, but if configured with emitFacade=false, an</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * object must be provided.  In that case, the object will be removed from the</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * callback parameters.&lt;/p&gt;</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * &lt;p&gt;Additional arguments passed during event subscription will be</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> * automatically added after those passed to fire().&lt;/p&gt;</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> *</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment"> * @method fire</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment"> * @param {EventFacade|DOMEventFacade|any} e (see description)</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment"> * @param {any[]} [arg*] additional arguments received by all subscriptions</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment"> * @private</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment"> */</span>
<a name="l72"><span class="linenum">  72</span></a>  Notifier.prototype.fire = function (e) {
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">    // first arg to delegate notifier should be an object with currentTarget</span>
<a name="l74"><span class="linenum">  74</span></a>      var args     = <a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(arguments, 0, true),
<a name="l75"><span class="linenum">  75</span></a>          handle   = this.handle,
<a name="l76"><span class="linenum">  76</span></a>          ce       = handle.evt,
<a name="l77"><span class="linenum">  77</span></a>          sub      = handle.sub,
<a name="l78"><span class="linenum">  78</span></a>          thisObj  = sub.context,
<a name="l79"><span class="linenum">  79</span></a>          delegate = sub.filter,
<a name="l80"><span class="linenum">  80</span></a>          event    = e || {},
<a name="l81"><span class="linenum">  81</span></a>          ret;
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>      if (this.emitFacade) {
<a name="l84"><span class="linenum">  84</span></a>          if (!e || !e.preventDefault) {
<a name="l85"><span class="linenum">  85</span></a>              event = ce._getFacade();
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>              if (isObject(e) &amp;&amp; !e.preventDefault) {
<a name="l88"><span class="linenum">  88</span></a>                  Y.<a class="function" onClick="logFunction('mix')" href="../../../../_functions/mix.html" onMouseOver="funcPopup(event,'mix')">mix</a>(event, e, true);
<a name="l89"><span class="linenum">  89</span></a>                  args[0] = event;
<a name="l90"><span class="linenum">  90</span></a>              } else {
<a name="l91"><span class="linenum">  91</span></a>                  args.unshift(event);
<a name="l92"><span class="linenum">  92</span></a>              }
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>          event.type    = ce.type;
<a name="l96"><span class="linenum">  96</span></a>          event.details = args.slice();
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>          if (delegate) {
<a name="l99"><span class="linenum">  99</span></a>              event.container = ce.host;
<a name="l100"><span class="linenum"> 100</span></a>          }
<a name="l101"><span class="linenum"> 101</span></a>      } else if (delegate &amp;&amp; isObject(e) &amp;&amp; e.currentTarget) {
<a name="l102"><span class="linenum"> 102</span></a>          args.<a class="function" onClick="logFunction('shift')" href="../../../../_functions/shift.html" onMouseOver="funcPopup(event,'shift')">shift</a>();
<a name="l103"><span class="linenum"> 103</span></a>      }
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>      sub.context = thisObj || event.currentTarget || ce.host;
<a name="l106"><span class="linenum"> 106</span></a>      ret = ce.fire.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ce, args);
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">    // have to handle preventedFn and stoppedFn manually because</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">    // Notifier CustomEvents are forced to emitFacade=false</span>
<a name="l110"><span class="linenum"> 110</span></a>      if (e.prevented &amp;&amp; ce.preventedFn) {
<a name="l111"><span class="linenum"> 111</span></a>          ce.preventedFn.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ce, args);
<a name="l112"><span class="linenum"> 112</span></a>      }
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>      if (e.stopped &amp;&amp; ce.stoppedFn) {
<a name="l115"><span class="linenum"> 115</span></a>          ce.stoppedFn.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(ce, args);
<a name="l116"><span class="linenum"> 116</span></a>      }
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>      sub.context = thisObj; <span class="comment">// reset for future firing</span>
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">    // to capture callbacks that return false to stopPropagation.</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">    // Useful for delegate implementations</span>
<a name="l122"><span class="linenum"> 122</span></a>      return ret;
<a name="l123"><span class="linenum"> 123</span></a>  };
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">/**</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment"> * Manager object for synthetic event subscriptions to aggregate multiple synths on the</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment"> * same node without colliding with actual DOM subscription entries in the global map of</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment"> * DOM subscriptions.  Also facilitates proper cleanup on page unload.</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> *</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * @class SynthRegistry</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * @constructor</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> * @param el {HTMLElement} the DOM element</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * @param yuid {String} the yuid stamp for the element</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * @param key {String} the generated id token used to identify an event type +</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> *                     element in the global DOM subscription map.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @private</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> */</span>
<a name="l138"><span class="linenum"> 138</span></a>  function <a class="function" onClick="logFunction('SynthRegistry')" href="../../../../_functions/synthregistry.html" onMouseOver="funcPopup(event,'synthregistry')">SynthRegistry</a>(el, yuid, key) {
<a name="l139"><span class="linenum"> 139</span></a>      this.handles = [];
<a name="l140"><span class="linenum"> 140</span></a>      this.el      = el;
<a name="l141"><span class="linenum"> 141</span></a>      this.key     = key;
<a name="l142"><span class="linenum"> 142</span></a>      this.domkey  = yuid;
<a name="l143"><span class="linenum"> 143</span></a>  }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  SynthRegistry.prototype = {
<a name="l146"><span class="linenum"> 146</span></a>      constructor: SynthRegistry,
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">    // A few object properties to fake the CustomEvent interface for page</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">    // unload cleanup.  DON'T TOUCH!</span>
<a name="l150"><span class="linenum"> 150</span></a>      type      : '_synth',
<a name="l151"><span class="linenum"> 151</span></a>      fn        : noop,
<a name="l152"><span class="linenum"> 152</span></a>      capture   : false,
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>      <span class="comment">/**</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * Adds a subscription from the Notifier registry.</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     *</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @method register</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * @param handle {EventHandle} the subscription</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * @since 3.4.0</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     */</span>
<a name="l161"><span class="linenum"> 161</span></a>      register: function (handle) {
<a name="l162"><span class="linenum"> 162</span></a>          handle.evt.registry = this;
<a name="l163"><span class="linenum"> 163</span></a>          this.handles.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(handle);
<a name="l164"><span class="linenum"> 164</span></a>      },
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      <span class="comment">/**</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * Removes the subscription from the Notifier registry.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     *</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @method _unregisterSub</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param sub {Subscription} the subscription</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @since 3.4.0</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     */</span>
<a name="l173"><span class="linenum"> 173</span></a>      unregister: function (sub) {
<a name="l174"><span class="linenum"> 174</span></a>          var handles = this.handles,
<a name="l175"><span class="linenum"> 175</span></a>              events = DOMMap[this.domkey],
<a name="l176"><span class="linenum"> 176</span></a>              i;
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>          for (i = handles.length - 1; i &gt;= 0; --i) {
<a name="l179"><span class="linenum"> 179</span></a>              if (handles[i].sub === sub) {
<a name="l180"><span class="linenum"> 180</span></a>                  handles.<a class="function" onClick="logFunction('splice')" href="../../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i, 1);
<a name="l181"><span class="linenum"> 181</span></a>                  break;
<a name="l182"><span class="linenum"> 182</span></a>              }
<a name="l183"><span class="linenum"> 183</span></a>          }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">        // Clean up left over objects when there are no more subscribers.</span>
<a name="l186"><span class="linenum"> 186</span></a>          if (!handles.length) {
<a name="l187"><span class="linenum"> 187</span></a>              delete events[this.key];
<a name="l188"><span class="linenum"> 188</span></a>              if (!Y.Object.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>(events)) {
<a name="l189"><span class="linenum"> 189</span></a>                  delete DOMMap[this.domkey];
<a name="l190"><span class="linenum"> 190</span></a>              }
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>      },
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * Used by the event system's unload cleanup process.  When navigating</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * away from the page, the event system iterates the global map of element</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * subscriptions and detaches everything using detachAll().  Normally,</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * the map is populated with custom events, so this object needs to</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * at least support the detachAll method to duck type its way to</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * cleanliness.</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     *</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     * @method detachAll</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * @private</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     * @since 3.4.0</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     */</span>
<a name="l206"><span class="linenum"> 206</span></a>      detachAll : function () {
<a name="l207"><span class="linenum"> 207</span></a>          var handles = this.handles,
<a name="l208"><span class="linenum"> 208</span></a>              i = handles.length;
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>          while (--i &gt;= 0) {
<a name="l211"><span class="linenum"> 211</span></a>              handles[i].<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l212"><span class="linenum"> 212</span></a>          }
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>  };
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">/**</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> * &lt;p&gt;Wrapper class for the integration of new events into the YUI event</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> * infrastructure.  Don't instantiate this object directly, use</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment"> * &lt;code&gt;Y.Event.define(type, config)&lt;/code&gt;.  See that method for details.&lt;/p&gt;</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment"> *</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment"> * &lt;p&gt;Properties that MAY or SHOULD be specified in the configuration are noted</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment"> * below and in the description of &lt;code&gt;Y.Event.define&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment"> *</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment"> * @class SyntheticEvent</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment"> * @constructor</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment"> * @param cfg {Object} Implementation pieces and configuration</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> * @since 3.1.0</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> * @in event-synthetic</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> */</span>
<a name="l230"><span class="linenum"> 230</span></a>  function <a class="function" onClick="logFunction('SyntheticEvent')" href="../../../../_functions/syntheticevent.html" onMouseOver="funcPopup(event,'syntheticevent')">SyntheticEvent</a>() {
<a name="l231"><span class="linenum"> 231</span></a>      this._init.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l232"><span class="linenum"> 232</span></a>  }
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>  Y.<a class="function" onClick="logFunction('mix')" href="../../../../_functions/mix.html" onMouseOver="funcPopup(event,'mix')">mix</a>(SyntheticEvent, {
<a name="l235"><span class="linenum"> 235</span></a>      Notifier: Notifier,
<a name="l236"><span class="linenum"> 236</span></a>      SynthRegistry: SynthRegistry,
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * Returns the array of subscription handles for a node for the given event</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * type.  Passing true as the third argument will create a registry entry</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * in the event system's DOM map to host the array if one doesn't yet exist.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     *</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * @method getRegistry</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     * @param node {Node} the node</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * @param type {String} the event</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * @param create {Boolean} create a registration entry to host a new array</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     *                  if one doesn't exist.</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @return {Array}</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @static</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @protected</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     */</span>
<a name="l253"><span class="linenum"> 253</span></a>      getRegistry: function (node, type, create) {
<a name="l254"><span class="linenum"> 254</span></a>          var el     = node._node,
<a name="l255"><span class="linenum"> 255</span></a>              yuid   = Y.stamp(el),
<a name="l256"><span class="linenum"> 256</span></a>              key    = 'event:' + yuid + type + '_synth',
<a name="l257"><span class="linenum"> 257</span></a>              events = DOMMap[yuid];
<a name="l258"><span class="linenum"> 258</span></a>  
<a name="l259"><span class="linenum"> 259</span></a>          if (create) {
<a name="l260"><span class="linenum"> 260</span></a>              if (!events) {
<a name="l261"><span class="linenum"> 261</span></a>                  events = DOMMap[yuid] = {};
<a name="l262"><span class="linenum"> 262</span></a>              }
<a name="l263"><span class="linenum"> 263</span></a>              if (!events[key]) {
<a name="l264"><span class="linenum"> 264</span></a>                  events[key] = new <a class="function" onClick="logFunction('SynthRegistry')" href="../../../../_functions/synthregistry.html" onMouseOver="funcPopup(event,'synthregistry')">SynthRegistry</a>(el, yuid, key);
<a name="l265"><span class="linenum"> 265</span></a>              }
<a name="l266"><span class="linenum"> 266</span></a>          }
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>          return (events &amp;&amp; events[key]) || null;
<a name="l269"><span class="linenum"> 269</span></a>      },
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>      <span class="comment">/**</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * Alternate &lt;code&gt;_delete()&lt;/code&gt; method for the CustomEvent object</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * created to manage SyntheticEvent subscriptions.</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     *</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * @method _deleteSub</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @param sub {Subscription} the subscription to clean up</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * @private</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * @since 3.2.0</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     */</span>
<a name="l280"><span class="linenum"> 280</span></a>      _deleteSub: function (sub) {
<a name="l281"><span class="linenum"> 281</span></a>          if (sub &amp;&amp; sub.fn) {
<a name="l282"><span class="linenum"> 282</span></a>              var synth = this.eventDef,
<a name="l283"><span class="linenum"> 283</span></a>                  method = (sub.filter) ? 'detachDelegate' : 'detach';
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>              this._subscribers = [];
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>              if (CustomEvent.keepDeprecatedSubs) {
<a name="l288"><span class="linenum"> 288</span></a>                  this.subscribers = {};
<a name="l289"><span class="linenum"> 289</span></a>              }
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>              synth[method](sub.node, sub, this.notifier, sub.filter);
<a name="l292"><span class="linenum"> 292</span></a>              this.registry.<a class="function" onClick="logFunction('unregister')" href="../../../../_functions/unregister.html" onMouseOver="funcPopup(event,'unregister')">unregister</a>(sub);
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>              delete sub.fn;
<a name="l295"><span class="linenum"> 295</span></a>              delete sub.node;
<a name="l296"><span class="linenum"> 296</span></a>              delete sub.context;
<a name="l297"><span class="linenum"> 297</span></a>          }
<a name="l298"><span class="linenum"> 298</span></a>      },
<a name="l299"><span class="linenum"> 299</span></a>  
<a name="l300"><span class="linenum"> 300</span></a>      prototype: {
<a name="l301"><span class="linenum"> 301</span></a>          constructor: SyntheticEvent,
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>          <span class="comment">/**</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">         * Construction logic for the event.</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">         *</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">         * @method _init</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">         * @protected</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">         */</span>
<a name="l309"><span class="linenum"> 309</span></a>          _init: function () {
<a name="l310"><span class="linenum"> 310</span></a>              var config = this.publishConfig || (this.publishConfig = {});
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">            // The notification mechanism handles facade creation</span>
<a name="l313"><span class="linenum"> 313</span></a>              this.emitFacade = ('emitFacade' in config) ?
<a name="l314"><span class="linenum"> 314</span></a>                                  config.emitFacade :
<a name="l315"><span class="linenum"> 315</span></a>                                  true;
<a name="l316"><span class="linenum"> 316</span></a>              config.emitFacade  = false;
<a name="l317"><span class="linenum"> 317</span></a>          },
<a name="l318"><span class="linenum"> 318</span></a>  
<a name="l319"><span class="linenum"> 319</span></a>          <span class="comment">/**</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">         * &lt;p&gt;Implementers MAY provide this method definition.&lt;/p&gt;</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">         *</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">         * &lt;p&gt;Implement this function if the event supports a different</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">         * subscription signature.  This function is used by both</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">         * &lt;code&gt;on()&lt;/code&gt; and &lt;code&gt;delegate()&lt;/code&gt;.  The second parameter</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">         * indicates that the event is being subscribed via</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">         * &lt;code&gt;delegate()&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">         *</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">         * &lt;p&gt;Implementations must remove extra arguments from the args list</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">         * before returning.  The required args for &lt;code&gt;on()&lt;/code&gt;</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">         * subscriptions are&lt;/p&gt;</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">         * &lt;pre&gt;&lt;code&gt;[type, callback, target, context, argN...]&lt;/code&gt;&lt;/pre&gt;</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">         *</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">         * &lt;p&gt;The required args for &lt;code&gt;delegate()&lt;/code&gt;</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">         * subscriptions are&lt;/p&gt;</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">         *</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">         * &lt;pre&gt;&lt;code&gt;[type, callback, target, filter, context, argN...]&lt;/code&gt;&lt;/pre&gt;</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">         *</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">         * &lt;p&gt;The return value from this function will be stored on the</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">         * subscription in the '_extra' property for reference elsewhere.&lt;/p&gt;</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">         *</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">         * @method processArgs</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">         * @param args {Array} parmeters passed to Y.on(..) or Y.delegate(..)</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">         * @param delegate {Boolean} true if the subscription is from Y.delegate</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">         * @return {any}</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">         */</span>
<a name="l346"><span class="linenum"> 346</span></a>          processArgs: noop,
<a name="l347"><span class="linenum"> 347</span></a>  
<a name="l348"><span class="linenum"> 348</span></a>          <span class="comment">/**</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">         * &lt;p&gt;Implementers MAY override this property.&lt;/p&gt;</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">         *</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">         * &lt;p&gt;Whether to prevent multiple subscriptions to this event that are</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">         * classified as being the same.  By default, this means the subscribed</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">         * callback is the same function.  See the &lt;code&gt;subMatch&lt;/code&gt;</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">         * method.  Setting this to true will impact performance for high volume</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">         * events.&lt;/p&gt;</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">         *</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">         * @property preventDups</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">         * @type {Boolean}</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">         * @default false</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">         */</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">        //preventDups  : false,</span>
<a name="l362"><span class="linenum"> 362</span></a>  
<a name="l363"><span class="linenum"> 363</span></a>          <span class="comment">/**</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">         * &lt;p&gt;Implementers SHOULD provide this method definition.&lt;/p&gt;</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">         *</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">         * Implementation logic for subscriptions done via &lt;code&gt;node.on(type,</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">         * fn)&lt;/code&gt; or &lt;code&gt;Y.on(type, fn, target)&lt;/code&gt;.  This</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">         * function should set up the monitor(s) that will eventually fire the</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">         * event.  Typically this involves subscribing to at least one DOM</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">         * event.  It is recommended to store detach handles from any DOM</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">         * subscriptions to make for easy cleanup in the &lt;code&gt;detach&lt;/code&gt;</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">         * method.  Typically these handles are added to the &lt;code&gt;sub&lt;/code&gt;</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">         * object.  Also for SyntheticEvents that leverage a single DOM</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">         * subscription under the hood, it is recommended to pass the DOM event</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">         * object to &lt;code&gt;notifier.fire(e)&lt;/code&gt;.  (The event name on the</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">         * object will be updated).</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">         *</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">         * @method on</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">         * @param node {Node} the node the subscription is being applied to</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">         * @param sub {Subscription} the object to track this subscription</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">         * @param notifier {SyntheticEvent.Notifier} call notifier.fire(..) to</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment">         *              trigger the execution of the subscribers</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">         */</span>
<a name="l384"><span class="linenum"> 384</span></a>          on: noop,
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>          <span class="comment">/**</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">         * &lt;p&gt;Implementers SHOULD provide this method definition.&lt;/p&gt;</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">         *</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">         * &lt;p&gt;Implementation logic for detaching subscriptions done via</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">         * &lt;code&gt;node.on(type, fn)&lt;/code&gt;.  This function should clean up any</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">         * subscriptions made in the &lt;code&gt;on()&lt;/code&gt; phase.&lt;/p&gt;</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">         *</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">         * @method detach</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">         * @param node {Node} the node the subscription was applied to</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">         * @param sub {Subscription} the object tracking this subscription</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">         * @param notifier {SyntheticEvent.Notifier} the Notifier used to</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">         *              trigger the execution of the subscribers</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">         */</span>
<a name="l399"><span class="linenum"> 399</span></a>          detach: noop,
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>          <span class="comment">/**</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">         * &lt;p&gt;Implementers SHOULD provide this method definition.&lt;/p&gt;</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">         *</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">         * &lt;p&gt;Implementation logic for subscriptions done via</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">         * &lt;code&gt;node.delegate(type, fn, filter)&lt;/code&gt; or</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">         * &lt;code&gt;Y.delegate(type, fn, container, filter)&lt;/code&gt;.  Like with</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">         * &lt;code&gt;on()&lt;/code&gt; above, this function should monitor the environment</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">         * for the event being fired, and trigger subscription execution by</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">         * calling &lt;code&gt;notifier.fire(e)&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">         *</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">         * &lt;p&gt;This function receives a fourth argument, which is the filter</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">         * used to identify which Node's are of interest to the subscription.</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">         * The filter will be either a boolean function that accepts a target</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">         * Node for each hierarchy level as the event bubbles, or a selector</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">         * string.  To translate selector strings into filter functions, use</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">         * &lt;code&gt;Y.delegate.compileFilter(filter)&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">         *</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">         * @method delegate</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">         * @param node {Node} the node the subscription is being applied to</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">         * @param sub {Subscription} the object to track this subscription</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">         * @param notifier {SyntheticEvent.Notifier} call notifier.fire(..) to</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">         *              trigger the execution of the subscribers</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">         * @param filter {String|Function} Selector string or function that</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">         *              accepts an event object and returns null, a Node, or an</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">         *              array of Nodes matching the criteria for processing.</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">         * @since 3.2.0</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">         */</span>
<a name="l428"><span class="linenum"> 428</span></a>          delegate       : noop,
<a name="l429"><span class="linenum"> 429</span></a>  
<a name="l430"><span class="linenum"> 430</span></a>          <span class="comment">/**</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">         * &lt;p&gt;Implementers SHOULD provide this method definition.&lt;/p&gt;</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">         *</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">         * &lt;p&gt;Implementation logic for detaching subscriptions done via</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">         * &lt;code&gt;node.delegate(type, fn, filter)&lt;/code&gt; or</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">         * &lt;code&gt;Y.delegate(type, fn, container, filter)&lt;/code&gt;.  This function</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">         * should clean up any subscriptions made in the</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">         * &lt;code&gt;delegate()&lt;/code&gt; phase.&lt;/p&gt;</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">         *</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">         * @method detachDelegate</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">         * @param node {Node} the node the subscription was applied to</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">         * @param sub {Subscription} the object tracking this subscription</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">         * @param notifier {SyntheticEvent.Notifier} the Notifier used to</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">         *              trigger the execution of the subscribers</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">         * @param filter {String|Function} Selector string or function that</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">         *              accepts an event object and returns null, a Node, or an</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">         *              array of Nodes matching the criteria for processing.</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">         * @since 3.2.0</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">         */</span>
<a name="l449"><span class="linenum"> 449</span></a>          detachDelegate : noop,
<a name="l450"><span class="linenum"> 450</span></a>  
<a name="l451"><span class="linenum"> 451</span></a>          <span class="comment">/**</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">         * Sets up the boilerplate for detaching the event and facilitating the</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">         * execution of subscriber callbacks.</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">         *</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">         * @method _on</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">         * @param args {Array} array of arguments passed to</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">         *              &lt;code&gt;Y.on(...)&lt;/code&gt; or &lt;code&gt;Y.delegate(...)&lt;/code&gt;</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">         * @param delegate {Boolean} true if called from</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">         * &lt;code&gt;Y.delegate(...)&lt;/code&gt;</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">         * @return {EventHandle} the detach handle for this subscription</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">         * @private</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">         * since 3.2.0</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">         */</span>
<a name="l464"><span class="linenum"> 464</span></a>          _on: function (args, delegate) {
<a name="l465"><span class="linenum"> 465</span></a>              var handles  = [],
<a name="l466"><span class="linenum"> 466</span></a>                  originalArgs = args.slice(),
<a name="l467"><span class="linenum"> 467</span></a>                  extra    = this.processArgs(args, delegate),
<a name="l468"><span class="linenum"> 468</span></a>                  selector = args[2],
<a name="l469"><span class="linenum"> 469</span></a>                  method   = delegate ? 'delegate' : 'on',
<a name="l470"><span class="linenum"> 470</span></a>                  nodes, handle;
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">            // Can't just use Y.all because it doesn't support window (yet?)</span>
<a name="l473"><span class="linenum"> 473</span></a>              nodes = (<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(selector)) ?
<a name="l474"><span class="linenum"> 474</span></a>                  <a class="function" onClick="logFunction('query')" href="../../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(selector) :
<a name="l475"><span class="linenum"> 475</span></a>                  <a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(selector || Y.one(Y.config.win));
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>              if (!nodes.length &amp;&amp; <a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(selector)) {
<a name="l478"><span class="linenum"> 478</span></a>                  handle = Y.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('available', function () {
<a name="l479"><span class="linenum"> 479</span></a>                      Y.<a class="function" onClick="logFunction('mix')" href="../../../../_functions/mix.html" onMouseOver="funcPopup(event,'mix')">mix</a>(handle, Y[method].<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(Y, originalArgs), true);
<a name="l480"><span class="linenum"> 480</span></a>                  }, selector);
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>                  return handle;
<a name="l483"><span class="linenum"> 483</span></a>              }
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>              Y.Array.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(nodes, function (node) {
<a name="l486"><span class="linenum"> 486</span></a>                  var subArgs = args.slice(),
<a name="l487"><span class="linenum"> 487</span></a>                      filter;
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>                  node = Y.one(node);
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>                  if (node) {
<a name="l492"><span class="linenum"> 492</span></a>                      if (delegate) {
<a name="l493"><span class="linenum"> 493</span></a>                          filter = subArgs.<a class="function" onClick="logFunction('splice')" href="../../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(3, 1)[0];
<a name="l494"><span class="linenum"> 494</span></a>                      }
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">                    // (type, fn, el, thisObj, ...) =&gt; (fn, thisObj, ...)</span>
<a name="l497"><span class="linenum"> 497</span></a>                      subArgs.<a class="function" onClick="logFunction('splice')" href="../../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(0, 4, subArgs[1], subArgs[3]);
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>                      if (!this.preventDups ||
<a name="l500"><span class="linenum"> 500</span></a>                          !this.getSubs(node, args, null, true))
<a name="l501"><span class="linenum"> 501</span></a>                      {
<a name="l502"><span class="linenum"> 502</span></a>                          handles.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(this._subscribe(node, method, subArgs, extra, filter));
<a name="l503"><span class="linenum"> 503</span></a>                      }
<a name="l504"><span class="linenum"> 504</span></a>                  }
<a name="l505"><span class="linenum"> 505</span></a>              }, this);
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>              return (handles.length === 1) ?
<a name="l508"><span class="linenum"> 508</span></a>                  handles[0] :
<a name="l509"><span class="linenum"> 509</span></a>                  new Y.EventHandle(handles);
<a name="l510"><span class="linenum"> 510</span></a>          },
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>          <span class="comment">/**</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">         * Creates a new Notifier object for use by this event's</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">         * &lt;code&gt;on(...)&lt;/code&gt; or &lt;code&gt;delegate(...)&lt;/code&gt; implementation</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">         * and register the custom event proxy in the DOM system for cleanup.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">         *</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">         * @method _subscribe</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">         * @param node {Node} the Node hosting the event</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">         * @param method {String} &quot;on&quot; or &quot;delegate&quot;</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">         * @param args {Array} the subscription arguments passed to either</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">         *              &lt;code&gt;Y.on(...)&lt;/code&gt; or &lt;code&gt;Y.delegate(...)&lt;/code&gt;</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">         *              after running through &lt;code&gt;processArgs(args)&lt;/code&gt; to</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">         *              normalize the argument signature</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment">         * @param extra {any} Extra data parsed from</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment">         *              &lt;code&gt;processArgs(args)&lt;/code&gt;</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">         * @param filter {String|Function} the selector string or function</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">         *              filter passed to &lt;code&gt;Y.delegate(...)&lt;/code&gt; (not</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">         *              present when called from &lt;code&gt;Y.on(...)&lt;/code&gt;)</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">         * @return {EventHandle}</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">         * @private</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">         * @since 3.2.0</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">         */</span>
<a name="l533"><span class="linenum"> 533</span></a>          _subscribe: function (node, method, args, extra, filter) {
<a name="l534"><span class="linenum"> 534</span></a>              var dispatcher = new Y.CustomEvent(this.type, this.publishConfig),
<a name="l535"><span class="linenum"> 535</span></a>                  handle     = dispatcher.on.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(dispatcher, args),
<a name="l536"><span class="linenum"> 536</span></a>                  notifier   = new <a class="function" onClick="logFunction('Notifier')" href="../../../../_functions/notifier.html" onMouseOver="funcPopup(event,'notifier')">Notifier</a>(handle, this.emitFacade),
<a name="l537"><span class="linenum"> 537</span></a>                  registry   = SyntheticEvent.getRegistry(node, this.type, true),
<a name="l538"><span class="linenum"> 538</span></a>                  sub        = handle.sub;
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>              sub.node   = node;
<a name="l541"><span class="linenum"> 541</span></a>              sub.filter = filter;
<a name="l542"><span class="linenum"> 542</span></a>              if (extra) {
<a name="l543"><span class="linenum"> 543</span></a>                  this.applyArgExtras(extra, sub);
<a name="l544"><span class="linenum"> 544</span></a>              }
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>              Y.<a class="function" onClick="logFunction('mix')" href="../../../../_functions/mix.html" onMouseOver="funcPopup(event,'mix')">mix</a>(dispatcher, {
<a name="l547"><span class="linenum"> 547</span></a>                  eventDef     : this,
<a name="l548"><span class="linenum"> 548</span></a>                  notifier     : notifier,
<a name="l549"><span class="linenum"> 549</span></a>                  host         : node,       // I forget what this is for
<a name="l550"><span class="linenum"> 550</span></a>                  currentTarget: node,       // for generating facades
<a name="l551"><span class="linenum"> 551</span></a>                  target       : node,       // for generating facades
<a name="l552"><span class="linenum"> 552</span></a>                  el           : node._node, // For category detach
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>                  _delete      : SyntheticEvent._deleteSub
<a name="l555"><span class="linenum"> 555</span></a>              }, true);
<a name="l556"><span class="linenum"> 556</span></a>  
<a name="l557"><span class="linenum"> 557</span></a>              handle.notifier = notifier;
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>              registry.<a class="function" onClick="logFunction('register')" href="../../../../_functions/register.html" onMouseOver="funcPopup(event,'register')">register</a>(handle);
<a name="l560"><span class="linenum"> 560</span></a>  
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">            // Call the implementation's &quot;on&quot; or &quot;delegate&quot; method</span>
<a name="l562"><span class="linenum"> 562</span></a>              this[method](node, sub, notifier, filter);
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>              return handle;
<a name="l565"><span class="linenum"> 565</span></a>          },
<a name="l566"><span class="linenum"> 566</span></a>  
<a name="l567"><span class="linenum"> 567</span></a>          <span class="comment">/**</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">         * &lt;p&gt;Implementers MAY provide this method definition.&lt;/p&gt;</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">         *</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">         * &lt;p&gt;Implement this function if you want extra data extracted during</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">         * processArgs to be propagated to subscriptions on a per-node basis.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">         * That is to say, if you call &lt;code&gt;Y.on('xyz', fn, xtra, 'div')&lt;/code&gt;</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">         * the data returned from processArgs will be shared</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">         * across the subscription objects for all the divs.  If you want each</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">         * subscription to receive unique information, do that processing</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">         * here.&lt;/p&gt;</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">         *</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">         * &lt;p&gt;The default implementation adds the data extracted by processArgs</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">         * to the subscription object as &lt;code&gt;sub._extra&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">         *</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">         * @method applyArgExtras</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">         * @param extra {any} Any extra data extracted from processArgs</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">         * @param sub {Subscription} the individual subscription</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">         */</span>
<a name="l585"><span class="linenum"> 585</span></a>          applyArgExtras: function (extra, sub) {
<a name="l586"><span class="linenum"> 586</span></a>              sub._extra = extra;
<a name="l587"><span class="linenum"> 587</span></a>          },
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>          <span class="comment">/**</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">         * Removes the subscription(s) from the internal subscription dispatch</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">         * mechanism.  See &lt;code&gt;SyntheticEvent._deleteSub&lt;/code&gt;.</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">         *</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">         * @method _detach</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">         * @param args {Array} The arguments passed to</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">         *                  &lt;code&gt;node.detach(...)&lt;/code&gt;</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">         * @private</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">         * @since 3.2.0</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment">         */</span>
<a name="l599"><span class="linenum"> 599</span></a>          _detach: function (args) {
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">            // Can't use Y.all because it doesn't support window (yet?)</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">            // TODO: Does Y.all support window now?</span>
<a name="l602"><span class="linenum"> 602</span></a>              var target = args[2],
<a name="l603"><span class="linenum"> 603</span></a>                  els    = (<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(target)) ?
<a name="l604"><span class="linenum"> 604</span></a>                              <a class="function" onClick="logFunction('query')" href="../../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>(target) : <a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(target),
<a name="l605"><span class="linenum"> 605</span></a>                  node, i, len, handles, j;
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment">            // (type, fn, el, context, filter?) =&gt; (type, fn, context, filter?)</span>
<a name="l608"><span class="linenum"> 608</span></a>              args.<a class="function" onClick="logFunction('splice')" href="../../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(2, 1);
<a name="l609"><span class="linenum"> 609</span></a>  
<a name="l610"><span class="linenum"> 610</span></a>              for (i = 0, len = els.length; i &lt; len; ++i) {
<a name="l611"><span class="linenum"> 611</span></a>                  node = Y.one(els[i]);
<a name="l612"><span class="linenum"> 612</span></a>  
<a name="l613"><span class="linenum"> 613</span></a>                  if (node) {
<a name="l614"><span class="linenum"> 614</span></a>                      handles = this.getSubs(node, args);
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>                      if (handles) {
<a name="l617"><span class="linenum"> 617</span></a>                          for (j = handles.length - 1; j &gt;= 0; --j) {
<a name="l618"><span class="linenum"> 618</span></a>                              handles[j].<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l619"><span class="linenum"> 619</span></a>                          }
<a name="l620"><span class="linenum"> 620</span></a>                      }
<a name="l621"><span class="linenum"> 621</span></a>                  }
<a name="l622"><span class="linenum"> 622</span></a>              }
<a name="l623"><span class="linenum"> 623</span></a>          },
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>          <span class="comment">/**</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">         * Returns the detach handles of subscriptions on a node that satisfy a</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">         * search/filter function.  By default, the filter used is the</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">         * &lt;code&gt;subMatch&lt;/code&gt; method.</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">         *</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">         * @method getSubs</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">         * @param node {Node} the node hosting the event</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">         * @param args {Array} the array of original subscription args passed</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">         *              to &lt;code&gt;Y.on(...)&lt;/code&gt; (before</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">         *              &lt;code&gt;processArgs&lt;/code&gt;</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">         * @param filter {Function} function used to identify a subscription</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">         *              for inclusion in the returned array</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">         * @param first {Boolean} stop after the first match (used to check for</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">         *              duplicate subscriptions)</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">         * @return {EventHandle[]} detach handles for the matching subscriptions</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">         */</span>
<a name="l641"><span class="linenum"> 641</span></a>          getSubs: function (node, args, filter, first) {
<a name="l642"><span class="linenum"> 642</span></a>              var registry = SyntheticEvent.getRegistry(node, this.type),
<a name="l643"><span class="linenum"> 643</span></a>                  handles  = [],
<a name="l644"><span class="linenum"> 644</span></a>                  allHandles, i, len, handle;
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>              if (registry) {
<a name="l647"><span class="linenum"> 647</span></a>                  allHandles = registry.handles;
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>                  if (!filter) {
<a name="l650"><span class="linenum"> 650</span></a>                      filter = this.subMatch;
<a name="l651"><span class="linenum"> 651</span></a>                  }
<a name="l652"><span class="linenum"> 652</span></a>  
<a name="l653"><span class="linenum"> 653</span></a>                  for (i = 0, len = allHandles.length; i &lt; len; ++i) {
<a name="l654"><span class="linenum"> 654</span></a>                      handle = allHandles[i];
<a name="l655"><span class="linenum"> 655</span></a>                      if (filter.<a class="function" onClick="logFunction('call')" href="../../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this, handle.sub, args)) {
<a name="l656"><span class="linenum"> 656</span></a>                          if (first) {
<a name="l657"><span class="linenum"> 657</span></a>                              return handle;
<a name="l658"><span class="linenum"> 658</span></a>                          } else {
<a name="l659"><span class="linenum"> 659</span></a>                              handles.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(allHandles[i]);
<a name="l660"><span class="linenum"> 660</span></a>                          }
<a name="l661"><span class="linenum"> 661</span></a>                      }
<a name="l662"><span class="linenum"> 662</span></a>                  }
<a name="l663"><span class="linenum"> 663</span></a>              }
<a name="l664"><span class="linenum"> 664</span></a>  
<a name="l665"><span class="linenum"> 665</span></a>              return handles.length &amp;&amp; handles;
<a name="l666"><span class="linenum"> 666</span></a>          },
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>          <span class="comment">/**</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">         * &lt;p&gt;Implementers MAY override this to define what constitutes a</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">         * &amp;quot;same&amp;quot; subscription.  Override implementations should</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">         * consider the lack of a comparator as a match, so calling</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">         * &lt;code&gt;getSubs()&lt;/code&gt; with no arguments will return all subs.&lt;/p&gt;</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">         *</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">         * &lt;p&gt;Compares a set of subscription arguments against a Subscription</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">         * object to determine if they match.  The default implementation</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">         * compares the callback function against the second argument passed to</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">         * &lt;code&gt;Y.on(...)&lt;/code&gt; or &lt;code&gt;node.detach(...)&lt;/code&gt; etc.&lt;/p&gt;</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">         *</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">         * @method subMatch</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">         * @param sub {Subscription} the existing subscription</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">         * @param args {Array} the calling arguments passed to</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">         *                  &lt;code&gt;Y.on(...)&lt;/code&gt; etc.</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">         * @return {Boolean} true if the sub can be described by the args</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">         *                  present</span>
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment">         * @since 3.2.0</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">         */</span>
<a name="l687"><span class="linenum"> 687</span></a>          subMatch: function (sub, args) {
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">            // Default detach cares only about the callback matching</span>
<a name="l689"><span class="linenum"> 689</span></a>              return !args[1] || sub.fn === args[1];
<a name="l690"><span class="linenum"> 690</span></a>          }
<a name="l691"><span class="linenum"> 691</span></a>      }
<a name="l692"><span class="linenum"> 692</span></a>  }, true);
<a name="l693"><span class="linenum"> 693</span></a>  
<a name="l694"><span class="linenum"> 694</span></a>  Y.SyntheticEvent = SyntheticEvent;
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">/**</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment"> * &lt;p&gt;Defines a new event in the DOM event system.  Implementers are</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment"> * responsible for monitoring for a scenario whereby the event is fired.  A</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment"> * notifier object is provided to the functions identified below.  When the</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment"> * criteria defining the event are met, call notifier.fire( [args] ); to</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment"> * execute event subscribers.&lt;/p&gt;</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment"> *</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment"> * &lt;p&gt;The first parameter is the name of the event.  The second parameter is a</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment"> * configuration object which define the behavior of the event system when the</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment"> * new event is subscribed to or detached from.  The methods that should be</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment"> * defined in this configuration object are &lt;code&gt;on&lt;/code&gt;,</span>
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment"> * &lt;code&gt;detach&lt;/code&gt;, &lt;code&gt;delegate&lt;/code&gt;, and &lt;code&gt;detachDelegate&lt;/code&gt;.</span>
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment"> * You are free to define any other methods or properties needed to define your</span>
<a name="l709"><span class="linenum"> 709</span></a>  <span class="comment"> * event.  Be aware, however, that since the object is used to subclass</span>
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment"> * SyntheticEvent, you should avoid method names used by SyntheticEvent unless</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment"> * your intention is to override the default behavior.&lt;/p&gt;</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment"> *</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment"> * &lt;p&gt;This is a list of properties and methods that you can or should specify</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment"> * in the configuration object:&lt;/p&gt;</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment"> *</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment"> * &lt;dl&gt;</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;on&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment"> *       &lt;dd&gt;&lt;code&gt;function (node, subscription, notifier)&lt;/code&gt; The</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment"> *       implementation logic for subscription.  Any special setup you need to</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment"> *       do to create the environment for the event being fired--E.g. native</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment"> *       DOM event subscriptions.  Store subscription related objects and</span>
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment"> *       state on the &lt;code&gt;subscription&lt;/code&gt; object.  When the</span>
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment"> *       criteria have been met to fire the synthetic event, call</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment"> *       &lt;code&gt;notifier.fire(e)&lt;/code&gt;.  See Notifier's &lt;code&gt;fire()&lt;/code&gt;</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment"> *       method for details about what to pass as parameters.&lt;/dd&gt;</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment"> *</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;detach&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment"> *       &lt;dd&gt;&lt;code&gt;function (node, subscription, notifier)&lt;/code&gt; The</span>
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment"> *       implementation logic for cleaning up a detached subscription. E.g.</span>
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment"> *       detach any DOM subscriptions added in &lt;code&gt;on&lt;/code&gt;.&lt;/dd&gt;</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment"> *</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;delegate&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment"> *       &lt;dd&gt;&lt;code&gt;function (node, subscription, notifier, filter)&lt;/code&gt; The</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment"> *       implementation logic for subscription via &lt;code&gt;Y.delegate&lt;/code&gt; or</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment"> *       &lt;code&gt;node.delegate&lt;/code&gt;.  The filter is typically either a selector</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment"> *       string or a function.  You can use</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment"> *       &lt;code&gt;Y.delegate.compileFilter(selectorString)&lt;/code&gt; to create a</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment"> *       filter function from a selector string if needed.  The filter function</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment"> *       expects an event object as input and should output either null, a</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment"> *       matching Node, or an array of matching Nodes.  Otherwise, this acts</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment"> *       like &lt;code&gt;on&lt;/code&gt; DOM event subscriptions.  Store subscription</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment"> *       related objects and information on the &lt;code&gt;subscription&lt;/code&gt;</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment"> *       object.  When the criteria have been met to fire the synthetic event,</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment"> *       call &lt;code&gt;notifier.fire(e)&lt;/code&gt; as noted above.&lt;/dd&gt;</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment"> *</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;detachDelegate&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment"> *       &lt;dd&gt;&lt;code&gt;function (node, subscription, notifier)&lt;/code&gt; The</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment"> *       implementation logic for cleaning up a detached delegate subscription.</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment"> *       E.g. detach any DOM delegate subscriptions added in</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment"> *       &lt;code&gt;delegate&lt;/code&gt;.&lt;/dd&gt;</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment"> *</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;publishConfig&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment"> *       &lt;dd&gt;(Object) The configuration object that will be used to instantiate</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment"> *       the underlying CustomEvent. See Notifier's &lt;code&gt;fire&lt;/code&gt; method</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment"> *       for details.&lt;/dd&gt;</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment"> *</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;processArgs&lt;/code&gt;&lt;/dt</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> *       &lt;dd&gt;</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> *          &lt;p&gt;&lt;code&gt;function (argArray, fromDelegate)&lt;/code&gt; Optional method</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> *          to extract any additional arguments from the subscription</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> *          signature.  Using this allows &lt;code&gt;on&lt;/code&gt; or</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment"> *          &lt;code&gt;delegate&lt;/code&gt; signatures like</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment"> *          &lt;code&gt;node.on(&amp;quot;hover&amp;quot;, overCallback,</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment"> *          outCallback)&lt;/code&gt;.&lt;/p&gt;</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment"> *          &lt;p&gt;When processing an atypical argument signature, make sure the</span>
<a name="l766"><span class="linenum"> 766</span></a>  <span class="comment"> *          args array is returned to the normal signature before returning</span>
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment"> *          from the function.  For example, in the &amp;quot;hover&amp;quot; example</span>
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment"> *          above, the &lt;code&gt;outCallback&lt;/code&gt; needs to be &lt;code&gt;splice&lt;/code&gt;d</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment"> *          out of the array.  The expected signature of the args array for</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment"> *          &lt;code&gt;on()&lt;/code&gt; subscriptions is:&lt;/p&gt;</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment"> *          &lt;pre&gt;</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment"> *              &lt;code&gt;[type, callback, target, contextOverride, argN...]&lt;/code&gt;</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment"> *          &lt;/pre&gt;</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment"> *          &lt;p&gt;And for &lt;code&gt;delegate()&lt;/code&gt;:&lt;/p&gt;</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment"> *          &lt;pre&gt;</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment"> *              &lt;code&gt;[type, callback, target, filter, contextOverride, argN...]&lt;/code&gt;</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment"> *          &lt;/pre&gt;</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment"> *          &lt;p&gt;where &lt;code&gt;target&lt;/code&gt; is the node the event is being</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment"> *          subscribed for.  You can see these signatures documented for</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment"> *          &lt;code&gt;Y.on()&lt;/code&gt; and &lt;code&gt;Y.delegate()&lt;/code&gt; respectively.&lt;/p&gt;</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment"> *          &lt;p&gt;Whatever gets returned from the function will be stored on the</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment"> *          &lt;code&gt;subscription&lt;/code&gt; object under</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment"> *          &lt;code&gt;subscription._extra&lt;/code&gt;.&lt;/p&gt;&lt;/dd&gt;</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment"> *   &lt;dt&gt;&lt;code&gt;subMatch&lt;/code&gt;&lt;/dt&gt;</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment"> *       &lt;dd&gt;</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment"> *           &lt;p&gt;&lt;code&gt;function (sub, args)&lt;/code&gt;  Compares a set of</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment"> *           subscription arguments against a Subscription object to determine</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment"> *           if they match.  The default implementation compares the callback</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment"> *           function against the second argument passed to</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment"> *           &lt;code&gt;Y.on(...)&lt;/code&gt; or &lt;code&gt;node.detach(...)&lt;/code&gt; etc.&lt;/p&gt;</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment"> *       &lt;/dd&gt;</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment"> * &lt;/dl&gt;</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment"> *</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment"> * @method define</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment"> * @param type {String} the name of the event</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment"> * @param config {Object} the prototype definition for the new event (see above)</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment"> * @param force {Boolean} override an existing event (use with caution)</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment"> * @return {SyntheticEvent} the subclass implementation instance created to</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment"> *              handle event subscriptions of this type</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment"> * @static</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment"> * @for Event</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment"> * @since 3.1.0</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment"> * @in event-synthetic</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment"> */</span>
<a name="l805"><span class="linenum"> 805</span></a>  Y.Event.define = function (type, config, force) {
<a name="l806"><span class="linenum"> 806</span></a>      var eventDef, Impl, synth;
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>      if (type &amp;&amp; type.type) {
<a name="l809"><span class="linenum"> 809</span></a>          eventDef = type;
<a name="l810"><span class="linenum"> 810</span></a>          force = config;
<a name="l811"><span class="linenum"> 811</span></a>      } else if (config) {
<a name="l812"><span class="linenum"> 812</span></a>          eventDef = Y.<a class="function" onClick="logFunction('merge')" href="../../../../_functions/merge.html" onMouseOver="funcPopup(event,'merge')">merge</a>({ type: type }, config);
<a name="l813"><span class="linenum"> 813</span></a>      }
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>      if (eventDef) {
<a name="l816"><span class="linenum"> 816</span></a>          if (force || !Y.Node.DOM_EVENTS[eventDef.type]) {
<a name="l817"><span class="linenum"> 817</span></a>              Impl = function () {
<a name="l818"><span class="linenum"> 818</span></a>                  SyntheticEvent.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l819"><span class="linenum"> 819</span></a>              };
<a name="l820"><span class="linenum"> 820</span></a>              Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(Impl, SyntheticEvent, eventDef);
<a name="l821"><span class="linenum"> 821</span></a>              synth = new Impl();
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>              type = synth.type;
<a name="l824"><span class="linenum"> 824</span></a>  
<a name="l825"><span class="linenum"> 825</span></a>              Y.Node.DOM_EVENTS[type] = Y.Env.evt.plugins[type] = {
<a name="l826"><span class="linenum"> 826</span></a>                  eventDef: synth,
<a name="l827"><span class="linenum"> 827</span></a>  
<a name="l828"><span class="linenum"> 828</span></a>                  on: function () {
<a name="l829"><span class="linenum"> 829</span></a>                      return synth._on(<a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(arguments));
<a name="l830"><span class="linenum"> 830</span></a>                  },
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>                  delegate: function () {
<a name="l833"><span class="linenum"> 833</span></a>                      return synth._on(<a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(arguments), true);
<a name="l834"><span class="linenum"> 834</span></a>                  },
<a name="l835"><span class="linenum"> 835</span></a>  
<a name="l836"><span class="linenum"> 836</span></a>                  detach: function () {
<a name="l837"><span class="linenum"> 837</span></a>                      return synth._detach(<a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(arguments));
<a name="l838"><span class="linenum"> 838</span></a>                  }
<a name="l839"><span class="linenum"> 839</span></a>              };
<a name="l840"><span class="linenum"> 840</span></a>  
<a name="l841"><span class="linenum"> 841</span></a>          }
<a name="l842"><span class="linenum"> 842</span></a>      } else if (<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(type) || <a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(type)) {
<a name="l843"><span class="linenum"> 843</span></a>          Y.Array.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(<a class="function" onClick="logFunction('toArray')" href="../../../../_functions/toarray.html" onMouseOver="funcPopup(event,'toarray')">toArray</a>(type), function (t) {
<a name="l844"><span class="linenum"> 844</span></a>              Y.Node.DOM_EVENTS[t] = 1;
<a name="l845"><span class="linenum"> 845</span></a>          });
<a name="l846"><span class="linenum"> 846</span></a>      }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>      return synth;
<a name="l849"><span class="linenum"> 849</span></a>  };
<a name="l850"><span class="linenum"> 850</span></a>  
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>  }, '3.17.2', {&quot;requires&quot;: [&quot;node-base&quot;, &quot;event-custom-complex&quot;]});
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'extend': ['extend', 'Extend the lifetime of this lock. Not supported by all factories. ', [['lib/classes/lock','lock.php',81]], 1336],
'on': ['on', '', [['lib/requirejs','require.js',506]], 3494],
'detach': ['detach', 'Clean-up method for dom ready events ', [['lib/jquery','jquery-1.11.2.js',3477],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',1824],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',2114],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',1824],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',2114],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',1824],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',2114],['lib/phpexcel/PHPExcel','Cell.php',111]], 624],
'isarray': ['isarray', '', [['lib/requirejs','require.js',45]], 818],
'push': ['push', 'Push the close HTML for a recently opened container onto the stack. ', [['lib','outputlib.php',2008],['lib/evalmath','evalmath.class.php',452],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',62],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/mustache/src/Mustache','Context.php',32],['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Stack.php',23],['webservice/amf/testclient','AMFTester.mxml',391],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',55]], 4171],
'query': ['query', 'PEAR DB Compat - do not use internally. ', [['lib/adodb','adodb.inc.php',785],['lib/google/src/Google/Service','Dfareporting.php',389],['lib/google/src/Google/Service','Dfareporting.php',598],['lib/google/src/Google/Service','Bigquery.php',713],['lib/google/src/Google/Service','Webmasters.php',443],['lib/google/src/Google/Service','YouTubeAnalytics.php',230],['lib/alfresco/Service','Session.php',212],['repository/googledocs','lib.php',288],['lib/google/src/Google/Service','Calendar.php',1754]], 427],
'splice': ['splice', 'Splice in multiple elements at hole.  Functional specification in terms of array_splice: ', [['lib/htmlpurifier/HTMLPurifier','Zipper.php',122]], 532],
'toarray': ['toarray', 'Cast callback to array ', [['lib/zend/Zend/Server/Method','Callback.php',186],['lib/horde/framework/Horde/Mime','Headers.php',99],['lib/zend/Zend/Server','Definition.php',194],['lib/zend/Zend/Server/Method','Parameter.php',199],['lib/zend/Zend/Server/Method','Definition.php',271],['lib/phpexcel/PHPExcel','Worksheet.php',2515],['lib/zend/Zend/Server/Method','Prototype.php',196],['lib/zend/Zend','Date.php',495],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media','editor_plugin_src.js',35],['lib/pear/HTML','QuickForm.php',1795],['lib/pear/HTML/QuickForm/Renderer','Array.php',158],['lib/phpexcel/PHPExcel','HashTable.php',182],['lib/htmlpurifier/HTMLPurifier','Zipper.php',42]], 144],
'apply': ['apply', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16662]], 2571],
'unregister': ['unregister', 'Unregisters the autoloader ', [['lib/lessphp','Autoloader.php',45],['lib/dml','sqlsrv_native_moodle_recordset.php',69]], 19],
'shift': ['shift', 'Shifts an element off the front of the queue. ', [['lib/htmlpurifier/HTMLPurifier','Queue.php',29]], 368],
'add': ['add', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',454],['blog','locallib.php',242],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['backup/cc','validator.php',51],['lib/google/src/Google/Http','Batch.php',47],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',47],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/lessphp/Output','Mapped.php',50],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/google/src/Google/Service','Webmasters.php',375],['lib/horde/framework/Horde','Variables.php',297],['lib','outputcomponents.php',2700],['lib','outputcomponents.php',3375],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/zend/Zend','Date.php',1081],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['comment','lib.php',675],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',86],['lib/horde/framework/Horde','Stream.php',116],['backup/cc/cc_lib/gral_lib','cssparser.php',111],['lib/lessphp','Output.php',18],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib','adminlib.php',736],['lib','adminlib.php',895],['lib','adminlib.php',1447],['lib','csslib.php',1508],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib','navigationlib.php',302],['lib','navigationlib.php',758],['lib','navigationlib.php',3288],['lib','navigationlib.php',3542],['lib/phpexcel/PHPExcel','HashTable.php',85],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454]], 5988],
'register': ['register', 'Registers a custom scheme to the cache, bypassing reflection. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',70],['lib/zend/Zend/Service/Amazon/Ec2','Image.php',39],['lib/htmlpurifier/HTMLPurifier','Context.php',19],['lib/google/src/Google/Service','Spectrum.php',163],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16599],['lib/lessphp','Autoloader.php',25],['lib/simplepie/library/SimplePie','Cache.php',106],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',18],['lib/phpexcel/PHPExcel','Autoloader.php',48],['lib/mustache/src/Mustache','Autoloader.php',39],['lib/phpexcel/PHPExcel/Shared','ZipStreamWrapper.php',65],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',48],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',76],['lib/simplepie/library/SimplePie','Registry.php',106],['lib/minify/lib/Minify','Loader.php',23]], 307],
'size': ['size', 'Return the size (in bytes) of the message. ', [['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',224],['lib/horde/framework/Horde/Imap/Client/Search','Query.php',507]], 508],
'syntheticevent': ['syntheticevent', '<p>Wrapper class for the integration of new events into the YUI event infrastructure.  Don\'t instantiate this object directly, use <code>Y.Event.define(type, config)</code>.  See that method for details.</p> ', [['lib/yuilib/3.17.2/event-synthetic','event-synthetic.js',216],['lib/yuilib/3.17.2/event-synthetic','event-synthetic-debug.js',216]], 0],
'call': ['call', 'Execute client WS request with token authentication ', [['webservice/rest','lib.php',69],['webservice/soap','lib.php',65],['lib/google/src/Google/Service','Resource.php',71],['webservice/xmlrpc','lib.php',63],['lib/markdown','Readme.md',68],['lib/simplepie/library/SimplePie','Registry.php',194],['lib/zend/Zend/XmlRpc','Client.php',300],['lib','flickrlib.php',254]], 4447],
'mix': ['mix', '', [['lib/lessphp','Functions.php',299]], 924],
'isstring': ['isstring', '', [['lib/lessphp','Functions.php',655]], 898],
'notifier': ['notifier', '<p>The triggering mechanism used by SyntheticEvents.</p> ', [['lib/yuilib/3.17.2/event-synthetic','event-synthetic.js',26],['lib/yuilib/3.17.2/event-synthetic','event-synthetic-debug.js',26]], 2],
'synthregistry': ['synthregistry', 'Manager object for synthetic event subscriptions to aggregate multiple synths on the same node without colliding with actual DOM subscription entries in the global map of DOM subscriptions.  Also facilitates proper cleanup on page unload. ', [['lib/yuilib/3.17.2/event-synthetic','event-synthetic.js',125],['lib/yuilib/3.17.2/event-synthetic','event-synthetic-debug.js',125]], 2],
'merge': ['merge', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',1221],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table','editor_plugin_src.js',279],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',3525],['lib/horde/framework/Horde','Variables.php',285],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',3525],['lib/horde/framework/Horde/Imap/Client/Data','Fetch.php',458],['lib/editor/atto/yui/src/rangy/js','rangy-cssclassapplier.js',295],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/lists','editor_plugin_src.js',115]], 666],
'each': ['each', '', [], 2224]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
