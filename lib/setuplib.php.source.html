<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/setuplib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='setuplib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="setuplib.php.html">setuplib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="setuplib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="setuplib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * These functions are required very early in the Moodle</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * setup process, before any of the main libraries are</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * loaded.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package    core</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">// Debug levels - always keep the values in ascending order!</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/** No warnings and errors at all */</span>
<a name="l32"><span class="linenum">  32</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('DEBUG_NONE')" href="../_constants/DEBUG_NONE.html" onMouseOver="constPopup(event,'DEBUG_NONE')">DEBUG_NONE</a>', 0);
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/** Fatal errors only */</span>
<a name="l34"><span class="linenum">  34</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('DEBUG_MINIMAL')" href="../_constants/DEBUG_MINIMAL.html" onMouseOver="constPopup(event,'DEBUG_MINIMAL')">DEBUG_MINIMAL</a>', E_ERROR | E_PARSE);
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/** Errors, warnings and notices */</span>
<a name="l36"><span class="linenum">  36</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('DEBUG_NORMAL')" href="../_constants/DEBUG_NORMAL.html" onMouseOver="constPopup(event,'DEBUG_NORMAL')">DEBUG_NORMAL</a>', E_ERROR | E_PARSE | E_WARNING | E_NOTICE);
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">/** All problems except strict PHP warnings */</span>
<a name="l38"><span class="linenum">  38</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('DEBUG_ALL')" href="../_constants/DEBUG_ALL.html" onMouseOver="constPopup(event,'DEBUG_ALL')">DEBUG_ALL</a>', E_ALL &amp; ~E_STRICT);
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">/** DEBUG_ALL with all debug messages and strict warnings */</span>
<a name="l40"><span class="linenum">  40</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>', E_ALL | E_STRICT);
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">/** Remove any memory limits */</span>
<a name="l43"><span class="linenum">  43</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('MEMORY_UNLIMITED')" href="../_constants/MEMORY_UNLIMITED.html" onMouseOver="constPopup(event,'MEMORY_UNLIMITED')">MEMORY_UNLIMITED</a>', -1);
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">/** Standard memory limit for given platform */</span>
<a name="l45"><span class="linenum">  45</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('MEMORY_STANDARD')" href="../_constants/MEMORY_STANDARD.html" onMouseOver="constPopup(event,'MEMORY_STANDARD')">MEMORY_STANDARD</a>', -2);
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">/**</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * Large memory limit for given platform - used in cron, upgrade, and other places that need a lot of memory.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * Can be overridden with $CFG-&gt;extramemorylimit setting.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> */</span>
<a name="l50"><span class="linenum">  50</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('MEMORY_EXTRA')" href="../_constants/MEMORY_EXTRA.html" onMouseOver="constPopup(event,'MEMORY_EXTRA')">MEMORY_EXTRA</a>', -3);
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">/** Extremely large memory limit - not recommended for standard scripts */</span>
<a name="l52"><span class="linenum">  52</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('MEMORY_HUGE')" href="../_constants/MEMORY_HUGE.html" onMouseOver="constPopup(event,'MEMORY_HUGE')">MEMORY_HUGE</a>', -4);
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">/**</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> * Simple class. It is usually used instead of stdClass because it looks</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * more familiar to Java developers ;-) Do not use for type checking of</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * function parameters. Please use stdClass instead.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> *</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * @package    core</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * @copyright  2009 Petr Skoda  {@link http://skodak.org}</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * @deprecated since 2.0</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> */</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('object')" href="../_classes/object.html" onMouseOver="classPopup(event,'object')">object</a> extends stdClass {};
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">/**</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment"> * Base Moodle Exception class</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment"> *</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment"> * Although this class is defined here, you cannot throw a moodle_exception until</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment"> * after moodlelib.php has been included (which will happen very soon).</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment"> *</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment"> * @package    core</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment"> * @copyright  2008 Petr Skoda  {@link http://skodak.org}</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment"> */</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Exception')" href="../_classes/exception.html" onMouseOver="classPopup(event,'exception')">Exception</a> {
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>      <span class="comment">/**</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * @var string The name of the string from error.php to print</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     */</span>
<a name="l84"><span class="linenum">  84</span></a>      public <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>      <span class="comment">/**</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * @var string The name of module</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     */</span>
<a name="l89"><span class="linenum">  89</span></a>      public <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>;
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>      <span class="comment">/**</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * @var mixed Extra words and phrases that might be required in the error string</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     */</span>
<a name="l94"><span class="linenum">  94</span></a>      public <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>;
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>      <span class="comment">/**</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @var string The url where the user will be prompted to continue. If no url is provided the user will be directed to the site index page.</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     */</span>
<a name="l99"><span class="linenum">  99</span></a>      public <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>      <span class="comment">/**</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     * @var string Optional information to aid the debugging process</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     */</span>
<a name="l104"><span class="linenum"> 104</span></a>      public <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>;
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      <span class="comment">/**</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * Constructor</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * @param string $errorcode The name of the string from error.php to print</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * @param string $module name of module</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @param string $link The url where the user will be prompted to continue. If no url is provided the user will be directed to the site index page.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @param mixed $a Extra words and phrases that might be required in the error string</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * @param string $debuginfo optional debugging information</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     */</span>
<a name="l114"><span class="linenum"> 114</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>='', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>='', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>=NULL, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>=null) {
<a name="l115"><span class="linenum"> 115</span></a>          if (empty(<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>) || <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> == 'moodle' || <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> == 'core') {
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> = 'error';
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a> = <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('module')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/module.html">module</a>    = <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>;
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('link')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/link.html">link</a>      = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('a')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/a.html">a</a>         = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>;
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>) ? null : (string)<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>;
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          if (<a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>)) {
<a name="l126"><span class="linenum"> 126</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l127"><span class="linenum"> 127</span></a>              <a class="var it38666" onMouseOver="hilite(38666)" onMouseOut="lolite()" onClick="logVariable('haserrorstring')" href="../_variables/haserrorstring.html">$haserrorstring</a> = true;
<a name="l128"><span class="linenum"> 128</span></a>          } else {
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> . '/' . <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l130"><span class="linenum"> 130</span></a>              <a class="var it38666" onMouseOver="hilite(38666)" onMouseOut="lolite()" onClick="logVariable('haserrorstring')" href="../_variables/haserrorstring.html">$haserrorstring</a> = false;
<a name="l131"><span class="linenum"> 131</span></a>          }
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>') and <a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a> and <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>) {
<a name="l134"><span class="linenum"> 134</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = &quot;<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> (<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)&quot;;
<a name="l135"><span class="linenum"> 135</span></a>          }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>          if (!<a class="var it38666" onMouseOver="hilite(38666)" onMouseOut="lolite()" onClick="logVariable('haserrorstring')" href="../_variables/haserrorstring.html">$haserrorstring</a> and <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>') and <a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>) {
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">            // Append the contents of $a to $debuginfo so helpful information isn't lost.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">            // This emulates what {@link get_exception_info()} does. Unfortunately that</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">            // function is not used by phpunit.</span>
<a name="l141"><span class="linenum"> 141</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> .= <a class="constant" onClick="logConstant('PHP_EOL')" href="../_constants/PHP_EOL.html" onMouseOver="constPopup(event,'PHP_EOL')">PHP_EOL</a>.'<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> contents: '.<a class="phpfunction" onClick="logFunction('print_r')" href="../_functions/print_r.html" onMouseOver="phpfuncPopup(event,'print_r')">print_r</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, true);
<a name="l142"><span class="linenum"> 142</span></a>          }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, 0);
<a name="l145"><span class="linenum"> 145</span></a>      }
<a name="l146"><span class="linenum"> 146</span></a>  }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment"> * Course/activity access exception.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment"> *</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment"> * This exception is thrown from require_login()</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment"> *</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment"> * @package    core_access</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> * @copyright  2010 Petr Skoda  {@link http://skodak.org}</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment"> */</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('require_login_exception')" href="../_classes/require_login_exception.html" onMouseOver="classPopup(event,'require_login_exception')">require_login_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l158"><span class="linenum"> 158</span></a>      <span class="comment">/**</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * Constructor</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * @param string $debuginfo Information to aid the debugging process</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     */</span>
<a name="l162"><span class="linenum"> 162</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>) {
<a name="l163"><span class="linenum"> 163</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('requireloginerror', 'error', '', NULL, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l164"><span class="linenum"> 164</span></a>      }
<a name="l165"><span class="linenum"> 165</span></a>  }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">/**</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment"> * Web service parameter exception class</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment"> * @deprecated since Moodle 2.2 - use moodle exception instead</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment"> * This exception must be thrown to the web service client when a web service parameter is invalid</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment"> * The error string is gotten from webservice.php</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> */</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('webservice_parameter_exception')" href="../_classes/webservice_parameter_exception.html" onMouseOver="classPopup(event,'webservice_parameter_exception')">webservice_parameter_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l174"><span class="linenum"> 174</span></a>      <span class="comment">/**</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     * Constructor</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param string $errorcode The name of the string from webservice.php to print</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @param string $a The name of the parameter</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * @param string $debuginfo Optional information to aid debugging</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     */</span>
<a name="l180"><span class="linenum"> 180</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>=null, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = '', <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l181"><span class="linenum"> 181</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, 'webservice', '', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l182"><span class="linenum"> 182</span></a>      }
<a name="l183"><span class="linenum"> 183</span></a>  }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">/**</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> * Exceptions indicating user does not have permissions to do something</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> * and the execution can not continue.</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment"> *</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> * @package    core_access</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> * @copyright  2009 Petr Skoda  {@link http://skodak.org}</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment"> */</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('required_capability_exception')" href="../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * Constructor</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @param context $context The context used for the capability check</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @param string $capability The required capability</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * @param string $errormessage The error message to show the user</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @param string $stringfile</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     */</span>
<a name="l201"><span class="linenum"> 201</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it2621" onMouseOver="hilite(2621)" onMouseOut="lolite()" onClick="logVariable('capability')" href="../_variables/capability.html">$capability</a>, <a class="var it3102" onMouseOver="hilite(3102)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>, <a class="var it28802" onMouseOver="hilite(28802)" onMouseOut="lolite()" onClick="logVariable('stringfile')" href="../_variables/stringfile.html">$stringfile</a>) {
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it28843" onMouseOver="hilite(28843)" onMouseOut="lolite()" onClick="logVariable('capabilityname')" href="../_variables/capabilityname.html">$capabilityname</a> = <a class="function" onClick="logFunction('get_capability_string')" href="../_functions/get_capability_string.html" onMouseOver="funcPopup(event,'get_capability_string')">get_capability_string</a>(<a class="var it2621" onMouseOver="hilite(2621)" onMouseOut="lolite()" onClick="logVariable('capability')" href="../_variables/capability.html">$capability</a>);
<a name="l203"><span class="linenum"> 203</span></a>          if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a> and <a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/:view$/', <a class="var it2621" onMouseOver="hilite(2621)" onMouseOut="lolite()" onClick="logVariable('capability')" href="../_variables/capability.html">$capability</a>)) {
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">            // we can not go to mod/xx/view.php because we most probably do not have cap to view it, let's go to course instead</span>
<a name="l205"><span class="linenum"> 205</span></a>              <a class="var it4943" onMouseOver="hilite(4943)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../_variables/parentcontext.html">$parentcontext</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context')" href="../_functions/get_parent_context.html" onMouseOver="funcPopup(event,'get_parent_context')">get_parent_context</a>();
<a name="l206"><span class="linenum"> 206</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it4943" onMouseOver="hilite(4943)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../_variables/parentcontext.html">$parentcontext</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>();
<a name="l207"><span class="linenum"> 207</span></a>          } else {
<a name="l208"><span class="linenum"> 208</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>();
<a name="l209"><span class="linenum"> 209</span></a>          }
<a name="l210"><span class="linenum"> 210</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it3102" onMouseOver="hilite(3102)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>, <a class="var it28802" onMouseOver="hilite(28802)" onMouseOut="lolite()" onClick="logVariable('stringfile')" href="../_variables/stringfile.html">$stringfile</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it28843" onMouseOver="hilite(28843)" onMouseOut="lolite()" onClick="logVariable('capabilityname')" href="../_variables/capabilityname.html">$capabilityname</a>);
<a name="l211"><span class="linenum"> 211</span></a>      }
<a name="l212"><span class="linenum"> 212</span></a>  }
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">/**</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> * Exception indicating programming error, must be fixed by a programer. For example</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment"> * a core API might throw this type of exception if a plugin calls it incorrectly.</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> *</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> * @package    core</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment"> * @copyright  2008 Petr Skoda  {@link http://skodak.org}</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment"> */</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l224"><span class="linenum"> 224</span></a>      <span class="comment">/**</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * Constructor</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @param string $hint short description of problem</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @param string $debuginfo detailed information how to fix problem</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     */</span>
<a name="l229"><span class="linenum"> 229</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../_variables/hint.html">$hint</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>=null) {
<a name="l230"><span class="linenum"> 230</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('codingerror', 'debug', '', <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../_variables/hint.html">$hint</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l231"><span class="linenum"> 231</span></a>      }
<a name="l232"><span class="linenum"> 232</span></a>  }
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">/**</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment"> * Exception indicating malformed parameter problem.</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment"> * This exception is not supposed to be thrown when processing</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment"> * user submitted data in forms. It is more suitable</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment"> * for WS and other low level stuff.</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment"> *</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment"> * @package    core</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment"> * @copyright  2009 Petr Skoda  {@link http://skodak.org}</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> */</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l246"><span class="linenum"> 246</span></a>      <span class="comment">/**</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     * Constructor</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @param string $debuginfo some detailed information</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     */</span>
<a name="l250"><span class="linenum"> 250</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>=null) {
<a name="l251"><span class="linenum"> 251</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('invalidparameter', 'debug', '', null, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l252"><span class="linenum"> 252</span></a>      }
<a name="l253"><span class="linenum"> 253</span></a>  }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">/**</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment"> * Exception indicating malformed response problem.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment"> * This exception is not supposed to be thrown when processing</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment"> * user submitted data in forms. It is more suitable</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment"> * for WS and other low level stuff.</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment"> */</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('invalid_response_exception')" href="../_classes/invalid_response_exception.html" onMouseOver="classPopup(event,'invalid_response_exception')">invalid_response_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l262"><span class="linenum"> 262</span></a>      <span class="comment">/**</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * Constructor</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @param string $debuginfo some detailed information</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     */</span>
<a name="l266"><span class="linenum"> 266</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>=null) {
<a name="l267"><span class="linenum"> 267</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('invalidresponse', 'debug', '', null, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l268"><span class="linenum"> 268</span></a>      }
<a name="l269"><span class="linenum"> 269</span></a>  }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">/**</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment"> * An exception that indicates something really weird happened. For example,</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment"> * if you do switch ($context-&gt;contextlevel), and have one case for each</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment"> * CONTEXT_... constant. You might throw an invalid_state_exception in the</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment"> * default case, to just in case something really weird is going on, and</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment"> * $context-&gt;contextlevel is invalid - rather than ignoring this possibility.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment"> *</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment"> * @package    core</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment"> * @copyright  2009 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment"> */</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('invalid_state_exception')" href="../_classes/invalid_state_exception.html" onMouseOver="classPopup(event,'invalid_state_exception')">invalid_state_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l284"><span class="linenum"> 284</span></a>      <span class="comment">/**</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * Constructor</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @param string $hint short description of problem</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * @param string $debuginfo optional more detailed information</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     */</span>
<a name="l289"><span class="linenum"> 289</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../_variables/hint.html">$hint</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>=null) {
<a name="l290"><span class="linenum"> 290</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('invalidstatedetected', 'debug', '', <a class="var it4735" onMouseOver="hilite(4735)" onMouseOut="lolite()" onClick="logVariable('hint')" href="../_variables/hint.html">$hint</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l291"><span class="linenum"> 291</span></a>      }
<a name="l292"><span class="linenum"> 292</span></a>  }
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">/**</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * An exception that indicates incorrect permissions in $CFG-&gt;dataroot</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> *</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * @package    core</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * @copyright  2010 Petr Skoda {@link http://skodak.org}</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> */</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('invalid_dataroot_permissions')" href="../_classes/invalid_dataroot_permissions.html" onMouseOver="classPopup(event,'invalid_dataroot_permissions')">invalid_dataroot_permissions</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l303"><span class="linenum"> 303</span></a>      <span class="comment">/**</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * Constructor</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     * @param string $debuginfo optional more detailed information</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     */</span>
<a name="l307"><span class="linenum"> 307</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = NULL) {
<a name="l308"><span class="linenum"> 308</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('invaliddatarootpermissions', 'error', '', NULL, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l309"><span class="linenum"> 309</span></a>      }
<a name="l310"><span class="linenum"> 310</span></a>  }
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">/**</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment"> * An exception that indicates that file can not be served</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment"> *</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment"> * @package    core</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment"> * @subpackage lib</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> * @copyright  2010 Petr Skoda {@link http://skodak.org}</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> */</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('file_serving_exception')" href="../_classes/file_serving_exception.html" onMouseOver="classPopup(event,'file_serving_exception')">file_serving_exception</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a> {
<a name="l321"><span class="linenum"> 321</span></a>      <span class="comment">/**</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     * Constructor</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">     * @param string $debuginfo optional more detailed information</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     */</span>
<a name="l325"><span class="linenum"> 325</span></a>      function <a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = NULL) {
<a name="l326"><span class="linenum"> 326</span></a>          parent::<a class="function" onClick="logFunction('__construct')" href="../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>('cannotservefile', 'error', '', NULL, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l327"><span class="linenum"> 327</span></a>      }
<a name="l328"><span class="linenum"> 328</span></a>  }
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">/**</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment"> * Default exception handler, uncaught exceptions are equivalent to error() in 1.9 and earlier</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment"> *</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment"> * @param Exception $ex</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment"> * @return void -does not return. Terminates execution!</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment"> */</span>
<a name="l336"><span class="linenum"> 336</span></a>  function <a class="function" onClick="logFunction('default_exception_handler')" href="../_functions/default_exception_handler.html" onMouseOver="funcPopup(event,'default_exception_handler')">default_exception_handler</a>(<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>) {
<a name="l337"><span class="linenum"> 337</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a>, <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">    // detect active db transactions, rollback and log as error</span>
<a name="l340"><span class="linenum"> 340</span></a>      <a class="function" onClick="logFunction('abort_all_db_transactions')" href="../_functions/abort_all_db_transactions.html" onMouseOver="funcPopup(event,'abort_all_db_transactions')">abort_all_db_transactions</a>();
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>      if ((<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a> instanceof required_capability_exception) &amp;&amp; !<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a> &amp;&amp; !<a class="constant" onClick="logConstant('AJAX_SCRIPT')" href="../_constants/AJAX_SCRIPT.html" onMouseOver="constPopup(event,'AJAX_SCRIPT')">AJAX_SCRIPT</a> &amp;&amp; !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('autologinguests')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/autologinguests.html">autologinguests</a>) &amp;&amp; !empty(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('autologinguest')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/autologinguest.html">autologinguest</a>)) {
<a name="l343"><span class="linenum"> 343</span></a>          <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('wantsurl')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/wantsurl.html">wantsurl</a> = <a class="function" onClick="logFunction('qualified_me')" href="../_functions/qualified_me.html" onMouseOver="funcPopup(event,'qualified_me')">qualified_me</a>();
<a name="l344"><span class="linenum"> 344</span></a>          <a class="function" onClick="logFunction('redirect')" href="../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="function" onClick="logFunction('get_login_url')" href="../_functions/get_login_url.html" onMouseOver="funcPopup(event,'get_login_url')">get_login_url</a>());
<a name="l345"><span class="linenum"> 345</span></a>      }
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> = <a class="function" onClick="logFunction('get_exception_info')" href="../_functions/get_exception_info.html" onMouseOver="funcPopup(event,'get_exception_info')">get_exception_info</a>(<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>);
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>      if (<a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('', <a class="constant" onClick="logConstant('DEBUG_MINIMAL')" href="../_constants/DEBUG_MINIMAL.html" onMouseOver="constPopup(event,'DEBUG_MINIMAL')">DEBUG_MINIMAL</a>)) {
<a name="l350"><span class="linenum"> 350</span></a>          <a class="var it16216" onMouseOver="hilite(16216)" onMouseOut="lolite()" onClick="logVariable('logerrmsg')" href="../_variables/logerrmsg.html">$logerrmsg</a> = &quot;Default exception handler: &quot;.<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>.' Debug: '.<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>.&quot;\n&quot;.<a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, true);
<a name="l351"><span class="linenum"> 351</span></a>          <a class="phpfunction" onClick="logFunction('error_log')" href="../_functions/error_log.html" onMouseOver="phpfuncPopup(event,'error_log')">error_log</a>(<a class="var it16216" onMouseOver="hilite(16216)" onMouseOut="lolite()" onClick="logVariable('logerrmsg')" href="../_variables/logerrmsg.html">$logerrmsg</a>);
<a name="l352"><span class="linenum"> 352</span></a>      }
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>      if (<a class="function" onClick="logFunction('is_early_init')" href="../_functions/is_early_init.html" onMouseOver="funcPopup(event,'is_early_init')">is_early_init</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>)) {
<a name="l355"><span class="linenum"> 355</span></a>          echo <a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a>::<a class="function" onClick="logFunction('early_error')" href="../_functions/early_error.html" onMouseOver="funcPopup(event,'early_error')">early_error</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('link')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a>);
<a name="l356"><span class="linenum"> 356</span></a>      } else {
<a name="l357"><span class="linenum"> 357</span></a>          try {
<a name="l358"><span class="linenum"> 358</span></a>              if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>) {
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">                // If you enable db debugging and exception is thrown, the print footer prints a lot of rubbish</span>
<a name="l360"><span class="linenum"> 360</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_debug')" href="../_functions/set_debug.html" onMouseOver="funcPopup(event,'set_debug')">set_debug</a>(0);
<a name="l361"><span class="linenum"> 361</span></a>              }
<a name="l362"><span class="linenum"> 362</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('fatal_error')" href="../_functions/fatal_error.html" onMouseOver="funcPopup(event,'fatal_error')">fatal_error</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('link')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>);
<a name="l363"><span class="linenum"> 363</span></a>          } catch (Exception <a class="var it38667" onMouseOver="hilite(38667)" onMouseOut="lolite()" onClick="logVariable('out_ex')" href="../_variables/out_ex.html">$out_ex</a>) {
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">            // default exception handler MUST not throw any exceptions!!</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">            // the problem here is we do not know if page already started or not, we only know that somebody messed up in outputlib or theme</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">            // so we just print at least something instead of &quot;Exception thrown without a stack frame in Unknown on line 0&quot;:-(</span>
<a name="l367"><span class="linenum"> 367</span></a>              if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a> or <a class="constant" onClick="logConstant('AJAX_SCRIPT')" href="../_constants/AJAX_SCRIPT.html" onMouseOver="constPopup(event,'AJAX_SCRIPT')">AJAX_SCRIPT</a>) {
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">                // just ignore the error and send something back using the safest method</span>
<a name="l369"><span class="linenum"> 369</span></a>                  echo <a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a>::<a class="function" onClick="logFunction('early_error')" href="../_functions/early_error.html" onMouseOver="funcPopup(event,'early_error')">early_error</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('link')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a>);
<a name="l370"><span class="linenum"> 370</span></a>              } else {
<a name="l371"><span class="linenum"> 371</span></a>                  echo <a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a>::<a class="function" onClick="logFunction('early_error_content')" href="../_functions/early_error_content.html" onMouseOver="funcPopup(event,'early_error_content')">early_error_content</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('link')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>);
<a name="l372"><span class="linenum"> 372</span></a>                  <a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a> = <a class="function" onClick="logFunction('get_exception_info')" href="../_functions/get_exception_info.html" onMouseOver="funcPopup(event,'get_exception_info')">get_exception_info</a>(<a class="var it38667" onMouseOver="hilite(38667)" onMouseOut="lolite()" onClick="logVariable('out_ex')" href="../_variables/out_ex.html">$out_ex</a>);
<a name="l373"><span class="linenum"> 373</span></a>                  echo <a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a>::<a class="function" onClick="logFunction('early_error_content')" href="../_functions/early_error_content.html" onMouseOver="funcPopup(event,'early_error_content')">early_error_content</a>(<a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a>-&gt;<a onClick="logVariable('message')" class="var it41120" onMouseOver="hilite(41120)" onMouseOut="lolite()" href="../_variables/message.html">message</a>, <a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it41120" onMouseOver="hilite(41120)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a>, <a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a>-&gt;<a onClick="logVariable('link')" class="var it41120" onMouseOver="hilite(41120)" onMouseOut="lolite()" href="../_variables/link.html">link</a>, <a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a>-&gt;<a onClick="logVariable('backtrace')" class="var it41120" onMouseOver="hilite(41120)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>, <a class="var it22114" onMouseOver="hilite(22114)" onMouseOut="lolite()" onClick="logVariable('outinfo')" href="../_variables/outinfo.html">$outinfo</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it41120" onMouseOver="hilite(41120)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>);
<a name="l374"><span class="linenum"> 374</span></a>              }
<a name="l375"><span class="linenum"> 375</span></a>          }
<a name="l376"><span class="linenum"> 376</span></a>      }
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>      exit(1); <span class="comment">// General error code</span>
<a name="l379"><span class="linenum"> 379</span></a>  }
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">/**</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment"> * Default error handler, prevents some white screens.</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment"> * @param int $errno</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment"> * @param string $errstr</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment"> * @param string $errfile</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment"> * @param int $errline</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment"> * @param array $errcontext</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment"> * @return bool false means use default error handler</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment"> */</span>
<a name="l390"><span class="linenum"> 390</span></a>  function <a class="function" onClick="logFunction('default_error_handler')" href="../_functions/default_error_handler.html" onMouseOver="funcPopup(event,'default_error_handler')">default_error_handler</a>(<a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../_variables/errno.html">$errno</a>, <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../_variables/errstr.html">$errstr</a>, <a class="var it5228" onMouseOver="hilite(5228)" onMouseOut="lolite()" onClick="logVariable('errfile')" href="../_variables/errfile.html">$errfile</a>, <a class="var it5229" onMouseOver="hilite(5229)" onMouseOut="lolite()" onClick="logVariable('errline')" href="../_variables/errline.html">$errline</a>, <a class="var it5230" onMouseOver="hilite(5230)" onMouseOut="lolite()" onClick="logVariable('errcontext')" href="../_variables/errcontext.html">$errcontext</a>) {
<a name="l391"><span class="linenum"> 391</span></a>      if (<a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../_variables/errno.html">$errno</a> == 4096) {
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">        //fatal catchable error</span>
<a name="l393"><span class="linenum"> 393</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('PHP catchable fatal error', <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../_variables/errstr.html">$errstr</a>);
<a name="l394"><span class="linenum"> 394</span></a>      }
<a name="l395"><span class="linenum"> 395</span></a>      return false;
<a name="l396"><span class="linenum"> 396</span></a>  }
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">/**</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment"> * Unconditionally abort all database transactions, this function</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment"> * should be called from exception handlers only.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment"> * @return void</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment"> */</span>
<a name="l403"><span class="linenum"> 403</span></a>  function <a class="function" onClick="logFunction('abort_all_db_transactions')" href="../_functions/abort_all_db_transactions.html" onMouseOver="funcPopup(event,'abort_all_db_transactions')">abort_all_db_transactions</a>() {
<a name="l404"><span class="linenum"> 404</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>;
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">    // default exception handler MUST not throw any exceptions!!</span>
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>      if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a> &amp;&amp; <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('is_transaction_started')" href="../_functions/is_transaction_started.html" onMouseOver="funcPopup(event,'is_transaction_started')">is_transaction_started</a>()) {
<a name="l409"><span class="linenum"> 409</span></a>          <a class="phpfunction" onClick="logFunction('error_log')" href="../_functions/error_log.html" onMouseOver="phpfuncPopup(event,'error_log')">error_log</a>('Database transaction aborted automatically in ' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>);
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">        // note: transaction blocks should never change current $_SESSION</span>
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('force_transaction_rollback')" href="../_functions/force_transaction_rollback.html" onMouseOver="funcPopup(event,'force_transaction_rollback')">force_transaction_rollback</a>();
<a name="l412"><span class="linenum"> 412</span></a>      }
<a name="l413"><span class="linenum"> 413</span></a>  }
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">/**</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment"> * This function encapsulates the tests for whether an exception was thrown in</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment"> * early init -- either during setup.php or during init of $OUTPUT.</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment"> *</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment"> * If another exception is thrown then, and if we do not take special measures,</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment"> * we would just get a very cryptic message &quot;Exception thrown without a stack</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment"> * frame in Unknown on line 0&quot;. That makes debugging very hard, so we do take</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment"> * special measures in default_exception_handler, with the help of this function.</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment"> *</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment"> * @param array $backtrace the stack trace to analyse.</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment"> * @return boolean whether the stack trace is somewhere in output initialisation.</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> */</span>
<a name="l427"><span class="linenum"> 427</span></a>  function <a class="function" onClick="logFunction('is_early_init')" href="../_functions/is_early_init.html" onMouseOver="funcPopup(event,'is_early_init')">is_early_init</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>) {
<a name="l428"><span class="linenum"> 428</span></a>      <a class="var it38668" onMouseOver="hilite(38668)" onMouseOut="lolite()" onClick="logVariable('dangerouscode')" href="../_variables/dangerouscode.html">$dangerouscode</a> = array(
<a name="l429"><span class="linenum"> 429</span></a>          array('function' =&gt; 'header', 'type' =&gt; '-&gt;'),
<a name="l430"><span class="linenum"> 430</span></a>          array('class' =&gt; 'bootstrap_renderer'),
<a name="l431"><span class="linenum"> 431</span></a>          array('file' =&gt; <a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__).'/setup.php'),
<a name="l432"><span class="linenum"> 432</span></a>      );
<a name="l433"><span class="linenum"> 433</span></a>      foreach (<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a> as <a class="var it38669" onMouseOver="hilite(38669)" onMouseOut="lolite()" onClick="logVariable('stackframe')" href="../_variables/stackframe.html">$stackframe</a>) {
<a name="l434"><span class="linenum"> 434</span></a>          foreach (<a class="var it38668" onMouseOver="hilite(38668)" onMouseOut="lolite()" onClick="logVariable('dangerouscode')" href="../_variables/dangerouscode.html">$dangerouscode</a> as <a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>) {
<a name="l435"><span class="linenum"> 435</span></a>              <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a> = true;
<a name="l436"><span class="linenum"> 436</span></a>              foreach (<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a> as <a class="var it1682" onMouseOver="hilite(1682)" onMouseOut="lolite()" onClick="logVariable('property')" href="../_variables/property.html">$property</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l437"><span class="linenum"> 437</span></a>                  if (!isset(<a class="var it38669" onMouseOver="hilite(38669)" onMouseOut="lolite()" onClick="logVariable('stackframe')" href="../_variables/stackframe.html">$stackframe</a>[<a class="var it1682" onMouseOver="hilite(1682)" onMouseOut="lolite()" onClick="logVariable('property')" href="../_variables/property.html">$property</a>]) || <a class="var it38669" onMouseOver="hilite(38669)" onMouseOut="lolite()" onClick="logVariable('stackframe')" href="../_variables/stackframe.html">$stackframe</a>[<a class="var it1682" onMouseOver="hilite(1682)" onMouseOut="lolite()" onClick="logVariable('property')" href="../_variables/property.html">$property</a>] != <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l438"><span class="linenum"> 438</span></a>                      <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a> = false;
<a name="l439"><span class="linenum"> 439</span></a>                  }
<a name="l440"><span class="linenum"> 440</span></a>              }
<a name="l441"><span class="linenum"> 441</span></a>              if (<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>) {
<a name="l442"><span class="linenum"> 442</span></a>                  return true;
<a name="l443"><span class="linenum"> 443</span></a>              }
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>      }
<a name="l446"><span class="linenum"> 446</span></a>      return false;
<a name="l447"><span class="linenum"> 447</span></a>  }
<a name="l448"><span class="linenum"> 448</span></a>  
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">/**</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment"> * Abort execution by throwing of a general exception,</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment"> * default exception handler displays the error message in most cases.</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment"> *</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment"> * @param string $errorcode The name of the language string containing the error message.</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment"> *      Normally this should be in the error.php lang file.</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment"> * @param string $module The language file to get the error message from.</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment"> * @param string $link The url where the user will be prompted to continue.</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment"> *      If no url is provided the user will be directed to the site index page.</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment"> * @param object $a Extra words and phrases that might be required in the error string</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment"> * @param string $debuginfo optional debugging information</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment"> * @return void, always throws exception!</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment"> */</span>
<a name="l462"><span class="linenum"> 462</span></a>  function <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> = 'error', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = '', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = null, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l463"><span class="linenum"> 463</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l464"><span class="linenum"> 464</span></a>  }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">/**</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment"> * Returns detailed information about specified exception.</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment"> * @param exception $ex</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment"> * @return object</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment"> */</span>
<a name="l471"><span class="linenum"> 471</span></a>  function <a class="function" onClick="logFunction('get_exception_info')" href="../_functions/get_exception_info.html" onMouseOver="funcPopup(event,'get_exception_info')">get_exception_info</a>(<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>) {
<a name="l472"><span class="linenum"> 472</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>      if (<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a> instanceof moodle_exception) {
<a name="l475"><span class="linenum"> 475</span></a>          <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39586" onMouseOver="hilite(39586)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a>;
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a onClick="logVariable('module')" class="var it39586" onMouseOver="hilite(39586)" onMouseOut="lolite()" href="../_variables/module.html">module</a>;
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a onClick="logVariable('a')" class="var it39586" onMouseOver="hilite(39586)" onMouseOut="lolite()" href="../_variables/a.html">a</a>;
<a name="l478"><span class="linenum"> 478</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a onClick="logVariable('link')" class="var it39586" onMouseOver="hilite(39586)" onMouseOut="lolite()" href="../_variables/link.html">link</a>;
<a name="l479"><span class="linenum"> 479</span></a>          <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39586" onMouseOver="hilite(39586)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>;
<a name="l480"><span class="linenum"> 480</span></a>      } else {
<a name="l481"><span class="linenum"> 481</span></a>          <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a> = 'generalexceptionmessage';
<a name="l482"><span class="linenum"> 482</span></a>          <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> = 'error';
<a name="l483"><span class="linenum"> 483</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l484"><span class="linenum"> 484</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = '';
<a name="l485"><span class="linenum"> 485</span></a>          <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = '';
<a name="l486"><span class="linenum"> 486</span></a>      }
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">    // Append the error code to the debug info to make grepping and googling easier</span>
<a name="l489"><span class="linenum"> 489</span></a>      <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> .= <a class="constant" onClick="logConstant('PHP_EOL')" href="../_constants/PHP_EOL.html" onMouseOver="constPopup(event,'PHP_EOL')">PHP_EOL</a>.&quot;Error code: <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>&quot;;
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>      <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a> = <a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;getTrace();
<a name="l492"><span class="linenum"> 492</span></a>      <a class="var it24031" onMouseOver="hilite(24031)" onMouseOut="lolite()" onClick="logVariable('place')" href="../_variables/place.html">$place</a> = array('file'=&gt;<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;<a class="function" onClick="logFunction('getFile')" href="../_functions/getfile.html" onMouseOver="funcPopup(event,'getfile')">getFile</a>(), 'line'=&gt;<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>-&gt;getLine(), 'exception'=&gt;<a class="phpfunction" onClick="logFunction('get_class')" href="../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it2200" onMouseOver="hilite(2200)" onMouseOut="lolite()" onClick="logVariable('ex')" href="../_variables/ex.html">$ex</a>));
<a name="l493"><span class="linenum"> 493</span></a>      <a class="phpfunction" onClick="logFunction('array_unshift')" href="../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it24031" onMouseOver="hilite(24031)" onMouseOut="lolite()" onClick="logVariable('place')" href="../_variables/place.html">$place</a>);
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">    // Be careful, no guarantee moodlelib.php is loaded.</span>
<a name="l496"><span class="linenum"> 496</span></a>      if (empty(<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>) || <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> == 'moodle' || <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> == 'core') {
<a name="l497"><span class="linenum"> 497</span></a>          <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> = 'error';
<a name="l498"><span class="linenum"> 498</span></a>      }
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">    // Search for the $errorcode's associated string</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">    // If not found, append the contents of $a to $debuginfo so helpful information isn't lost</span>
<a name="l501"><span class="linenum"> 501</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('get_string_manager')) {
<a name="l502"><span class="linenum"> 502</span></a>          if (<a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>)) {
<a name="l503"><span class="linenum"> 503</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l504"><span class="linenum"> 504</span></a>          } elseif (<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> == 'error' &amp;&amp; <a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, 'moodle')) {
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">            // Search in moodle file if error specified - needed for backwards compatibility</span>
<a name="l506"><span class="linenum"> 506</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>, 'moodle', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>);
<a name="l507"><span class="linenum"> 507</span></a>          } else {
<a name="l508"><span class="linenum"> 508</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> . '/' . <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l509"><span class="linenum"> 509</span></a>              <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> .= <a class="constant" onClick="logConstant('PHP_EOL')" href="../_constants/PHP_EOL.html" onMouseOver="constPopup(event,'PHP_EOL')">PHP_EOL</a>.'<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> contents: '.<a class="phpfunction" onClick="logFunction('print_r')" href="../_functions/print_r.html" onMouseOver="phpfuncPopup(event,'print_r')">print_r</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, true);
<a name="l510"><span class="linenum"> 510</span></a>          }
<a name="l511"><span class="linenum"> 511</span></a>      } else {
<a name="l512"><span class="linenum"> 512</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> . '/' . <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l513"><span class="linenum"> 513</span></a>          <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> .= <a class="constant" onClick="logConstant('PHP_EOL')" href="../_constants/PHP_EOL.html" onMouseOver="constPopup(event,'PHP_EOL')">PHP_EOL</a>.'<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> contents: '.<a class="phpfunction" onClick="logFunction('print_r')" href="../_functions/print_r.html" onMouseOver="phpfuncPopup(event,'print_r')">print_r</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, true);
<a name="l514"><span class="linenum"> 514</span></a>      }
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">    // Remove some absolute paths from message and debugging info.</span>
<a name="l517"><span class="linenum"> 517</span></a>      <a class="var it27776" onMouseOver="hilite(27776)" onMouseOut="lolite()" onClick="logVariable('searches')" href="../_variables/searches.html">$searches</a> = array();
<a name="l518"><span class="linenum"> 518</span></a>      <a class="var it27777" onMouseOver="hilite(27777)" onMouseOut="lolite()" onClick="logVariable('replaces')" href="../_variables/replaces.html">$replaces</a> = array();
<a name="l519"><span class="linenum"> 519</span></a>      <a class="var it15776" onMouseOver="hilite(15776)" onMouseOut="lolite()" onClick="logVariable('cfgnames')" href="../_variables/cfgnames.html">$cfgnames</a> = array('tempdir', 'cachedir', 'localcachedir', 'themedir', 'dataroot', 'dirroot');
<a name="l520"><span class="linenum"> 520</span></a>      foreach (<a class="var it15776" onMouseOver="hilite(15776)" onMouseOut="lolite()" onClick="logVariable('cfgnames')" href="../_variables/cfgnames.html">$cfgnames</a> as <a class="var it15778" onMouseOver="hilite(15778)" onMouseOut="lolite()" onClick="logVariable('cfgname')" href="../_variables/cfgname.html">$cfgname</a>) {
<a name="l521"><span class="linenum"> 521</span></a>          if (property_exists(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it15778" onMouseOver="hilite(15778)" onMouseOut="lolite()" onClick="logVariable('cfgname')" href="../_variables/cfgname.html">$cfgname</a>)) {
<a name="l522"><span class="linenum"> 522</span></a>              <a class="var it27776" onMouseOver="hilite(27776)" onMouseOut="lolite()" onClick="logVariable('searches')" href="../_variables/searches.html">$searches</a>[] = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a class="var it15778" onMouseOver="hilite(15778)" onMouseOut="lolite()" onClick="logVariable('cfgname')" href="../_variables/cfgname.html">$cfgname</a>;
<a name="l523"><span class="linenum"> 523</span></a>              <a class="var it27777" onMouseOver="hilite(27777)" onMouseOut="lolite()" onClick="logVariable('replaces')" href="../_variables/replaces.html">$replaces</a>[] = &quot;[<a class="var it15778" onMouseOver="hilite(15778)" onMouseOut="lolite()" onClick="logVariable('cfgname')" href="../_variables/cfgname.html">$cfgname</a>]&quot;;
<a name="l524"><span class="linenum"> 524</span></a>          }
<a name="l525"><span class="linenum"> 525</span></a>      }
<a name="l526"><span class="linenum"> 526</span></a>      if (!empty(<a class="var it27776" onMouseOver="hilite(27776)" onMouseOut="lolite()" onClick="logVariable('searches')" href="../_variables/searches.html">$searches</a>)) {
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>   = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it27776" onMouseOver="hilite(27776)" onMouseOut="lolite()" onClick="logVariable('searches')" href="../_variables/searches.html">$searches</a>, <a class="var it27777" onMouseOver="hilite(27777)" onMouseOut="lolite()" onClick="logVariable('replaces')" href="../_variables/replaces.html">$replaces</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l528"><span class="linenum"> 528</span></a>          <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it27776" onMouseOver="hilite(27776)" onMouseOut="lolite()" onClick="logVariable('searches')" href="../_variables/searches.html">$searches</a>, <a class="var it27777" onMouseOver="hilite(27777)" onMouseOut="lolite()" onClick="logVariable('replaces')" href="../_variables/replaces.html">$replaces</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l529"><span class="linenum"> 529</span></a>      }
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">    // Be careful, no guarantee weblib.php is loaded.</span>
<a name="l532"><span class="linenum"> 532</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('clean_text')) {
<a name="l533"><span class="linenum"> 533</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="function" onClick="logFunction('clean_text')" href="../_functions/clean_text.html" onMouseOver="funcPopup(event,'clean_text')">clean_text</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l534"><span class="linenum"> 534</span></a>      } else {
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('errordocroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/errordocroot.html">errordocroot</a>)) {
<a name="l539"><span class="linenum"> 539</span></a>          <a class="var it38671" onMouseOver="hilite(38671)" onMouseOut="lolite()" onClick="logVariable('errordoclink')" href="../_variables/errordoclink.html">$errordoclink</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('errordocroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/errordocroot.html">errordocroot</a> . '/en/';
<a name="l540"><span class="linenum"> 540</span></a>      } else {
<a name="l541"><span class="linenum"> 541</span></a>          <a class="var it38671" onMouseOver="hilite(38671)" onMouseOut="lolite()" onClick="logVariable('errordoclink')" href="../_variables/errordoclink.html">$errordoclink</a> = <a class="function" onClick="logFunction('get_docs_url')" href="../_functions/get_docs_url.html" onMouseOver="funcPopup(event,'get_docs_url')">get_docs_url</a>();
<a name="l542"><span class="linenum"> 542</span></a>      }
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>      if (<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a> === 'error') {
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it10243" onMouseOver="hilite(10243)" onMouseOut="lolite()" onClick="logVariable('modulelink')" href="../_variables/modulelink.html">$modulelink</a> = 'moodle';
<a name="l546"><span class="linenum"> 546</span></a>      } else {
<a name="l547"><span class="linenum"> 547</span></a>          <a class="var it10243" onMouseOver="hilite(10243)" onMouseOut="lolite()" onClick="logVariable('modulelink')" href="../_variables/modulelink.html">$modulelink</a> = <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>;
<a name="l548"><span class="linenum"> 548</span></a>      }
<a name="l549"><span class="linenum"> 549</span></a>      <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a> = <a class="var it38671" onMouseOver="hilite(38671)" onMouseOut="lolite()" onClick="logVariable('errordoclink')" href="../_variables/errordoclink.html">$errordoclink</a> . 'error/' . <a class="var it10243" onMouseOver="hilite(10243)" onMouseOut="lolite()" onClick="logVariable('modulelink')" href="../_variables/modulelink.html">$modulelink</a> . '/' . <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l550"><span class="linenum"> 550</span></a>  
<a name="l551"><span class="linenum"> 551</span></a>      if (empty(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>)) {
<a name="l552"><span class="linenum"> 552</span></a>          if (!empty(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('fromurl')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/fromurl.html">fromurl</a>)) {
<a name="l553"><span class="linenum"> 553</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('fromurl')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/fromurl.html">fromurl</a>;
<a name="l554"><span class="linenum"> 554</span></a>              unset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('fromurl')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/fromurl.html">fromurl</a>);
<a name="l555"><span class="linenum"> 555</span></a>          } else {
<a name="l556"><span class="linenum"> 556</span></a>              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> .'/';
<a name="l557"><span class="linenum"> 557</span></a>          }
<a name="l558"><span class="linenum"> 558</span></a>      }
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">    // When printing an error the continue button should never link offsite.</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">    // We cannot use clean_param() here as it is not guaranteed that it has been loaded yet.</span>
<a name="l562"><span class="linenum"> 562</span></a>      <a class="var it1126" onMouseOver="hilite(1126)" onMouseOut="lolite()" onClick="logVariable('httpswwwroot')" href="../_variables/httpswwwroot.html">$httpswwwroot</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('http:', 'https:', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>);
<a name="l563"><span class="linenum"> 563</span></a>      if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>) === 0) {
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment">        // Internal HTTP, all good.</span>
<a name="l565"><span class="linenum"> 565</span></a>      } else if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('loginhttps')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/loginhttps.html">loginhttps</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it1126" onMouseOver="hilite(1126)" onMouseOut="lolite()" onClick="logVariable('httpswwwroot')" href="../_variables/httpswwwroot.html">$httpswwwroot</a>) === 0) {
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">        // Internal HTTPS, all good.</span>
<a name="l567"><span class="linenum"> 567</span></a>      } else {
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">        // External link spotted!</span>
<a name="l569"><span class="linenum"> 569</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/';
<a name="l570"><span class="linenum"> 570</span></a>      }
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> = new stdClass();
<a name="l573"><span class="linenum"> 573</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('message')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/message.html">message</a>     = <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>;
<a name="l574"><span class="linenum"> 574</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a>   = <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l575"><span class="linenum"> 575</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('backtrace')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/backtrace.html">backtrace</a>   = <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>;
<a name="l576"><span class="linenum"> 576</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('link')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/link.html">link</a>        = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>;
<a name="l577"><span class="linenum"> 577</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('moreinfourl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/moreinfourl.html">moreinfourl</a> = <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>;
<a name="l578"><span class="linenum"> 578</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('a')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/a.html">a</a>           = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>;
<a name="l579"><span class="linenum"> 579</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>   = <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>;
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>      return <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>;
<a name="l582"><span class="linenum"> 582</span></a>  }
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">/**</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment"> * Generate a uuid.</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment"> *</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment"> * Unique is hard. Very hard. Attempt to use the PECL UUID functions if available, and if not then revert to</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment"> * constructing the uuid using mt_rand.</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment"> *</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment"> * It is important that this token is not solely based on time as this could lead</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment"> * to duplicates in a clustered environment (especially on VMs due to poor time precision).</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment"> *</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment"> * @return string The uuid.</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment"> */</span>
<a name="l595"><span class="linenum"> 595</span></a>  function <a class="function" onClick="logFunction('generate_uuid')" href="../_functions/generate_uuid.html" onMouseOver="funcPopup(event,'generate_uuid')">generate_uuid</a>() {
<a name="l596"><span class="linenum"> 596</span></a>      <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a> = '';
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(&quot;uuid_create&quot;)) {
<a name="l599"><span class="linenum"> 599</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = null;
<a name="l600"><span class="linenum"> 600</span></a>          uuid_create(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l601"><span class="linenum"> 601</span></a>  
<a name="l602"><span class="linenum"> 602</span></a>          uuid_make(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, UUID_MAKE_V4);
<a name="l603"><span class="linenum"> 603</span></a>          uuid_export(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, UUID_FMT_STR, <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>);
<a name="l604"><span class="linenum"> 604</span></a>      } else {
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">        // Fallback uuid generation based on:</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">        // &quot;http://www.php.net/manual/en/function.uniqid.php#94959&quot;.</span>
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a> = sprintf('%04x%04x-%04x-%04x-%04x-%04x%04x%04x',
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">            // 32 bits for &quot;time_low&quot;.</span>
<a name="l610"><span class="linenum"> 610</span></a>              <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff), <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff),
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">            // 16 bits for &quot;time_mid&quot;.</span>
<a name="l613"><span class="linenum"> 613</span></a>              <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff),
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">            // 16 bits for &quot;time_hi_and_version&quot;,</span>
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">            // four most significant bits holds version number 4.</span>
<a name="l617"><span class="linenum"> 617</span></a>              <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0x0fff) | 0x4000,
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment">            // 16 bits, 8 bits for &quot;clk_seq_hi_res&quot;,</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">            // 8 bits for &quot;clk_seq_low&quot;,</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">            // two most significant bits holds zero and one for variant DCE1.1.</span>
<a name="l622"><span class="linenum"> 622</span></a>              <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0x3fff) | 0x8000,
<a name="l623"><span class="linenum"> 623</span></a>  
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">            // 48 bits for &quot;node&quot;.</span>
<a name="l625"><span class="linenum"> 625</span></a>              <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff), <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff), <a class="phpfunction" onClick="logFunction('mt_rand')" href="../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>(0, 0xffff));
<a name="l626"><span class="linenum"> 626</span></a>      }
<a name="l627"><span class="linenum"> 627</span></a>      return <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2990" onMouseOver="hilite(2990)" onMouseOut="lolite()" onClick="logVariable('uuid')" href="../_variables/uuid.html">$uuid</a>);
<a name="l628"><span class="linenum"> 628</span></a>  }
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">/**</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment"> * Returns the Moodle Docs URL in the users language for a given 'More help' link.</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment"> *</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment"> * There are three cases:</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment"> *</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment"> * 1. In the normal case, $path will be a short relative path 'component/thing',</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment"> * like 'mod/folder/view' 'group/import'. This gets turned into an link to</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment"> * MoodleDocs in the user's language, and for the appropriate Moodle version.</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment"> * E.g. 'group/import' may become 'http://docs.moodle.org/2x/en/group/import'.</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment"> * The 'http://docs.moodle.org' bit comes from $CFG-&gt;docroot.</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment"> *</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment"> * This is the only option that should be used in standard Moodle code. The other</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment"> * two options have been implemented because they are useful for third-party plugins.</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment"> *</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment"> * 2. $path may be an absolute URL, starting http:// or https://. In this case,</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment"> * the link is used as is.</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment"> *</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment"> * 3. $path may start %%WWWROOT%%, in which case that is replaced by</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment"> * $CFG-&gt;wwwroot to make the link.</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment"> *</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment"> * @param string $path the place to link to. See above for details.</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment"> * @return string The MoodleDocs URL in the user's language. for example @link http://docs.moodle.org/2x/en/$path}</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment"> */</span>
<a name="l653"><span class="linenum"> 653</span></a>  function <a class="function" onClick="logFunction('get_docs_url')" href="../_functions/get_docs_url.html" onMouseOver="funcPopup(event,'get_docs_url')">get_docs_url</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = null) {
<a name="l654"><span class="linenum"> 654</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l655"><span class="linenum"> 655</span></a>  
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">    // Absolute URLs are used unmodified.</span>
<a name="l657"><span class="linenum"> 657</span></a>      if (<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, 0, 7) === 'http://' || <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, 0, 8) === 'https://') {
<a name="l658"><span class="linenum"> 658</span></a>          return <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l659"><span class="linenum"> 659</span></a>      }
<a name="l660"><span class="linenum"> 660</span></a>  
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">    // Paths starting %%WWWROOT%% have that replaced by $CFG-&gt;wwwroot.</span>
<a name="l662"><span class="linenum"> 662</span></a>      if (<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, 0, 11) === '%%WWWROOT%%') {
<a name="l663"><span class="linenum"> 663</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, 11);
<a name="l664"><span class="linenum"> 664</span></a>      }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">    // Otherwise we do the normal case, and construct a MoodleDocs URL relative to $CFG-&gt;docroot.</span>
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">    // Check that $CFG-&gt;branch has been set up, during installation it won't be.</span>
<a name="l669"><span class="linenum"> 669</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('branch')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/branch.html">branch</a>)) {
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">        // It's not there yet so look at version.php.</span>
<a name="l671"><span class="linenum"> 671</span></a>          include(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../version.php.html">/version.php</a>');
<a name="l672"><span class="linenum"> 672</span></a>      } else {
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">        // We can use $CFG-&gt;branch and avoid having to include version.php.</span>
<a name="l674"><span class="linenum"> 674</span></a>          <a class="var it662" onMouseOver="hilite(662)" onMouseOut="lolite()" onClick="logVariable('branch')" href="../_variables/branch.html">$branch</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('branch')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/branch.html">branch</a>;
<a name="l675"><span class="linenum"> 675</span></a>      }
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">    // ensure branch is valid.</span>
<a name="l677"><span class="linenum"> 677</span></a>      if (!<a class="var it662" onMouseOver="hilite(662)" onMouseOut="lolite()" onClick="logVariable('branch')" href="../_variables/branch.html">$branch</a>) {
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">        // We should never get here but in case we do lets set $branch to .</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">        // the smart one's will know that this is the current directory</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">        // and the smarter ones will know that there is some smart matching</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">        // that will ensure people end up at the latest version of the docs.</span>
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it662" onMouseOver="hilite(662)" onMouseOut="lolite()" onClick="logVariable('branch')" href="../_variables/branch.html">$branch</a> = '.';
<a name="l683"><span class="linenum"> 683</span></a>      }
<a name="l684"><span class="linenum"> 684</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('doclang')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/doclang.html">doclang</a>)) {
<a name="l685"><span class="linenum"> 685</span></a>          <a class="var it2703" onMouseOver="hilite(2703)" onMouseOut="lolite()" onClick="logVariable('lang')" href="../_variables/lang.html">$lang</a> = <a class="function" onClick="logFunction('current_language')" href="../_functions/current_language.html" onMouseOver="funcPopup(event,'current_language')">current_language</a>();
<a name="l686"><span class="linenum"> 686</span></a>      } else {
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it2703" onMouseOver="hilite(2703)" onMouseOut="lolite()" onClick="logVariable('lang')" href="../_variables/lang.html">$lang</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('doclang')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/doclang.html">doclang</a>;
<a name="l688"><span class="linenum"> 688</span></a>      }
<a name="l689"><span class="linenum"> 689</span></a>      <a class="var it1658" onMouseOver="hilite(1658)" onMouseOut="lolite()" onClick="logVariable('end')" href="../_variables/end.html">$end</a> = '/' . <a class="var it662" onMouseOver="hilite(662)" onMouseOut="lolite()" onClick="logVariable('branch')" href="../_variables/branch.html">$branch</a> . '/' . <a class="var it2703" onMouseOver="hilite(2703)" onMouseOut="lolite()" onClick="logVariable('lang')" href="../_variables/lang.html">$lang</a> . '/' . <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l690"><span class="linenum"> 690</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('docroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/docroot.html">docroot</a>)) {
<a name="l691"><span class="linenum"> 691</span></a>          return 'http://docs.moodle.org'. <a class="var it1658" onMouseOver="hilite(1658)" onMouseOut="lolite()" onClick="logVariable('end')" href="../_variables/end.html">$end</a>;
<a name="l692"><span class="linenum"> 692</span></a>      } else {
<a name="l693"><span class="linenum"> 693</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('docroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/docroot.html">docroot</a> . <a class="var it1658" onMouseOver="hilite(1658)" onMouseOut="lolite()" onClick="logVariable('end')" href="../_variables/end.html">$end</a> ;
<a name="l694"><span class="linenum"> 694</span></a>      }
<a name="l695"><span class="linenum"> 695</span></a>  }
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">/**</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment"> * Formats a backtrace ready for output.</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment"> *</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment"> * @param array $callers backtrace array, as returned by debug_backtrace().</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment"> * @param boolean $plaintext if false, generates HTML, if true generates plain text.</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment"> * @return string formatted backtrace, ready for output.</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment"> */</span>
<a name="l704"><span class="linenum"> 704</span></a>  function <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it24743" onMouseOver="hilite(24743)" onMouseOut="lolite()" onClick="logVariable('callers')" href="../_variables/callers.html">$callers</a>, <a class="var it23856" onMouseOver="hilite(23856)" onMouseOut="lolite()" onClick="logVariable('plaintext')" href="../_variables/plaintext.html">$plaintext</a> = false) {
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">    // do not use $CFG-&gt;dirroot because it might not be available in destructors</span>
<a name="l706"><span class="linenum"> 706</span></a>      <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('dirroot')" href="../_variables/dirroot.html">$dirroot</a> = <a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__));
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>      if (empty(<a class="var it24743" onMouseOver="hilite(24743)" onMouseOut="lolite()" onClick="logVariable('callers')" href="../_variables/callers.html">$callers</a>)) {
<a name="l709"><span class="linenum"> 709</span></a>          return '';
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>      <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> = <a class="var it23856" onMouseOver="hilite(23856)" onMouseOut="lolite()" onClick="logVariable('plaintext')" href="../_variables/plaintext.html">$plaintext</a> ? '' : '&lt;ul style=&quot;text-align: left&quot; data-rel=&quot;backtrace&quot;&gt;';
<a name="l713"><span class="linenum"> 713</span></a>      foreach (<a class="var it24743" onMouseOver="hilite(24743)" onMouseOut="lolite()" onClick="logVariable('callers')" href="../_variables/callers.html">$callers</a> as <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>) {
<a name="l714"><span class="linenum"> 714</span></a>          if (!isset(<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'])) {
<a name="l715"><span class="linenum"> 715</span></a>              <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'] = '?'; <span class="comment">// probably call_user_func()</span>
<a name="l716"><span class="linenum"> 716</span></a>          }
<a name="l717"><span class="linenum"> 717</span></a>          if (!isset(<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file'])) {
<a name="l718"><span class="linenum"> 718</span></a>              <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file'] = 'unknownfile'; <span class="comment">// probably call_user_func()</span>
<a name="l719"><span class="linenum"> 719</span></a>          }
<a name="l720"><span class="linenum"> 720</span></a>          <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= <a class="var it23856" onMouseOver="hilite(23856)" onMouseOut="lolite()" onClick="logVariable('plaintext')" href="../_variables/plaintext.html">$plaintext</a> ? '* ' : '&lt;li&gt;';
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= 'line ' . <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'] . ' of ' . <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('dirroot')" href="../_variables/dirroot.html">$dirroot</a>, '', <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file']);
<a name="l722"><span class="linenum"> 722</span></a>          if (isset(<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['function'])) {
<a name="l723"><span class="linenum"> 723</span></a>              <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= ': call to ';
<a name="l724"><span class="linenum"> 724</span></a>              if (isset(<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['class'])) {
<a name="l725"><span class="linenum"> 725</span></a>                  <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['class'] . <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['type'];
<a name="l726"><span class="linenum"> 726</span></a>              }
<a name="l727"><span class="linenum"> 727</span></a>              <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['function'] . '()';
<a name="l728"><span class="linenum"> 728</span></a>          } else if (isset(<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['exception'])) {
<a name="l729"><span class="linenum"> 729</span></a>              <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= ': '.<a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['exception'].' thrown';
<a name="l730"><span class="linenum"> 730</span></a>          }
<a name="l731"><span class="linenum"> 731</span></a>          <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= <a class="var it23856" onMouseOver="hilite(23856)" onMouseOut="lolite()" onClick="logVariable('plaintext')" href="../_variables/plaintext.html">$plaintext</a> ? &quot;\n&quot; : '&lt;/li&gt;';
<a name="l732"><span class="linenum"> 732</span></a>      }
<a name="l733"><span class="linenum"> 733</span></a>      <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a> .= <a class="var it23856" onMouseOver="hilite(23856)" onMouseOut="lolite()" onClick="logVariable('plaintext')" href="../_variables/plaintext.html">$plaintext</a> ? '' : '&lt;/ul&gt;';
<a name="l734"><span class="linenum"> 734</span></a>  
<a name="l735"><span class="linenum"> 735</span></a>      return <a class="var it590" onMouseOver="hilite(590)" onMouseOut="lolite()" onClick="logVariable('from')" href="../_variables/from.html">$from</a>;
<a name="l736"><span class="linenum"> 736</span></a>  }
<a name="l737"><span class="linenum"> 737</span></a>  
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">/**</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment"> * This function makes the return value of ini_get consistent if you are</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment"> * setting server directives through the .htaccess file in apache.</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment"> *</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment"> * Current behavior for value set from php.ini On = 1, Off = [blank]</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment"> * Current behavior for value set from .htaccess On = On, Off = Off</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment"> * Contributed by jdell @ unr.edu</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment"> *</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment"> * @param string $ini_get_arg The argument to get</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment"> * @return bool True for on false for not</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment"> */</span>
<a name="l749"><span class="linenum"> 749</span></a>  function <a class="function" onClick="logFunction('ini_get_bool')" href="../_functions/ini_get_bool.html" onMouseOver="funcPopup(event,'ini_get_bool')">ini_get_bool</a>(<a class="var it20874" onMouseOver="hilite(20874)" onMouseOut="lolite()" onClick="logVariable('ini_get_arg')" href="../_variables/ini_get_arg.html">$ini_get_arg</a>) {
<a name="l750"><span class="linenum"> 750</span></a>      <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../_variables/temp.html">$temp</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>(<a class="var it20874" onMouseOver="hilite(20874)" onMouseOut="lolite()" onClick="logVariable('ini_get_arg')" href="../_variables/ini_get_arg.html">$ini_get_arg</a>);
<a name="l751"><span class="linenum"> 751</span></a>  
<a name="l752"><span class="linenum"> 752</span></a>      if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../_variables/temp.html">$temp</a> == '1' or <a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../_variables/temp.html">$temp</a>) == 'on') {
<a name="l753"><span class="linenum"> 753</span></a>          return true;
<a name="l754"><span class="linenum"> 754</span></a>      }
<a name="l755"><span class="linenum"> 755</span></a>      return false;
<a name="l756"><span class="linenum"> 756</span></a>  }
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment">/**</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> * This function verifies the sanity of PHP configuration</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> * and stops execution if anything critical found.</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> */</span>
<a name="l762"><span class="linenum"> 762</span></a>  function <a class="function" onClick="logFunction('setup_validate_php_configuration')" href="../_functions/setup_validate_php_configuration.html" onMouseOver="funcPopup(event,'setup_validate_php_configuration')">setup_validate_php_configuration</a>() {
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">   // this must be very fast - no slow checks here!!!</span>
<a name="l764"><span class="linenum"> 764</span></a>  
<a name="l765"><span class="linenum"> 765</span></a>     if (<a class="function" onClick="logFunction('ini_get_bool')" href="../_functions/ini_get_bool.html" onMouseOver="funcPopup(event,'ini_get_bool')">ini_get_bool</a>('session.auto_start')) {
<a name="l766"><span class="linenum"> 766</span></a>         <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('sessionautostartwarning', 'admin');
<a name="l767"><span class="linenum"> 767</span></a>     }
<a name="l768"><span class="linenum"> 768</span></a>  }
<a name="l769"><span class="linenum"> 769</span></a>  
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">/**</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment"> * Initialise global $CFG variable.</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment"> * @private to be used only from lib/setup.php</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment"> */</span>
<a name="l774"><span class="linenum"> 774</span></a>  function <a class="function" onClick="logFunction('initialise_cfg')" href="../_functions/initialise_cfg.html" onMouseOver="funcPopup(event,'initialise_cfg')">initialise_cfg</a>() {
<a name="l775"><span class="linenum"> 775</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l776"><span class="linenum"> 776</span></a>  
<a name="l777"><span class="linenum"> 777</span></a>      if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>) {
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">        // This should not happen.</span>
<a name="l779"><span class="linenum"> 779</span></a>          return;
<a name="l780"><span class="linenum"> 780</span></a>      }
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      try {
<a name="l783"><span class="linenum"> 783</span></a>          <a class="var it38673" onMouseOver="hilite(38673)" onMouseOut="lolite()" onClick="logVariable('localcfg')" href="../_variables/localcfg.html">$localcfg</a> = <a class="function" onClick="logFunction('get_config')" href="../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('core');
<a name="l784"><span class="linenum"> 784</span></a>      } catch (dml_exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>) {
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">        // Most probably empty db, going to install soon.</span>
<a name="l786"><span class="linenum"> 786</span></a>          return;
<a name="l787"><span class="linenum"> 787</span></a>      }
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>      foreach (<a class="var it38673" onMouseOver="hilite(38673)" onMouseOut="lolite()" onClick="logVariable('localcfg')" href="../_variables/localcfg.html">$localcfg</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">        // Note that get_config() keeps forced settings</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">        // and normalises values to string if possible.</span>
<a name="l792"><span class="linenum"> 792</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;{<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>} = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l793"><span class="linenum"> 793</span></a>      }
<a name="l794"><span class="linenum"> 794</span></a>  }
<a name="l795"><span class="linenum"> 795</span></a>  
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">/**</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment"> * Initialises $FULLME and friends. Private function. Should only be called from</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment"> * setup.php.</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment"> */</span>
<a name="l800"><span class="linenum"> 800</span></a>  function <a class="function" onClick="logFunction('initialise_fullme')" href="../_functions/initialise_fullme.html" onMouseOver="funcPopup(event,'initialise_fullme')">initialise_fullme</a>() {
<a name="l801"><span class="linenum"> 801</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a>, <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a>, <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>, <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a>;
<a name="l802"><span class="linenum"> 802</span></a>  
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">    // Detect common config error.</span>
<a name="l804"><span class="linenum"> 804</span></a>      if (<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>, -1) == '/') {
<a name="l805"><span class="linenum"> 805</span></a>          <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('wwwrootslash', 'error');
<a name="l806"><span class="linenum"> 806</span></a>      }
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>      if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a>) {
<a name="l809"><span class="linenum"> 809</span></a>          <a class="function" onClick="logFunction('initialise_fullme_cli')" href="../_functions/initialise_fullme_cli.html" onMouseOver="funcPopup(event,'initialise_fullme_cli')">initialise_fullme_cli</a>();
<a name="l810"><span class="linenum"> 810</span></a>          return;
<a name="l811"><span class="linenum"> 811</span></a>      }
<a name="l812"><span class="linenum"> 812</span></a>  
<a name="l813"><span class="linenum"> 813</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a> = <a class="function" onClick="logFunction('setup_get_remote_url')" href="../_functions/setup_get_remote_url.html" onMouseOver="funcPopup(event,'setup_get_remote_url')">setup_get_remote_url</a>();
<a name="l814"><span class="linenum"> 814</span></a>      <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/');
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>      if (empty(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host'])) {
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">        // missing host in request header, probably not a real browser, let's ignore them</span>
<a name="l818"><span class="linenum"> 818</span></a>  
<a name="l819"><span class="linenum"> 819</span></a>      } else if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('reverseproxy')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/reverseproxy.html">reverseproxy</a>)) {
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">        // $CFG-&gt;reverseproxy specifies if reverse proxy server used</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">        // Used in load balancing scenarios.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">        // Do not abuse this to try to solve lan/wan access problems!!!!!</span>
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>      } else {
<a name="l825"><span class="linenum"> 825</span></a>          if ((<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host'] !== <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['host']) or
<a name="l826"><span class="linenum"> 826</span></a>                  (!empty(<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port']) and <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['port'] != <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port']) or
<a name="l827"><span class="linenum"> 827</span></a>                  (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['path'], <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['path']) !== 0)) {
<a name="l828"><span class="linenum"> 828</span></a>  
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">            // Explain the problem and redirect them to the right URL</span>
<a name="l830"><span class="linenum"> 830</span></a>              if (!<a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('NO_MOODLE_COOKIES')" href="../_constants/NO_MOODLE_COOKIES.html" onMouseOver="constPopup(event,'NO_MOODLE_COOKIES')">NO_MOODLE_COOKIES</a>')) {
<a name="l831"><span class="linenum"> 831</span></a>                  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_MOODLE_COOKIES')" href="../_constants/NO_MOODLE_COOKIES.html" onMouseOver="constPopup(event,'NO_MOODLE_COOKIES')">NO_MOODLE_COOKIES</a>', true);
<a name="l832"><span class="linenum"> 832</span></a>              }
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">            // The login/token.php script should call the correct url/port.</span>
<a name="l834"><span class="linenum"> 834</span></a>              if (<a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('REQUIRE_CORRECT_ACCESS')" href="../_constants/REQUIRE_CORRECT_ACCESS.html" onMouseOver="constPopup(event,'REQUIRE_CORRECT_ACCESS')">REQUIRE_CORRECT_ACCESS</a>') &amp;&amp; <a class="constant" onClick="logConstant('REQUIRE_CORRECT_ACCESS')" href="../_constants/REQUIRE_CORRECT_ACCESS.html" onMouseOver="constPopup(event,'REQUIRE_CORRECT_ACCESS')">REQUIRE_CORRECT_ACCESS</a>) {
<a name="l835"><span class="linenum"> 835</span></a>                  <a class="var it38676" onMouseOver="hilite(38676)" onMouseOut="lolite()" onClick="logVariable('wwwrootport')" href="../_variables/wwwrootport.html">$wwwrootport</a> = empty(<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port'])?'':<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port'];
<a name="l836"><span class="linenum"> 836</span></a>                  <a class="var it38677" onMouseOver="hilite(38677)" onMouseOut="lolite()" onClick="logVariable('calledurl')" href="../_variables/calledurl.html">$calledurl</a> = <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host'];
<a name="l837"><span class="linenum"> 837</span></a>                  if (!empty(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['port'])) {
<a name="l838"><span class="linenum"> 838</span></a>                      <a class="var it38677" onMouseOver="hilite(38677)" onMouseOut="lolite()" onClick="logVariable('calledurl')" href="../_variables/calledurl.html">$calledurl</a> .=  ':'. <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['port'];
<a name="l839"><span class="linenum"> 839</span></a>                  }
<a name="l840"><span class="linenum"> 840</span></a>                  <a class="var it38678" onMouseOver="hilite(38678)" onMouseOut="lolite()" onClick="logVariable('correcturl')" href="../_variables/correcturl.html">$correcturl</a> = <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['host'];
<a name="l841"><span class="linenum"> 841</span></a>                  if (!empty(<a class="var it38676" onMouseOver="hilite(38676)" onMouseOut="lolite()" onClick="logVariable('wwwrootport')" href="../_variables/wwwrootport.html">$wwwrootport</a>)) {
<a name="l842"><span class="linenum"> 842</span></a>                      <a class="var it38678" onMouseOver="hilite(38678)" onMouseOut="lolite()" onClick="logVariable('correcturl')" href="../_variables/correcturl.html">$correcturl</a> .=  ':'. <a class="var it38676" onMouseOver="hilite(38676)" onMouseOut="lolite()" onClick="logVariable('wwwrootport')" href="../_variables/wwwrootport.html">$wwwrootport</a>;
<a name="l843"><span class="linenum"> 843</span></a>                  }
<a name="l844"><span class="linenum"> 844</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('requirecorrectaccess', 'error', '', null,
<a name="l845"><span class="linenum"> 845</span></a>                      'You called ' . <a class="var it38677" onMouseOver="hilite(38677)" onMouseOut="lolite()" onClick="logVariable('calledurl')" href="../_variables/calledurl.html">$calledurl</a> .', you should have called ' . <a class="var it38678" onMouseOver="hilite(38678)" onMouseOut="lolite()" onClick="logVariable('correcturl')" href="../_variables/correcturl.html">$correcturl</a>);
<a name="l846"><span class="linenum"> 846</span></a>              }
<a name="l847"><span class="linenum"> 847</span></a>              <a class="function" onClick="logFunction('redirect')" href="../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('wwwrootmismatch', 'error', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>), 3);
<a name="l848"><span class="linenum"> 848</span></a>          }
<a name="l849"><span class="linenum"> 849</span></a>      }
<a name="l850"><span class="linenum"> 850</span></a>  
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment">    // Check that URL is under $CFG-&gt;wwwroot.</span>
<a name="l852"><span class="linenum"> 852</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['path'], <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['path']) === 0) {
<a name="l853"><span class="linenum"> 853</span></a>          <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['path'], <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['path'])-1);
<a name="l854"><span class="linenum"> 854</span></a>      } else {
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">        // Probably some weird external script</span>
<a name="l856"><span class="linenum"> 856</span></a>          <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a> = <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a> = <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a> = <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a> = null;
<a name="l857"><span class="linenum"> 857</span></a>          return;
<a name="l858"><span class="linenum"> 858</span></a>      }
<a name="l859"><span class="linenum"> 859</span></a>  
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">    // $CFG-&gt;sslproxy specifies if external SSL appliance is used</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment">    // (That is, the Moodle server uses http, with an external box translating everything to https).</span>
<a name="l862"><span class="linenum"> 862</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('sslproxy')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/sslproxy.html">sslproxy</a>)) {
<a name="l863"><span class="linenum"> 863</span></a>          if (<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['scheme'] === 'http' and <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['scheme'] === 'https') {
<a name="l864"><span class="linenum"> 864</span></a>              <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('sslonlyaccess', 'error');
<a name="l865"><span class="linenum"> 865</span></a>          }
<a name="l866"><span class="linenum"> 866</span></a>      } else {
<a name="l867"><span class="linenum"> 867</span></a>          if (<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['scheme'] !== 'https') {
<a name="l868"><span class="linenum"> 868</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Must use https address in wwwroot when ssl proxy enabled!');
<a name="l869"><span class="linenum"> 869</span></a>          }
<a name="l870"><span class="linenum"> 870</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['scheme'] = 'https'; <span class="comment">// make moodle believe it runs on https, squid or something else it doing it</span>
<a name="l871"><span class="linenum"> 871</span></a>          <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTPS'] = 'on'; <span class="comment">// Override $_SERVER to help external libraries with their HTTPS detection.</span>
<a name="l872"><span class="linenum"> 872</span></a>          <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PORT'] = 443; <span class="comment">// Assume default ssl port for the proxy.</span>
<a name="l873"><span class="linenum"> 873</span></a>      }
<a name="l874"><span class="linenum"> 874</span></a>  
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment">    // hopefully this will stop all those &quot;clever&quot; admins trying to set up moodle</span>
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">    // with two different addresses in intranet and Internet</span>
<a name="l877"><span class="linenum"> 877</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('reverseproxy')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/reverseproxy.html">reverseproxy</a>) &amp;&amp; <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host'] === <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['host']) {
<a name="l878"><span class="linenum"> 878</span></a>          <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('reverseproxyabused', 'error');
<a name="l879"><span class="linenum"> 879</span></a>      }
<a name="l880"><span class="linenum"> 880</span></a>  
<a name="l881"><span class="linenum"> 881</span></a>      <a class="var it38679" onMouseOver="hilite(38679)" onMouseOut="lolite()" onClick="logVariable('hostandport')" href="../_variables/hostandport.html">$hostandport</a> = <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['scheme'] . '://' . <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['host'];
<a name="l882"><span class="linenum"> 882</span></a>      if (!empty(<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port'])) {
<a name="l883"><span class="linenum"> 883</span></a>          <a class="var it38679" onMouseOver="hilite(38679)" onMouseOut="lolite()" onClick="logVariable('hostandport')" href="../_variables/hostandport.html">$hostandport</a> .= ':'.<a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('wwwroot')" href="../_variables/wwwroot.html">$wwwroot</a>['port'];
<a name="l884"><span class="linenum"> 884</span></a>      }
<a name="l885"><span class="linenum"> 885</span></a>  
<a name="l886"><span class="linenum"> 886</span></a>      <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a> = <a class="var it38679" onMouseOver="hilite(38679)" onMouseOut="lolite()" onClick="logVariable('hostandport')" href="../_variables/hostandport.html">$hostandport</a> . <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['path'];
<a name="l887"><span class="linenum"> 887</span></a>      <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a> = <a class="var it38679" onMouseOver="hilite(38679)" onMouseOut="lolite()" onClick="logVariable('hostandport')" href="../_variables/hostandport.html">$hostandport</a> . <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'];
<a name="l888"><span class="linenum"> 888</span></a>      <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a> = <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'];
<a name="l889"><span class="linenum"> 889</span></a>  }
<a name="l890"><span class="linenum"> 890</span></a>  
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">/**</span>
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment"> * Initialises $FULLME and friends for command line scripts.</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment"> * This is a private method for use by initialise_fullme.</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment"> */</span>
<a name="l895"><span class="linenum"> 895</span></a>  function <a class="function" onClick="logFunction('initialise_fullme_cli')" href="../_functions/initialise_fullme_cli.html" onMouseOver="funcPopup(event,'initialise_fullme_cli')">initialise_fullme_cli</a>() {
<a name="l896"><span class="linenum"> 896</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a>, <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a>, <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a>, <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a>;
<a name="l897"><span class="linenum"> 897</span></a>  
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">    // Urls do not make much sense in CLI scripts</span>
<a name="l899"><span class="linenum"> 899</span></a>      <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a> = <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>();
<a name="l900"><span class="linenum"> 900</span></a>      <a class="var it38680" onMouseOver="hilite(38680)" onMouseOut="lolite()" onClick="logVariable('topfile')" href="../_variables/topfile.html">$topfile</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>);
<a name="l901"><span class="linenum"> 901</span></a>      <a class="var it38680" onMouseOver="hilite(38680)" onMouseOut="lolite()" onClick="logVariable('topfile')" href="../_variables/topfile.html">$topfile</a> = <a class="phpfunction" onClick="logFunction('realpath')" href="../_functions/realpath.html" onMouseOver="phpfuncPopup(event,'realpath')">realpath</a>(<a class="var it38680" onMouseOver="hilite(38680)" onMouseOut="lolite()" onClick="logVariable('topfile')" href="../_variables/topfile.html">$topfile</a>['file']);
<a name="l902"><span class="linenum"> 902</span></a>      <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('dirroot')" href="../_variables/dirroot.html">$dirroot</a> = <a class="phpfunction" onClick="logFunction('realpath')" href="../_functions/realpath.html" onMouseOver="phpfuncPopup(event,'realpath')">realpath</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>);
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it38680" onMouseOver="hilite(38680)" onMouseOut="lolite()" onClick="logVariable('topfile')" href="../_variables/topfile.html">$topfile</a>, <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('dirroot')" href="../_variables/dirroot.html">$dirroot</a>) !== 0) {
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">        // Probably some weird external script</span>
<a name="l906"><span class="linenum"> 906</span></a>          <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a> = <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a> = <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a> = <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a> = null;
<a name="l907"><span class="linenum"> 907</span></a>      } else {
<a name="l908"><span class="linenum"> 908</span></a>          <a class="var it38681" onMouseOver="hilite(38681)" onMouseOut="lolite()" onClick="logVariable('relativefile')" href="../_variables/relativefile.html">$relativefile</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it38680" onMouseOver="hilite(38680)" onMouseOut="lolite()" onClick="logVariable('topfile')" href="../_variables/topfile.html">$topfile</a>, <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('dirroot')" href="../_variables/dirroot.html">$dirroot</a>));
<a name="l909"><span class="linenum"> 909</span></a>          <a class="var it38681" onMouseOver="hilite(38681)" onMouseOut="lolite()" onClick="logVariable('relativefile')" href="../_variables/relativefile.html">$relativefile</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\\', '/', <a class="var it38681" onMouseOver="hilite(38681)" onMouseOut="lolite()" onClick="logVariable('relativefile')" href="../_variables/relativefile.html">$relativefile</a>); <span class="comment">// Win fix</span>
<a name="l910"><span class="linenum"> 910</span></a>          <a class="var it13253" onMouseOver="hilite(13253)" onMouseOut="lolite()" onClick="logVariable('SCRIPT')" href="../_variables/SCRIPT.html">$SCRIPT</a> = <a class="var it35422" onMouseOver="hilite(35422)" onMouseOut="lolite()" onClick="logVariable('FULLSCRIPT')" href="../_variables/FULLSCRIPT.html">$FULLSCRIPT</a> = <a class="var it38681" onMouseOver="hilite(38681)" onMouseOut="lolite()" onClick="logVariable('relativefile')" href="../_variables/relativefile.html">$relativefile</a>;
<a name="l911"><span class="linenum"> 911</span></a>          <a class="var it8619" onMouseOver="hilite(8619)" onMouseOut="lolite()" onClick="logVariable('FULLME')" href="../_variables/FULLME.html">$FULLME</a> = <a class="var it10044" onMouseOver="hilite(10044)" onMouseOut="lolite()" onClick="logVariable('ME')" href="../_variables/ME.html">$ME</a> = null;
<a name="l912"><span class="linenum"> 912</span></a>      }
<a name="l913"><span class="linenum"> 913</span></a>  }
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">/**</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment"> * Get the URL that PHP/the web server thinks it is serving. Private function</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment"> * used by initialise_fullme. In your code, use $PAGE-&gt;url, $SCRIPT, etc.</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment"> * @return array in the same format that parse_url returns, with the addition of</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment"> *      a 'fullpath' element, which includes any slasharguments path.</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment"> */</span>
<a name="l921"><span class="linenum"> 921</span></a>  function <a class="function" onClick="logFunction('setup_get_remote_url')" href="../_functions/setup_get_remote_url.html" onMouseOver="funcPopup(event,'setup_get_remote_url')">setup_get_remote_url</a>() {
<a name="l922"><span class="linenum"> 922</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a> = array();
<a name="l923"><span class="linenum"> 923</span></a>      if (isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_HOST'])) {
<a name="l924"><span class="linenum"> 924</span></a>          <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host']) = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_HOST']);
<a name="l925"><span class="linenum"> 925</span></a>      } else {
<a name="l926"><span class="linenum"> 926</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['host'] = null;
<a name="l927"><span class="linenum"> 927</span></a>      }
<a name="l928"><span class="linenum"> 928</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['port'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PORT'];
<a name="l929"><span class="linenum"> 929</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['path'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_NAME']; <span class="comment">// Script path without slash arguments</span>
<a name="l930"><span class="linenum"> 930</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['scheme'] = (empty(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTPS']) or <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTPS'] === 'off' or <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTPS'] === 'Off' or <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTPS'] === 'OFF') ? 'http' : 'https';
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>      if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'apache') !== false) {
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">        //Apache server</span>
<a name="l934"><span class="linenum"> 934</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI'];
<a name="l935"><span class="linenum"> 935</span></a>  
<a name="l936"><span class="linenum"> 936</span></a>      } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'iis') !== false) {
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">        //IIS - needs a lot of tweaking to make it work</span>
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_NAME'];
<a name="l939"><span class="linenum"> 939</span></a>  
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">        // NOTE: we should ignore PATH_INFO because it is incorrectly encoded using 8bit filesystem legacy encoding in IIS.</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">        //       Since 2.0, we rely on IIS rewrite extensions like Helicon ISAPI_rewrite</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">        //         example rule: RewriteRule ^([^\?]+?\.php)(\/.+)$ $1\?file=$2 [QSA]</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">        //       OR</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">        //       we rely on a proper IIS 6.0+ configuration: the 'FastCGIUtf8ServerVariables' registry key.</span>
<a name="l945"><span class="linenum"> 945</span></a>          if (isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO']) and <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO'] !== '') {
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">            // Check that PATH_INFO works == must not contain the script name.</span>
<a name="l947"><span class="linenum"> 947</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO'], <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_NAME']) === false) {
<a name="l948"><span class="linenum"> 948</span></a>                  <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] .= <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="phpfunction" onClick="logFunction('urldecode')" href="../_functions/urldecode.html" onMouseOver="phpfuncPopup(event,'urldecode')">urldecode</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO']), <a class="constant" onClick="logConstant('PARAM_PATH')" href="../_constants/PARAM_PATH.html" onMouseOver="constPopup(event,'PARAM_PATH')">PARAM_PATH</a>);
<a name="l949"><span class="linenum"> 949</span></a>              }
<a name="l950"><span class="linenum"> 950</span></a>          }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>          if (isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['QUERY_STRING']) and <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['QUERY_STRING'] !== '') {
<a name="l953"><span class="linenum"> 953</span></a>              <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] .= '?'.<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['QUERY_STRING'];
<a name="l954"><span class="linenum"> 954</span></a>          }
<a name="l955"><span class="linenum"> 955</span></a>          <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI'] = <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath']; <span class="comment">// extra IIS compatibility</span>
<a name="l956"><span class="linenum"> 956</span></a>  
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">/* NOTE: following servers are not fully tested! */</span>
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>      } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'lighttpd') !== false) {
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">        //lighttpd - not officially supported</span>
<a name="l961"><span class="linenum"> 961</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>      } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'nginx') !== false) {
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">        //nginx - not officially supported</span>
<a name="l965"><span class="linenum"> 965</span></a>          if (!isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_NAME'])) {
<a name="l966"><span class="linenum"> 966</span></a>              die('Invalid server configuration detected, please try to add &quot;fastcgi_param SCRIPT_NAME <a class="var it38682" onMouseOver="hilite(38682)" onMouseOut="lolite()" onClick="logVariable('fastcgi_script_name')" href="../_variables/fastcgi_script_name.html">$fastcgi_script_name</a>;&quot; to the nginx server configuration.');
<a name="l967"><span class="linenum"> 967</span></a>          }
<a name="l968"><span class="linenum"> 968</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l969"><span class="linenum"> 969</span></a>  
<a name="l970"><span class="linenum"> 970</span></a>       } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'cherokee') !== false) {
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">         //cherokee - not officially supported</span>
<a name="l972"><span class="linenum"> 972</span></a>           <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l973"><span class="linenum"> 973</span></a>  
<a name="l974"><span class="linenum"> 974</span></a>       } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'zeus') !== false) {
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">         //zeus - not officially supported</span>
<a name="l976"><span class="linenum"> 976</span></a>           <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l977"><span class="linenum"> 977</span></a>  
<a name="l978"><span class="linenum"> 978</span></a>      } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'LiteSpeed') !== false) {
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">        //LiteSpeed - not officially supported</span>
<a name="l980"><span class="linenum"> 980</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>      } else if (<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'] === 'HTTPD') {
<a name="l983"><span class="linenum"> 983</span></a>  <span class="comment">        //obscure name found on some servers - this is definitely not supported</span>
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']; <span class="comment">// TODO: verify this is always properly encoded</span>
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE'], 'PHP') === 0) {
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment">        // built-in PHP Development Server</span>
<a name="l988"><span class="linenum"> 988</span></a>          <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI'];
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>      } else {
<a name="l991"><span class="linenum"> 991</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('unsupportedwebserver', 'error', '', <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_SOFTWARE']);
<a name="l992"><span class="linenum"> 992</span></a>      }
<a name="l993"><span class="linenum"> 993</span></a>  
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">    // sanitize the url a bit more, the encoding style may be different in vars above</span>
<a name="l995"><span class="linenum"> 995</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&quot;', '%22', <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath']);
<a name="l996"><span class="linenum"> 996</span></a>      <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath'] = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\'', '%27', <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>['fullpath']);
<a name="l997"><span class="linenum"> 997</span></a>  
<a name="l998"><span class="linenum"> 998</span></a>      return <a class="var it38674" onMouseOver="hilite(38674)" onMouseOut="lolite()" onClick="logVariable('rurl')" href="../_variables/rurl.html">$rurl</a>;
<a name="l999"><span class="linenum"> 999</span></a>  }
<a name="l1000"><span class="linenum">1000</span></a>  
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">/**</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment"> * Try to work around the 'max_input_vars' restriction if necessary.</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment"> */</span>
<a name="l1004"><span class="linenum">1004</span></a>  function <a class="function" onClick="logFunction('workaround_max_input_vars')" href="../_functions/workaround_max_input_vars.html" onMouseOver="funcPopup(event,'workaround_max_input_vars')">workaround_max_input_vars</a>() {
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">    // Make sure this gets executed only once from lib/setup.php!</span>
<a name="l1006"><span class="linenum">1006</span></a>      static <a class="var it4133" onMouseOver="hilite(4133)" onMouseOut="lolite()" onClick="logVariable('executed')" href="../_variables/executed.html">$executed</a> = false;
<a name="l1007"><span class="linenum">1007</span></a>      if (<a class="var it4133" onMouseOver="hilite(4133)" onMouseOut="lolite()" onClick="logVariable('executed')" href="../_variables/executed.html">$executed</a>) {
<a name="l1008"><span class="linenum">1008</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('workaround_max_input_vars')" href="../_functions/workaround_max_input_vars.html" onMouseOver="funcPopup(event,'workaround_max_input_vars')">workaround_max_input_vars</a>() must be called only once!');
<a name="l1009"><span class="linenum">1009</span></a>          return;
<a name="l1010"><span class="linenum">1010</span></a>      }
<a name="l1011"><span class="linenum">1011</span></a>      <a class="var it4133" onMouseOver="hilite(4133)" onMouseOut="lolite()" onClick="logVariable('executed')" href="../_variables/executed.html">$executed</a> = true;
<a name="l1012"><span class="linenum">1012</span></a>  
<a name="l1013"><span class="linenum">1013</span></a>      if (!isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>[&quot;CONTENT_TYPE&quot;]) or <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>[&quot;CONTENT_TYPE&quot;], 'multipart/form-data') !== false) {
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">        // Not a post or 'multipart/form-data' which is not compatible with &quot;php://input&quot; reading.</span>
<a name="l1015"><span class="linenum">1015</span></a>          return;
<a name="l1016"><span class="linenum">1016</span></a>      }
<a name="l1017"><span class="linenum">1017</span></a>  
<a name="l1018"><span class="linenum">1018</span></a>      if (!<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>() or <a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment">        // Only real users post huge forms.</span>
<a name="l1020"><span class="linenum">1020</span></a>          return;
<a name="l1021"><span class="linenum">1021</span></a>      }
<a name="l1022"><span class="linenum">1022</span></a>  
<a name="l1023"><span class="linenum">1023</span></a>      <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../_variables/max.html">$max</a> = (int)<a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('max_input_vars');
<a name="l1024"><span class="linenum">1024</span></a>  
<a name="l1025"><span class="linenum">1025</span></a>      if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../_variables/max.html">$max</a> &lt;= 0) {
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment">        // Most probably PHP &lt; 5.3.9 that does not implement this limit.</span>
<a name="l1027"><span class="linenum">1027</span></a>          return;
<a name="l1028"><span class="linenum">1028</span></a>      }
<a name="l1029"><span class="linenum">1029</span></a>  
<a name="l1030"><span class="linenum">1030</span></a>      if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../_variables/max.html">$max</a> &gt;= 200000) {
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">        // This value should be ok for all our forms, by setting it in php.ini</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">        // admins may prevent any unexpected regressions caused by this hack.</span>
<a name="l1033"><span class="linenum">1033</span></a>  
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">        // Note there is no need to worry about DDoS caused by making this limit very high</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">        // because there are very many easier ways to DDoS any Moodle server.</span>
<a name="l1036"><span class="linenum">1036</span></a>          return;
<a name="l1037"><span class="linenum">1037</span></a>      }
<a name="l1038"><span class="linenum">1038</span></a>  
<a name="l1039"><span class="linenum">1039</span></a>      if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../_variables/_POST.html">$_POST</a>, COUNT_RECURSIVE) &lt; <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../_variables/max.html">$max</a>) {
<a name="l1040"><span class="linenum">1040</span></a>          return;
<a name="l1041"><span class="linenum">1041</span></a>      }
<a name="l1042"><span class="linenum">1042</span></a>  
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">    // Large POST request with enctype supported by php://input.</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">    // Parse php://input in chunks to bypass max_input_vars limit, which also applies to parse_str().</span>
<a name="l1045"><span class="linenum">1045</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(&quot;php://input&quot;);
<a name="l1046"><span class="linenum">1046</span></a>      if (<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> === false or <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> === '') {
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">        // Some weird error.</span>
<a name="l1048"><span class="linenum">1048</span></a>          return;
<a name="l1049"><span class="linenum">1049</span></a>      }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>      <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../_variables/delim.html">$delim</a> = '&amp;';
<a name="l1052"><span class="linenum">1052</span></a>      <a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('fun')" href="../_variables/fun.html">$fun</a> = <a class="phpfunction" onClick="logFunction('create_function')" href="../_functions/create_function.html" onMouseOver="phpfuncPopup(event,'create_function')">create_function</a>('<a class="var it3345" onMouseOver="hilite(3345)" onMouseOut="lolite()" onClick="logVariable('p')" href="../_variables/p.html">$p</a>', 'return <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;'.<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../_variables/delim.html">$delim</a>.'&quot;, <a class="var it3345" onMouseOver="hilite(3345)" onMouseOut="lolite()" onClick="logVariable('p')" href="../_variables/p.html">$p</a>);');
<a name="l1053"><span class="linenum">1053</span></a>      <a class="var it3311" onMouseOver="hilite(3311)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../_variables/chunks.html">$chunks</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>(<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('fun')" href="../_variables/fun.html">$fun</a>, <a class="phpfunction" onClick="logFunction('array_chunk')" href="../_functions/array_chunk.html" onMouseOver="phpfuncPopup(event,'array_chunk')">array_chunk</a>(<a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../_variables/delim.html">$delim</a>, <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>), <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../_variables/max.html">$max</a>));
<a name="l1054"><span class="linenum">1054</span></a>  
<a name="l1055"><span class="linenum">1055</span></a>      foreach (<a class="var it3311" onMouseOver="hilite(3311)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../_variables/chunks.html">$chunks</a> as <a class="var it3040" onMouseOver="hilite(3040)" onMouseOut="lolite()" onClick="logVariable('chunk')" href="../_variables/chunk.html">$chunk</a>) {
<a name="l1056"><span class="linenum">1056</span></a>          <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> = array();
<a name="l1057"><span class="linenum">1057</span></a>          <a class="phpfunction" onClick="logFunction('parse_str')" href="../_functions/parse_str.html" onMouseOver="phpfuncPopup(event,'parse_str')">parse_str</a>(<a class="var it3040" onMouseOver="hilite(3040)" onMouseOut="lolite()" onClick="logVariable('chunk')" href="../_variables/chunk.html">$chunk</a>, <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>);
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>          <a class="function" onClick="logFunction('merge_query_params')" href="../_functions/merge_query_params.html" onMouseOver="funcPopup(event,'merge_query_params')">merge_query_params</a>(<a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../_variables/_POST.html">$_POST</a>, <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>);
<a name="l1060"><span class="linenum">1060</span></a>          <a class="function" onClick="logFunction('merge_query_params')" href="../_functions/merge_query_params.html" onMouseOver="funcPopup(event,'merge_query_params')">merge_query_params</a>(<a class="var it6714" onMouseOver="hilite(6714)" onMouseOut="lolite()" onClick="logVariable('_REQUEST')" href="../_variables/_REQUEST.html">$_REQUEST</a>, <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>);
<a name="l1061"><span class="linenum">1061</span></a>      }
<a name="l1062"><span class="linenum">1062</span></a>  }
<a name="l1063"><span class="linenum">1063</span></a>  
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">/**</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment"> * Merge parsed POST chunks.</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment"> *</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment"> * NOTE: this is not perfect, but it should work in most cases hopefully.</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment"> *</span>
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment"> * @param array $target</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment"> * @param array $values</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment"> */</span>
<a name="l1072"><span class="linenum">1072</span></a>  function <a class="function" onClick="logFunction('merge_query_params')" href="../_functions/merge_query_params.html" onMouseOver="funcPopup(event,'merge_query_params')">merge_query_params</a>(array &amp;<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>, array <a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>) {
<a name="l1073"><span class="linenum">1073</span></a>      if (isset(<a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>[0]) and isset(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[0])) {
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">        // This looks like a split [] array, lets verify the keys are continuous starting with 0.</span>
<a name="l1075"><span class="linenum">1075</span></a>          <a class="var it38683" onMouseOver="hilite(38683)" onMouseOut="lolite()" onClick="logVariable('keys1')" href="../_variables/keys1.html">$keys1</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>);
<a name="l1076"><span class="linenum">1076</span></a>          <a class="var it26090" onMouseOver="hilite(26090)" onMouseOut="lolite()" onClick="logVariable('keys2')" href="../_variables/keys2.html">$keys2</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>);
<a name="l1077"><span class="linenum">1077</span></a>          if (<a class="var it38683" onMouseOver="hilite(38683)" onMouseOut="lolite()" onClick="logVariable('keys1')" href="../_variables/keys1.html">$keys1</a> === <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it38683" onMouseOver="hilite(38683)" onMouseOut="lolite()" onClick="logVariable('keys1')" href="../_variables/keys1.html">$keys1</a>) and <a class="var it26090" onMouseOver="hilite(26090)" onMouseOut="lolite()" onClick="logVariable('keys2')" href="../_variables/keys2.html">$keys2</a> === <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it26090" onMouseOver="hilite(26090)" onMouseOut="lolite()" onClick="logVariable('keys2')" href="../_variables/keys2.html">$keys2</a>)) {
<a name="l1078"><span class="linenum">1078</span></a>              foreach (<a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> as <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l1079"><span class="linenum">1079</span></a>                  <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[] = <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>;
<a name="l1080"><span class="linenum">1080</span></a>              }
<a name="l1081"><span class="linenum">1081</span></a>              return;
<a name="l1082"><span class="linenum">1082</span></a>          }
<a name="l1083"><span class="linenum">1083</span></a>      }
<a name="l1084"><span class="linenum">1084</span></a>      foreach (<a class="var it517" onMouseOver="hilite(517)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l1085"><span class="linenum">1085</span></a>          if (!isset(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>])) {
<a name="l1086"><span class="linenum">1086</span></a>              <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>;
<a name="l1087"><span class="linenum">1087</span></a>              continue;
<a name="l1088"><span class="linenum">1088</span></a>          }
<a name="l1089"><span class="linenum">1089</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>]) and <a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>)) {
<a name="l1090"><span class="linenum">1090</span></a>              <a class="function" onClick="logFunction('merge_query_params')" href="../_functions/merge_query_params.html" onMouseOver="funcPopup(event,'merge_query_params')">merge_query_params</a>(<a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>], <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>);
<a name="l1091"><span class="linenum">1091</span></a>              continue;
<a name="l1092"><span class="linenum">1092</span></a>          }
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">        // We should not get here unless there are duplicates in params.</span>
<a name="l1094"><span class="linenum">1094</span></a>          <a class="var it1183" onMouseOver="hilite(1183)" onMouseOut="lolite()" onClick="logVariable('target')" href="../_variables/target.html">$target</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>;
<a name="l1095"><span class="linenum">1095</span></a>      }
<a name="l1096"><span class="linenum">1096</span></a>  }
<a name="l1097"><span class="linenum">1097</span></a>  
<a name="l1098"><span class="linenum">1098</span></a>  <span class="comment">/**</span>
<a name="l1099"><span class="linenum">1099</span></a>  <span class="comment"> * Initializes our performance info early.</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment"> *</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment"> * Pairs up with get_performance_info() which is actually</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment"> * in moodlelib.php. This function is here so that we can</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment"> * call it before all the libs are pulled in.</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment"> *</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment"> * @uses $PERF</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment"> */</span>
<a name="l1107"><span class="linenum">1107</span></a>  function <a class="function" onClick="logFunction('init_performance_info')" href="../_functions/init_performance_info.html" onMouseOver="funcPopup(event,'init_performance_info')">init_performance_info</a>() {
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>      global <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l1110"><span class="linenum">1110</span></a>  
<a name="l1111"><span class="linenum">1111</span></a>      <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a> = new stdClass();
<a name="l1112"><span class="linenum">1112</span></a>      <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a>-&gt;<a onClick="logVariable('logwrites')" class="var it39693" onMouseOver="hilite(39693)" onMouseOut="lolite()" href="../_variables/logwrites.html">logwrites</a> = 0;
<a name="l1113"><span class="linenum">1113</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('microtime')) {
<a name="l1114"><span class="linenum">1114</span></a>          <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a>-&gt;<a onClick="logVariable('starttime')" class="var it39693" onMouseOver="hilite(39693)" onMouseOut="lolite()" href="../_variables/starttime.html">starttime</a> = <a class="phpfunction" onClick="logFunction('microtime')" href="../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>();
<a name="l1115"><span class="linenum">1115</span></a>      }
<a name="l1116"><span class="linenum">1116</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('memory_get_usage')) {
<a name="l1117"><span class="linenum">1117</span></a>          <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a>-&gt;<a onClick="logVariable('startmemory')" class="var it39693" onMouseOver="hilite(39693)" onMouseOut="lolite()" href="../_variables/startmemory.html">startmemory</a> = <a class="phpfunction" onClick="logFunction('memory_get_usage')" href="../_functions/memory_get_usage.html" onMouseOver="phpfuncPopup(event,'memory_get_usage')">memory_get_usage</a>();
<a name="l1118"><span class="linenum">1118</span></a>      }
<a name="l1119"><span class="linenum">1119</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('posix_times')) {
<a name="l1120"><span class="linenum">1120</span></a>          <a class="var it13240" onMouseOver="hilite(13240)" onMouseOut="lolite()" onClick="logVariable('PERF')" href="../_variables/PERF.html">$PERF</a>-&gt;<a onClick="logVariable('startposixtimes')" class="var it39693" onMouseOver="hilite(39693)" onMouseOut="lolite()" href="../_variables/startposixtimes.html">startposixtimes</a> = <a class="phpfunction" onClick="logFunction('posix_times')" href="../_functions/posix_times.html" onMouseOver="phpfuncPopup(event,'posix_times')">posix_times</a>();
<a name="l1121"><span class="linenum">1121</span></a>      }
<a name="l1122"><span class="linenum">1122</span></a>  }
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>  <span class="comment">/**</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment"> * Indicates whether we are in the middle of the initial Moodle install.</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment"> *</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment"> * Very occasionally it is necessary avoid running certain bits of code before the</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment"> * Moodle installation has completed. The installed flag is set in admin/index.php</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment"> * after Moodle core and all the plugins have been installed, but just before</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment"> * the person doing the initial install is asked to choose the admin password.</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment"> *</span>
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment"> * @return boolean true if the initial install is not complete.</span>
<a name="l1133"><span class="linenum">1133</span></a>  <span class="comment"> */</span>
<a name="l1134"><span class="linenum">1134</span></a>  function <a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>() {
<a name="l1135"><span class="linenum">1135</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1136"><span class="linenum">1136</span></a>      return empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('rolesactive')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/rolesactive.html">rolesactive</a>);
<a name="l1137"><span class="linenum">1137</span></a>  }
<a name="l1138"><span class="linenum">1138</span></a>  
<a name="l1139"><span class="linenum">1139</span></a>  <span class="comment">/**</span>
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment"> * Function to raise the memory limit to a new value.</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment"> * Will respect the memory limit if it is higher, thus allowing</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment"> * settings in php.ini, apache conf or command line switches</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment"> * to override it.</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment"> *</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment"> * The memory limit should be expressed with a constant</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment"> * MEMORY_STANDARD, MEMORY_EXTRA or MEMORY_HUGE.</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment"> * It is possible to use strings or integers too (eg:'128M').</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment"> *</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment"> * @param mixed $newlimit the new memory limit</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment"> * @return bool success</span>
<a name="l1151"><span class="linenum">1151</span></a>  <span class="comment"> */</span>
<a name="l1152"><span class="linenum">1152</span></a>  function <a class="function" onClick="logFunction('raise_memory_limit')" href="../_functions/raise_memory_limit.html" onMouseOver="funcPopup(event,'raise_memory_limit')">raise_memory_limit</a>(<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>) {
<a name="l1153"><span class="linenum">1153</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>      if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> == <a class="constant" onClick="logConstant('MEMORY_UNLIMITED')" href="../_constants/MEMORY_UNLIMITED.html" onMouseOver="constPopup(event,'MEMORY_UNLIMITED')">MEMORY_UNLIMITED</a>) {
<a name="l1156"><span class="linenum">1156</span></a>          <a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('memory_limit', -1);
<a name="l1157"><span class="linenum">1157</span></a>          return true;
<a name="l1158"><span class="linenum">1158</span></a>  
<a name="l1159"><span class="linenum">1159</span></a>      } else if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> == <a class="constant" onClick="logConstant('MEMORY_STANDARD')" href="../_constants/MEMORY_STANDARD.html" onMouseOver="constPopup(event,'MEMORY_STANDARD')">MEMORY_STANDARD</a>) {
<a name="l1160"><span class="linenum">1160</span></a>          if (PHP_INT_SIZE &gt; 4) {
<a name="l1161"><span class="linenum">1161</span></a>              <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>('128M'); <span class="comment">// 64bit needs more memory</span>
<a name="l1162"><span class="linenum">1162</span></a>          } else {
<a name="l1163"><span class="linenum">1163</span></a>              <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>('96M');
<a name="l1164"><span class="linenum">1164</span></a>          }
<a name="l1165"><span class="linenum">1165</span></a>  
<a name="l1166"><span class="linenum">1166</span></a>      } else if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> == <a class="constant" onClick="logConstant('MEMORY_EXTRA')" href="../_constants/MEMORY_EXTRA.html" onMouseOver="constPopup(event,'MEMORY_EXTRA')">MEMORY_EXTRA</a>) {
<a name="l1167"><span class="linenum">1167</span></a>          if (PHP_INT_SIZE &gt; 4) {
<a name="l1168"><span class="linenum">1168</span></a>              <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>('384M'); <span class="comment">// 64bit needs more memory</span>
<a name="l1169"><span class="linenum">1169</span></a>          } else {
<a name="l1170"><span class="linenum">1170</span></a>              <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>('256M');
<a name="l1171"><span class="linenum">1171</span></a>          }
<a name="l1172"><span class="linenum">1172</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('extramemorylimit')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/extramemorylimit.html">extramemorylimit</a>)) {
<a name="l1173"><span class="linenum">1173</span></a>              <a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('extramemorylimit')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/extramemorylimit.html">extramemorylimit</a>);
<a name="l1174"><span class="linenum">1174</span></a>              if (<a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a> &gt; <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>) {
<a name="l1175"><span class="linenum">1175</span></a>                  <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a>;
<a name="l1176"><span class="linenum">1176</span></a>              }
<a name="l1177"><span class="linenum">1177</span></a>          }
<a name="l1178"><span class="linenum">1178</span></a>  
<a name="l1179"><span class="linenum">1179</span></a>      } else if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> == <a class="constant" onClick="logConstant('MEMORY_HUGE')" href="../_constants/MEMORY_HUGE.html" onMouseOver="constPopup(event,'MEMORY_HUGE')">MEMORY_HUGE</a>) {
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">        // MEMORY_HUGE uses 2G or MEMORY_EXTRA, whichever is bigger.</span>
<a name="l1181"><span class="linenum">1181</span></a>          <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>('2G');
<a name="l1182"><span class="linenum">1182</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('extramemorylimit')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/extramemorylimit.html">extramemorylimit</a>)) {
<a name="l1183"><span class="linenum">1183</span></a>              <a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('extramemorylimit')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/extramemorylimit.html">extramemorylimit</a>);
<a name="l1184"><span class="linenum">1184</span></a>              if (<a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a> &gt; <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>) {
<a name="l1185"><span class="linenum">1185</span></a>                  <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('extra')" href="../_variables/extra.html">$extra</a>;
<a name="l1186"><span class="linenum">1186</span></a>              }
<a name="l1187"><span class="linenum">1187</span></a>          }
<a name="l1188"><span class="linenum">1188</span></a>  
<a name="l1189"><span class="linenum">1189</span></a>      } else {
<a name="l1190"><span class="linenum">1190</span></a>          <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>);
<a name="l1191"><span class="linenum">1191</span></a>      }
<a name="l1192"><span class="linenum">1192</span></a>  
<a name="l1193"><span class="linenum">1193</span></a>      if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> &lt;= 0) {
<a name="l1194"><span class="linenum">1194</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Invalid memory limit specified.');
<a name="l1195"><span class="linenum">1195</span></a>          return false;
<a name="l1196"><span class="linenum">1196</span></a>      }
<a name="l1197"><span class="linenum">1197</span></a>  
<a name="l1198"><span class="linenum">1198</span></a>      <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('memory_limit');
<a name="l1199"><span class="linenum">1199</span></a>      if (empty(<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a>)) {
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">        // if php is compiled without --enable-memory-limits</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">        // apparently memory_limit is set to ''</span>
<a name="l1202"><span class="linenum">1202</span></a>          <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = 0;
<a name="l1203"><span class="linenum">1203</span></a>      } else {
<a name="l1204"><span class="linenum">1204</span></a>          if (<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> == -1){
<a name="l1205"><span class="linenum">1205</span></a>              return true; <span class="comment">// unlimited mem!</span>
<a name="l1206"><span class="linenum">1206</span></a>          }
<a name="l1207"><span class="linenum">1207</span></a>          <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a>);
<a name="l1208"><span class="linenum">1208</span></a>      }
<a name="l1209"><span class="linenum">1209</span></a>  
<a name="l1210"><span class="linenum">1210</span></a>      if (<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a> &gt; <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a>) {
<a name="l1211"><span class="linenum">1211</span></a>          <a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('memory_limit', <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>);
<a name="l1212"><span class="linenum">1212</span></a>          return true;
<a name="l1213"><span class="linenum">1213</span></a>      }
<a name="l1214"><span class="linenum">1214</span></a>      return false;
<a name="l1215"><span class="linenum">1215</span></a>  }
<a name="l1216"><span class="linenum">1216</span></a>  
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">/**</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment"> * Function to reduce the memory limit to a new value.</span>
<a name="l1219"><span class="linenum">1219</span></a>  <span class="comment"> * Will respect the memory limit if it is lower, thus allowing</span>
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment"> * settings in php.ini, apache conf or command line switches</span>
<a name="l1221"><span class="linenum">1221</span></a>  <span class="comment"> * to override it</span>
<a name="l1222"><span class="linenum">1222</span></a>  <span class="comment"> *</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment"> * The memory limit should be expressed with a string (eg:'64M')</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment"> *</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment"> * @param string $newlimit the new memory limit</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment"> * @return bool</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment"> */</span>
<a name="l1228"><span class="linenum">1228</span></a>  function <a class="function" onClick="logFunction('reduce_memory_limit')" href="../_functions/reduce_memory_limit.html" onMouseOver="funcPopup(event,'reduce_memory_limit')">reduce_memory_limit</a>(<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>) {
<a name="l1229"><span class="linenum">1229</span></a>      if (empty(<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>)) {
<a name="l1230"><span class="linenum">1230</span></a>          return false;
<a name="l1231"><span class="linenum">1231</span></a>      }
<a name="l1232"><span class="linenum">1232</span></a>      <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('memory_limit');
<a name="l1233"><span class="linenum">1233</span></a>      if (empty(<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a>)) {
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment">        // if php is compiled without --enable-memory-limits</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">        // apparently memory_limit is set to ''</span>
<a name="l1236"><span class="linenum">1236</span></a>          <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = 0;
<a name="l1237"><span class="linenum">1237</span></a>      } else {
<a name="l1238"><span class="linenum">1238</span></a>          if (<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> == -1){
<a name="l1239"><span class="linenum">1239</span></a>              return true; <span class="comment">// unlimited mem!</span>
<a name="l1240"><span class="linenum">1240</span></a>          }
<a name="l1241"><span class="linenum">1241</span></a>          <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a>);
<a name="l1242"><span class="linenum">1242</span></a>      }
<a name="l1243"><span class="linenum">1243</span></a>  
<a name="l1244"><span class="linenum">1244</span></a>      <a class="var it1821" onMouseOver="hilite(1821)" onMouseOut="lolite()" onClick="logVariable('new')" href="../_variables/new.html">$new</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>);
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment">    // -1 is smaller, but it means unlimited</span>
<a name="l1246"><span class="linenum">1246</span></a>      if (<a class="var it1821" onMouseOver="hilite(1821)" onMouseOut="lolite()" onClick="logVariable('new')" href="../_variables/new.html">$new</a> &lt; <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('cur')" href="../_variables/cur.html">$cur</a> &amp;&amp; <a class="var it1821" onMouseOver="hilite(1821)" onMouseOut="lolite()" onClick="logVariable('new')" href="../_variables/new.html">$new</a> != -1) {
<a name="l1247"><span class="linenum">1247</span></a>          <a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('memory_limit', <a class="var it8840" onMouseOver="hilite(8840)" onMouseOut="lolite()" onClick="logVariable('newlimit')" href="../_variables/newlimit.html">$newlimit</a>);
<a name="l1248"><span class="linenum">1248</span></a>          return true;
<a name="l1249"><span class="linenum">1249</span></a>      }
<a name="l1250"><span class="linenum">1250</span></a>      return false;
<a name="l1251"><span class="linenum">1251</span></a>  }
<a name="l1252"><span class="linenum">1252</span></a>  
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">/**</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment"> * Converts numbers like 10M into bytes.</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment"> *</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment"> * @param string $size The size to be converted</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment"> * @return int</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment"> */</span>
<a name="l1259"><span class="linenum">1259</span></a>  function <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = 0) {
<a name="l1260"><span class="linenum">1260</span></a>      if (!<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>) {
<a name="l1261"><span class="linenum">1261</span></a>          return 0;
<a name="l1262"><span class="linenum">1262</span></a>      }
<a name="l1263"><span class="linenum">1263</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a> = array();
<a name="l1264"><span class="linenum">1264</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['GB'] = 1073741824;
<a name="l1265"><span class="linenum">1265</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['Gb'] = 1073741824;
<a name="l1266"><span class="linenum">1266</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['G'] = 1073741824;
<a name="l1267"><span class="linenum">1267</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['MB'] = 1048576;
<a name="l1268"><span class="linenum">1268</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['Mb'] = 1048576;
<a name="l1269"><span class="linenum">1269</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['M'] = 1048576;
<a name="l1270"><span class="linenum">1270</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['m'] = 1048576;
<a name="l1271"><span class="linenum">1271</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['KB'] = 1024;
<a name="l1272"><span class="linenum">1272</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['Kb'] = 1024;
<a name="l1273"><span class="linenum">1273</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['K'] = 1024;
<a name="l1274"><span class="linenum">1274</span></a>      <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>['k'] = 1024;
<a name="l1275"><span class="linenum">1275</span></a>  
<a name="l1276"><span class="linenum">1276</span></a>      while (<a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>) = <a class="phpfunction" onClick="logFunction('each')" href="../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(<a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>)) {
<a name="l1277"><span class="linenum">1277</span></a>          if ((<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>)&gt;<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>))&amp;&amp;(<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>, <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>) - <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>))==<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>)) {
<a name="l1278"><span class="linenum">1278</span></a>              <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>, 0, <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>) - <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>)) * <a class="var it38685" onMouseOver="hilite(38685)" onMouseOut="lolite()" onClick="logVariable('scan')" href="../_variables/scan.html">$scan</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>];
<a name="l1279"><span class="linenum">1279</span></a>              break;
<a name="l1280"><span class="linenum">1280</span></a>          }
<a name="l1281"><span class="linenum">1281</span></a>      }
<a name="l1282"><span class="linenum">1282</span></a>      return <a class="var it1225" onMouseOver="hilite(1225)" onMouseOut="lolite()" onClick="logVariable('size')" href="../_variables/size.html">$size</a>;
<a name="l1283"><span class="linenum">1283</span></a>  }
<a name="l1284"><span class="linenum">1284</span></a>  
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">/**</span>
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment"> * Try to disable all output buffering and purge</span>
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment"> * all headers.</span>
<a name="l1288"><span class="linenum">1288</span></a>  <span class="comment"> *</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment"> * @access private to be called only from lib/setup.php !</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment"> * @return void</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment"> */</span>
<a name="l1292"><span class="linenum">1292</span></a>  function <a class="function" onClick="logFunction('disable_output_buffering')" href="../_functions/disable_output_buffering.html" onMouseOver="funcPopup(event,'disable_output_buffering')">disable_output_buffering</a>() {
<a name="l1293"><span class="linenum">1293</span></a>      <a class="var it3189" onMouseOver="hilite(3189)" onMouseOut="lolite()" onClick="logVariable('olddebug')" href="../_variables/olddebug.html">$olddebug</a> = <a class="phpfunction" onClick="logFunction('error_reporting')" href="../_functions/error_reporting.html" onMouseOver="phpfuncPopup(event,'error_reporting')">error_reporting</a>(0);
<a name="l1294"><span class="linenum">1294</span></a>  
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">    // disable compression, it would prevent closing of buffers</span>
<a name="l1296"><span class="linenum">1296</span></a>      if (<a class="function" onClick="logFunction('ini_get_bool')" href="../_functions/ini_get_bool.html" onMouseOver="funcPopup(event,'ini_get_bool')">ini_get_bool</a>('zlib.output_compression')) {
<a name="l1297"><span class="linenum">1297</span></a>          <a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('zlib.output_compression', 'Off');
<a name="l1298"><span class="linenum">1298</span></a>      }
<a name="l1299"><span class="linenum">1299</span></a>  
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">    // try to flush everything all the time</span>
<a name="l1301"><span class="linenum">1301</span></a>      <a class="phpfunction" onClick="logFunction('ob_implicit_flush')" href="../_functions/ob_implicit_flush.html" onMouseOver="phpfuncPopup(event,'ob_implicit_flush')">ob_implicit_flush</a>(true);
<a name="l1302"><span class="linenum">1302</span></a>  
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment">    // close all buffers if possible and discard any existing output</span>
<a name="l1304"><span class="linenum">1304</span></a>  <span class="comment">    // this can actually work around some whitespace problems in config.php</span>
<a name="l1305"><span class="linenum">1305</span></a>      while(<a class="phpfunction" onClick="logFunction('ob_get_level')" href="../_functions/ob_get_level.html" onMouseOver="phpfuncPopup(event,'ob_get_level')">ob_get_level</a>()) {
<a name="l1306"><span class="linenum">1306</span></a>          if (!<a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>()) {
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">            // prevent infinite loop when buffer can not be closed</span>
<a name="l1308"><span class="linenum">1308</span></a>              break;
<a name="l1309"><span class="linenum">1309</span></a>          }
<a name="l1310"><span class="linenum">1310</span></a>      }
<a name="l1311"><span class="linenum">1311</span></a>  
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">    // disable any other output handlers</span>
<a name="l1313"><span class="linenum">1313</span></a>      <a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('output_handler', '');
<a name="l1314"><span class="linenum">1314</span></a>  
<a name="l1315"><span class="linenum">1315</span></a>      <a class="phpfunction" onClick="logFunction('error_reporting')" href="../_functions/error_reporting.html" onMouseOver="phpfuncPopup(event,'error_reporting')">error_reporting</a>(<a class="var it3189" onMouseOver="hilite(3189)" onMouseOut="lolite()" onClick="logVariable('olddebug')" href="../_variables/olddebug.html">$olddebug</a>);
<a name="l1316"><span class="linenum">1316</span></a>  }
<a name="l1317"><span class="linenum">1317</span></a>  
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">/**</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment"> * Check whether a major upgrade is needed. That is defined as an upgrade that</span>
<a name="l1320"><span class="linenum">1320</span></a>  <span class="comment"> * changes something really fundamental in the database, so nothing can possibly</span>
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment"> * work until the database has been updated, and that is defined by the hard-coded</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment"> * version number in this function.</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment"> */</span>
<a name="l1324"><span class="linenum">1324</span></a>  function <a class="function" onClick="logFunction('redirect_if_major_upgrade_required')" href="../_functions/redirect_if_major_upgrade_required.html" onMouseOver="funcPopup(event,'redirect_if_major_upgrade_required')">redirect_if_major_upgrade_required</a>() {
<a name="l1325"><span class="linenum">1325</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1326"><span class="linenum">1326</span></a>      <a class="var it38686" onMouseOver="hilite(38686)" onMouseOut="lolite()" onClick="logVariable('lastmajordbchanges')" href="../_variables/lastmajordbchanges.html">$lastmajordbchanges</a> = 2014093001.00;
<a name="l1327"><span class="linenum">1327</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('version')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/version.html">version</a>) <a class="function" onClick="logFunction('or')" href="../_functions/or.html" onMouseOver="funcPopup(event,'or')">or</a> (float)<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('version')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/version.html">version</a> &lt; <a class="var it38686" onMouseOver="hilite(38686)" onMouseOut="lolite()" onClick="logVariable('lastmajordbchanges')" href="../_variables/lastmajordbchanges.html">$lastmajordbchanges</a> or
<a name="l1328"><span class="linenum">1328</span></a>              <a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>() or !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('adminsetuppending')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/adminsetuppending.html">adminsetuppending</a>)) {
<a name="l1329"><span class="linenum">1329</span></a>          try {
<a name="l1330"><span class="linenum">1330</span></a>              @\core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('terminate_current')" href="../_functions/terminate_current.html" onMouseOver="funcPopup(event,'terminate_current')">terminate_current</a>();
<a name="l1331"><span class="linenum">1331</span></a>          } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>) {
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">            // Ignore any errors, redirect to upgrade anyway.</span>
<a name="l1333"><span class="linenum">1333</span></a>          }
<a name="l1334"><span class="linenum">1334</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/admin.html">admin</a> . '<a class="filename" href="../index.php.html">/index.php</a>';
<a name="l1335"><span class="linenum">1335</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PROTOCOL'] . ' 303 See Other');
<a name="l1336"><span class="linenum">1336</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Location: ' . <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l1337"><span class="linenum">1337</span></a>          echo <a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a>::<a class="function" onClick="logFunction('plain_redirect_message')" href="../_functions/plain_redirect_message.html" onMouseOver="funcPopup(event,'plain_redirect_message')">plain_redirect_message</a>(<a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>));
<a name="l1338"><span class="linenum">1338</span></a>          exit;
<a name="l1339"><span class="linenum">1339</span></a>      }
<a name="l1340"><span class="linenum">1340</span></a>  }
<a name="l1341"><span class="linenum">1341</span></a>  
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">/**</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment"> * Makes sure that upgrade process is not running</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment"> *</span>
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment"> * To be inserted in the core functions that can not be called by pluigns during upgrade.</span>
<a name="l1346"><span class="linenum">1346</span></a>  <span class="comment"> * Core upgrade should not use any API functions at all.</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment"> * See {@link http://docs.moodle.org/dev/Upgrade_API#Upgrade_code_restrictions}</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment"> *</span>
<a name="l1349"><span class="linenum">1349</span></a>  <span class="comment"> * @throws moodle_exception if executed from inside of upgrade script and $warningonly is false</span>
<a name="l1350"><span class="linenum">1350</span></a>  <span class="comment"> * @param bool $warningonly if true displays a warning instead of throwing an exception</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment"> * @return bool true if executed from outside of upgrade process, false if from inside upgrade process and function is used for warning only</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment"> */</span>
<a name="l1353"><span class="linenum">1353</span></a>  function <a class="function" onClick="logFunction('upgrade_ensure_not_running')" href="../_functions/upgrade_ensure_not_running.html" onMouseOver="funcPopup(event,'upgrade_ensure_not_running')">upgrade_ensure_not_running</a>(<a class="var it38687" onMouseOver="hilite(38687)" onMouseOut="lolite()" onClick="logVariable('warningonly')" href="../_variables/warningonly.html">$warningonly</a> = false) {
<a name="l1354"><span class="linenum">1354</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1355"><span class="linenum">1355</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('upgraderunning')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/upgraderunning.html">upgraderunning</a>)) {
<a name="l1356"><span class="linenum">1356</span></a>          if (!<a class="var it38687" onMouseOver="hilite(38687)" onMouseOut="lolite()" onClick="logVariable('warningonly')" href="../_variables/warningonly.html">$warningonly</a>) {
<a name="l1357"><span class="linenum">1357</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotexecduringupgrade');
<a name="l1358"><span class="linenum">1358</span></a>          } else {
<a name="l1359"><span class="linenum">1359</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cannotexecduringupgrade', 'error'), <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1360"><span class="linenum">1360</span></a>              return false;
<a name="l1361"><span class="linenum">1361</span></a>          }
<a name="l1362"><span class="linenum">1362</span></a>      }
<a name="l1363"><span class="linenum">1363</span></a>      return true;
<a name="l1364"><span class="linenum">1364</span></a>  }
<a name="l1365"><span class="linenum">1365</span></a>  
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">/**</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment"> * Function to check if a directory exists and by default create it if not exists.</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment"> *</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment"> * Previously this was accepting paths only from dataroot, but we now allow</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment"> * files outside of dataroot if you supply custom paths for some settings in config.php.</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment"> * This function does not verify that the directory is writable.</span>
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment"> *</span>
<a name="l1373"><span class="linenum">1373</span></a>  <span class="comment"> * NOTE: this function uses current file stat cache,</span>
<a name="l1374"><span class="linenum">1374</span></a>  <span class="comment"> *       please use clearstatcache() before this if you expect that the</span>
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment"> *       directories may have been removed recently from a different request.</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment"> *</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment"> * @param string $dir absolute directory path</span>
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment"> * @param boolean $create directory if does not exist</span>
<a name="l1379"><span class="linenum">1379</span></a>  <span class="comment"> * @param boolean $recursive create directory recursively</span>
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment"> * @return boolean true if directory exists or created, false otherwise</span>
<a name="l1381"><span class="linenum">1381</span></a>  <span class="comment"> */</span>
<a name="l1382"><span class="linenum">1382</span></a>  function <a class="function" onClick="logFunction('check_dir_exists')" href="../_functions/check_dir_exists.html" onMouseOver="funcPopup(event,'check_dir_exists')">check_dir_exists</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>, <a class="var it10011" onMouseOver="hilite(10011)" onMouseOut="lolite()" onClick="logVariable('create')" href="../_variables/create.html">$create</a> = true, <a class="var it3455" onMouseOver="hilite(3455)" onMouseOut="lolite()" onClick="logVariable('recursive')" href="../_variables/recursive.html">$recursive</a> = true) {
<a name="l1383"><span class="linenum">1383</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1384"><span class="linenum">1384</span></a>  
<a name="l1385"><span class="linenum">1385</span></a>      <a class="phpfunction" onClick="logFunction('umask')" href="../_functions/umask.html" onMouseOver="phpfuncPopup(event,'umask')">umask</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('umaskpermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/umaskpermissions.html">umaskpermissions</a>);
<a name="l1386"><span class="linenum">1386</span></a>  
<a name="l1387"><span class="linenum">1387</span></a>      if (<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>)) {
<a name="l1388"><span class="linenum">1388</span></a>          return true;
<a name="l1389"><span class="linenum">1389</span></a>      }
<a name="l1390"><span class="linenum">1390</span></a>  
<a name="l1391"><span class="linenum">1391</span></a>      if (!<a class="var it10011" onMouseOver="hilite(10011)" onMouseOut="lolite()" onClick="logVariable('create')" href="../_variables/create.html">$create</a>) {
<a name="l1392"><span class="linenum">1392</span></a>          return false;
<a name="l1393"><span class="linenum">1393</span></a>      }
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>      return <a class="phpfunction" onClick="logFunction('mkdir')" href="../_functions/mkdir.html" onMouseOver="phpfuncPopup(event,'mkdir')">mkdir</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('directorypermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/directorypermissions.html">directorypermissions</a>, <a class="var it3455" onMouseOver="hilite(3455)" onMouseOut="lolite()" onClick="logVariable('recursive')" href="../_variables/recursive.html">$recursive</a>);
<a name="l1396"><span class="linenum">1396</span></a>  }
<a name="l1397"><span class="linenum">1397</span></a>  
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">/**</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment"> * Create a new unique directory within the specified directory.</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment"> *</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment"> * @param string $basedir The directory to create your new unique directory within.</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment"> * @return string The created directory</span>
<a name="l1404"><span class="linenum">1404</span></a>  <span class="comment"> * @throws invalid_dataroot_permissions</span>
<a name="l1405"><span class="linenum">1405</span></a>  <span class="comment"> */</span>
<a name="l1406"><span class="linenum">1406</span></a>  function <a class="function" onClick="logFunction('make_unique_writable_directory')" href="../_functions/make_unique_writable_directory.html" onMouseOver="funcPopup(event,'make_unique_writable_directory')">make_unique_writable_directory</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1407"><span class="linenum">1407</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a>) || !<a class="phpfunction" onClick="logFunction('is_writable')" href="../_functions/is_writable.html" onMouseOver="phpfuncPopup(event,'is_writable')">is_writable</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a>)) {
<a name="l1408"><span class="linenum">1408</span></a>  <span class="comment">        // The basedir is not writable. We will not be able to create the child directory.</span>
<a name="l1409"><span class="linenum">1409</span></a>          if (<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) {
<a name="l1410"><span class="linenum">1410</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_dataroot_permissions')" href="../_classes/invalid_dataroot_permissions.html" onMouseOver="classPopup(event,'invalid_dataroot_permissions')">invalid_dataroot_permissions</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a> . ' is not writable. Unable to create a unique directory within it.');
<a name="l1411"><span class="linenum">1411</span></a>          } else {
<a name="l1412"><span class="linenum">1412</span></a>              return false;
<a name="l1413"><span class="linenum">1413</span></a>          }
<a name="l1414"><span class="linenum">1414</span></a>      }
<a name="l1415"><span class="linenum">1415</span></a>  
<a name="l1416"><span class="linenum">1416</span></a>      do {
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">        // Generate a new (hopefully unique) directory name.</span>
<a name="l1418"><span class="linenum">1418</span></a>          <a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a> = <a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a> . DIRECTORY_SEPARATOR . <a class="function" onClick="logFunction('generate_uuid')" href="../_functions/generate_uuid.html" onMouseOver="funcPopup(event,'generate_uuid')">generate_uuid</a>();
<a name="l1419"><span class="linenum">1419</span></a>      } while (
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment">            // Ensure that basedir is still writable - if we do not check, we could get stuck in a loop here.</span>
<a name="l1421"><span class="linenum">1421</span></a>              <a class="phpfunction" onClick="logFunction('is_writable')" href="../_functions/is_writable.html" onMouseOver="phpfuncPopup(event,'is_writable')">is_writable</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a>) &amp;&amp;
<a name="l1422"><span class="linenum">1422</span></a>  
<a name="l1423"><span class="linenum">1423</span></a>  <span class="comment">            // Make the new unique directory. If the directory already exists, it will return false.</span>
<a name="l1424"><span class="linenum">1424</span></a>              !<a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) &amp;&amp;
<a name="l1425"><span class="linenum">1425</span></a>  
<a name="l1426"><span class="linenum">1426</span></a>  <span class="comment">            // Ensure that the directory now exists</span>
<a name="l1427"><span class="linenum">1427</span></a>              <a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>)
<a name="l1428"><span class="linenum">1428</span></a>          );
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">    // Check that the directory was correctly created.</span>
<a name="l1431"><span class="linenum">1431</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>) || !<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>) || !<a class="phpfunction" onClick="logFunction('is_writable')" href="../_functions/is_writable.html" onMouseOver="phpfuncPopup(event,'is_writable')">is_writable</a>(<a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>)) {
<a name="l1432"><span class="linenum">1432</span></a>          if (<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) {
<a name="l1433"><span class="linenum">1433</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_dataroot_permissions')" href="../_classes/invalid_dataroot_permissions.html" onMouseOver="classPopup(event,'invalid_dataroot_permissions')">invalid_dataroot_permissions</a>('Unique directory creation failed.');
<a name="l1434"><span class="linenum">1434</span></a>          } else {
<a name="l1435"><span class="linenum">1435</span></a>              return false;
<a name="l1436"><span class="linenum">1436</span></a>          }
<a name="l1437"><span class="linenum">1437</span></a>      }
<a name="l1438"><span class="linenum">1438</span></a>  
<a name="l1439"><span class="linenum">1439</span></a>      return <a class="var it38689" onMouseOver="hilite(38689)" onMouseOut="lolite()" onClick="logVariable('uniquedir')" href="../_variables/uniquedir.html">$uniquedir</a>;
<a name="l1440"><span class="linenum">1440</span></a>  }
<a name="l1441"><span class="linenum">1441</span></a>  
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">/**</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment"> * Create a directory and make sure it is writable.</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment"> *</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment"> * @private</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment"> * @param string $dir  the full path of the directory to be created</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1449"><span class="linenum">1449</span></a>  <span class="comment"> */</span>
<a name="l1450"><span class="linenum">1450</span></a>  function <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1451"><span class="linenum">1451</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1452"><span class="linenum">1452</span></a>  
<a name="l1453"><span class="linenum">1453</span></a>      if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>) and !<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>)) {
<a name="l1454"><span class="linenum">1454</span></a>          if (<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) {
<a name="l1455"><span class="linenum">1455</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>.' directory can not be created, file with the same name already exists.');
<a name="l1456"><span class="linenum">1456</span></a>          } else {
<a name="l1457"><span class="linenum">1457</span></a>              return false;
<a name="l1458"><span class="linenum">1458</span></a>          }
<a name="l1459"><span class="linenum">1459</span></a>      }
<a name="l1460"><span class="linenum">1460</span></a>  
<a name="l1461"><span class="linenum">1461</span></a>      <a class="phpfunction" onClick="logFunction('umask')" href="../_functions/umask.html" onMouseOver="phpfuncPopup(event,'umask')">umask</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('umaskpermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/umaskpermissions.html">umaskpermissions</a>);
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>)) {
<a name="l1464"><span class="linenum">1464</span></a>          if (!@<a class="phpfunction" onClick="logFunction('mkdir')" href="../_functions/mkdir.html" onMouseOver="phpfuncPopup(event,'mkdir')">mkdir</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('directorypermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/directorypermissions.html">directorypermissions</a>, true)) {
<a name="l1465"><span class="linenum">1465</span></a>              <a class="phpfunction" onClick="logFunction('clearstatcache')" href="../_functions/clearstatcache.html" onMouseOver="phpfuncPopup(event,'clearstatcache')">clearstatcache</a>();
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">            // There might be a race condition when creating directory.</span>
<a name="l1467"><span class="linenum">1467</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>)) {
<a name="l1468"><span class="linenum">1468</span></a>                  if (<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) {
<a name="l1469"><span class="linenum">1469</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_dataroot_permissions')" href="../_classes/invalid_dataroot_permissions.html" onMouseOver="classPopup(event,'invalid_dataroot_permissions')">invalid_dataroot_permissions</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>.' can not be created, check permissions.');
<a name="l1470"><span class="linenum">1470</span></a>                  } else {
<a name="l1471"><span class="linenum">1471</span></a>                      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Can not create directory: '.<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>, <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1472"><span class="linenum">1472</span></a>                      return false;
<a name="l1473"><span class="linenum">1473</span></a>                  }
<a name="l1474"><span class="linenum">1474</span></a>              }
<a name="l1475"><span class="linenum">1475</span></a>          }
<a name="l1476"><span class="linenum">1476</span></a>      }
<a name="l1477"><span class="linenum">1477</span></a>  
<a name="l1478"><span class="linenum">1478</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_writable')" href="../_functions/is_writable.html" onMouseOver="phpfuncPopup(event,'is_writable')">is_writable</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>)) {
<a name="l1479"><span class="linenum">1479</span></a>          if (<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>) {
<a name="l1480"><span class="linenum">1480</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_dataroot_permissions')" href="../_classes/invalid_dataroot_permissions.html" onMouseOver="classPopup(event,'invalid_dataroot_permissions')">invalid_dataroot_permissions</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>.' is not writable, check permissions.');
<a name="l1481"><span class="linenum">1481</span></a>          } else {
<a name="l1482"><span class="linenum">1482</span></a>              return false;
<a name="l1483"><span class="linenum">1483</span></a>          }
<a name="l1484"><span class="linenum">1484</span></a>      }
<a name="l1485"><span class="linenum">1485</span></a>  
<a name="l1486"><span class="linenum">1486</span></a>      return <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>;
<a name="l1487"><span class="linenum">1487</span></a>  }
<a name="l1488"><span class="linenum">1488</span></a>  
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">/**</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment"> * Protect a directory from web access.</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment"> * Could be extended in the future to support other mechanisms (e.g. other webservers).</span>
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment"> *</span>
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment"> * @private</span>
<a name="l1494"><span class="linenum">1494</span></a>  <span class="comment"> * @param string $dir  the full path of the directory to be protected</span>
<a name="l1495"><span class="linenum">1495</span></a>  <span class="comment"> */</span>
<a name="l1496"><span class="linenum">1496</span></a>  function <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>) {
<a name="l1497"><span class="linenum">1497</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment">    // Make sure a .htaccess file is here, JUST IN CASE the files area is in the open and .htaccess is supported</span>
<a name="l1499"><span class="linenum">1499</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(&quot;<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>/.htaccess&quot;)) {
<a name="l1500"><span class="linenum">1500</span></a>          if (<a class="var it1207" onMouseOver="hilite(1207)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a> = <a class="function" onClick="logFunction('fopen')" href="../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(&quot;<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>/.htaccess&quot;, 'w')) {   // For safety
<a name="l1501"><span class="linenum">1501</span></a>              @<a class="phpfunction" onClick="logFunction('fwrite')" href="../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it1207" onMouseOver="hilite(1207)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>, &quot;deny from all\r\nAllowOverride None\r\nNote: this file is broken intentionally, we do not want anybody to undo it in subdirectory!\r\n&quot;);
<a name="l1502"><span class="linenum">1502</span></a>              @<a class="phpfunction" onClick="logFunction('fclose')" href="../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it1207" onMouseOver="hilite(1207)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>);
<a name="l1503"><span class="linenum">1503</span></a>              @<a class="phpfunction" onClick="logFunction('chmod')" href="../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(&quot;<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../_variables/dir.html">$dir</a>/.htaccess&quot;, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filepermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filepermissions.html">filepermissions</a>);
<a name="l1504"><span class="linenum">1504</span></a>          }
<a name="l1505"><span class="linenum">1505</span></a>      }
<a name="l1506"><span class="linenum">1506</span></a>  }
<a name="l1507"><span class="linenum">1507</span></a>  
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment">/**</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment"> * Create a directory under dataroot and make sure it is writable.</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment"> * Do not use for temporary and cache files - see make_temp_directory() and make_cache_directory().</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment"> *</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment"> * @param string $directory  the full path of the directory to be created under $CFG-&gt;dataroot</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment"> */</span>
<a name="l1516"><span class="linenum">1516</span></a>  function <a class="function" onClick="logFunction('make_upload_directory')" href="../_functions/make_upload_directory.html" onMouseOver="funcPopup(event,'make_upload_directory')">make_upload_directory</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1517"><span class="linenum">1517</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1518"><span class="linenum">1518</span></a>  
<a name="l1519"><span class="linenum">1519</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, 'temp/') === 0 or <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a> === 'temp') {
<a name="l1520"><span class="linenum">1520</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Use <a class="function" onClick="logFunction('make_temp_directory')" href="../_functions/make_temp_directory.html" onMouseOver="funcPopup(event,'make_temp_directory')">make_temp_directory</a>() for creation of temporary directory and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a> to get the location.');
<a name="l1521"><span class="linenum">1521</span></a>  
<a name="l1522"><span class="linenum">1522</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, 'cache/') === 0 or <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a> === 'cache') {
<a name="l1523"><span class="linenum">1523</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Use <a class="function" onClick="logFunction('make_cache_directory')" href="../_functions/make_cache_directory.html" onMouseOver="funcPopup(event,'make_cache_directory')">make_cache_directory</a>() for creation of cache directory and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('cachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/cachedir.html">cachedir</a> to get the location.');
<a name="l1524"><span class="linenum">1524</span></a>  
<a name="l1525"><span class="linenum">1525</span></a>      } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, 'localcache/') === 0 or <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a> === 'localcache') {
<a name="l1526"><span class="linenum">1526</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Use <a class="function" onClick="logFunction('make_localcache_directory')" href="../_functions/make_localcache_directory.html" onMouseOver="funcPopup(event,'make_localcache_directory')">make_localcache_directory</a>() for creation of local cache directory and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a> to get the location.');
<a name="l1527"><span class="linenum">1527</span></a>      }
<a name="l1528"><span class="linenum">1528</span></a>  
<a name="l1529"><span class="linenum">1529</span></a>      <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>);
<a name="l1530"><span class="linenum">1530</span></a>      return <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>&quot;, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1531"><span class="linenum">1531</span></a>  }
<a name="l1532"><span class="linenum">1532</span></a>  
<a name="l1533"><span class="linenum">1533</span></a>  <span class="comment">/**</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment"> * Get a per-request storage directory in the tempdir.</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment"> *</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment"> * The directory is automatically cleaned up during the shutdown handler.</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment"> *</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1539"><span class="linenum">1539</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1540"><span class="linenum">1540</span></a>  <span class="comment"> */</span>
<a name="l1541"><span class="linenum">1541</span></a>  function <a class="function" onClick="logFunction('get_request_storage_directory')" href="../_functions/get_request_storage_directory.html" onMouseOver="funcPopup(event,'get_request_storage_directory')">get_request_storage_directory</a>(<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1542"><span class="linenum">1542</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1543"><span class="linenum">1543</span></a>  
<a name="l1544"><span class="linenum">1544</span></a>      static <a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a> = null;
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>      if (!<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a> || !<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a>) || !<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a>) || !<a class="phpfunction" onClick="logFunction('is_writable')" href="../_functions/is_writable.html" onMouseOver="phpfuncPopup(event,'is_writable')">is_writable</a>(<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a>)) {
<a name="l1547"><span class="linenum">1547</span></a>          if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a> !== &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/localcache&quot;) {
<a name="l1548"><span class="linenum">1548</span></a>              <a class="function" onClick="logFunction('check_dir_exists')" href="../_functions/check_dir_exists.html" onMouseOver="funcPopup(event,'check_dir_exists')">check_dir_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>, true, true);
<a name="l1549"><span class="linenum">1549</span></a>              <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>);
<a name="l1550"><span class="linenum">1550</span></a>          } else {
<a name="l1551"><span class="linenum">1551</span></a>              <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>);
<a name="l1552"><span class="linenum">1552</span></a>          }
<a name="l1553"><span class="linenum">1553</span></a>  
<a name="l1554"><span class="linenum">1554</span></a>          if (<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a> = <a class="function" onClick="logFunction('make_unique_writable_directory')" href="../_functions/make_unique_writable_directory.html" onMouseOver="funcPopup(event,'make_unique_writable_directory')">make_unique_writable_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>)) {
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment">            // Register a shutdown handler to remove the directory.</span>
<a name="l1556"><span class="linenum">1556</span></a>              \<a class="class" onClick="logClass('core_shutdown_manager')" href="../_classes/core_shutdown_manager.html" onMouseOver="classPopup(event,'core_shutdown_manager')">core_shutdown_manager</a>::<a class="function" onClick="logFunction('register_function')" href="../_functions/register_function.html" onMouseOver="funcPopup(event,'register_function')">register_function</a>('remove_dir', array(<a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a>));
<a name="l1557"><span class="linenum">1557</span></a>          }
<a name="l1558"><span class="linenum">1558</span></a>      }
<a name="l1559"><span class="linenum">1559</span></a>  
<a name="l1560"><span class="linenum">1560</span></a>      return <a class="var it15788" onMouseOver="hilite(15788)" onMouseOut="lolite()" onClick="logVariable('requestdir')" href="../_variables/requestdir.html">$requestdir</a>;
<a name="l1561"><span class="linenum">1561</span></a>  }
<a name="l1562"><span class="linenum">1562</span></a>  
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">/**</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment"> * Create a per-request directory and make sure it is writable.</span>
<a name="l1565"><span class="linenum">1565</span></a>  <span class="comment"> * This can only be used during the current request and will be tidied away</span>
<a name="l1566"><span class="linenum">1566</span></a>  <span class="comment"> * automatically afterwards.</span>
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment"> *</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment"> * A new, unique directory is always created within the current request directory.</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment"> *</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment"> * @return string full path to directory if successful, false if not; may throw exception</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment"> */</span>
<a name="l1573"><span class="linenum">1573</span></a>  function <a class="function" onClick="logFunction('make_request_directory')" href="../_functions/make_request_directory.html" onMouseOver="funcPopup(event,'make_request_directory')">make_request_directory</a>(<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1574"><span class="linenum">1574</span></a>      <a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a> = <a class="function" onClick="logFunction('get_request_storage_directory')" href="../_functions/get_request_storage_directory.html" onMouseOver="funcPopup(event,'get_request_storage_directory')">get_request_storage_directory</a>(<a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1575"><span class="linenum">1575</span></a>      return <a class="function" onClick="logFunction('make_unique_writable_directory')" href="../_functions/make_unique_writable_directory.html" onMouseOver="funcPopup(event,'make_unique_writable_directory')">make_unique_writable_directory</a>(<a class="var it13148" onMouseOver="hilite(13148)" onMouseOut="lolite()" onClick="logVariable('basedir')" href="../_variables/basedir.html">$basedir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1576"><span class="linenum">1576</span></a>  }
<a name="l1577"><span class="linenum">1577</span></a>  
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">/**</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment"> * Create a directory under tempdir and make sure it is writable.</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment"> *</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment"> * Where possible, please use make_request_directory() and limit the scope</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment"> * of your data to the current HTTP request.</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment"> *</span>
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment"> * Do not use for storing cache files - see make_cache_directory(), and</span>
<a name="l1585"><span class="linenum">1585</span></a>  <span class="comment"> * make_localcache_directory() instead for this purpose.</span>
<a name="l1586"><span class="linenum">1586</span></a>  <span class="comment"> *</span>
<a name="l1587"><span class="linenum">1587</span></a>  <span class="comment"> * Temporary files must be on a shared storage, and heavy usage is</span>
<a name="l1588"><span class="linenum">1588</span></a>  <span class="comment"> * discouraged due to the performance impact upon clustered environments.</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment"> *</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment"> * @param string $directory  the full path of the directory to be created under $CFG-&gt;tempdir</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment"> */</span>
<a name="l1594"><span class="linenum">1594</span></a>  function <a class="function" onClick="logFunction('make_temp_directory')" href="../_functions/make_temp_directory.html" onMouseOver="funcPopup(event,'make_temp_directory')">make_temp_directory</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1595"><span class="linenum">1595</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1596"><span class="linenum">1596</span></a>      if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a> !== &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/temp&quot;) {
<a name="l1597"><span class="linenum">1597</span></a>          <a class="function" onClick="logFunction('check_dir_exists')" href="../_functions/check_dir_exists.html" onMouseOver="funcPopup(event,'check_dir_exists')">check_dir_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a>, true, true);
<a name="l1598"><span class="linenum">1598</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a>);
<a name="l1599"><span class="linenum">1599</span></a>      } else {
<a name="l1600"><span class="linenum">1600</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>);
<a name="l1601"><span class="linenum">1601</span></a>      }
<a name="l1602"><span class="linenum">1602</span></a>      return <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a>/<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>&quot;, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1603"><span class="linenum">1603</span></a>  }
<a name="l1604"><span class="linenum">1604</span></a>  
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment">/**</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment"> * Create a directory under cachedir and make sure it is writable.</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment"> *</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment"> * Note: this cache directory is shared by all cluster nodes.</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment"> *</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment"> * @param string $directory  the full path of the directory to be created under $CFG-&gt;cachedir</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment"> */</span>
<a name="l1614"><span class="linenum">1614</span></a>  function <a class="function" onClick="logFunction('make_cache_directory')" href="../_functions/make_cache_directory.html" onMouseOver="funcPopup(event,'make_cache_directory')">make_cache_directory</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1615"><span class="linenum">1615</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1616"><span class="linenum">1616</span></a>      if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('cachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/cachedir.html">cachedir</a> !== &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/cache&quot;) {
<a name="l1617"><span class="linenum">1617</span></a>          <a class="function" onClick="logFunction('check_dir_exists')" href="../_functions/check_dir_exists.html" onMouseOver="funcPopup(event,'check_dir_exists')">check_dir_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('cachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/cachedir.html">cachedir</a>, true, true);
<a name="l1618"><span class="linenum">1618</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('cachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/cachedir.html">cachedir</a>);
<a name="l1619"><span class="linenum">1619</span></a>      } else {
<a name="l1620"><span class="linenum">1620</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>);
<a name="l1621"><span class="linenum">1621</span></a>      }
<a name="l1622"><span class="linenum">1622</span></a>      return <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('cachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/cachedir.html">cachedir</a>/<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>&quot;, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1623"><span class="linenum">1623</span></a>  }
<a name="l1624"><span class="linenum">1624</span></a>  
<a name="l1625"><span class="linenum">1625</span></a>  <span class="comment">/**</span>
<a name="l1626"><span class="linenum">1626</span></a>  <span class="comment"> * Create a directory under localcachedir and make sure it is writable.</span>
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment"> * The files in this directory MUST NOT change, use revisions or content hashes to</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment"> * work around this limitation - this means you can only add new files here.</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment"> *</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment"> * The content of this directory gets purged automatically on all cluster nodes</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment"> * after calling purge_all_caches() before new data is written to this directory.</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment"> *</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment"> * Note: this local cache directory does not need to be shared by cluster nodes.</span>
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment"> *</span>
<a name="l1635"><span class="linenum">1635</span></a>  <span class="comment"> * @param string $directory the relative path of the directory to be created under $CFG-&gt;localcachedir</span>
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment"> * @param bool $exceptiononerror throw exception if error encountered</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment"> * @return string|false Returns full path to directory if successful, false if not; may throw exception</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment"> */</span>
<a name="l1639"><span class="linenum">1639</span></a>  function <a class="function" onClick="logFunction('make_localcache_directory')" href="../_functions/make_localcache_directory.html" onMouseOver="funcPopup(event,'make_localcache_directory')">make_localcache_directory</a>(<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true) {
<a name="l1640"><span class="linenum">1640</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1641"><span class="linenum">1641</span></a>  
<a name="l1642"><span class="linenum">1642</span></a>      <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1643"><span class="linenum">1643</span></a>  
<a name="l1644"><span class="linenum">1644</span></a>      if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a> !== &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/localcache&quot;) {
<a name="l1645"><span class="linenum">1645</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>);
<a name="l1646"><span class="linenum">1646</span></a>      } else {
<a name="l1647"><span class="linenum">1647</span></a>          <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>);
<a name="l1648"><span class="linenum">1648</span></a>      }
<a name="l1649"><span class="linenum">1649</span></a>  
<a name="l1650"><span class="linenum">1650</span></a>      if (!isset(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedirpurged')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedirpurged.html">localcachedirpurged</a>)) {
<a name="l1651"><span class="linenum">1651</span></a>          <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedirpurged')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedirpurged.html">localcachedirpurged</a> = 0;
<a name="l1652"><span class="linenum">1652</span></a>      }
<a name="l1653"><span class="linenum">1653</span></a>      <a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a> = &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>/.lastpurged&quot;;
<a name="l1654"><span class="linenum">1654</span></a>  
<a name="l1655"><span class="linenum">1655</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>)) {
<a name="l1656"><span class="linenum">1656</span></a>          <a class="phpfunction" onClick="logFunction('touch')" href="../_functions/touch.html" onMouseOver="phpfuncPopup(event,'touch')">touch</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>);
<a name="l1657"><span class="linenum">1657</span></a>          @<a class="phpfunction" onClick="logFunction('chmod')" href="../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filepermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filepermissions.html">filepermissions</a>);
<a name="l1658"><span class="linenum">1658</span></a>  
<a name="l1659"><span class="linenum">1659</span></a>      } else if (<a class="phpfunction" onClick="logFunction('filemtime')" href="../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>) &lt;  <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedirpurged')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedirpurged.html">localcachedirpurged</a>) {
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">        // This means our local cached dir was not purged yet.</span>
<a name="l1661"><span class="linenum">1661</span></a>          <a class="function" onClick="logFunction('remove_dir')" href="../_functions/remove_dir.html" onMouseOver="funcPopup(event,'remove_dir')">remove_dir</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>, true);
<a name="l1662"><span class="linenum">1662</span></a>          if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a> !== &quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>/localcache&quot;) {
<a name="l1663"><span class="linenum">1663</span></a>              <a class="function" onClick="logFunction('protect_directory')" href="../_functions/protect_directory.html" onMouseOver="funcPopup(event,'protect_directory')">protect_directory</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>);
<a name="l1664"><span class="linenum">1664</span></a>          }
<a name="l1665"><span class="linenum">1665</span></a>          <a class="phpfunction" onClick="logFunction('touch')" href="../_functions/touch.html" onMouseOver="phpfuncPopup(event,'touch')">touch</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>);
<a name="l1666"><span class="linenum">1666</span></a>          @<a class="phpfunction" onClick="logFunction('chmod')" href="../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(<a class="var it15780" onMouseOver="hilite(15780)" onMouseOut="lolite()" onClick="logVariable('timestampfile')" href="../_variables/timestampfile.html">$timestampfile</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filepermissions')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/filepermissions.html">filepermissions</a>);
<a name="l1667"><span class="linenum">1667</span></a>          <a class="phpfunction" onClick="logFunction('clearstatcache')" href="../_functions/clearstatcache.html" onMouseOver="phpfuncPopup(event,'clearstatcache')">clearstatcache</a>();
<a name="l1668"><span class="linenum">1668</span></a>      }
<a name="l1669"><span class="linenum">1669</span></a>  
<a name="l1670"><span class="linenum">1670</span></a>      if (<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a> === '') {
<a name="l1671"><span class="linenum">1671</span></a>          return <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>;
<a name="l1672"><span class="linenum">1672</span></a>      }
<a name="l1673"><span class="linenum">1673</span></a>  
<a name="l1674"><span class="linenum">1674</span></a>      return <a class="function" onClick="logFunction('make_writable_directory')" href="../_functions/make_writable_directory.html" onMouseOver="funcPopup(event,'make_writable_directory')">make_writable_directory</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('localcachedir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/localcachedir.html">localcachedir</a>/<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../_variables/directory.html">$directory</a>&quot;, <a class="var it38688" onMouseOver="hilite(38688)" onMouseOut="lolite()" onClick="logVariable('exceptiononerror')" href="../_variables/exceptiononerror.html">$exceptiononerror</a>);
<a name="l1675"><span class="linenum">1675</span></a>  }
<a name="l1676"><span class="linenum">1676</span></a>  
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">/**</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment"> * Checks if current user is a web crawler.</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment"> *</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment"> * This list can not be made complete, this is not a security</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment"> * restriction, we make the list only to help these sites</span>
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment"> * especially when automatic guest login is disabled.</span>
<a name="l1683"><span class="linenum">1683</span></a>  <span class="comment"> *</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment"> * If admin needs security they should enable forcelogin</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment"> * and disable guest access!!</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment"> *</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment"> * @return bool</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="comment"> */</span>
<a name="l1689"><span class="linenum">1689</span></a>  function <a class="function" onClick="logFunction('is_web_crawler')" href="../_functions/is_web_crawler.html" onMouseOver="funcPopup(event,'is_web_crawler')">is_web_crawler</a>() {
<a name="l1690"><span class="linenum">1690</span></a>      if (!empty(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'])) {
<a name="l1691"><span class="linenum">1691</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'Googlebot') !== false ) {
<a name="l1692"><span class="linenum">1692</span></a>              return true;
<a name="l1693"><span class="linenum">1693</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'google.com') !== false ) { // Google
<a name="l1694"><span class="linenum">1694</span></a>              return true;
<a name="l1695"><span class="linenum">1695</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'Yahoo! Slurp') !== false ) {  // Yahoo
<a name="l1696"><span class="linenum">1696</span></a>              return true;
<a name="l1697"><span class="linenum">1697</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], '[ZSEBOT]') !== false ) {  // Zoomspider
<a name="l1698"><span class="linenum">1698</span></a>              return true;
<a name="l1699"><span class="linenum">1699</span></a>          } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'msnbot') !== false ) {  // MSN Search
<a name="l1700"><span class="linenum">1700</span></a>              return true;
<a name="l1701"><span class="linenum">1701</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'bingbot') !== false ) {  // Bing
<a name="l1702"><span class="linenum">1702</span></a>              return true;
<a name="l1703"><span class="linenum">1703</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'Yandex') !== false ) {
<a name="l1704"><span class="linenum">1704</span></a>              return true;
<a name="l1705"><span class="linenum">1705</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'AltaVista') !== false ) {
<a name="l1706"><span class="linenum">1706</span></a>              return true;
<a name="l1707"><span class="linenum">1707</span></a>          } else if (<a class="phpfunction" onClick="logFunction('stripos')" href="../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'baiduspider') !== false ) {  // Baidu
<a name="l1708"><span class="linenum">1708</span></a>              return true;
<a name="l1709"><span class="linenum">1709</span></a>          } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_USER_AGENT'], 'Teoma') !== false ) {  // Ask.com
<a name="l1710"><span class="linenum">1710</span></a>              return true;
<a name="l1711"><span class="linenum">1711</span></a>          }
<a name="l1712"><span class="linenum">1712</span></a>      }
<a name="l1713"><span class="linenum">1713</span></a>      return false;
<a name="l1714"><span class="linenum">1714</span></a>  }
<a name="l1715"><span class="linenum">1715</span></a>  
<a name="l1716"><span class="linenum">1716</span></a>  <span class="comment">/**</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment"> * This class solves the problem of how to initialise $OUTPUT.</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment"> *</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment"> * The problem is caused be two factors</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment"> * &lt;ol&gt;</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment"> * &lt;li&gt;On the one hand, we cannot be sure when output will start. In particular,</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment"> * an error, which needs to be displayed, could be thrown at any time.&lt;/li&gt;</span>
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment"> * &lt;li&gt;On the other hand, we cannot be sure when we will have all the information</span>
<a name="l1724"><span class="linenum">1724</span></a>  <span class="comment"> * necessary to correctly initialise $OUTPUT. $OUTPUT depends on the theme, which</span>
<a name="l1725"><span class="linenum">1725</span></a>  <span class="comment"> * (potentially) depends on the current course, course categories, and logged in user.</span>
<a name="l1726"><span class="linenum">1726</span></a>  <span class="comment"> * It also depends on whether the current page requires HTTPS.&lt;/li&gt;</span>
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment"> * &lt;/ol&gt;</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment"> *</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment"> * So, it is hard to find a single natural place during Moodle script execution,</span>
<a name="l1730"><span class="linenum">1730</span></a>  <span class="comment"> * which we can guarantee is the right time to initialise $OUTPUT. Instead we</span>
<a name="l1731"><span class="linenum">1731</span></a>  <span class="comment"> * adopt the following strategy</span>
<a name="l1732"><span class="linenum">1732</span></a>  <span class="comment"> * &lt;ol&gt;</span>
<a name="l1733"><span class="linenum">1733</span></a>  <span class="comment"> * &lt;li&gt;We will initialise $OUTPUT the first time it is used.&lt;/li&gt;</span>
<a name="l1734"><span class="linenum">1734</span></a>  <span class="comment"> * &lt;li&gt;If, after $OUTPUT has been initialised, the script tries to change something</span>
<a name="l1735"><span class="linenum">1735</span></a>  <span class="comment"> * that $OUTPUT depends on, we throw an exception making it clear that the script</span>
<a name="l1736"><span class="linenum">1736</span></a>  <span class="comment"> * did something wrong.</span>
<a name="l1737"><span class="linenum">1737</span></a>  <span class="comment"> * &lt;/ol&gt;</span>
<a name="l1738"><span class="linenum">1738</span></a>  <span class="comment"> *</span>
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment"> * The only problem with that is, how do we initialise $OUTPUT on first use if,</span>
<a name="l1740"><span class="linenum">1740</span></a>  <span class="comment"> * it is going to be used like $OUTPUT-&gt;somthing(...)? Well that is where this</span>
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment"> * class comes in. Initially, we set up $OUTPUT = new bootstrap_renderer(). Then,</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment"> * when any method is called on that object, we initialise $OUTPUT, and pass the call on.</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment"> *</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment"> * Note that this class is used before lib/outputlib.php has been loaded, so we</span>
<a name="l1745"><span class="linenum">1745</span></a>  <span class="comment"> * must be careful referring to classes/functions from there, they may not be</span>
<a name="l1746"><span class="linenum">1746</span></a>  <span class="comment"> * defined yet, and we must avoid fatal errors.</span>
<a name="l1747"><span class="linenum">1747</span></a>  <span class="comment"> *</span>
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment"> * @copyright 2009 Tim Hunt</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1750"><span class="linenum">1750</span></a>  <span class="comment"> * @since     Moodle 2.0</span>
<a name="l1751"><span class="linenum">1751</span></a>  <span class="comment"> */</span>
<a name="l1752"><span class="linenum">1752</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('bootstrap_renderer')" href="../_classes/bootstrap_renderer.html" onMouseOver="classPopup(event,'bootstrap_renderer')">bootstrap_renderer</a> {
<a name="l1753"><span class="linenum">1753</span></a>      <span class="comment">/**</span>
<a name="l1754"><span class="linenum">1754</span></a>  <span class="comment">     * Handles re-entrancy. Without this, errors or debugging output that occur</span>
<a name="l1755"><span class="linenum">1755</span></a>  <span class="comment">     * during the initialisation of $OUTPUT, cause infinite recursion.</span>
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">     * @var boolean</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">     */</span>
<a name="l1758"><span class="linenum">1758</span></a>      protected <a class="var it38690" onMouseOver="hilite(38690)" onMouseOut="lolite()" onClick="logVariable('initialising')" href="../_variables/initialising.html">$initialising</a> = false;
<a name="l1759"><span class="linenum">1759</span></a>  
<a name="l1760"><span class="linenum">1760</span></a>      <span class="comment">/**</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment">     * Have we started output yet?</span>
<a name="l1762"><span class="linenum">1762</span></a>  <span class="comment">     * @return boolean true if the header has been printed.</span>
<a name="l1763"><span class="linenum">1763</span></a>  <span class="comment">     */</span>
<a name="l1764"><span class="linenum">1764</span></a>      public function <a class="function" onClick="logFunction('has_started')" href="../_functions/has_started.html" onMouseOver="funcPopup(event,'has_started')">has_started</a>() {
<a name="l1765"><span class="linenum">1765</span></a>          return false;
<a name="l1766"><span class="linenum">1766</span></a>      }
<a name="l1767"><span class="linenum">1767</span></a>  
<a name="l1768"><span class="linenum">1768</span></a>      <span class="comment">/**</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     * Constructor - to be used by core code only.</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment">     * @param string $method The method to call</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment">     * @param array $arguments Arguments to pass to the method being called</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment">     * @return string</span>
<a name="l1773"><span class="linenum">1773</span></a>  <span class="comment">     */</span>
<a name="l1774"><span class="linenum">1774</span></a>      public function <a class="function" onClick="logFunction('__call')" href="../_functions/__call.html" onMouseOver="funcPopup(event,'__call')">__call</a>(<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>, <a class="var it2696" onMouseOver="hilite(2696)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../_variables/arguments.html">$arguments</a>) {
<a name="l1775"><span class="linenum">1775</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l1776"><span class="linenum">1776</span></a>  
<a name="l1777"><span class="linenum">1777</span></a>          <a class="var it38691" onMouseOver="hilite(38691)" onMouseOut="lolite()" onClick="logVariable('recursing')" href="../_variables/recursing.html">$recursing</a> = false;
<a name="l1778"><span class="linenum">1778</span></a>          if (<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a> == 'notification') {
<a name="l1779"><span class="linenum">1779</span></a>  <span class="comment">            // Catch infinite recursion caused by debugging output during print_header.</span>
<a name="l1780"><span class="linenum">1780</span></a>              <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a> = <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>();
<a name="l1781"><span class="linenum">1781</span></a>              <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>);
<a name="l1782"><span class="linenum">1782</span></a>              <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>);
<a name="l1783"><span class="linenum">1783</span></a>              <a class="var it38691" onMouseOver="hilite(38691)" onMouseOut="lolite()" onClick="logVariable('recursing')" href="../_variables/recursing.html">$recursing</a> = <a class="function" onClick="logFunction('is_early_init')" href="../_functions/is_early_init.html" onMouseOver="funcPopup(event,'is_early_init')">is_early_init</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>);
<a name="l1784"><span class="linenum">1784</span></a>          }
<a name="l1785"><span class="linenum">1785</span></a>  
<a name="l1786"><span class="linenum">1786</span></a>          <a class="var it38692" onMouseOver="hilite(38692)" onMouseOut="lolite()" onClick="logVariable('earlymethods')" href="../_variables/earlymethods.html">$earlymethods</a> = array(
<a name="l1787"><span class="linenum">1787</span></a>              'fatal_error' =&gt; 'early_error',
<a name="l1788"><span class="linenum">1788</span></a>              'notification' =&gt; 'early_notification',
<a name="l1789"><span class="linenum">1789</span></a>          );
<a name="l1790"><span class="linenum">1790</span></a>  
<a name="l1791"><span class="linenum">1791</span></a>  <span class="comment">        // If lib/outputlib.php has been loaded, call it.</span>
<a name="l1792"><span class="linenum">1792</span></a>          if (!empty(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>) &amp;&amp; !<a class="var it38691" onMouseOver="hilite(38691)" onMouseOut="lolite()" onClick="logVariable('recursing')" href="../_variables/recursing.html">$recursing</a>) {
<a name="l1793"><span class="linenum">1793</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>, <a class="var it38692" onMouseOver="hilite(38692)" onMouseOut="lolite()" onClick="logVariable('earlymethods')" href="../_variables/earlymethods.html">$earlymethods</a>)) {
<a name="l1794"><span class="linenum">1794</span></a>  <span class="comment">                //prevent PAGE-&gt;context warnings - exceptions might appear before we set any context</span>
<a name="l1795"><span class="linenum">1795</span></a>                  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_context')" href="../_functions/set_context.html" onMouseOver="funcPopup(event,'set_context')">set_context</a>(null);
<a name="l1796"><span class="linenum">1796</span></a>              }
<a name="l1797"><span class="linenum">1797</span></a>              <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('initialise_theme_and_output')" href="../_functions/initialise_theme_and_output.html" onMouseOver="funcPopup(event,'initialise_theme_and_output')">initialise_theme_and_output</a>();
<a name="l1798"><span class="linenum">1798</span></a>              return <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(array(<a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>), <a class="var it2696" onMouseOver="hilite(2696)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../_variables/arguments.html">$arguments</a>);
<a name="l1799"><span class="linenum">1799</span></a>          }
<a name="l1800"><span class="linenum">1800</span></a>  
<a name="l1801"><span class="linenum">1801</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('initialising')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/initialising.html">initialising</a> = true;
<a name="l1802"><span class="linenum">1802</span></a>  
<a name="l1803"><span class="linenum">1803</span></a>  <span class="comment">        // Too soon to initialise $OUTPUT, provide a couple of key methods.</span>
<a name="l1804"><span class="linenum">1804</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>, <a class="var it38692" onMouseOver="hilite(38692)" onMouseOut="lolite()" onClick="logVariable('earlymethods')" href="../_variables/earlymethods.html">$earlymethods</a>)) {
<a name="l1805"><span class="linenum">1805</span></a>              return <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(array('bootstrap_renderer', <a class="var it38692" onMouseOver="hilite(38692)" onMouseOut="lolite()" onClick="logVariable('earlymethods')" href="../_variables/earlymethods.html">$earlymethods</a>[<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../_variables/method.html">$method</a>]), <a class="var it2696" onMouseOver="hilite(2696)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../_variables/arguments.html">$arguments</a>);
<a name="l1806"><span class="linenum">1806</span></a>          }
<a name="l1807"><span class="linenum">1807</span></a>  
<a name="l1808"><span class="linenum">1808</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Attempt to start output before enough information is known to initialise the theme.');
<a name="l1809"><span class="linenum">1809</span></a>      }
<a name="l1810"><span class="linenum">1810</span></a>  
<a name="l1811"><span class="linenum">1811</span></a>      <span class="comment">/**</span>
<a name="l1812"><span class="linenum">1812</span></a>  <span class="comment">     * Returns nicely formatted error message in a div box.</span>
<a name="l1813"><span class="linenum">1813</span></a>  <span class="comment">     * @static</span>
<a name="l1814"><span class="linenum">1814</span></a>  <span class="comment">     * @param string $message error message</span>
<a name="l1815"><span class="linenum">1815</span></a>  <span class="comment">     * @param string $moreinfourl (ignored in early errors)</span>
<a name="l1816"><span class="linenum">1816</span></a>  <span class="comment">     * @param string $link (ignored in early errors)</span>
<a name="l1817"><span class="linenum">1817</span></a>  <span class="comment">     * @param array $backtrace</span>
<a name="l1818"><span class="linenum">1818</span></a>  <span class="comment">     * @param string $debuginfo</span>
<a name="l1819"><span class="linenum">1819</span></a>  <span class="comment">     * @return string</span>
<a name="l1820"><span class="linenum">1820</span></a>  <span class="comment">     */</span>
<a name="l1821"><span class="linenum">1821</span></a>      public static function <a class="function" onClick="logFunction('early_error_content')" href="../_functions/early_error_content.html" onMouseOver="funcPopup(event,'early_error_content')">early_error_content</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null) {
<a name="l1822"><span class="linenum">1822</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1823"><span class="linenum">1823</span></a>  
<a name="l1824"><span class="linenum">1824</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = '&lt;div style=&quot;margin-top: 6em; margin-left:auto; margin-right:auto; color:#990000; text-align:center; font-size:large; border-width:1px;
<a name="l1825"><span class="linenum">1825</span></a>  border-color:black; background-color:#ffffee; border-style:solid; border-radius: 20px; border-collapse: collapse;
<a name="l1826"><span class="linenum">1826</span></a>  width: 80%; -moz-border-radius: 20px; padding: 15px&quot;&gt;
<a name="l1827"><span class="linenum">1827</span></a>  ' . <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> . '
<a name="l1828"><span class="linenum">1828</span></a>  &lt;/div&gt;';
<a name="l1829"><span class="linenum">1829</span></a>  <span class="comment">        // Check whether debug is set.</span>
<a name="l1830"><span class="linenum">1830</span></a>          <a class="var it645" onMouseOver="hilite(645)" onMouseOut="lolite()" onClick="logVariable('debug')" href="../_variables/debug.html">$debug</a> = (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a>) &amp;&amp; <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a> &gt;= <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1831"><span class="linenum">1831</span></a>  <span class="comment">        // Also check we have it set in the config file. This occurs if the method to read the config table from the</span>
<a name="l1832"><span class="linenum">1832</span></a>  <span class="comment">        // database fails, reading from the config table is the first database interaction we have.</span>
<a name="l1833"><span class="linenum">1833</span></a>          <a class="var it645" onMouseOver="hilite(645)" onMouseOut="lolite()" onClick="logVariable('debug')" href="../_variables/debug.html">$debug</a> = <a class="var it645" onMouseOver="hilite(645)" onMouseOut="lolite()" onClick="logVariable('debug')" href="../_variables/debug.html">$debug</a> || (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('config_php_settings')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/config_php_settings.html">config_php_settings</a>['debug'])  &amp;&amp; <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('config_php_settings')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/config_php_settings.html">config_php_settings</a>['debug'] &gt;= <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a> );
<a name="l1834"><span class="linenum">1834</span></a>          if (<a class="var it645" onMouseOver="hilite(645)" onMouseOut="lolite()" onClick="logVariable('debug')" href="../_variables/debug.html">$debug</a>) {
<a name="l1835"><span class="linenum">1835</span></a>              if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l1836"><span class="linenum">1836</span></a>                  <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>); <span class="comment">// removes all nasty JS</span>
<a name="l1837"><span class="linenum">1837</span></a>                  <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;\n&quot;, '&lt;br /&gt;', <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>); <span class="comment">// keep newlines</span>
<a name="l1838"><span class="linenum">1838</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= '&lt;div class=&quot;notifytiny&quot;&gt;Debug info: ' . <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> . '&lt;/div&gt;';
<a name="l1839"><span class="linenum">1839</span></a>              }
<a name="l1840"><span class="linenum">1840</span></a>              if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l1841"><span class="linenum">1841</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= '&lt;div class=&quot;notifytiny&quot;&gt;Stack trace: ' . <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, false) . '&lt;/div&gt;';
<a name="l1842"><span class="linenum">1842</span></a>              }
<a name="l1843"><span class="linenum">1843</span></a>          }
<a name="l1844"><span class="linenum">1844</span></a>  
<a name="l1845"><span class="linenum">1845</span></a>          return <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l1846"><span class="linenum">1846</span></a>      }
<a name="l1847"><span class="linenum">1847</span></a>  
<a name="l1848"><span class="linenum">1848</span></a>      <span class="comment">/**</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">     * This function should only be called by this class, or from exception handlers</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment">     * @static</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment">     * @param string $message error message</span>
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment">     * @param string $moreinfourl (ignored in early errors)</span>
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">     * @param string $link (ignored in early errors)</span>
<a name="l1854"><span class="linenum">1854</span></a>  <span class="comment">     * @param array $backtrace</span>
<a name="l1855"><span class="linenum">1855</span></a>  <span class="comment">     * @param string $debuginfo extra information for developers</span>
<a name="l1856"><span class="linenum">1856</span></a>  <span class="comment">     * @return string</span>
<a name="l1857"><span class="linenum">1857</span></a>  <span class="comment">     */</span>
<a name="l1858"><span class="linenum">1858</span></a>      public static function <a class="function" onClick="logFunction('early_error')" href="../_functions/early_error.html" onMouseOver="funcPopup(event,'early_error')">early_error</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a> = null, <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a> = null) {
<a name="l1859"><span class="linenum">1859</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1860"><span class="linenum">1860</span></a>  
<a name="l1861"><span class="linenum">1861</span></a>          if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a>) {
<a name="l1862"><span class="linenum">1862</span></a>              echo &quot;!!! <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> !!!\n&quot;;
<a name="l1863"><span class="linenum">1863</span></a>              if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a> &gt;= <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>) {
<a name="l1864"><span class="linenum">1864</span></a>                  if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l1865"><span class="linenum">1865</span></a>                      echo &quot;\nDebug info: <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>&quot;;
<a name="l1866"><span class="linenum">1866</span></a>                  }
<a name="l1867"><span class="linenum">1867</span></a>                  if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l1868"><span class="linenum">1868</span></a>                      echo &quot;\nStack trace: &quot; . <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, true);
<a name="l1869"><span class="linenum">1869</span></a>                  }
<a name="l1870"><span class="linenum">1870</span></a>              }
<a name="l1871"><span class="linenum">1871</span></a>              return;
<a name="l1872"><span class="linenum">1872</span></a>  
<a name="l1873"><span class="linenum">1873</span></a>          } else if (<a class="constant" onClick="logConstant('AJAX_SCRIPT')" href="../_constants/AJAX_SCRIPT.html" onMouseOver="constPopup(event,'AJAX_SCRIPT')">AJAX_SCRIPT</a>) {
<a name="l1874"><span class="linenum">1874</span></a>              <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a> = new stdClass();
<a name="l1875"><span class="linenum">1875</span></a>              <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('error')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/error.html">error</a>      = <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>;
<a name="l1876"><span class="linenum">1876</span></a>              <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('stacktrace')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/stacktrace.html">stacktrace</a> = NULL;
<a name="l1877"><span class="linenum">1877</span></a>              <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>  = NULL;
<a name="l1878"><span class="linenum">1878</span></a>              if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a>) and <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debug')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/debug.html">debug</a> &gt;= <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>) {
<a name="l1879"><span class="linenum">1879</span></a>                  if (!empty(<a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>)) {
<a name="l1880"><span class="linenum">1880</span></a>                      <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a> = <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>;
<a name="l1881"><span class="linenum">1881</span></a>                  }
<a name="l1882"><span class="linenum">1882</span></a>                  if (!empty(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>)) {
<a name="l1883"><span class="linenum">1883</span></a>                      <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('stacktrace')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/stacktrace.html">stacktrace</a> = <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, true);
<a name="l1884"><span class="linenum">1884</span></a>                  }
<a name="l1885"><span class="linenum">1885</span></a>              }
<a name="l1886"><span class="linenum">1886</span></a>              <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('errorcode')" class="var it39497" onMouseOver="hilite(39497)" onMouseOut="lolite()" href="../_variables/errorcode.html">errorcode</a>  = <a class="var it544" onMouseOver="hilite(544)" onMouseOut="lolite()" onClick="logVariable('errorcode')" href="../_variables/errorcode.html">$errorcode</a>;
<a name="l1887"><span class="linenum">1887</span></a>              @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-Type: application/json; charset=utf-8');
<a name="l1888"><span class="linenum">1888</span></a>              echo <a class="function" onClick="logFunction('json_encode')" href="../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>);
<a name="l1889"><span class="linenum">1889</span></a>              return;
<a name="l1890"><span class="linenum">1890</span></a>          }
<a name="l1891"><span class="linenum">1891</span></a>  
<a name="l1892"><span class="linenum">1892</span></a>  <span class="comment">        // In the name of protocol correctness, monitoring and performance</span>
<a name="l1893"><span class="linenum">1893</span></a>  <span class="comment">        // profiling, set the appropriate error headers for machine consumption.</span>
<a name="l1894"><span class="linenum">1894</span></a>          <a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('protocol')" href="../_variables/protocol.html">$protocol</a> = (isset(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PROTOCOL']) ? <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['SERVER_PROTOCOL'] : 'HTTP/1.0');
<a name="l1895"><span class="linenum">1895</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(<a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('protocol')" href="../_variables/protocol.html">$protocol</a> . ' 503 Service Unavailable');
<a name="l1896"><span class="linenum">1896</span></a>  
<a name="l1897"><span class="linenum">1897</span></a>  <span class="comment">        // better disable any caching</span>
<a name="l1898"><span class="linenum">1898</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-Type: text/html; charset=utf-8');
<a name="l1899"><span class="linenum">1899</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('X-UA-Compatible: IE=edge');
<a name="l1900"><span class="linenum">1900</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Cache-Control: no-store, no-cache, must-revalidate');
<a name="l1901"><span class="linenum">1901</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Cache-Control: post-check=0, pre-check=0', false);
<a name="l1902"><span class="linenum">1902</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Pragma: no-cache');
<a name="l1903"><span class="linenum">1903</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Expires: Mon, 20 Aug 1969 09:23:00 GMT');
<a name="l1904"><span class="linenum">1904</span></a>          @<a class="phpfunction" onClick="logFunction('header')" href="../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Last-Modified: ' . <a class="phpfunction" onClick="logFunction('gmdate')" href="../_functions/gmdate.html" onMouseOver="phpfuncPopup(event,'gmdate')">gmdate</a>('D, d M Y H:i:s') . ' GMT');
<a name="l1905"><span class="linenum">1905</span></a>  
<a name="l1906"><span class="linenum">1906</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('get_string')) {
<a name="l1907"><span class="linenum">1907</span></a>              <a class="var it15526" onMouseOver="hilite(15526)" onMouseOut="lolite()" onClick="logVariable('strerror')" href="../_variables/strerror.html">$strerror</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error');
<a name="l1908"><span class="linenum">1908</span></a>          } else {
<a name="l1909"><span class="linenum">1909</span></a>              <a class="var it15526" onMouseOver="hilite(15526)" onMouseOut="lolite()" onClick="logVariable('strerror')" href="../_variables/strerror.html">$strerror</a> = 'Error';
<a name="l1910"><span class="linenum">1910</span></a>          }
<a name="l1911"><span class="linenum">1911</span></a>  
<a name="l1912"><span class="linenum">1912</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = self::<a class="function" onClick="logFunction('early_error_content')" href="../_functions/early_error_content.html" onMouseOver="funcPopup(event,'early_error_content')">early_error_content</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it32305" onMouseOver="hilite(32305)" onMouseOut="lolite()" onClick="logVariable('moreinfourl')" href="../_variables/moreinfourl.html">$moreinfourl</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it5932" onMouseOver="hilite(5932)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../_variables/backtrace.html">$backtrace</a>, <a class="var it545" onMouseOver="hilite(545)" onMouseOut="lolite()" onClick="logVariable('debuginfo')" href="../_variables/debuginfo.html">$debuginfo</a>);
<a name="l1913"><span class="linenum">1913</span></a>  
<a name="l1914"><span class="linenum">1914</span></a>          return self::<a class="function" onClick="logFunction('plain_page')" href="../_functions/plain_page.html" onMouseOver="funcPopup(event,'plain_page')">plain_page</a>(<a class="var it15526" onMouseOver="hilite(15526)" onMouseOut="lolite()" onClick="logVariable('strerror')" href="../_variables/strerror.html">$strerror</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>);
<a name="l1915"><span class="linenum">1915</span></a>      }
<a name="l1916"><span class="linenum">1916</span></a>  
<a name="l1917"><span class="linenum">1917</span></a>      <span class="comment">/**</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">     * Early notification message</span>
<a name="l1919"><span class="linenum">1919</span></a>  <span class="comment">     * @static</span>
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">     * @param string $message</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment">     * @param string $classes usually notifyproblem or notifysuccess</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment">     * @return string</span>
<a name="l1923"><span class="linenum">1923</span></a>  <span class="comment">     */</span>
<a name="l1924"><span class="linenum">1924</span></a>      public static function <a class="function" onClick="logFunction('early_notification')" href="../_functions/early_notification.html" onMouseOver="funcPopup(event,'early_notification')">early_notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifyproblem') {
<a name="l1925"><span class="linenum">1925</span></a>          return '&lt;div class=&quot;' . <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> . '&quot;&gt;' . <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> . '&lt;/div&gt;';
<a name="l1926"><span class="linenum">1926</span></a>      }
<a name="l1927"><span class="linenum">1927</span></a>  
<a name="l1928"><span class="linenum">1928</span></a>      <span class="comment">/**</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">     * Page should redirect message.</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment">     * @static</span>
<a name="l1931"><span class="linenum">1931</span></a>  <span class="comment">     * @param string $encodedurl redirect url</span>
<a name="l1932"><span class="linenum">1932</span></a>  <span class="comment">     * @return string</span>
<a name="l1933"><span class="linenum">1933</span></a>  <span class="comment">     */</span>
<a name="l1934"><span class="linenum">1934</span></a>      public static function <a class="function" onClick="logFunction('plain_redirect_message')" href="../_functions/plain_redirect_message.html" onMouseOver="funcPopup(event,'plain_redirect_message')">plain_redirect_message</a>(<a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>) {
<a name="l1935"><span class="linenum">1935</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = '&lt;div style=&quot;margin-top: 3em; margin-left:auto; margin-right:auto; text-align:center;&quot;&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pageshouldredirect') . '&lt;br /&gt;&lt;a href=&quot;'.
<a name="l1936"><span class="linenum">1936</span></a>                  <a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a> .'&quot;&gt;'. <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue') .'&lt;/a&gt;&lt;/div&gt;';
<a name="l1937"><span class="linenum">1937</span></a>          return self::<a class="function" onClick="logFunction('plain_page')" href="../_functions/plain_page.html" onMouseOver="funcPopup(event,'plain_page')">plain_page</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('redirect'), <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l1938"><span class="linenum">1938</span></a>      }
<a name="l1939"><span class="linenum">1939</span></a>  
<a name="l1940"><span class="linenum">1940</span></a>      <span class="comment">/**</span>
<a name="l1941"><span class="linenum">1941</span></a>  <span class="comment">     * Early redirection page, used before full init of $PAGE global</span>
<a name="l1942"><span class="linenum">1942</span></a>  <span class="comment">     * @static</span>
<a name="l1943"><span class="linenum">1943</span></a>  <span class="comment">     * @param string $encodedurl redirect url</span>
<a name="l1944"><span class="linenum">1944</span></a>  <span class="comment">     * @param string $message redirect message</span>
<a name="l1945"><span class="linenum">1945</span></a>  <span class="comment">     * @param int $delay time in seconds</span>
<a name="l1946"><span class="linenum">1946</span></a>  <span class="comment">     * @return string redirect page</span>
<a name="l1947"><span class="linenum">1947</span></a>  <span class="comment">     */</span>
<a name="l1948"><span class="linenum">1948</span></a>      public static function <a class="function" onClick="logFunction('early_redirect_message')" href="../_functions/early_redirect_message.html" onMouseOver="funcPopup(event,'early_redirect_message')">early_redirect_message</a>(<a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a>) {
<a name="l1949"><span class="linenum">1949</span></a>          <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a> = '&lt;meta http-equiv=&quot;refresh&quot; content=&quot;'. <a class="var it16024" onMouseOver="hilite(16024)" onMouseOut="lolite()" onClick="logVariable('delay')" href="../_variables/delay.html">$delay</a> .'; url='. <a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a> .'&quot; /&gt;';
<a name="l1950"><span class="linenum">1950</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = self::<a class="function" onClick="logFunction('early_error_content')" href="../_functions/early_error_content.html" onMouseOver="funcPopup(event,'early_error_content')">early_error_content</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, null, null, null);
<a name="l1951"><span class="linenum">1951</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> .= self::<a class="function" onClick="logFunction('plain_redirect_message')" href="../_functions/plain_redirect_message.html" onMouseOver="funcPopup(event,'plain_redirect_message')">plain_redirect_message</a>(<a class="var it23855" onMouseOver="hilite(23855)" onMouseOut="lolite()" onClick="logVariable('encodedurl')" href="../_variables/encodedurl.html">$encodedurl</a>);
<a name="l1952"><span class="linenum">1952</span></a>  
<a name="l1953"><span class="linenum">1953</span></a>          return self::<a class="function" onClick="logFunction('plain_page')" href="../_functions/plain_page.html" onMouseOver="funcPopup(event,'plain_page')">plain_page</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('redirect'), <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>);
<a name="l1954"><span class="linenum">1954</span></a>      }
<a name="l1955"><span class="linenum">1955</span></a>  
<a name="l1956"><span class="linenum">1956</span></a>      <span class="comment">/**</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment">     * Output basic html page.</span>
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment">     * @static</span>
<a name="l1959"><span class="linenum">1959</span></a>  <span class="comment">     * @param string $title page title</span>
<a name="l1960"><span class="linenum">1960</span></a>  <span class="comment">     * @param string $content page content</span>
<a name="l1961"><span class="linenum">1961</span></a>  <span class="comment">     * @param string $meta meta tag</span>
<a name="l1962"><span class="linenum">1962</span></a>  <span class="comment">     * @return string html page</span>
<a name="l1963"><span class="linenum">1963</span></a>  <span class="comment">     */</span>
<a name="l1964"><span class="linenum">1964</span></a>      public static function <a class="function" onClick="logFunction('plain_page')" href="../_functions/plain_page.html" onMouseOver="funcPopup(event,'plain_page')">plain_page</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a> = '') {
<a name="l1965"><span class="linenum">1965</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('get_string') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('get_html_lang')) {
<a name="l1966"><span class="linenum">1966</span></a>              <a class="var it34648" onMouseOver="hilite(34648)" onMouseOut="lolite()" onClick="logVariable('htmllang')" href="../_variables/htmllang.html">$htmllang</a> = <a class="function" onClick="logFunction('get_html_lang')" href="../_functions/get_html_lang.html" onMouseOver="funcPopup(event,'get_html_lang')">get_html_lang</a>();
<a name="l1967"><span class="linenum">1967</span></a>          } else {
<a name="l1968"><span class="linenum">1968</span></a>              <a class="var it34648" onMouseOver="hilite(34648)" onMouseOut="lolite()" onClick="logVariable('htmllang')" href="../_variables/htmllang.html">$htmllang</a> = '';
<a name="l1969"><span class="linenum">1969</span></a>          }
<a name="l1970"><span class="linenum">1970</span></a>  
<a name="l1971"><span class="linenum">1971</span></a>          <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = '';
<a name="l1972"><span class="linenum">1972</span></a>          if (<a class="constant" onClick="logConstant('MDL_PERF_TEST')" href="../_constants/MDL_PERF_TEST.html" onMouseOver="constPopup(event,'MDL_PERF_TEST')">MDL_PERF_TEST</a>) {
<a name="l1973"><span class="linenum">1973</span></a>              <a class="var it38693" onMouseOver="hilite(38693)" onMouseOut="lolite()" onClick="logVariable('perfinfo')" href="../_variables/perfinfo.html">$perfinfo</a> = <a class="function" onClick="logFunction('get_performance_info')" href="../_functions/get_performance_info.html" onMouseOver="funcPopup(event,'get_performance_info')">get_performance_info</a>();
<a name="l1974"><span class="linenum">1974</span></a>              <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> = '&lt;footer&gt;' . <a class="var it38693" onMouseOver="hilite(38693)" onMouseOut="lolite()" onClick="logVariable('perfinfo')" href="../_variables/perfinfo.html">$perfinfo</a>['html'] . '&lt;/footer&gt;';
<a name="l1975"><span class="linenum">1975</span></a>          }
<a name="l1976"><span class="linenum">1976</span></a>  
<a name="l1977"><span class="linenum">1977</span></a>          return '&lt;!DOCTYPE html&gt;
<a name="l1978"><span class="linenum">1978</span></a>  &lt;html ' . <a class="var it34648" onMouseOver="hilite(34648)" onMouseOut="lolite()" onClick="logVariable('htmllang')" href="../_variables/htmllang.html">$htmllang</a> . '&gt;
<a name="l1979"><span class="linenum">1979</span></a>  &lt;head&gt;
<a name="l1980"><span class="linenum">1980</span></a>  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
<a name="l1981"><span class="linenum">1981</span></a>  '.<a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>.'
<a name="l1982"><span class="linenum">1982</span></a>  &lt;title&gt;' . <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> . '&lt;/title&gt;
<a name="l1983"><span class="linenum">1983</span></a>  &lt;/head&gt;&lt;body&gt;' . <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> . <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a> . '&lt;/body&gt;&lt;/html&gt;';
<a name="l1984"><span class="linenum">1984</span></a>      }
<a name="l1985"><span class="linenum">1985</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'generate_uuid': ['generate_uuid', 'Generate a uuid. ', [['lib','setuplib.php',584]], 2],
'fopen': ['fopen', 'Return a stream handle to this string stream. ', [['lib/horde/framework/Horde/Support','StringStream.php',41],['lib/horde/framework/Horde/Support','CombineStream.php',41]], 231],
'make_unique_writable_directory': ['make_unique_writable_directory', 'Create a new unique directory within the specified directory. ', [['lib','setuplib.php',1398]], 6],
'get_config': ['get_config', 'Get a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546],['question/engine','bank.php',109],['lib','moodlelib.php',1404],['lib','enrollib.php',1141],['lib/editor/tinymce/classes','plugin.php',73],['admin/tool/log/classes/helper','store.php',63]], 847],
'check_dir_exists': ['check_dir_exists', 'Function to check if a directory exists and by default create it if not exists. ', [['lib','setuplib.php',1366]], 46],
'format_backtrace': ['format_backtrace', 'Formats a backtrace ready for output. ', [['lib','setuplib.php',697]], 16],
'is_transaction_started': ['is_transaction_started', 'Returns true if a transaction is in progress. ', [['lib/dml','moodle_database.php',2324]], 38],
'plain_page': ['plain_page', 'Output basic html page. ', [['lib','setuplib.php',1956]], 5],
'register_function': ['register_function', 'Register custom shutdown function. ', [['lib/classes','shutdown_manager.php',53]], 11],
'get_capability_string': ['get_capability_string', 'Returns the human-readable, translated version of the capability. Basically a big switch statement. ', [['lib','accesslib.php',2966]], 6],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'disable_output_buffering': ['disable_output_buffering', 'Try to disable all output buffering and purge all headers. ', [['lib','setuplib.php',1285]], 1],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'make_temp_directory': ['make_temp_directory', 'Create a directory under tempdir and make sure it is writable. ', [['lib','setuplib.php',1578]], 58],
'is_web_crawler': ['is_web_crawler', 'Checks if current user is a web crawler. ', [['lib','setuplib.php',1677]], 3],
'early_error_content': ['early_error_content', 'Returns nicely formatted error message in a div box. ', [['lib','setuplib.php',1811]], 7],
'terminate_current': ['terminate_current', 'Terminate current user session. ', [['lib/classes/session','manager.php',473]], 7],
'protect_directory': ['protect_directory', 'Protect a directory from web access. Could be extended in the future to support other mechanisms (e.g. other webservers). ', [['lib','setuplib.php',1489]], 10],
'get_docs_url': ['get_docs_url', 'Returns the Moodle Docs URL in the users language for a given \'More help\' link. ', [['lib','setuplib.php',630]], 29],
'early_redirect_message': ['early_redirect_message', 'Early redirection page, used before full init of $PAGE global ', [['lib','setuplib.php',1940]], 1],
'reduce_memory_limit': ['reduce_memory_limit', 'Function to reduce the memory limit to a new value. Will respect the memory limit if it is lower, thus allowing settings in php.ini, apache conf or command line switches to override it ', [['lib','setuplib.php',1217]], 1],
'make_request_directory': ['make_request_directory', 'Create a per-request directory and make sure it is writable. This can only be used during the current request and will be tidied away automatically afterwards. ', [['lib','setuplib.php',1563]], 6],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6481]], 147],
'clean_text': ['clean_text', 'Cleans raw text removing nasties. ', [['lib','weblib.php',1568]], 43],
'getmessage': ['getmessage', 'Get the error message from an error object. ', [['lib/pear','PEAR.php',921],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Reports.php',1105],['lib/google/src/Google/Service','Gmail.php',1283],['lib/google/src/Google/Service','IdentityToolkit.php',1159],['lib/google/src/Google/Service','Dfareporting.php',2039],['lib/zend/Zend/XmlRpc','Fault.php',152],['lib/google/src/Google/Service','Books.php',3266],['lib/google/src/Google/Service','Books.php',3951],['lib/google/src/Google/Service','AdExchangeSeller.php',1042],['lib/google/src/Google/Service','Bigquery.php',1245],['lib/google/src/Google/Service','Freebase.php',440],['lib/google/src/Google/Service','Autoscaler.php',1078],['lib/google/src/Google/Service','Autoscaler.php',1170],['lib/google/src/Google/Service','ShoppingContent.php',2096],['lib/google/src/Google/Service','ShoppingContent.php',2498],['lib/google/src/Google/Service','ShoppingContent.php',2543],['lib/zend/Zend/Http','Response.php',323],['lib/google/src/Google/Service','Compute.php',5785],['lib/google/src/Google/Service','Compute.php',6842],['lib/google/src/Google/Service','Compute.php',6934],['lib/google/src/Google/Service','Compute.php',7440],['lib/google/src/Google/Service','Compute.php',8566],['lib/google/src/Google/Service','Compute.php',8969],['lib/google/src/Google/Service','Compute.php',9561],['lib/google/src/Google/Service','Compute.php',9653],['lib/google/src/Google/Service','Compute.php',9745],['lib/google/src/Google/Service','Compute.php',10382],['lib/google/src/Google/Service','Compute.php',11098],['lib/google/src/Google/Service','Compute.php',11524],['lib/zend/Zend/Service/DeveloperGarden/Request/SendSms','SendSmsAbstract.php',148],['lib/google/src/Google/Service','AdSense.php',2959],['lib/google/src/Google/Service','Pubsub.php',700],['lib/google/src/Google/Service','Pubsub.php',737],['lib/google/src/Google/Service','Replicapool.php',1151],['lib/google/src/Google/Service','Replicapool.php',1243],['lib/google/src/Google/Service','Resourceviews.php',890],['lib/google/src/Google/Service','Resourceviews.php',982]], 434],
'initialise_fullme': ['initialise_fullme', 'Initialises $FULLME and friends. Private function. Should only be called from setup.php. ', [['lib','setuplib.php',796]], 1],
'default_exception_handler': ['default_exception_handler', 'Default exception handler ', [['','mdeploy.php',1539],['lib','setuplib.php',330]], 1],
'set_debug': ['set_debug', 'Enable/disable very detailed debugging. ', [['lib/dml','moodle_database.php',1067],['lib/dml/tests','dml_test.php',5419]], 12],
'initialise_fullme_cli': ['initialise_fullme_cli', 'Initialises $FULLME and friends for command line scripts. This is a private method for use by initialise_fullme. ', [['lib','setuplib.php',891]], 1],
'get_login_url': ['get_login_url', 'Returns full login url. ', [['lib','moodlelib.php',2427],['lib','oauthlib.php',466]], 48],
'initialise_cfg': ['initialise_cfg', 'Load global $CFG; ', [['lib/phpunit/classes','util.php',67],['lib','setuplib.php',770]], 6],
'make_upload_directory': ['make_upload_directory', 'Create a directory under dataroot and make sure it is writable. Do not use for temporary and cache files - see make_temp_directory() and make_cache_directory(). ', [['lib','setuplib.php',1508]], 10],
'current_language': ['current_language', 'Returns the code for the current language ', [['lib','moodlelib.php',6392]], 44],
'upgrade_ensure_not_running': ['upgrade_ensure_not_running', 'Makes sure that upgrade process is not running ', [['lib','setuplib.php',1342]], 2],
'ini_get_bool': ['ini_get_bool', 'This function makes the return value of ini_get consistent if you are setting server directives through the .htaccess file in apache. ', [['lib','setuplib.php',738]], 11],
'string_exists': ['string_exists', 'Does the string actually exist? ', [['lib/classes','string_manager_standard.php',263],['lib/classes','string_manager.php',50],['lib/classes','string_manager_install.php',64]], 76],
'or': ['or', '', [['lib/tcpdf','LICENSE.TXT',69]], 552],
'raise_memory_limit': ['raise_memory_limit', 'Function to raise the memory limit to a new value. Will respect the memory limit if it is higher, thus allowing settings in php.ini, apache conf or command line switches to override it. ', [['lib','setuplib.php',1139]], 56],
'fatal_error': ['fatal_error', 'Do not call this function directly. ', [['lib','outputrenderers.php',2668],['lib','outputrenderers.php',4101],['lib','outputrenderers.php',4165]], 1],
'isloggedin': ['isloggedin', 'Return true, if session is currently logged into the backend server ', [['lib/zend/Zend/Service','LiveDocx.php',293],['lib','accesslib.php',1909]], 177],
'merge_query_params': ['merge_query_params', 'Merge parsed POST chunks. ', [['lib','setuplib.php',1064]], 5],
'get_exception_info': ['get_exception_info', 'Wrapper to call {@link get_exception_info()}. ', [['lib/tests','setuplib_test.php',497],['lib','setuplib.php',466]], 21],
'__call': ['__call', 'Prepares query parameters ', [['lib/zend/Zend/Service/Amazon','Query.php',54],['lib/minify/lib/MrClay/Cli','Arg.php',149],['lib/zend/Zend/Server/Reflection','Parameter.php',72],['lib/zend/Zend/Rest/Client','Result.php',117],['lib/zend/Zend/Gdata','Gapps.php',608],['lib/adodb','adodb.inc.php',2817],['lib/adodb','adodb.inc.php',2894],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',359],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',101],['lib/zend/Zend/Service/StrikeIron','Decorator.php',83],['lib/horde/framework/Horde/Support','Stub.php',74],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',83],['lib','modinfolib.php',1126],['','mdeploy.php',568],['lib/zend/Zend/Gdata','App.php',1004],['lib/zend/Zend/Rest','Client.php',203],['lib/tests','navigationlib_test.php',480],['lib/tests','navigationlib_test.php',534],['lib/tests','navigationlib_test.php',562],['lib/simplepie/library','SimplePie.php',2956],['lib/zend/Zend/Service','Twitter.php',235],['lib/alfresco/Service/WebService','AlfrescoWebService.php',39],['lib/behat','behat_base.php',223],['lib/zend/Zend/Service/Nirvanix','Response.php',92],['lib/zend/Zend/XmlRpc','Server.php',199],['lib/zend/Zend/Server/Reflection','Class.php',95],['lib/zend/Zend/Soap','Client.php',1095],['lib/phpexcel/PHPExcel/Writer','PDF.php',74],['lib','outputrenderers.php',339],['lib/zend/Zend/Service/DeveloperGarden/Client','Soap.php',100],['lib/zend/Zend/Service/StrikeIron','Base.php',78],['lib/zend/Zend/Service','Audioscrobbler.php',654],['lib/zend/Zend/Loader/Autoloader','Resource.php',94],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',87],['lib/zend/Zend','Exception.php',52],['lib/classes/update','deployer.php',365],['lib','setuplib.php',1768]], 4],
'during_initial_install': ['during_initial_install', 'Indicates whether we are in the middle of the initial Moodle install. ', [['lib','setuplib.php',1124]], 48],
'get_performance_info': ['get_performance_info', 'get_performance_info() pairs up with init_performance_info() loaded in setup.php. Returns an array with \'html\' and \'txt\' values ready for use, and each of the individual stats provided separately as well. ', [['lib','moodlelib.php',8582],['lib/classes/session','manager.php',102]], 4],
'early_error': ['early_error', 'This function should only be called by this class, or from exception handlers ', [['lib','setuplib.php',1848]], 2],
'setup_get_remote_url': ['setup_get_remote_url', 'Get the URL that PHP/the web server thinks it is serving. Private function used by initialise_fullme. In your code, use $PAGE->url, $SCRIPT, etc. ', [['lib','setuplib.php',915]], 1],
'setup_validate_php_configuration': ['setup_validate_php_configuration', 'This function verifies the sanity of PHP configuration and stops execution if anything critical found. ', [['lib','setuplib.php',758]], 1],
'workaround_max_input_vars': ['workaround_max_input_vars', 'Try to work around the \'max_input_vars\' restriction if necessary. ', [['lib','setuplib.php',1001]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'get_html_lang': ['get_html_lang', 'Return a string containing \'lang\', xml:lang and optionally \'dir\' HTML attributes. ', [['lib','weblib.php',1960]], 3],
'initialise_theme_and_output': ['initialise_theme_and_output', 'Method for use by Moodle core to set up the theme. Do not use this in your own code. ', [['lib','pagelib.php',1483]], 9],
'redirect_if_major_upgrade_required': ['redirect_if_major_upgrade_required', 'Check whether a major upgrade is needed. That is defined as an upgrade that changes something really fundamental in the database, so nothing can possibly work until the database has been updated, and that is defined by the hard-coded version number in this function. ', [['lib','setuplib.php',1318]], 3],
'force_transaction_rollback': ['force_transaction_rollback', 'Force rollback of all delegated transaction. Does not throw any exceptions and does not log anything. ', [['lib/dml','moodle_database.php',2474]], 17],
'is_early_init': ['is_early_init', 'This function encapsulates the tests for whether an exception was thrown in early init -- either during setup.php or during init of $OUTPUT. ', [['lib','setuplib.php',415]], 2],
'abort_all_db_transactions': ['abort_all_db_transactions', 'Unconditionally abort all database transactions, this function should be called from exception handlers only. ', [['lib','setuplib.php',398]], 4],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1922]], 237],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',768]], 607],
'__construct': ['__construct', 'Constructor ', [['lib/jabber/XMPP','Log.php',67],['lib/zend/Zend/Gdata/Books','VolumeFeed.php',41],['lib/markdown','MarkdownExtra.php',51],['lib/zend/Zend/Gdata/Books/Extension','BooksCategory.php',42],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/zend/Zend/Validate','Iban.php',106],['repository/wikimedia','wikimedia.php',35],['lib/lessphp/Tree','Operation.php',19],['lib/alfresco/Service','Version.php',38],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['backup/moodle2','backup_activity_task.class.php',45],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/phpunit/classes','advanced_testcase.php',45],['lib/zend/Zend/Service/DeveloperGarden/Request','RequestAbstract.php',40],['lib','outputlib.php',447],['lib','outputlib.php',2000],['repository/filesystem','lib.php',48],['lib/zend/Zend/XmlRpc/Value','Nil.php',40],['lib/lessphp/Tree','NameValue.php',21],['lib/zend/Zend/Gdata/YouTube','UserProfileEntry.php',283],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientEntry.php',69],['lib/simplepie/library/SimplePie','Restriction.php',81],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes/update','checker.php',50],['lib/adodb','adodb-active-recordx.inc.php',131],['lib/phpexcel/PHPExcel','Calculation.php',1721],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotos.php',50],['availability/classes','info_module.php',40],['lib/zend/Zend/Gdata/Geo/Extension','GmlPos.php',49],['lib/zend/Zend/Gdata/App/Extension','Link.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Access.php',51],['lib/zend/Zend/Server/Reflection','Parameter.php',58],['lib/zend/Zend/Service/DeveloperGarden/Client','ClientAbstract.php',129],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['lib/zend/Zend/Validate/Db','Abstract.php',79],['cache/locks/file','lib.php',66],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',180],['question/type/missingtype','edit_missingtype_form.php',38],['auth/cas/CAS/CAS','Client.php',862],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/zend/Zend/Gdata/Books','VolumeQuery.php',46],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/zend/Zend/XmlRpc','Request.php',92],['lib/zend/Zend/Service/Delicious','Post.php',74],['lib/zend/Zend/Gdata/Extension','FeedLink.php',53],['lib/zend/Zend/Http/Client/Adapter','Socket.php',97],['lib/grade','grade_object.php',80],['lib/zend/Zend/Gdata/YouTube','ContactFeed.php',55],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['lib/google/src/Google/Auth','LoginTicket.php',35],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',84],['lib/zend/Zend/Service/DeveloperGarden/SecurityTokenServer','Cache.php',59],['question/type/randomsamatch','question.php',114],['lib/zend/Zend/Service/WindowsAzure/Storage','SignedIdentifier.php',49],['lib/zend/Zend/Amf/Parse','OutputStream.php',40],['blocks','moodleblock.class.php',111],['lib/simplepie','autoloader.php',62],['mod/scorm','renderer.php',129],['lib/zend/Zend/Gdata/Extension','Who.php',64],['lib/zend/Zend/Gdata/Gapps','EmailListQuery.php',54],['lib/zend/Zend/Service/Simpy','LinkSet.php',47],['repository/flickr_public','lib.php',49],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Replicapoolupdater.php',47],['admin/tool/generator/classes','site_backend.php',58],['mod/assign','assignmentplugin.php',50],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['mod/lti/service/profile/classes/local/resource','profile.php',43],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['lib/lessphp/Tree','Anonymous.php',21],['user','renderer.php',186],['lib/zend/Zend/Service/WindowsAzure','Storage.php',170],['lib/google/src/Google','Service.php',26],['lib/lessphp/Tree','Url.php',17],['webservice','lib.php',745],['webservice','lib.php',841],['webservice','lib.php',1120],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',270],['lib/zend/Zend/Gdata/YouTube/Extension','MediaContent.php',55],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib/tests','completionlib_test.php',863],['lib/zend/Zend/Service/Amazon','Accessories.php',44],['lib/zend/Zend/Validate/Barcode','Code39ext.php',47],['mod/assign/feedback/editpdf/classes','comment.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',46],['backup/moodle2','backup_settingslib.php',42],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateListRequest.php',46],['lib/zend/Zend/XmlRpc/Value','Base64.php',40],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['lib/zend/Zend/Service/WindowsAzure/Storage','Blob.php',117],['lib/lessphp','Parser.php',75],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',47],['lib/zend/Zend/Gdata','Query.php',72],['lib/zend/Zend/Service/Technorati','TagResultSet.php',57],['lib/zend/Zend/Rest/Client','Result.php',42],['lib/lessphp/Tree','Call.php',19],['lib/zend/Zend/Server/Method','Callback.php',59],['lib/minify/lib/Minify/JS','ClosureCompiler.php',38],['mod/workshop/backup/moodle1','lib.php',308],['lib/zend/Zend/Gdata/YouTube','ActivityFeed.php',54],['admin/tool/log/store/database/classes/log','store.php',47],['lib/zend/Zend/Validate','Alpha.php',65],['lib/zend/Zend/Gdata','Gapps.php',109],['lib/zend/Zend/Service/Flickr','Result.php',174],['question/type/multianswer','edit_multianswer_form.php',58],['mod/assign/feedback/file','renderable.php',44],['lib/horde/framework/Horde','Secret.php',48],['lib/zend/Zend/Gdata/Photos/Extension','AlbumId.php',51],['lib/lessphp/SourceMap','Base64VLQ.php',67],['lib/lessphp/Tree/Mixin','Call.php',14],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/google/src/Google/Service','Fusiontables.php',48],['grade/report/singleview','lib.php',69],['lib/classes/lock','lock.php',55],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['blog','locallib.php',71],['blog','locallib.php',581],['blog','locallib.php',849],['blog','locallib.php',894],['blog','locallib.php',953],['blog','locallib.php',1004],['blog','locallib.php',1028],['blog','locallib.php',1038],['blog','locallib.php',1050],['blog','locallib.php',1071],['lib/zend/Zend/Gdata/Exif/Extension','Flash.php',49],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',61],['admin/webservice','lib.php',38],['lib/zend/Zend/Validate/File','FilesSize.php',60],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',46],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['lib/zend/Zend/Validate','Int.php',53],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['lib/zend/Zend/Soap','Server.php',146],['lib/zend/Zend/Gdata/Photos','PhotoEntry.php',215],['lib/zend/Zend/Service/Yahoo','LocalResult.php',111],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetAccountBalance.php',40],['badges/lib','backpacklib.php',40],['lib/zend/Zend/Service/Yahoo','Result.php',77],['lib/form','filemanager.php',306],['lib/lessphp/Tree','Condition.php',18],['lib/pear/PEAR','Exception.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',45],['question/classes/bank','view.php',70],['lib/adodb','adodb.inc.php',2790],['lib/adodb','adodb.inc.php',2865],['lib/zend/Zend/Gdata/App/Extension','Text.php',45],['question/engine/upgrade/tests','helper.php',45],['lib/zend/Zend/Validate/Barcode','Ean5.php',47],['blocks/private_files','renderer.php',83],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/classes','useragent.php',115],['lib/zend/Zend/Gdata/Photos/Extension','CommentCount.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/zend/Zend/Gdata/Spreadsheets/Extension','ColCount.php',49],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/portfolio','exceptions.php',50],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',45],['lib/xmldb','xmldb_object.php',55],['lib/zend/Zend/Service','SlideShare.php',283],['webservice/amf','introspector.php',52],['question/behaviour/adaptive','behaviour.php',310],['question/behaviour','behaviourtypebase.php',133],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['course','renderer.php',52],['lib/zend/Zend/Validate','Hostname.php',315],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',249],['lib/zend/Zend/Amf','Server.php',134],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/zend/Zend/Http','Cookie.php',98],['lib/lessphp/Tree','Extend.php',28],['lib/zend/Zend/Validate','Barcode.php',75],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',47],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/google/src/Google/Service','QPXExpress.php',39],['lib/zend/Zend/Server/Reflection/Function','Abstract.php',105],['lib/phpexcel/PHPExcel/Style','Color.php',72],['lib/zend/Zend/Validate/File','Hash.php',60],['backup/util/settings/root','root_backup_setting.class.php',34],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/zend/Zend/Gdata/Photos/Extension','QuotaCurrent.php',50],['lib/zend/Zend/Service/Nirvanix/Namespace','Base.php',76],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['lib/zend/Zend/Service/Technorati','DailyCountsResult.php',60],['lib/zend/Zend/Rest','Server.php',102],['lib/zend/Zend/Gdata/Photos','UserFeed.php',106],['lib/tcpdf/include/barcodes','pdf417.php',523],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/zend/Zend/Gdata/YouTube/Extension','VideoId.php',44],['lib/google/src/Google/Service','Blogger.php',50],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['lib/zend/Zend/Gdata/App/Extension','Published.php',43],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',129],['lib/zend/Zend/Gdata/Photos','AlbumEntry.php',193],['lib/zend/Zend/Gdata/Docs','DocumentListFeed.php',56],['lib/zend/Zend/Gdata/App/Extension','Icon.php',43],['lib/portfolio','plugin.php',445],['lib/zend/Zend/Gdata/Extension','OpenSearchItemsPerPage.php',44],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['lib/zend/Zend/Service/Yahoo','WebResult.php',83],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['lib/google/src/Google/Service','AdExchangeBuyer.php',46],['lib/dtl','file_xml_database_exporter.php',36],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/zend/Zend/Gdata/YouTube/Extension','Token.php',44],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',87],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',47],['lib/xmldb','xmldb_field.php',84],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',126],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceStatusRequest.php',65],['lib/google/src/Google/Service','Manager.php',57],['lib/zend/Zend/Service/Amazon','Offer.php',79],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['lib/zend/Zend/Gdata/App','FeedEntryParent.php',129],['lib/zend/Zend/Service/Technorati','KeyInfoResult.php',61],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['webservice/rest','lib.php',47],['lib/zend/Zend/Service/StrikeIron','Decorator.php',47],['lib/google/src/Google/Http','Batch.php',38],['lib/google/src/Google/Service','Reports.php',47],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['lib/zend/Zend/Gdata/Media/Extension','MediaKeywords.php',43],['repository/url','lib.php',46],['lib','xmlize.php',31],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/filebrowser','file_info_context_system.php',37],['lib/zend/Zend/Service/Amazon','Abstract.php',74],['lib/zend/Zend/Server','Definition.php',43],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/zend/Zend/Amf/Util','BinaryStream.php',53],['lib/portfolio','exporter.php',113],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/zend/Zend/Gdata/YouTube','SubscriptionFeed.php',55],['lib/alfresco/Service','SpacesStore.php',28],['repository/recent','lib.php',39],['lib/zend/Zend/Service/DeveloperGarden/IpLocation','IpAddress.php',59],['lib/zend/Zend/Validate','Regex.php',62],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',135],['lib/phpexcel/PHPExcel','ReferenceHelper.php',65],['lib','webdavlib.php',84],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['auth/cas/CAS/CAS','AuthenticationException.php',53],['lib/zend/Zend/Gdata/Gapps','NicknameQuery.php',54],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',36],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['lib/horde/framework/Horde','Domhtml.php',53],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/google/src/Google/Service','Customsearch.php',38],['lib/zend/Zend/Gdata/App','MediaFileSource.php',54],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/lessphp/Tree','Comment.php',17],['availability/tests/fixtures','mock_info.php',40],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['backup/util/ui','base_ui.class.php',84],['lib/phpexcel/PHPExcel','DocumentSecurity.php',73],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['backup/cc/cc_lib','cc_converter_lti.php',29],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',44],['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',77],['lib/zend/Zend/Soap','AutoDiscover.php',94],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['lib/phpexcel/PHPExcel','IOFactory.php',77],['lib/zend/Zend/Gdata/App/Extension','Email.php',43],['lib/zend/Zend/Gdata/Media/Extension','MediaHash.php',45],['lib/zend/Zend/Gdata/App/Extension','Element.php',42],['lib/google/src/Google/Service','Gmail.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['repository/dropbox','lib.php',49],['lib/minify/lib/Minify','Source.php',43],['backup/util/dbops','backup_dbops.class.php',37],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/google/src/Google/Service','Spectrum.php',38],['files','renderer.php',1080],['lib/zend/Zend/Validate/Barcode','Ean2.php',47],['course','lib.php',2932],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/zend/Zend/Service/Simpy','Watchlist.php',89],['lib/phpexcel/PHPExcel','Style.php',101],['lib/zend/Zend/Gdata/YouTube/Extension','CountHint.php',44],['lib/minify/lib/Minify/Cache','Memcache.php',22],['auth/db','auth.php',36],['lib/zend/Zend/Gdata/Gapps','UserQuery.php',54],['admin/roles/classes','assign_user_selector_base.php',40],['lib/zend/Zend/Gdata/Exif/Extension','Model.php',49],['lib/zend/Zend/Gdata/YouTube','PlaylistListFeed.php',55],['lib/zend/Zend/Gdata/Docs','DocumentListEntry.php',42],['mod/quiz/tests','repaginate_test.php',39],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['lib/zend/Zend/Service/Twitter','Search.php',70],['lib/zend/Zend/Server/Method','Parameter.php',59],['lib/phpunit/classes','basic_testcase.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobContainer.php',50],['lib/zend/Zend/Service/DeveloperGarden/Response/LocalSearch','LocalSearchResponse.php',50],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['mod/wiki/parser/markups','html.php',18],['lib/google/src/Google/Service','Mirror.php',49],['lib/classes/event','base.php',114],['lib/alfresco/Service','Repository.php',36],['lib/zend/Zend/Service/Technorati','CosmosResult.php',84],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',42],['lib/zend/Zend/Service/Yahoo','PageDataResult.php',47],['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',99],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateRequest.php',60],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',775],['lib/tcpdf','tcpdf_parser.php',92],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/zend/Zend/Gdata','MimeBodyString.php',49],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',55],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',92],['lib/google/src/Google/Http','MediaFileUpload.php',73],['lib/zend/Zend/XmlRpc/Client','ServerProxy.php',54],['lib','listlib.php',82],['lib','listlib.php',485],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/zend/Zend/Gdata/Health','ProfileFeed.php',49],['lib/google/src/Google/Service','Genomics.php',60],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/zend/Zend/Server/Reflection','Method.php',51],['lib/tests','medialib_test.php',631],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['lib/zend/Zend/Soap/Client','DotNet.php',43],['admin/roles/classes','allow_role_page.php',37],['backup/util/dbops','restore_dbops.class.php',1755],['lib/zend/Zend/Service/Yahoo','NewsResult.php',97],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['webservice/rest','locallib.php',40],['lib/simplepie/library/SimplePie','Sanitize.php',75],['lib','uploadlib.php',40],['lib/zend/Zend/Gdata','Health.php',109],['lib','questionlib.php',1269],['lib','questionlib.php',1513],['lib/dml','oci_native_moodle_recordset.php',34],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveParticipantRequest.php',53],['lib/zend/Zend/XmlRpc/Value','String.php',38],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',45],['lib/ddl','database_manager.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceTemplateRequest.php',60],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib/dtl','database_exporter.php',55],['mod/workshop/form/accumulative','lib.php',99],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib/zend/Zend/Validate','Float.php',53],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',59],['cache/classes','interfaces.php',473],['lib/zend/Zend/Gdata/App/Extension','Edited.php',43],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',103],['lib/lessphp/Tree','Element.php',19],['lib','moodlelib.php',9143],['lib','moodlelib.php',9354],['repository/picasa','lib.php',41],['webservice/soap','lib.php',42],['lib/zend/Zend/Gdata/Calendar','EventEntry.php',71],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',98],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/zend/Zend/Service/WindowsAzure/RetryPolicy','RetryN.php',56],['lib/dml','moodle_temptables.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',116],['lib/zend/Zend/Gdata/Gapps','EmailListEntry.php',80],['admin/roles/classes','allow_assign_page.php',31],['lib/zend/Zend/Gdata','Books.php',80],['lib/zend/Zend/Amf/Value','MessageHeader.php',64],['lib/zend/Zend/Validate','GreaterThan.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistId.php',44],['calendar/classes','rrule_manager.php',182],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',45],['lib/zend/Zend/Service/ReCaptcha','Response.php',53],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',106],['lib/zend/Zend/Amf/Value/Messaging','RemotingMessage.php',58],['lib/tcpdf','tcpdf.php',1822],['lib/zend/Zend/Gdata/YouTube/Extension','Username.php',44],['lib/zend/Zend/Gdata/Photos/Extension','Version.php',51],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',77],['lib/mustache/src/Mustache','Engine.php',61],['lib/xmldb','xmldb_structure.php',40],['lib/zend/Zend/Gdata/Photos','TagEntry.php',61],['webservice/amf','locallib.php',41],['webservice/amf','locallib.php',60],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['question/type/numerical/tests','form_test.php',40],['lib/google/src/Google/Service','IdentityToolkit.php',38],['comment','locallib.php',39],['lib/zend/Zend/Gdata/Extension','Comments.php',50],['lib/google/src/Google/Service','Resource.php',60],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/zend/Zend/Gdata/YouTube/Extension','Recorded.php',44],['lib/zend/Zend/Amf/Request','Http.php',46],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['question/engine/upgrade','behaviourconverters.php',78],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantDetail.php',62],['repository/s3','lib.php',39],['lib/minify/lib/MrClay','Cli.php',74],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/zend/Zend/Gdata/App','HttpException.php',51],['lib/zend/Zend/Soap/Client','Common.php',40],['lib/google/src/Google/Service','Dfareporting.php',45],['lib/lessphp/Output','Mapped.php',39],['lib/classes/output','notification.php',66],['lib/google/src/Google/Service','PlusDomains.php',72],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/editor/tinymce','adminlib.php',36],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',41],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',52],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',846],['lib/xmldb','xmldb_key.php',43],['user/filters','checkbox.php',51],['lib/phpexcel/PHPExcel/Reader','SYLK.php',75],['question/type/numerical','questiontype.php',507],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/zend/Zend/Gdata/App/Extension','Control.php',50],['lib/minify/lib','FirePHP.php',189],['lib/lessphp/Tree/Mixin','Definition.php',18],['lib/zend/Zend/Service/Yahoo','LocalResultSet.php',61],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['admin/tool/langimport/classes','controller.php',48],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['lib/horde/framework/Horde/Stream','String.php',27],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',454],['lib/horde/framework/Horde/Stream','Temp.php',25],['lib/alfresco/Service','VersionHistory.php',34],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceSchedule.php',81],['mod/quiz/classes','repaginate.php',49],['lib/zend/Zend/Validate','Isbn.php',65],['lib/zend/Zend/Service/Amazon','Image.php',55],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['lib/classes/lock','db_record_lock_factory.php',61],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Cell.php',76],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['lib/horde/framework/Horde/Text','Flowed.php',75],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',111],['mod/workshop/form/rubric','lib.php',105],['cohort','locallib.php',37],['cohort','locallib.php',101],['lib/zend/Zend/XmlRpc/Value','DateTime.php',53],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueMessage.php',52],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/zend/Zend/Amf/Parse','Serializer.php',40],['lib/google/src/Google/Service','GroupsMigration.php',38],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',61],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/zend/Zend/XmlRpc','Fault.php',100],['lib/zend/Zend/Gdata','Photos.php',124],['question/type/calculated','datasetdefinitions_form.php',53],['lib/phpexcel/PHPExcel/Reader','Excel5.php',424],['question/type/shortanswer','question.php',43],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/zend/Zend/Service','LiveDocx.php',67],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/google/src/Google/Auth','AppIdentity.php',38],['lib/zend/Zend/Gdata/Exif/Extension','FocalLength.php',49],['lib/zend/Zend/Gdata/App/Extension','Id.php',43],['lib/zend/Zend/Gdata/Books/Extension','PreviewLink.php',42],['mod/chat','locallib.php',179],['mod/chat','locallib.php',227],['lib/google/src/Google/Service','Licensing.php',38],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['lib/zend/Zend/Server/Method','Definition.php',64],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetParticipantStatusRequest.php',53],['question/classes/bank','column_base.php',44],['lib/zend/Zend/XmlRpc/Server','Fault.php',67],['lib/zend/Zend/Amf/Value/Messaging','AcknowledgeMessage.php',40],['grade/report/singleview/classes/local/ui','range.php',38],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',45],['mod/book','locallib.php',405],['lib/zend/Zend/XmlRpc/Value','Array.php',39],['lib/zend/Zend/Service/Technorati','Result.php',63],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateRequest.php',46],['lib/zend/Zend/Gdata/Exif/Extension','Exposure.php',49],['lib/zend/Zend/Gdata/Exif','Feed.php',58],['question/type/randomsamatch/tests','helper.php',121],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/zend/Zend/Gdata/Spreadsheets','CellEntry.php',49],['lib/zend/Zend/Gdata/Photos/Extension','PhotoId.php',49],['lib/zend/Zend/Http/Response','Stream.php',120],['lib','modinfolib.php',429],['lib','modinfolib.php',1680],['lib','modinfolib.php',2516],['lib/dtl','database_importer.php',61],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['lib/zend/Zend/Gdata/Exif/Extension','Iso.php',49],['lib/zend/Zend/Gdata/YouTube','VideoQuery.php',48],['lib/lessphp/Tree','Variable.php',20],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['lib/google/src/Google/Signer','P12.php',33],['lib/lessphp/Tree','DetachedRuleset.php',15],['lib/zend/Zend/Gdata/YouTube','SubscriptionEntry.php',138],['lib/zend/Zend/Http/Client/Adapter','Test.php',81],['','mdeploy.php',120],['lib/ddl','sqlite_sql_generator.php',73],['lib/google/src/Google/Service','Drive.php',70],['mod/quiz/classes','admin_review_setting.php',82],['lib','pdflib.php',161],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',45],['mod/quiz/report','attemptsreport_options.php',95],['lib/zend/Zend/Validate/File','Md5.php',60],['backup/util/helper','restore_questions_parser_processor.class.php',42],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/filebrowser','file_info_context_coursecat.php',39],['badges','renderer.php',972],['badges','renderer.php',1013],['badges','renderer.php',1077],['badges','renderer.php',1110],['badges','renderer.php',1136],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',59],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',54],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['mnet/xmlrpc','serverlib.php',674],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/simplepie/library/SimplePie','gzdecode.php',186],['lib/jabber/XMPP','Roster.php',48],['lib/classes/dml','recordset_walk.php',64],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',129],['lib/google/src/Google/Service','Books.php',57],['mod/assign/feedback/offline','importgradeslib.php',60],['lib/zend/Zend/Gdata','App.php',165],['lib/pear/Net','GeoIP.php',323],['lib/zend/Zend/Gdata/Photos/Extension','Name.php',50],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['lib/zend/Zend/Gdata/Docs','Query.php',75],['lib/zend/Zend/Gdata/YouTube/Extension','Occupation.php',44],['lib/zend/Zend/Gdata/Exif/Extension','Time.php',49],['cache/tests/fixtures','lib.php',325],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['lib/google/src/Google/Cache','Memcache.php',42],['lib/dml','sqlsrv_native_moodle_database.php',47],['backup/util/structure','backup_optigroup_element.class.php',51],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/simplepie/library/SimplePie','Caption.php',98],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['lib/classes','collator.php',58],['lib/zend/Zend/Service/Delicious','PostList.php',56],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/zend/Zend/Service/Amazon/Ec2','Abstract.php',91],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['mod/workshop/form/numerrors','lib.php',102],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateRequest.php',46],['report/log/classes','table_log.php',52],['lib/zend/Zend/Gdata/YouTube','CommentEntry.php',48],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/zend/Zend/Gdata/YouTube/Extension','Status.php',44],['lib/adodb','adodb-exceptions.inc.php',28],['backup/util/helper','backup_array_iterator.class.php',39],['lib/zend/Zend/Rest','Client.php',54],['lib/zend/Zend/Gdata/YouTube/Extension','Company.php',44],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceTemplateParticipantRequest.php',53],['question/engine','lib.php',770],['question/engine','lib.php',1000],['question/engine','lib.php',1048],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/google/src/Google/Service','Bigquery.php',59],['backup/moodle2','restore_course_task.class.php',41],['lib/zend/Zend/Gdata/Media/Extension','MediaRestriction.php',54],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/phpexcel/PHPExcel/Writer','CSV.php',86],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['cache','disabledlib.php',44],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['webservice/xmlrpc','locallib.php',85],['lib/google/src/Google/Service','Freebase.php',38],['mod/lti/service/profile/classes/local/service','profile.php',41],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['backup/util/settings','backup_setting.class.php',43],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/alfresco/Service','ContentData.php',38],['enrol/ldap','lib.php',36],['lib/zend/Zend/Validate/File','MimeType.php',112],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',47],['lib/zend/Zend/Gdata/Gapps','NicknameEntry.php',79],['lib/minify/lib/Minify','HTML.php',49],['lib/zend/Zend/Gdata/Extension','OriginalEvent.php',56],['lib/zend/Zend/Gdata/YouTube','InboxFeed.php',55],['lib/google/src/Google/Service','Groupssettings.php',40],['availability/classes','info.php',55],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['lib/tests','navigationlib_test.php',472],['lib/tests','navigationlib_test.php',530],['lib/tests','navigationlib_test.php',557],['lib/zend/Zend/Service/DeveloperGarden/Request/IpLocation','LocateIPRequest.php',58],['mod/quiz/report/statistics/classes','calculated.php',43],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['cache/stores/memcached','lib.php',107],['lib/zend/Zend/Validate','Between.php',89],['lib/zend/Zend/Gdata/Media/Extension','MediaGroup.php',183],['user/selector','lib.php',85],['user/selector','lib.php',674],['lib/google/src/Google/Service','YouTube.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/zend/Zend/Gdata','Exif.php',51],['backup/util/helper','backup_helper.class.php',380],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',154],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',71],['lib/zend/Zend/Gdata','YouTube.php',192],['lib/zend/Zend/Gdata/Calendar/Extension','Link.php',48],['blocks','edit_form.php',47],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign','locallib.php',149],['mod/assign','locallib.php',7411],['grade/report/user','lib.php',188],['lib/zend/Zend/Validate/Barcode','Code93ext.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','ChangeQuotaPool.php',47],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',294],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['lib/zend/Zend/Gdata','Media.php',51],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',59],['lib/zend/Zend/Amf/Value','ByteArray.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/behat/form_field','behat_form_field.php',59],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['backup/moodle2','restore_subplugin.class.php',45],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetFeed.php',54],['backup/util/structure','base_processor.class.php',49],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',45],['lib/zend/Zend/Validate','Ip.php',56],['lib/zend/Zend/Gdata/Extension','OpenSearchTotalResults.php',44],['badges/criteria','award_criteria_activity.php',45],['lib/zend/Zend/Service/Technorati','DailyCountsResultSet.php',67],['lib/zend/Zend/XmlRpc/Value','Collection.php',40],['lib/google/src/Google/Service','Coordinate.php',47],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['lib/classes/output','mustache_pix_helper.php',43],['lib/zend/Zend/Amf/Value','MessageBody.php',81],['user/classes/output/myprofile','node.php',82],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['lib/zend/Zend','Registry.php',186],['lib/lessphp/Exception','Chunk.php',19],['lib/dtl','database_mover.php',33],['lib/zend/Zend/Http','CookieJar.php',106],['lib/zend/Zend/Gdata/Extension','Transparency.php',44],['lib/zend/Zend/Gdata/Media/Extension','MediaText.php',64],['lib/phpexcel/PHPExcel/RichText','TextElement.php',43],['lib/simplepie/library/SimplePie','Enclosure.php',219],['lib/google/src/Google/Service','Webmasters.php',46],['lib/lessphp/Tree','Value.php',14],['lib/simplepie/library','SimplePie.php',611],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/zend/Zend/Gdata/App','CaptchaRequiredException.php',64],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['mod/folder','renderer.php',139],['lib/google/src/Google/Service','Webfonts.php',38],['lib/zend/Zend/Gdata/DublinCore/Extension','Description.php',44],['admin/roles/classes','admins_potential_selector.php',30],['lib/zend/Zend/Soap/Client','Local.php',52],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/lessphp/Tree','Negative.php',14],['mod/quiz','override_form.php',58],['lib/classes/session','file.php',40],['lib/google/src/Google/Auth','OAuth2.php',55],['admin/roles/classes','check_users_selector.php',38],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/alfresco/Service','Store.php',31],['lib/google/src/Google/Service','Audit.php',39],['lib/zend/Zend/Gdata','Gbase.php',95],['mod/wiki','pagelib.php',94],['mod/wiki','pagelib.php',381],['mod/wiki','pagelib.php',986],['mod/wiki','pagelib.php',1195],['mod/wiki','pagelib.php',2201],['mod/wiki','pagelib.php',2429],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['calendar','lib.php',1968],['calendar','lib.php',2709],['lib/zend/Zend/Gdata/Photos','AlbumFeed.php',133],['lib/phpmailer','class.phpmailer.php',572],['lib/google/src/Google/Service','Datastore.php',46],['lib/google/src/Google/Service','YouTubeAnalytics.php',45],['lib/lessphp/Tree','Keyword.php',17],['lib/zend/Zend/Service/Amazon','Sqs.php',70],['backup/util/plan','backup_structure_step.class.php',38],['availability/condition/profile/classes','condition.php',73],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/simplepie/library/SimplePie','Author.php',81],['report/loglive/classes','table_log.php',50],['lib','completionlib.php',243],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/zend/Zend/Gdata/Exif/Extension','Make.php',49],['lib/dml','moodle_database.php',139],['lib/lessphp/Tree','Media.php',18],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes/update','info.php',48],['backup/moodle2','backup_subplugin.class.php',44],['backup/util/ui','base_moodleform.class.php',68],['lib/zend/Zend/Gdata/DublinCore/Extension','Creator.php',44],['lib/alfresco/Service','Association.php',28],['lib/zend/Zend/Gdata/Geo/Extension','GeoRssWhere.php',62],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/zend/Zend/Service','Twitter.php',125],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['admin/tool/log/classes/log','store.php',30],['lib/phpexcel/PHPExcel','Comment.php',101],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CommitConferenceRequest.php',46],['filter','local_settings_form.php',33],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['badges/classes','assertion.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateParticipantRequest.php',67],['lib/phpexcel/PHPExcel','RichText.php',45],['lib/zend/Zend/Gdata/App','Base.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/filestorage','file_storage.php',57],['lib/adodb/drivers','adodb-postgres64.inc.php',125],['lib/adodb/drivers','adodb-postgres64.inc.php',904],['lib/phpexcel/PHPExcel/Chart','Title.php',53],['lib/zend/Zend/Mime','Part.php',51],['lib/phpexcel/PHPExcel','Worksheet.php',335],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',78],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/zend/Zend/Gdata/DublinCore/Extension','Language.php',44],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',77],['lib/alfresco/Service/WebService','AlfrescoWebService.php',30],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['lib/google/src/Google/Service','ShoppingContent.php',47],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Spreadsheets','ListQuery.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['mod/workshop/allocation/scheduled','lib.php',48],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib/zend/Zend/Gdata/Spreadsheets','ListEntry.php',62],['repository/merlot','lib.php',37],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/lessphp/Visitor','extendFinder.php',15],['lib/zend/Zend/Gdata/YouTube/Extension','MediaGroup.php',112],['mod/quiz/report/grading','gradingsettings_form.php',44],['lib/zend/Zend/Service/Simpy','Note.php',104],['lib/zend/Zend/Gdata/Photos/Extension','Rotation.php',51],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',89],['lib/editor/tinymce/classes','plugin.php',49],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/zend/Zend/XmlRpc/Value','Integer.php',40],['lib/zend/Zend/Validate/File','Upload.php',74],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',201],['admin/roles/classes','capability_table_with_risks.php',46],['lib/zend/Zend/Gdata/Extension','EntryLink.php',52],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib','outputrequirementslib.php',166],['lib/google/src/Google/Service','Appsactivity.php',49],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/zend/Zend/Loader','Autoloader.php',446],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/zend/Zend/Gdata','Docs.php',87],['lib/alfresco/Service/Logger','Logger.php',27],['lib/zend/Zend/Gdata/App/Extension','Logo.php',43],['lib/dml','pgsql_native_moodle_recordset.php',44],['backup/cc/cc_lib','cc_version11.php',57],['lib','weblib.php',315],['lib','weblib.php',3025],['lib','weblib.php',3325],['lib','weblib.php',3360],['lib','weblib.php',3435],['backup/cc/cc_lib','xmlbase.php',52],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['mod/lesson','locallib.php',2007],['mod/lesson','locallib.php',2602],['lib/zend/Zend/Service/LiveDocx','MailMerge.php',61],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',101],['lib/zend/Zend/Server/Reflection','ReturnValue.php',47],['lib/minify/lib/Minify','Build.php',77],['lib/horde/framework/Horde','Variables.php',60],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/phpexcel/PHPExcel','NamedRange.php',73],['lib/zend/Zend/Gdata/Extension','OpenSearchStartIndex.php',44],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['lib/zend/Zend/Service/Amazon','OfferSet.php',79],['grade/export/txt','grade_export_txt.php',27],['admin/roles/classes','allow_override_page.php',31],['lib/lessphp/Tree','Assignment.php',15],['lib/zend/Zend/Gdata/Books/Extension','ThumbnailLink.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','Uploaded.php',44],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',44],['lib/tcpdf/include/barcodes','qrcode.php',631],['lib/zend/Zend/Gdata/Photos/Extension','Weight.php',51],['enrol','locallib.php',125],['enrol','locallib.php',1240],['enrol','locallib.php',1363],['enrol','locallib.php',1414],['enrol','locallib.php',1447],['lib/lessphp/Visitor','toCSS.php',13],['question/classes/statistics/questions','calculator.php',66],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['backup/util/helper','restore_prechecks_helper.class.php',213],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',605],['grade/edit/tree','lib.php',638],['grade/edit/tree','lib.php',804],['lib/zend/Zend/Gdata','Geo.php',56],['lib/zend/Zend/Gdata/Books','CollectionFeed.php',41],['lib/classes','string_manager_standard.php',53],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',163],['admin/tool/installaddon/classes','validator.php',223],['admin/tool/generator/classes','backend.php',84],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','Custom.php',49],['availability/condition/completion/classes','condition.php',48],['question/classes/statistics/questions','calculated.php',181],['lib/lessphp/Tree','Javascript.php',20],['mod/quiz','locallib.php',1898],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',89],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',62],['lib/zend/Zend/Gdata/DublinCore/Extension','Date.php',45],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['lib/zend/Zend/Loader','PluginLoader.php',95],['lib/zend/Zend/Gdata/YouTube/Extension','Description.php',44],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/zend/Zend/Gdata/App/Extension','Generator.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Rights.php',44],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['repository/skydrive','lib.php',42],['lib/google/src/Google/Service','SQLAdmin.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','NoEmbed.php',44],['lib/zend/Zend/Gdata/Exif/Extension','ImageUniqueId.php',49],['lib/simplepie/library/SimplePie','Item.php',82],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',214],['lib/zend/Zend/Validate/File','IsImage.php',53],['lib/zend/Zend/Date','Exception.php',39],['lib/zend/Zend/Amf/Adobe','Introspector.php',65],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/zend/Zend/Service','ReCaptcha.php',117],['lib/zend/Zend/Gdata/Health','ProfileEntry.php',61],['lib/zend/Zend/Server/Reflection','Prototype.php',45],['admin/roles/classes','allow_switch_page.php',33],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',140],['lib/google/src/Google/Service','Fitness.php',57],['filter/emoticon/tests','filter_test.php',68],['backup/util/helper','convert_helper.class.php',378],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['repository/webdav','lib.php',38],['repository/dropbox','locallib.php',46],['lib/lessphp/Exception','Parser.php',30],['lib/filestorage','tgz_packer.php',726],['lib/filestorage','tgz_packer.php',808],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['lib/classes/output','mustache_javascript_helper.php',40],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','FirstName.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','Queue.php',83],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/zend/Zend/Gdata/Media/Extension','MediaDescription.php',53],['lib/google/src/Google/Service','TagManager.php',66],['lib/zend/Zend/Server','Abstract.php',89],['cache/classes','config.php',80],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',579],['lib','outputcomponents.php',655],['lib','outputcomponents.php',773],['lib','outputcomponents.php',915],['lib','outputcomponents.php',999],['lib','outputcomponents.php',2178],['lib','outputcomponents.php',2217],['lib','outputcomponents.php',2290],['lib','outputcomponents.php',2371],['lib','outputcomponents.php',2574],['lib','outputcomponents.php',2622],['lib','outputcomponents.php',2682],['lib','outputcomponents.php',2855],['lib','outputcomponents.php',3025],['lib','outputcomponents.php',3129],['lib','outputcomponents.php',3196],['lib','outputcomponents.php',3324],['lib','outputcomponents.php',3608],['lib','outputcomponents.php',3637],['lib','outputcomponents.php',3663],['lib','outputcomponents.php',3685],['lib','outputcomponents.php',3714],['lib','outputcomponents.php',3746],['lib/zend/Zend/Validate/Barcode','Code25.php',53],['lib/zend/Zend/Gdata/YouTube','CommentFeed.php',53],['lib/dtl','string_xml_database_importer.php',34],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/simplepie/library/SimplePie','Cache.php',69],['backup/util/ui','renderer.php',813],['grade/export/xls','grade_export_xls.php',24],['lib/google/src/Google/Service','Directory.php',110],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',47],['lib/phpexcel/PHPExcel/Style','Alignment.php',97],['mod/quiz/report/statistics','statistics_table.php',45],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/zend/Zend/Gdata/DublinCore/Extension','Title.php',44],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib/zend/Zend/Validate/Barcode','Code93.php',67],['lib/lessphp','Functions.php',15],['lib/adodb/drivers','adodb-postgres7.inc.php',78],['lib/adodb/drivers','adodb-postgres7.inc.php',273],['lib/adodb/drivers','adodb-postgres7.inc.php',304],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetRunningConferenceRequest.php',46],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceRequest.php',74],['lib/zend/Zend/Validate','EmailAddress.php',118],['mod/workshop','locallib.php',178],['mod/workshop','locallib.php',2801],['mod/workshop','locallib.php',3236],['mod/workshop','locallib.php',3472],['mod/workshop','locallib.php',3714],['mod/workshop','locallib.php',3800],['mod/workshop','locallib.php',3885],['mod/workshop','locallib.php',3904],['lib/zend/Zend/XmlRpc/Value','Struct.php',39],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',45],['lib/horde/framework/Horde/Mime','Mdn.php',35],['cache/stores/static','lib.php',127],['lib','blocklib.php',54],['lib','blocklib.php',152],['lib/zend/Zend/Gdata/Books/Extension','Review.php',46],['lib','componentlib.class.php',597],['lib','componentlib.class.php',821],['lib/zend/Zend/Validate/Barcode','Code39.php',66],['lib/filebrowser','file_info_context_module.php',47],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',42],['question/engine','states.php',61],['lib/jabber/XMPP','XMLStream.php',171],['lib/jabber/XMPP','XMPP.php',101],['lib/classes/lock','lock_factory.php',39],['lib/tests','collator_test.php',310],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['course/format','lib.php',78],['lib/ddl','sql_generator.php',175],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',35],['mod/quiz','accessmanager.php',45],['lib/zend/Zend/Amf/Value','TraitsInfo.php',53],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['lib/zend/Zend/Service/Nirvanix','Response.php',43],['lib','boxlib.php',293],['repository/flickr_public','image.php',34],['lib/google/src/Google/Service','AppState.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/filestorage','zip_archive.php',66],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/zend/Zend/Server/Method','Prototype.php',49],['lib/zend/Zend/Service/Technorati','Author.php',90],['mod/workshop/form/comments','lib.php',99],['lib/phpexcel/PHPExcel/RichText','Run.php',43],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',89],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',69],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',48],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','RemoveConferenceRequest.php',46],['lib/zend/Zend/Gdata/Photos','UserEntry.php',131],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['lib/zend/Zend/Gdata/Spreadsheets','ListFeed.php',54],['lib/phpexcel/PHPExcel','DocumentProperties.php',131],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',62],['lib/lessphp/Tree','Paren.php',14],['lib/zend/Zend/Gdata/Photos/Extension','Thumbnail.php',50],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['lib/filebrowser','file_info_context_user.php',39],['lib/google/src/Google/Service','CivicInfo.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Private.php',44],['lib/zend/Zend/Gdata/YouTube/Extension','Music.php',44],['backup/moodle2','restore_block_task.class.php',45],['lib/zend/Zend','Gdata.php',99],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/phpunit/classes','hint_resultprinter.php',37],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['admin/roles/classes','capability_table_base.php',51],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['lib/google/src/Google/Service','Container.php',44],['lib/zend/Zend/Service/Simpy','TagSet.php',47],['lib/phpexcel/PHPExcel/Chart','Legend.php',82],['question/type/calculated/tests','helper.php',205],['lib/phpexcel/PHPExcel/Reader','CSV.php',103],['availability/classes','result.php',46],['lib/zend/Zend/XmlRpc/Value','Double.php',40],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',462],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1700],['lib/horde/framework/Horde/Mime','Related.php',32],['report/log/classes','renderable.php',93],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/phpexcel/PHPExcel/Style','Font.php',108],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['course/tests/fixtures','course_capability_assignment.php',60],['lib/zend/Zend/Service/Amazon','ResultSet.php',68],['lib/zend/Zend/Validate','Callback.php',69],['lib/zend/Zend/Gdata/Books','CollectionEntry.php',41],['lib/zend/Zend/Gdata/DublinCore/Extension','Publisher.php',44],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetEntry.php',56],['badges/lib','bakerlib.php',52],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['lib/portfolio','caller.php',67],['lib/zend/Zend/Validate/File','Sha1.php',60],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/zend/Zend/Gdata/Media','Feed.php',58],['lib/zend/Zend/Gdata/YouTube/Extension','LastName.php',44],['mod/data','locallib.php',64],['mod/data','locallib.php',431],['lib/zend/Zend/Gdata/App/Extension','Content.php',44],['lib/classes/update','checker_exception.php',37],['backup/cc/cc_lib','cc_manifest.php',45],['lib','odslib.class.php',42],['lib','odslib.class.php',121],['lib','odslib.class.php',419],['lib','odslib.class.php',824],['lib/zend/Zend/Gdata/Books/Extension','AnnotationLink.php',42],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',46],['backup/util/helper','restore_structure_parser_processor.class.php',41],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/alfresco/Service','Session.php',39],['grade/report/singleview/classes/local/ui','empty_element.php',38],['enrol/database','settingslib.php',34],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',125],['lib/google/src/Google/Service','AndroidPublisher.php',51],['lib/zend/Zend/Service','StrikeIron.php',43],['lib/zend/Zend/Gdata/Books/Extension','InfoLink.php',41],['lib/lessphp/SourceMap','Generator.php',82],['filter/urltolink/tests','filter_test.php',209],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/zend/Zend/Service/Amazon','Item.php',112],['repository','lib.php',116],['repository','lib.php',533],['admin/roles/classes','define_role_table_basic.php',31],['lib/phpexcel/PHPExcel','WorksheetIterator.php',54],['lib/zend/Zend/Gdata/Photos/Extension','NumPhotosRemaining.php',50],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',505],['mod/quiz','attemptlib.php',2058],['mod/quiz','attemptlib.php',2113],['lib/zend/Zend/Server/Reflection','Node.php',51],['lib/zend/Zend/Gdata/Media/Extension','MediaTitle.php',49],['lib/zend/Zend','Date.php',123],['lib/zend/Zend','Mime.php',290],['lib','accesslib.php',5301],['lib','accesslib.php',5846],['lib','accesslib.php',6116],['lib','accesslib.php',6357],['lib','accesslib.php',6544],['lib','accesslib.php',6776],['lib','accesslib.php',6998],['lib','accesslib.php',7240],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1180],['lib/zend/Zend/Validate','Ccnum.php',62],['lib/zend/Zend/Gdata/Extension','EventStatus.php',44],['lib/google/src/Google/Verifier','Pem.php',29],['lib/zend/Zend/Service/Technorati','BlogInfoResult.php',74],['admin/tool/log/classes','setting_managestores.php',30],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['backup/util/ui','restore_moodleform.class.php',34],['grade/report/singleview/classes/local/ui','element.php',47],['mod/quiz/report','attemptsreport_table.php',76],['lib/lessphp/Tree','Attribute.php',16],['lib/phpexcel/PHPExcel/Style','Supervisor.php',52],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',50],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/zend/Zend/Gdata/Photos/Extension','Checksum.php',51],['lib/lessphp/Tree','Expression.php',16],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['course/format','renderer.php',44],['lib/zend/Zend/XmlRpc/Value','Boolean.php',40],['blocks/rss_client','editfeed.php',36],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['question/type/numerical','question.php',321],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['lib/typo3','class.t3lib_cs.php',509],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/zend/Zend/Gdata/Health','ProfileListEntry.php',49],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['cache/stores/memcache','lib.php',120],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['lib/zend/Zend/Gdata/Calendar/Extension','WebContent.php',47],['lib/zend/Zend/Gdata/Photos/Extension','Id.php',50],['lib/google/src/Google/Service','Games.php',60],['lib/zend/Zend/Validate/File','Size.php',92],['lib/classes/lock','file_lock_factory.php',57],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',64],['lib','filelib.php',2700],['lib','filelib.php',3560],['lib/classes/session','database.php',52],['lib/zend/Zend/Gdata/YouTube/Extension','Movies.php',44],['grade','lib.php',103],['grade','lib.php',785],['availability/condition/grouping/classes','condition.php',46],['lib/zend/Zend/Service/Technorati','SearchResult.php',84],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/zend/Zend/XmlRpc','Server.php',186],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/htmlpurifier','HTMLPurifier.php',104],['lib/zend/Zend/Gdata/Media/Extension','MediaPlayer.php',59],['lib/phpexcel/PHPExcel','Cell.php',122],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',248],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['backup/util/helper','restore_log_rule.class.php',62],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',108],['lib/zend/Zend/Server/Reflection','Class.php',66],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['repository/flickr','lib.php',51],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/google/src/Google/Service','MapsEngine.php',66],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['lib/filestorage','tgz_extractor.php',119],['lib/zend/Zend/Soap','Client.php',142],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',45],['cache/classes','factory.php',149],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',54],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['mod/lti/classes/local/ltiservice','resource_base.php',62],['lib/zend/Zend/Http','Response.php',132],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceListRequest.php',63],['backup/util/ui','backup_moodleform.class.php',41],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['comment','lib.php',100],['lib/phpexcel','PHPExcel.php',354],['grade/export/ods','grade_export_ods.php',24],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/zend/Zend/Gdata/YouTube/Extension','Location.php',44],['lib/lessphp/Tree','Dimension.php',15],['lib/phpexcel/PHPExcel/Worksheet','Row.php',54],['lib/phpexcel/PHPExcel/Writer','HTML.php',135],['lib/zend/Zend/Service/Technorati','TagsResultSet.php',41],['backup/moodle2','backup_theme_plugin.class.php',61],['lib/zend/Zend/Gdata','Extension.php',43],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['mod/forum/classes','subscriber_selector_base.php',53],['lib/zend/Zend','Auth.php',45],['lib/phpexcel/PHPExcel/Style','Borders.php',121],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','CreateConferenceRequest.php',67],['lib/zend/Zend/Gdata/Calendar','ListFeed.php',54],['lib/zend/Zend/Gdata/Extension','Visibility.php',44],['webservice/xmlrpc','lib.php',42],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',76],['lib/zend/Zend/Gdata/App','MediaEntry.php',57],['lib/horde/framework/Horde/Mime','Part.php',261],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['question/classes/engine/variants','least_used_strategy.php',51],['lib/horde/framework/Horde/Support','Array.php',21],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',93],['lib/zend/Zend/Gdata/Photos/Extension','BytesUsed.php',50],['lib','tablelib.php',127],['lib','tablelib.php',1400],['lib','tablelib.php',1723],['lib/zend/Zend/Gdata/App/Extension','Uri.php',43],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/zend/Zend/Gdata/Media/Extension','MediaCopyright.php',53],['lib/zend/Zend/Gdata/DublinCore/Extension','Identifier.php',44],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/zend/Zend/Gdata/Gbase','Feed.php',49],['availability/condition/date/classes','condition.php',52],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['admin/tool/generator/classes','course_backend.php',116],['lib/google/src/Google/Service','Prediction.php',51],['cache/stores/session','lib.php',131],['cache/classes','dummystore.php',62],['lib/zend/Zend/XmlRpc/Server','System.php',39],['lib/zend/Zend/Service/WindowsAzure/Storage','TableInstance.php',50],['backup/util/settings/course','course_backup_setting.class.php',25],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['mod/lesson','override_form.php',58],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',47],['lib/google/src/Google/Service','Compute.php',78],['badges/criteria','award_criteria.php',127],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',45],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['lib/zend/Zend/Validate','PostCode.php',65],['lib/dml','oci_native_moodle_temptables.php',40],['lib/zend/Zend/Gdata/Photos/Extension','CommentingEnabled.php',51],['lib/simplepie/library/SimplePie','Category.php',81],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',45],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['user/classes/output/myprofile','category.php',68],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['mod/wiki/parser','parser.php',98],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['repository/googledocs','lib.php',65],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/zend/Zend/Validate/File','Extension.php',71],['mod/imscp','locallib.php',289],['lib/classes/session','memcache.php',50],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/zend/Zend/Service','Simpy.php',53],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/zend/Zend/Gdata/Gapps','EmailListRecipientQuery.php',54],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoEntry.php',55],['lib/zend/Zend/Gdata/Photos','CommentEntry.php',85],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/zend/Zend/Gdata/YouTube','InboxEntry.php',92],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/phpexcel/PHPExcel/Style','Border.php',75],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','GetConferenceTemplateParticipantRequest.php',53],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['lib/zend/Zend/Gdata/Exif/Extension','Distance.php',49],['lib/phpexcel/PHPExcel/Writer','PDF.php',46],['lib/zend/Zend/Gdata/Photos/Extension','Size.php',50],['lib/google/src/Google/Service','CloudMonitoring.php',42],['backup/util/xml/output','memory_xml_output.class.php',37],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/zend/Zend/Service','Delicious.php',112],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib','outputrenderers.php',117],['lib','outputrenderers.php',282],['lib','outputrenderers.php',405],['lib','outputrenderers.php',4280],['lib','outputrenderers.php',4533],['lib/zend/Zend/Service/Amazon','ListmaniaList.php',44],['lib/zend/Zend/Service','Flickr.php',54],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['lib/google/src/Google/Logger','File.php',49],['backup','backup.class.php',146],['lib/zend/Zend/Gdata/App/Extension','Updated.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistVideoFeed.php',55],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',137],['lib/zend/Zend/Gdata/Geo','Feed.php',51],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',107],['backup/util/loggers','file_logger.class.php',35],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',57],['lib/zend/Zend/Gdata/Extension','Reminder.php',48],['course/format/topics','renderer.php',38],['mod/lesson/classes','file_info.php',45],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',62],['lib/minify/lib/HTTP','Encoder.php',75],['lib/zend/Zend/Gdata/App/Extension','Name.php',43],['lib/google/src/Google/Service','Calendar.php',50],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['lib/dml','database_column_info.php',137],['lib/zend/Zend/Gdata/YouTube/Extension','Gender.php',44],['lib/zend/Zend/Service','Yahoo.php',49],['lib/zend/Zend/Service/Amazon','SimilarProduct.php',44],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/horde/framework/Horde','Stream.php',50],['lib/google/src/Google/Service','Analytics.php',76],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['lib/xmldb','xmldb_file.php',43],['lib/zend/Zend/Gdata/YouTube','PlaylistListEntry.php',97],['lib/zend/Zend/Service/Amazon/Ec2','Response.php',78],['lib/zend/Zend/Soap/Wsdl/Strategy','Composite.php',60],['lib/google/src/Google/Service','Tasks.php',44],['lib/zend/Zend/XmlRpc','Response.php',68],['lib/horde/framework/Horde/Exception','NotFound.php',15],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['lib/zend/Zend/Gdata/Books','VolumeEntry.php',131],['question','previewlib.php',122],['mod/wiki','renderer.php',537],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',62],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',393],['mod/assign','renderable.php',517],['mod/assign','renderable.php',576],['mod/assign','renderable.php',613],['mod/assign','renderable.php',653],['mod/assign','renderable.php',706],['mod/assign','renderable.php',760],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Invalidate.php',46],['lib/zend/Zend/Service/Yahoo','ImageResult.php',97],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',183],['mod/quiz/classes/question/bank','custom_view.php',44],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['lib/zend/Zend/Amf/Adobe','Auth.php',56],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/zend/Zend/Amf/Parse','Deserializer.php',45],['lib/zend/Zend/Service/Delicious','SimplePost.php',56],['lib/zend/Zend/Service/Technorati','ResultSet.php',112],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1211],['cache/classes','loaders.php',1606],['lib/zend/Zend/Gdata/Gbase','Entry.php',62],['lib/zend/Zend/Validate','Identical.php',64],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['cache/stores/mongodb','lib.php',116],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/zend/Zend/Gdata/App/Extension','Draft.php',44],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',54],['lib/zend/Zend/Service/Yahoo','InlinkDataResult.php',47],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/lessphp/Tree','Directive.php',20],['lib/zend/Zend/Service/Yahoo','VideoResult.php',118],['question/type/calculated','edit_calculated_form.php',51],['lib/classes','string_manager_install.php',43],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/google/src/Google/Logger','Psr.php',37],['grade/report/history/classes/output','user_button.php',40],['lib','externallib.php',129],['lib','externallib.php',426],['lib','externallib.php',457],['lib','externallib.php',488],['lib','externallib.php',517],['lib','externallib.php',649],['lib','externallib.php',684],['lib','externallib.php',782],['backup/util/ui','base_ui_stage.class.php',67],['lib/zend/Zend/Validate','CreditCard.php',136],['lib/zend/Zend/Gdata/Spreadsheets','CellQuery.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['mod/quiz/accessrule','accessrulebase.php',52],['lib/mustache/src/Mustache','Context.php',20],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','CallStatus.php',46],['lib/zend/Zend/Gdata/Spreadsheets','CellFeed.php',78],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['lib/lessphp/Tree','Color.php',15],['lib/zend/Zend/Service/StrikeIron','Base.php',56],['lib/zend/Zend/Gdata/Exif/Extension','FStop.php',49],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/zend/Zend/Service/Simpy','Tag.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['cache/classes','helper.php',90],['lib/zend/Zend/Soap','Wsdl.php',73],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['lib/zend/Zend/Validate/Barcode','Code25interleaved.php',53],['webservice/soap','locallib.php',162],['lib/lessphp/Tree','Quoted.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['lib/zend/Zend/Gdata/YouTube','ActivityEntry.php',88],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',517],['lib/zend/Zend/Service','Audioscrobbler.php',65],['lib/zend/Zend/Service/Flickr','ResultSet.php',82],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['lib/zend/Zend/XmlRpc/Request','Stdin.php',47],['lib/zend/Zend/Service/DeveloperGarden/Request/SmsValidation','Validate.php',63],['mod/glossary','locallib.php',481],['lib/google/src/Google/Logger','Abstract.php',121],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/zend/Zend/Http/Client/Adapter','Curl.php',92],['lib/google/src/Google/Service','Oauth2.php',50],['lib/phpmailer','moodle_phpmailer.php',47],['lib/zend/Zend/Validate/Barcode','Intelligentmail.php',47],['repository/skydrive','microsoftliveapi.php',50],['mod/workshop/allocation/manual','lib.php',51],['lib/zend/Zend/Validate/File','Exists.php',62],['lib/xhprof','xhprof_moodle.php',788],['question/classes/bank/search','category_condition.php',60],['lib/markdown','Markdown.php',96],['grade/report/grader','lib.php',104],['lib/zend/Zend/Gdata/YouTube/Extension','Control.php',48],['lib/zend/Zend/Validate','StringLength.php',79],['question/behaviour','behaviourbase.php',50],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib/zend/Zend/Gdata/Photos/Extension','Nickname.php',50],['lib/zend/Zend/Gdata/Exif/Extension','Tags.php',169],['lib/zend/Zend/Uri','Http.php',108],['lib/zend/Zend/Gdata/YouTube/Extension','Hometown.php',44],['cache/stores/file','lib.php',117],['lib/zend/Zend/Service','Amazon.php',75],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/zend/Zend/Gdata/Media/Extension','MediaThumbnail.php',64],['lib/zend/Zend/Service/Yahoo','Image.php',56],['lib/zend/Zend/Gdata','Feed.php',87],['lib/google/src/Google/Service','Storage.php',54],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['admin/tool/uploadcourse/classes','course.php',111],['lib/zend/Zend/Gdata/Extension','Where.php',52],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/zend/Zend/Service/Amazon','S3.php',102],['lib/horde/framework/Horde/Stream','Existing.php',28],['backup/util/output','output_controller.class.php',44],['backup/cc/cc_lib','cc_version1.php',57],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/zend/Zend/Service/Simpy','Link.php',104],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['lib/zend/Zend/Gdata','Calendar.php',77],['lib/zend/Zend/Validate','Date.php',71],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/xmldb','xmldb_table.php',49],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['backup/cc','cc112moodle.php',59],['lib/zend/Zend/XmlRpc/Client','ServerIntrospection.php',43],['lib/zend/Zend/Gdata/Photos','PhotoFeed.php',147],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',407],['lib','adminlib.php',792],['lib','adminlib.php',1139],['lib','adminlib.php',1213],['lib','adminlib.php',1356],['lib','adminlib.php',1553],['lib','adminlib.php',1925],['lib','adminlib.php',2037],['lib','adminlib.php',2103],['lib','adminlib.php',2204],['lib','adminlib.php',2246],['lib','adminlib.php',2284],['lib','adminlib.php',2372],['lib','adminlib.php',2406],['lib','adminlib.php',2563],['lib','adminlib.php',2648],['lib','adminlib.php',2877],['lib','adminlib.php',3033],['lib','adminlib.php',3175],['lib','adminlib.php',3266],['lib','adminlib.php',3430],['lib','adminlib.php',3510],['lib','adminlib.php',3621],['lib','adminlib.php',3772],['lib','adminlib.php',4001],['lib','adminlib.php',4068],['lib','adminlib.php',4286],['lib','adminlib.php',4315],['lib','adminlib.php',4344],['lib','adminlib.php',4368],['lib','adminlib.php',4398],['lib','adminlib.php',4434],['lib','adminlib.php',4469],['lib','adminlib.php',4501],['lib','adminlib.php',4591],['lib','adminlib.php',4624],['lib','adminlib.php',4680],['lib','adminlib.php',4704],['lib','adminlib.php',4730],['lib','adminlib.php',4753],['lib','adminlib.php',4770],['lib','adminlib.php',4815],['lib','adminlib.php',4878],['lib','adminlib.php',4913],['lib','adminlib.php',4956],['lib','adminlib.php',5039],['lib','adminlib.php',5169],['lib','adminlib.php',5211],['lib','adminlib.php',5256],['lib','adminlib.php',5313],['lib','adminlib.php',5329],['lib','adminlib.php',5385],['lib','adminlib.php',5610],['lib','adminlib.php',5664],['lib','adminlib.php',5718],['lib','adminlib.php',5735],['lib','adminlib.php',5783],['lib','adminlib.php',5825],['lib','adminlib.php',5876],['lib','adminlib.php',5932],['lib','adminlib.php',6161],['lib','adminlib.php',6341],['lib','adminlib.php',6435],['lib','adminlib.php',6582],['lib','adminlib.php',7206],['lib','adminlib.php',7658],['lib','adminlib.php',7841],['lib','adminlib.php',8128],['lib','adminlib.php',8275],['lib','adminlib.php',8435],['lib','adminlib.php',8582],['lib','adminlib.php',8746],['lib','adminlib.php',8939],['lib','adminlib.php',8993],['lib','adminlib.php',9055],['lib','adminlib.php',9100],['mod/workshop/eval/best','lib.php',44],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',91],['lib/zend/Zend/Service/Technorati','TagResult.php',94],['lib/google/src/Google/Cache','Null.php',26],['enrol/flatfile','adminlib.php',35],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',52],['mod/quiz/report/statistics','statistics_question_table.php',49],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','AddConferenceTemplateParticipantRequest.php',53],['mod/data','lib.php',66],['mod/data','lib.php',2164],['mod/data','lib.php',2438],['mod/data','lib.php',2459],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/classes/session','memcached.php',51],['lib/google/src/Google/IO','Abstract.php',37],['availability/classes','info_section.php',40],['lib/zend/Zend/Gdata/YouTube/Extension','Books.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/filestorage','stored_file.php',63],['grade/report/history/classes/output','tablelog.php',72],['lib/classes','plugin_manager.php',71],['lib/google/src/Google','Model.php',32],['lib/zend/Zend/Gdata/YouTube/Extension','Relationship.php',44],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/filebrowser','virtual_root_file.php',45],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['availability/condition/grade/classes','condition.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',188],['admin/roles/classes','check_capability_table.php',40],['lib/zend/Zend/Gdata/Media','Entry.php',60],['lib/zend/Zend/Gdata','MimeFile.php',43],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/cc/cc_lib','cc_resources.php',102],['lib/zend/Zend/Loader/Autoloader','Resource.php',62],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/simplepie/library/SimplePie','IRI.php',252],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',44],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntity.php',66],['lib/zend/Zend/Service/DeveloperGarden/Request/LocalSearch','LocalSearchRequest.php',60],['mod/quiz/report/overview','overview_table.php',41],['lib/zend/Zend/Gdata/Photos/Extension','Client.php',51],['backup/cc/cc_lib','cc_converters.php',75],['lib/google/src/Google/Service','AdSense.php',68],['lib/zend/Zend/Gdata','Entry.php',48],['lib','filterlib.php',74],['lib','filterlib.php',382],['lib/lessphp/Tree','Alpha.php',13],['lib/zend/Zend/Gdata','DublinCore.php',51],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/lessphp/Tree','Selector.php',31],['lib/zend/Zend/Service','Nirvanix.php',47],['lib/dtl','file_xml_database_importer.php',34],['mod/workshop','mod_form.php',44],['lib/zend/Zend/Service/Technorati','CosmosResultSet.php',73],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['lib/zend/Zend/Gdata/YouTube/Extension','Age.php',44],['repository/s3','S3.php',176],['repository/s3','S3.php',1994],['repository/s3','S3.php',2346],['lib/lessphp/Tree','Ruleset.php',45],['lib/zend/Zend/Service/Simpy','NoteSet.php',47],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['lib/google/src/Google/Service','Pubsub.php',44],['lib/alfresco/Service','Node.php',51],['lib/zend/Zend/Service','Technorati.php',79],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['admin/tool/monitor/classes','subscription.php',43],['lib/zend/Zend/Gdata/App/Extension','Person.php',61],['backup/moodle2','backup_course_task.class.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',61],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['mod/assignment/backup/moodle1','lib.php',223],['lib/zend/Zend/Gdata/Health/Extension','Ccr.php',43],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['mod/quiz','mod_form.php',48],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/zend/Zend/Gdata/Calendar','EventFeed.php',55],['lib/zend/Zend/Gdata/Spreadsheets','DocumentQuery.php',57],['availability/tests/fixtures','mock_condition.php',52],['lib/lessphp','Visitor.php',14],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/minify/lib/Minify/Cache','File.php',9],['lib/zend/Zend/Gdata/Exif','Entry.php',64],['grade/tests','reportlib_test.php',36],['mod/workshop/allocation','lib.php',103],['lib/zend/Zend/Service/WindowsAzure/Storage','BlobInstance.php',57],['lib/zend/Zend/Gdata/Photos/Extension','User.php',50],['admin/tool/uploadcourse/classes','tracker.php',72],['lib/zend/Zend/Service/Technorati','GetInfoResult.php',52],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',61],['lib/zend/Zend/Gdata/YouTube/Extension','Hobbies.php',44],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/zend/Zend/Gdata/Photos/Extension','Width.php',50],['admin/roles/classes','view_role_definition_table.php',28],['lib/phpunit/classes','arraydataset.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/zend/Zend','Exception.php',34],['backup/util/xml/parser/tests','parser_test.php',797],['lib/zend/Zend/Validate/File','ImageSize.php',113],['lib/zend/Zend/Validate','Alnum.php',65],['lib/zend/Zend/Service/Flickr','Image.php',62],['lib/phpexcel/PHPExcel/Calculation','Function.php',71],['lib/horde/framework/Horde/Support','Inflector.php',115],['lib/horde/framework/Horde/Exception','Pear.php',22],['question/classes/bank','random_question_loader.php',61],['lib/phpexcel/PHPExcel/Reader','HTML.php',104],['lib/mustache/src/Mustache/Loader','InlineLoader.php',57],['lib/zend/Zend/Gdata/Photos/Extension','QuotaLimit.php',51],['admin/tool/uploadcourse/classes','processor.php',122],['lib/zend/Zend/Gdata/Spreadsheets','WorksheetFeed.php',40],['lib/lessphp/Tree','Rule.php',24],['lib/zend/Zend/Service/Amazon','EditorialReview.php',44],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',86],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['lib/classes/progress','display_if_slow.php',60],['availability/condition/group/classes','condition.php',43],['lib/zend/Zend/Gdata/Photos/Extension','Location.php',50],['backup/moodle2','restore_settingslib.php',125],['lib/filebrowser','file_info.php',43],['repository/equella','lib.php',42],['lib/zend/Zend/Http','Client.php',242],['lib/alfresco/Service','ChildAssociation.php',30],['lib/zend/Zend/Gdata/DublinCore/Extension','Subject.php',44],['lib/zend/Zend/Gdata/App/Extension','Category.php',46],['badges/lib','awardlib.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/mustache/src/Mustache','Template.php',29],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['lib/zend/Zend/Service/WindowsAzure/Storage','QueueInstance.php',49],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['admin/roles/classes','define_role_table_advanced.php',46],['backup/moodle2','restore_section_task.class.php',42],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib/google/src/Google','Client.php',71],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['backup/moodle2','restore_plugin.class.php',43],['lib/simplepie/library/SimplePie','Registry.php',99],['backup/cc','cc2moodle.php',105],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',56],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['lib/zend/Zend/Validate/File','Count.php',92],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/editor/atto','adminlib.php',109],['lib/google/src/Google/Service','Admin.php',40],['lib/dml','moodle_transaction.php',40],['backup/util/plan','restore_structure_step.class.php',46],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1513],['question/engine','questionattempt.php',1599],['question/engine','questionattempt.php',1684],['lib/zend/Zend/Service/Technorati','Weblog.php',152],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['lib/google/src/Google/Cache','File.php',39],['lib/google/src/Google/Http','Request.php',55],['backup/moodle2','backup_block_task.class.php',43],['lib/simplepie/library/SimplePie','Source.php',61],['lib/google/src/Google/Service','Translate.php',40],['availability/classes','capability_checker.php',49],['lib','navigationlib.php',145],['lib','navigationlib.php',1012],['lib','navigationlib.php',2814],['lib','navigationlib.php',3075],['lib','navigationlib.php',3409],['lib','navigationlib.php',4775],['lib','navigationlib.php',4956],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',64],['lib/dml','pdo_moodle_database.php',42],['lib/zend/Zend/Gdata/YouTube/Extension','ReleaseDate.php',44],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','NewParticipantRequest.php',53],['lib/zend/Zend/Gdata/Spreadsheets/Extension','RowCount.php',49],['lib/zend/Zend/Validate/File','IsCompressed.php',53],['lib/zend/Zend/Gdata/Photos/Extension','MaxPhotosPerAlbum.php',51],['lib/zend/Zend/Gdata/Extension','When.php',52],['question/classes/bank/search','hidden_condition.php',42],['report/loglive/classes','renderable.php',73],['mod/lti/classes/local/ltiservice','response.php',58],['lib/zend/Zend/Gdata/Extension','Recurrence.php',43],['lib/zend/Zend/Gdata/Books/Extension','BooksLink.php',41],['backup/util/loggers','database_logger.class.php',40],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',250],['lib/phpexcel/PHPExcel','HashTable.php',52],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/classes/update','deployer.php',42],['lib/zend/Zend/Gdata/YouTube','VideoFeed.php',53],['lib/zend/Zend/Service/DeveloperGarden/Request/BaseUserService','GetQuotaInformation.php',40],['lib/minify/lib','CSSmin.php',43],['lib/zend/Zend/Validate/File','Crc32.php',60],['mod/feedback/item','feedback_item_class.php',20],['question/engine/upgrade','upgradelib.php',280],['question/engine/upgrade','upgradelib.php',381],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/zend/Zend/Gdata/Spreadsheets','SpreadsheetEntry.php',43],['lib/google/src/Google/Service','Dns.php',50],['lib/zend/Zend/Gdata/Gapps','Query.php',57],['lib/zend/Zend/Gdata/YouTube/Extension','School.php',44],['lib/mustache/src/Mustache','HelperCollection.php',19],['mod/assign','gradingtable.php',68],['backup/util/xml/output','file_xml_output.class.php',37],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/zend/Zend/Service','Akismet.php',77],['lib','googleapi.php',52],['lib','googleapi.php',243],['lib/zend/Zend/Service/Yahoo','ResultSet.php',84],['lib/classes/message/inbound','processing_failed_exception.php',36],['lib','portfoliolib.php',101],['lib/lessphp/Tree','Import.php',30],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',53],['lib/tests/fixtures','test_renderer_factory.php',41],['mod/lesson','editpage_form.php',41],['grade/report','lib.php',156],['lib/zend/Zend/XmlRpc/Request','Http.php',53],['lib/filebrowser','file_info_stored.php',51],['lib/phpexcel/PHPExcel/Style','Protection.php',57],['lib/google/src/Google','Config.php',30],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/zend/Zend/Validate','LessThan.php',58],['grade/export','lib.php',60],['lib/zend/Zend/Gdata/YouTube/Extension','PlaylistTitle.php',44],['availability/classes','tree.php',118],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['question/classes/statistics/responses','analysis_for_subpart.php',50],['lib/zend/Zend/Validate','InArray.php',65],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['lib/zend/Zend/Gdata/Photos/Extension','Height.php',50],['lib/zend/Zend/Gdata/Gapps','Error.php',76],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['lib/phpexcel/PHPExcel','Chart.php',150],['lib/google/src/Google/Service','Replicapool.php',48],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',49],['lib/zend/Zend/Gdata/YouTube','VideoEntry.php',175],['admin/tool/installaddon/classes','pluginfo_client.php',68],['admin/tool/installaddon/classes','pluginfo_client.php',206],['lib/google/src/Google/Service','Resourceviews.php',54],['admin/tool/log/store/legacy/classes/log','store.php',33],['backup/moodle2','backup_section_task.class.php',40],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',68],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['repository/youtube','lib.php',40],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/testing/generator','component_generator_base.php',45],['lib/zend/Zend/Gdata/DublinCore/Extension','Format.php',44],['lib','badgeslib.php',133],['admin/tool/installaddon/classes','installer.php',488],['admin/tool/installaddon/classes','installer.php',745],['lib/zend/Zend/XmlRpc','Client.php',122],['lib/mustache/src/Mustache','LambdaHelper.php',24],['admin/roles/classes','permissions_table.php',38],['lib/jabber/XMPP','XMLObj.php',76],['lib','coursecatlib.php',197],['lib','coursecatlib.php',2668],['question/type','edit_question_form.php',96],['lib/zend/Zend/Gdata','MediaMimeStream.php',80],['mod/quiz/report/responses','last_responses_table.php',39],['lib/zend/Zend/Gdata/Photos/Extension','Timestamp.php',51],['lib','setuplib.php',106],['lib','setuplib.php',158],['lib','setuplib.php',174],['lib','setuplib.php',194],['lib','setuplib.php',224],['lib','setuplib.php',246],['lib','setuplib.php',262],['lib','setuplib.php',284],['lib','setuplib.php',303],['lib','setuplib.php',321],['lib/google/src/Google/Cache','Apc.php',35],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/lessphp/Tree','Unit.php',16],['lib/zend/Zend/Service/DeveloperGarden/Request/VoiceButler','TearDownCall.php',46],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',261],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['lib/zend/Zend/Service/Amazon','CustomerReview.php',69],['lib/zend/Zend/Gdata/YouTube/Extension','QueryString.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',65],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/lessphp/Tree','RulesetCall.php',14],['lib/zend/Zend/Gdata/Extension','Rating.php',49],['repository/alfresco','lib.php',42],['lib/zend/Zend/Service/Technorati','SearchResultSet.php',49],['lib/zend/Zend/Gdata/Photos','UserQuery.php',71],['enrol','renderer.php',426],['enrol','renderer.php',728],['badges/criteria','award_criteria_course.php',47],['lib/zend/Zend/Gdata/Extension','RecurrenceException.php',56],['lib/phpexcel/PHPExcel/Style','Fill.php',89],['lib/zend/Zend/Service/Technorati','TagsResult.php',60],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/google/src/Google/Service','Exception.php',12],['lib/zend/Zend/Gdata','Spreadsheets.php',115],['lib/xmldb','xmldb_index.php',56],['question/classes/statistics/responses','analyser.php',69],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['lib/zend/Zend/Gdata/Photos/Extension','Position.php',50],['lib/google/src/Google/Auth','Simple.php',32],['lib/zend/Zend/Gdata/Geo/Extension','GmlPoint.php',62],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/zend/Zend/Rest','Route.php',71],['lib/zend/Zend/Service/DeveloperGarden/Request/ConferenceCall','UpdateConferenceTemplateParticipantRequest.php',60],['question','category_class.php',58],['lib/classes/progress','display.php',48],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['lib/zend/Zend/Gdata/App/Extension','Rights.php',43],['lib/adodb','adodb-active-record.inc.php',113],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['lib/zend/Zend/Validate','NotEmpty.php',77],['question/type/calculated','datasetitems_form.php',72],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['lib/dml','pdo_moodle_recordset.php',41],['backup/cc/cc_lib','cc_converter_folder.php',28],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib/zend/Zend/Gdata/Calendar','ListEntry.php',85],['admin/tool/monitor/classes','rule.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/zend/Zend/Gdata/Geo','Entry.php',55],['lib/zend/Zend/Gdata/YouTube/Extension','Link.php',48],['lib','flickrlib.php',53],['lib/zend/Zend/Gdata/YouTube/Extension','AboutMe.php',44],['lib/zend/Zend/Service/DeveloperGarden','Credential.php',54],['grade/report/overview','lib.php',76],['lib/simplepie/library/SimplePie','File.php',68],['backup/moodle2','backup_plugin.class.php',44],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',46],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['rating','lib.php',114],['rating','lib.php',1070],['lib','dtllib.php',66],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['question/engine','datalib.php',68],['question/engine','datalib.php',1330],['question/engine','datalib.php',1631],['question/engine','datalib.php',1739],['question/engine','datalib.php',1869],['question/engine','datalib.php',1940],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',405]], 1047],
'has_started': ['has_started', 'Returns true is output has already started, and false if not. ', [['lib','outputrenderers.php',212],['lib','setuplib.php',1760]], 1],
'default_error_handler': ['default_error_handler', 'Default error handler, prevents some white screens. ', [['lib','setuplib.php',381]], 1],
'remove_dir': ['remove_dir', 'Delete directory or only its content ', [['lib','moodlelib.php',8763]], 41],
'plain_redirect_message': ['plain_redirect_message', 'Page should redirect message. ', [['lib','setuplib.php',1928]], 3],
'getfile': ['getfile', 'Downloads a report file. (reports.getFile) ', [['lib/google/src/Google/Service','Doubleclicksearch.php',394],['lib/google/src/Google/Service','Drive.php',3245]], 11],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'get_request_storage_directory': ['get_request_storage_directory', 'Get a per-request storage directory in the tempdir. ', [['lib','setuplib.php',1533]], 7],
'redirect': ['redirect', 'Redirect the browser ', [['','mdeploy.php',1474],['lib','weblib.php',2514]], 948],
'set_context': ['set_context', 'Set the context. ', [['mod/assign','locallib.php',246],['lib/portfolio','caller.php',568],['grade/grading','lib.php',116],['lib','pagelib.php',942]], 254],
'get_real_size': ['get_real_size', 'Converts numbers like 10M into bytes. ', [['lib','setuplib.php',1253]], 25],
'make_writable_directory': ['make_writable_directory', 'Create a directory and make sure it is writable. ', [['lib','setuplib.php',1442]], 17],
'json_encode': ['json_encode', 'encodes an arbitrary variable into JSON format ', [['lib/minify/lib','FirePHP.php',1124]], 247],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'get_parent_context': ['get_parent_context', 'Returns parent context ', [['lib','accesslib.php',5695]], 37],
'init_performance_info': ['init_performance_info', 'Initializes our performance info early. ', [['lib','setuplib.php',1098]], 1],
'make_cache_directory': ['make_cache_directory', 'Create a directory under cachedir and make sure it is writable. ', [['lib','setuplib.php',1605]], 13],
'make_localcache_directory': ['make_localcache_directory', 'Create a directory under localcachedir and make sure it is writable. The files in this directory MUST NOT change, use revisions or content hashes to work around this limitation - this means you can only add new files here. ', [['lib','setuplib.php',1625]], 17],
'qualified_me': ['qualified_me', 'Guesses the full URL of the current script. ', [['lib','weblib.php',197]], 26],
'early_notification': ['early_notification', 'Early notification message ', [['lib','setuplib.php',1917]], 0],
'get_url': ['get_url', 'Returns relevant URL. ', [['report/log/classes/event','user_report_viewed.php',82],['mod/wiki/classes/event','page_deleted.php',83],['mod/chat/classes/event','sessions_viewed.php',74],['mod/glossary/classes/event','category_deleted.php',65],['mod/workshop/classes/event','assessment_evaluations_reset.php',84],['lib/classes/event','course_resources_list_viewed.php',69],['lib/filebrowser','file_info_context_course.php',505],['mod/lesson/classes/event','content_page_viewed.php',57],['lib/classes/event','blog_association_created.php',75],['lib/classes/event','user_profile_viewed.php',76],['mod/feedback/classes/event','response_submitted.php',79],['lib/classes/event','badge_awarded.php',72],['report/outline/classes/event','report_viewed.php',83],['admin/tool/capability/classes/event','report_viewed.php',74],['lib/classes/event','message_viewed.php',63],['lib/classes/event','course_category_created.php',57],['mod/quiz/classes/event','group_override_updated.php',73],['mod/survey/classes/event','response_submitted.php',71],['lib/classes/event','blog_comment_created.php',38],['mod/book/tool/exportimscp/classes/event','book_exported.php',85],['report/loglive/classes/event','report_viewed.php',75],['mod/forum/classes/event','post_deleted.php',76],['badges/lib','backpacklib.php',116],['mod/chat/classes/event','message_sent.php',68],['mod/workshop/classes/event','submission_created.php',72],['lib/classes/event','note_updated.php',75],['mod/lesson/classes/event','group_override_deleted.php',73],['lib/classes/event','course_module_instance_list_viewed.php',84],['mod/lesson/classes/event','page_updated.php',81],['mod/forum/classes/event','discussion_subscription_deleted.php',75],['mod/quiz/classes/event','attempt_preview_started.php',73],['mod/lesson/classes/event','user_override_updated.php',73],['mod/quiz/classes/event','report_viewed.php',75],['mod/lesson/classes/event','question_answered.php',63],['mod/forum/classes/event','discussion_viewed.php',69],['mod/workshop/classes/event','submission_viewed.php',72],['mod/data/classes/event','comment_created.php',37],['mod/workshop/classes/event','submission_reassessed.php',86],['mod/glossary/classes/event','entry_deleted.php',73],['mod/glossary/classes/event','comment_created.php',37],['lib/classes/event','user_created.php',66],['mod/data/classes/event','field_updated.php',76],['mod/data/classes/event','template_updated.php',85],['lib/classes/event','comment_created.php',77],['lib/classes/event','cohort_deleted.php',67],['lib/tests','customcontext_test.php',33],['lib/tests','customcontext_test.php',57],['lib/tests','customcontext_test.php',81],['mod/scorm/classes/event','tracks_viewed.php',73],['lib/classes/event','course_viewed.php',84],['mod/quiz/classes/event','attempt_abandoned.php',81],['mod/workshop/classes/event','phase_switched.php',84],['lib/classes/event','base.php',556],['lib/classes/event','course_completion_updated.php',65],['report/completion/classes/event','report_viewed.php',67],['mod/forum/classes/event','discussion_updated.php',74],['lib/classes/event','course_reset_ended.php',62],['mod/glossary/classes/event','course_module_viewed.php',47],['mod/choice/classes/event','answer_submitted.php',81],['mod/forum/classes/event','assessable_uploaded.php',95],['mod/wiki/classes/event','page_diff_viewed.php',85],['lib/classes/event','course_category_updated.php',60],['admin/tool/langimport/classes/event','langpack_updated.php',89],['lib/classes/event','webservice_service_created.php',74],['lib/classes/event','course_created.php',73],['mod/lesson/classes/event','lesson_started.php',57],['lib/classes/event','group_created.php',74],['mod/quiz/classes/event','user_override_created.php',72],['mod/glossary/classes/event','category_updated.php',65],['backup/util/ui','restore_ui_components.php',98],['mod/glossary/classes/event','entry_disapproved.php',65],['lib/classes/event','user_password_updated.php',95],['lib/classes/event','role_deleted.php',73],['admin/tool/log/store/legacy/tests/fixtures','event.php',44],['lib/classes/event','user_loggedinas.php',85],['lib','modinfolib.php',1245],['mod/lesson/classes/event','essay_attempt_viewed.php',57],['mod/forum/classes/event','discussion_moved.php',75],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',92],['mod/quiz/report','attemptsreport_options.php',133],['mod/survey/classes/event','report_downloaded.php',73],['mod/wiki/classes/event','page_updated.php',83],['admin/tool/log/store/standard/tests/fixtures','event.php',44],['lib/classes/event','user_list_viewed.php',74],['mod/forum/classes/event','readtracking_disabled.php',73],['lib/classes/event','comments_viewed.php',69],['lib/classes/event','cohort_member_added.php',68],['lib/classes/event','grouping_created.php',74],['lib/classes/event','recent_activity_viewed.php',76],['lib/classes/event','role_allow_switch_updated.php',65],['mod/assign/submission/comments/classes/event','comment_deleted.php',37],['lib/classes/event','user_login_failed.php',76],['lib/classes/event','message_contact_added.php',57],['lib/classes/event','role_allow_assign_updated.php',65],['mod/quiz/classes/event','user_override_deleted.php',72],['mod/quiz/classes/event','edit_page_viewed.php',72],['mod/lesson/classes/event','highscores_viewed.php',57],['report/stats/classes/event','user_report_viewed.php',76],['mod/quiz/classes/event','group_override_deleted.php',73],['mod/book/classes/event','chapter_updated.php',88],['mod/lesson/classes/event','question_viewed.php',63],['mod/scorm/classes/event','interactions_viewed.php',72],['lib/classes/event','course_module_updated.php',76],['mod/forum/classes/event','discussion_subscription_created.php',75],['mod/quiz/classes/event','question_manually_graded.php',74],['lib/classes/event','mnet_access_control_created.php',66],['lib/classes/event','role_assigned.php',75],['mod/scorm/classes/event','user_report_viewed.php',71],['report/participation/classes/event','report_viewed.php',86],['mod/data/classes/event','comment_deleted.php',37],['lib/classes/event','user_updated.php',66],['lib/classes/event','course_section_updated.php',75],['lib/classes/event','comment_deleted.php',77],['mod/assign/submission/file/classes/event','assessable_uploaded.php',94],['admin/tool/log/store/database/tests/fixtures','event.php',44],['lib/classes/event','cohort_updated.php',67],['mod/forum/classes/event','post_updated.php',76],['mod/book/classes/event','chapter_viewed.php',88],['lib/classes/event','user_loggedout.php',72],['lib/classes/event','grade_report_viewed.php',72],['mod/book/classes/event','chapter_deleted.php',88],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',43],['lib/classes/event','webservice_token_created.php',74],['enrol','locallib.php',1396],['mod/forum/classes/event','course_searched.php',75],['lib/classes/event','group_updated.php',74],['mod/quiz/classes/event','attempt_started.php',74],['mod/lesson/classes/event','group_override_updated.php',73],['lib/classes/event','course_module_viewed.php',71],['lib/classes/event','mnet_access_control_updated.php',66],['mod/wiki/classes/event','comments_viewed.php',68],['lib/tests/fixtures','event_fixtures.php',47],['lib/tests/fixtures','event_fixtures.php',273],['mod/quiz/classes/event','attempt_submitted.php',81],['mod/data/classes/event','field_created.php',77],['lib/classes/event','question_category_created.php',66],['admin/tool/monitor/classes/event','rule_deleted.php',68],['lib/classes/event','blog_comment_deleted.php',38],['mod/lesson/classes/event','group_override_created.php',74],['mod/workshop/classes/event','assessments_reset.php',83],['mod/wiki/classes/event','comment_created.php',38],['mod/lesson/classes/event','lesson_resumed.php',57],['lib','outputcomponents.php',326],['lib','outputcomponents.php',2751],['lib/classes/event','blog_entry_updated.php',92],['report/questioninstances/classes/event','report_viewed.php',83],['mod/folder/classes/event','folder_updated.php',66],['lib/classes/event','role_capabilities_updated.php',69],['lib/classes/event','blog_entries_viewed.php',80],['mod/wiki/classes/event','page_viewed.php',86],['lib/classes/event','group_deleted.php',74],['mod/quiz/classes/event','attempt_becameoverdue.php',84],['mod/quiz/classes/event','attempt_viewed.php',73],['lib/classes/event','course_module_completion_updated.php',67],['mod/workshop/classes/event','assessment_evaluated.php',75],['report/log/classes/event','report_viewed.php',85],['mod/book/classes/event','chapter_created.php',88],['mod/workshop/classes/event','submission_assessed.php',85],['lib/classes/event','cohort_created.php',67],['lib','accesslib.php',6092],['lib','accesslib.php',6149],['lib','accesslib.php',6400],['lib','accesslib.php',6587],['lib','accesslib.php',6827],['lib','accesslib.php',7047],['lib','accesslib.php',7290],['mod/scorm/classes/event','sco_launched.php',73],['mod/wiki/classes/event','comment_deleted.php',38],['lib/classes/event','blog_entry_created.php',94],['lib/classes/event','user_enrolment_created.php',72],['mod/data/classes/event','record_created.php',75],['mod/quiz/classes/event','attempt_summary_viewed.php',75],['lib/classes/event','user_enrolment_updated.php',72],['mod/quiz/classes/event','attempt_reviewed.php',72],['mod/glossary/classes/event','comment_deleted.php',37],['mod/lesson/classes/event','page_moved.php',65],['mod/glossary/classes/event','category_created.php',65],['mod/lesson/classes/event','page_created.php',63],['mod/forum/classes/event','course_module_viewed.php',50],['lib/classes/event','cohort_member_removed.php',69],['mod/wiki/classes/event','page_version_viewed.php',84],['lib/classes/event','role_allow_override_updated.php',65],['mod/workshop/classes/event','assessable_uploaded.php',102],['lib/classes/event','grouping_updated.php',74],['admin/tool/monitor/classes/event','rule_updated.php',68],['lib/classes/event','course_module_created.php',105],['admin/tool/langimport/classes/event','langpack_removed.php',80],['mod/workshop/classes/event','submission_updated.php',72],['mod/lesson/classes/event','page_deleted.php',63],['lib/classes/event','grouping_deleted.php',81],['mod/assign/submission/comments/classes/event','comment_created.php',37],['mod/wiki/classes/event','page_history_viewed.php',77],['mod/survey/classes/event','report_viewed.php',73],['report/stats/classes/event','report_viewed.php',83],['lib/classes/event','note_created.php',75],['lib/classes/event','course_reset_started.php',62],['mod/book/tool/print/classes/event','book_printed.php',85],['lib/classes/event','webservice_service_user_removed.php',68],['mod/data/classes/event','record_deleted.php',75],['mod/choice/classes/event','answer_updated.php',81],['lib/classes/event','group_member_removed.php',78],['mod/glossary/classes/event','entry_viewed.php',67],['mod/forum/classes/event','user_report_viewed.php',74],['mod/forum/classes/event','subscription_created.php',74],['lib/classes/event','calendar_event_created.php',77],['lib/classes/event','message_contact_blocked.php',57],['lib/classes/event','webservice_service_updated.php',68],['mod/wiki/classes/event','page_version_restored.php',83],['mod/data/classes/event','template_viewed.php',74],['lib/classes/event','course_user_report_viewed.php',75],['mod/data/classes/event','record_updated.php',75],['mod/wiki/classes/event','page_map_viewed.php',83],['mod/wiki/classes/event','page_locks_deleted.php',83],['lib/classes/event','webservice_service_deleted.php',68],['mod/forum/classes/event','readtracking_enabled.php',73],['lib/classes/event','role_unassigned.php',72],['lib/classes/event','course_restored.php',76],['mod/choice/classes/event','report_viewed.php',66],['lib/classes/event','user_enrolment_deleted.php',73],['mod/book/tool/print/classes/event','chapter_printed.php',88],['lib/classes/event','user_graded.php',115],['mod/assign/classes/event','base.php',90],['lib/classes/event','course_updated.php',76],['mod/forum/classes/event','post_created.php',76],['mod/data/classes/event','field_deleted.php',76],['mod/glossary/classes/event','entry_created.php',71],['mod/forum/classes/event','discussion_created.php',74],['mod/forum/classes/event','discussion_deleted.php',75],['mod/scorm/classes/event','attempt_deleted.php',71],['mod/lesson/classes/event','lesson_ended.php',58],['mod/forum/classes/event','subscribers_viewed.php',74],['mod/scorm/classes/event','report_viewed.php',72],['mod/lesson/classes/event','user_override_deleted.php',72],['report/completion/classes/event','user_report_viewed.php',77],['admin/tool/langimport/classes/event','langpack_imported.php',89],['mod/forum/classes/event','subscription_deleted.php',74],['mod/lesson/classes/event','highscore_added.php',65],['mod/lesson/classes/event','essay_assessed.php',87],['lib/classes/event','message_sent.php',91],['lib/classes/event','message_contact_removed.php',57],['lib/filebrowser','file_info.php',226],['report/outline/classes/event','activity_report_viewed.php',75],['lib/classes/event','calendar_event_updated.php',77],['mod/lesson/classes/event','user_override_created.php',72],['mod/workshop/classes/event','assessment_reevaluated.php',85],['mod/quiz/classes/event','user_override_updated.php',73],['lib/simplepie/library/SimplePie','Copyright.php',96],['lib/classes/event','webservice_service_user_added.php',68],['lib/classes/event','notes_viewed.php',71],['lib/filebrowser','file_info_stored.php',156],['mod/glossary/classes/event','entry_updated.php',71],['admin/tool/monitor/classes/event','rule_created.php',68],['mod/wiki/classes/event','page_version_deleted.php',83],['lib/classes/event','course_completed.php',91],['mod/glossary/classes/event','entry_approved.php',65],['mod/wiki/classes/event','page_created.php',77],['mod/quiz/classes/event','group_override_created.php',74],['repository/alfresco','lib.php',121],['lib/classes/event','group_member_added.php',87],['lib/classes/event','message_contact_unblocked.php',57],['mod/quiz/classes/event','attempt_deleted.php',66],['lib/classes/event','user_loggedin.php',73],['mod/lesson/classes/event','lesson_restarted.php',57]], 186],
'explode': ['explode', '', [], 1599],
'error_reporting': ['error_reporting', '', [], 87],
'is_array': ['is_array', '', [], 1820],
'memory_get_usage': ['memory_get_usage', '', [], 16],
'each': ['each', '', [], 2224],
'count': ['count', '', [], 3984],
'trim': ['trim', '', [], 1889],
'touch': ['touch', '', [], 27],
'ob_end_clean': ['ob_end_clean', '', [], 79],
'call_user_func_array': ['call_user_func_array', '', [], 101],
'filemtime': ['filemtime', '', [], 70],
'array_shift': ['array_shift', '', [], 607],
'array_pop': ['array_pop', '', [], 438],
'implode': ['implode', '', [], 1259],
'array_unshift': ['array_unshift', '', [], 114],
'dirname': ['dirname', '', [], 1071],
'array_map': ['array_map', '', [], 149],
'debug_backtrace': ['debug_backtrace', '', [], 31],
'create_function': ['create_function', '', [], 42],
'array_key_exists': ['array_key_exists', '', [], 1539],
'substr': ['substr', '', [], 2883],
'strtolower': ['strtolower', '', [], 922],
'stripos': ['stripos', '', [], 95],
'ini_set': ['ini_set', '', [], 144],
'str_replace': ['str_replace', '', [], 1667],
'is_null': ['is_null', '', [], 1992],
'ob_implicit_flush': ['ob_implicit_flush', '', [], 1],
'print_r': ['print_r', '', [], 51],
'file_exists': ['file_exists', '', [], 873],
'array_keys': ['array_keys', '', [], 1152],
'file_get_contents': ['file_get_contents', '', [], 215],
'chmod': ['chmod', '', [], 49],
'ini_get': ['ini_get', '', [], 142],
'get_class': ['get_class', '', [], 332],
'fclose': ['fclose', '', [], 280],
'microtime': ['microtime', '', [], 115],
'urldecode': ['urldecode', '', [], 58],
'fwrite': ['fwrite', '', [], 209],
'array_chunk': ['array_chunk', '', [], 10],
'gmdate': ['gmdate', '', [], 145],
'parse_url': ['parse_url', '', [], 66],
'ob_get_level': ['ob_get_level', '', [], 9],
'realpath': ['realpath', '', [], 140],
'define': ['define', '', [], 2170],
'mkdir': ['mkdir', '', [], 69],
'posix_times': ['posix_times', '', [], 2],
'parse_str': ['parse_str', '', [], 10],
'is_dir': ['is_dir', '', [], 221],
'htmlspecialchars': ['htmlspecialchars', '', [], 207],
'mt_rand': ['mt_rand', '', [], 54],
'strpos': ['strpos', '', [], 1623],
'error_log': ['error_log', '', [], 105],
'defined': ['defined', '', [], 4098],
'preg_match': ['preg_match', '', [], 1317],
'is_writable': ['is_writable', '', [], 76],
'function_exists': ['function_exists', '', [], 443],
'clearstatcache': ['clearstatcache', '', [], 30],
'umask': ['umask', '', [], 18],
'header': ['header', '', [], 1294]};
CLASS_DATA={
'file_serving_exception': ['file_serving_exception', 'An exception that indicates that file can not be served ', [['lib','setuplib.php',312]], 0],
'webservice_parameter_exception': ['webservice_parameter_exception', 'Web service parameter exception class ', [['lib','setuplib.php',167]], 0],
'bootstrap_renderer': ['bootstrap_renderer', 'This class solves the problem of how to initialise $OUTPUT. ', [['lib','setuplib.php',1716]], 14],
'require_login_exception': ['require_login_exception', 'Course/activity access exception. ', [['lib','setuplib.php',148]], 13],
'manager': ['manager', 'Defines MAnager class for myprofile navigation tree. ', [['user/classes/output/myprofile','manager.php',28],['lib/classes/log','manager.php',29],['admin/tool/messageinbound/classes','manager.php',29],['lib/classes/message','manager.php',31],['lib/classes/message/inbound','manager.php',29],['admin/tool/log/classes/log','manager.php',29],['lib/classes/session','manager.php',29],['lib/classes/task','manager.php',28],['lib/classes/event','manager.php',30]], 346],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'invalid_dataroot_permissions': ['invalid_dataroot_permissions', 'An exception that indicates incorrect permissions in $CFG->dataroot ', [['lib','setuplib.php',294]], 4],
'invalid_response_exception': ['invalid_response_exception', 'Exception indicating malformed response problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',255]], 9],
'object': ['object', 'Simple class. It is usually used instead of stdClass because it looks more familiar to Java developers ;-) Do not use for type checking of function parameters. Please use stdClass instead. ', [['lib','setuplib.php',55]], 73],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',234]], 58],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',68]], 478],
'required_capability_exception': ['required_capability_exception', 'Exceptions indicating user does not have permissions to do something and the execution can not continue. ', [['lib','setuplib.php',185]], 7],
'invalid_state_exception': ['invalid_state_exception', 'An exception that indicates something really weird happened. For example, if you do switch ($context->contextlevel), and have one case for each CONTEXT_... constant. You might throw an invalid_state_exception in the default case, to just in case something really weird is going on, and $context->contextlevel is invalid - rather than ignoring this possibility. ', [['lib','setuplib.php',271]], 0],
'core_shutdown_manager': ['core_shutdown_manager', 'Shutdown management class. ', [['lib/classes','shutdown_manager.php',27]], 12],
'exception': ['exception', 'Session related exception class. ', [['lib/classes/session','exception.php',29],['lib/horde/framework/Horde/Socket/Client','Exception.php',17]], 223]};
CONST_DATA={
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'AJAX_SCRIPT': ['AJAX_SCRIPT', '', [['message','ajax.php',25],['login','token.php',24],['mod/glossary','showentry_ajax.php',2],['lib/editor/atto','autosave-ajax.php',25],['mod/forum','subscribe_ajax.php',25],['lib/editor/atto/plugins/equation','ajax.php',26],['availability/condition/date','ajax.php',25],['message/output/airnotifier','rest.php',26],['enrol/manual','ajax.php',28],['rating','rate_ajax.php',28],['enrol','ajax.php',28],['badges','backpackconnect.php',27],['grade/report/history','users_ajax.php',26],['mod/assign/feedback/editpdf','ajax.php',29],['lib/ajax','service.php',30],['','install.php',47],['mod/feedback','ajax.php',26],['badges','ajax.php',27],['mod/quiz','questionbank.ajax.php',26],['','help_ajax.php',27],['mod/quiz','autosave.ajax.php',25],['mod/chat','chat_ajax.php',17],['course','rest.php',27],['mod/lti','ajax.php',29],['badges','assertion.php',27],['repository','repository_ajax.php',27],['course','category.ajax.php',28],['lib/ajax','getnavbranch.php',28],['lib','sessionkeepalive_ajax.php',25],['mod/quiz','edit_rest.php',26],['tag','tag_autocomplete.php',25],['mod/assign/feedback/editpdf','ajax_progress.php',26],['course','dndupload.php',26],['webservice','pluginfile.php',29],['lib','setup.php',351],['question','toggleflag.php',27],['repository','draftfiles_ajax.php',27],['user/selector','search.php',25],['lib/ajax','getsiteadminbranch.php',28],['admin/tool/installaddon','permcheck.php',27],['webservice','upload.php',40],['comment','comment_ajax.php',24],['report/loglive','loglive_ajax.php',25],['lib/ajax','blocks.php',25],['course/ajax','management.php',27],['blocks/course_overview','save.php',24]], 71],
'DEBUG_MINIMAL': ['DEBUG_MINIMAL', '', [['lib','setuplib.php',34]], 14],
'REQUIRE_CORRECT_ACCESS': ['REQUIRE_CORRECT_ACCESS', '', [['login','token.php',25]], 3],
'PHP_EOL': ['PHP_EOL', '', [['lib/htmlpurifier/HTMLPurifier','Bootstrap.php',13],['lib/htmlpurifier/HTMLPurifier','Bootstrap.php',16],['lib/htmlpurifier/HTMLPurifier','Bootstrap.php',19]], 220],
'MEMORY_HUGE': ['MEMORY_HUGE', '', [['lib','setuplib.php',52]], 20],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 462],
'PARAM_PATH': ['PARAM_PATH', '', [['lib','moodlelib.php',178]], 173],
'PHPUNIT_TEST': ['PHPUNIT_TEST', '', [['admin/cli','install.php',143],['','install.php',49],['lib','setup.php',247],['lib/phpunit','bootstrap.php',63]], 54],
'DEBUG_NONE': ['DEBUG_NONE', '', [['lib','setuplib.php',32]], 14],
'MDL_PERF_TEST': ['MDL_PERF_TEST', '', [['','install.php',51],['lib','setup.php',252]], 5],
'NO_MOODLE_COOKIES': ['NO_MOODLE_COOKIES', '', [['theme','javascript.php',83],['login','token.php',26],['mod/lti','service.php',27],['filter/algebra','pix.php',8],['','help.php',29],['mod/lti','services.php',27],['mod/chat/gui_header_js','chatinput.php',17],['theme','font.php',124],['user','grouppix.php',30],['grade/import/xml','fetch.php',18],['grade/export/xls','dump.php',18],['mod/data','css.php',26],['lib/editor/tinymce','all_strings.php',25],['mod/data','js.php',26],['filter/tex','pix.php',8],['theme','image.php',127],['filter/tex','displaytex.php',28],['auth/ldap','ntlmsso_magic.php',7],['','help_ajax.php',26],['rss','file.php',34],['theme','styles.php',112],['mnet/xmlrpc','server.php',16],['mod/chat/gui_sockets','chatinput.php',17],['badges','assertion.php',28],['mod/chat/gui_header_js','users.php',17],['mod/chat/gui_header_js','jsupdated.php',33],['mod/assign/feedback/editpdf','ajax_progress.php',28],['theme','styles_debug.php',29],['lib/editor/tinymce/plugins/moodleemoticon','dialog.php',25],['webservice','pluginfile.php',34],['grade/export/ods','dump.php',18],['lib','setup.php',753],['lib','setup.php',757],['lib','setup.php',762],['lib','setup.php',765],['lib','setup.php',767],['mod/chat/gui_header_js','jsupdate.php',17],['webservice','upload.php',45],['grade/export/xml','dump.php',18],['lib/editor/tinymce/plugins','loader.php',32],['lib','setuplib.php',831],['grade/export/txt','dump.php',18]], 51],
'MEMORY_EXTRA': ['MEMORY_EXTRA', '', [['lib','setuplib.php',50]], 37],
'MEMORY_STANDARD': ['MEMORY_STANDARD', '', [['lib','setuplib.php',45]], 3],
'MEMORY_UNLIMITED': ['MEMORY_UNLIMITED', '', [['lib','setuplib.php',43]], 2],
'DEBUG_NORMAL': ['DEBUG_NORMAL', '', [['lib','setuplib.php',36]], 22],
'DEBUG_ALL': ['DEBUG_ALL', '', [['lib','setuplib.php',38]], 17],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'CLI_SCRIPT': ['CLI_SCRIPT', '', [['auth/ldap/cli','sync_users.php',49],['admin/tool/behat/cli','init.php',36],['auth/db/cli','sync_users.php',45],['admin/cli','mysql_collation.php',25],['admin/cli','cron.php',31],['admin/tool/behat/cli','util_single_run.php',90],['repository/boxnet/cli','migrationv1.php',25],['admin/cli','install.php',32],['enrol/self/cli','sync.php',31],['enrol/flatfile/cli','sync.php',30],['enrol/meta/cli','sync.php',31],['admin/cli','fix_deleted_users.php',26],['','mdeploy.php',65],['admin/cli','check_database_schema.php',26],['admin/tool/dbtransfer/cli','migrate.php',30],['enrol/paypal/cli','sync.php',30],['admin/tool/behat/cli','util.php',34],['admin/tool/replace/cli','replace.php',25],['','install.php',46],['mod/chat','chatd.php',25],['admin/tool/generator/cli','maketestsite.php',25],['enrol/database/cli','sync.php',34],['enrol/manual/cli','sync.php',30],['admin','cron.php',47],['admin/cli','mysql_engine.php',27],['admin/tool/generator/cli','maketestcourse.php',25],['admin/cli','upgrade.php',38],['admin/cli','reset_password.php',27],['admin/cli','maintenance.php',26],['admin/cli','install_database.php',31],['lib/editor/tinymce/cli','update_lang_files.php',25],['theme/base/cli','svgtool.php',26],['admin/cli','automated_backups.php',29],['admin/cli','mysql_compressed_rows.php',26],['admin/cli','backup.php',26],['admin/tool/behat/cli','run.php',30],['admin/tool/task/cli','schedule_task.php',25],['enrol/ldap/cli','sync.php',43],['lib/filestorage/tests/fixtures','zip_info.php',25],['auth/cas/cli','sync_users.php',45],['lib','setup.php',289],['admin/cli','alternative_component_cache.php',30],['enrol/category/cli','sync.php',33],['lib/phpunit','bootstrap.php',73],['lib/tests/behat','behat_hooks.php',115],['admin/cli','fix_course_sequence.php',26],['admin/cli','purge_caches.php',24],['admin/tool/generator/cli','maketestplan.php',25],['lib/filestorage/tests/fixtures','zip_create_test_file.php',25],['enrol/cohort/cli','sync.php',31],['admin/tool/uploadcourse/cli','uploadcourse.php',25]], 109]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
