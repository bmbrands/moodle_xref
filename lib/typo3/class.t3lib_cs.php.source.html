<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/typo3/class.t3lib_cs.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/typo3';
filename='class.t3lib_cs.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/typo3/</a> -> <a href="class.t3lib_cs.php.html">class.t3lib_cs.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="class.t3lib_cs.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="class.t3lib_cs.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/***************************************************************</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> *  Copyright notice</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *  (c) 2003-2011 Kasper Skårhøj (kasperYYYY@typo3.com)</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> *  All rights reserved</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> *  This script is part of the Typo3 project. The Typo3 project is</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *  free software; you can redistribute it and/or modify</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> *  it under the terms of the GNU General Public License as published by</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *  (at your option) any later version.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> *</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> *  The GNU General Public License can be found at</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> *  http://www.gnu.org/copyleft/gpl.html.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> *</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> *  This script is distributed in the hope that it will be useful,</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *  GNU General Public License for more details.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *  This copyright notice MUST APPEAR in all copies of the script!</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> ***************************************************************/</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">/**</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * Class for conversion between charsets.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> *</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @author    Kasper Skårhøj &lt;kasperYYYY@typo3.com&gt;</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> */</span>
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Notes on UTF-8</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * Functions working on UTF-8 strings:</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * - strchr/strstr</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * - strrchr</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * - substr_count</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * - implode/explode/join</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> *</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * Functions nearly working on UTF-8 strings:</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * - strlen: returns the length in BYTES, if you need the length in CHARACTERS use utf8_strlen</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * - trim/ltrim/rtrim: the second parameter 'charlist' won't work for characters not contained in 7-bit ASCII</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * - strpos/strrpos: they return the BYTE position, if you need the CHARACTER position use utf8_strpos/utf8_strrpos</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * - htmlentities: charset support for UTF-8 only since PHP 4.3.0</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * - preg_*: Support compiled into PHP by default nowadays, but could be unavailable, need to use modifier</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> *</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * Functions NOT working on UTF-8 strings:</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> *</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * - str*cmp</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * - stristr</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * - stripos</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> * - substr</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> * - strrev</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * - split/spliti</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * - ...</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> *</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> */</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">/**</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * Class for conversion between charsets</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * @author    Kasper Skårhøj &lt;kasperYYYY@typo3.com&gt;</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> * @package TYPO3</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment"> * @subpackage t3lib</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment"> */</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('t3lib_cs')" href="../../_classes/t3lib_cs.html" onMouseOver="classPopup(event,'t3lib_cs')">t3lib_cs</a> {
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      <span class="comment">/**</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @var t3lib_l10n_Locales</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     */</span>
<a name="l74"><span class="linenum">  74</span></a>      protected <a class="var it1986" onMouseOver="hilite(1986)" onMouseOut="lolite()" onClick="logVariable('locales')" href="../../_variables/locales.html">$locales</a>;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>      var <a class="var it1987" onMouseOver="hilite(1987)" onMouseOut="lolite()" onClick="logVariable('noCharByteVal')" href="../../_variables/noCharByteVal.html">$noCharByteVal</a> = 63; <span class="comment">// ASCII Value for chars with no equivalent.</span>
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">        // This is the array where parsed conversion tables are stored (cached)</span>
<a name="l79"><span class="linenum">  79</span></a>      var <a class="var it1988" onMouseOver="hilite(1988)" onMouseOut="lolite()" onClick="logVariable('parsedCharsets')" href="../../_variables/parsedCharsets.html">$parsedCharsets</a> = array();
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">        // An array where case folding data will be stored (cached)</span>
<a name="l82"><span class="linenum">  82</span></a>      var <a class="var it1989" onMouseOver="hilite(1989)" onMouseOut="lolite()" onClick="logVariable('caseFolding')" href="../../_variables/caseFolding.html">$caseFolding</a> = array();
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">        // An array where charset-to-ASCII mappings are stored (cached)</span>
<a name="l85"><span class="linenum">  85</span></a>      var <a class="var it1990" onMouseOver="hilite(1990)" onMouseOut="lolite()" onClick="logVariable('toASCII')" href="../../_variables/toASCII.html">$toASCII</a> = array();
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">        // This tells the converter which charsets has two bytes per char:</span>
<a name="l88"><span class="linenum">  88</span></a>      var <a class="var it1991" onMouseOver="hilite(1991)" onMouseOut="lolite()" onClick="logVariable('twoByteSets')" href="../../_variables/twoByteSets.html">$twoByteSets</a> = array(
<a name="l89"><span class="linenum">  89</span></a>          'ucs-2' =&gt; 1, // 2-byte Unicode
<a name="l90"><span class="linenum">  90</span></a>      );
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">        // This tells the converter which charsets has four bytes per char:</span>
<a name="l93"><span class="linenum">  93</span></a>      var <a class="var it1992" onMouseOver="hilite(1992)" onMouseOut="lolite()" onClick="logVariable('fourByteSets')" href="../../_variables/fourByteSets.html">$fourByteSets</a> = array(
<a name="l94"><span class="linenum">  94</span></a>          'ucs-4' =&gt; 1, // 4-byte Unicode
<a name="l95"><span class="linenum">  95</span></a>          'utf-32' =&gt; 1, // 4-byte Unicode (limited to the 21-bits of UTF-16)
<a name="l96"><span class="linenum">  96</span></a>      );
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // This tells the converter which charsets use a scheme like the Extended Unix Code:</span>
<a name="l99"><span class="linenum">  99</span></a>      var <a class="var it1993" onMouseOver="hilite(1993)" onMouseOut="lolite()" onClick="logVariable('eucBasedSets')" href="../../_variables/eucBasedSets.html">$eucBasedSets</a> = array(
<a name="l100"><span class="linenum"> 100</span></a>          'gb2312' =&gt; 1, // Chinese, simplified.
<a name="l101"><span class="linenum"> 101</span></a>          'big5' =&gt; 1, // Chinese, traditional.
<a name="l102"><span class="linenum"> 102</span></a>          'euc-kr' =&gt; 1, // Korean
<a name="l103"><span class="linenum"> 103</span></a>          'shift_jis' =&gt; 1, // Japanese - WARNING: Shift-JIS includes half-width katakana single-bytes characters above 0x80!
<a name="l104"><span class="linenum"> 104</span></a>      );
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">        // see    http://developer.apple.com/documentation/macos8/TextIntlSvcs/TextEncodingConversionManager/TEC1.5/TEC.b0.html</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">        // http://czyborra.com/charsets/iso8859.html</span>
<a name="l108"><span class="linenum"> 108</span></a>      var <a class="var it1994" onMouseOver="hilite(1994)" onMouseOut="lolite()" onClick="logVariable('synonyms')" href="../../_variables/synonyms.html">$synonyms</a> = array(
<a name="l109"><span class="linenum"> 109</span></a>          'us' =&gt; 'ascii',
<a name="l110"><span class="linenum"> 110</span></a>          'us-ascii' =&gt; 'ascii',
<a name="l111"><span class="linenum"> 111</span></a>          'cp819' =&gt; 'iso-8859-1',
<a name="l112"><span class="linenum"> 112</span></a>          'ibm819' =&gt; 'iso-8859-1',
<a name="l113"><span class="linenum"> 113</span></a>          'iso-ir-100' =&gt; 'iso-8859-1',
<a name="l114"><span class="linenum"> 114</span></a>          'iso-ir-101' =&gt; 'iso-8859-2',
<a name="l115"><span class="linenum"> 115</span></a>          'iso-ir-109' =&gt; 'iso-8859-3',
<a name="l116"><span class="linenum"> 116</span></a>          'iso-ir-110' =&gt; 'iso-8859-4',
<a name="l117"><span class="linenum"> 117</span></a>          'iso-ir-144' =&gt; 'iso-8859-5',
<a name="l118"><span class="linenum"> 118</span></a>          'iso-ir-127' =&gt; 'iso-8859-6',
<a name="l119"><span class="linenum"> 119</span></a>          'iso-ir-126' =&gt; 'iso-8859-7',
<a name="l120"><span class="linenum"> 120</span></a>          'iso-ir-138' =&gt; 'iso-8859-8',
<a name="l121"><span class="linenum"> 121</span></a>          'iso-ir-148' =&gt; 'iso-8859-9',
<a name="l122"><span class="linenum"> 122</span></a>          'iso-ir-157' =&gt; 'iso-8859-10',
<a name="l123"><span class="linenum"> 123</span></a>          'iso-ir-179' =&gt; 'iso-8859-13',
<a name="l124"><span class="linenum"> 124</span></a>          'iso-ir-199' =&gt; 'iso-8859-14',
<a name="l125"><span class="linenum"> 125</span></a>          'iso-ir-203' =&gt; 'iso-8859-15',
<a name="l126"><span class="linenum"> 126</span></a>          'csisolatin1' =&gt; 'iso-8859-1',
<a name="l127"><span class="linenum"> 127</span></a>          'csisolatin2' =&gt; 'iso-8859-2',
<a name="l128"><span class="linenum"> 128</span></a>          'csisolatin3' =&gt; 'iso-8859-3',
<a name="l129"><span class="linenum"> 129</span></a>          'csisolatin5' =&gt; 'iso-8859-9',
<a name="l130"><span class="linenum"> 130</span></a>          'csisolatin8' =&gt; 'iso-8859-14',
<a name="l131"><span class="linenum"> 131</span></a>          'csisolatin9' =&gt; 'iso-8859-15',
<a name="l132"><span class="linenum"> 132</span></a>          'csisolatingreek' =&gt; 'iso-8859-7',
<a name="l133"><span class="linenum"> 133</span></a>          'iso-celtic' =&gt; 'iso-8859-14',
<a name="l134"><span class="linenum"> 134</span></a>          'latin1' =&gt; 'iso-8859-1',
<a name="l135"><span class="linenum"> 135</span></a>          'latin2' =&gt; 'iso-8859-2',
<a name="l136"><span class="linenum"> 136</span></a>          'latin3' =&gt; 'iso-8859-3',
<a name="l137"><span class="linenum"> 137</span></a>          'latin5' =&gt; 'iso-8859-9',
<a name="l138"><span class="linenum"> 138</span></a>          'latin6' =&gt; 'iso-8859-10',
<a name="l139"><span class="linenum"> 139</span></a>          'latin8' =&gt; 'iso-8859-14',
<a name="l140"><span class="linenum"> 140</span></a>          'latin9' =&gt; 'iso-8859-15',
<a name="l141"><span class="linenum"> 141</span></a>          'l1' =&gt; 'iso-8859-1',
<a name="l142"><span class="linenum"> 142</span></a>          'l2' =&gt; 'iso-8859-2',
<a name="l143"><span class="linenum"> 143</span></a>          'l3' =&gt; 'iso-8859-3',
<a name="l144"><span class="linenum"> 144</span></a>          'l5' =&gt; 'iso-8859-9',
<a name="l145"><span class="linenum"> 145</span></a>          'l6' =&gt; 'iso-8859-10',
<a name="l146"><span class="linenum"> 146</span></a>          'l8' =&gt; 'iso-8859-14',
<a name="l147"><span class="linenum"> 147</span></a>          'l9' =&gt; 'iso-8859-15',
<a name="l148"><span class="linenum"> 148</span></a>          'cyrillic' =&gt; 'iso-8859-5',
<a name="l149"><span class="linenum"> 149</span></a>          'arabic' =&gt; 'iso-8859-6',
<a name="l150"><span class="linenum"> 150</span></a>          'tis-620' =&gt; 'iso-8859-11',
<a name="l151"><span class="linenum"> 151</span></a>          'win874' =&gt; 'windows-874',
<a name="l152"><span class="linenum"> 152</span></a>          'win1250' =&gt; 'windows-1250',
<a name="l153"><span class="linenum"> 153</span></a>          'win1251' =&gt; 'windows-1251',
<a name="l154"><span class="linenum"> 154</span></a>          'win1252' =&gt; 'windows-1252',
<a name="l155"><span class="linenum"> 155</span></a>          'win1253' =&gt; 'windows-1253',
<a name="l156"><span class="linenum"> 156</span></a>          'win1254' =&gt; 'windows-1254',
<a name="l157"><span class="linenum"> 157</span></a>          'win1255' =&gt; 'windows-1255',
<a name="l158"><span class="linenum"> 158</span></a>          'win1256' =&gt; 'windows-1256',
<a name="l159"><span class="linenum"> 159</span></a>          'win1257' =&gt; 'windows-1257',
<a name="l160"><span class="linenum"> 160</span></a>          'win1258' =&gt; 'windows-1258',
<a name="l161"><span class="linenum"> 161</span></a>          'cp1250' =&gt; 'windows-1250',
<a name="l162"><span class="linenum"> 162</span></a>          'cp1251' =&gt; 'windows-1251',
<a name="l163"><span class="linenum"> 163</span></a>          'cp1252' =&gt; 'windows-1252',
<a name="l164"><span class="linenum"> 164</span></a>          'ms-ee' =&gt; 'windows-1250',
<a name="l165"><span class="linenum"> 165</span></a>          'ms-ansi' =&gt; 'windows-1252',
<a name="l166"><span class="linenum"> 166</span></a>          'ms-greek' =&gt; 'windows-1253',
<a name="l167"><span class="linenum"> 167</span></a>          'ms-turk' =&gt; 'windows-1254',
<a name="l168"><span class="linenum"> 168</span></a>          'winbaltrim' =&gt; 'windows-1257',
<a name="l169"><span class="linenum"> 169</span></a>          'koi-8ru' =&gt; 'koi-8r',
<a name="l170"><span class="linenum"> 170</span></a>          'koi8r' =&gt; 'koi-8r',
<a name="l171"><span class="linenum"> 171</span></a>          'cp878' =&gt; 'koi-8r',
<a name="l172"><span class="linenum"> 172</span></a>          'mac' =&gt; 'macroman',
<a name="l173"><span class="linenum"> 173</span></a>          'macintosh' =&gt; 'macroman',
<a name="l174"><span class="linenum"> 174</span></a>          'euc-cn' =&gt; 'gb2312',
<a name="l175"><span class="linenum"> 175</span></a>          'x-euc-cn' =&gt; 'gb2312',
<a name="l176"><span class="linenum"> 176</span></a>          'euccn' =&gt; 'gb2312',
<a name="l177"><span class="linenum"> 177</span></a>          'cp936' =&gt; 'gb2312',
<a name="l178"><span class="linenum"> 178</span></a>          'big-5' =&gt; 'big5',
<a name="l179"><span class="linenum"> 179</span></a>          'cp950' =&gt; 'big5',
<a name="l180"><span class="linenum"> 180</span></a>          'eucjp' =&gt; 'euc-jp',
<a name="l181"><span class="linenum"> 181</span></a>          'sjis' =&gt; 'shift_jis',
<a name="l182"><span class="linenum"> 182</span></a>          'shift-jis' =&gt; 'shift_jis',
<a name="l183"><span class="linenum"> 183</span></a>          'cp932' =&gt; 'shift_jis',
<a name="l184"><span class="linenum"> 184</span></a>          'cp949' =&gt; 'euc-kr',
<a name="l185"><span class="linenum"> 185</span></a>          'utf7' =&gt; 'utf-7',
<a name="l186"><span class="linenum"> 186</span></a>          'utf8' =&gt; 'utf-8',
<a name="l187"><span class="linenum"> 187</span></a>          'utf16' =&gt; 'utf-16',
<a name="l188"><span class="linenum"> 188</span></a>          'utf32' =&gt; 'utf-32',
<a name="l189"><span class="linenum"> 189</span></a>          'utf8' =&gt; 'utf-8',
<a name="l190"><span class="linenum"> 190</span></a>          'ucs2' =&gt; 'ucs-2',
<a name="l191"><span class="linenum"> 191</span></a>          'ucs4' =&gt; 'ucs-4',
<a name="l192"><span class="linenum"> 192</span></a>      );
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">        // mapping of iso-639-1 language codes to script names</span>
<a name="l195"><span class="linenum"> 195</span></a>      var <a class="var it1995" onMouseOver="hilite(1995)" onMouseOut="lolite()" onClick="logVariable('lang_to_script')" href="../../_variables/lang_to_script.html">$lang_to_script</a> = array(
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">            // iso-639-1 language codes, see http://www.loc.gov/standards/iso639-2/php/code_list.php</span>
<a name="l197"><span class="linenum"> 197</span></a>          'af' =&gt; 'west_european', //Afrikaans
<a name="l198"><span class="linenum"> 198</span></a>          'ar' =&gt; 'arabic',
<a name="l199"><span class="linenum"> 199</span></a>          'bg' =&gt; 'cyrillic', // Bulgarian
<a name="l200"><span class="linenum"> 200</span></a>          'bs' =&gt; 'east_european', // Bosnian
<a name="l201"><span class="linenum"> 201</span></a>          'cs' =&gt; 'east_european', // Czech
<a name="l202"><span class="linenum"> 202</span></a>          'da' =&gt; 'west_european', // Danish
<a name="l203"><span class="linenum"> 203</span></a>          'de' =&gt; 'west_european', // German
<a name="l204"><span class="linenum"> 204</span></a>          'es' =&gt; 'west_european', // Spanish
<a name="l205"><span class="linenum"> 205</span></a>          'et' =&gt; 'estonian',
<a name="l206"><span class="linenum"> 206</span></a>          'eo' =&gt; 'unicode', // Esperanto
<a name="l207"><span class="linenum"> 207</span></a>          'eu' =&gt; 'west_european', // Basque
<a name="l208"><span class="linenum"> 208</span></a>          'fa' =&gt; 'arabic', // Persian
<a name="l209"><span class="linenum"> 209</span></a>          'fi' =&gt; 'west_european', // Finish
<a name="l210"><span class="linenum"> 210</span></a>          'fo' =&gt; 'west_european', // Faroese
<a name="l211"><span class="linenum"> 211</span></a>          'fr' =&gt; 'west_european', // French
<a name="l212"><span class="linenum"> 212</span></a>          'ga' =&gt; 'west_european', // Irish
<a name="l213"><span class="linenum"> 213</span></a>          'gl' =&gt; 'west_european', // Galician
<a name="l214"><span class="linenum"> 214</span></a>          'gr' =&gt; 'greek',
<a name="l215"><span class="linenum"> 215</span></a>          'he' =&gt; 'hebrew', // Hebrew (since 1998)
<a name="l216"><span class="linenum"> 216</span></a>          'hi' =&gt; 'unicode', // Hindi
<a name="l217"><span class="linenum"> 217</span></a>          'hr' =&gt; 'east_european', // Croatian
<a name="l218"><span class="linenum"> 218</span></a>          'hu' =&gt; 'east_european', // Hungarian
<a name="l219"><span class="linenum"> 219</span></a>          'iw' =&gt; 'hebrew', // Hebrew (til 1998)
<a name="l220"><span class="linenum"> 220</span></a>          'is' =&gt; 'west_european', // Icelandic
<a name="l221"><span class="linenum"> 221</span></a>          'it' =&gt; 'west_european', // Italian
<a name="l222"><span class="linenum"> 222</span></a>          'ja' =&gt; 'japanese',
<a name="l223"><span class="linenum"> 223</span></a>          'ka' =&gt; 'unicode', // Georgian
<a name="l224"><span class="linenum"> 224</span></a>          'kl' =&gt; 'west_european', // Greenlandic
<a name="l225"><span class="linenum"> 225</span></a>          'km' =&gt; 'unicode', // Khmer
<a name="l226"><span class="linenum"> 226</span></a>          'ko' =&gt; 'korean',
<a name="l227"><span class="linenum"> 227</span></a>          'lt' =&gt; 'lithuanian',
<a name="l228"><span class="linenum"> 228</span></a>          'lv' =&gt; 'west_european', // Latvian/Lettish
<a name="l229"><span class="linenum"> 229</span></a>          'nl' =&gt; 'west_european', // Dutch
<a name="l230"><span class="linenum"> 230</span></a>          'no' =&gt; 'west_european', // Norwegian
<a name="l231"><span class="linenum"> 231</span></a>          'nb' =&gt; 'west_european', // Norwegian Bokmal
<a name="l232"><span class="linenum"> 232</span></a>          'nn' =&gt; 'west_european', // Norwegian Nynorsk
<a name="l233"><span class="linenum"> 233</span></a>          'pl' =&gt; 'east_european', // Polish
<a name="l234"><span class="linenum"> 234</span></a>          'pt' =&gt; 'west_european', // Portuguese
<a name="l235"><span class="linenum"> 235</span></a>          'ro' =&gt; 'east_european', // Romanian
<a name="l236"><span class="linenum"> 236</span></a>          'ru' =&gt; 'cyrillic', // Russian
<a name="l237"><span class="linenum"> 237</span></a>          'sk' =&gt; 'east_european', // Slovak
<a name="l238"><span class="linenum"> 238</span></a>          'sl' =&gt; 'east_european', // Slovenian
<a name="l239"><span class="linenum"> 239</span></a>          'sr' =&gt; 'cyrillic', // Serbian
<a name="l240"><span class="linenum"> 240</span></a>          'sv' =&gt; 'west_european', // Swedish
<a name="l241"><span class="linenum"> 241</span></a>          'sq' =&gt; 'albanian', // Albanian
<a name="l242"><span class="linenum"> 242</span></a>          'th' =&gt; 'thai',
<a name="l243"><span class="linenum"> 243</span></a>          'uk' =&gt; 'cyrillic', // Ukranian
<a name="l244"><span class="linenum"> 244</span></a>          'vi' =&gt; 'vietnamese',
<a name="l245"><span class="linenum"> 245</span></a>          'zh' =&gt; 'chinese',
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">            // MS language codes, see http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vclib/html/_crt_language_strings.asp</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">            // http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wceinternational5/html/wce50conLanguageIdentifiersandLocales.asp</span>
<a name="l248"><span class="linenum"> 248</span></a>          'afk'=&gt; 'west_european', // Afrikaans
<a name="l249"><span class="linenum"> 249</span></a>          'ara' =&gt; 'arabic',
<a name="l250"><span class="linenum"> 250</span></a>          'bgr' =&gt; 'cyrillic', // Bulgarian
<a name="l251"><span class="linenum"> 251</span></a>          'cat' =&gt; 'west_european', // Catalan
<a name="l252"><span class="linenum"> 252</span></a>          'chs' =&gt; 'simpl_chinese',
<a name="l253"><span class="linenum"> 253</span></a>          'cht' =&gt; 'trad_chinese',
<a name="l254"><span class="linenum"> 254</span></a>          'csy' =&gt; 'east_european', // Czech
<a name="l255"><span class="linenum"> 255</span></a>          'dan' =&gt; 'west_european', // Danisch
<a name="l256"><span class="linenum"> 256</span></a>          'deu' =&gt; 'west_european', // German
<a name="l257"><span class="linenum"> 257</span></a>          'dea' =&gt; 'west_european', // German (Austrian)
<a name="l258"><span class="linenum"> 258</span></a>          'des' =&gt; 'west_european', // German (Swiss)
<a name="l259"><span class="linenum"> 259</span></a>          'ena' =&gt; 'west_european', // English (Australian)
<a name="l260"><span class="linenum"> 260</span></a>          'enc' =&gt; 'west_european', // English (Canadian)
<a name="l261"><span class="linenum"> 261</span></a>          'eng' =&gt; 'west_european', // English
<a name="l262"><span class="linenum"> 262</span></a>          'enz' =&gt; 'west_european', // English (New Zealand)
<a name="l263"><span class="linenum"> 263</span></a>          'enu' =&gt; 'west_european', // English (United States)
<a name="l264"><span class="linenum"> 264</span></a>          'euq' =&gt; 'west_european', // Basque
<a name="l265"><span class="linenum"> 265</span></a>          'fos' =&gt; 'west_european', // Faroese
<a name="l266"><span class="linenum"> 266</span></a>          'far' =&gt; 'arabic', // Persian
<a name="l267"><span class="linenum"> 267</span></a>          'fin' =&gt; 'west_european', // Finish
<a name="l268"><span class="linenum"> 268</span></a>          'fra' =&gt; 'west_european', // French
<a name="l269"><span class="linenum"> 269</span></a>          'frb' =&gt; 'west_european', // French (Belgian)
<a name="l270"><span class="linenum"> 270</span></a>          'frc' =&gt; 'west_european', // French (Canadian)
<a name="l271"><span class="linenum"> 271</span></a>          'frs' =&gt; 'west_european', // French (Swiss)
<a name="l272"><span class="linenum"> 272</span></a>          'geo' =&gt; 'unicode', // Georgian
<a name="l273"><span class="linenum"> 273</span></a>          'glg' =&gt; 'west_european', // Galician
<a name="l274"><span class="linenum"> 274</span></a>          'ell' =&gt; 'greek',
<a name="l275"><span class="linenum"> 275</span></a>          'heb' =&gt; 'hebrew',
<a name="l276"><span class="linenum"> 276</span></a>          'hin' =&gt; 'unicode', // Hindi
<a name="l277"><span class="linenum"> 277</span></a>          'hun' =&gt; 'east_european', // Hungarian
<a name="l278"><span class="linenum"> 278</span></a>          'isl' =&gt; 'west_euorpean', // Icelandic
<a name="l279"><span class="linenum"> 279</span></a>          'ita' =&gt; 'west_european', // Italian
<a name="l280"><span class="linenum"> 280</span></a>          'its' =&gt; 'west_european', // Italian (Swiss)
<a name="l281"><span class="linenum"> 281</span></a>          'jpn' =&gt; 'japanese',
<a name="l282"><span class="linenum"> 282</span></a>          'khm' =&gt; 'unicode', // Khmer
<a name="l283"><span class="linenum"> 283</span></a>          'kor' =&gt; 'korean',
<a name="l284"><span class="linenum"> 284</span></a>          'lth' =&gt; 'lithuanian',
<a name="l285"><span class="linenum"> 285</span></a>          'lvi' =&gt; 'west_european', // Latvian/Lettish
<a name="l286"><span class="linenum"> 286</span></a>          'msl' =&gt; 'west_european', // Malay
<a name="l287"><span class="linenum"> 287</span></a>          'nlb' =&gt; 'west_european', // Dutch (Belgian)
<a name="l288"><span class="linenum"> 288</span></a>          'nld' =&gt; 'west_european', // Dutch
<a name="l289"><span class="linenum"> 289</span></a>          'nor' =&gt; 'west_european', // Norwegian (bokmal)
<a name="l290"><span class="linenum"> 290</span></a>          'non' =&gt; 'west_european', // Norwegian (nynorsk)
<a name="l291"><span class="linenum"> 291</span></a>          'plk' =&gt; 'east_european', // Polish
<a name="l292"><span class="linenum"> 292</span></a>          'ptg' =&gt; 'west_european', // Portuguese
<a name="l293"><span class="linenum"> 293</span></a>          'ptb' =&gt; 'west_european', // Portuguese (Brazil)
<a name="l294"><span class="linenum"> 294</span></a>          'rom' =&gt; 'east_european', // Romanian
<a name="l295"><span class="linenum"> 295</span></a>          'rus' =&gt; 'cyrillic', // Russian
<a name="l296"><span class="linenum"> 296</span></a>          'slv' =&gt; 'east_european', // Slovenian
<a name="l297"><span class="linenum"> 297</span></a>          'sky' =&gt; 'east_european', // Slovak
<a name="l298"><span class="linenum"> 298</span></a>          'srl' =&gt; 'east_european', // Serbian (Latin)
<a name="l299"><span class="linenum"> 299</span></a>          'srb' =&gt; 'cyrillic', // Serbian (Cyrillic)
<a name="l300"><span class="linenum"> 300</span></a>          'esp' =&gt; 'west_european', // Spanish (trad. sort)
<a name="l301"><span class="linenum"> 301</span></a>          'esm' =&gt; 'west_european', // Spanish (Mexican)
<a name="l302"><span class="linenum"> 302</span></a>          'esn' =&gt; 'west_european', // Spanish (internat. sort)
<a name="l303"><span class="linenum"> 303</span></a>          'sve' =&gt; 'west_european', // Swedish
<a name="l304"><span class="linenum"> 304</span></a>          'sqi' =&gt; 'albanian', // Albanian
<a name="l305"><span class="linenum"> 305</span></a>          'tha' =&gt; 'thai',
<a name="l306"><span class="linenum"> 306</span></a>          'trk' =&gt; 'turkish',
<a name="l307"><span class="linenum"> 307</span></a>          'ukr' =&gt; 'cyrillic', // Ukrainian
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">            // English language names</span>
<a name="l309"><span class="linenum"> 309</span></a>          'afrikaans' =&gt; 'west_european',
<a name="l310"><span class="linenum"> 310</span></a>          'albanian' =&gt; 'albanian',
<a name="l311"><span class="linenum"> 311</span></a>          'arabic' =&gt; 'arabic',
<a name="l312"><span class="linenum"> 312</span></a>          'basque' =&gt; 'west_european',
<a name="l313"><span class="linenum"> 313</span></a>          'bosnian' =&gt; 'east_european',
<a name="l314"><span class="linenum"> 314</span></a>          'bulgarian' =&gt; 'east_european',
<a name="l315"><span class="linenum"> 315</span></a>          'catalan' =&gt; 'west_european',
<a name="l316"><span class="linenum"> 316</span></a>          'croatian' =&gt; 'east_european',
<a name="l317"><span class="linenum"> 317</span></a>          'czech' =&gt; 'east_european',
<a name="l318"><span class="linenum"> 318</span></a>          'danish' =&gt; 'west_european',
<a name="l319"><span class="linenum"> 319</span></a>          'dutch' =&gt; 'west_european',
<a name="l320"><span class="linenum"> 320</span></a>          'english' =&gt; 'west_european',
<a name="l321"><span class="linenum"> 321</span></a>          'esperanto' =&gt; 'unicode',
<a name="l322"><span class="linenum"> 322</span></a>          'estonian' =&gt; 'estonian',
<a name="l323"><span class="linenum"> 323</span></a>          'faroese' =&gt; 'west_european',
<a name="l324"><span class="linenum"> 324</span></a>          'farsi' =&gt; 'arabic',
<a name="l325"><span class="linenum"> 325</span></a>          'finnish' =&gt; 'west_european',
<a name="l326"><span class="linenum"> 326</span></a>          'french' =&gt; 'west_european',
<a name="l327"><span class="linenum"> 327</span></a>          'galician' =&gt; 'west_european',
<a name="l328"><span class="linenum"> 328</span></a>          'georgian' =&gt; 'unicode',
<a name="l329"><span class="linenum"> 329</span></a>          'german' =&gt; 'west_european',
<a name="l330"><span class="linenum"> 330</span></a>          'greek' =&gt; 'greek',
<a name="l331"><span class="linenum"> 331</span></a>          'greenlandic' =&gt; 'west_european',
<a name="l332"><span class="linenum"> 332</span></a>          'hebrew' =&gt; 'hebrew',
<a name="l333"><span class="linenum"> 333</span></a>          'hindi' =&gt; 'unicode',
<a name="l334"><span class="linenum"> 334</span></a>          'hungarian' =&gt; 'east_european',
<a name="l335"><span class="linenum"> 335</span></a>          'icelandic' =&gt; 'west_european',
<a name="l336"><span class="linenum"> 336</span></a>          'italian' =&gt; 'west_european',
<a name="l337"><span class="linenum"> 337</span></a>          'khmer' =&gt; 'unicode',
<a name="l338"><span class="linenum"> 338</span></a>          'latvian' =&gt; 'west_european',
<a name="l339"><span class="linenum"> 339</span></a>          'lettish' =&gt; 'west_european',
<a name="l340"><span class="linenum"> 340</span></a>          'lithuanian' =&gt; 'lithuanian',
<a name="l341"><span class="linenum"> 341</span></a>          'malay' =&gt; 'west_european',
<a name="l342"><span class="linenum"> 342</span></a>          'norwegian' =&gt; 'west_european',
<a name="l343"><span class="linenum"> 343</span></a>          'persian' =&gt; 'arabic',
<a name="l344"><span class="linenum"> 344</span></a>          'polish' =&gt; 'east_european',
<a name="l345"><span class="linenum"> 345</span></a>          'portuguese' =&gt; 'west_european',
<a name="l346"><span class="linenum"> 346</span></a>          'russian' =&gt; 'cyrillic',
<a name="l347"><span class="linenum"> 347</span></a>          'romanian' =&gt; 'east_european',
<a name="l348"><span class="linenum"> 348</span></a>          'serbian' =&gt; 'cyrillic',
<a name="l349"><span class="linenum"> 349</span></a>          'slovak' =&gt; 'east_european',
<a name="l350"><span class="linenum"> 350</span></a>          'slovenian' =&gt; 'east_european',
<a name="l351"><span class="linenum"> 351</span></a>          'spanish' =&gt; 'west_european',
<a name="l352"><span class="linenum"> 352</span></a>          'svedish' =&gt; 'west_european',
<a name="l353"><span class="linenum"> 353</span></a>          'that' =&gt; 'thai',
<a name="l354"><span class="linenum"> 354</span></a>          'turkish' =&gt; 'turkish',
<a name="l355"><span class="linenum"> 355</span></a>          'ukrainian' =&gt; 'cyrillic',
<a name="l356"><span class="linenum"> 356</span></a>      );
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">        // mapping of language (family) names to charsets on Unix</span>
<a name="l359"><span class="linenum"> 359</span></a>      var <a class="var it1996" onMouseOver="hilite(1996)" onMouseOut="lolite()" onClick="logVariable('script_to_charset_unix')" href="../../_variables/script_to_charset_unix.html">$script_to_charset_unix</a> = array(
<a name="l360"><span class="linenum"> 360</span></a>          'west_european' =&gt; 'iso-8859-1',
<a name="l361"><span class="linenum"> 361</span></a>          'estonian' =&gt; 'iso-8859-1',
<a name="l362"><span class="linenum"> 362</span></a>          'east_european' =&gt; 'iso-8859-2',
<a name="l363"><span class="linenum"> 363</span></a>          'baltic' =&gt; 'iso-8859-4',
<a name="l364"><span class="linenum"> 364</span></a>          'cyrillic' =&gt; 'iso-8859-5',
<a name="l365"><span class="linenum"> 365</span></a>          'arabic' =&gt; 'iso-8859-6',
<a name="l366"><span class="linenum"> 366</span></a>          'greek' =&gt; 'iso-8859-7',
<a name="l367"><span class="linenum"> 367</span></a>          'hebrew' =&gt; 'iso-8859-8',
<a name="l368"><span class="linenum"> 368</span></a>          'turkish' =&gt; 'iso-8859-9',
<a name="l369"><span class="linenum"> 369</span></a>          'thai' =&gt; 'iso-8859-11', // = TIS-620
<a name="l370"><span class="linenum"> 370</span></a>          'lithuanian' =&gt; 'iso-8859-13',
<a name="l371"><span class="linenum"> 371</span></a>          'chinese' =&gt; 'gb2312', // = euc-cn
<a name="l372"><span class="linenum"> 372</span></a>          'japanese' =&gt; 'euc-jp',
<a name="l373"><span class="linenum"> 373</span></a>          'korean' =&gt; 'euc-kr',
<a name="l374"><span class="linenum"> 374</span></a>          'simpl_chinese' =&gt; 'gb2312',
<a name="l375"><span class="linenum"> 375</span></a>          'trad_chinese' =&gt; 'big5',
<a name="l376"><span class="linenum"> 376</span></a>          'vietnamese' =&gt; '',
<a name="l377"><span class="linenum"> 377</span></a>          'unicode' =&gt; 'utf-8',
<a name="l378"><span class="linenum"> 378</span></a>          'albanian' =&gt; 'utf-8'
<a name="l379"><span class="linenum"> 379</span></a>      );
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">        // mapping of language (family) names to charsets on Windows</span>
<a name="l382"><span class="linenum"> 382</span></a>      var <a class="var it1997" onMouseOver="hilite(1997)" onMouseOut="lolite()" onClick="logVariable('script_to_charset_windows')" href="../../_variables/script_to_charset_windows.html">$script_to_charset_windows</a> = array(
<a name="l383"><span class="linenum"> 383</span></a>          'east_european' =&gt; 'windows-1250',
<a name="l384"><span class="linenum"> 384</span></a>          'cyrillic' =&gt; 'windows-1251',
<a name="l385"><span class="linenum"> 385</span></a>          'west_european' =&gt; 'windows-1252',
<a name="l386"><span class="linenum"> 386</span></a>          'greek' =&gt; 'windows-1253',
<a name="l387"><span class="linenum"> 387</span></a>          'turkish' =&gt; 'windows-1254',
<a name="l388"><span class="linenum"> 388</span></a>          'hebrew' =&gt; 'windows-1255',
<a name="l389"><span class="linenum"> 389</span></a>          'arabic' =&gt; 'windows-1256',
<a name="l390"><span class="linenum"> 390</span></a>          'baltic' =&gt; 'windows-1257',
<a name="l391"><span class="linenum"> 391</span></a>          'estonian' =&gt; 'windows-1257',
<a name="l392"><span class="linenum"> 392</span></a>          'lithuanian' =&gt; 'windows-1257',
<a name="l393"><span class="linenum"> 393</span></a>          'vietnamese' =&gt; 'windows-1258',
<a name="l394"><span class="linenum"> 394</span></a>          'thai' =&gt; 'cp874',
<a name="l395"><span class="linenum"> 395</span></a>          'korean' =&gt; 'cp949',
<a name="l396"><span class="linenum"> 396</span></a>          'chinese' =&gt; 'gb2312',
<a name="l397"><span class="linenum"> 397</span></a>          'japanese' =&gt; 'shift_jis',
<a name="l398"><span class="linenum"> 398</span></a>          'simpl_chinese' =&gt; 'gb2312',
<a name="l399"><span class="linenum"> 399</span></a>          'trad_chinese' =&gt; 'big5',
<a name="l400"><span class="linenum"> 400</span></a>          'albanian' =&gt; 'windows-1250',
<a name="l401"><span class="linenum"> 401</span></a>          'unicode' =&gt; 'utf-8'
<a name="l402"><span class="linenum"> 402</span></a>      );
<a name="l403"><span class="linenum"> 403</span></a>  
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">        // mapping of locale names to charsets</span>
<a name="l405"><span class="linenum"> 405</span></a>      var <a class="var it1998" onMouseOver="hilite(1998)" onMouseOut="lolite()" onClick="logVariable('locale_to_charset')" href="../../_variables/locale_to_charset.html">$locale_to_charset</a> = array(
<a name="l406"><span class="linenum"> 406</span></a>          'japanese.euc' =&gt; 'euc-jp',
<a name="l407"><span class="linenum"> 407</span></a>          'ja_jp.ujis' =&gt; 'euc-jp',
<a name="l408"><span class="linenum"> 408</span></a>          'korean.euc' =&gt; 'euc-kr',
<a name="l409"><span class="linenum"> 409</span></a>          'sr@Latn' =&gt; 'iso-8859-2',
<a name="l410"><span class="linenum"> 410</span></a>          'zh_cn' =&gt; 'gb2312',
<a name="l411"><span class="linenum"> 411</span></a>          'zh_hk' =&gt; 'big5',
<a name="l412"><span class="linenum"> 412</span></a>          'zh_tw' =&gt; 'big5',
<a name="l413"><span class="linenum"> 413</span></a>      );
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">        // TYPO3 specific: Array with the system charsets used for each system language in TYPO3:</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">        // Empty values means &quot;iso-8859-1&quot;</span>
<a name="l417"><span class="linenum"> 417</span></a>      var <a class="var it1999" onMouseOver="hilite(1999)" onMouseOut="lolite()" onClick="logVariable('charSetArray')" href="../../_variables/charSetArray.html">$charSetArray</a> = array(
<a name="l418"><span class="linenum"> 418</span></a>          'af' =&gt; '',
<a name="l419"><span class="linenum"> 419</span></a>          'ar' =&gt; 'iso-8859-6',
<a name="l420"><span class="linenum"> 420</span></a>          'ba' =&gt; 'iso-8859-2',
<a name="l421"><span class="linenum"> 421</span></a>          'bg' =&gt; 'windows-1251',
<a name="l422"><span class="linenum"> 422</span></a>          'br' =&gt; '',
<a name="l423"><span class="linenum"> 423</span></a>          'ca' =&gt; 'iso-8859-15',
<a name="l424"><span class="linenum"> 424</span></a>          'ch' =&gt; 'gb2312',
<a name="l425"><span class="linenum"> 425</span></a>          'cs' =&gt; 'windows-1250',
<a name="l426"><span class="linenum"> 426</span></a>          'cz' =&gt; 'windows-1250',
<a name="l427"><span class="linenum"> 427</span></a>          'da' =&gt; '',
<a name="l428"><span class="linenum"> 428</span></a>          'de' =&gt; '',
<a name="l429"><span class="linenum"> 429</span></a>          'dk' =&gt; '',
<a name="l430"><span class="linenum"> 430</span></a>          'el' =&gt; 'iso-8859-7',
<a name="l431"><span class="linenum"> 431</span></a>          'eo' =&gt; 'utf-8',
<a name="l432"><span class="linenum"> 432</span></a>          'es' =&gt; '',
<a name="l433"><span class="linenum"> 433</span></a>          'et' =&gt; 'iso-8859-4',
<a name="l434"><span class="linenum"> 434</span></a>          'eu' =&gt; '',
<a name="l435"><span class="linenum"> 435</span></a>          'fa' =&gt; 'utf-8',
<a name="l436"><span class="linenum"> 436</span></a>          'fi' =&gt; '',
<a name="l437"><span class="linenum"> 437</span></a>          'fo' =&gt; 'utf-8',
<a name="l438"><span class="linenum"> 438</span></a>          'fr' =&gt; '',
<a name="l439"><span class="linenum"> 439</span></a>          'fr_CA' =&gt; '',
<a name="l440"><span class="linenum"> 440</span></a>          'ga' =&gt; '',
<a name="l441"><span class="linenum"> 441</span></a>          'ge' =&gt; 'utf-8',
<a name="l442"><span class="linenum"> 442</span></a>          'gl' =&gt; '',
<a name="l443"><span class="linenum"> 443</span></a>          'gr' =&gt; 'iso-8859-7',
<a name="l444"><span class="linenum"> 444</span></a>          'he' =&gt; 'utf-8',
<a name="l445"><span class="linenum"> 445</span></a>          'hi' =&gt; 'utf-8',
<a name="l446"><span class="linenum"> 446</span></a>          'hk' =&gt; 'big5',
<a name="l447"><span class="linenum"> 447</span></a>          'hr' =&gt; 'windows-1250',
<a name="l448"><span class="linenum"> 448</span></a>          'hu' =&gt; 'iso-8859-2',
<a name="l449"><span class="linenum"> 449</span></a>          'is' =&gt; 'utf-8',
<a name="l450"><span class="linenum"> 450</span></a>          'it' =&gt; '',
<a name="l451"><span class="linenum"> 451</span></a>          'ja' =&gt; 'shift_jis',
<a name="l452"><span class="linenum"> 452</span></a>          'jp' =&gt; 'shift_jis',
<a name="l453"><span class="linenum"> 453</span></a>          'ka' =&gt; 'utf-8',
<a name="l454"><span class="linenum"> 454</span></a>          'kl' =&gt; 'utf-8',
<a name="l455"><span class="linenum"> 455</span></a>          'km' =&gt; 'utf-8',
<a name="l456"><span class="linenum"> 456</span></a>          'ko' =&gt; 'euc-kr',
<a name="l457"><span class="linenum"> 457</span></a>          'kr' =&gt; 'euc-kr',
<a name="l458"><span class="linenum"> 458</span></a>          'lt' =&gt; 'windows-1257',
<a name="l459"><span class="linenum"> 459</span></a>          'lv' =&gt; 'utf-8',
<a name="l460"><span class="linenum"> 460</span></a>          'ms' =&gt; '',
<a name="l461"><span class="linenum"> 461</span></a>          'my' =&gt; '',
<a name="l462"><span class="linenum"> 462</span></a>          'nl' =&gt; '',
<a name="l463"><span class="linenum"> 463</span></a>          'no' =&gt; '',
<a name="l464"><span class="linenum"> 464</span></a>          'pl' =&gt; 'iso-8859-2',
<a name="l465"><span class="linenum"> 465</span></a>          'pt' =&gt; '',
<a name="l466"><span class="linenum"> 466</span></a>          'pt_BR' =&gt; '',
<a name="l467"><span class="linenum"> 467</span></a>          'qc' =&gt; '',
<a name="l468"><span class="linenum"> 468</span></a>          'ro' =&gt; 'iso-8859-2',
<a name="l469"><span class="linenum"> 469</span></a>          'ru' =&gt; 'windows-1251',
<a name="l470"><span class="linenum"> 470</span></a>          'se' =&gt; '',
<a name="l471"><span class="linenum"> 471</span></a>          'si' =&gt; 'windows-1250',
<a name="l472"><span class="linenum"> 472</span></a>          'sk' =&gt; 'windows-1250',
<a name="l473"><span class="linenum"> 473</span></a>          'sl' =&gt; 'windows-1250',
<a name="l474"><span class="linenum"> 474</span></a>          'sq' =&gt; 'utf-8',
<a name="l475"><span class="linenum"> 475</span></a>          'sr' =&gt; 'utf-8',
<a name="l476"><span class="linenum"> 476</span></a>          'sv' =&gt; '',
<a name="l477"><span class="linenum"> 477</span></a>          'th' =&gt; 'iso-8859-11',
<a name="l478"><span class="linenum"> 478</span></a>          'tr' =&gt; 'iso-8859-9',
<a name="l479"><span class="linenum"> 479</span></a>          'ua' =&gt; 'windows-1251',
<a name="l480"><span class="linenum"> 480</span></a>          'uk' =&gt; 'windows-1251',
<a name="l481"><span class="linenum"> 481</span></a>          'vi' =&gt; 'utf-8',
<a name="l482"><span class="linenum"> 482</span></a>          'vn' =&gt; 'utf-8',
<a name="l483"><span class="linenum"> 483</span></a>          'zh' =&gt; 'big5',
<a name="l484"><span class="linenum"> 484</span></a>      );
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">        // TYPO3 specific: Array with the iso names used for each system language in TYPO3:</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">        // Missing keys means: same as TYPO3</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">        // @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - use t3lib_l10n_Locales::getIsoMapping()</span>
<a name="l489"><span class="linenum"> 489</span></a>      var <a class="var it2000" onMouseOver="hilite(2000)" onMouseOut="lolite()" onClick="logVariable('isoArray')" href="../../_variables/isoArray.html">$isoArray</a> = array(
<a name="l490"><span class="linenum"> 490</span></a>          'ba' =&gt; 'bs',
<a name="l491"><span class="linenum"> 491</span></a>          'br' =&gt; 'pt_BR',
<a name="l492"><span class="linenum"> 492</span></a>          'ch' =&gt; 'zh_CN',
<a name="l493"><span class="linenum"> 493</span></a>          'cz' =&gt; 'cs',
<a name="l494"><span class="linenum"> 494</span></a>          'dk' =&gt; 'da',
<a name="l495"><span class="linenum"> 495</span></a>          'si' =&gt; 'sl',
<a name="l496"><span class="linenum"> 496</span></a>          'se' =&gt; 'sv',
<a name="l497"><span class="linenum"> 497</span></a>          'gl' =&gt; 'kl',
<a name="l498"><span class="linenum"> 498</span></a>          'gr' =&gt; 'el',
<a name="l499"><span class="linenum"> 499</span></a>          'hk' =&gt; 'zh_HK',
<a name="l500"><span class="linenum"> 500</span></a>          'kr' =&gt; 'ko',
<a name="l501"><span class="linenum"> 501</span></a>          'ua' =&gt; 'uk',
<a name="l502"><span class="linenum"> 502</span></a>          'jp' =&gt; 'ja',
<a name="l503"><span class="linenum"> 503</span></a>          'qc' =&gt; 'fr_CA',
<a name="l504"><span class="linenum"> 504</span></a>          'vn' =&gt; 'vi',
<a name="l505"><span class="linenum"> 505</span></a>          'ge' =&gt; 'ka',
<a name="l506"><span class="linenum"> 506</span></a>          'ga' =&gt; 'gl',
<a name="l507"><span class="linenum"> 507</span></a>      );
<a name="l508"><span class="linenum"> 508</span></a>  
<a name="l509"><span class="linenum"> 509</span></a>      <span class="comment">/**</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">     * Default constructor.</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">     */</span>
<a name="l512"><span class="linenum"> 512</span></a>  	public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>() {
<a name="l513"><span class="linenum"> 513</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('locales')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/locales.html">locales</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_l10n_Locales');
<a name="l514"><span class="linenum"> 514</span></a>      }
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>      <span class="comment">/**</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * Normalize - changes input character set to lowercase letters.</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     *</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param    string        Input charset</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @return    string        Normalized charset</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">     */</span>
<a name="l523"><span class="linenum"> 523</span></a>  	function <a class="function" onClick="logFunction('parse_charset')" href="../../_functions/parse_charset.html" onMouseOver="funcPopup(event,'parse_charset')">parse_charset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l524"><span class="linenum"> 524</span></a>          <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>));
<a name="l525"><span class="linenum"> 525</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('synonyms')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/synonyms.html">synonyms</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l526"><span class="linenum"> 526</span></a>              <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('synonyms')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/synonyms.html">synonyms</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>];
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          return <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>;
<a name="l530"><span class="linenum"> 530</span></a>      }
<a name="l531"><span class="linenum"> 531</span></a>  
<a name="l532"><span class="linenum"> 532</span></a>      <span class="comment">/**</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * Get the charset of a locale.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     *</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     * ln            language</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     * ln_CN         language / country</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     * ln_CN.cs      language / country / charset</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     * ln_CN.cs@mod  language / country / charset / modifier</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     *</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @param    string        Locale string</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     * @return    string        Charset resolved for locale string</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     */</span>
<a name="l544"><span class="linenum"> 544</span></a>  	function <a class="function" onClick="logFunction('get_locale_charset')" href="../../_functions/get_locale_charset.html" onMouseOver="funcPopup(event,'get_locale_charset')">get_locale_charset</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>) {
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>);
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">            // exact locale specific charset?</span>
<a name="l548"><span class="linenum"> 548</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('locale_to_charset')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/locale_to_charset.html">locale_to_charset</a>[<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>])) {
<a name="l549"><span class="linenum"> 549</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('locale_to_charset')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/locale_to_charset.html">locale_to_charset</a>[<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>];
<a name="l550"><span class="linenum"> 550</span></a>          }
<a name="l551"><span class="linenum"> 551</span></a>  
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">            // get modifier</span>
<a name="l553"><span class="linenum"> 553</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>, <a class="var it2001" onMouseOver="hilite(2001)" onMouseOut="lolite()" onClick="logVariable('modifier')" href="../../_variables/modifier.html">$modifier</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('@', <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>);
<a name="l554"><span class="linenum"> 554</span></a>  
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">            // locale contains charset: use it</span>
<a name="l556"><span class="linenum"> 556</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>);
<a name="l557"><span class="linenum"> 557</span></a>          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l558"><span class="linenum"> 558</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('parse_charset')" href="../../_functions/parse_charset.html" onMouseOver="funcPopup(event,'parse_charset')">parse_charset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l559"><span class="linenum"> 559</span></a>          }
<a name="l560"><span class="linenum"> 560</span></a>  
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">            // modifier is 'euro' (after charset check, because of xx.utf-8@euro)</span>
<a name="l562"><span class="linenum"> 562</span></a>          if (<a class="var it2001" onMouseOver="hilite(2001)" onMouseOut="lolite()" onClick="logVariable('modifier')" href="../../_variables/modifier.html">$modifier</a> == 'euro') {
<a name="l563"><span class="linenum"> 563</span></a>              return 'iso-8859-15';
<a name="l564"><span class="linenum"> 564</span></a>          }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">            // get language</span>
<a name="l567"><span class="linenum"> 567</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a>, <a class="var it2002" onMouseOver="hilite(2002)" onMouseOut="lolite()" onClick="logVariable('country')" href="../../_variables/country.html">$country</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('_', <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../_variables/locale.html">$locale</a>);
<a name="l568"><span class="linenum"> 568</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lang_to_script')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lang_to_script.html">lang_to_script</a>[<a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a>])) {
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lang_to_script')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lang_to_script.html">lang_to_script</a>[<a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a>];
<a name="l570"><span class="linenum"> 570</span></a>          }
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>          if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> == 'WIN') {
<a name="l573"><span class="linenum"> 573</span></a>              <a class="var it2004" onMouseOver="hilite(2004)" onMouseOut="lolite()" onClick="logVariable('cs')" href="../../_variables/cs.html">$cs</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('script_to_charset_windows')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/script_to_charset_windows.html">script_to_charset_windows</a>[<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>] ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('script_to_charset_windows')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/script_to_charset_windows.html">script_to_charset_windows</a>[<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>] : 'windows-1252';
<a name="l574"><span class="linenum"> 574</span></a>          } else {
<a name="l575"><span class="linenum"> 575</span></a>              <a class="var it2004" onMouseOver="hilite(2004)" onMouseOut="lolite()" onClick="logVariable('cs')" href="../../_variables/cs.html">$cs</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('script_to_charset_unix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/script_to_charset_unix.html">script_to_charset_unix</a>[<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>] ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('script_to_charset_unix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/script_to_charset_unix.html">script_to_charset_unix</a>[<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>] : 'utf-8';
<a name="l576"><span class="linenum"> 576</span></a>          }
<a name="l577"><span class="linenum"> 577</span></a>  
<a name="l578"><span class="linenum"> 578</span></a>          return <a class="var it2004" onMouseOver="hilite(2004)" onMouseOut="lolite()" onClick="logVariable('cs')" href="../../_variables/cs.html">$cs</a>;
<a name="l579"><span class="linenum"> 579</span></a>      }
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>      <span class="comment">/********************************************</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     *</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * Charset Conversion functions</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     *</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     ********************************************/</span>
<a name="l587"><span class="linenum"> 587</span></a>  
<a name="l588"><span class="linenum"> 588</span></a>      <span class="comment">/**</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     * Convert from one charset to another charset.</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     *</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     * @param    string        Input string</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * @param    string        From charset (the current charset of the string)</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     * @param    string        To charset (the output charset wanted)</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">     * @param    boolean        If set, then characters that are not available in the destination character set will be encoded as numeric entities</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">     * @return    string        Converted string</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">     * @see convArray()</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">     */</span>
<a name="l598"><span class="linenum"> 598</span></a>  	function <a class="function" onClick="logFunction('conv')" href="../../_functions/conv.html" onMouseOver="funcPopup(event,'conv')">conv</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a> = 0) {
<a name="l599"><span class="linenum"> 599</span></a>          if (<a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a> == <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>) {
<a name="l600"><span class="linenum"> 600</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l601"><span class="linenum"> 601</span></a>          }
<a name="l602"><span class="linenum"> 602</span></a>  
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">            // PHP-libs don't support fallback to SGML entities, but UTF-8 handles everything</span>
<a name="l604"><span class="linenum"> 604</span></a>          if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a> == 'utf-8' || !<a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a>) {
<a name="l605"><span class="linenum"> 605</span></a>              switch (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_convMethod']) {
<a name="l606"><span class="linenum"> 606</span></a>                  case 'mbstring':
<a name="l607"><span class="linenum"> 607</span></a>                      <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a> = <a class="phpfunction" onClick="logFunction('mb_convert_encoding')" href="../../_functions/mb_convert_encoding.html" onMouseOver="phpfuncPopup(event,'mb_convert_encoding')">mb_convert_encoding</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>);
<a name="l608"><span class="linenum"> 608</span></a>                      if (FALSE !== <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>) {
<a name="l609"><span class="linenum"> 609</span></a>                          return <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>;
<a name="l610"><span class="linenum"> 610</span></a>                      } <span class="comment">// returns FALSE for unsupported charsets</span>
<a name="l611"><span class="linenum"> 611</span></a>                      break;
<a name="l612"><span class="linenum"> 612</span></a>  
<a name="l613"><span class="linenum"> 613</span></a>                  case 'iconv':
<a name="l614"><span class="linenum"> 614</span></a>                      <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a> = <a class="function" onClick="logFunction('iconv')" href="../../_functions/iconv.html" onMouseOver="funcPopup(event,'iconv')">iconv</a>(<a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a> . '//TRANSLIT', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l615"><span class="linenum"> 615</span></a>                      if (FALSE !== <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>) {
<a name="l616"><span class="linenum"> 616</span></a>                          return <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>;
<a name="l617"><span class="linenum"> 617</span></a>                      }
<a name="l618"><span class="linenum"> 618</span></a>                      break;
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>                  case 'recode':
<a name="l621"><span class="linenum"> 621</span></a>                      <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a> = <a class="phpfunction" onClick="logFunction('recode_string')" href="../../_functions/recode_string.html" onMouseOver="phpfuncPopup(event,'recode_string')">recode_string</a>(<a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a> . '..' . <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l622"><span class="linenum"> 622</span></a>                      if (FALSE !== <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>) {
<a name="l623"><span class="linenum"> 623</span></a>                          return <a class="var it2009" onMouseOver="hilite(2009)" onMouseOut="lolite()" onClick="logVariable('conv_str')" href="../../_variables/conv_str.html">$conv_str</a>;
<a name="l624"><span class="linenum"> 624</span></a>                      }
<a name="l625"><span class="linenum"> 625</span></a>                      break;
<a name="l626"><span class="linenum"> 626</span></a>              }
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">            // fallback to TYPO3 conversion</span>
<a name="l628"><span class="linenum"> 628</span></a>          }
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>          if (<a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a> != 'utf-8') {
<a name="l631"><span class="linenum"> 631</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_encode')" href="../../_functions/utf8_encode.html" onMouseOver="phpfuncPopup(event,'utf8_encode')">utf8_encode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>);
<a name="l632"><span class="linenum"> 632</span></a>          }
<a name="l633"><span class="linenum"> 633</span></a>          if (<a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a> != 'utf-8') {
<a name="l634"><span class="linenum"> 634</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a>);
<a name="l635"><span class="linenum"> 635</span></a>          }
<a name="l636"><span class="linenum"> 636</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l637"><span class="linenum"> 637</span></a>      }
<a name="l638"><span class="linenum"> 638</span></a>  
<a name="l639"><span class="linenum"> 639</span></a>      <span class="comment">/**</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">     * Convert all elements in ARRAY with type string from one charset to another charset.</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">     * NOTICE: Array is passed by reference!</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">     *</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">     * @param    string        Input array, possibly multidimensional</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">     * @param    string        From charset (the current charset of the string)</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     * @param    string        To charset (the output charset wanted)</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">     * @param    boolean        If set, then characters that are not available in the destination character set will be encoded as numeric entities</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">     * @return    void</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     * @see conv()</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">     */</span>
<a name="l650"><span class="linenum"> 650</span></a>  	function <a class="function" onClick="logFunction('convArray')" href="../../_functions/convarray.html" onMouseOver="funcPopup(event,'convarray')">convArray</a>(&amp;<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a> = 0) {
<a name="l651"><span class="linenum"> 651</span></a>          foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l652"><span class="linenum"> 652</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l653"><span class="linenum"> 653</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('convArray')" href="../../_functions/convarray.html" onMouseOver="funcPopup(event,'convarray')">convArray</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>], <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a>);
<a name="l654"><span class="linenum"> 654</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l655"><span class="linenum"> 655</span></a>                  <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('conv')" href="../../_functions/conv.html" onMouseOver="funcPopup(event,'conv')">conv</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>], <a class="var it2005" onMouseOver="hilite(2005)" onMouseOut="lolite()" onClick="logVariable('fromCS')" href="../../_variables/fromCS.html">$fromCS</a>, <a class="var it2006" onMouseOver="hilite(2006)" onMouseOut="lolite()" onClick="logVariable('toCS')" href="../../_variables/toCS.html">$toCS</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a>);
<a name="l656"><span class="linenum"> 656</span></a>              }
<a name="l657"><span class="linenum"> 657</span></a>          }
<a name="l658"><span class="linenum"> 658</span></a>      }
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>      <span class="comment">/**</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">     * Converts $str from $charset to UTF-8</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment">     *</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">     * @param    string        String in local charset to convert to UTF-8</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">     * @param    string        Charset, lowercase. Must be found in csconvtbl/ folder.</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">     * @return    string        Output string, converted to UTF-8</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     */</span>
<a name="l667"><span class="linenum"> 667</span></a>  	function <a class="function" onClick="logFunction('utf8_encode')" href="../../_functions/utf8_encode.html" onMouseOver="funcPopup(event,'utf8_encode')">utf8_encode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> === 'utf-8') {
<a name="l670"><span class="linenum"> 670</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l671"><span class="linenum"> 671</span></a>          }
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">            // Charset is case-insensitive.</span>
<a name="l674"><span class="linenum"> 674</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCharset')" href="../../_functions/initcharset.html" onMouseOver="funcPopup(event,'initcharset')">initCharset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) { // Parse conv. table if not already...
<a name="l675"><span class="linenum"> 675</span></a>              <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l676"><span class="linenum"> 676</span></a>              <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> = '';
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>              for (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 0; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> &lt; <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a>; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++) { // Traverse each char in string.
<a name="l679"><span class="linenum"> 679</span></a>                  <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1);
<a name="l680"><span class="linenum"> 680</span></a>                  <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>);
<a name="l681"><span class="linenum"> 681</span></a>                  if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('twoByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/twoByteSets.html">twoByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) { // If the charset has two bytes per char
<a name="l682"><span class="linenum"> 682</span></a>                      <a class="var it2014" onMouseOver="hilite(2014)" onMouseOut="lolite()" onClick="logVariable('ord2')" href="../../_variables/ord2.html">$ord2</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> + 1});
<a name="l683"><span class="linenum"> 683</span></a>                      <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt;&lt; 8 | <a class="var it2014" onMouseOver="hilite(2014)" onMouseOut="lolite()" onClick="logVariable('ord2')" href="../../_variables/ord2.html">$ord2</a>; <span class="comment">// assume big endian</span>
<a name="l684"><span class="linenum"> 684</span></a>  
<a name="l685"><span class="linenum"> 685</span></a>                      if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>])) { // If the local char-number was found in parsed conv. table then we use that, otherwise 127 (no char?)
<a name="l686"><span class="linenum"> 686</span></a>                          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>];
<a name="l687"><span class="linenum"> 687</span></a>                      } else {
<a name="l688"><span class="linenum"> 688</span></a>                          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l689"><span class="linenum"> 689</span></a>                      } <span class="comment">// No char exists</span>
<a name="l690"><span class="linenum"> 690</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++;
<a name="l691"><span class="linenum"> 691</span></a>                  } elseif (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 127) { // If char has value over 127 it's a multibyte char in UTF-8
<a name="l692"><span class="linenum"> 692</span></a>                      if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) { // EUC uses two-bytes above 127; we get both and advance pointer and make <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> a 16bit int.
<a name="l693"><span class="linenum"> 693</span></a>                          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> != 'shift_jis' || (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt; 0xA0 || <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 0xDF)) { // Shift-JIS: chars between 160 and 223 are single byte
<a name="l694"><span class="linenum"> 694</span></a>                              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++;
<a name="l695"><span class="linenum"> 695</span></a>                              <a class="var it2014" onMouseOver="hilite(2014)" onMouseOut="lolite()" onClick="logVariable('ord2')" href="../../_variables/ord2.html">$ord2</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1));
<a name="l696"><span class="linenum"> 696</span></a>                              <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> * 256 + <a class="var it2014" onMouseOver="hilite(2014)" onMouseOut="lolite()" onClick="logVariable('ord2')" href="../../_variables/ord2.html">$ord2</a>;
<a name="l697"><span class="linenum"> 697</span></a>                          }
<a name="l698"><span class="linenum"> 698</span></a>                      }
<a name="l699"><span class="linenum"> 699</span></a>  
<a name="l700"><span class="linenum"> 700</span></a>                      if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>])) { // If the local char-number was found in parsed conv. table then we use that, otherwise 127 (no char?)
<a name="l701"><span class="linenum"> 701</span></a>                          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>];
<a name="l702"><span class="linenum"> 702</span></a>                      } else {
<a name="l703"><span class="linenum"> 703</span></a>                          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l704"><span class="linenum"> 704</span></a>                      } <span class="comment">// No char exists</span>
<a name="l705"><span class="linenum"> 705</span></a>                  } else {
<a name="l706"><span class="linenum"> 706</span></a>                      <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>;
<a name="l707"><span class="linenum"> 707</span></a>                  } <span class="comment">// ... otherwise it's just ASCII 0-127 and one byte. Transparent</span>
<a name="l708"><span class="linenum"> 708</span></a>              }
<a name="l709"><span class="linenum"> 709</span></a>              return <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a>;
<a name="l710"><span class="linenum"> 710</span></a>          }
<a name="l711"><span class="linenum"> 711</span></a>      }
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>      <span class="comment">/**</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * Converts $str from UTF-8 to $charset</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     *</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @param    string        String in UTF-8 to convert to local charset</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @param    string        Charset, lowercase. Must be found in csconvtbl/ folder.</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     * @param    boolean        If set, then characters that are not available in the destination character set will be encoded as numeric entities</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">     * @return    string        Output string, converted to local charset</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">     */</span>
<a name="l721"><span class="linenum"> 721</span></a>  	function <a class="function" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="funcPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a> = 0) {
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> === 'utf-8') {
<a name="l724"><span class="linenum"> 724</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l725"><span class="linenum"> 725</span></a>          }
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">            // Charset is case-insensitive.</span>
<a name="l728"><span class="linenum"> 728</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCharset')" href="../../_functions/initcharset.html" onMouseOver="funcPopup(event,'initcharset')">initCharset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) { // Parse conv. table if not already...
<a name="l729"><span class="linenum"> 729</span></a>              <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l730"><span class="linenum"> 730</span></a>              <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> = '';
<a name="l731"><span class="linenum"> 731</span></a>              <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = '';
<a name="l732"><span class="linenum"> 732</span></a>              for (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 0, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> &lt; <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a>; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) { // Traverse each char in UTF-8 string.
<a name="l733"><span class="linenum"> 733</span></a>                  <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1);
<a name="l734"><span class="linenum"> 734</span></a>                  <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>);
<a name="l735"><span class="linenum"> 735</span></a>                  if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 127) { // This means multibyte! (first byte!)
<a name="l736"><span class="linenum"> 736</span></a>                      if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 64) { // Since the first byte must have the 7th bit set we check that. Otherwise we might be in the middle of a byte sequence.
<a name="l737"><span class="linenum"> 737</span></a>  
<a name="l738"><span class="linenum"> 738</span></a>                          <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>; <span class="comment">// Add first byte</span>
<a name="l739"><span class="linenum"> 739</span></a>                          for (<a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> = 0; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> &lt; 8; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>++) { // for each byte in multibyte string...
<a name="l740"><span class="linenum"> 740</span></a>                              <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt;&lt; 1; <span class="comment">// Shift it left and ...</span>
<a name="l741"><span class="linenum"> 741</span></a>                              if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 128) { // ... and with 8th bit - if that is set, then there are still bytes in sequence.
<a name="l742"><span class="linenum"> 742</span></a>                                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++; <span class="comment">// Increase pointer...</span>
<a name="l743"><span class="linenum"> 743</span></a>                                  <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1); <span class="comment">// ... and add the next char.</span>
<a name="l744"><span class="linenum"> 744</span></a>                              } else {
<a name="l745"><span class="linenum"> 745</span></a>                                  break;
<a name="l746"><span class="linenum"> 746</span></a>                              }
<a name="l747"><span class="linenum"> 747</span></a>                          }
<a name="l748"><span class="linenum"> 748</span></a>  
<a name="l749"><span class="linenum"> 749</span></a>                          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['utf8'][<a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a>])) { // If the UTF-8 char-sequence is found then...
<a name="l750"><span class="linenum"> 750</span></a>                              <a class="var it2016" onMouseOver="hilite(2016)" onMouseOut="lolite()" onClick="logVariable('mByte')" href="../../_variables/mByte.html">$mByte</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['utf8'][<a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a>]; <span class="comment">// The local number</span>
<a name="l751"><span class="linenum"> 751</span></a>                              if (<a class="var it2016" onMouseOver="hilite(2016)" onMouseOut="lolite()" onClick="logVariable('mByte')" href="../../_variables/mByte.html">$mByte</a> &gt; 255) { // If the local number is greater than 255 we will need to split the byte (16bit word assumed) in two chars.
<a name="l752"><span class="linenum"> 752</span></a>                                  <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>((<a class="var it2016" onMouseOver="hilite(2016)" onMouseOut="lolite()" onClick="logVariable('mByte')" href="../../_variables/mByte.html">$mByte</a> &gt;&gt; 8) &amp; 255) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it2016" onMouseOver="hilite(2016)" onMouseOut="lolite()" onClick="logVariable('mByte')" href="../../_variables/mByte.html">$mByte</a> &amp; 255);
<a name="l753"><span class="linenum"> 753</span></a>                              } else {
<a name="l754"><span class="linenum"> 754</span></a>                                  <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it2016" onMouseOver="hilite(2016)" onMouseOut="lolite()" onClick="logVariable('mByte')" href="../../_variables/mByte.html">$mByte</a>);
<a name="l755"><span class="linenum"> 755</span></a>                              }
<a name="l756"><span class="linenum"> 756</span></a>                          } elseif (<a class="var it2007" onMouseOver="hilite(2007)" onMouseOut="lolite()" onClick="logVariable('useEntityForNoChar')" href="../../_variables/useEntityForNoChar.html">$useEntityForNoChar</a>) { // Create num entity:
<a name="l757"><span class="linenum"> 757</span></a>                              <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= '&amp;#' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8CharToUnumber')" href="../../_functions/utf8chartounumber.html" onMouseOver="funcPopup(event,'utf8chartounumber')">utf8CharToUnumber</a>(<a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a>, 1) . ';';
<a name="l758"><span class="linenum"> 758</span></a>                          } else {
<a name="l759"><span class="linenum"> 759</span></a>                              <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l760"><span class="linenum"> 760</span></a>                          } <span class="comment">// No char exists</span>
<a name="l761"><span class="linenum"> 761</span></a>                      } else {
<a name="l762"><span class="linenum"> 762</span></a>                          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l763"><span class="linenum"> 763</span></a>                      } <span class="comment">// No char exists (MIDDLE of MB sequence!)</span>
<a name="l764"><span class="linenum"> 764</span></a>                  } else {
<a name="l765"><span class="linenum"> 765</span></a>                      <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>;
<a name="l766"><span class="linenum"> 766</span></a>                  } <span class="comment">// ... otherwise it's just ASCII 0-127 and one byte. Transparent</span>
<a name="l767"><span class="linenum"> 767</span></a>              }
<a name="l768"><span class="linenum"> 768</span></a>              return <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a>;
<a name="l769"><span class="linenum"> 769</span></a>          }
<a name="l770"><span class="linenum"> 770</span></a>      }
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>      <span class="comment">/**</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     * Converts all chars &gt; 127 to numeric entities.</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">     *</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * @param    string        Input string</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * @return    string        Output string</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     */</span>
<a name="l778"><span class="linenum"> 778</span></a>  	function <a class="function" onClick="logFunction('utf8_to_entities')" href="../../_functions/utf8_to_entities.html" onMouseOver="funcPopup(event,'utf8_to_entities')">utf8_to_entities</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l779"><span class="linenum"> 779</span></a>          <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l780"><span class="linenum"> 780</span></a>          <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> = '';
<a name="l781"><span class="linenum"> 781</span></a>          <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = '';
<a name="l782"><span class="linenum"> 782</span></a>          for (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 0; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> &lt; <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a>; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++) { // Traverse each char in UTF-8 string.
<a name="l783"><span class="linenum"> 783</span></a>              <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1);
<a name="l784"><span class="linenum"> 784</span></a>              <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>);
<a name="l785"><span class="linenum"> 785</span></a>              if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 127) { // This means multibyte! (first byte!)
<a name="l786"><span class="linenum"> 786</span></a>                  if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 64) { // Since the first byte must have the 7th bit set we check that. Otherwise we might be in the middle of a byte sequence.
<a name="l787"><span class="linenum"> 787</span></a>                      <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>; <span class="comment">// Add first byte</span>
<a name="l788"><span class="linenum"> 788</span></a>                      for (<a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> = 0; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> &lt; 8; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>++) { // for each byte in multibyte string...
<a name="l789"><span class="linenum"> 789</span></a>                          <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt;&lt; 1; <span class="comment">// Shift it left and ...</span>
<a name="l790"><span class="linenum"> 790</span></a>                          if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 128) { // ... and with 8th bit - if that is set, then there are still bytes in sequence.
<a name="l791"><span class="linenum"> 791</span></a>                              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++; <span class="comment">// Increase pointer...</span>
<a name="l792"><span class="linenum"> 792</span></a>                              <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1); <span class="comment">// ... and add the next char.</span>
<a name="l793"><span class="linenum"> 793</span></a>                          } else {
<a name="l794"><span class="linenum"> 794</span></a>                              break;
<a name="l795"><span class="linenum"> 795</span></a>                          }
<a name="l796"><span class="linenum"> 796</span></a>                      }
<a name="l797"><span class="linenum"> 797</span></a>  
<a name="l798"><span class="linenum"> 798</span></a>                      <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= '&amp;#' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8CharToUnumber')" href="../../_functions/utf8chartounumber.html" onMouseOver="funcPopup(event,'utf8chartounumber')">utf8CharToUnumber</a>(<a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a>, 1) . ';';
<a name="l799"><span class="linenum"> 799</span></a>                  } else {
<a name="l800"><span class="linenum"> 800</span></a>                      <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l801"><span class="linenum"> 801</span></a>                  } <span class="comment">// No char exists (MIDDLE of MB sequence!)</span>
<a name="l802"><span class="linenum"> 802</span></a>              } else {
<a name="l803"><span class="linenum"> 803</span></a>                  <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a> .= <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>;
<a name="l804"><span class="linenum"> 804</span></a>              } <span class="comment">// ... otherwise it's just ASCII 0-127 and one byte. Transparent</span>
<a name="l805"><span class="linenum"> 805</span></a>          }
<a name="l806"><span class="linenum"> 806</span></a>  
<a name="l807"><span class="linenum"> 807</span></a>          return <a class="var it2011" onMouseOver="hilite(2011)" onMouseOut="lolite()" onClick="logVariable('outStr')" href="../../_variables/outStr.html">$outStr</a>;
<a name="l808"><span class="linenum"> 808</span></a>      }
<a name="l809"><span class="linenum"> 809</span></a>  
<a name="l810"><span class="linenum"> 810</span></a>      <span class="comment">/**</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     * Converts numeric entities (UNICODE, eg. decimal (&amp;#1234;) or hexadecimal (&amp;#x1b;)) to UTF-8 multibyte chars</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">     *</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">     * @param    string        Input string, UTF-8</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">     * @param    boolean        If set, then all string-HTML entities (like &amp;amp; or &amp;pound; will be converted as well)</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">     * @return    string        Output string</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">     */</span>
<a name="l817"><span class="linenum"> 817</span></a>  	function <a class="function" onClick="logFunction('entities_to_utf8')" href="../../_functions/entities_to_utf8.html" onMouseOver="funcPopup(event,'entities_to_utf8')">entities_to_utf8</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2017" onMouseOver="hilite(2017)" onMouseOut="lolite()" onClick="logVariable('alsoStdHtmlEnt')" href="../../_variables/alsoStdHtmlEnt.html">$alsoStdHtmlEnt</a> = FALSE) {
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">        // Workaround for #39287: 3rd parameter for get_html_translation_table() was only added in PHP 5.3.4 and later</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">        // see http://php.net/manual/en/function.get-html-translation-table.php</span>
<a name="l820"><span class="linenum"> 820</span></a>          <a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('applyPhpCompatibilityFix')" href="../../_variables/applyPhpCompatibilityFix.html">$applyPhpCompatibilityFix</a> = <a class="phpfunction" onClick="logFunction('version_compare')" href="../../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="phpfunction" onClick="logFunction('phpversion')" href="../../_functions/phpversion.html" onMouseOver="phpfuncPopup(event,'phpversion')">phpversion</a>(), '5.3.4', '&lt;');
<a name="l821"><span class="linenum"> 821</span></a>  
<a name="l822"><span class="linenum"> 822</span></a>          if (<a class="var it2017" onMouseOver="hilite(2017)" onMouseOut="lolite()" onClick="logVariable('alsoStdHtmlEnt')" href="../../_variables/alsoStdHtmlEnt.html">$alsoStdHtmlEnt</a>) {
<a name="l823"><span class="linenum"> 823</span></a>              if (<a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('applyPhpCompatibilityFix')" href="../../_variables/applyPhpCompatibilityFix.html">$applyPhpCompatibilityFix</a> === TRUE) {
<a name="l824"><span class="linenum"> 824</span></a>                  <a class="var it2019" onMouseOver="hilite(2019)" onMouseOut="lolite()" onClick="logVariable('trans_tbl')" href="../../_variables/trans_tbl.html">$trans_tbl</a> = <a class="phpfunction" onClick="logFunction('array_flip')" href="../../_functions/array_flip.html" onMouseOver="phpfuncPopup(event,'array_flip')">array_flip</a>(<a class="phpfunction" onClick="logFunction('get_html_translation_table')" href="../../_functions/get_html_translation_table.html" onMouseOver="phpfuncPopup(event,'get_html_translation_table')">get_html_translation_table</a>(HTML_ENTITIES, ENT_COMPAT));
<a name="l825"><span class="linenum"> 825</span></a>              } else {
<a name="l826"><span class="linenum"> 826</span></a>                  <a class="var it2019" onMouseOver="hilite(2019)" onMouseOut="lolite()" onClick="logVariable('trans_tbl')" href="../../_variables/trans_tbl.html">$trans_tbl</a> = <a class="phpfunction" onClick="logFunction('array_flip')" href="../../_functions/array_flip.html" onMouseOver="phpfuncPopup(event,'array_flip')">array_flip</a>(<a class="phpfunction" onClick="logFunction('get_html_translation_table')" href="../../_functions/get_html_translation_table.html" onMouseOver="phpfuncPopup(event,'get_html_translation_table')">get_html_translation_table</a>(HTML_ENTITIES, ENT_COMPAT, 'UTF-8'));
<a name="l827"><span class="linenum"> 827</span></a>              }
<a name="l828"><span class="linenum"> 828</span></a>          }
<a name="l829"><span class="linenum"> 829</span></a>  
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a> = md5(<a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>());
<a name="l831"><span class="linenum"> 831</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(<a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a>, <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(&amp;([#[:alnum:]]*);)/', <a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a> . '<a class="var it2020" onMouseOver="hilite(2020)" onMouseOut="lolite()" onClick="logVariable('2')" href="../../_variables/2.html">$2</a>}' . <a class="var it310" onMouseOver="hilite(310)" onMouseOut="lolite()" onClick="logVariable('token')" href="../../_variables/token.html">$token</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>));
<a name="l832"><span class="linenum"> 832</span></a>          foreach (<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">                // only take every second element</span>
<a name="l834"><span class="linenum"> 834</span></a>              if (<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> % 2 === 0) {
<a name="l835"><span class="linenum"> 835</span></a>                  continue;
<a name="l836"><span class="linenum"> 836</span></a>              }
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>              <a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a> = 0;
<a name="l839"><span class="linenum"> 839</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a>, 1) == '#') { // Dec or hex entities:
<a name="l840"><span class="linenum"> 840</span></a>                  <a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a>++;
<a name="l841"><span class="linenum"> 841</span></a>                  if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a>, 1) == 'x') {
<a name="l842"><span class="linenum"> 842</span></a>                      <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> = <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, ++<a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a>));
<a name="l843"><span class="linenum"> 843</span></a>                  } else {
<a name="l844"><span class="linenum"> 844</span></a>                      <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it752" onMouseOver="hilite(752)" onMouseOut="lolite()" onClick="logVariable('position')" href="../../_variables/position.html">$position</a>);
<a name="l845"><span class="linenum"> 845</span></a>                  }
<a name="l846"><span class="linenum"> 846</span></a>                  <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l847"><span class="linenum"> 847</span></a>              } elseif (<a class="var it2017" onMouseOver="hilite(2017)" onMouseOut="lolite()" onClick="logVariable('alsoStdHtmlEnt')" href="../../_variables/alsoStdHtmlEnt.html">$alsoStdHtmlEnt</a> &amp;&amp; isset(<a class="var it2019" onMouseOver="hilite(2019)" onMouseOut="lolite()" onClick="logVariable('trans_tbl')" href="../../_variables/trans_tbl.html">$trans_tbl</a>['&amp;' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> . ';'])) { // Other entities:
<a name="l848"><span class="linenum"> 848</span></a>                  <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> = <a class="var it2019" onMouseOver="hilite(2019)" onMouseOut="lolite()" onClick="logVariable('trans_tbl')" href="../../_variables/trans_tbl.html">$trans_tbl</a>['&amp;' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> . ';'];
<a name="l849"><span class="linenum"> 849</span></a>                  if (<a class="var it2018" onMouseOver="hilite(2018)" onMouseOut="lolite()" onClick="logVariable('applyPhpCompatibilityFix')" href="../../_variables/applyPhpCompatibilityFix.html">$applyPhpCompatibilityFix</a> === TRUE) {
<a name="l850"><span class="linenum"> 850</span></a>                      <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_encode')" href="../../_functions/utf8_encode.html" onMouseOver="phpfuncPopup(event,'utf8_encode')">utf8_encode</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, 'iso-8859-1');
<a name="l851"><span class="linenum"> 851</span></a>                  }
<a name="l852"><span class="linenum"> 852</span></a>                  <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>;
<a name="l853"><span class="linenum"> 853</span></a>              } else { // No conversion:
<a name="l854"><span class="linenum"> 854</span></a>                  <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = '&amp;' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> . ';';
<a name="l855"><span class="linenum"> 855</span></a>              }
<a name="l856"><span class="linenum"> 856</span></a>          }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('', <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>);
<a name="l859"><span class="linenum"> 859</span></a>      }
<a name="l860"><span class="linenum"> 860</span></a>  
<a name="l861"><span class="linenum"> 861</span></a>      <span class="comment">/**</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">     * Converts all chars in the input UTF-8 string into integer numbers returned in an array</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     *</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * @param    string        Input string, UTF-8</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @param    boolean        If set, then all HTML entities (like &amp;amp; or &amp;pound; or &amp;#123; or &amp;#x3f5d;) will be detected as characters.</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @param    boolean        If set, then instead of integer numbers the real UTF-8 char is returned.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     * @return    array        Output array with the char numbers</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     */</span>
<a name="l869"><span class="linenum"> 869</span></a>  	function <a class="function" onClick="logFunction('utf8_to_numberarray')" href="../../_functions/utf8_to_numberarray.html" onMouseOver="funcPopup(event,'utf8_to_numberarray')">utf8_to_numberarray</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2021" onMouseOver="hilite(2021)" onMouseOut="lolite()" onClick="logVariable('convEntities')" href="../../_variables/convEntities.html">$convEntities</a> = 0, <a class="var it2022" onMouseOver="hilite(2022)" onMouseOut="lolite()" onClick="logVariable('retChar')" href="../../_variables/retChar.html">$retChar</a> = 0) {
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">            // If entities must be registered as well...:</span>
<a name="l871"><span class="linenum"> 871</span></a>          if (<a class="var it2021" onMouseOver="hilite(2021)" onMouseOut="lolite()" onClick="logVariable('convEntities')" href="../../_variables/convEntities.html">$convEntities</a>) {
<a name="l872"><span class="linenum"> 872</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('entities_to_utf8')" href="../../_functions/entities_to_utf8.html" onMouseOver="funcPopup(event,'entities_to_utf8')">entities_to_utf8</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 1);
<a name="l873"><span class="linenum"> 873</span></a>          }
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">            // Do conversion:</span>
<a name="l875"><span class="linenum"> 875</span></a>          <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l876"><span class="linenum"> 876</span></a>          <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a> = array();
<a name="l877"><span class="linenum"> 877</span></a>          <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = '';
<a name="l878"><span class="linenum"> 878</span></a>          for (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 0; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> &lt; <a class="var it2010" onMouseOver="hilite(2010)" onMouseOut="lolite()" onClick="logVariable('strLen')" href="../../_variables/strLen.html">$strLen</a>; <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++) { // Traverse each char in UTF-8 string.
<a name="l879"><span class="linenum"> 879</span></a>              <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1);
<a name="l880"><span class="linenum"> 880</span></a>              <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>);
<a name="l881"><span class="linenum"> 881</span></a>              if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 127) { // This means multibyte! (first byte!)
<a name="l882"><span class="linenum"> 882</span></a>                  if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 64) { // Since the first byte must have the 7th bit set we check that. Otherwise we might be in the middle of a byte sequence.
<a name="l883"><span class="linenum"> 883</span></a>                      <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> = <a class="var it2012" onMouseOver="hilite(2012)" onMouseOut="lolite()" onClick="logVariable('chr')" href="../../_variables/chr.html">$chr</a>; <span class="comment">// Add first byte</span>
<a name="l884"><span class="linenum"> 884</span></a>                      for (<a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> = 0; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> &lt; 8; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>++) { // for each byte in multibyte string...
<a name="l885"><span class="linenum"> 885</span></a>                          <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt;&lt; 1; <span class="comment">// Shift it left and ...</span>
<a name="l886"><span class="linenum"> 886</span></a>                          if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 128) { // ... and with 8th bit - if that is set, then there are still bytes in sequence.
<a name="l887"><span class="linenum"> 887</span></a>                              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>++; <span class="comment">// Increase pointer...</span>
<a name="l888"><span class="linenum"> 888</span></a>                              <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, 1); <span class="comment">// ... and add the next char.</span>
<a name="l889"><span class="linenum"> 889</span></a>                          } else {
<a name="l890"><span class="linenum"> 890</span></a>                              break;
<a name="l891"><span class="linenum"> 891</span></a>                          }
<a name="l892"><span class="linenum"> 892</span></a>                      }
<a name="l893"><span class="linenum"> 893</span></a>  
<a name="l894"><span class="linenum"> 894</span></a>                      <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>[] = <a class="var it2022" onMouseOver="hilite(2022)" onMouseOut="lolite()" onClick="logVariable('retChar')" href="../../_variables/retChar.html">$retChar</a> ? <a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a> : <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8CharToUnumber')" href="../../_functions/utf8chartounumber.html" onMouseOver="funcPopup(event,'utf8chartounumber')">utf8CharToUnumber</a>(<a class="var it2015" onMouseOver="hilite(2015)" onMouseOut="lolite()" onClick="logVariable('buf')" href="../../_variables/buf.html">$buf</a>);
<a name="l895"><span class="linenum"> 895</span></a>                  } else {
<a name="l896"><span class="linenum"> 896</span></a>                      <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>[] = <a class="var it2022" onMouseOver="hilite(2022)" onMouseOut="lolite()" onClick="logVariable('retChar')" href="../../_variables/retChar.html">$retChar</a> ? <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>) : <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>;
<a name="l897"><span class="linenum"> 897</span></a>                  } <span class="comment">// No char exists (MIDDLE of MB sequence!)</span>
<a name="l898"><span class="linenum"> 898</span></a>              } else {
<a name="l899"><span class="linenum"> 899</span></a>                  <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>[] = <a class="var it2022" onMouseOver="hilite(2022)" onMouseOut="lolite()" onClick="logVariable('retChar')" href="../../_variables/retChar.html">$retChar</a> ? <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>) : <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>;
<a name="l900"><span class="linenum"> 900</span></a>              } <span class="comment">// ... otherwise it's just ASCII 0-127 and one byte. Transparent</span>
<a name="l901"><span class="linenum"> 901</span></a>          }
<a name="l902"><span class="linenum"> 902</span></a>  
<a name="l903"><span class="linenum"> 903</span></a>          return <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>;
<a name="l904"><span class="linenum"> 904</span></a>      }
<a name="l905"><span class="linenum"> 905</span></a>  
<a name="l906"><span class="linenum"> 906</span></a>      <span class="comment">/**</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * Converts a UNICODE number to a UTF-8 multibyte character</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * Algorithm based on script found at From: http://czyborra.com/utf/</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     * Unit-tested by Kasper</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     *</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     * The binary representation of the character's integer value is thus simply spread across the bytes and the number of high bits set in the lead byte announces the number of bytes in the multibyte sequence:</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">     *</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">     *  bytes | bits | representation</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment">     *      1 |    7 | 0vvvvvvv</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">     *      2 |   11 | 110vvvvv 10vvvvvv</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment">     *      3 |   16 | 1110vvvv 10vvvvvv 10vvvvvv</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">     *      4 |   21 | 11110vvv 10vvvvvv 10vvvvvv 10vvvvvv</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">     *      5 |   26 | 111110vv 10vvvvvv 10vvvvvv 10vvvvvv 10vvvvvv</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">     *      6 |   31 | 1111110v 10vvvvvv 10vvvvvv 10vvvvvv 10vvvvvv 10vvvvvv</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment">     *</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment">     * @param    integer        UNICODE integer</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">     * @return    string        UTF-8 multibyte character string</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">     * @see utf8CharToUnumber()</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">     */</span>
<a name="l925"><span class="linenum"> 925</span></a>  	function <a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a>) {
<a name="l926"><span class="linenum"> 926</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = '';
<a name="l927"><span class="linenum"> 927</span></a>  
<a name="l928"><span class="linenum"> 928</span></a>          if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x80) {
<a name="l929"><span class="linenum"> 929</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a>);
<a name="l930"><span class="linenum"> 930</span></a>          } else {
<a name="l931"><span class="linenum"> 931</span></a>              if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x800) {
<a name="l932"><span class="linenum"> 932</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0xC0 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 6));
<a name="l933"><span class="linenum"> 933</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &amp; 0x3F));
<a name="l934"><span class="linenum"> 934</span></a>              } else {
<a name="l935"><span class="linenum"> 935</span></a>                  if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x10000) {
<a name="l936"><span class="linenum"> 936</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0xE0 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 12));
<a name="l937"><span class="linenum"> 937</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 6) &amp; 0x3F));
<a name="l938"><span class="linenum"> 938</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &amp; 0x3F));
<a name="l939"><span class="linenum"> 939</span></a>                  } else {
<a name="l940"><span class="linenum"> 940</span></a>                      if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x200000) {
<a name="l941"><span class="linenum"> 941</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0xF0 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 18));
<a name="l942"><span class="linenum"> 942</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 12) &amp; 0x3F));
<a name="l943"><span class="linenum"> 943</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 6) &amp; 0x3F));
<a name="l944"><span class="linenum"> 944</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &amp; 0x3F));
<a name="l945"><span class="linenum"> 945</span></a>                      } else {
<a name="l946"><span class="linenum"> 946</span></a>                          if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x4000000) {
<a name="l947"><span class="linenum"> 947</span></a>                              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0xF8 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 24));
<a name="l948"><span class="linenum"> 948</span></a>                              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 18) &amp; 0x3F));
<a name="l949"><span class="linenum"> 949</span></a>                              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 12) &amp; 0x3F));
<a name="l950"><span class="linenum"> 950</span></a>                              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 6) &amp; 0x3F));
<a name="l951"><span class="linenum"> 951</span></a>                              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &amp; 0x3F));
<a name="l952"><span class="linenum"> 952</span></a>                          } else {
<a name="l953"><span class="linenum"> 953</span></a>                              if (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &lt; 0x80000000) {
<a name="l954"><span class="linenum"> 954</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0xFC | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 30));
<a name="l955"><span class="linenum"> 955</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 24) &amp; 0x3F));
<a name="l956"><span class="linenum"> 956</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 18) &amp; 0x3F));
<a name="l957"><span class="linenum"> 957</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 12) &amp; 0x3F));
<a name="l958"><span class="linenum"> 958</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | ((<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &gt;&gt; 6) &amp; 0x3F));
<a name="l959"><span class="linenum"> 959</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x80 | (<a class="var it2024" onMouseOver="hilite(2024)" onMouseOut="lolite()" onClick="logVariable('cbyte')" href="../../_variables/cbyte.html">$cbyte</a> &amp; 0x3F));
<a name="l960"><span class="linenum"> 960</span></a>                              } else { // Cannot express a 32-bit character in UTF-8
<a name="l961"><span class="linenum"> 961</span></a>                                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l962"><span class="linenum"> 962</span></a>                              }
<a name="l963"><span class="linenum"> 963</span></a>                          }
<a name="l964"><span class="linenum"> 964</span></a>                      }
<a name="l965"><span class="linenum"> 965</span></a>                  }
<a name="l966"><span class="linenum"> 966</span></a>              }
<a name="l967"><span class="linenum"> 967</span></a>          }
<a name="l968"><span class="linenum"> 968</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l969"><span class="linenum"> 969</span></a>      }
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>      <span class="comment">/**</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * Converts a UTF-8 Multibyte character to a UNICODE number</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     * Unit-tested by Kasper</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     *</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * @param    string        UTF-8 multibyte character string</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     * @param    boolean        If set, then a hex. number is returned.</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">     * @return    integer        UNICODE integer</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment">     * @see UnumberToChar()</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">     */</span>
<a name="l980"><span class="linenum"> 980</span></a>  	function <a class="function" onClick="logFunction('utf8CharToUnumber')" href="../../_functions/utf8chartounumber.html" onMouseOver="funcPopup(event,'utf8chartounumber')">utf8CharToUnumber</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = 0) {
<a name="l981"><span class="linenum"> 981</span></a>          <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, 1)); <span class="comment">// First char</span>
<a name="l982"><span class="linenum"> 982</span></a>  
<a name="l983"><span class="linenum"> 983</span></a>          if ((<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 192) == 192) { // This verifyes that it IS a multi byte string
<a name="l984"><span class="linenum"> 984</span></a>              <a class="var it2026" onMouseOver="hilite(2026)" onMouseOut="lolite()" onClick="logVariable('binBuf')" href="../../_variables/binBuf.html">$binBuf</a> = '';
<a name="l985"><span class="linenum"> 985</span></a>              for (<a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> = 0; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> &lt; 8; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>++) { // for each byte in multibyte string...
<a name="l986"><span class="linenum"> 986</span></a>                  <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &lt;&lt; 1; <span class="comment">// Shift it left and ...</span>
<a name="l987"><span class="linenum"> 987</span></a>                  if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &amp; 128) { // ... and with 8th bit - if that is set, then there are still bytes in sequence.
<a name="l988"><span class="linenum"> 988</span></a>                      <a class="var it2026" onMouseOver="hilite(2026)" onMouseOut="lolite()" onClick="logVariable('binBuf')" href="../../_variables/binBuf.html">$binBuf</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>('00000000' . <a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a> + 1, 1))), -6);
<a name="l989"><span class="linenum"> 989</span></a>                  } else {
<a name="l990"><span class="linenum"> 990</span></a>                      break;
<a name="l991"><span class="linenum"> 991</span></a>                  }
<a name="l992"><span class="linenum"> 992</span></a>              }
<a name="l993"><span class="linenum"> 993</span></a>              <a class="var it2026" onMouseOver="hilite(2026)" onMouseOut="lolite()" onClick="logVariable('binBuf')" href="../../_variables/binBuf.html">$binBuf</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>('00000000' . <a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, 1))), -(6 - <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>)) . <a class="var it2026" onMouseOver="hilite(2026)" onMouseOut="lolite()" onClick="logVariable('binBuf')" href="../../_variables/binBuf.html">$binBuf</a>;
<a name="l994"><span class="linenum"> 994</span></a>  
<a name="l995"><span class="linenum"> 995</span></a>              <a class="var it2027" onMouseOver="hilite(2027)" onMouseOut="lolite()" onClick="logVariable('int')" href="../../_variables/int.html">$int</a> = <a class="phpfunction" onClick="logFunction('bindec')" href="../../_functions/bindec.html" onMouseOver="phpfuncPopup(event,'bindec')">bindec</a>(<a class="var it2026" onMouseOver="hilite(2026)" onMouseOut="lolite()" onClick="logVariable('binBuf')" href="../../_variables/binBuf.html">$binBuf</a>);
<a name="l996"><span class="linenum"> 996</span></a>          } else {
<a name="l997"><span class="linenum"> 997</span></a>              <a class="var it2027" onMouseOver="hilite(2027)" onMouseOut="lolite()" onClick="logVariable('int')" href="../../_variables/int.html">$int</a> = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>;
<a name="l998"><span class="linenum"> 998</span></a>          }
<a name="l999"><span class="linenum"> 999</span></a>  
<a name="l1000"><span class="linenum">1000</span></a>          return <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> ? 'x' . <a class="phpfunction" onClick="logFunction('dechex')" href="../../_functions/dechex.html" onMouseOver="phpfuncPopup(event,'dechex')">dechex</a>(<a class="var it2027" onMouseOver="hilite(2027)" onMouseOut="lolite()" onClick="logVariable('int')" href="../../_variables/int.html">$int</a>) : <a class="var it2027" onMouseOver="hilite(2027)" onMouseOut="lolite()" onClick="logVariable('int')" href="../../_variables/int.html">$int</a>;
<a name="l1001"><span class="linenum">1001</span></a>      }
<a name="l1002"><span class="linenum">1002</span></a>  
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>      <span class="comment">/********************************************</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">     *</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     * Init functions</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     *</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     ********************************************/</span>
<a name="l1009"><span class="linenum">1009</span></a>  
<a name="l1010"><span class="linenum">1010</span></a>      <span class="comment">/**</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     * This will initialize a charset for use if it's defined in the PATH_t3lib.'csconvtbl/' folder</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     * This function is automatically called by the conversion functions</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment">     *</span>
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">     * PLEASE SEE: http://www.unicode.org/Public/MAPPINGS/</span>
<a name="l1015"><span class="linenum">1015</span></a>  <span class="comment">     *</span>
<a name="l1016"><span class="linenum">1016</span></a>  <span class="comment">     * @param    string        The charset to be initialized. Use lowercase charset always (the charset must match exactly with a filename in csconvtbl/ folder ([charset].tbl)</span>
<a name="l1017"><span class="linenum">1017</span></a>  <span class="comment">     * @return    integer        Returns '1' if already loaded. Returns FALSE if charset conversion table was not found. Returns '2' if the charset conversion table was found and parsed.</span>
<a name="l1018"><span class="linenum">1018</span></a>  <span class="comment">     * @access private</span>
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment">     */</span>
<a name="l1020"><span class="linenum">1020</span></a>  	function <a class="function" onClick="logFunction('initCharset')" href="../../_functions/initcharset.html" onMouseOver="funcPopup(event,'initcharset')">initCharset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">            // Only process if the charset is not yet loaded:</span>
<a name="l1022"><span class="linenum">1022</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l1023"><span class="linenum">1023</span></a>  
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">                // Conversion table filename:</span>
<a name="l1025"><span class="linenum">1025</span></a>              <a class="var it2028" onMouseOver="hilite(2028)" onMouseOut="lolite()" onClick="logVariable('charsetConvTableFile')" href="../../_variables/charsetConvTableFile.html">$charsetConvTableFile</a> = PATH_t3lib . 'csconvtbl/' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '.tbl';
<a name="l1026"><span class="linenum">1026</span></a>  
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment">                // If the conversion table is found:</span>
<a name="l1028"><span class="linenum">1028</span></a>              if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> &amp;&amp; t3lib_div::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it2028" onMouseOver="hilite(2028)" onMouseOut="lolite()" onClick="logVariable('charsetConvTableFile')" href="../../_variables/charsetConvTableFile.html">$charsetConvTableFile</a>) &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2028" onMouseOver="hilite(2028)" onMouseOut="lolite()" onClick="logVariable('charsetConvTableFile')" href="../../_variables/charsetConvTableFile.html">$charsetConvTableFile</a>)) {
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">                    // Cache file for charsets:</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">                    // Caching brought parsing time for gb2312 down from 2400 ms to 150 ms. For other charsets we are talking 11 ms down to zero.</span>
<a name="l1031"><span class="linenum">1031</span></a>                  <a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> = t3lib_div::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>('typo3temp/cs/charset_' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '.tbl');
<a name="l1032"><span class="linenum">1032</span></a>                  if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>)) {
<a name="l1033"><span class="linenum">1033</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>] = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>));
<a name="l1034"><span class="linenum">1034</span></a>                  } else {
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">                        // Parse conversion table into lines:</span>
<a name="l1036"><span class="linenum">1036</span></a>                      <a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> = t3lib_div::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(LF, t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2028" onMouseOver="hilite(2028)" onMouseOut="lolite()" onClick="logVariable('charsetConvTableFile')" href="../../_variables/charsetConvTableFile.html">$charsetConvTableFile</a>), 1);
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">                        // Initialize the internal variable holding the conv. table:</span>
<a name="l1038"><span class="linenum">1038</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>] = array('local' =&gt; array(), 'utf8' =&gt; array());
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">                        // traverse the lines:</span>
<a name="l1040"><span class="linenum">1040</span></a>                      <a class="var it2030" onMouseOver="hilite(2030)" onMouseOut="lolite()" onClick="logVariable('detectedType')" href="../../_variables/detectedType.html">$detectedType</a> = '';
<a name="l1041"><span class="linenum">1041</span></a>                      foreach (<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1042"><span class="linenum">1042</span></a>                          if (<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, 0, 1) != '#') { // Comment line or blanks are ignored.
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">                                // Detect type if not done yet: (Done on first real line)</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment">                                // The &quot;whitespaced&quot; type is on the syntax     &quot;0x0A    0x000A    #LINE FEED&quot;     while     &quot;ms-token&quot; is like         &quot;B9 = U+00B9 : SUPERSCRIPT ONE&quot;</span>
<a name="l1046"><span class="linenum">1046</span></a>                              if (!<a class="var it2030" onMouseOver="hilite(2030)" onMouseOut="lolite()" onClick="logVariable('detectedType')" href="../../_variables/detectedType.html">$detectedType</a>) {
<a name="l1047"><span class="linenum">1047</span></a>                                  <a class="var it2030" onMouseOver="hilite(2030)" onMouseOut="lolite()" onClick="logVariable('detectedType')" href="../../_variables/detectedType.html">$detectedType</a> = <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/[[:space:]]*0x([[:alnum:]]*)[[:space:]]+0x([[:alnum:]]*)[[:space:]]+/', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) ? 'whitespaced' : 'ms-token';
<a name="l1048"><span class="linenum">1048</span></a>                              }
<a name="l1049"><span class="linenum">1049</span></a>  
<a name="l1050"><span class="linenum">1050</span></a>                              if (<a class="var it2030" onMouseOver="hilite(2030)" onMouseOut="lolite()" onClick="logVariable('detectedType')" href="../../_variables/detectedType.html">$detectedType</a> == 'ms-token') {
<a name="l1051"><span class="linenum">1051</span></a>                                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2031" onMouseOver="hilite(2031)" onMouseOut="lolite()" onClick="logVariable('hexbyte')" href="../../_variables/hexbyte.html">$hexbyte</a>, <a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>) = <a class="phpfunction" onClick="logFunction('preg_split')" href="../../_functions/preg_split.html" onMouseOver="phpfuncPopup(event,'preg_split')">preg_split</a>('/[=:]/', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, 3);
<a name="l1052"><span class="linenum">1052</span></a>                              } elseif (<a class="var it2030" onMouseOver="hilite(2030)" onMouseOut="lolite()" onClick="logVariable('detectedType')" href="../../_variables/detectedType.html">$detectedType</a> == 'whitespaced') {
<a name="l1053"><span class="linenum">1053</span></a>                                  <a class="var it2033" onMouseOver="hilite(2033)" onMouseOut="lolite()" onClick="logVariable('regA')" href="../../_variables/regA.html">$regA</a> = array();
<a name="l1054"><span class="linenum">1054</span></a>                                  <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/[[:space:]]*0x([[:alnum:]]*)[[:space:]]+0x([[:alnum:]]*)[[:space:]]+/', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, <a class="var it2033" onMouseOver="hilite(2033)" onMouseOut="lolite()" onClick="logVariable('regA')" href="../../_variables/regA.html">$regA</a>);
<a name="l1055"><span class="linenum">1055</span></a>                                  <a class="var it2031" onMouseOver="hilite(2031)" onMouseOut="lolite()" onClick="logVariable('hexbyte')" href="../../_variables/hexbyte.html">$hexbyte</a> = <a class="var it2033" onMouseOver="hilite(2033)" onMouseOut="lolite()" onClick="logVariable('regA')" href="../../_variables/regA.html">$regA</a>[1];
<a name="l1056"><span class="linenum">1056</span></a>                                  <a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a> = 'U+' . <a class="var it2033" onMouseOver="hilite(2033)" onMouseOut="lolite()" onClick="logVariable('regA')" href="../../_variables/regA.html">$regA</a>[2];
<a name="l1057"><span class="linenum">1057</span></a>                              }
<a name="l1058"><span class="linenum">1058</span></a>                              <a class="var it2034" onMouseOver="hilite(2034)" onMouseOut="lolite()" onClick="logVariable('decval')" href="../../_variables/decval.html">$decval</a> = <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2031" onMouseOver="hilite(2031)" onMouseOut="lolite()" onClick="logVariable('hexbyte')" href="../../_variables/hexbyte.html">$hexbyte</a>));
<a name="l1059"><span class="linenum">1059</span></a>                              if (<a class="var it2034" onMouseOver="hilite(2034)" onMouseOut="lolite()" onClick="logVariable('decval')" href="../../_variables/decval.html">$decval</a> &gt; 127) {
<a name="l1060"><span class="linenum">1060</span></a>                                  <a class="var it2035" onMouseOver="hilite(2035)" onMouseOut="lolite()" onClick="logVariable('utf8decval')" href="../../_variables/utf8decval.html">$utf8decval</a> = <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>), 2));
<a name="l1061"><span class="linenum">1061</span></a>                                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2034" onMouseOver="hilite(2034)" onMouseOut="lolite()" onClick="logVariable('decval')" href="../../_variables/decval.html">$decval</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="var it2035" onMouseOver="hilite(2035)" onMouseOut="lolite()" onClick="logVariable('utf8decval')" href="../../_variables/utf8decval.html">$utf8decval</a>);
<a name="l1062"><span class="linenum">1062</span></a>                                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['utf8'][<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'][<a class="var it2034" onMouseOver="hilite(2034)" onMouseOut="lolite()" onClick="logVariable('decval')" href="../../_variables/decval.html">$decval</a>]] = <a class="var it2034" onMouseOver="hilite(2034)" onMouseOut="lolite()" onClick="logVariable('decval')" href="../../_variables/decval.html">$decval</a>;
<a name="l1063"><span class="linenum">1063</span></a>                              }
<a name="l1064"><span class="linenum">1064</span></a>                          }
<a name="l1065"><span class="linenum">1065</span></a>                      }
<a name="l1066"><span class="linenum">1066</span></a>                      if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>) {
<a name="l1067"><span class="linenum">1067</span></a>                          t3lib_div::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]));
<a name="l1068"><span class="linenum">1068</span></a>                      }
<a name="l1069"><span class="linenum">1069</span></a>                  }
<a name="l1070"><span class="linenum">1070</span></a>                  return 2;
<a name="l1071"><span class="linenum">1071</span></a>              } else {
<a name="l1072"><span class="linenum">1072</span></a>                  return FALSE;
<a name="l1073"><span class="linenum">1073</span></a>              }
<a name="l1074"><span class="linenum">1074</span></a>          } else {
<a name="l1075"><span class="linenum">1075</span></a>              return 1;
<a name="l1076"><span class="linenum">1076</span></a>          }
<a name="l1077"><span class="linenum">1077</span></a>      }
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>      <span class="comment">/**</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">     * This function initializes all UTF-8 character data tables.</span>
<a name="l1081"><span class="linenum">1081</span></a>  <span class="comment">     *</span>
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">     * PLEASE SEE: http://www.unicode.org/Public/UNIDATA/</span>
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment">     *</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * @param    string        Mode (&quot;case&quot;, &quot;ascii&quot;, ...)</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     * @return    integer        Returns FALSE on error, a TRUE value on success: 1 table already loaded, 2, cached version, 3 table parsed (and cached).</span>
<a name="l1086"><span class="linenum">1086</span></a>  <span class="comment">     * @access private</span>
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">     */</span>
<a name="l1088"><span class="linenum">1088</span></a>  	function <a class="function" onClick="logFunction('initUnicodeData')" href="../../_functions/initunicodedata.html" onMouseOver="funcPopup(event,'initunicodedata')">initUnicodeData</a>(<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> = NULL) {
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">            // cache files</span>
<a name="l1090"><span class="linenum">1090</span></a>          <a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a> = t3lib_div::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>('typo3temp/cs/cscase_utf-8.tbl');
<a name="l1091"><span class="linenum">1091</span></a>          <a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a> = t3lib_div::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>('typo3temp/cs/csascii_utf-8.tbl');
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">            // Only process if the tables are not yet loaded</span>
<a name="l1094"><span class="linenum">1094</span></a>          switch (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>) {
<a name="l1095"><span class="linenum">1095</span></a>              case 'case':
<a name="l1096"><span class="linenum">1096</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8'])) {
<a name="l1097"><span class="linenum">1097</span></a>                      return 1;
<a name="l1098"><span class="linenum">1098</span></a>                  }
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">                    // Use cached version if possible</span>
<a name="l1101"><span class="linenum">1101</span></a>                  if (<a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a>)) {
<a name="l1102"><span class="linenum">1102</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8'] = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a>));
<a name="l1103"><span class="linenum">1103</span></a>                      return 2;
<a name="l1104"><span class="linenum">1104</span></a>                  }
<a name="l1105"><span class="linenum">1105</span></a>                  break;
<a name="l1106"><span class="linenum">1106</span></a>  
<a name="l1107"><span class="linenum">1107</span></a>              case 'ascii':
<a name="l1108"><span class="linenum">1108</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'])) {
<a name="l1109"><span class="linenum">1109</span></a>                      return 1;
<a name="l1110"><span class="linenum">1110</span></a>                  }
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">                    // Use cached version if possible</span>
<a name="l1113"><span class="linenum">1113</span></a>                  if (<a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a>)) {
<a name="l1114"><span class="linenum">1114</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'] = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a>));
<a name="l1115"><span class="linenum">1115</span></a>                      return 2;
<a name="l1116"><span class="linenum">1116</span></a>                  }
<a name="l1117"><span class="linenum">1117</span></a>                  break;
<a name="l1118"><span class="linenum">1118</span></a>          }
<a name="l1119"><span class="linenum">1119</span></a>  
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment">            // process main Unicode data file</span>
<a name="l1121"><span class="linenum">1121</span></a>          <a class="var it2038" onMouseOver="hilite(2038)" onMouseOut="lolite()" onClick="logVariable('unicodeDataFile')" href="../../_variables/unicodeDataFile.html">$unicodeDataFile</a> = PATH_t3lib . 'unidata/UnicodeData.txt';
<a name="l1122"><span class="linenum">1122</span></a>          if (!(t3lib_div::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it2038" onMouseOver="hilite(2038)" onMouseOut="lolite()" onClick="logVariable('unicodeDataFile')" href="../../_variables/unicodeDataFile.html">$unicodeDataFile</a>) &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2038" onMouseOver="hilite(2038)" onMouseOut="lolite()" onClick="logVariable('unicodeDataFile')" href="../../_variables/unicodeDataFile.html">$unicodeDataFile</a>))) {
<a name="l1123"><span class="linenum">1123</span></a>              return FALSE;
<a name="l1124"><span class="linenum">1124</span></a>          }
<a name="l1125"><span class="linenum">1125</span></a>  
<a name="l1126"><span class="linenum">1126</span></a>          <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it2038" onMouseOver="hilite(2038)" onMouseOut="lolite()" onClick="logVariable('unicodeDataFile')" href="../../_variables/unicodeDataFile.html">$unicodeDataFile</a>, 'rb');
<a name="l1127"><span class="linenum">1127</span></a>          if (!<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>) {
<a name="l1128"><span class="linenum">1128</span></a>              return FALSE;
<a name="l1129"><span class="linenum">1129</span></a>          }
<a name="l1130"><span class="linenum">1130</span></a>  
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment">            // key = utf8 char (single codepoint), value = utf8 string (codepoint sequence)</span>
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment">            // note: we use the UTF-8 characters here and not the Unicode numbers to avoid conversion roundtrip in utf8_strtolower/-upper)</span>
<a name="l1133"><span class="linenum">1133</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8'] = array();
<a name="l1134"><span class="linenum">1134</span></a>          <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8']; <span class="comment">// a shorthand</span>
<a name="l1135"><span class="linenum">1135</span></a>          <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toUpper'] = array();
<a name="l1136"><span class="linenum">1136</span></a>          <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toLower'] = array();
<a name="l1137"><span class="linenum">1137</span></a>          <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toTitle'] = array();
<a name="l1138"><span class="linenum">1138</span></a>  
<a name="l1139"><span class="linenum">1139</span></a>          <a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a> = array(); <span class="comment">// array of temp. decompositions</span>
<a name="l1140"><span class="linenum">1140</span></a>          <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a> = array(); <span class="comment">// array of chars that are marks (eg. composing accents)</span>
<a name="l1141"><span class="linenum">1141</span></a>          <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a> = array(); <span class="comment">// array of chars that are numbers (eg. digits)</span>
<a name="l1142"><span class="linenum">1142</span></a>          <a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('omit')" href="../../_variables/omit.html">$omit</a> = array(); <span class="comment">// array of chars to be omitted (eg. Russian hard sign)</span>
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>          while (!<a class="phpfunction" onClick="logFunction('feof')" href="../../_functions/feof.html" onMouseOver="phpfuncPopup(event,'feof')">feof</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>)) {
<a name="l1145"><span class="linenum">1145</span></a>              <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('fgets')" href="../../_functions/fgets.html" onMouseOver="phpfuncPopup(event,'fgets')">fgets</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>, 4096);
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">                // has a lot of info</span>
<a name="l1147"><span class="linenum">1147</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../../_variables/cat.html">$cat</a>, , , <a class="var it2043" onMouseOver="hilite(2043)" onMouseOut="lolite()" onClick="logVariable('decomp')" href="../../_variables/decomp.html">$decomp</a>, , , <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('num')" href="../../_variables/num.html">$num</a>, , , , <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>, <a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>, <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>,) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(';', <a class="phpfunction" onClick="logFunction('rtrim')" href="../../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>));
<a name="l1148"><span class="linenum">1148</span></a>  
<a name="l1149"><span class="linenum">1149</span></a>              <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>);
<a name="l1150"><span class="linenum">1150</span></a>              if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 0xFFFF) {
<a name="l1151"><span class="linenum">1151</span></a>                  break;
<a name="l1152"><span class="linenum">1152</span></a>              } <span class="comment">// only process the BMP</span>
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>              <a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>);
<a name="l1155"><span class="linenum">1155</span></a>  
<a name="l1156"><span class="linenum">1156</span></a>              if (<a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>) {
<a name="l1157"><span class="linenum">1157</span></a>                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toUpper'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>));
<a name="l1158"><span class="linenum">1158</span></a>              }
<a name="l1159"><span class="linenum">1159</span></a>              if (<a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>) {
<a name="l1160"><span class="linenum">1160</span></a>                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toLower'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>));
<a name="l1161"><span class="linenum">1161</span></a>              }
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment">                // store &quot;title&quot; only when different from &quot;upper&quot; (only a few)</span>
<a name="l1163"><span class="linenum">1163</span></a>              if (<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a> &amp;&amp; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a> != <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>) {
<a name="l1164"><span class="linenum">1164</span></a>                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toTitle'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>));
<a name="l1165"><span class="linenum">1165</span></a>              }
<a name="l1166"><span class="linenum">1166</span></a>  
<a name="l1167"><span class="linenum">1167</span></a>              switch (<a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../../_variables/cat.html">$cat</a>{0}) {
<a name="l1168"><span class="linenum">1168</span></a>                  case 'M': // mark (accent, umlaut, ...)
<a name="l1169"><span class="linenum">1169</span></a>                      <a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = 1;
<a name="l1170"><span class="linenum">1170</span></a>                      break;
<a name="l1171"><span class="linenum">1171</span></a>  
<a name="l1172"><span class="linenum">1172</span></a>                  case 'N': // numeric value
<a name="l1173"><span class="linenum">1173</span></a>                      if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 0x80 &amp;&amp; <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('num')" href="../../_variables/num.html">$num</a> != '') {
<a name="l1174"><span class="linenum">1174</span></a>                          <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('num')" href="../../_variables/num.html">$num</a>;
<a name="l1175"><span class="linenum">1175</span></a>                      }
<a name="l1176"><span class="linenum">1176</span></a>              }
<a name="l1177"><span class="linenum">1177</span></a>  
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment">                // accented Latin letters without &quot;official&quot; decomposition</span>
<a name="l1179"><span class="linenum">1179</span></a>              <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a> = array();
<a name="l1180"><span class="linenum">1180</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^LATIN (SMALL|CAPITAL) LETTER ([A-Z]) WITH/', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>) &amp;&amp; !<a class="var it2043" onMouseOver="hilite(2043)" onMouseOut="lolite()" onClick="logVariable('decomp')" href="../../_variables/decomp.html">$decomp</a>) {
<a name="l1181"><span class="linenum">1181</span></a>                  <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2]);
<a name="l1182"><span class="linenum">1182</span></a>                  if (<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1] == 'SMALL') {
<a name="l1183"><span class="linenum">1183</span></a>                      <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> += 32;
<a name="l1184"><span class="linenum">1184</span></a>                  }
<a name="l1185"><span class="linenum">1185</span></a>  
<a name="l1186"><span class="linenum">1186</span></a>                  <a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = array(<a class="phpfunction" onClick="logFunction('dechex')" href="../../_functions/dechex.html" onMouseOver="phpfuncPopup(event,'dechex')">dechex</a>(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>));
<a name="l1187"><span class="linenum">1187</span></a>                  continue;
<a name="l1188"><span class="linenum">1188</span></a>              }
<a name="l1189"><span class="linenum">1189</span></a>  
<a name="l1190"><span class="linenum">1190</span></a>              <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a> = array();
<a name="l1191"><span class="linenum">1191</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/(&lt;.*&gt;)? *(.+)/', <a class="var it2043" onMouseOver="hilite(2043)" onMouseOut="lolite()" onClick="logVariable('decomp')" href="../../_variables/decomp.html">$decomp</a>, <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>)) {
<a name="l1192"><span class="linenum">1192</span></a>                  switch (<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1]) {
<a name="l1193"><span class="linenum">1193</span></a>                      case '&lt;circle&gt;': // add parenthesis as circle replacement, eg (1)
<a name="l1194"><span class="linenum">1194</span></a>                          <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2] = '0028 ' . <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2] . ' 0029';
<a name="l1195"><span class="linenum">1195</span></a>                          break;
<a name="l1196"><span class="linenum">1196</span></a>  
<a name="l1197"><span class="linenum">1197</span></a>                      case '&lt;square&gt;': // add square brackets as square replacement, eg [1]
<a name="l1198"><span class="linenum">1198</span></a>                          <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2] = '005B ' . <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2] . ' 005D';
<a name="l1199"><span class="linenum">1199</span></a>                          break;
<a name="l1200"><span class="linenum">1200</span></a>  
<a name="l1201"><span class="linenum">1201</span></a>                      case '&lt;compat&gt;': // ignore multi char decompositions that start with a space
<a name="l1202"><span class="linenum">1202</span></a>                          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^0020 /', <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2])) {
<a name="l1203"><span class="linenum">1203</span></a>                              continue 2;
<a name="l1204"><span class="linenum">1204</span></a>                          }
<a name="l1205"><span class="linenum">1205</span></a>                          break;
<a name="l1206"><span class="linenum">1206</span></a>  
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">                        // ignore Arabic and vertical layout presentation decomposition</span>
<a name="l1208"><span class="linenum">1208</span></a>                      case '&lt;initial&gt;':
<a name="l1209"><span class="linenum">1209</span></a>                      case '&lt;medial&gt;':
<a name="l1210"><span class="linenum">1210</span></a>                      case '&lt;final&gt;':
<a name="l1211"><span class="linenum">1211</span></a>                      case '&lt;isolated&gt;':
<a name="l1212"><span class="linenum">1212</span></a>                      case '&lt;vertical&gt;':
<a name="l1213"><span class="linenum">1213</span></a>                          continue 2;
<a name="l1214"><span class="linenum">1214</span></a>                  }
<a name="l1215"><span class="linenum">1215</span></a>                  <a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[2]);
<a name="l1216"><span class="linenum">1216</span></a>              }
<a name="l1217"><span class="linenum">1217</span></a>          }
<a name="l1218"><span class="linenum">1218</span></a>          <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>);
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">            // process additional Unicode data for casing (allow folded characters to expand into a sequence)</span>
<a name="l1221"><span class="linenum">1221</span></a>          <a class="var it2046" onMouseOver="hilite(2046)" onMouseOut="lolite()" onClick="logVariable('specialCasingFile')" href="../../_variables/specialCasingFile.html">$specialCasingFile</a> = PATH_t3lib . 'unidata/SpecialCasing.txt';
<a name="l1222"><span class="linenum">1222</span></a>          if (t3lib_div::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it2046" onMouseOver="hilite(2046)" onMouseOut="lolite()" onClick="logVariable('specialCasingFile')" href="../../_variables/specialCasingFile.html">$specialCasingFile</a>) &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2046" onMouseOver="hilite(2046)" onMouseOut="lolite()" onClick="logVariable('specialCasingFile')" href="../../_variables/specialCasingFile.html">$specialCasingFile</a>)) {
<a name="l1223"><span class="linenum">1223</span></a>              <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it2046" onMouseOver="hilite(2046)" onMouseOut="lolite()" onClick="logVariable('specialCasingFile')" href="../../_variables/specialCasingFile.html">$specialCasingFile</a>, 'rb');
<a name="l1224"><span class="linenum">1224</span></a>              if (<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>) {
<a name="l1225"><span class="linenum">1225</span></a>                  while (!<a class="phpfunction" onClick="logFunction('feof')" href="../../_functions/feof.html" onMouseOver="phpfuncPopup(event,'feof')">feof</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>)) {
<a name="l1226"><span class="linenum">1226</span></a>                      <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('fgets')" href="../../_functions/fgets.html" onMouseOver="phpfuncPopup(event,'fgets')">fgets</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>, 4096);
<a name="l1227"><span class="linenum">1227</span></a>                      if (<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>{0} != '#' &amp;&amp; <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>) != '') {
<a name="l1228"><span class="linenum">1228</span></a>  
<a name="l1229"><span class="linenum">1229</span></a>                          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>, <a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>, <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>, <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>, <a class="var it2047" onMouseOver="hilite(2047)" onMouseOut="lolite()" onClick="logVariable('cond')" href="../../_variables/cond.html">$cond</a>) = t3lib_div::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(';', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>);
<a name="l1230"><span class="linenum">1230</span></a>                          if (<a class="var it2047" onMouseOver="hilite(2047)" onMouseOut="lolite()" onClick="logVariable('cond')" href="../../_variables/cond.html">$cond</a> == '' || <a class="var it2047" onMouseOver="hilite(2047)" onMouseOut="lolite()" onClick="logVariable('cond')" href="../../_variables/cond.html">$cond</a>{0} == '#') {
<a name="l1231"><span class="linenum">1231</span></a>                              <a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>));
<a name="l1232"><span class="linenum">1232</span></a>                              if (<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a> != <a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>) {
<a name="l1233"><span class="linenum">1233</span></a>                                  <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it2044" onMouseOver="hilite(2044)" onMouseOut="lolite()" onClick="logVariable('lower')" href="../../_variables/lower.html">$lower</a>);
<a name="l1234"><span class="linenum">1234</span></a>                                  for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; isset(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1235"><span class="linenum">1235</span></a>                                      <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]));
<a name="l1236"><span class="linenum">1236</span></a>                                  }
<a name="l1237"><span class="linenum">1237</span></a>                                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toLower'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('', <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1238"><span class="linenum">1238</span></a>                              }
<a name="l1239"><span class="linenum">1239</span></a>                              if (<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a> != <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a> &amp;&amp; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a> != <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>) {
<a name="l1240"><span class="linenum">1240</span></a>                                  <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../_variables/title.html">$title</a>);
<a name="l1241"><span class="linenum">1241</span></a>                                  for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; isset(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1242"><span class="linenum">1242</span></a>                                      <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]));
<a name="l1243"><span class="linenum">1243</span></a>                                  }
<a name="l1244"><span class="linenum">1244</span></a>                                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toTitle'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('', <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1245"><span class="linenum">1245</span></a>                              }
<a name="l1246"><span class="linenum">1246</span></a>                              if (<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a> != <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>) {
<a name="l1247"><span class="linenum">1247</span></a>                                  <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it63" onMouseOver="hilite(63)" onMouseOut="lolite()" onClick="logVariable('upper')" href="../../_variables/upper.html">$upper</a>);
<a name="l1248"><span class="linenum">1248</span></a>                                  for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; isset(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1249"><span class="linenum">1249</span></a>                                      <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]));
<a name="l1250"><span class="linenum">1250</span></a>                                  }
<a name="l1251"><span class="linenum">1251</span></a>                                  <a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>['toUpper'][<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('', <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1252"><span class="linenum">1252</span></a>                              }
<a name="l1253"><span class="linenum">1253</span></a>                          }
<a name="l1254"><span class="linenum">1254</span></a>                      }
<a name="l1255"><span class="linenum">1255</span></a>                  }
<a name="l1256"><span class="linenum">1256</span></a>                  <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>);
<a name="l1257"><span class="linenum">1257</span></a>              }
<a name="l1258"><span class="linenum">1258</span></a>          }
<a name="l1259"><span class="linenum">1259</span></a>  
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">            // process custom decompositions</span>
<a name="l1261"><span class="linenum">1261</span></a>          <a class="var it2048" onMouseOver="hilite(2048)" onMouseOut="lolite()" onClick="logVariable('customTranslitFile')" href="../../_variables/customTranslitFile.html">$customTranslitFile</a> = PATH_t3lib . 'unidata/Translit.txt';
<a name="l1262"><span class="linenum">1262</span></a>          if (t3lib_div::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it2048" onMouseOver="hilite(2048)" onMouseOut="lolite()" onClick="logVariable('customTranslitFile')" href="../../_variables/customTranslitFile.html">$customTranslitFile</a>) &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2048" onMouseOver="hilite(2048)" onMouseOut="lolite()" onClick="logVariable('customTranslitFile')" href="../../_variables/customTranslitFile.html">$customTranslitFile</a>)) {
<a name="l1263"><span class="linenum">1263</span></a>              <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it2048" onMouseOver="hilite(2048)" onMouseOut="lolite()" onClick="logVariable('customTranslitFile')" href="../../_variables/customTranslitFile.html">$customTranslitFile</a>, 'rb');
<a name="l1264"><span class="linenum">1264</span></a>              if (<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>) {
<a name="l1265"><span class="linenum">1265</span></a>                  while (!<a class="phpfunction" onClick="logFunction('feof')" href="../../_functions/feof.html" onMouseOver="phpfuncPopup(event,'feof')">feof</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>)) {
<a name="l1266"><span class="linenum">1266</span></a>                      <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('fgets')" href="../../_functions/fgets.html" onMouseOver="phpfuncPopup(event,'fgets')">fgets</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>, 4096);
<a name="l1267"><span class="linenum">1267</span></a>                      if (<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>{0} != '#' &amp;&amp; <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>) != '') {
<a name="l1268"><span class="linenum">1268</span></a>                          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>, <a class="var it2049" onMouseOver="hilite(2049)" onMouseOut="lolite()" onClick="logVariable('translit')" href="../../_variables/translit.html">$translit</a>) = t3lib_div::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(';', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>);
<a name="l1269"><span class="linenum">1269</span></a>                          if (!<a class="var it2049" onMouseOver="hilite(2049)" onMouseOut="lolite()" onClick="logVariable('translit')" href="../../_variables/translit.html">$translit</a>) {
<a name="l1270"><span class="linenum">1270</span></a>                              <a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('omit')" href="../../_variables/omit.html">$omit</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = 1;
<a name="l1271"><span class="linenum">1271</span></a>                          }
<a name="l1272"><span class="linenum">1272</span></a>                          <a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[&quot;U+<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>&quot;] = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it2049" onMouseOver="hilite(2049)" onMouseOut="lolite()" onClick="logVariable('translit')" href="../../_variables/translit.html">$translit</a>);
<a name="l1273"><span class="linenum">1273</span></a>  
<a name="l1274"><span class="linenum">1274</span></a>                      }
<a name="l1275"><span class="linenum">1275</span></a>                  }
<a name="l1276"><span class="linenum">1276</span></a>                  <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>);
<a name="l1277"><span class="linenum">1277</span></a>              }
<a name="l1278"><span class="linenum">1278</span></a>          }
<a name="l1279"><span class="linenum">1279</span></a>  
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">            // decompose and remove marks; inspired by unac (Loic Dachary &lt;loic@senga.org&gt;)</span>
<a name="l1281"><span class="linenum">1281</span></a>          foreach (<a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a> as <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> =&gt; <a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>) {
<a name="l1282"><span class="linenum">1282</span></a>              <a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a> = array();
<a name="l1283"><span class="linenum">1283</span></a>  
<a name="l1284"><span class="linenum">1284</span></a>              while (<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>)) {
<a name="l1285"><span class="linenum">1285</span></a>                  if (isset(<a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[&quot;U+<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a>&quot;])) { // do recursive decomposition
<a name="l1286"><span class="linenum">1286</span></a>                      foreach (<a class="phpfunction" onClick="logFunction('array_reverse')" href="../../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[&quot;U+<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a>&quot;]) as <a class="var it2052" onMouseOver="hilite(2052)" onMouseOut="lolite()" onClick="logVariable('cv')" href="../../_variables/cv.html">$cv</a>) {
<a name="l1287"><span class="linenum">1287</span></a>                          <a class="phpfunction" onClick="logFunction('array_unshift')" href="../../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>, <a class="var it2052" onMouseOver="hilite(2052)" onMouseOut="lolite()" onClick="logVariable('cv')" href="../../_variables/cv.html">$cv</a>);
<a name="l1288"><span class="linenum">1288</span></a>                      }
<a name="l1289"><span class="linenum">1289</span></a>                  } elseif (!isset(<a class="var it1972" onMouseOver="hilite(1972)" onMouseOut="lolite()" onClick="logVariable('mark')" href="../../_variables/mark.html">$mark</a>[&quot;U+<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a>&quot;])) { // remove mark
<a name="l1290"><span class="linenum">1290</span></a>                      <a class="phpfunction" onClick="logFunction('array_push')" href="../../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a>, <a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a>);
<a name="l1291"><span class="linenum">1291</span></a>                  }
<a name="l1292"><span class="linenum">1292</span></a>              }
<a name="l1293"><span class="linenum">1293</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a>) || isset(<a class="var it2042" onMouseOver="hilite(2042)" onMouseOut="lolite()" onClick="logVariable('omit')" href="../../_variables/omit.html">$omit</a>[<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>])) {
<a name="l1294"><span class="linenum">1294</span></a>                  <a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>] = <a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a>;
<a name="l1295"><span class="linenum">1295</span></a>              } else {
<a name="l1296"><span class="linenum">1296</span></a>                  unset(<a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a>[<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>]);
<a name="l1297"><span class="linenum">1297</span></a>              }
<a name="l1298"><span class="linenum">1298</span></a>          }
<a name="l1299"><span class="linenum">1299</span></a>  
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">            // create ascii only mapping</span>
<a name="l1301"><span class="linenum">1301</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'] = array();
<a name="l1302"><span class="linenum">1302</span></a>          <a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('ascii')" href="../../_variables/ascii.html">$ascii</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'];
<a name="l1303"><span class="linenum">1303</span></a>  
<a name="l1304"><span class="linenum">1304</span></a>          foreach (<a class="var it2041" onMouseOver="hilite(2041)" onMouseOut="lolite()" onClick="logVariable('decomposition')" href="../../_variables/decomposition.html">$decomposition</a> as <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> =&gt; <a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>) {
<a name="l1305"><span class="linenum">1305</span></a>              <a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a> = array();
<a name="l1306"><span class="linenum">1306</span></a>              while (<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>)) {
<a name="l1307"><span class="linenum">1307</span></a>                  <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it2051" onMouseOver="hilite(2051)" onMouseOut="lolite()" onClick="logVariable('code_value')" href="../../_variables/code_value.html">$code_value</a>);
<a name="l1308"><span class="linenum">1308</span></a>                  if (<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a> &gt; 127) {
<a name="l1309"><span class="linenum">1309</span></a>                      continue 2;
<a name="l1310"><span class="linenum">1310</span></a>                  } <span class="comment">// skip decompositions containing non-ASCII chars</span>
<a name="l1311"><span class="linenum">1311</span></a>                  else
<a name="l1312"><span class="linenum">1312</span></a>                  {
<a name="l1313"><span class="linenum">1313</span></a>                      <a class="phpfunction" onClick="logFunction('array_push')" href="../../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../../_variables/ord.html">$ord</a>));
<a name="l1314"><span class="linenum">1314</span></a>                  }
<a name="l1315"><span class="linenum">1315</span></a>              }
<a name="l1316"><span class="linenum">1316</span></a>              <a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('ascii')" href="../../_variables/ascii.html">$ascii</a>[<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>))] = <a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('', <a class="var it2050" onMouseOver="hilite(2050)" onMouseOut="lolite()" onClick="logVariable('code_decomp')" href="../../_variables/code_decomp.html">$code_decomp</a>);
<a name="l1317"><span class="linenum">1317</span></a>          }
<a name="l1318"><span class="linenum">1318</span></a>  
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">            // add numeric decompositions</span>
<a name="l1320"><span class="linenum">1320</span></a>          foreach (<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a> as <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> =&gt; <a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>) {
<a name="l1321"><span class="linenum">1321</span></a>              <a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('UnumberToChar')" href="../../_functions/unumbertochar.html" onMouseOver="funcPopup(event,'unumbertochar')">UnumberToChar</a>(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>));
<a name="l1322"><span class="linenum">1322</span></a>              if (!isset(<a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('ascii')" href="../../_variables/ascii.html">$ascii</a>[<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>])) {
<a name="l1323"><span class="linenum">1323</span></a>                  <a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('ascii')" href="../../_variables/ascii.html">$ascii</a>[<a class="var it2045" onMouseOver="hilite(2045)" onMouseOut="lolite()" onClick="logVariable('utf8_char')" href="../../_variables/utf8_char.html">$utf8_char</a>] = <a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>;
<a name="l1324"><span class="linenum">1324</span></a>              }
<a name="l1325"><span class="linenum">1325</span></a>          }
<a name="l1326"><span class="linenum">1326</span></a>  
<a name="l1327"><span class="linenum">1327</span></a>          if (<a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a>) {
<a name="l1328"><span class="linenum">1328</span></a>              t3lib_div::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it2036" onMouseOver="hilite(2036)" onMouseOut="lolite()" onClick="logVariable('cacheFileCase')" href="../../_variables/cacheFileCase.html">$cacheFileCase</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it2040" onMouseOver="hilite(2040)" onMouseOut="lolite()" onClick="logVariable('utf8CaseFolding')" href="../../_variables/utf8CaseFolding.html">$utf8CaseFolding</a>));
<a name="l1329"><span class="linenum">1329</span></a>          }
<a name="l1330"><span class="linenum">1330</span></a>  
<a name="l1331"><span class="linenum">1331</span></a>          if (<a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a>) {
<a name="l1332"><span class="linenum">1332</span></a>              t3lib_div::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it2037" onMouseOver="hilite(2037)" onMouseOut="lolite()" onClick="logVariable('cacheFileASCII')" href="../../_variables/cacheFileASCII.html">$cacheFileASCII</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it2053" onMouseOver="hilite(2053)" onMouseOut="lolite()" onClick="logVariable('ascii')" href="../../_variables/ascii.html">$ascii</a>));
<a name="l1333"><span class="linenum">1333</span></a>          }
<a name="l1334"><span class="linenum">1334</span></a>  
<a name="l1335"><span class="linenum">1335</span></a>          return 3;
<a name="l1336"><span class="linenum">1336</span></a>      }
<a name="l1337"><span class="linenum">1337</span></a>  
<a name="l1338"><span class="linenum">1338</span></a>      <span class="comment">/**</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * This function initializes the folding table for a charset other than UTF-8.</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * This function is automatically called by the case folding functions.</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     *</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">     * @param    string        Charset for which to initialize case folding.</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">     * @return    integer        Returns FALSE on error, a TRUE value on success: 1 table already loaded, 2, cached version, 3 table parsed (and cached).</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment">     * @access private</span>
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment">     */</span>
<a name="l1346"><span class="linenum">1346</span></a>  	function <a class="function" onClick="logFunction('initCaseFolding')" href="../../_functions/initcasefolding.html" onMouseOver="funcPopup(event,'initcasefolding')">initCaseFolding</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">            // Only process if the case table is not yet loaded:</span>
<a name="l1348"><span class="linenum">1348</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l1349"><span class="linenum">1349</span></a>              return 1;
<a name="l1350"><span class="linenum">1350</span></a>          }
<a name="l1351"><span class="linenum">1351</span></a>  
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">            // Use cached version if possible</span>
<a name="l1353"><span class="linenum">1353</span></a>          <a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> = t3lib_div::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>('typo3temp/cs/cscase_' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '.tbl');
<a name="l1354"><span class="linenum">1354</span></a>          if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>)) {
<a name="l1355"><span class="linenum">1355</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>] = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>));
<a name="l1356"><span class="linenum">1356</span></a>              return 2;
<a name="l1357"><span class="linenum">1357</span></a>          }
<a name="l1358"><span class="linenum">1358</span></a>  
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">            // init UTF-8 conversion for this charset</span>
<a name="l1360"><span class="linenum">1360</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCharset')" href="../../_functions/initcharset.html" onMouseOver="funcPopup(event,'initcharset')">initCharset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l1361"><span class="linenum">1361</span></a>              return FALSE;
<a name="l1362"><span class="linenum">1362</span></a>          }
<a name="l1363"><span class="linenum">1363</span></a>  
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">            // UTF-8 case folding is used as the base conversion table</span>
<a name="l1365"><span class="linenum">1365</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initUnicodeData')" href="../../_functions/initunicodedata.html" onMouseOver="funcPopup(event,'initunicodedata')">initUnicodeData</a>('case')) {
<a name="l1366"><span class="linenum">1366</span></a>              return FALSE;
<a name="l1367"><span class="linenum">1367</span></a>          }
<a name="l1368"><span class="linenum">1368</span></a>  
<a name="l1369"><span class="linenum">1369</span></a>          <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('nochar')" href="../../_variables/nochar.html">$nochar</a> = <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l1370"><span class="linenum">1370</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'] as <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('ci')" href="../../_variables/ci.html">$ci</a> =&gt; <a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>) {
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">                // reconvert to charset (don't use chr() of numeric value, might be muli-byte)</span>
<a name="l1372"><span class="linenum">1372</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1373"><span class="linenum">1373</span></a>  
<a name="l1374"><span class="linenum">1374</span></a>  <span class="comment">                // $cc = $this-&gt;conv($this-&gt;caseFolding['utf-8']['toUpper'][$utf8], 'utf-8', $charset);</span>
<a name="l1375"><span class="linenum">1375</span></a>              <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8']['toUpper'][<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>], <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1376"><span class="linenum">1376</span></a>              if (<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != '' &amp;&amp; <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('nochar')" href="../../_variables/nochar.html">$nochar</a>) {
<a name="l1377"><span class="linenum">1377</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['toUpper'][<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>] = <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a>;
<a name="l1378"><span class="linenum">1378</span></a>              }
<a name="l1379"><span class="linenum">1379</span></a>  
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">                // $cc = $this-&gt;conv($this-&gt;caseFolding['utf-8']['toLower'][$utf8], 'utf-8', $charset);</span>
<a name="l1381"><span class="linenum">1381</span></a>              <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8']['toLower'][<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>], <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1382"><span class="linenum">1382</span></a>              if (<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != '' &amp;&amp; <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('nochar')" href="../../_variables/nochar.html">$nochar</a>) {
<a name="l1383"><span class="linenum">1383</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['toLower'][<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>] = <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a>;
<a name="l1384"><span class="linenum">1384</span></a>              }
<a name="l1385"><span class="linenum">1385</span></a>  
<a name="l1386"><span class="linenum">1386</span></a>  <span class="comment">                // $cc = $this-&gt;conv($this-&gt;caseFolding['utf-8']['toTitle'][$utf8], 'utf-8', $charset);</span>
<a name="l1387"><span class="linenum">1387</span></a>              <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8']['toTitle'][<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>], <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1388"><span class="linenum">1388</span></a>              if (<a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != '' &amp;&amp; <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a> != <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('nochar')" href="../../_variables/nochar.html">$nochar</a>) {
<a name="l1389"><span class="linenum">1389</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['toTitle'][<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>] = <a class="var it2056" onMouseOver="hilite(2056)" onMouseOut="lolite()" onClick="logVariable('cc')" href="../../_variables/cc.html">$cc</a>;
<a name="l1390"><span class="linenum">1390</span></a>              }
<a name="l1391"><span class="linenum">1391</span></a>          }
<a name="l1392"><span class="linenum">1392</span></a>  
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment">            // add the ASCII case table</span>
<a name="l1394"><span class="linenum">1394</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>('a'); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>('z'); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1395"><span class="linenum">1395</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['toUpper'][<a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>)] = <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> - 32);
<a name="l1396"><span class="linenum">1396</span></a>          }
<a name="l1397"><span class="linenum">1397</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>('A'); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>('Z'); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1398"><span class="linenum">1398</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['toLower'][<a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>)] = <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> + 32);
<a name="l1399"><span class="linenum">1399</span></a>          }
<a name="l1400"><span class="linenum">1400</span></a>  
<a name="l1401"><span class="linenum">1401</span></a>          if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>) {
<a name="l1402"><span class="linenum">1402</span></a>              t3lib_div::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]));
<a name="l1403"><span class="linenum">1403</span></a>          }
<a name="l1404"><span class="linenum">1404</span></a>  
<a name="l1405"><span class="linenum">1405</span></a>          return 3;
<a name="l1406"><span class="linenum">1406</span></a>      }
<a name="l1407"><span class="linenum">1407</span></a>  
<a name="l1408"><span class="linenum">1408</span></a>      <span class="comment">/**</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     * This function initializes the to-ASCII conversion table for a charset other than UTF-8.</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     * This function is automatically called by the ASCII transliteration functions.</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     *</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     * @param    string        Charset for which to initialize conversion.</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * @return    integer        Returns FALSE on error, a TRUE value on success: 1 table already loaded, 2, cached version, 3 table parsed (and cached).</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     * @access private</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">     */</span>
<a name="l1416"><span class="linenum">1416</span></a>  	function <a class="function" onClick="logFunction('initToASCII')" href="../../_functions/inittoascii.html" onMouseOver="funcPopup(event,'inittoascii')">initToASCII</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">            // Only process if the case table is not yet loaded:</span>
<a name="l1418"><span class="linenum">1418</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l1419"><span class="linenum">1419</span></a>              return 1;
<a name="l1420"><span class="linenum">1420</span></a>          }
<a name="l1421"><span class="linenum">1421</span></a>  
<a name="l1422"><span class="linenum">1422</span></a>  <span class="comment">            // Use cached version if possible</span>
<a name="l1423"><span class="linenum">1423</span></a>          <a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> = t3lib_div::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>('typo3temp/cs/csascii_' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '.tbl');
<a name="l1424"><span class="linenum">1424</span></a>          if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>)) {
<a name="l1425"><span class="linenum">1425</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>] = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(t3lib_div::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>));
<a name="l1426"><span class="linenum">1426</span></a>              return 2;
<a name="l1427"><span class="linenum">1427</span></a>          }
<a name="l1428"><span class="linenum">1428</span></a>  
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment">            // init UTF-8 conversion for this charset</span>
<a name="l1430"><span class="linenum">1430</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCharset')" href="../../_functions/initcharset.html" onMouseOver="funcPopup(event,'initcharset')">initCharset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l1431"><span class="linenum">1431</span></a>              return FALSE;
<a name="l1432"><span class="linenum">1432</span></a>          }
<a name="l1433"><span class="linenum">1433</span></a>  
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment">            // UTF-8/ASCII transliteration is used as the base conversion table</span>
<a name="l1435"><span class="linenum">1435</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initUnicodeData')" href="../../_functions/initunicodedata.html" onMouseOver="funcPopup(event,'initunicodedata')">initUnicodeData</a>('ascii')) {
<a name="l1436"><span class="linenum">1436</span></a>              return FALSE;
<a name="l1437"><span class="linenum">1437</span></a>          }
<a name="l1438"><span class="linenum">1438</span></a>  
<a name="l1439"><span class="linenum">1439</span></a>          <a class="var it2054" onMouseOver="hilite(2054)" onMouseOut="lolite()" onClick="logVariable('nochar')" href="../../_variables/nochar.html">$nochar</a> = <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('noCharByteVal')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/noCharByteVal.html">noCharByteVal</a>);
<a name="l1440"><span class="linenum">1440</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parsedCharsets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/parsedCharsets.html">parsedCharsets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]['local'] as <a class="var it2055" onMouseOver="hilite(2055)" onMouseOut="lolite()" onClick="logVariable('ci')" href="../../_variables/ci.html">$ci</a> =&gt; <a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>) {
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">                // reconvert to charset (don't use chr() of numeric value, might be muli-byte)</span>
<a name="l1442"><span class="linenum">1442</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1443"><span class="linenum">1443</span></a>  
<a name="l1444"><span class="linenum">1444</span></a>              if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'][<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>])) {
<a name="l1445"><span class="linenum">1445</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>][<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'][<a class="var it2032" onMouseOver="hilite(2032)" onMouseOut="lolite()" onClick="logVariable('utf8')" href="../../_variables/utf8.html">$utf8</a>];
<a name="l1446"><span class="linenum">1446</span></a>              }
<a name="l1447"><span class="linenum">1447</span></a>          }
<a name="l1448"><span class="linenum">1448</span></a>  
<a name="l1449"><span class="linenum">1449</span></a>          if (<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>) {
<a name="l1450"><span class="linenum">1450</span></a>              t3lib_div::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it2029" onMouseOver="hilite(2029)" onMouseOut="lolite()" onClick="logVariable('cacheFile')" href="../../_variables/cacheFile.html">$cacheFile</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]));
<a name="l1451"><span class="linenum">1451</span></a>          }
<a name="l1452"><span class="linenum">1452</span></a>  
<a name="l1453"><span class="linenum">1453</span></a>          return 3;
<a name="l1454"><span class="linenum">1454</span></a>      }
<a name="l1455"><span class="linenum">1455</span></a>  
<a name="l1456"><span class="linenum">1456</span></a>  
<a name="l1457"><span class="linenum">1457</span></a>      <span class="comment">/********************************************</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     *</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment">     * String operation functions</span>
<a name="l1460"><span class="linenum">1460</span></a>  <span class="comment">     *</span>
<a name="l1461"><span class="linenum">1461</span></a>  <span class="comment">     ********************************************/</span>
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>      <span class="comment">/**</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">     * Returns a part of a string.</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     * Unit-tested by Kasper (single byte charsets only)</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     *</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     * @param    string        The character set</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     * @param    string        Character string</span>
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment">     * @param    integer        Start position (character position)</span>
<a name="l1470"><span class="linenum">1470</span></a>  <span class="comment">     * @param    integer        Length (in characters)</span>
<a name="l1471"><span class="linenum">1471</span></a>  <span class="comment">     * @return    string        The substring</span>
<a name="l1472"><span class="linenum">1472</span></a>  <span class="comment">     * @see substr(), mb_substr()</span>
<a name="l1473"><span class="linenum">1473</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment">     */</span>
<a name="l1475"><span class="linenum">1475</span></a>  	function <a class="function" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="funcPopup(event,'substr')">substr</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = NULL) {
<a name="l1476"><span class="linenum">1476</span></a>          if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> === 0 || <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> === '') {
<a name="l1477"><span class="linenum">1477</span></a>              return '';
<a name="l1478"><span class="linenum">1478</span></a>          }
<a name="l1479"><span class="linenum">1479</span></a>  
<a name="l1480"><span class="linenum">1480</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1481"><span class="linenum">1481</span></a>  <span class="comment">                // cannot omit $len, when specifying charset</span>
<a name="l1482"><span class="linenum">1482</span></a>              if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> == NULL) {
<a name="l1483"><span class="linenum">1483</span></a>                  <a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a> = <a class="phpfunction" onClick="logFunction('mb_internal_encoding')" href="../../_functions/mb_internal_encoding.html" onMouseOver="phpfuncPopup(event,'mb_internal_encoding')">mb_internal_encoding</a>(); <span class="comment">// save internal encoding</span>
<a name="l1484"><span class="linenum">1484</span></a>                  <a class="phpfunction" onClick="logFunction('mb_internal_encoding')" href="../../_functions/mb_internal_encoding.html" onMouseOver="phpfuncPopup(event,'mb_internal_encoding')">mb_internal_encoding</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1485"><span class="linenum">1485</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('mb_substr')" href="../../_functions/mb_substr.html" onMouseOver="phpfuncPopup(event,'mb_substr')">mb_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>);
<a name="l1486"><span class="linenum">1486</span></a>                  <a class="phpfunction" onClick="logFunction('mb_internal_encoding')" href="../../_functions/mb_internal_encoding.html" onMouseOver="phpfuncPopup(event,'mb_internal_encoding')">mb_internal_encoding</a>(<a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a>); <span class="comment">// restore internal encoding</span>
<a name="l1487"><span class="linenum">1487</span></a>  
<a name="l1488"><span class="linenum">1488</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1489"><span class="linenum">1489</span></a>              }
<a name="l1490"><span class="linenum">1490</span></a>              else {
<a name="l1491"><span class="linenum">1491</span></a>                  return <a class="phpfunction" onClick="logFunction('mb_substr')" href="../../_functions/mb_substr.html" onMouseOver="phpfuncPopup(event,'mb_substr')">mb_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1492"><span class="linenum">1492</span></a>              }
<a name="l1493"><span class="linenum">1493</span></a>          } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'iconv') {
<a name="l1494"><span class="linenum">1494</span></a>  <span class="comment">                // cannot omit $len, when specifying charset</span>
<a name="l1495"><span class="linenum">1495</span></a>              if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> == NULL) {
<a name="l1496"><span class="linenum">1496</span></a>                  <a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a> = <a class="phpfunction" onClick="logFunction('iconv_get_encoding')" href="../../_functions/iconv_get_encoding.html" onMouseOver="phpfuncPopup(event,'iconv_get_encoding')">iconv_get_encoding</a>('internal_encoding'); <span class="comment">// save internal encoding</span>
<a name="l1497"><span class="linenum">1497</span></a>                  <a class="phpfunction" onClick="logFunction('iconv_set_encoding')" href="../../_functions/iconv_set_encoding.html" onMouseOver="phpfuncPopup(event,'iconv_set_encoding')">iconv_set_encoding</a>('internal_encoding', <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1498"><span class="linenum">1498</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('iconv_substr')" href="../../_functions/iconv_substr.html" onMouseOver="phpfuncPopup(event,'iconv_substr')">iconv_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>);
<a name="l1499"><span class="linenum">1499</span></a>                  <a class="phpfunction" onClick="logFunction('iconv_set_encoding')" href="../../_functions/iconv_set_encoding.html" onMouseOver="phpfuncPopup(event,'iconv_set_encoding')">iconv_set_encoding</a>('internal_encoding', <a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a>); <span class="comment">// restore internal encoding</span>
<a name="l1500"><span class="linenum">1500</span></a>  
<a name="l1501"><span class="linenum">1501</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1502"><span class="linenum">1502</span></a>              }
<a name="l1503"><span class="linenum">1503</span></a>              else {
<a name="l1504"><span class="linenum">1504</span></a>                  return <a class="phpfunction" onClick="logFunction('iconv_substr')" href="../../_functions/iconv_substr.html" onMouseOver="phpfuncPopup(event,'iconv_substr')">iconv_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1505"><span class="linenum">1505</span></a>              }
<a name="l1506"><span class="linenum">1506</span></a>          } elseif (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1507"><span class="linenum">1507</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_substr')" href="../../_functions/utf8_substr.html" onMouseOver="funcPopup(event,'utf8_substr')">utf8_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1508"><span class="linenum">1508</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1509"><span class="linenum">1509</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_substr')" href="../../_functions/euc_substr.html" onMouseOver="funcPopup(event,'euc_substr')">euc_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1510"><span class="linenum">1510</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('twoByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/twoByteSets.html">twoByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1511"><span class="linenum">1511</span></a>              return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> * 2, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> * 2);
<a name="l1512"><span class="linenum">1512</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fourByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fourByteSets.html">fourByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1513"><span class="linenum">1513</span></a>              return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> * 4, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> * 4);
<a name="l1514"><span class="linenum">1514</span></a>          }
<a name="l1515"><span class="linenum">1515</span></a>  
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">            // treat everything else as single-byte encoding</span>
<a name="l1517"><span class="linenum">1517</span></a>          return <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> === NULL ? <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>) : <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1518"><span class="linenum">1518</span></a>      }
<a name="l1519"><span class="linenum">1519</span></a>  
<a name="l1520"><span class="linenum">1520</span></a>      <span class="comment">/**</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment">     * Counts the number of characters.</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment">     * Unit-tested by Kasper (single byte charsets only)</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment">     *</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">     * @param    string        The character set</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     * @param    string        Character string</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">     * @return    integer        The number of characters</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment">     * @see strlen()</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment">     */</span>
<a name="l1530"><span class="linenum">1530</span></a>  	function <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1531"><span class="linenum">1531</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1532"><span class="linenum">1532</span></a>              return <a class="phpfunction" onClick="logFunction('mb_strlen')" href="../../_functions/mb_strlen.html" onMouseOver="phpfuncPopup(event,'mb_strlen')">mb_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1533"><span class="linenum">1533</span></a>          } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'iconv') {
<a name="l1534"><span class="linenum">1534</span></a>              return <a class="phpfunction" onClick="logFunction('iconv_strlen')" href="../../_functions/iconv_strlen.html" onMouseOver="phpfuncPopup(event,'iconv_strlen')">iconv_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1535"><span class="linenum">1535</span></a>          } elseif (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1536"><span class="linenum">1536</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_strlen')" href="../../_functions/utf8_strlen.html" onMouseOver="funcPopup(event,'utf8_strlen')">utf8_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1537"><span class="linenum">1537</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1538"><span class="linenum">1538</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_strlen')" href="../../_functions/euc_strlen.html" onMouseOver="funcPopup(event,'euc_strlen')">euc_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1539"><span class="linenum">1539</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('twoByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/twoByteSets.html">twoByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1540"><span class="linenum">1540</span></a>              return <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) / 2;
<a name="l1541"><span class="linenum">1541</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fourByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fourByteSets.html">fourByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1542"><span class="linenum">1542</span></a>              return <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) / 4;
<a name="l1543"><span class="linenum">1543</span></a>          }
<a name="l1544"><span class="linenum">1544</span></a>  <span class="comment">            // treat everything else as single-byte encoding</span>
<a name="l1545"><span class="linenum">1545</span></a>          return <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1546"><span class="linenum">1546</span></a>      }
<a name="l1547"><span class="linenum">1547</span></a>  
<a name="l1548"><span class="linenum">1548</span></a>      <span class="comment">/**</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * Method to crop strings using the mb_substr function.</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     *</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     * @param  string        The character set</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">     * @param  string        String to be cropped</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment">     * @param  integer        Crop length (in characters)</span>
<a name="l1554"><span class="linenum">1554</span></a>  <span class="comment">     * @param  string        Crop signifier</span>
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment">     * @return string        The shortened string</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment">     * @see mb_strlen(), mb_substr()</span>
<a name="l1557"><span class="linenum">1557</span></a>  <span class="comment">     */</span>
<a name="l1558"><span class="linenum">1558</span></a>  	protected function <a class="function" onClick="logFunction('cropMbstring')" href="../../_functions/cropmbstring.html" onMouseOver="funcPopup(event,'cropmbstring')">cropMbstring</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a> = '') {
<a name="l1559"><span class="linenum">1559</span></a>          if (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) === 0 || <a class="phpfunction" onClick="logFunction('mb_strlen')" href="../../_functions/mb_strlen.html" onMouseOver="phpfuncPopup(event,'mb_strlen')">mb_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) &lt;= <a class="phpfunction" onClick="logFunction('abs')" href="../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>)) {
<a name="l1560"><span class="linenum">1560</span></a>              return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1561"><span class="linenum">1561</span></a>          }
<a name="l1562"><span class="linenum">1562</span></a>  
<a name="l1563"><span class="linenum">1563</span></a>          if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &gt; 0) {
<a name="l1564"><span class="linenum">1564</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('mb_substr')" href="../../_functions/mb_substr.html" onMouseOver="phpfuncPopup(event,'mb_substr')">mb_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) . <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a>;
<a name="l1565"><span class="linenum">1565</span></a>          } else {
<a name="l1566"><span class="linenum">1566</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a> . <a class="phpfunction" onClick="logFunction('mb_substr')" href="../../_functions/mb_substr.html" onMouseOver="phpfuncPopup(event,'mb_substr')">mb_substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="phpfunction" onClick="logFunction('mb_strlen')" href="../../_functions/mb_strlen.html" onMouseOver="phpfuncPopup(event,'mb_strlen')">mb_strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>), <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1567"><span class="linenum">1567</span></a>          }
<a name="l1568"><span class="linenum">1568</span></a>  
<a name="l1569"><span class="linenum">1569</span></a>          return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1570"><span class="linenum">1570</span></a>      }
<a name="l1571"><span class="linenum">1571</span></a>  
<a name="l1572"><span class="linenum">1572</span></a>      <span class="comment">/**</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment">     * Truncates a string and pre-/appends a string.</span>
<a name="l1574"><span class="linenum">1574</span></a>  <span class="comment">     * Unit tested by Kasper</span>
<a name="l1575"><span class="linenum">1575</span></a>  <span class="comment">     *</span>
<a name="l1576"><span class="linenum">1576</span></a>  <span class="comment">     * @param    string        The character set</span>
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">     * @param    string        Character string</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">     * @param    integer        Length (in characters)</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment">     * @param    string        Crop signifier</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">     * @return    string        The shortened string</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment">     * @see substr(), mb_strimwidth()</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment">     */</span>
<a name="l1584"><span class="linenum">1584</span></a>  	function <a class="function" onClick="logFunction('crop')" href="../../_functions/crop.html" onMouseOver="funcPopup(event,'crop')">crop</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a> = '') {
<a name="l1585"><span class="linenum">1585</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1586"><span class="linenum">1586</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('cropMbstring')" href="../../_functions/cropmbstring.html" onMouseOver="funcPopup(event,'cropmbstring')">cropMbstring</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a>);
<a name="l1587"><span class="linenum">1587</span></a>          }
<a name="l1588"><span class="linenum">1588</span></a>  
<a name="l1589"><span class="linenum">1589</span></a>          if (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) == 0) {
<a name="l1590"><span class="linenum">1590</span></a>              return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1591"><span class="linenum">1591</span></a>          }
<a name="l1592"><span class="linenum">1592</span></a>  
<a name="l1593"><span class="linenum">1593</span></a>          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1594"><span class="linenum">1594</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char2byte_pos')" href="../../_functions/utf8_char2byte_pos.html" onMouseOver="funcPopup(event,'utf8_char2byte_pos')">utf8_char2byte_pos</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1595"><span class="linenum">1595</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1596"><span class="linenum">1596</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_char2byte_pos')" href="../../_functions/euc_char2byte_pos.html" onMouseOver="funcPopup(event,'euc_char2byte_pos')">euc_char2byte_pos</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1597"><span class="linenum">1597</span></a>          } else {
<a name="l1598"><span class="linenum">1598</span></a>              if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &gt; 0) {
<a name="l1599"><span class="linenum">1599</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>;
<a name="l1600"><span class="linenum">1600</span></a>              } else {
<a name="l1601"><span class="linenum">1601</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) + <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>;
<a name="l1602"><span class="linenum">1602</span></a>                  if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= 0) {
<a name="l1603"><span class="linenum">1603</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = FALSE;
<a name="l1604"><span class="linenum">1604</span></a>                  }
<a name="l1605"><span class="linenum">1605</span></a>              }
<a name="l1606"><span class="linenum">1606</span></a>          }
<a name="l1607"><span class="linenum">1607</span></a>  
<a name="l1608"><span class="linenum">1608</span></a>          if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> === FALSE) { // <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> outside actual string length
<a name="l1609"><span class="linenum">1609</span></a>              return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1610"><span class="linenum">1610</span></a>          } else {
<a name="l1611"><span class="linenum">1611</span></a>              if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &gt; 0) {
<a name="l1612"><span class="linenum">1612</span></a>                  if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>})) {
<a name="l1613"><span class="linenum">1613</span></a>                      return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>) . <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a>;
<a name="l1614"><span class="linenum">1614</span></a>  
<a name="l1615"><span class="linenum">1615</span></a>                  }
<a name="l1616"><span class="linenum">1616</span></a>              } else {
<a name="l1617"><span class="linenum">1617</span></a>                  if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> - 1})) {
<a name="l1618"><span class="linenum">1618</span></a>                      return <a class="var it2057" onMouseOver="hilite(2057)" onMouseOut="lolite()" onClick="logVariable('crop')" href="../../_variables/crop.html">$crop</a> . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l1619"><span class="linenum">1619</span></a>                  }
<a name="l1620"><span class="linenum">1620</span></a>              }
<a name="l1621"><span class="linenum">1621</span></a>  
<a name="l1622"><span class="linenum">1622</span></a>              <span class="comment">/*</span>
<a name="l1623"><span class="linenum">1623</span></a>  <span class="comment">               if (abs($len)&lt;$this-&gt;strlen($charset,$string))    {    // Has to use -&gt;strlen() - otherwise multibyte strings ending with a multibyte char will return TRUE here (which is not a catastrophe, but...)</span>
<a name="l1624"><span class="linenum">1624</span></a>  <span class="comment">                   if ($len &gt; 0)    {</span>
<a name="l1625"><span class="linenum">1625</span></a>  <span class="comment">                       return substr($string,0,$i).$crop;</span>
<a name="l1626"><span class="linenum">1626</span></a>  <span class="comment">                   } else {</span>
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment">                       return $crop.substr($string,$i);</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">                   }</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment">               }</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">   */</span>
<a name="l1631"><span class="linenum">1631</span></a>          }
<a name="l1632"><span class="linenum">1632</span></a>          return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1633"><span class="linenum">1633</span></a>      }
<a name="l1634"><span class="linenum">1634</span></a>  
<a name="l1635"><span class="linenum">1635</span></a>      <span class="comment">/**</span>
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment">     * Cuts a string short at a given byte length.</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment">     *</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment">     * @param    string        The character set</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment">     * @param    string        Character string</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment">     * @param    integer        The byte length</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment">     * @return    string        The shortened string</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment">     * @see mb_strcut()</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1644"><span class="linenum">1644</span></a>  <span class="comment">     */</span>
<a name="l1645"><span class="linenum">1645</span></a>  	function <a class="function" onClick="logFunction('strtrunc')" href="../../_functions/strtrunc.html" onMouseOver="funcPopup(event,'strtrunc')">strtrunc</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) {
<a name="l1646"><span class="linenum">1646</span></a>          if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &lt;= 0) {
<a name="l1647"><span class="linenum">1647</span></a>              return '';
<a name="l1648"><span class="linenum">1648</span></a>          }
<a name="l1649"><span class="linenum">1649</span></a>  
<a name="l1650"><span class="linenum">1650</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1651"><span class="linenum">1651</span></a>              return <a class="phpfunction" onClick="logFunction('mb_strcut')" href="../../_functions/mb_strcut.html" onMouseOver="phpfuncPopup(event,'mb_strcut')">mb_strcut</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1652"><span class="linenum">1652</span></a>          } elseif (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1653"><span class="linenum">1653</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_strtrunc')" href="../../_functions/utf8_strtrunc.html" onMouseOver="funcPopup(event,'utf8_strtrunc')">utf8_strtrunc</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1654"><span class="linenum">1654</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1655"><span class="linenum">1655</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_strtrunc')" href="../../_functions/euc_strtrunc.html" onMouseOver="funcPopup(event,'euc_strtrunc')">euc_strtrunc</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1656"><span class="linenum">1656</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('twoByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/twoByteSets.html">twoByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1657"><span class="linenum">1657</span></a>              if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> % 2) {
<a name="l1658"><span class="linenum">1658</span></a>                  <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>--;
<a name="l1659"><span class="linenum">1659</span></a>              } <span class="comment">// don't cut at odd positions</span>
<a name="l1660"><span class="linenum">1660</span></a>          } elseif (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fourByteSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fourByteSets.html">fourByteSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>]) {
<a name="l1661"><span class="linenum">1661</span></a>              <a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> = <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> % 4;
<a name="l1662"><span class="linenum">1662</span></a>              <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> -= <a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a>; <span class="comment">// realign to position dividable by four</span>
<a name="l1663"><span class="linenum">1663</span></a>          }
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">            // treat everything else as single-byte encoding</span>
<a name="l1665"><span class="linenum">1665</span></a>          return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1666"><span class="linenum">1666</span></a>      }
<a name="l1667"><span class="linenum">1667</span></a>  
<a name="l1668"><span class="linenum">1668</span></a>      <span class="comment">/**</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment">     * Translates all characters of a string into their respective case values.</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">     * Unlike strtolower() and strtoupper() this method is locale independent.</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">     * Note that the string length may change!</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">     * eg. lower case German &quot;ß&quot; (sharp S) becomes upper case &quot;SS&quot;</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * Unit-tested by Kasper</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     * Real case folding is language dependent, this method ignores this fact.</span>
<a name="l1675"><span class="linenum">1675</span></a>  <span class="comment">     *</span>
<a name="l1676"><span class="linenum">1676</span></a>  <span class="comment">     * @param    string        Character set of string</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">     * @param    string        Input string to convert case for</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * @param    string        Case keyword: &quot;toLower&quot; means lowercase conversion, anything else is uppercase (use &quot;toUpper&quot; )</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     * @return    string        The converted string</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">     * @see strtolower(), strtoupper()</span>
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment">     */</span>
<a name="l1683"><span class="linenum">1683</span></a>  	function <a class="function" onClick="logFunction('conv_case')" href="../../_functions/conv_case.html" onMouseOver="funcPopup(event,'conv_case')">conv_case</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>) {
<a name="l1684"><span class="linenum">1684</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1685"><span class="linenum">1685</span></a>              if (<a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a> == 'toLower') {
<a name="l1686"><span class="linenum">1686</span></a>                  <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('mb_strtolower')" href="../../_functions/mb_strtolower.html" onMouseOver="phpfuncPopup(event,'mb_strtolower')">mb_strtolower</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1687"><span class="linenum">1687</span></a>              } else {
<a name="l1688"><span class="linenum">1688</span></a>                  <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('mb_strtoupper')" href="../../_functions/mb_strtoupper.html" onMouseOver="phpfuncPopup(event,'mb_strtoupper')">mb_strtoupper</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l1689"><span class="linenum">1689</span></a>              }
<a name="l1690"><span class="linenum">1690</span></a>          } elseif (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1691"><span class="linenum">1691</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char_mapping')" href="../../_functions/utf8_char_mapping.html" onMouseOver="funcPopup(event,'utf8_char_mapping')">utf8_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 'case', <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>);
<a name="l1692"><span class="linenum">1692</span></a>          } elseif (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l1693"><span class="linenum">1693</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_char_mapping')" href="../../_functions/euc_char_mapping.html" onMouseOver="funcPopup(event,'euc_char_mapping')">euc_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, 'case', <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>);
<a name="l1694"><span class="linenum">1694</span></a>          } else {
<a name="l1695"><span class="linenum">1695</span></a>  <span class="comment">                // treat everything else as single-byte encoding</span>
<a name="l1696"><span class="linenum">1696</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sb_char_mapping')" href="../../_functions/sb_char_mapping.html" onMouseOver="funcPopup(event,'sb_char_mapping')">sb_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, 'case', <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>);
<a name="l1697"><span class="linenum">1697</span></a>          }
<a name="l1698"><span class="linenum">1698</span></a>  
<a name="l1699"><span class="linenum">1699</span></a>          return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1700"><span class="linenum">1700</span></a>      }
<a name="l1701"><span class="linenum">1701</span></a>  
<a name="l1702"><span class="linenum">1702</span></a>      <span class="comment">/**</span>
<a name="l1703"><span class="linenum">1703</span></a>  <span class="comment">     * Equivalent of lcfirst/ucfirst but using character set.</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">     *</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * @param string $charset</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     * @param string $string</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     * @param string $case</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * @return string</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * @see t3lib_cs::conv_case()</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     */</span>
<a name="l1711"><span class="linenum">1711</span></a>  	public function <a class="function" onClick="logFunction('convCaseFirst')" href="../../_functions/convcasefirst.html" onMouseOver="funcPopup(event,'convcasefirst')">convCaseFirst</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>) {
<a name="l1712"><span class="linenum">1712</span></a>          <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, 1);
<a name="l1713"><span class="linenum">1713</span></a>          <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('conv_case')" href="../../_functions/conv_case.html" onMouseOver="funcPopup(event,'conv_case')">conv_case</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../../_variables/case.html">$case</a>);
<a name="l1714"><span class="linenum">1714</span></a>          <a class="var it2060" onMouseOver="hilite(2060)" onMouseOut="lolite()" onClick="logVariable('remainder')" href="../../_variables/remainder.html">$remainder</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 1);
<a name="l1715"><span class="linenum">1715</span></a>          return <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a> . <a class="var it2060" onMouseOver="hilite(2060)" onMouseOut="lolite()" onClick="logVariable('remainder')" href="../../_variables/remainder.html">$remainder</a>;
<a name="l1716"><span class="linenum">1716</span></a>      }
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>      <span class="comment">/**</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     * Converts special chars (like æøåÆØÅ, umlauts etc) to ascii equivalents (usually double-bytes, like æ =&gt; ae etc.)</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">     *</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment">     * @param string $charset Character set of string</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment">     * @param string $string Input string to convert</span>
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment">     * @return string The converted string</span>
<a name="l1724"><span class="linenum">1724</span></a>  <span class="comment">     */</span>
<a name="l1725"><span class="linenum">1725</span></a>  	function <a class="function" onClick="logFunction('specCharsToASCII')" href="../../_functions/speccharstoascii.html" onMouseOver="funcPopup(event,'speccharstoascii')">specCharsToASCII</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1726"><span class="linenum">1726</span></a>          if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'utf-8') {
<a name="l1727"><span class="linenum">1727</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char_mapping')" href="../../_functions/utf8_char_mapping.html" onMouseOver="funcPopup(event,'utf8_char_mapping')">utf8_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 'ascii');
<a name="l1728"><span class="linenum">1728</span></a>          } elseif (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('eucBasedSets')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/eucBasedSets.html">eucBasedSets</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>])) {
<a name="l1729"><span class="linenum">1729</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_char_mapping')" href="../../_functions/euc_char_mapping.html" onMouseOver="funcPopup(event,'euc_char_mapping')">euc_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, 'ascii');
<a name="l1730"><span class="linenum">1730</span></a>          } else {
<a name="l1731"><span class="linenum">1731</span></a>  <span class="comment">                // treat everything else as single-byte encoding</span>
<a name="l1732"><span class="linenum">1732</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sb_char_mapping')" href="../../_functions/sb_char_mapping.html" onMouseOver="funcPopup(event,'sb_char_mapping')">sb_char_mapping</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, 'ascii');
<a name="l1733"><span class="linenum">1733</span></a>          }
<a name="l1734"><span class="linenum">1734</span></a>  
<a name="l1735"><span class="linenum">1735</span></a>          return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l1736"><span class="linenum">1736</span></a>      }
<a name="l1737"><span class="linenum">1737</span></a>  
<a name="l1738"><span class="linenum">1738</span></a>  
<a name="l1739"><span class="linenum">1739</span></a>      <span class="comment">/**</span>
<a name="l1740"><span class="linenum">1740</span></a>  <span class="comment">     * converts the language codes that we get from the client (usually HTTP_ACCEPT_LANGUAGE)</span>
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">     * into a TYPO3-readable language code</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">     * @param    $languageCodesList    list of language codes. something like 'de,en-us;q=0.9,de-de;q=0.7,es-cl;q=0.6,en;q=0.4,es;q=0.3,zh;q=0.1'</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment">     *             see http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment">     * @return    string    a preferred language that TYPO3 supports, or &quot;default&quot; if none found</span>
<a name="l1745"><span class="linenum">1745</span></a>  <span class="comment">     * @author    Benjamin Mack (benni.typo3.org)</span>
<a name="l1746"><span class="linenum">1746</span></a>  <span class="comment">     */</span>
<a name="l1747"><span class="linenum">1747</span></a>  	public function <a class="function" onClick="logFunction('getPreferredClientLanguage')" href="../../_functions/getpreferredclientlanguage.html" onMouseOver="funcPopup(event,'getpreferredclientlanguage')">getPreferredClientLanguage</a>(<a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('languageCodesList')" href="../../_variables/languageCodesList.html">$languageCodesList</a>) {
<a name="l1748"><span class="linenum">1748</span></a>          <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a> = array();
<a name="l1749"><span class="linenum">1749</span></a>          <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> = 'default';
<a name="l1750"><span class="linenum">1750</span></a>  
<a name="l1751"><span class="linenum">1751</span></a>  <span class="comment">            // get all languages where TYPO3 code is the same as the ISO code</span>
<a name="l1752"><span class="linenum">1752</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('charSetArray')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/charSetArray.html">charSetArray</a> as <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('typo3Lang')" href="../../_variables/typo3Lang.html">$typo3Lang</a> =&gt; <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('charSet')" href="../../_variables/charSet.html">$charSet</a>) {
<a name="l1753"><span class="linenum">1753</span></a>              <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('typo3Lang')" href="../../_variables/typo3Lang.html">$typo3Lang</a>] = <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('typo3Lang')" href="../../_variables/typo3Lang.html">$typo3Lang</a>;
<a name="l1754"><span class="linenum">1754</span></a>          }
<a name="l1755"><span class="linenum">1755</span></a>  
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">            // get all languages where TYPO3 code differs from ISO code</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">            // or needs the country part</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment">            // the iso codes will here overwrite the default typo3 language in the key</span>
<a name="l1759"><span class="linenum">1759</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('locales')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/locales.html">locales</a>-&gt;<a class="function" onClick="logFunction('getIsoMapping')" href="../../_functions/getisomapping.html" onMouseOver="funcPopup(event,'getisomapping')">getIsoMapping</a>() as <a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('typo3Lang')" href="../../_variables/typo3Lang.html">$typo3Lang</a> =&gt; <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('isoLang')" href="../../_variables/isoLang.html">$isoLang</a>) {
<a name="l1760"><span class="linenum">1760</span></a>              <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('isoLang')" href="../../_variables/isoLang.html">$isoLang</a> = <a class="function" onClick="logFunction('join')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('-', <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('_', <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('isoLang')" href="../../_variables/isoLang.html">$isoLang</a>));
<a name="l1761"><span class="linenum">1761</span></a>              <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2064" onMouseOver="hilite(2064)" onMouseOut="lolite()" onClick="logVariable('typo3Lang')" href="../../_variables/typo3Lang.html">$typo3Lang</a>] = <a class="var it2066" onMouseOver="hilite(2066)" onMouseOut="lolite()" onClick="logVariable('isoLang')" href="../../_variables/isoLang.html">$isoLang</a>;
<a name="l1762"><span class="linenum">1762</span></a>          }
<a name="l1763"><span class="linenum">1763</span></a>  
<a name="l1764"><span class="linenum">1764</span></a>  <span class="comment">            // move the iso codes to the (because we're comparing the keys with &quot;isset&quot; later on)</span>
<a name="l1765"><span class="linenum">1765</span></a>          <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a> = <a class="phpfunction" onClick="logFunction('array_flip')" href="../../_functions/array_flip.html" onMouseOver="phpfuncPopup(event,'array_flip')">array_flip</a>(<a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>);
<a name="l1766"><span class="linenum">1766</span></a>  
<a name="l1767"><span class="linenum">1767</span></a>  
<a name="l1768"><span class="linenum">1768</span></a>          <a class="var it2067" onMouseOver="hilite(2067)" onMouseOut="lolite()" onClick="logVariable('preferredLanguages')" href="../../_variables/preferredLanguages.html">$preferredLanguages</a> = t3lib_div::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it2061" onMouseOver="hilite(2061)" onMouseOut="lolite()" onClick="logVariable('languageCodesList')" href="../../_variables/languageCodesList.html">$languageCodesList</a>);
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">            // order the preferred languages after they key</span>
<a name="l1770"><span class="linenum">1770</span></a>          <a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('sortedPreferredLanguages')" href="../../_variables/sortedPreferredLanguages.html">$sortedPreferredLanguages</a> = array();
<a name="l1771"><span class="linenum">1771</span></a>          foreach (<a class="var it2067" onMouseOver="hilite(2067)" onMouseOut="lolite()" onClick="logVariable('preferredLanguages')" href="../../_variables/preferredLanguages.html">$preferredLanguages</a> as <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>) {
<a name="l1772"><span class="linenum">1772</span></a>              <a class="var it877" onMouseOver="hilite(877)" onMouseOut="lolite()" onClick="logVariable('quality')" href="../../_variables/quality.html">$quality</a> = 1.0;
<a name="l1773"><span class="linenum">1773</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>, ';q=') !== FALSE) {
<a name="l1774"><span class="linenum">1774</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>, <a class="var it877" onMouseOver="hilite(877)" onMouseOut="lolite()" onClick="logVariable('quality')" href="../../_variables/quality.html">$quality</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(';q=', <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>);
<a name="l1775"><span class="linenum">1775</span></a>              }
<a name="l1776"><span class="linenum">1776</span></a>              <a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('sortedPreferredLanguages')" href="../../_variables/sortedPreferredLanguages.html">$sortedPreferredLanguages</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>] = <a class="var it877" onMouseOver="hilite(877)" onMouseOut="lolite()" onClick="logVariable('quality')" href="../../_variables/quality.html">$quality</a>;
<a name="l1777"><span class="linenum">1777</span></a>          }
<a name="l1778"><span class="linenum">1778</span></a>  
<a name="l1779"><span class="linenum">1779</span></a>  <span class="comment">            // loop through the languages, with the highest priority first</span>
<a name="l1780"><span class="linenum">1780</span></a>          <a class="phpfunction" onClick="logFunction('arsort')" href="../../_functions/arsort.html" onMouseOver="phpfuncPopup(event,'arsort')">arsort</a>(<a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('sortedPreferredLanguages')" href="../../_variables/sortedPreferredLanguages.html">$sortedPreferredLanguages</a>, SORT_NUMERIC);
<a name="l1781"><span class="linenum">1781</span></a>          foreach (<a class="var it2068" onMouseOver="hilite(2068)" onMouseOut="lolite()" onClick="logVariable('sortedPreferredLanguages')" href="../../_variables/sortedPreferredLanguages.html">$sortedPreferredLanguages</a> as <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a> =&gt; <a class="var it877" onMouseOver="hilite(877)" onMouseOut="lolite()" onClick="logVariable('quality')" href="../../_variables/quality.html">$quality</a>) {
<a name="l1782"><span class="linenum">1782</span></a>              if (isset(<a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>])) {
<a name="l1783"><span class="linenum">1783</span></a>                  <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> = <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>];
<a name="l1784"><span class="linenum">1784</span></a>                  break;
<a name="l1785"><span class="linenum">1785</span></a>              }
<a name="l1786"><span class="linenum">1786</span></a>  
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment">                // strip the country code from the end</span>
<a name="l1788"><span class="linenum">1788</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>, <a class="var it2070" onMouseOver="hilite(2070)" onMouseOut="lolite()" onClick="logVariable('preferredCountry')" href="../../_variables/preferredCountry.html">$preferredCountry</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('-', <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>);
<a name="l1789"><span class="linenum">1789</span></a>              if (isset(<a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>])) {
<a name="l1790"><span class="linenum">1790</span></a>                  <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> = <a class="var it2062" onMouseOver="hilite(2062)" onMouseOut="lolite()" onClick="logVariable('allLanguageCodes')" href="../../_variables/allLanguageCodes.html">$allLanguageCodes</a>[<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('preferredLanguage')" href="../../_variables/preferredLanguage.html">$preferredLanguage</a>];
<a name="l1791"><span class="linenum">1791</span></a>                  break;
<a name="l1792"><span class="linenum">1792</span></a>              }
<a name="l1793"><span class="linenum">1793</span></a>          }
<a name="l1794"><span class="linenum">1794</span></a>          if (!<a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> || <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> == 'en') {
<a name="l1795"><span class="linenum">1795</span></a>              <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a> = 'default';
<a name="l1796"><span class="linenum">1796</span></a>          }
<a name="l1797"><span class="linenum">1797</span></a>          return <a class="var it2063" onMouseOver="hilite(2063)" onMouseOut="lolite()" onClick="logVariable('selectedLanguage')" href="../../_variables/selectedLanguage.html">$selectedLanguage</a>;
<a name="l1798"><span class="linenum">1798</span></a>      }
<a name="l1799"><span class="linenum">1799</span></a>  
<a name="l1800"><span class="linenum">1800</span></a>  
<a name="l1801"><span class="linenum">1801</span></a>      <span class="comment">/********************************************</span>
<a name="l1802"><span class="linenum">1802</span></a>  <span class="comment">     *</span>
<a name="l1803"><span class="linenum">1803</span></a>  <span class="comment">     * Internal string operation functions</span>
<a name="l1804"><span class="linenum">1804</span></a>  <span class="comment">     *</span>
<a name="l1805"><span class="linenum">1805</span></a>  <span class="comment">     ********************************************/</span>
<a name="l1806"><span class="linenum">1806</span></a>  
<a name="l1807"><span class="linenum">1807</span></a>      <span class="comment">/**</span>
<a name="l1808"><span class="linenum">1808</span></a>  <span class="comment">     * Maps all characters of a string in a single byte charset.</span>
<a name="l1809"><span class="linenum">1809</span></a>  <span class="comment">     *</span>
<a name="l1810"><span class="linenum">1810</span></a>  <span class="comment">     * @param    string        the string</span>
<a name="l1811"><span class="linenum">1811</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l1812"><span class="linenum">1812</span></a>  <span class="comment">     * @param    string        mode: 'case' (case folding) or 'ascii' (ASCII transliteration)</span>
<a name="l1813"><span class="linenum">1813</span></a>  <span class="comment">     * @param    string        'case': conversion 'toLower' or 'toUpper'</span>
<a name="l1814"><span class="linenum">1814</span></a>  <span class="comment">     * @return    string        the converted string</span>
<a name="l1815"><span class="linenum">1815</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1816"><span class="linenum">1816</span></a>  <span class="comment">     */</span>
<a name="l1817"><span class="linenum">1817</span></a>  	function <a class="function" onClick="logFunction('sb_char_mapping')" href="../../_functions/sb_char_mapping.html" onMouseOver="funcPopup(event,'sb_char_mapping')">sb_char_mapping</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a> = '') {
<a name="l1818"><span class="linenum">1818</span></a>          switch (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>) {
<a name="l1819"><span class="linenum">1819</span></a>              case 'case':
<a name="l1820"><span class="linenum">1820</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCaseFolding')" href="../../_functions/initcasefolding.html" onMouseOver="funcPopup(event,'initcasefolding')">initCaseFolding</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l1821"><span class="linenum">1821</span></a>                      return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1822"><span class="linenum">1822</span></a>                  } <span class="comment">// do nothing</span>
<a name="l1823"><span class="linenum">1823</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>][<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a>];
<a name="l1824"><span class="linenum">1824</span></a>                  break;
<a name="l1825"><span class="linenum">1825</span></a>  
<a name="l1826"><span class="linenum">1826</span></a>              case 'ascii':
<a name="l1827"><span class="linenum">1827</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initToASCII')" href="../../_functions/inittoascii.html" onMouseOver="funcPopup(event,'inittoascii')">initToASCII</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l1828"><span class="linenum">1828</span></a>                      return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1829"><span class="linenum">1829</span></a>                  } <span class="comment">// do nothing</span>
<a name="l1830"><span class="linenum">1830</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>];
<a name="l1831"><span class="linenum">1831</span></a>                  break;
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>              default:
<a name="l1834"><span class="linenum">1834</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1835"><span class="linenum">1835</span></a>          }
<a name="l1836"><span class="linenum">1836</span></a>  
<a name="l1837"><span class="linenum">1837</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = '';
<a name="l1838"><span class="linenum">1838</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1839"><span class="linenum">1839</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>};
<a name="l1840"><span class="linenum">1840</span></a>              if (isset(<a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>])) {
<a name="l1841"><span class="linenum">1841</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>];
<a name="l1842"><span class="linenum">1842</span></a>              } else {
<a name="l1843"><span class="linenum">1843</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>;
<a name="l1844"><span class="linenum">1844</span></a>              }
<a name="l1845"><span class="linenum">1845</span></a>          }
<a name="l1846"><span class="linenum">1846</span></a>  
<a name="l1847"><span class="linenum">1847</span></a>          return <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l1848"><span class="linenum">1848</span></a>      }
<a name="l1849"><span class="linenum">1849</span></a>  
<a name="l1850"><span class="linenum">1850</span></a>  
<a name="l1851"><span class="linenum">1851</span></a>      <span class="comment">/********************************************</span>
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment">     *</span>
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">     * Internal UTF-8 string operation functions</span>
<a name="l1854"><span class="linenum">1854</span></a>  <span class="comment">     *</span>
<a name="l1855"><span class="linenum">1855</span></a>  <span class="comment">     ********************************************/</span>
<a name="l1856"><span class="linenum">1856</span></a>  
<a name="l1857"><span class="linenum">1857</span></a>      <span class="comment">/**</span>
<a name="l1858"><span class="linenum">1858</span></a>  <span class="comment">     * Returns a part of a UTF-8 string.</span>
<a name="l1859"><span class="linenum">1859</span></a>  <span class="comment">     * Unit-tested by Kasper and works 100% like substr() / mb_substr() for full range of $start/$len</span>
<a name="l1860"><span class="linenum">1860</span></a>  <span class="comment">     *</span>
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment">     * @param    string        UTF-8 string</span>
<a name="l1862"><span class="linenum">1862</span></a>  <span class="comment">     * @param    integer        Start position (character position)</span>
<a name="l1863"><span class="linenum">1863</span></a>  <span class="comment">     * @param    integer        Length (in characters)</span>
<a name="l1864"><span class="linenum">1864</span></a>  <span class="comment">     * @return    string        The substring</span>
<a name="l1865"><span class="linenum">1865</span></a>  <span class="comment">     * @see substr()</span>
<a name="l1866"><span class="linenum">1866</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1867"><span class="linenum">1867</span></a>  <span class="comment">     */</span>
<a name="l1868"><span class="linenum">1868</span></a>  	function <a class="function" onClick="logFunction('utf8_substr')" href="../../_functions/utf8_substr.html" onMouseOver="funcPopup(event,'utf8_substr')">utf8_substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = NULL) {
<a name="l1869"><span class="linenum">1869</span></a>          if (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, '0')) {
<a name="l1870"><span class="linenum">1870</span></a>              return '';
<a name="l1871"><span class="linenum">1871</span></a>          }
<a name="l1872"><span class="linenum">1872</span></a>  
<a name="l1873"><span class="linenum">1873</span></a>          <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char2byte_pos')" href="../../_functions/utf8_char2byte_pos.html" onMouseOver="funcPopup(event,'utf8_char2byte_pos')">utf8_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>);
<a name="l1874"><span class="linenum">1874</span></a>          if (<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a> === FALSE) {
<a name="l1875"><span class="linenum">1875</span></a>              if (<a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> &gt; 0) {
<a name="l1876"><span class="linenum">1876</span></a>                  return FALSE; <span class="comment">// $start outside string length</span>
<a name="l1877"><span class="linenum">1877</span></a>              } else {
<a name="l1878"><span class="linenum">1878</span></a>                  <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> = 0;
<a name="l1879"><span class="linenum">1879</span></a>              }
<a name="l1880"><span class="linenum">1880</span></a>          }
<a name="l1881"><span class="linenum">1881</span></a>  
<a name="l1882"><span class="linenum">1882</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a>);
<a name="l1883"><span class="linenum">1883</span></a>  
<a name="l1884"><span class="linenum">1884</span></a>          if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> != NULL) {
<a name="l1885"><span class="linenum">1885</span></a>              <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char2byte_pos')" href="../../_functions/utf8_char2byte_pos.html" onMouseOver="funcPopup(event,'utf8_char2byte_pos')">utf8_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1886"><span class="linenum">1886</span></a>              if (<a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a> === FALSE) // <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> outside actual string length
<a name="l1887"><span class="linenum">1887</span></a>              {
<a name="l1888"><span class="linenum">1888</span></a>                  return <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &lt; 0 ? '' : <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1889"><span class="linenum">1889</span></a>              } <span class="comment">// When length is less than zero and exceeds, then we return blank string.</span>
<a name="l1890"><span class="linenum">1890</span></a>              else
<a name="l1891"><span class="linenum">1891</span></a>              {
<a name="l1892"><span class="linenum">1892</span></a>                  return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a>);
<a name="l1893"><span class="linenum">1893</span></a>              }
<a name="l1894"><span class="linenum">1894</span></a>          }
<a name="l1895"><span class="linenum">1895</span></a>          else    {
<a name="l1896"><span class="linenum">1896</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1897"><span class="linenum">1897</span></a>          }
<a name="l1898"><span class="linenum">1898</span></a>      }
<a name="l1899"><span class="linenum">1899</span></a>  
<a name="l1900"><span class="linenum">1900</span></a>      <span class="comment">/**</span>
<a name="l1901"><span class="linenum">1901</span></a>  <span class="comment">     * Counts the number of characters of a string in UTF-8.</span>
<a name="l1902"><span class="linenum">1902</span></a>  <span class="comment">     * Unit-tested by Kasper and works 100% like strlen() / mb_strlen()</span>
<a name="l1903"><span class="linenum">1903</span></a>  <span class="comment">     *</span>
<a name="l1904"><span class="linenum">1904</span></a>  <span class="comment">     * @param    string        UTF-8 multibyte character string</span>
<a name="l1905"><span class="linenum">1905</span></a>  <span class="comment">     * @return    integer        The number of characters</span>
<a name="l1906"><span class="linenum">1906</span></a>  <span class="comment">     * @see strlen()</span>
<a name="l1907"><span class="linenum">1907</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1908"><span class="linenum">1908</span></a>  <span class="comment">     */</span>
<a name="l1909"><span class="linenum">1909</span></a>  	function <a class="function" onClick="logFunction('utf8_strlen')" href="../../_functions/utf8_strlen.html" onMouseOver="funcPopup(event,'utf8_strlen')">utf8_strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1910"><span class="linenum">1910</span></a>          <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = 0;
<a name="l1911"><span class="linenum">1911</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1912"><span class="linenum">1912</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l1913"><span class="linenum">1913</span></a>              if (!(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0x80)) // single-byte (0xxxxxx)
<a name="l1914"><span class="linenum">1914</span></a>              {
<a name="l1915"><span class="linenum">1915</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l1916"><span class="linenum">1916</span></a>              }
<a name="l1917"><span class="linenum">1917</span></a>              elseif ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0xC0) == 0xC0) // multi-byte starting byte (11xxxxxx)
<a name="l1918"><span class="linenum">1918</span></a>              {
<a name="l1919"><span class="linenum">1919</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l1920"><span class="linenum">1920</span></a>              }
<a name="l1921"><span class="linenum">1921</span></a>          }
<a name="l1922"><span class="linenum">1922</span></a>          return <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>;
<a name="l1923"><span class="linenum">1923</span></a>      }
<a name="l1924"><span class="linenum">1924</span></a>  
<a name="l1925"><span class="linenum">1925</span></a>      <span class="comment">/**</span>
<a name="l1926"><span class="linenum">1926</span></a>  <span class="comment">     * Truncates a string in UTF-8 short at a given byte length.</span>
<a name="l1927"><span class="linenum">1927</span></a>  <span class="comment">     *</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment">     * @param    string        UTF-8 multibyte character string</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">     * @param    integer        the byte length</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment">     * @return    string        the shortened string</span>
<a name="l1931"><span class="linenum">1931</span></a>  <span class="comment">     * @see mb_strcut()</span>
<a name="l1932"><span class="linenum">1932</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1933"><span class="linenum">1933</span></a>  <span class="comment">     */</span>
<a name="l1934"><span class="linenum">1934</span></a>  	function <a class="function" onClick="logFunction('utf8_strtrunc')" href="../../_functions/utf8_strtrunc.html" onMouseOver="funcPopup(event,'utf8_strtrunc')">utf8_strtrunc</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) {
<a name="l1935"><span class="linenum">1935</span></a>          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> - 1;
<a name="l1936"><span class="linenum">1936</span></a>          if (<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp; 0x80) { // part of a multibyte sequence
<a name="l1937"><span class="linenum">1937</span></a>              for (; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; 0 &amp;&amp; !(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp; 0x40); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>--) {
<a name="l1938"><span class="linenum">1938</span></a>  <span class="comment">                // find the first byte</span>
<a name="l1939"><span class="linenum">1939</span></a>                  ;
<a name="l1940"><span class="linenum">1940</span></a>              }
<a name="l1941"><span class="linenum">1941</span></a>              if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= 0) {
<a name="l1942"><span class="linenum">1942</span></a>                  return '';
<a name="l1943"><span class="linenum">1943</span></a>              } <span class="comment">// sanity check</span>
<a name="l1944"><span class="linenum">1944</span></a>              for (<a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a> = 0, <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('mbs')" href="../../_variables/mbs.html">$mbs</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('mbs')" href="../../_variables/mbs.html">$mbs</a> &amp; 0x80; <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('mbs')" href="../../_variables/mbs.html">$mbs</a> = <a class="var it2076" onMouseOver="hilite(2076)" onMouseOut="lolite()" onClick="logVariable('mbs')" href="../../_variables/mbs.html">$mbs</a> &lt;&lt; 1) {
<a name="l1945"><span class="linenum">1945</span></a>  <span class="comment">                // calculate number of bytes</span>
<a name="l1946"><span class="linenum">1946</span></a>                  <a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a>++;
<a name="l1947"><span class="linenum">1947</span></a>              }
<a name="l1948"><span class="linenum">1948</span></a>              if (<a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a> + <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) {
<a name="l1949"><span class="linenum">1949</span></a>                  return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l1950"><span class="linenum">1950</span></a>              }
<a name="l1951"><span class="linenum">1951</span></a>  <span class="comment">            // fallthru: multibyte char fits into length</span>
<a name="l1952"><span class="linenum">1952</span></a>          }
<a name="l1953"><span class="linenum">1953</span></a>          return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l1954"><span class="linenum">1954</span></a>      }
<a name="l1955"><span class="linenum">1955</span></a>  
<a name="l1956"><span class="linenum">1956</span></a>      <span class="comment">/**</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment">     * Find position of first occurrence of a string, both arguments are in UTF-8.</span>
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment">     *</span>
<a name="l1959"><span class="linenum">1959</span></a>  <span class="comment">     * @param    string        UTF-8 string to search in</span>
<a name="l1960"><span class="linenum">1960</span></a>  <span class="comment">     * @param    string        UTF-8 string to search for</span>
<a name="l1961"><span class="linenum">1961</span></a>  <span class="comment">     * @param    integer        Positition to start the search</span>
<a name="l1962"><span class="linenum">1962</span></a>  <span class="comment">     * @return    integer        The character position</span>
<a name="l1963"><span class="linenum">1963</span></a>  <span class="comment">     * @see strpos()</span>
<a name="l1964"><span class="linenum">1964</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1965"><span class="linenum">1965</span></a>  <span class="comment">     */</span>
<a name="l1966"><span class="linenum">1966</span></a>  	function <a class="function" onClick="logFunction('utf8_strpos')" href="../../_functions/utf8_strpos.html" onMouseOver="funcPopup(event,'utf8_strpos')">utf8_strpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a> = 0) {
<a name="l1967"><span class="linenum">1967</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1968"><span class="linenum">1968</span></a>              return <a class="phpfunction" onClick="logFunction('mb_strpos')" href="../../_functions/mb_strpos.html" onMouseOver="phpfuncPopup(event,'mb_strpos')">mb_strpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, 'utf-8');
<a name="l1969"><span class="linenum">1969</span></a>          } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'iconv') {
<a name="l1970"><span class="linenum">1970</span></a>              return <a class="phpfunction" onClick="logFunction('iconv_strpos')" href="../../_functions/iconv_strpos.html" onMouseOver="phpfuncPopup(event,'iconv_strpos')">iconv_strpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>, 'utf-8');
<a name="l1971"><span class="linenum">1971</span></a>          }
<a name="l1972"><span class="linenum">1972</span></a>  
<a name="l1973"><span class="linenum">1973</span></a>          <a class="var it2077" onMouseOver="hilite(2077)" onMouseOut="lolite()" onClick="logVariable('byte_offset')" href="../../_variables/byte_offset.html">$byte_offset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_char2byte_pos')" href="../../_functions/utf8_char2byte_pos.html" onMouseOver="funcPopup(event,'utf8_char2byte_pos')">utf8_char2byte_pos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>);
<a name="l1974"><span class="linenum">1974</span></a>          if (<a class="var it2077" onMouseOver="hilite(2077)" onMouseOut="lolite()" onClick="logVariable('byte_offset')" href="../../_variables/byte_offset.html">$byte_offset</a> === FALSE) {
<a name="l1975"><span class="linenum">1975</span></a>              return FALSE;
<a name="l1976"><span class="linenum">1976</span></a>          } <span class="comment">// offset beyond string length</span>
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>          <a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it2077" onMouseOver="hilite(2077)" onMouseOut="lolite()" onClick="logVariable('byte_offset')" href="../../_variables/byte_offset.html">$byte_offset</a>);
<a name="l1979"><span class="linenum">1979</span></a>          if (<a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a> === FALSE) {
<a name="l1980"><span class="linenum">1980</span></a>              return FALSE;
<a name="l1981"><span class="linenum">1981</span></a>          } <span class="comment">// needle not found</span>
<a name="l1982"><span class="linenum">1982</span></a>  
<a name="l1983"><span class="linenum">1983</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_byte2char_pos')" href="../../_functions/utf8_byte2char_pos.html" onMouseOver="funcPopup(event,'utf8_byte2char_pos')">utf8_byte2char_pos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a>);
<a name="l1984"><span class="linenum">1984</span></a>      }
<a name="l1985"><span class="linenum">1985</span></a>  
<a name="l1986"><span class="linenum">1986</span></a>      <span class="comment">/**</span>
<a name="l1987"><span class="linenum">1987</span></a>  <span class="comment">     * Find position of last occurrence of a char in a string, both arguments are in UTF-8.</span>
<a name="l1988"><span class="linenum">1988</span></a>  <span class="comment">     *</span>
<a name="l1989"><span class="linenum">1989</span></a>  <span class="comment">     * @param    string        UTF-8 string to search in</span>
<a name="l1990"><span class="linenum">1990</span></a>  <span class="comment">     * @param    string        UTF-8 character to search for (single character)</span>
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">     * @return    integer        The character position</span>
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">     * @see strrpos()</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment">     */</span>
<a name="l1995"><span class="linenum">1995</span></a>  	function <a class="function" onClick="logFunction('utf8_strrpos')" href="../../_functions/utf8_strrpos.html" onMouseOver="funcPopup(event,'utf8_strrpos')">utf8_strrpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>) {
<a name="l1996"><span class="linenum">1996</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'mbstring') {
<a name="l1997"><span class="linenum">1997</span></a>              return <a class="phpfunction" onClick="logFunction('mb_strrpos')" href="../../_functions/mb_strrpos.html" onMouseOver="phpfuncPopup(event,'mb_strrpos')">mb_strrpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, 'utf-8');
<a name="l1998"><span class="linenum">1998</span></a>          } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['t3lib_cs_utils'] == 'iconv') {
<a name="l1999"><span class="linenum">1999</span></a>              return <a class="phpfunction" onClick="logFunction('iconv_strrpos')" href="../../_functions/iconv_strrpos.html" onMouseOver="phpfuncPopup(event,'iconv_strrpos')">iconv_strrpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, 'utf-8');
<a name="l2000"><span class="linenum">2000</span></a>          }
<a name="l2001"><span class="linenum">2001</span></a>  
<a name="l2002"><span class="linenum">2002</span></a>          <a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>);
<a name="l2003"><span class="linenum">2003</span></a>          if (<a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a> === FALSE) {
<a name="l2004"><span class="linenum">2004</span></a>              return FALSE;
<a name="l2005"><span class="linenum">2005</span></a>          } <span class="comment">// needle not found</span>
<a name="l2006"><span class="linenum">2006</span></a>  
<a name="l2007"><span class="linenum">2007</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('utf8_byte2char_pos')" href="../../_functions/utf8_byte2char_pos.html" onMouseOver="funcPopup(event,'utf8_byte2char_pos')">utf8_byte2char_pos</a>(<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>, <a class="var it2078" onMouseOver="hilite(2078)" onMouseOut="lolite()" onClick="logVariable('byte_pos')" href="../../_variables/byte_pos.html">$byte_pos</a>);
<a name="l2008"><span class="linenum">2008</span></a>      }
<a name="l2009"><span class="linenum">2009</span></a>  
<a name="l2010"><span class="linenum">2010</span></a>      <span class="comment">/**</span>
<a name="l2011"><span class="linenum">2011</span></a>  <span class="comment">     * Translates a character position into an 'absolute' byte position.</span>
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment">     * Unit tested by Kasper.</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">     *</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">     * @param    string        UTF-8 string</span>
<a name="l2015"><span class="linenum">2015</span></a>  <span class="comment">     * @param    integer        Character position (negative values start from the end)</span>
<a name="l2016"><span class="linenum">2016</span></a>  <span class="comment">     * @return    integer        Byte position</span>
<a name="l2017"><span class="linenum">2017</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2018"><span class="linenum">2018</span></a>  <span class="comment">     */</span>
<a name="l2019"><span class="linenum">2019</span></a>  	function <a class="function" onClick="logFunction('utf8_char2byte_pos')" href="../../_functions/utf8_char2byte_pos.html" onMouseOver="funcPopup(event,'utf8_char2byte_pos')">utf8_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>) {
<a name="l2020"><span class="linenum">2020</span></a>          <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = 0; <span class="comment">// number of characters found</span>
<a name="l2021"><span class="linenum">2021</span></a>          <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> = <a class="phpfunction" onClick="logFunction('abs')" href="../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>); <span class="comment">// number of characters wanted</span>
<a name="l2022"><span class="linenum">2022</span></a>  
<a name="l2023"><span class="linenum">2023</span></a>          if (<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> &gt;= 0) {
<a name="l2024"><span class="linenum">2024</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0;
<a name="l2025"><span class="linenum">2025</span></a>              <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a> = 1;
<a name="l2026"><span class="linenum">2026</span></a>          } else {
<a name="l2027"><span class="linenum">2027</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) - 1;
<a name="l2028"><span class="linenum">2028</span></a>              <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a> = -1;
<a name="l2029"><span class="linenum">2029</span></a>          }
<a name="l2030"><span class="linenum">2030</span></a>  
<a name="l2031"><span class="linenum">2031</span></a>          for (; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp;&amp; <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> &lt; <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> += <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>) {
<a name="l2032"><span class="linenum">2032</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = (int) <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2033"><span class="linenum">2033</span></a>              if (!(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0x80)) // single-byte (0xxxxxx)
<a name="l2034"><span class="linenum">2034</span></a>              {
<a name="l2035"><span class="linenum">2035</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2036"><span class="linenum">2036</span></a>              }
<a name="l2037"><span class="linenum">2037</span></a>              elseif ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0xC0) == 0xC0) // multi-byte starting byte (11xxxxxx)
<a name="l2038"><span class="linenum">2038</span></a>              {
<a name="l2039"><span class="linenum">2039</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2040"><span class="linenum">2040</span></a>              }
<a name="l2041"><span class="linenum">2041</span></a>          }
<a name="l2042"><span class="linenum">2042</span></a>          if (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>})) {
<a name="l2043"><span class="linenum">2043</span></a>              return FALSE;
<a name="l2044"><span class="linenum">2044</span></a>          } <span class="comment">// offset beyond string length</span>
<a name="l2045"><span class="linenum">2045</span></a>  
<a name="l2046"><span class="linenum">2046</span></a>          if (<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> &gt;= 0) {
<a name="l2047"><span class="linenum">2047</span></a>  <span class="comment">                // skip trailing multi-byte data bytes</span>
<a name="l2048"><span class="linenum">2048</span></a>              while ((<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp; 0x80) &amp;&amp; !(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp; 0x40)) {
<a name="l2049"><span class="linenum">2049</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2050"><span class="linenum">2050</span></a>              }
<a name="l2051"><span class="linenum">2051</span></a>          } else {
<a name="l2052"><span class="linenum">2052</span></a>  <span class="comment">                // correct offset</span>
<a name="l2053"><span class="linenum">2053</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2054"><span class="linenum">2054</span></a>          }
<a name="l2055"><span class="linenum">2055</span></a>  
<a name="l2056"><span class="linenum">2056</span></a>          return <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>;
<a name="l2057"><span class="linenum">2057</span></a>      }
<a name="l2058"><span class="linenum">2058</span></a>  
<a name="l2059"><span class="linenum">2059</span></a>      <span class="comment">/**</span>
<a name="l2060"><span class="linenum">2060</span></a>  <span class="comment">     * Translates an 'absolute' byte position into a character position.</span>
<a name="l2061"><span class="linenum">2061</span></a>  <span class="comment">     * Unit tested by Kasper.</span>
<a name="l2062"><span class="linenum">2062</span></a>  <span class="comment">     *</span>
<a name="l2063"><span class="linenum">2063</span></a>  <span class="comment">     * @param    string        UTF-8 string</span>
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">     * @param    integer        byte position</span>
<a name="l2065"><span class="linenum">2065</span></a>  <span class="comment">     * @return    integer        character position</span>
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2067"><span class="linenum">2067</span></a>  <span class="comment">     */</span>
<a name="l2068"><span class="linenum">2068</span></a>  	function <a class="function" onClick="logFunction('utf8_byte2char_pos')" href="../../_functions/utf8_byte2char_pos.html" onMouseOver="funcPopup(event,'utf8_byte2char_pos')">utf8_byte2char_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>) {
<a name="l2069"><span class="linenum">2069</span></a>          <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = 0; <span class="comment">// number of characters</span>
<a name="l2070"><span class="linenum">2070</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>--) {
<a name="l2071"><span class="linenum">2071</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = (int) <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2072"><span class="linenum">2072</span></a>              if (!(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0x80)) // single-byte (0xxxxxx)
<a name="l2073"><span class="linenum">2073</span></a>              {
<a name="l2074"><span class="linenum">2074</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2075"><span class="linenum">2075</span></a>              }
<a name="l2076"><span class="linenum">2076</span></a>              elseif ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0xC0) == 0xC0) // multi-byte starting byte (11xxxxxx)
<a name="l2077"><span class="linenum">2077</span></a>              {
<a name="l2078"><span class="linenum">2078</span></a>                  <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2079"><span class="linenum">2079</span></a>              }
<a name="l2080"><span class="linenum">2080</span></a>          }
<a name="l2081"><span class="linenum">2081</span></a>          if (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>})) {
<a name="l2082"><span class="linenum">2082</span></a>              return FALSE;
<a name="l2083"><span class="linenum">2083</span></a>          } <span class="comment">// offset beyond string length</span>
<a name="l2084"><span class="linenum">2084</span></a>  
<a name="l2085"><span class="linenum">2085</span></a>          return <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>;
<a name="l2086"><span class="linenum">2086</span></a>      }
<a name="l2087"><span class="linenum">2087</span></a>  
<a name="l2088"><span class="linenum">2088</span></a>      <span class="comment">/**</span>
<a name="l2089"><span class="linenum">2089</span></a>  <span class="comment">     * Maps all characters of an UTF-8 string.</span>
<a name="l2090"><span class="linenum">2090</span></a>  <span class="comment">     *</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">     * @param    string        UTF-8 string</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">     * @param    string        mode: 'case' (case folding) or 'ascii' (ASCII transliteration)</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">     * @param    string        'case': conversion 'toLower' or 'toUpper'</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">     * @return    string        the converted string</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment">     */</span>
<a name="l2097"><span class="linenum">2097</span></a>  	function <a class="function" onClick="logFunction('utf8_char_mapping')" href="../../_functions/utf8_char_mapping.html" onMouseOver="funcPopup(event,'utf8_char_mapping')">utf8_char_mapping</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a> = '') {
<a name="l2098"><span class="linenum">2098</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initUnicodeData')" href="../../_functions/initunicodedata.html" onMouseOver="funcPopup(event,'initunicodedata')">initUnicodeData</a>(<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>)) {
<a name="l2099"><span class="linenum">2099</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2100"><span class="linenum">2100</span></a>          } <span class="comment">// do nothing</span>
<a name="l2101"><span class="linenum">2101</span></a>  
<a name="l2102"><span class="linenum">2102</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = '';
<a name="l2103"><span class="linenum">2103</span></a>          switch (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>) {
<a name="l2104"><span class="linenum">2104</span></a>              case 'case':
<a name="l2105"><span class="linenum">2105</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>['utf-8'][<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a>];
<a name="l2106"><span class="linenum">2106</span></a>                  break;
<a name="l2107"><span class="linenum">2107</span></a>  
<a name="l2108"><span class="linenum">2108</span></a>              case 'ascii':
<a name="l2109"><span class="linenum">2109</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>['utf-8'];
<a name="l2110"><span class="linenum">2110</span></a>                  break;
<a name="l2111"><span class="linenum">2111</span></a>  
<a name="l2112"><span class="linenum">2112</span></a>              default:
<a name="l2113"><span class="linenum">2113</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2114"><span class="linenum">2114</span></a>          }
<a name="l2115"><span class="linenum">2115</span></a>  
<a name="l2116"><span class="linenum">2116</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l2117"><span class="linenum">2117</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2118"><span class="linenum">2118</span></a>              if (!(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0x80)) // single-byte (0xxxxxx)
<a name="l2119"><span class="linenum">2119</span></a>              {
<a name="l2120"><span class="linenum">2120</span></a>                  <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a> = <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>};
<a name="l2121"><span class="linenum">2121</span></a>              }
<a name="l2122"><span class="linenum">2122</span></a>              elseif ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0xC0) == 0xC0) { // multi-byte starting byte (11xxxxxx)
<a name="l2123"><span class="linenum">2123</span></a>                  for (<a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a> = 0; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &amp; 0x80; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &lt;&lt; 1) {
<a name="l2124"><span class="linenum">2124</span></a>                      <a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a>++;
<a name="l2125"><span class="linenum">2125</span></a>                  } <span class="comment">// calculate number of bytes</span>
<a name="l2126"><span class="linenum">2126</span></a>                  <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>, <a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a>);
<a name="l2127"><span class="linenum">2127</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> += <a class="var it2075" onMouseOver="hilite(2075)" onMouseOut="lolite()" onClick="logVariable('bc')" href="../../_variables/bc.html">$bc</a> - 1;
<a name="l2128"><span class="linenum">2128</span></a>              }
<a name="l2129"><span class="linenum">2129</span></a>  
<a name="l2130"><span class="linenum">2130</span></a>              if (isset(<a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>])) {
<a name="l2131"><span class="linenum">2131</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>];
<a name="l2132"><span class="linenum">2132</span></a>              } else {
<a name="l2133"><span class="linenum">2133</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>;
<a name="l2134"><span class="linenum">2134</span></a>              }
<a name="l2135"><span class="linenum">2135</span></a>          }
<a name="l2136"><span class="linenum">2136</span></a>  
<a name="l2137"><span class="linenum">2137</span></a>          return <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l2138"><span class="linenum">2138</span></a>      }
<a name="l2139"><span class="linenum">2139</span></a>  
<a name="l2140"><span class="linenum">2140</span></a>  
<a name="l2141"><span class="linenum">2141</span></a>      <span class="comment">/********************************************</span>
<a name="l2142"><span class="linenum">2142</span></a>  <span class="comment">     *</span>
<a name="l2143"><span class="linenum">2143</span></a>  <span class="comment">     * Internal EUC string operation functions</span>
<a name="l2144"><span class="linenum">2144</span></a>  <span class="comment">     *</span>
<a name="l2145"><span class="linenum">2145</span></a>  <span class="comment">     * Extended Unix Code:</span>
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">     *  ASCII compatible 7bit single bytes chars</span>
<a name="l2147"><span class="linenum">2147</span></a>  <span class="comment">     *  8bit two byte chars</span>
<a name="l2148"><span class="linenum">2148</span></a>  <span class="comment">     *</span>
<a name="l2149"><span class="linenum">2149</span></a>  <span class="comment">     * Shift-JIS is treated as a special case.</span>
<a name="l2150"><span class="linenum">2150</span></a>  <span class="comment">     *</span>
<a name="l2151"><span class="linenum">2151</span></a>  <span class="comment">     ********************************************/</span>
<a name="l2152"><span class="linenum">2152</span></a>  
<a name="l2153"><span class="linenum">2153</span></a>      <span class="comment">/**</span>
<a name="l2154"><span class="linenum">2154</span></a>  <span class="comment">     * Cuts a string in the EUC charset family short at a given byte length.</span>
<a name="l2155"><span class="linenum">2155</span></a>  <span class="comment">     *</span>
<a name="l2156"><span class="linenum">2156</span></a>  <span class="comment">     * @param    string        EUC multibyte character string</span>
<a name="l2157"><span class="linenum">2157</span></a>  <span class="comment">     * @param    integer        the byte length</span>
<a name="l2158"><span class="linenum">2158</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l2159"><span class="linenum">2159</span></a>  <span class="comment">     * @return    string        the shortened string</span>
<a name="l2160"><span class="linenum">2160</span></a>  <span class="comment">     * @see mb_strcut()</span>
<a name="l2161"><span class="linenum">2161</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2162"><span class="linenum">2162</span></a>  <span class="comment">     */</span>
<a name="l2163"><span class="linenum">2163</span></a>  	function <a class="function" onClick="logFunction('euc_strtrunc')" href="../../_functions/euc_strtrunc.html" onMouseOver="funcPopup(event,'euc_strtrunc')">euc_strtrunc</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l2164"><span class="linenum">2164</span></a>          <a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a> = (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'shift_jis');
<a name="l2165"><span class="linenum">2165</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp;&amp; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l2166"><span class="linenum">2166</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2167"><span class="linenum">2167</span></a>              if (<a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a>) {
<a name="l2168"><span class="linenum">2168</span></a>                  if ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80 &amp;&amp; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &lt; 0xA0) || (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0xE0)) {
<a name="l2169"><span class="linenum">2169</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2170"><span class="linenum">2170</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2171"><span class="linenum">2171</span></a>              }
<a name="l2172"><span class="linenum">2172</span></a>              else {
<a name="l2173"><span class="linenum">2173</span></a>                  if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80) {
<a name="l2174"><span class="linenum">2174</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2175"><span class="linenum">2175</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2176"><span class="linenum">2176</span></a>              }
<a name="l2177"><span class="linenum">2177</span></a>          }
<a name="l2178"><span class="linenum">2178</span></a>          if (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>})) {
<a name="l2179"><span class="linenum">2179</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2180"><span class="linenum">2180</span></a>          } <span class="comment">// string shorter than supplied length</span>
<a name="l2181"><span class="linenum">2181</span></a>  
<a name="l2182"><span class="linenum">2182</span></a>          if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>) {
<a name="l2183"><span class="linenum">2183</span></a>              return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> - 1); <span class="comment">// we ended on a first byte</span>
<a name="l2184"><span class="linenum">2184</span></a>          } else {
<a name="l2185"><span class="linenum">2185</span></a>              return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l2186"><span class="linenum">2186</span></a>          }
<a name="l2187"><span class="linenum">2187</span></a>      }
<a name="l2188"><span class="linenum">2188</span></a>  
<a name="l2189"><span class="linenum">2189</span></a>      <span class="comment">/**</span>
<a name="l2190"><span class="linenum">2190</span></a>  <span class="comment">     * Returns a part of a string in the EUC charset family.</span>
<a name="l2191"><span class="linenum">2191</span></a>  <span class="comment">     *</span>
<a name="l2192"><span class="linenum">2192</span></a>  <span class="comment">     * @param    string        EUC multibyte character string</span>
<a name="l2193"><span class="linenum">2193</span></a>  <span class="comment">     * @param    integer        start position (character position)</span>
<a name="l2194"><span class="linenum">2194</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l2195"><span class="linenum">2195</span></a>  <span class="comment">     * @param    integer        length (in characters)</span>
<a name="l2196"><span class="linenum">2196</span></a>  <span class="comment">     * @return    string        the substring</span>
<a name="l2197"><span class="linenum">2197</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2198"><span class="linenum">2198</span></a>  <span class="comment">     */</span>
<a name="l2199"><span class="linenum">2199</span></a>  	function <a class="function" onClick="logFunction('euc_substr')" href="../../_functions/euc_substr.html" onMouseOver="funcPopup(event,'euc_substr')">euc_substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = NULL) {
<a name="l2200"><span class="linenum">2200</span></a>          <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_char2byte_pos')" href="../../_functions/euc_char2byte_pos.html" onMouseOver="funcPopup(event,'euc_char2byte_pos')">euc_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l2201"><span class="linenum">2201</span></a>          if (<a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a> === FALSE) {
<a name="l2202"><span class="linenum">2202</span></a>              return FALSE;
<a name="l2203"><span class="linenum">2203</span></a>          } <span class="comment">// $start outside string length</span>
<a name="l2204"><span class="linenum">2204</span></a>  
<a name="l2205"><span class="linenum">2205</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it2072" onMouseOver="hilite(2072)" onMouseOut="lolite()" onClick="logVariable('byte_start')" href="../../_variables/byte_start.html">$byte_start</a>);
<a name="l2206"><span class="linenum">2206</span></a>  
<a name="l2207"><span class="linenum">2207</span></a>          if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> != NULL) {
<a name="l2208"><span class="linenum">2208</span></a>              <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('euc_char2byte_pos')" href="../../_functions/euc_char2byte_pos.html" onMouseOver="funcPopup(event,'euc_char2byte_pos')">euc_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l2209"><span class="linenum">2209</span></a>              if (<a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a> === FALSE) // <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> outside actual string length
<a name="l2210"><span class="linenum">2210</span></a>              {
<a name="l2211"><span class="linenum">2211</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2212"><span class="linenum">2212</span></a>              }
<a name="l2213"><span class="linenum">2213</span></a>              else
<a name="l2214"><span class="linenum">2214</span></a>              {
<a name="l2215"><span class="linenum">2215</span></a>                  return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 0, <a class="var it2073" onMouseOver="hilite(2073)" onMouseOut="lolite()" onClick="logVariable('byte_end')" href="../../_variables/byte_end.html">$byte_end</a>);
<a name="l2216"><span class="linenum">2216</span></a>              }
<a name="l2217"><span class="linenum">2217</span></a>          }
<a name="l2218"><span class="linenum">2218</span></a>          else    {
<a name="l2219"><span class="linenum">2219</span></a>              return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2220"><span class="linenum">2220</span></a>          }
<a name="l2221"><span class="linenum">2221</span></a>      }
<a name="l2222"><span class="linenum">2222</span></a>  
<a name="l2223"><span class="linenum">2223</span></a>      <span class="comment">/**</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment">     * Counts the number of characters of a string in the EUC charset family.</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment">     *</span>
<a name="l2226"><span class="linenum">2226</span></a>  <span class="comment">     * @param    string        EUC multibyte character string</span>
<a name="l2227"><span class="linenum">2227</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l2228"><span class="linenum">2228</span></a>  <span class="comment">     * @return    integer        the number of characters</span>
<a name="l2229"><span class="linenum">2229</span></a>  <span class="comment">     * @see strlen()</span>
<a name="l2230"><span class="linenum">2230</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2231"><span class="linenum">2231</span></a>  <span class="comment">     */</span>
<a name="l2232"><span class="linenum">2232</span></a>  	function <a class="function" onClick="logFunction('euc_strlen')" href="../../_functions/euc_strlen.html" onMouseOver="funcPopup(event,'euc_strlen')">euc_strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l2233"><span class="linenum">2233</span></a>          <a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a> = (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'shift_jis');
<a name="l2234"><span class="linenum">2234</span></a>          <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = 0;
<a name="l2235"><span class="linenum">2235</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l2236"><span class="linenum">2236</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2237"><span class="linenum">2237</span></a>              if (<a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a>) {
<a name="l2238"><span class="linenum">2238</span></a>                  if ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80 &amp;&amp; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &lt; 0xA0) || (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0xE0)) {
<a name="l2239"><span class="linenum">2239</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2240"><span class="linenum">2240</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2241"><span class="linenum">2241</span></a>              }
<a name="l2242"><span class="linenum">2242</span></a>              else {
<a name="l2243"><span class="linenum">2243</span></a>                  if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80) {
<a name="l2244"><span class="linenum">2244</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2245"><span class="linenum">2245</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2246"><span class="linenum">2246</span></a>              }
<a name="l2247"><span class="linenum">2247</span></a>  
<a name="l2248"><span class="linenum">2248</span></a>              <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2249"><span class="linenum">2249</span></a>          }
<a name="l2250"><span class="linenum">2250</span></a>  
<a name="l2251"><span class="linenum">2251</span></a>          return <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>;
<a name="l2252"><span class="linenum">2252</span></a>      }
<a name="l2253"><span class="linenum">2253</span></a>  
<a name="l2254"><span class="linenum">2254</span></a>      <span class="comment">/**</span>
<a name="l2255"><span class="linenum">2255</span></a>  <span class="comment">     * Translates a character position into an 'absolute' byte position.</span>
<a name="l2256"><span class="linenum">2256</span></a>  <span class="comment">     *</span>
<a name="l2257"><span class="linenum">2257</span></a>  <span class="comment">     * @param    string        EUC multibyte character string</span>
<a name="l2258"><span class="linenum">2258</span></a>  <span class="comment">     * @param    integer        character position (negative values start from the end)</span>
<a name="l2259"><span class="linenum">2259</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l2260"><span class="linenum">2260</span></a>  <span class="comment">     * @return    integer        byte position</span>
<a name="l2261"><span class="linenum">2261</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2262"><span class="linenum">2262</span></a>  <span class="comment">     */</span>
<a name="l2263"><span class="linenum">2263</span></a>  	function <a class="function" onClick="logFunction('euc_char2byte_pos')" href="../../_functions/euc_char2byte_pos.html" onMouseOver="funcPopup(event,'euc_char2byte_pos')">euc_char2byte_pos</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l2264"><span class="linenum">2264</span></a>          <a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a> = (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'shift_jis');
<a name="l2265"><span class="linenum">2265</span></a>          <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = 0; <span class="comment">// number of characters seen</span>
<a name="l2266"><span class="linenum">2266</span></a>          <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> = <a class="phpfunction" onClick="logFunction('abs')" href="../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>); <span class="comment">// number of characters wanted</span>
<a name="l2267"><span class="linenum">2267</span></a>  
<a name="l2268"><span class="linenum">2268</span></a>          if (<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> &gt;= 0) {
<a name="l2269"><span class="linenum">2269</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0;
<a name="l2270"><span class="linenum">2270</span></a>              <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a> = 1;
<a name="l2271"><span class="linenum">2271</span></a>          } else {
<a name="l2272"><span class="linenum">2272</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) - 1;
<a name="l2273"><span class="linenum">2273</span></a>              <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a> = -1;
<a name="l2274"><span class="linenum">2274</span></a>          }
<a name="l2275"><span class="linenum">2275</span></a>  
<a name="l2276"><span class="linenum">2276</span></a>          for (; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}) &amp;&amp; <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> &lt; <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> += <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>) {
<a name="l2277"><span class="linenum">2277</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>});
<a name="l2278"><span class="linenum">2278</span></a>              if (<a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a>) {
<a name="l2279"><span class="linenum">2279</span></a>                  if ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80 &amp;&amp; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &lt; 0xA0) || (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0xE0)) {
<a name="l2280"><span class="linenum">2280</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> += <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>;
<a name="l2281"><span class="linenum">2281</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2282"><span class="linenum">2282</span></a>              }
<a name="l2283"><span class="linenum">2283</span></a>              else {
<a name="l2284"><span class="linenum">2284</span></a>                  if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80) {
<a name="l2285"><span class="linenum">2285</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> += <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>;
<a name="l2286"><span class="linenum">2286</span></a>                  } <span class="comment">// advance a double-byte char</span>
<a name="l2287"><span class="linenum">2287</span></a>              }
<a name="l2288"><span class="linenum">2288</span></a>  
<a name="l2289"><span class="linenum">2289</span></a>              <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++;
<a name="l2290"><span class="linenum">2290</span></a>          }
<a name="l2291"><span class="linenum">2291</span></a>          if (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>})) {
<a name="l2292"><span class="linenum">2292</span></a>              return FALSE;
<a name="l2293"><span class="linenum">2293</span></a>          } <span class="comment">// offset beyond string length</span>
<a name="l2294"><span class="linenum">2294</span></a>  
<a name="l2295"><span class="linenum">2295</span></a>          if (<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> &lt; 0) {
<a name="l2296"><span class="linenum">2296</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2297"><span class="linenum">2297</span></a>          } <span class="comment">// correct offset</span>
<a name="l2298"><span class="linenum">2298</span></a>  
<a name="l2299"><span class="linenum">2299</span></a>          return <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>;
<a name="l2300"><span class="linenum">2300</span></a>      }
<a name="l2301"><span class="linenum">2301</span></a>  
<a name="l2302"><span class="linenum">2302</span></a>      <span class="comment">/**</span>
<a name="l2303"><span class="linenum">2303</span></a>  <span class="comment">     * Maps all characters of a string in the EUC charset family.</span>
<a name="l2304"><span class="linenum">2304</span></a>  <span class="comment">     *</span>
<a name="l2305"><span class="linenum">2305</span></a>  <span class="comment">     * @param    string        EUC multibyte character string</span>
<a name="l2306"><span class="linenum">2306</span></a>  <span class="comment">     * @param    string        the charset</span>
<a name="l2307"><span class="linenum">2307</span></a>  <span class="comment">     * @param    string        mode: 'case' (case folding) or 'ascii' (ASCII transliteration)</span>
<a name="l2308"><span class="linenum">2308</span></a>  <span class="comment">     * @param    string        'case': conversion 'toLower' or 'toUpper'</span>
<a name="l2309"><span class="linenum">2309</span></a>  <span class="comment">     * @return    string        the converted string</span>
<a name="l2310"><span class="linenum">2310</span></a>  <span class="comment">     * @author    Martin Kutschker &lt;martin.t.kutschker@blackbox.net&gt;</span>
<a name="l2311"><span class="linenum">2311</span></a>  <span class="comment">     */</span>
<a name="l2312"><span class="linenum">2312</span></a>  	function <a class="function" onClick="logFunction('euc_char_mapping')" href="../../_functions/euc_char_mapping.html" onMouseOver="funcPopup(event,'euc_char_mapping')">euc_char_mapping</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a> = '') {
<a name="l2313"><span class="linenum">2313</span></a>          switch (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>) {
<a name="l2314"><span class="linenum">2314</span></a>              case 'case':
<a name="l2315"><span class="linenum">2315</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initCaseFolding')" href="../../_functions/initcasefolding.html" onMouseOver="funcPopup(event,'initcasefolding')">initCaseFolding</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l2316"><span class="linenum">2316</span></a>                      return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2317"><span class="linenum">2317</span></a>                  } <span class="comment">// do nothing</span>
<a name="l2318"><span class="linenum">2318</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('caseFolding')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/caseFolding.html">caseFolding</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>][<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('opt')" href="../../_variables/opt.html">$opt</a>];
<a name="l2319"><span class="linenum">2319</span></a>                  break;
<a name="l2320"><span class="linenum">2320</span></a>  
<a name="l2321"><span class="linenum">2321</span></a>              case 'ascii':
<a name="l2322"><span class="linenum">2322</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initToASCII')" href="../../_functions/inittoascii.html" onMouseOver="funcPopup(event,'inittoascii')">initToASCII</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>)) {
<a name="l2323"><span class="linenum">2323</span></a>                      return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2324"><span class="linenum">2324</span></a>                  } <span class="comment">// do nothing</span>
<a name="l2325"><span class="linenum">2325</span></a>                  <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a> =&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('toASCII')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/toASCII.html">toASCII</a>[<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>];
<a name="l2326"><span class="linenum">2326</span></a>                  break;
<a name="l2327"><span class="linenum">2327</span></a>  
<a name="l2328"><span class="linenum">2328</span></a>              default:
<a name="l2329"><span class="linenum">2329</span></a>                  return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l2330"><span class="linenum">2330</span></a>          }
<a name="l2331"><span class="linenum">2331</span></a>  
<a name="l2332"><span class="linenum">2332</span></a>          <a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a> = (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> == 'shift_jis');
<a name="l2333"><span class="linenum">2333</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = '';
<a name="l2334"><span class="linenum">2334</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>}); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l2335"><span class="linenum">2335</span></a>              <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a> = <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>{<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>};
<a name="l2336"><span class="linenum">2336</span></a>              <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>);
<a name="l2337"><span class="linenum">2337</span></a>  
<a name="l2338"><span class="linenum">2338</span></a>              if (<a class="var it2080" onMouseOver="hilite(2080)" onMouseOut="lolite()" onClick="logVariable('sjis')" href="../../_variables/sjis.html">$sjis</a>) {
<a name="l2339"><span class="linenum">2339</span></a>                  if ((<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80 &amp;&amp; <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &lt; 0xA0) || (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0xE0)) { // a double-byte char
<a name="l2340"><span class="linenum">2340</span></a>                      <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>, 2);
<a name="l2341"><span class="linenum">2341</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2342"><span class="linenum">2342</span></a>                  }
<a name="l2343"><span class="linenum">2343</span></a>              }
<a name="l2344"><span class="linenum">2344</span></a>              else {
<a name="l2345"><span class="linenum">2345</span></a>                  if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> &gt;= 0x80) { // a double-byte char
<a name="l2346"><span class="linenum">2346</span></a>                      <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>, 2);
<a name="l2347"><span class="linenum">2347</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l2348"><span class="linenum">2348</span></a>                  }
<a name="l2349"><span class="linenum">2349</span></a>              }
<a name="l2350"><span class="linenum">2350</span></a>  
<a name="l2351"><span class="linenum">2351</span></a>              if (isset(<a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>])) {
<a name="l2352"><span class="linenum">2352</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it2071" onMouseOver="hilite(2071)" onMouseOut="lolite()" onClick="logVariable('map')" href="../../_variables/map.html">$map</a>[<a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>];
<a name="l2353"><span class="linenum">2353</span></a>              } else {
<a name="l2354"><span class="linenum">2354</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> .= <a class="var it2079" onMouseOver="hilite(2079)" onMouseOut="lolite()" onClick="logVariable('mbc')" href="../../_variables/mbc.html">$mbc</a>;
<a name="l2355"><span class="linenum">2355</span></a>              }
<a name="l2356"><span class="linenum">2356</span></a>          }
<a name="l2357"><span class="linenum">2357</span></a>  
<a name="l2358"><span class="linenum">2358</span></a>          return <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l2359"><span class="linenum">2359</span></a>      }
<a name="l2360"><span class="linenum">2360</span></a>  
<a name="l2361"><span class="linenum">2361</span></a>  }
<a name="l2362"><span class="linenum">2362</span></a>  
<a name="l2363"><span class="linenum">2363</span></a>  if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('TYPO3_MODE') &amp;&amp; isset(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS'][TYPO3_MODE]['XCLASS']['t3lib/class.t3lib_cs.php'])) {
<a name="l2364"><span class="linenum">2364</span></a>      include_once(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS'][TYPO3_MODE]['XCLASS']['t3lib/class.t3lib_cs.php']);
<a name="l2365"><span class="linenum">2365</span></a>  }
<a name="l2366"><span class="linenum">2366</span></a>  
<a name="l2367"><span class="linenum">2367</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'conv_case': ['conv_case', 'Translates all characters of a string into their respective case values. Unlike strtolower() and strtoupper() this method is locale independent. Note that the string length may change! eg. lower case German "ß" (sharp S) becomes upper case "SS" Unit-tested by Kasper Real case folding is language dependent, this method ignores this fact. ', [['lib/typo3','class.t3lib_cs.php',1668]], 3],
'utf8chartounumber': ['utf8chartounumber', 'Converts a UTF-8 Multibyte character to a UNICODE number Unit-tested by Kasper ', [['lib/typo3','class.t3lib_cs.php',971]], 3],
'validpathstr': ['validpathstr', 'Checks for malicious file paths. ', [['lib/typo3','class.t3lib_div.php',3914]], 8],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'parse_charset': ['parse_charset', 'Normalize - changes input character set to lowercase letters. ', [['lib/typo3','class.t3lib_cs.php',516],['lib/classes','text.php',116]], 15],
'euc_substr': ['euc_substr', 'Returns a part of a string in the EUC charset family. ', [['lib/typo3','class.t3lib_cs.php',2189]], 1],
'iconv': ['iconv', 'Wrapper around global function iconv() ', [['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',255],['lib/htmlpurifier/HTMLPurifier','Encoder.php',40]], 23],
'utf8_char_mapping': ['utf8_char_mapping', 'Maps all characters of an UTF-8 string. ', [['lib/typo3','class.t3lib_cs.php',2088]], 2],
'getpreferredclientlanguage': ['getpreferredclientlanguage', 'converts the language codes that we get from the client (usually HTTP_ACCEPT_LANGUAGE) into a TYPO3-readable language code ', [['lib/typo3','class.t3lib_cs.php',1739]], 0],
'utf8_strpos': ['utf8_strpos', 'Find position of first occurrence of a string, both arguments are in UTF-8. ', [['lib/typo3','class.t3lib_cs.php',1956]], 0],
'getfileabsfilename': ['getfileabsfilename', 'Returns the absolute filename of a relative reference, resolves the "EXT:" prefix (way of referring to files inside extensions) and checks that the file is inside the PATH_site of the TYPO3 installation and implies a check with t3lib_div::validPathStr(). Returns FALSE if checks failed. Does not check if the file exists. ', [['lib/typo3','class.t3lib_div.php',3877]], 12],
'sb_char_mapping': ['sb_char_mapping', 'Maps all characters of a string in a single byte charset. ', [['lib/typo3','class.t3lib_cs.php',1807]], 2],
'utf8_strlen': ['utf8_strlen', 'Counts the number of characters of a string in UTF-8. Unit-tested by Kasper and works 100% like strlen() / mb_strlen() ', [['lib/typo3','class.t3lib_cs.php',1900]], 1],
'euc_char2byte_pos': ['euc_char2byte_pos', 'Translates a character position into an \'absolute\' byte position. ', [['lib/typo3','class.t3lib_cs.php',2254]], 3],
'euc_char_mapping': ['euc_char_mapping', 'Maps all characters of a string in the EUC charset family. ', [['lib/typo3','class.t3lib_cs.php',2302]], 2],
'convarray': ['convarray', 'Convert all elements in ARRAY with type string from one charset to another charset. NOTICE: Array is passed by reference! ', [['lib/typo3','class.t3lib_cs.php',639]], 1],
'utf8_encode': ['utf8_encode', 'Converts $str from $charset to UTF-8 ', [['lib/typo3','class.t3lib_cs.php',660]], 8],
'utf8_char2byte_pos': ['utf8_char2byte_pos', 'Translates a character position into an \'absolute\' byte position. Unit tested by Kasper. ', [['lib/typo3','class.t3lib_cs.php',2010]], 4],
'substr': ['substr', 'Returns part of a string. ', [['lib/horde/framework/Horde','String.php',289],['lib/typo3','class.t3lib_cs.php',1463],['lib/classes','text.php',207]], 2823],
'strtrunc': ['strtrunc', 'Cuts a string short at a given byte length. ', [['lib/typo3','class.t3lib_cs.php',1635]], 1],
'convcasefirst': ['convcasefirst', 'Equivalent of lcfirst/ucfirst but using character set. ', [['lib/typo3','class.t3lib_cs.php',1702]], 0],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'utf8_to_numberarray': ['utf8_to_numberarray', 'Converts all chars in the input UTF-8 string into integer numbers returned in an array ', [['lib/typo3','class.t3lib_cs.php',861]], 0],
'cropmbstring': ['cropmbstring', 'Method to crop strings using the mb_substr function. ', [['lib/typo3','class.t3lib_cs.php',1548]], 1],
'initcasefolding': ['initcasefolding', 'This function initializes the folding table for a charset other than UTF-8. This function is automatically called by the case folding functions. ', [['lib/typo3','class.t3lib_cs.php',1338]], 2],
'get_locale_charset': ['get_locale_charset', 'Get the charset of a locale. ', [['lib/typo3','class.t3lib_cs.php',532]], 0],
'conv': ['conv', 'Convert from one charset to another charset. ', [['lib/typo3','class.t3lib_cs.php',588]], 8],
'utf8_decode': ['utf8_decode', 'Converts $str from UTF-8 to $charset ', [['lib/typo3','class.t3lib_cs.php',713]], 13],
'utf8_to_entities': ['utf8_to_entities', 'Converts all chars > 127 to numeric entities. ', [['lib/typo3','class.t3lib_cs.php',772],['mod/scorm/datamodels','scormlib.php',895],['lib/classes','text.php',581]], 9],
'fopen': ['fopen', 'Return a stream handle to this stream. ', [['lib/horde/framework/Horde/Support','CombineStream.php',41],['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',15],['lib/horde/framework/Horde/Support','StringStream.php',41]], 221],
'initcharset': ['initcharset', 'This will initialize a charset for use if it\'s defined in the PATH_t3lib.\'csconvtbl/\' folder This function is automatically called by the conversion functions ', [['lib/typo3','class.t3lib_cs.php',1010]], 4],
'crop': ['crop', 'Truncates a string and pre-/appends a string. Unit tested by Kasper ', [['lib/typo3','class.t3lib_cs.php',1572]], 3],
'geturl': ['geturl', '', [['lib/google/src/Google/Service','AdSense.php',2465],['lib/google/src/Google/Service','AdSense.php',2664],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',57],['lib/google/src/Google/Service','Partners.php',1331],['lib/google/src/Google/Service','Partners.php',1428],['lib/google/src/Google/Service','AndroidPublisher.php',2916],['lib/google/src/Google/Service','Appengine.php',615],['lib/google/src/Google/Service','AdExchangeBuyer.php',1772],['lib/google/src/Google/Service','AdExchangeBuyer.php',2907],['lib/google/src/Google/Service','AdExchangeBuyer.php',2942],['lib/google/src/Google/Service','AdExchangeBuyer.php',2977],['lib/google/src/Google/Service','Books.php',3744],['lib/google/src/Google/Service','Books.php',3846],['lib/google/src/Google/Service','Books.php',3899],['lib/google/src/Google/Service','Books.php',4091],['lib/google/src/Google/Service','Books.php',4117],['lib/google/src/Google/Service','Books.php',4170],['lib/google/src/Google/Service','Books.php',4196],['lib/google/src/Google/Service','Books.php',5479],['lib/google/src/Google/Service','Analytics.php',5813],['lib/google/src/Google/Service','Analytics.php',7321],['lib/google/src/Google/Service','Analytics.php',7356],['lib/google/src/Google/Service','DeploymentManager.php',1071],['lib/google/src/Google/Service','Blogger.php',1826],['lib/google/src/Google/Service','Blogger.php',2218],['lib/google/src/Google/Service','Blogger.php',2235],['lib/google/src/Google/Service','Blogger.php',2459],['lib/google/src/Google/Service','Blogger.php',2504],['lib/google/src/Google/Service','Blogger.php',2521],['lib/google/src/Google/Service','Blogger.php',2832],['lib/google/src/Google/Service','Blogger.php',2877],['lib/google/src/Google/Service','Blogger.php',2894],['lib/google/src/Google/Service','Blogger.php',2928],['lib/google/src/Google/Service','Blogger.php',3274],['lib/google/src/Google/Service','Customsearch.php',448],['lib/google/src/Google/Service','Customsearch.php',1173],['lib/google/src/Google/Service','Clouddebugger.php',921],['lib/google/src/Google/Service','Games.php',3564],['lib/google/src/Google/Service','Games.php',6713],['lib/google/src/Google/Service','Doubleclicksearch.php',1115],['lib/google/src/Google/Service','Appsactivity.php',478],['lib/google/src/Google/Service','Drive.php',5771],['lib/google/src/Google/Service','AdSenseHost.php',1523],['lib/google/src/Google/Service','AdSenseHost.php',1703],['lib/google/src/Google/Service','Plus.php',835],['lib/google/src/Google/Service','Plus.php',910],['lib/google/src/Google/Service','Plus.php',970],['lib/google/src/Google/Service','Plus.php',1208],['lib/google/src/Google/Service','Plus.php',1265],['lib/google/src/Google/Service','Plus.php',1325],['lib/google/src/Google/Service','Plus.php',1436],['lib/google/src/Google/Service','Plus.php',1462],['lib/google/src/Google/Service','Plus.php',1498],['lib/google/src/Google/Service','Plus.php',1542],['lib/google/src/Google/Service','Plus.php',1586],['lib/google/src/Google/Service','Plus.php',1622],['lib/google/src/Google/Service','Plus.php',1894],['lib/google/src/Google/Service','Plus.php',1954],['lib/google/src/Google/Service','Plus.php',2079],['lib/google/src/Google/Service','Plus.php',2635],['lib/google/src/Google/Service','Plus.php',3151],['lib/google/src/Google/Service','Plus.php',3283],['lib/google/src/Google/Service','Plus.php',3343],['lib/google/src/Google/Service','AndroidEnterprise.php',3007],['auth/cas/CAS/CAS','Client.php',3467],['lib/google/src/Google/Service','Calendar.php',3450],['lib/google/src/Google/Service','PlusDomains.php',1126],['lib/google/src/Google/Service','PlusDomains.php',1201],['lib/google/src/Google/Service','PlusDomains.php',1261],['lib/google/src/Google/Service','PlusDomains.php',1509],['lib/google/src/Google/Service','PlusDomains.php',1566],['lib/google/src/Google/Service','PlusDomains.php',1626],['lib/google/src/Google/Service','PlusDomains.php',1747],['lib/google/src/Google/Service','PlusDomains.php',1773],['lib/google/src/Google/Service','PlusDomains.php',1809],['lib/google/src/Google/Service','PlusDomains.php',1853],['lib/google/src/Google/Service','PlusDomains.php',1878],['lib/google/src/Google/Service','PlusDomains.php',1914],['lib/google/src/Google/Service','PlusDomains.php',1950],['lib/google/src/Google/Service','PlusDomains.php',2555],['lib/google/src/Google/Service','PlusDomains.php',2615],['lib/google/src/Google/Service','PlusDomains.php',2740],['lib/google/src/Google/Service','PlusDomains.php',2942],['lib/google/src/Google/Service','PlusDomains.php',3011],['lib/google/src/Google/Service','PlusDomains.php',3028],['lib/google/src/Google/Service','PlusDomains.php',3370],['lib/google/src/Google/Service','PlusDomains.php',3476],['lib/google/src/Google/Service','PlusDomains.php',3536],['lib/google/src/Google/Service','PlusDomains.php',3917],['lib/typo3','class.t3lib_div.php',2587],['lib/google/src/Google/Service','Storagetransfer.php',615],['lib/google/src/Google/Service','GamesConfiguration.php',827],['lib/google/src/Google/Service','YouTube.php',5722],['lib/google/src/Google/Service','YouTube.php',11014],['lib/google/src/Google/Http','Request.php',256],['lib/google/src/Google/Service','Dfareporting.php',14018],['lib/google/src/Google/Service','Dfareporting.php',14446],['lib/google/src/Google/Service','Dfareporting.php',15863],['lib/google/src/Google/Service','Dfareporting.php',21024]], 47],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1716],['lib/google/src/Google/Service','Games.php',2100]], 1030],
'unumbertochar': ['unumbertochar', 'Converts a UNICODE number to a UTF-8 multibyte character Algorithm based on script found at From: http://czyborra.com/utf/ Unit-tested by Kasper ', [['lib/typo3','class.t3lib_cs.php',906]], 12],
'utf8_byte2char_pos': ['utf8_byte2char_pos', 'Translates an \'absolute\' byte position into a character position. Unit tested by Kasper. ', [['lib/typo3','class.t3lib_cs.php',2059]], 2],
'initunicodedata': ['initunicodedata', 'This function initializes all UTF-8 character data tables. ', [['lib/typo3','class.t3lib_cs.php',1079]], 3],
'__construct': ['__construct', '', [['lib/adodb/drivers','adodb-odbc_mssql.inc.php',50],['lib/adodb/drivers','adodb-odbc_mssql.inc.php',359],['question/classes/statistics/responses','analyser.php',69],['auth/radius','auth.php',38],['lib/xmldb','xmldb_file.php',43],['lib/lessphp/Tree/Mixin','Definition.php',18],['cache/stores/static','lib.php',127],['lib/classes/session','file.php',40],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['backup/util/ui','base_moodleform.class.php',68],['lib/simplepie/library/SimplePie','Author.php',81],['lib/filestorage','zip_archive.php',66],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/phpexcel/PHPExcel','HashTable.php',44],['mod/quiz/tests','repaginate_test.php',39],['lib/form','modvisible.php',43],['lib/phpexcel/PHPExcel/Worksheet','Row.php',44],['cache','disabledlib.php',44],['lib/phpexcel/PHPExcel/Worksheet','Dimension.php',58],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['question/type/ddwtos','question.php',61],['mnet/xmlrpc','client.php',25],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes','useragent.php',115],['lib/pear/HTML/QuickForm','advcheckbox.php',66],['lib/classes/update','checker_exception.php',37],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',53],['lib/jabber/XMPP','XMPP.php',101],['lib/form','radio.php',44],['lib/spout/src/Spout/Reader/XLSX/Helper','StyleHelper.php',45],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/phpexcel/PHPExcel/Style','Border.php',67],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['lib/adodb/drivers','adodb-oci8quercus.inc.php',31],['lib/adodb/drivers','adodb-oci8quercus.inc.php',45],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',29],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/phpexcel/PHPExcel','DocumentProperties.php',123],['lib/typo3','class.t3lib_cs.php',509],['mod/workshop/allocation/scheduled','lib.php',48],['lib/adodb/drivers','adodb-netezza.inc.php',53],['lib/adodb/drivers','adodb-netezza.inc.php',144],['mod/feedback/classes','complete_form.php',58],['search/classes','document.php',188],['webservice/rest','locallib.php',40],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',57],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['backup/moodle2','backup_block_task.class.php',43],['lib/lessphp/Tree','Negative.php',14],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/pear/HTML/QuickForm','header.php',33],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','InMemoryStrategy.php',26],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',51],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',60],['lib/spout/src/Spout/Reader/ODS','Sheet.php',33],['question/type/calculated/tests','helper.php',205],['lib/adodb/drivers','adodb-odbtp.inc.php',38],['lib/adodb/drivers','adodb-odbtp.inc.php',673],['lib/adodb/drivers','adodb-odbtp.inc.php',796],['lib/adodb/drivers','adodb-odbtp.inc.php',806],['lib/adodb/drivers','adodb-odbtp.inc.php',816],['lib/adodb/drivers','adodb-odbtp.inc.php',826],['lib/adodb/drivers','adodb-odbtp.inc.php',836],['enrol/lti/ims-blti','blti.php',28],['backup/cc','cc2moodle.php',105],['mod/chat','locallib.php',181],['mod/chat','locallib.php',229],['user/filters','simpleselect.php',45],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',244],['lib/dml','pdo_moodle_database.php',42],['lib/adodb/drivers','adodb-sqlite3.inc.php',36],['lib/adodb/drivers','adodb-sqlite3.inc.php',350],['lib/pear/HTML/QuickForm','static.php',44],['competency/classes/external','comment_area_exporter.php',48],['lib/lessphp/Tree','Selector.php',31],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['auth/fc','fcFPP.php',33],['lib/xmldb','xmldb_key.php',43],['grade/grading/form/rubric','rubriceditor.php',56],['lib/google/src/Google/Service','Cloudlatencytest.php',40],['course','moodleform_mod.php',69],['auth/nntp','auth.php',35],['grade/report/grader','lib.php',111],['admin/tool/generator/classes','course_backend.php',116],['lib/minify/lib','FirePHP.php',189],['lib/adodb/drivers','adodb-sqlitepo.inc.php',38],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',66],['lib/lessphp/Tree','Rule.php',24],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/google/src/Google/Service','DataTransfer.php',44],['lib/google/src/Google/Http','Batch.php',42],['backup/util/structure','base_processor.class.php',49],['admin/tool/lpmigrate/classes','framework_mapper.php',50],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',46],['lib/lessphp/Tree','NameValue.php',22],['mod/quiz/classes','admin_review_setting.php',82],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['mod/quiz/report','attemptsreport_table.php',76],['blocks/lp/classes/output','summary.php',59],['lib/google/src/Google/IO','Stream.php',45],['lib/google/src/Google/Service','Freebase.php',38],['grade/tests','reportlib_test.php',36],['search/classes','manager.php',100],['question/behaviour/adaptive','behaviour.php',310],['admin/tool/lp/classes/form','framework_autocomplete.php',48],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['lib/google/src/Google/Task','Runner.php',76],['backup/util/settings/root','root_backup_setting.class.php',34],['lib','componentlib.class.php',179],['lib','componentlib.class.php',610],['lib','componentlib.class.php',834],['lib/google/src/Google/Service','AdSense.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['lib/spout/src/Spout/Reader/CSV','Sheet.php',24],['lib/filebrowser','file_info_context_system.php',37],['lib/grade','grade_item.php',260],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['auth/email','auth.php',34],['mod/wiki/editors','wikifiletable.php',40],['lib/google/src/Google/Service','Replicapool.php',51],['lib/dtl','database_exporter.php',55],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/phpexcel/PHPExcel/Writer','CSV.php',79],['lib/google/src/Google/Service','Tasks.php',44],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/minify/lib/Minify','Source.php',43],['lib/jabber/XMPP','Roster.php',48],['lib/lessphp/Tree','Element.php',19],['lib/classes','string_manager_install.php',43],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib/form','filemanager.php',54],['lib/form','filemanager.php',316],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['backup/util/ui','renderer.php',813],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',44],['question/classes/statistics/questions','calculator.php',66],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/google/src/Google/Service','Resource.php',62],['lib/form','autocomplete.php',56],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',60],['mod/lesson/classes','file_info.php',45],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['lib/google/src/Google/Service','Partners.php',43],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',635],['grade/edit/tree','lib.php',668],['grade/edit/tree','lib.php',834],['lib/simplepie/library/SimplePie','Cache.php',69],['mod/wiki/diff','difflib.php',277],['mod/wiki/diff','difflib.php',381],['mod/wiki/diff','difflib.php',478],['lib/pear/HTML/QuickForm','select.php',58],['lib/classes/output','mustache_javascript_helper.php',40],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/data','export_form.php',16],['lib/pear/HTML/QuickForm','autocomplete.php',67],['question/type/shortanswer','question.php',44],['lib/google/src/Google/Service','AndroidPublisher.php',52],['lib/google/src/Google/Verifier','Pem.php',31],['lib/classes/antivirus','scanner.php',41],['lib/phpexcel/PHPExcel/Reader','Excel5.php',414],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/classes/output','inplace_editable.php',107],['lib/adodb/drivers','adodb-informix.inc.php',37],['competency/classes','competency_rule.php',45],['lib/phpexcel/PHPExcel','RichText.php',37],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',59],['lib/pear/HTML/QuickForm','input.php',38],['repository/picasa','lib.php',41],['mod/feedback/classes','structure.php',48],['backup/util/plan','backup_structure_step.class.php',38],['question/classes/bank','random_question_loader.php',61],['mod/quiz/report/statistics/classes','calculated.php',43],['lib/horde/framework/Horde/Stream','String.php',27],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['mod/workshop/backup/moodle1','lib.php',308],['lib/google/src/Google/Service','YouTubeReporting.php',47],['grade/export/txt','grade_export_txt.php',27],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['mod/imscp','locallib.php',289],['lib/form','selectyesno.php',42],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['mod/lti/service/profile/classes/local/service','profile.php',41],['repository/flickr_public','lib.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['admin/tool/lp/classes/output','template_cohorts_table.php',53],['lib/simplepie/library','SimplePie.php',611],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/testing/generator','component_generator_base.php',45],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',175],['lib/classes','plugin_manager.php',91],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/xmldb','xmldb_field.php',84],['lib/adodb/drivers','adodb-ibase.inc.php',59],['lib/adodb/drivers','adodb-ibase.inc.php',764],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['admin/roles/classes','view_role_definition_table.php',28],['lib/google/src/Google/Cache','Memcache.php',44],['lib/pear/HTML/QuickForm','radio.php',48],['lib/filebrowser','file_info_context_coursecat.php',39],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',37],['mod/workshop/eval/best','lib.php',44],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',38],['grade/report','lib.php',156],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['availability/classes','info_module.php',40],['mod/book','locallib.php',414],['question/engine','datalib.php',68],['question/engine','datalib.php',1331],['question/engine','datalib.php',1632],['question/engine','datalib.php',1740],['question/engine','datalib.php',1870],['question/engine','datalib.php',1941],['webservice','lib.php',745],['webservice','lib.php',841],['lib/adodb/drivers','adodb-informix72.inc.php',59],['lib/adodb/drivers','adodb-informix72.inc.php',399],['lib/adodb','adodb-pager.inc.php',60],['user/classes/output/myprofile','category.php',68],['lib/lessphp/Visitor','extendFinder.php',15],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib','filelib.php',2720],['lib','filelib.php',3601],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',32],['report/competency/classes/output','report.php',56],['lib/google/src/Google/Service','Computeaccounts.php',49],['question/type','edit_question_form.php',96],['lib/filebrowser','file_info_context_user.php',39],['admin/tool/lp/classes/output','template_plans_page.php',37],['lib/phpexcel/PHPExcel','Style.php',93],['lib/minify/lib/Minify','HTML.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/form','password.php',44],['backup','backup.class.php',146],['mod/feedback/classes','course_select_form.php',39],['lib/google/src/Google/Auth','AppIdentity.php',39],['lib/adodb','adodb-active-record.inc.php',121],['lib/phpexcel/PHPExcel','Chart.php',169],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['admin/roles/classes','allow_switch_page.php',33],['lib/grade','grade_object.php',80],['lib/google/src/Google/IO','Exception.php',29],['auth/lti','auth.php',38],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier','HTMLPurifier.php',104],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',47],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/evalmath','evalmath.class.php',120],['lib/form','url.php',46],['lib/dml','pdo_moodle_recordset.php',41],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['backup/cc/cc_lib','xmlbase.php',52],['badges/lib','bakerlib.php',52],['lib/google/src/Google/Signer','P12.php',35],['availability/classes','info_section.php',40],['lib/form','static.php',47],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['lib/google/src/Google/Service','YouTubeAnalytics.php',56],['admin/roles/classes','check_capability_table.php',40],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/adodb/drivers','adodb-postgres64.inc.php',127],['lib/adodb/drivers','adodb-postgres64.inc.php',919],['backup/util/helper','restore_prechecks_helper.class.php',213],['user/profile','lib.php',59],['lib/google/src/Google/Service','Admin.php',40],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',62],['lib/google/src/Google/Service','MapsEngine.php',66],['lib','listlib.php',82],['lib','listlib.php',485],['lib/phpexcel/PHPExcel/Writer','HTML.php',128],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/simplepie/library/SimplePie','Source.php',61],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/google/src/Google/Cache','File.php',41],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['backup/util/ui','backup_moodleform.class.php',41],['availability/condition/grouping/classes','condition.php',46],['lib/classes/session','memcache.php',50],['cache/classes','dummystore.php',62],['badges/classes','assertion.php',49],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['availability/tests/fixtures','mock_condition.php',52],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['mod/quiz/report','attemptsreport_options.php',95],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',39],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/google/src/Google/Service','Dns.php',53],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['backup/moodle2','restore_block_task.class.php',45],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',54],['lib/form','recaptcha.php',48],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/phpexcel/PHPExcel/Chart','Legend.php',75],['lib/phpexcel/PHPExcel','WorksheetIterator.php',44],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1189],['cache/classes','loaders.php',1586],['lib/google/src/Google/Service','Appengine.php',44],['admin/tool/lp/classes/output','template_cohorts_page.php',37],['search/classes','engine.php',77],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/classes/progress','display.php',48],['lib/lessphp/Tree','Call.php',19],['course/format','lib.php',78],['question/type/calculated','datasetdefinitions_form.php',53],['lib/google/src/Google/Service','Translate.php',40],['enrol/database','settingslib.php',34],['lib/lessphp/Tree/Mixin','Call.php',14],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/tests','collator_test.php',310],['lib/google/src/Google/Auth','Simple.php',31],['backup/cc/cc_lib','cc_manifest.php',45],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['lib/phpmailer','moodle_phpmailer.php',47],['availability/tests/fixtures','mock_info.php',40],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['admin/tool/lp/classes/form','persistent.php',68],['lib/adodb/drivers','adodb-mysqlt.inc.php',32],['lib/adodb/drivers','adodb-mysqlt.inc.php',96],['webservice/tests','lib_test.php',213],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['filter','local_settings_form.php',33],['mod/quiz/accessrule','accessrulebase.php',52],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',170],['lib/lessphp/Tree','Dimension.php',15],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/adodb/perf','perf-oci8.inc.php',203],['lib/phpexcel','PHPExcel.php',361],['backup/util/helper','restore_questions_parser_processor.class.php',42],['backup/moodle2','backup_plugin.class.php',44],['lib/classes/antivirus','scanner_exception.php',38],['webservice/xmlrpc','lib.php',43],['report/loglive/classes','renderable.php',73],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['lib/filebrowser','file_info.php',43],['lib/adodb/drivers','adodb-access.inc.php',34],['lib/adodb/drivers','adodb-access.inc.php',83],['mod/feedback/classes','responses_table.php',54],['lib/editor/tinymce','adminlib.php',36],['admin/tool/monitor/classes','rule.php',44],['lib/google/src/Google/Service','AdExchangeBuyer.php',55],['lib/filebrowser','virtual_root_file.php',45],['lib/phpexcel/PHPExcel/RichText','Run.php',35],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/google/src/Google/Service','CivicInfo.php',40],['mod/feedback/classes/output','summary.php',52],['lib/minify/lib/Minify','Build.php',77],['lib/adodb/drivers','adodb-ado_mssql.inc.php',146],['lib/adodb/drivers','adodb-odbc.inc.php',44],['lib/adodb/drivers','adodb-odbc.inc.php',611],['lib','moodlelib.php',9421],['lib','moodlelib.php',9632],['user/selector','lib.php',85],['user/selector','lib.php',674],['admin/tool/lp/classes/output','plan_page.php',49],['repository/dropbox','lib.php',49],['lib/horde/framework/Horde/Mime','Part.php',261],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','CachingStrategyFactory.php',56],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',777],['lib/google/src/Google/Service','Books.php',60],['lib/google/src/Google/Service','Oauth2.php',50],['admin/tool/log/classes/log','store.php',30],['admin/tool/recyclebin/classes','category_bin.php',45],['lib/phpexcel/PHPExcel/Style','Color.php',64],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',69],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['lib/classes/update','checker.php',50],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',243],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/phpexcel/PHPExcel/Chart','Title.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/adodb/drivers','adodb-text.inc.php',93],['lib/adodb/drivers','adodb-text.inc.php',379],['lib/phpexcel/PHPExcel','Calculation.php',2071],['lib/adodb/drivers','adodb-sqlite.inc.php',36],['lib/adodb/drivers','adodb-sqlite.inc.php',367],['lib/google/src/Google/Service','Analytics.php',77],['blocks/lp/classes/output','plans_to_review_page.php',48],['lib/google/src/Google/Service','Coordinate.php',48],['availability/condition/group/classes','condition.php',43],['lib/lessphp/Exception','Chunk.php',19],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['backup/cc/cc_lib','cc_resources.php',102],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['question/classes/statistics/questions','calculated.php',181],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/xmldb','xmldb_structure.php',40],['lib/ddl','sqlite_sql_generator.php',73],['lib/pear/HTML/QuickForm','Renderer.php',31],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['lib/pear/HTML/QuickForm','file.php',54],['lib/minify/lib/Minify/Cache','File.php',9],['lib/pear/HTML/QuickForm','xbutton.php',39],['lib/htmlpurifier','locallib.php',134],['admin/tool/recyclebin/classes','course_bin.php',45],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',174],['backup/util/helper','backup_helper.class.php',381],['lib/form','htmleditor.php',48],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['repository/skydrive','lib.php',42],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',260],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/horde/framework/Horde/Exception','Pear.php',22],['lib/portfolio','exceptions.php',50],['backup/moodle2','restore_plugin.class.php',43],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',177],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/minify/lib/Minify/JS','ClosureCompiler.php',101],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/form','dateselector.php',70],['lib/spout/src/Spout/Common/Helper','EncodingHelper.php',38],['report/competency/classes/output','user_course_navigation.php',51],['lib/adodb/drivers','adodb-postgres7.inc.php',98],['lib/adodb/drivers','adodb-postgres7.inc.php',311],['lib/adodb/drivers','adodb-postgres7.inc.php',342],['lib/lessphp/Tree','Alpha.php',13],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',46],['lib/tcpdf','tcpdf.php',1822],['lib/adodb/drivers','adodb-sybase.inc.php',47],['lib/adodb/drivers','adodb-sybase.inc.php',313],['lib/adodb/drivers','adodb-sybase.inc.php',394],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',44],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',136],['mod/lesson','editpage_form.php',41],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/horde/framework/Horde','Domhtml.php',53],['lib','formslib.php',142],['lib','formslib.php',1442],['lib','formslib.php',2653],['rating','lib.php',114],['rating','lib.php',1070],['lib/phpexcel/PHPExcel/Worksheet','Column.php',44],['lib/google/src/Google/Service','Script.php',67],['lib/adodb','adodb-xmlschema.inc.php',118],['lib/adodb','adodb-xmlschema.inc.php',245],['lib/adodb','adodb-xmlschema.inc.php',637],['lib/adodb','adodb-xmlschema.inc.php',781],['lib/adodb','adodb-xmlschema.inc.php',982],['lib/adodb','adodb-xmlschema.inc.php',1295],['lib/google/src/Google/Service','DeploymentManager.php',54],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',546],['mod/quiz','attemptlib.php',2337],['mod/quiz','attemptlib.php',2392],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib','boxlib.php',264],['lib/simplepie/library/SimplePie','Restriction.php',81],['admin/roles/classes','allow_assign_page.php',31],['lib/adodb/drivers','adodb-pdo.inc.php',90],['lib/adodb/drivers','adodb-pdo.inc.php',553],['lib/adodb/drivers','adodb-pdo.inc.php',630],['tag/classes/output','tagareacollection.php',40],['admin/tool/lp/classes','template_statistics.php',62],['lib','weblib.php',313],['lib','weblib.php',3183],['lib','weblib.php',3483],['lib','weblib.php',3518],['lib','weblib.php',3593],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/html2text','Html2Text.php',232],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/pear/HTML/QuickForm/Renderer','Array.php',143],['question/engine','lib.php',774],['question/engine','lib.php',1011],['question/engine','lib.php',1059],['lib/jabber/XMPP','XMLObj.php',76],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/editor/atto','adminlib.php',109],['lib/pear/HTML/QuickForm/Renderer','Tableless.php',116],['grade/report/history/classes/output','tablelog.php',72],['lib/google/src/Google/IO','Curl.php',38],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',31],['lib/pear/HTML/QuickForm','hiddenselect.php',41],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['lib/adodb/drivers','adodb-mysqlpo.inc.php',35],['lib/adodb/drivers','adodb-mysqlpo.inc.php',82],['lib/adodb/drivers','adodb-mysqlpo.inc.php',119],['lib/google/src/Google/Service','Blogger.php',50],['backup/util/xml/output','file_xml_output.class.php',37],['lib/form','tags.php',75],['admin/tool/installaddon/classes','installer.php',219],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['lib/simplepie/library/SimplePie','IRI.php',252],['comment','locallib.php',39],['question/engine','states.php',61],['lib/spout/src/Spout/Reader/XLSX/Helper','CellValueFormatter.php',52],['lib/google/src/Google/Service','Dataflow.php',45],['mod/data','locallib.php',66],['mod/data','locallib.php',433],['lib/horde/framework/Horde','Variables.php',60],['backup/util/ui','base_ui.class.php',84],['lib/simplepie/library/SimplePie','Registry.php',99],['cache/locks/file','lib.php',66],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/filebrowser','file_info_stored.php',51],['tag/classes/output','tagcollname.php',42],['competency/classes','persistent.php',54],['admin/tool/lp/classes/output','competency_plan_navigation.php',54],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',146],['lib/pear/HTML/QuickForm','textarea.php',48],['lib/lessphp','Visitor.php',14],['lib/google/src/Google/Service','CloudUserAccounts.php',52],['question/classes/bank','column_base.php',44],['lib/minify/lib/MrClay','Cli.php',74],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',589],['lib','outputcomponents.php',665],['lib','outputcomponents.php',783],['lib','outputcomponents.php',925],['lib','outputcomponents.php',1009],['lib','outputcomponents.php',2183],['lib','outputcomponents.php',2222],['lib','outputcomponents.php',2295],['lib','outputcomponents.php',2376],['lib','outputcomponents.php',2579],['lib','outputcomponents.php',2627],['lib','outputcomponents.php',2687],['lib','outputcomponents.php',2860],['lib','outputcomponents.php',3030],['lib','outputcomponents.php',3134],['lib','outputcomponents.php',3201],['lib','outputcomponents.php',3329],['lib','outputcomponents.php',3613],['lib','outputcomponents.php',3642],['lib','outputcomponents.php',3668],['lib','outputcomponents.php',3690],['lib','outputcomponents.php',3719],['lib','outputcomponents.php',3751],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/phpexcel/PHPExcel','Cell.php',114],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['repository/wikimedia','wikimedia.php',35],['lib/phpexcel/PHPExcel/Style','Fill.php',81],['lib/google/src/Google/Service','Cloudresourcemanager.php',42],['lib/editor/tinymce/classes','plugin.php',49],['mod/wiki/parser/markups','html.php',21],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/horde/framework/Horde/Support','Inflector.php',115],['question/type/gapselect','question.php',55],['lib/google/src/Google','Config.php',33],['badges/criteria','award_criteria_activity.php',45],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['course/format/topics','renderer.php',38],['lib/adodb/drivers','adodb-oci8po.inc.php',33],['lib/adodb/drivers','adodb-oci8po.inc.php',99],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/filestorage','tgz_packer.php',749],['lib/filestorage','tgz_packer.php',831],['tag/classes','index_builder.php',96],['lib/pear/HTML/QuickForm','reset.php',37],['lib/classes/lock','lock.php',55],['admin/roles/classes','assign_user_selector_base.php',40],['backup/util/output','output_controller.class.php',44],['question/type/randomsamatch','question.php',114],['lib/google/src/Google/Service','Customsearch.php',38],['lib/lessphp/Tree','Extend.php',28],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',215],['lib/google/src/Google/Service','TagManager.php',67],['question/type/gapselect/tests','edit_form_test.php',41],['mod/lesson','locallib.php',2004],['mod/lesson','locallib.php',2611],['backup/util/helper','restore_structure_parser_processor.class.php',41],['course','renderer.php',52],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib','modinfolib.php',429],['lib','modinfolib.php',1665],['lib','modinfolib.php',2492],['lib','tablelib.php',128],['lib','tablelib.php',1468],['lib','tablelib.php',1633],['lib','tablelib.php',1698],['user/filters','cohort.php',36],['user/filters','text.php',37],['lib','outputrenderers.php',120],['lib','outputrenderers.php',285],['lib','outputrenderers.php',408],['lib','outputrenderers.php',4578],['lib','outputrenderers.php',4831],['repository','lib.php',116],['repository','lib.php',533],['lib','adminlib.php',791],['lib','adminlib.php',1138],['lib','adminlib.php',1212],['lib','adminlib.php',1355],['lib','adminlib.php',1556],['lib','adminlib.php',1928],['lib','adminlib.php',2040],['lib','adminlib.php',2106],['lib','adminlib.php',2199],['lib','adminlib.php',2260],['lib','adminlib.php',2302],['lib','adminlib.php',2341],['lib','adminlib.php',2429],['lib','adminlib.php',2463],['lib','adminlib.php',2621],['lib','adminlib.php',2706],['lib','adminlib.php',2935],['lib','adminlib.php',3091],['lib','adminlib.php',3233],['lib','adminlib.php',3324],['lib','adminlib.php',3488],['lib','adminlib.php',3571],['lib','adminlib.php',3682],['lib','adminlib.php',3833],['lib','adminlib.php',4067],['lib','adminlib.php',4134],['lib','adminlib.php',4352],['lib','adminlib.php',4381],['lib','adminlib.php',4410],['lib','adminlib.php',4434],['lib','adminlib.php',4464],['lib','adminlib.php',4500],['lib','adminlib.php',4535],['lib','adminlib.php',4567],['lib','adminlib.php',4657],['lib','adminlib.php',4690],['lib','adminlib.php',4748],['lib','adminlib.php',4790],['lib','adminlib.php',4814],['lib','adminlib.php',4840],['lib','adminlib.php',4863],['lib','adminlib.php',4880],['lib','adminlib.php',4925],['lib','adminlib.php',4943],['lib','adminlib.php',5002],['lib','adminlib.php',5045],['lib','adminlib.php',5080],['lib','adminlib.php',5123],['lib','adminlib.php',5206],['lib','adminlib.php',5336],['lib','adminlib.php',5378],['lib','adminlib.php',5423],['lib','adminlib.php',5480],['lib','adminlib.php',5496],['lib','adminlib.php',5552],['lib','adminlib.php',5777],['lib','adminlib.php',5831],['lib','adminlib.php',5885],['lib','adminlib.php',5902],['lib','adminlib.php',5950],['lib','adminlib.php',5992],['lib','adminlib.php',6043],['lib','adminlib.php',6099],['lib','adminlib.php',6328],['lib','adminlib.php',6508],['lib','adminlib.php',6688],['lib','adminlib.php',6782],['lib','adminlib.php',6931],['lib','adminlib.php',7088],['lib','adminlib.php',7712],['lib','adminlib.php',8147],['lib','adminlib.php',8330],['lib','adminlib.php',8617],['lib','adminlib.php',8764],['lib','adminlib.php',8924],['lib','adminlib.php',9071],['lib','adminlib.php',9235],['lib','adminlib.php',9428],['lib','adminlib.php',9482],['lib','adminlib.php',9544],['lib','adminlib.php',9589],['lib','adminlib.php',9626],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',81],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['question/type/numerical','questiontype.php',507],['auth/mnet','auth.php',35],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['auth/imap','auth.php',35],['tag/classes/output','taglist.php',54],['lib','pdflib.php',161],['lib/phpexcel/PHPExcel/RichText','TextElement.php',35],['lib/dml','database_column_info.php',112],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['mod/wiki/editors','wikieditor.php',36],['lib/lessphp/SourceMap','Base64VLQ.php',67],['repository/s3','lib.php',44],['admin/tool/uploadcourse/classes','course.php',111],['lib/google/src/Google/Service','Replicapoolupdater.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',102],['mod/feedback/item','feedback_item_class.php',28],['lib/adodb/drivers','adodb-mssql_n.inc.php',245],['lib','badgeslib.php',133],['lib/pear/HTML/QuickForm','text.php',38],['lib/simplepie/library/SimplePie','Enclosure.php',219],['calendar/classes','rrule_manager.php',182],['auth/webservice','auth.php',35],['lib','outputrequirementslib.php',171],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib','questionlib.php',1261],['lib','questionlib.php',1505],['lib','uploadlib.php',40],['lib/spout/src/Spout/Writer/Common/Helper','ZipHelper.php',28],['lib/google/src/Google/Service','Cloudsearch.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/spout/src/Spout/Writer/Common','Sheet.php',39],['question/behaviour','behaviourbase.php',50],['blocks/rss_client/classes/output','footer.php',47],['lib/dtl','file_xml_database_importer.php',34],['admin/roles/classes','capability_table_with_risks.php',45],['lib/adodb/drivers','adodb-mssql.inc.php',110],['lib/adodb/drivers','adodb-mssql.inc.php',870],['lib/adodb/drivers','adodb-mssql.inc.php',1077],['lib/google/src/Google/Service','Bigquery.php',62],['lib/google/src/Google/Service','ShoppingContent.php',50],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['repository/equella','lib.php',42],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',199],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['cache/classes','helper.php',90],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/classes','chart_series.php',62],['lib/classes/dml','recordset_walk.php',64],['lib/google/src/Google/Service','Webmasters.php',47],['lib/tcpdf/include/barcodes','qrcode.php',631],['backup/moodle2','backup_settingslib.php',42],['backup/moodle2','backup_settingslib.php',138],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',40],['course/tests/fixtures','course_capability_assignment.php',60],['mod/forum/classes','subscriber_selector_base.php',53],['lib','blocklib.php',54],['lib','blocklib.php',152],['report/loglive/classes','table_log.php',50],['lib','navigationlib.php',147],['lib','navigationlib.php',1015],['lib','navigationlib.php',2825],['lib','navigationlib.php',3086],['lib','navigationlib.php',3412],['lib','navigationlib.php',3459],['lib','navigationlib.php',4888],['lib','navigationlib.php',5070],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',41],['grade/report/history/classes/output','user_button.php',40],['user/filters','courserole.php',34],['lib/phpexcel/PHPExcel','IOFactory.php',69],['lib/lessphp/Tree','Color.php',15],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',70],['lib/adodb/drivers','adodb-vfp.inc.php',72],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/google/src/Google/Service','Clouddebugger.php',50],['lib/horde/framework/Horde/Exception','NotFound.php',15],['admin/tool/lp/classes/output','user_competency_course_navigation.php',55],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib','mathslib.php',45],['lib/filestorage','tgz_extractor.php',119],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['filter/emoticon/tests','filter_test.php',68],['mnet/xmlrpc','xmlparser.php',15],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',31],['admin/roles/classes','capability_table_base.php',51],['lib/simplepie/library/SimplePie','Item.php',82],['lib/form','selectgroups.php',57],['auth/shibboleth','auth.php',38],['admin/tool/langimport/classes','controller.php',48],['lib/form','warning.php',49],['lib/filestorage','stored_file.php',63],['grade/grading/form/guide','guideeditor.php',49],['lib/pear/HTML/QuickForm','group.php',80],['backup/moodle2','restore_subplugin.class.php',45],['grade/export','lib.php',60],['grade/export','lib.php',625],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',98],['backup/moodle2','backup_section_task.class.php',40],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib','flickrlib.php',53],['mod/assign/classes/output','grading_app.php',59],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['user/profile/field/menu','field.class.php',39],['lib/spout/src/Spout/Writer/Common/Internal','AbstractWorkbook.php',30],['lib/portfolio','exporter.php',113],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/horde/framework/Horde','Secret.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/classes/update','info.php',48],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/lessphp/Tree','Anonymous.php',21],['admin/tool/lp/classes','course_competencies_form_element.php',43],['lib/lessphp/Tree','Comment.php',17],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/adodb/drivers','adodb-mysql.inc.php',54],['lib/adodb/drivers','adodb-mysql.inc.php',717],['lib/adodb/drivers','adodb-mysql.inc.php',880],['enrol/ldap','lib.php',43],['mod/quiz/report/statistics','statistics_table.php',45],['lib/form','listing.php',68],['lib/google/src/Google/Service','Container.php',43],['mod/quiz','accessmanager.php',45],['lib/classes/message/inbound','processing_failed_exception.php',36],['blocks/online_users/classes','fetcher.php',45],['lib/pear/HTML/QuickForm','checkbox.php',48],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['lib/classes','chart_axis.php',65],['mod/glossary/classes','entry_query_builder.php',83],['mod/feedback/item/label','lib.php',26],['lib/adodb/drivers','adodb-mssqlnative.inc.php',131],['lib/adodb/drivers','adodb-mssqlnative.inc.php',847],['lib/adodb/drivers','adodb-mssqlnative.inc.php',1099],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['lib/form','editor.php',62],['lib','environmentlib.php',1258],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['mod/feedback/classes','templates_table.php',39],['tag/classes','manage_table.php',44],['lib/adodb/drivers','adodb-odbc_db2.inc.php',115],['lib/adodb/drivers','adodb-odbc_db2.inc.php',309],['backup/cc/cc_lib/gral_lib','cssparser.php',21],['lib/horde/framework/Horde/Support','Array.php',21],['lib/google/src/Google/Service','GroupsMigration.php',40],['admin/tool/lp/classes/output','user_evidence_list_page.php',61],['lib/google/src/Google/Service','Audit.php',39],['lib/simplepie/library/SimplePie','File.php',68],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['enrol/lti/classes','manage_table.php',62],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['question/type/ddimageortext','question.php',64],['question/type/ddimageortext','question.php',122],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',456],['lib/minify/lib','CSSmin.php',43],['lib/dml','moodle_temptables.php',51],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['blocks/rss_client/classes/output','block.php',47],['question/type/ddmarker','question.php',417],['question/type/ddmarker','question.php',469],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',51],['backup/util/helper','convert_helper.class.php',378],['lib/classes/update','validator.php',265],['lib/lessphp/Tree','Attribute.php',16],['admin/tool/generator/classes','backend.php',84],['backup/util/loggers','file_logger.class.php',35],['lib/adodb','adodb-exceptions.inc.php',30],['lib/google/src/Google','Client.php',70],['user/filters','profilefield.php',36],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['cache/tests/fixtures','lib.php',326],['mod/lti/service/profile/classes/local/resource','profile.php',43],['competency/classes','invalid_persistent_exception.php',38],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',63],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/dml','moodle_database.php',139],['search/classes','base.php',69],['admin/tool/lp/classes/output','competency_summary.php',54],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['mod/workshop/form/rubric','lib.php',105],['grade','lib.php',103],['grade','lib.php',927],['grade','lib.php',1089],['grade','lib.php',2053],['grade','lib.php',2213],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',35],['lib/google/src/Google/Service','Datastore.php',46],['admin/tool/lpmigrate/classes','framework_processor.php',98],['lib/dtl','database_importer.php',61],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['badges/lib','awardlib.php',55],['backup/util/helper','backup_array_iterator.class.php',39],['admin/tool/monitor/classes','subscription.php',43],['question/type/calculated','edit_calculated_form.php',51],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','FileBasedStrategy.php',57],['lib/form','datetimeselector.php',72],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['lib/classes','collator.php',58],['admin/tool/lp/classes','course_competency_statistics.php',48],['lib/google/src/Google/Service','Storage.php',57],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',28],['lib/lessphp/Tree','Paren.php',14],['mod/lti/classes','service_exception_handler.php',63],['lib/tcpdf/include/barcodes','pdf417.php',523],['mod/assign/feedback/offline','importgradeslib.php',66],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['question/engine/upgrade','upgradelib.php',283],['question/engine/upgrade','upgradelib.php',384],['question/type/numerical','question.php',323],['lib/pear/PEAR','Exception.php',107],['course/format','renderer.php',44],['lib/dml','oci_native_moodle_recordset.php',34],['question/behaviour','behaviourtypebase.php',133],['lib/pear/HTML','QuickForm.php',246],['lib/pear/HTML','QuickForm.php',1979],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['lib/google/src/Google/Auth','LoginTicket.php',37],['lib/adodb/drivers','adodb-csv.inc.php',41],['lib/adodb/drivers','adodb-csv.inc.php',196],['user/filters','yesno.php',33],['mod/wiki/parser','parser.php',98],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',87],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['admin/tool/lpmigrate/classes/form','migrate_framework.php',45],['backup/util/xml/parser/tests','parser_test.php',797],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['lib/tests','medialib_test.php',644],['lib/google/src/Google/Service','QPXExpress.php',39],['tag/classes/output','tagname.php',41],['lib/mustache/src/Mustache','Context.php',20],['lib/adodb/drivers','adodb-oracle.inc.php',32],['lib/adodb/drivers','adodb-oracle.inc.php',224],['backup/moodle2','restore_section_task.class.php',42],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['mod/forum/classes/output','forum_post.php',110],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['repository/googledocs','lib.php',65],['cache/stores/memcache','lib.php',120],['lib/filestorage','file_storage.php',78],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['lib/form','duration.php',55],['lib','outputlib.php',480],['lib','outputlib.php',2038],['filter/tex','latex.php',13],['backup/moodle2','backup_course_task.class.php',39],['lib/adodb','adodb.inc.php',310],['lib/adodb','adodb.inc.php',3035],['lib/adodb','adodb.inc.php',3160],['lib/adodb','adodb.inc.php',3242],['lib/adodb','adodb.inc.php',4353],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/google/src/Google/Logger','File.php',51],['admin/roles/classes','allow_role_page.php',37],['mod/quiz/report/overview','overview_table.php',41],['lib/lessphp/Tree','Keyword.php',17],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['question/type/ddmarker','questiontype.php',48],['mod/folder','renderer.php',159],['lib','portfoliolib.php',101],['tag/classes/output','tagcollsearchable.php',40],['webservice/soap/classes','wsdl.php',88],['lib/lessphp/Exception','Parser.php',30],['badges','renderer.php',973],['badges','renderer.php',1014],['badges','renderer.php',1078],['badges','renderer.php',1111],['badges','renderer.php',1137],['competency/classes/external','exporter.php',56],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['lib/google/src/Google/Service','Genomics.php',63],['lib/phpexcel/PHPExcel/Writer','PDF.php',38],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',125],['lib/google/src/Google/Service','Games.php',60],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',141],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/google/src/Google/Service','Licensing.php',40],['mod/workshop/form/comments','lib.php',99],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['lib/google/src/Google/Service','Fitness.php',58],['blocks/private_files','renderer.php',83],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',51],['enrol/flatfile','adminlib.php',35],['lib/xmldb','xmldb_object.php',55],['lib/google/src/Google/Service','Reports.php',47],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['auth/pam','auth.php',53],['lib/horde/framework/Horde','Stream.php',50],['comment','lib.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',53],['lib/google/src/Google/Service','Gmail.php',64],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/horde/framework/Horde/Mime','Related.php',32],['blocks','moodleblock.class.php',111],['lib/tcpdf','tcpdf_parser.php',92],['backup/util/plan','restore_structure_step.class.php',46],['blocks/rss_client/classes/output','channel_image.php',61],['lib/pear/HTML/QuickForm','hierselect.php',105],['question/type/numerical/tests','form_test.php',40],['badges/lib','backpacklib.php',40],['mod/workshop/allocation/manual','lib.php',51],['mod/quiz/report/responses','last_responses_table.php',39],['lib/simplepie','autoloader.php',62],['lib/spout/src/Spout/Common/Helper','StringHelper.php',21],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',121],['lib/pear/Crypt','CHAP.php',82],['lib/pear/Crypt','CHAP.php',170],['lib/pear/Crypt','CHAP.php',424],['lib/spout/src/Spout/Writer/Common/Helper','AbstractStyleHelper.php',22],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',63],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',77],['lib/simplepie/library/SimplePie','gzdecode.php',186],['mod/wiki','renderer.php',540],['lib/adodb','adodb-active-recordx.inc.php',138],['availability/classes','result.php',46],['lib','accesslib.php',5352],['lib','accesslib.php',5897],['lib','accesslib.php',6167],['lib','accesslib.php',6408],['lib','accesslib.php',6595],['lib','accesslib.php',6827],['lib','accesslib.php',7049],['lib','accesslib.php',7291],['lib/phpexcel/PHPExcel/Shared/OLE','PPS.php',110],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['auth/manual','auth.php',46],['question/engine/upgrade','behaviourconverters.php',78],['mod/wiki/diff','diff_nwiki.php',35],['mod/wiki/diff','diff_nwiki.php',50],['mod/wiki/diff','diff_nwiki.php',63],['mod/wiki/diff','diff_nwiki.php',76],['mod/wiki/diff','diff_nwiki.php',495],['mod/wiki/diff','diff_nwiki.php',640],['mod/wiki/diff','diff_nwiki.php',850],['mod/wiki/diff','diff_nwiki.php',901],['mod/wiki/diff','diff_nwiki.php',953],['lib/adodb/drivers','adodb-proxy.inc.php',28],['lib/classes/lock','file_lock_factory.php',57],['lib/google/src/Google/Auth','OAuth2.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['lib/filebrowser','file_info_context_module.php',47],['auth/none','auth.php',34],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/horde/framework/Horde/Text','Flowed.php',75],['admin/tool/log/store/legacy/classes/log','store.php',33],['lib/mustache/src/Mustache','HelperCollection.php',19],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['admin/tool/lp/classes/output','related_competencies.php',47],['mod/quiz/classes/question/bank','custom_view.php',44],['files','renderer.php',1083],['lib/form','text.php',47],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',398],['backup/cc','cc112moodle.php',59],['admin/tool/cohortroles/classes/output','cohort_role_assignments_table.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/google/src/Google/Service','Logging.php',39],['lib/lessphp/Tree','Expression.php',16],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/phpexcel/PHPExcel/Reader','HTML.php',118],['search/engine/solr/classes','schema.php',60],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['lib/adodb/drivers','adodb-ado5.inc.php',42],['lib/adodb/drivers','adodb-ado5.inc.php',380],['mod/assign/feedback/editpdf/classes','comment.php',58],['cache/classes','interfaces.php',473],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['repository/merlot','lib.php',37],['lib/adodb/drivers','adodb-firebird.inc.php',69],['backup/util/settings','backup_setting.class.php',43],['lib/adodb/drivers','adodb-fbsql.inc.php',28],['lib/adodb/drivers','adodb-fbsql.inc.php',167],['mnet/xmlrpc','serverlib.php',674],['webservice/soap','lib.php',45],['admin/tool/log/store/database/classes/log','store.php',47],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/form','passwordunmask.php',46],['lib/lessphp/Tree','Variable.php',20],['report/log/classes','renderable.php',96],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['question/classes/bank','view.php',70],['grade/report/singleview/classes/local/ui','range.php',38],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['admin/roles/classes','define_role_table_basic.php',31],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['blocks/rss_client','editfeed.php',36],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',55],['blocks/lp/classes/output','competencies_to_review_page.php',49],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',187],['mod/assign/feedback/file','renderable.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/adodb/drivers','adodb-db2.inc.php',66],['lib/adodb/drivers','adodb-db2.inc.php',731],['lib/adodb','adodb-xmlschema03.inc.php',136],['lib/adodb','adodb-xmlschema03.inc.php',270],['lib/adodb','adodb-xmlschema03.inc.php',678],['lib/adodb','adodb-xmlschema03.inc.php',823],['lib/adodb','adodb-xmlschema03.inc.php',1081],['lib/adodb','adodb-xmlschema03.inc.php',1399],['repository/youtube','lib.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',38],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/adodb/drivers','adodb-sybase_ase.inc.php',25],['lib/adodb/drivers','adodb-sybase_ase.inc.php',115],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/adodb','adodb-memcache.lib.inc.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',118],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',117],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['lib/spout/src/Spout/Common/Helper','FileSystemHelper.php',22],['lib/pear/HTML/QuickForm','button.php',37],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/mustache/src/Mustache','Engine.php',63],['lib/google/src/Google/Http','MediaFileUpload.php',75],['lib/phpexcel/PHPExcel','Worksheet.php',327],['mod/assign','gradingtable.php',68],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1196],['repository/webdav','lib.php',38],['tag/classes/output','tagisstandard.php',39],['lib/google/src/Google/Service','Appsactivity.php',52],['badges/criteria','award_criteria_course.php',47],['lib','searchlib.php',53],['lib','searchlib.php',95],['lib/lessphp/Output','Mapped.php',39],['availability/classes','tree.php',118],['lib/lessphp/Tree','Javascript.php',20],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/mustache/src/Mustache/Loader','InlineLoader.php',56],['repository/url','lib.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',293],['lib/lessphp/Tree','Ruleset.php',45],['tag/classes/output','tagindex.php',52],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/google/src/Google/Service','Prediction.php',51],['lib/classes/output','notification.php',101],['lib/lessphp/Tree','Unit.php',16],['backup/util/settings/course','course_backup_setting.class.php',25],['lib/spout/src/Spout/Writer','AbstractWriter.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib','dtllib.php',66],['mod/assign','assignmentplugin.php',50],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['backup/cc/cc_lib','cc_version11.php',57],['availability/condition/completion/classes','condition.php',48],['admin/roles/classes','allow_override_page.php',31],['mod/workshop/allocation','lib.php',103],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',23],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/phpexcel/PHPExcel/Calculation','Function.php',64],['availability/classes','capability_checker.php',49],['lib/google/src/Google/Service','Drive.php',76],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',56],['lib','setuplib.php',67],['lib','setuplib.php',113],['lib','setuplib.php',165],['lib','setuplib.php',184],['lib','setuplib.php',199],['lib','setuplib.php',219],['lib','setuplib.php',249],['lib','setuplib.php',271],['lib','setuplib.php',287],['lib','setuplib.php',309],['lib','setuplib.php',328],['lib','setuplib.php',346],['lib/form','textarea.php',50],['webservice/soap','locallib.php',57],['availability/classes','info.php',55],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/spout/src/Spout/Reader/XLSX/Helper','SheetHelper.php',49],['filter/urltolink/tests','filter_test.php',209],['lib/simplepie/library/SimplePie','Category.php',81],['admin/tool/lp/classes/output','manage_competencies_page.php',65],['lib/markdown','Markdown.php',99],['mod/assign','locallib.php',160],['mod/assign','locallib.php',8131],['lib/adodb/drivers','adodb-ldap.inc.php',48],['lib/adodb/drivers','adodb-ldap.inc.php',297],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',32],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',373],['lib','odslib.class.php',42],['lib','odslib.class.php',124],['lib','odslib.class.php',422],['lib','odslib.class.php',827],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',36],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/lessphp/Tree','Quoted.php',20],['mod/lesson','mod_form.php',36],['blocks/rss_client/classes/output','item.php',89],['lib/google/src/Google/Service','IdentityToolkit.php',38],['lib/horde/framework/Horde/Stream','Temp.php',25],['tag/classes/output','tagflag.php',39],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['lib/behat/form_field','behat_form_field.php',59],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',93],['lib/spout/src/Spout/Reader/ODS/Helper','CellValueFormatter.php',42],['tag/classes','collections_table.php',36],['lib/google/src/Google/Service','Spectrum.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['admin/tool/lp/classes/output','user_competency_summary.php',49],['lib/phpexcel/PHPExcel','NamedRange.php',65],['lib/pear/HTML/QuickForm','image.php',36],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['lib/form','searchableselector.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',52],['lib/adodb/drivers','adodb-oci805.inc.php',51],['lib/google/src/Google','Service.php',28],['lib/google/src/Google/IO','Abstract.php',50],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',46],['lib/form','header.php',45],['question/type/randomsamatch/tests','helper.php',121],['mod/workshop/form/accumulative','lib.php',99],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',89],['lib/form','submit.php',41],['report/log/classes','table_log.php',45],['admin/roles/classes','admins_potential_selector.php',30],['question/classes/engine/variants','least_used_strategy.php',51],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['mod/data','lib.php',68],['mod/data','lib.php',2278],['mod/data','lib.php',2552],['mod/data','lib.php',2573],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['mod/scorm','renderer.php',129],['lib/phpunit/classes','advanced_testcase.php',45],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',41],['backup/cc/cc_lib','cc_version1.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['tag/classes','areas_table.php',36],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',125],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/google/src/Google/Service','Proximitybeacon.php',42],['lib/pear','PEAR.php',139],['lib/pear','PEAR.php',818],['competency/classes/external','persistent_exporter.php',42],['lib/google/src/Google/Service','Groupssettings.php',40],['lib/phpexcel/PHPExcel/Reader','CSV.php',87],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/google/src/Google/Service','Directory.php',134],['lib/google/src/Google/Service','Fusiontables.php',48],['question/type/missingtype','edit_missingtype_form.php',38],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/lessphp/Tree','Directive.php',20],['auth/ldap','auth.php',119],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',245],['availability/condition/date/classes','condition.php',52],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes','string_manager_standard.php',53],['repository/skydrive','microsoftliveapi.php',50],['user/filters','globalrole.php',35],['enrol/lti/ims-blti','OAuth.php',16],['enrol/lti/ims-blti','OAuth.php',32],['enrol/lti/ims-blti','OAuth.php',187],['enrol/lti/ims-blti','OAuth.php',451],['course/classes/output','course_module_name.php',46],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Mime','Mdn.php',35],['lib/pear/HTML/QuickForm','html.php',36],['repository/s3','S3.php',193],['repository/s3','S3.php',2018],['repository/s3','S3.php',2374],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',39],['question/classes/bank/search','hidden_condition.php',42],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/pear/HTML/QuickForm','element.php',73],['question/classes/statistics/responses','analysis_for_subpart.php',50],['admin/tool/log/classes','setting_managestores.php',30],['lib/google/src/Google/Service','Mirror.php',49],['lib/adodb/drivers','adodb-db2ora.inc.php',80],['lib/minify/lib/HTTP','Encoder.php',75],['mod/feedback/classes','completion.php',47],['admin/tool/uploadcourse/classes','processor.php',122],['lib/lessphp','Parser.php',78],['lib/adodb/drivers','adodb-sapdb.inc.php',36],['lib/adodb/drivers','adodb-sapdb.inc.php',179],['lib/ddl','sql_generator.php',175],['lib/google/src/Google/Service','AndroidEnterprise.php',51],['admin/tool/lp/classes/output','template_competencies_page.php',70],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['mod/assignment/backup/moodle1','lib.php',223],['blocks','edit_form.php',47],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['mod/quiz/report/statistics','statistics_question_table.php',49],['mod/workshop/form/numerrors','lib.php',102],['mod/quiz/classes','repaginate.php',49],['lib/classes/session','memcached.php',51],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',43],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',206],['mod/workshop','mod_form.php',43],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',48],['availability/condition/profile/classes','condition.php',73],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['auth/cas/CAS/CAS','Client.php',862],['lib/xhprof','xhprof_moodle.php',788],['lib/dtl','file_xml_database_exporter.php',36],['course','lib.php',3061],['lib/adodb/drivers','adodb-mssqlpo.inc.php',54],['lib/xmldb','xmldb_table.php',49],['lib/adodb/perf','perf-postgres.inc.php',92],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['question/type/ddmarker','shapes.php',40],['question/type/ddmarker','shapes.php',203],['question/type/ddmarker','shapes.php',267],['question/type/ddmarker','shapes.php',332],['question/type/ddmarker','shapes.php',470],['mod/lti/classes/local/ltiservice','response.php',58],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/pear/HTML','Common.php',79],['mod/glossary','locallib.php',481],['lib/adodb/perf','perf-mssqlnative.inc.php',70],['lib/adodb/perf','perf-mssql.inc.php',70],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['lib/classes/event','base.php',124],['lib/form','checkbox.php',46],['admin/roles/classes','permissions_table.php',38],['lib/pear/HTML/QuickForm','submit.php',37],['auth/fc','auth.php',37],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/minify/lib/Minify/Cache','Memcache.php',22],['lib/lessphp/Tree','Condition.php',18],['admin/tool/lp/classes/output','plans_page.php',59],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',52],['lib/phpexcel/PHPExcel','Comment.php',93],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/lessphp/Tree','Url.php',17],['mod/lesson','override_form.php',58],['lib/form','button.php',45],['admin/tool/lp/classes/output','manage_templates_page.php',56],['lib/google/src/Google/Service','Playmoviespartner.php',44],['backup/util/ui','base_ui_stage.class.php',67],['backup/cc/cc_lib','cc_converters.php',75],['lib/dtl','database_mover.php',33],['enrol','locallib.php',125],['enrol','locallib.php',1256],['enrol','locallib.php',1379],['enrol','locallib.php',1430],['enrol','locallib.php',1463],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['backup/moodle2','restore_course_task.class.php',41],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib','xmlize.php',31],['lib','googleapi.php',52],['lib','googleapi.php',243],['grade/report/singleview/classes/local/ui','element.php',47],['lib/html2text','lib.php',43],['user/filters','lib.php',52],['user/filters','lib.php',272],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/classes/lock','db_record_lock_factory.php',61],['lib/pear/HTML/QuickForm','link.php',47],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['lib/phpunit/classes','hint_resultprinter.php',37],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['auth/pop3','auth.php',35],['lib/adodb/drivers','adodb-oci8.inc.php',106],['lib/adodb/drivers','adodb-oci8.inc.php',1539],['lib/adodb/drivers','adodb-oci8.inc.php',1805],['lib/classes/session','database.php',52],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['question/classes/bank/search','category_condition.php',60],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',63],['lib/jabber/XMPP','Log.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/lessphp/Tree','Assignment.php',15],['lib/dtl','string_xml_database_importer.php',34],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',62],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['repository/recent','lib.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['admin/webservice','lib.php',38],['lib','coursecatlib.php',194],['lib','coursecatlib.php',2782],['lib/google/src/Google/Service','Cloudtrace.php',43],['lib','filterlib.php',73],['lib','filterlib.php',377],['lib','filterlib.php',456],['lib/classes/lock','lock_factory.php',39],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['enrol','renderer.php',426],['enrol','renderer.php',723],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['admin/tool/lp/classes','course_competency_rule_form_element.php',45],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/phpunit/classes','basic_testcase.php',39],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',49],['backup/util/dbops','backup_dbops.class.php',37],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/structure','backup_optigroup_element.class.php',51],['mod/quiz/report/grading','gradingsettings_form.php',44],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/form','hidden.php',44],['repository/filesystem','lib.php',48],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',409],['backup/util/helper','restore_log_rule.class.php',62],['tag/classes','tag.php',77],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/spout/src/Spout/Writer/Style','StyleBuilder.php',19],['lib/dml','sqlsrv_native_moodle_database.php',53],['user/filters','date.php',40],['auth/nologin','auth.php',35],['lib/google/src/Google','Model.php',35],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/adodb/drivers','adodb-mysqli.inc.php',66],['lib/adodb/drivers','adodb-mysqli.inc.php',887],['lib/adodb/drivers','adodb-mysqli.inc.php',1193],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/form','questioncategory.php',46],['lib/mustache/src/Mustache','Template.php',29],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/google/src/Google/Logger','Abstract.php',123],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel','ReferenceHelper.php',58],['lib/pear/HTML/QuickForm','password.php',37],['lib/dml','moodle_transaction.php',40],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['repository/flickr','lib.php',51],['lib/form','grading.php',57],['lib/classes/update','api.php',71],['backup/cc/cc_lib','cc_converter_lti.php',29],['backup/moodle2','backup_subplugin.class.php',44],['lib/portfolio','caller.php',67],['lib/classes/progress','display_if_slow.php',60],['lib/adodb/perf','perf-informix.inc.php',66],['lib/classes','chart_base.php',52],['lib/lessphp/Tree','Media.php',18],['lib/spout/src/Spout/Common/Escaper','XLSX.php',19],['grade/export/ods','grade_export_ods.php',24],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/google/src/Google/Service','Calendar.php',50],['lib/form','group.php',44],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',44],['lib/pear/HTML/QuickForm/Renderer','Object.php',75],['admin/tool/lp/classes/output','user_evidence_page.php',48],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['grade/export/xls','grade_export_xls.php',24],['lib/classes/output','mustache_pix_helper.php',43],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/google/src/Google/Auth','ComputeEngine.php',35],['cache/stores/session','lib.php',131],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['admin/tool/log/store/database/backup/moodle2','backup_logstore_database_nested_element.php',43],['user','renderer.php',220],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['availability/condition/grade/classes','condition.php',46],['lib/lessphp/Tree','RulesetCall.php',14],['blocks/rss_client/classes/output','feed.php',75],['lib/form','select.php',47],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/lessphp/Visitor','toCSS.php',13],['lib','outputfragmentrequirementslib.php',40],['backup/util/ui','restore_moodleform.class.php',34],['lib/google/src/Google/Service','Cloudbilling.php',43],['lib/google/src/Google/Service','PlusDomains.php',72],['lib','externallib.php',37],['lib','externallib.php',531],['lib','externallib.php',562],['lib','externallib.php',593],['lib','externallib.php',622],['lib','externallib.php',648],['lib','externallib.php',778],['lib','externallib.php',813],['lib','externallib.php',984],['lib','externallib.php',1177],['blog','locallib.php',71],['blog','locallib.php',564],['blog','locallib.php',847],['blog','locallib.php',892],['blog','locallib.php',965],['blog','locallib.php',1016],['blog','locallib.php',1041],['blog','locallib.php',1051],['blog','locallib.php',1063],['blog','locallib.php',1084],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',53],['auth/cas','auth.php',39],['lib','lexer.php',41],['lib','lexer.php',145],['lib','lexer.php',217],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/google/src/Google/Service','Exception.php',34],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['tag/classes/output','tagcloud.php',49],['lib/google/src/Google/Service','Storagetransfer.php',44],['user/filters','select.php',46],['cache/stores/mongodb','lib.php',116],['admin/tool/lp/classes/output','course_competencies_page.php',73],['lib/google/src/Google/Cache','Null.php',28],['lib','graphlib.php',1176],['lib/phpexcel/PHPExcel/Style','Protection.php',49],['lib/google/src/Google/Service','GamesConfiguration.php',42],['repository/dropbox','locallib.php',46],['lib/phpexcel/PHPExcel/Style','Alignment.php',100],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['cache/stores/file','lib.php',117],['tag/classes/output','tagareashowstandard.php',41],['question/type/multianswer','edit_multianswer_form.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',395],['mod/assign','renderable.php',531],['mod/assign','renderable.php',586],['mod/assign','renderable.php',670],['mod/assign','renderable.php',707],['mod/assign','renderable.php',747],['mod/assign','renderable.php',800],['mod/assign','renderable.php',854],['lib/form','selectwithlink.php',56],['backup/moodle2','backup_activity_task.class.php',45],['lib/phpmailer','class.phpmailer.php',633],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['auth/db','auth.php',36],['lib/lessphp/Tree','Value.php',14],['lib/form','course.php',62],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['cohort','locallib.php',37],['cohort','locallib.php',101],['badges/criteria','award_criteria.php',127],['lib/adodb/perf','perf-mysql.inc.php',86],['cache/stores/memcached','lib.php',133],['grade/report/singleview/classes/local/ui','empty_element.php',38],['lib/google/src/Google/Service','AppState.php',40],['lib/adodb/drivers','adodb-odbc_oracle.inc.php',107],['lib/pear/HTML/QuickForm/Renderer','Default.php',139],['tag/classes/output','tag.php',46],['question','previewlib.php',122],['backup/util/loggers','database_logger.class.php',40],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/phpexcel/PHPExcel/Reader','SYLK.php',67],['lib/form','submitlink.php',47],['backup/util/dbops','restore_dbops.class.php',1788],['lib/xmldb','xmldb_index.php',56],['question','category_class.php',58],['question','category_class.php',160],['lib/google/src/Google/Service','Webfonts.php',38],['webservice/xmlrpc','locallib.php',41],['admin/roles/classes','check_users_selector.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['user/profile/field/checkbox','field.class.php',33],['lib/form','cancel.php',47],['lib/google/src/Google/Service','Resourceviews.php',57],['lib/phpexcel/PHPExcel/Style','Font.php',100],['lib/portfolio','plugin.php',445],['calendar','lib.php',2003],['calendar','lib.php',2774],['mod/wiki','pagelib.php',93],['mod/wiki','pagelib.php',380],['mod/wiki','pagelib.php',981],['mod/wiki','pagelib.php',1190],['mod/wiki','pagelib.php',2194],['mod/wiki','pagelib.php',2422],['tag/classes/output','tagfeed.php',43],['tag/classes/output','tagareaenabled.php',38],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['mod/workshop','locallib.php',183],['mod/workshop','locallib.php',2976],['mod/workshop','locallib.php',3411],['mod/workshop','locallib.php',3647],['mod/workshop','locallib.php',3889],['mod/workshop','locallib.php',3975],['mod/workshop','locallib.php',4060],['mod/workshop','locallib.php',4079],['lib/form','advcheckbox.php',48],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['cohort/classes/output','cohortidnumber.php',37],['lib/adodb/drivers','adodb-ado.inc.php',42],['lib/adodb/drivers','adodb-ado.inc.php',346],['lib/form','filepicker.php',53],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/tests/fixtures','test_renderer_factory.php',41],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['grade/report/singleview','lib.php',69],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/google/src/Google/Logger','Psr.php',39],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['lib/lessphp/Tree','Import.php',30],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',37],['lib/google/src/Google/Service','Classroom.php',60],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',875],['admin/tool/lp/classes/external','competency_path_exporter.php',38],['cohort/classes/output','cohortname.php',37],['grade/report/overview','lib.php',76],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpunit/classes','arraydataset.php',45],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1532],['question/engine','questionattempt.php',1618],['question/engine','questionattempt.php',1703],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['webservice/rest','lib.php',47],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',79],['backup/util/xml/output','memory_xml_output.class.php',37],['repository/flickr_public','image.php',34],['mod/lti/classes/local/ltiservice','resource_base.php',62],['admin/tool/lp/classes/output','template_plans_table.php',53],['mod/quiz','mod_form.php',48],['lib/simplepie/library/SimplePie','Caption.php',98],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',30],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['backup/moodle2','backup_theme_plugin.class.php',61],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/phpexcel/PHPExcel','DocumentSecurity.php',65],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',45],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',49],['lib/lessphp/Tree','Operation.php',19],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',461],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1699],['backup/cc/cc_lib','cc_converter_folder.php',28],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/google/src/Google/Service','SQLAdmin.php',50],['lib/lessphp/Tree','DetachedRuleset.php',15],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['mod/quiz','override_form.php',58],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',97],['lib/adodb/perf','perf-db2.inc.php',61],['lib/phpexcel/PHPExcel/Style','Supervisor.php',44],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['lib/ddl','database_manager.php',48],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['admin/roles/classes','define_role_table_advanced.php',46],['lib/dml','oci_native_moodle_temptables.php',40],['lib/horde/framework/Horde/Stream','Existing.php',28],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['availability/classes','multiple_messages.php',56],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/pear/Net','GeoIP.php',323],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/form','modgrade.php',78],['admin/tool/log/store/database/backup/moodle2','restore_logstore_database_subplugin.class.php',40],['cache/classes','config.php',80],['lib/pear/HTML/QuickForm','hidden.php',37],['question/type/calculated','datasetitems_form.php',72],['lib/tests','navigationlib_test.php',554],['lib/tests','navigationlib_test.php',612],['lib/tests','navigationlib_test.php',639],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/tests','completionlib_test.php',882],['admin/tool/generator/classes','site_backend.php',58],['lib/jabber/XMPP','XMLStream.php',171],['lib/simplepie/library/SimplePie','Sanitize.php',75],['cache/classes','factory.php',149],['lib/minify/lib/Minify/Cache','WinCache.php',20],['user/classes/output/myprofile','node.php',82],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/adodb/drivers','adodb-borland_ibase.inc.php',83],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',44],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',262],['lib/classes/update','code_manager.php',57],['search/engine/solr/classes','engine.php',103],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/google/src/Google/Service','Compute.php',89],['lib/phpexcel/PHPExcel/Style','Borders.php',113],['lib','completionlib.php',243],['lib/google/src/Google/Service','Pubsub.php',44],['lib/adodb/drivers','adodb-ads.inc.php',69],['lib/adodb/drivers','adodb-ads.inc.php',657],['lib/markdown','MarkdownExtra.php',56],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/google/src/Google/Service','YouTube.php',75],['lib/lessphp','Functions.php',15],['auth/cas/CAS/CAS','AuthenticationException.php',53],['mod/quiz','locallib.php',1923],['competency/classes/external','stored_file_exporter.php',45],['user/filters','checkbox.php',51],['backup/moodle2','restore_settingslib.php',86],['backup/moodle2','restore_settingslib.php',149],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/pear/HTML/QuickForm','date.php',260],['lib/lessphp/SourceMap','Generator.php',82],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['mod/lti/service/memberships/classes/local/service','memberships.php',50],['lib/google/src/Google/Cache','Apc.php',37],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['lib/pear/Auth','RADIUS.php',120],['lib/pear/Auth','RADIUS.php',579],['lib/pear/Auth','RADIUS.php',672],['lib/pear/Auth','RADIUS.php',879],['lib/adodb/drivers','adodb-ado_access.inc.php',46],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',519],['lib/google/src/Google/Http','Request.php',58],['lib/google/src/Google/Service','Dfareporting.php',99],['lib/google/src/Google/Service','Manager.php',60],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/google/src/Google/Service','CloudMonitoring.php',45],['lib/editor/tinymce/plugins/spellchecker/classes','SpellChecker.php',11],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['lib','webdavlib.php',84],['lib/dml','pgsql_native_moodle_recordset.php',43],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/mustache/src/Mustache','LambdaHelper.php',25],['question/engine/upgrade/tests','helper.php',45],['admin/tool/uploadcourse/classes','tracker.php',72],['grade/report/user','lib.php',188],['lib/adodb/drivers','adodb-sqlanywhere.inc.php',156],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/adodb/drivers','adodb-db2oci.inc.php',220]], 1102],
'utf8_substr': ['utf8_substr', 'Returns a part of a UTF-8 string. Unit-tested by Kasper and works 100% like substr() / mb_substr() for full range of $start/$len ', [['lib/typo3','class.t3lib_cs.php',1857]], 1],
'getisomapping': ['getisomapping', 'Returns the mapping between TYPO3 (old) language codes and ISO codes. ', [['lib/typo3','class.t3lib_l10n_locales.php',208]], 1],
'entities_to_utf8': ['entities_to_utf8', 'Converts numeric entities (UNICODE, eg. decimal (&#1234;) or hexadecimal (&#x1b;)) to UTF-8 multibyte chars ', [['lib/typo3','class.t3lib_cs.php',810],['lib/classes','text.php',548]], 11],
'utf8_strrpos': ['utf8_strrpos', 'Find position of last occurrence of a char in a string, both arguments are in UTF-8. ', [['lib/typo3','class.t3lib_cs.php',1986]], 0],
'utf8_strtrunc': ['utf8_strtrunc', 'Truncates a string in UTF-8 short at a given byte length. ', [['lib/typo3','class.t3lib_cs.php',1925]], 1],
'trimexplode': ['trimexplode', 'Explodes a string and trims all values for whitespace in the ends. If $onlyNonEmptyValues is set, then all blank (\'\') values are removed. ', [['lib/typo3','class.t3lib_div.php',1603]], 20],
'speccharstoascii': ['speccharstoascii', 'Converts special chars (like æøåÆØÅ, umlauts etc) to ascii equivalents (usually double-bytes, like æ => ae etc.) ', [['lib/typo3','class.t3lib_cs.php',1718]], 1],
'inittoascii': ['inittoascii', 'This function initializes the to-ASCII conversion table for a charset other than UTF-8. This function is automatically called by the ASCII transliteration functions. ', [['lib/typo3','class.t3lib_cs.php',1408]], 2],
'makeinstance': ['makeinstance', 'Creates an instance of a class taking into account the class-extensions API of TYPO3. USE THIS method instead of the PHP "new" keyword. Eg. "$obj = new myclass;" should be "$obj = t3lib_div::makeInstance("myclass")" instead! ', [['lib/typo3','class.t3lib_div.php',4873]], 17],
'euc_strtrunc': ['euc_strtrunc', 'Cuts a string in the EUC charset family short at a given byte length. ', [['lib/typo3','class.t3lib_cs.php',2153]], 1],
'writefiletotypo3tempdir': ['writefiletotypo3tempdir', 'Writes $content to a filename in the typo3temp/ folder (and possibly one or two subfolders...) Accepts an additional subdirectory in the file path! ', [['lib/typo3','class.t3lib_div.php',2856]], 8],
'euc_strlen': ['euc_strlen', 'Counts the number of characters of a string in the EUC charset family. ', [['lib/typo3','class.t3lib_cs.php',2223]], 1],
'hexdec': ['hexdec', '', [], 72],
'rtrim': ['rtrim', '', [], 165],
'iconv_strrpos': ['iconv_strrpos', '', [], 2],
'array_reverse': ['array_reverse', '', [], 130],
'mb_strlen': ['mb_strlen', '', [], 31],
'arsort': ['arsort', '', [], 14],
'iconv_get_encoding': ['iconv_get_encoding', '', [], 1],
'defined': ['defined', '', [], 4731],
'get_html_translation_table': ['get_html_translation_table', '', [], 6],
'ord': ['ord', '', [], 439],
'microtime': ['microtime', '', [], 109],
'strcmp': ['strcmp', '', [], 82],
'utf8_encode': ['utf8_encode', '', [], 8],
'array_unshift': ['array_unshift', '', [], 115],
'utf8_decode': ['utf8_decode', '', [], 13],
'chr': ['chr', '', [], 816],
'preg_replace': ['preg_replace', '', [], 917],
'iconv_strpos': ['iconv_strpos', '', [], 2],
'iconv_set_encoding': ['iconv_set_encoding', '', [], 2],
'fclose': ['fclose', '', [], 275],
'unserialize': ['unserialize', '', [], 192],
'version_compare': ['version_compare', '', [], 74],
'mb_strpos': ['mb_strpos', '', [], 8],
'serialize': ['serialize', '', [], 282],
'preg_match': ['preg_match', '', [], 1286],
'is_file': ['is_file', '', [], 106],
'recode_string': ['recode_string', '', [], 1],
'mb_strrpos': ['mb_strrpos', '', [], 4],
'iconv_substr': ['iconv_substr', '', [], 6],
'mb_convert_encoding': ['mb_convert_encoding', '', [], 21],
'strpos': ['strpos', '', [], 1604],
'is_array': ['is_array', '', [], 1608],
'preg_split': ['preg_split', '', [], 146],
'implode': ['implode', '', [], 1281],
'mb_strtolower': ['mb_strtolower', '', [], 7],
'trim': ['trim', '', [], 1948],
'mb_strcut': ['mb_strcut', '', [], 2],
'count': ['count', '', [], 4095],
'array_flip': ['array_flip', '', [], 131],
'feof': ['feof', '', [], 52],
'intval': ['intval', '', [], 455],
'mb_substr': ['mb_substr', '', [], 24],
'strtolower': ['strtolower', '', [], 817],
'decbin': ['decbin', '', [], 16],
'abs': ['abs', '', [], 560],
'phpversion': ['phpversion', '', [], 32],
'is_string': ['is_string', '', [], 536],
'explode': ['explode', '', [], 1572],
'fgets': ['fgets', '', [], 44],
'bindec': ['bindec', '', [], 14],
'dechex': ['dechex', '', [], 48],
'substr': ['substr', '', [], 2823],
'array_shift': ['array_shift', '', [], 700],
'strrpos': ['strrpos', '', [], 75],
'mb_strtoupper': ['mb_strtoupper', '', [], 5],
'iconv_strlen': ['iconv_strlen', '', [], 4],
'mb_internal_encoding': ['mb_internal_encoding', '', [], 23],
'array_push': ['array_push', '', [], 240]};
CLASS_DATA={
't3lib_cs': ['t3lib_cs', 'Class for conversion between charsets ', [['lib/typo3','class.t3lib_cs.php',61]], 1]};
CONST_DATA={
'TYPO3_OS': ['TYPO3_OS', '', [['lib/classes','text.php',100]], 8]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
