<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/typo3/class.t3lib_div.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/typo3';
filename='class.t3lib_div.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/typo3/</a> -> <a href="class.t3lib_div.php.html">class.t3lib_div.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="class.t3lib_div.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="class.t3lib_div.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/***************************************************************</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> *  Copyright notice</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *  (c) 1999-2011 Kasper Skårhøj (kasperYYYY@typo3.com)</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> *  All rights reserved</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> *  This script is part of the TYPO3 project. The TYPO3 project is</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *  free software; you can redistribute it and/or modify</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> *  it under the terms of the GNU General Public License as published by</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *  (at your option) any later version.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> *</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> *  The GNU General Public License can be found at</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> *  http://www.gnu.org/copyleft/gpl.html.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> *  A copy is found in the textfile GPL.txt and important notices to the license</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> *  from the author is found in LICENSE.txt distributed with these scripts.</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> *</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *  This script is distributed in the hope that it will be useful,</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *  GNU General Public License for more details.</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> *</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *  This copyright notice MUST APPEAR in all copies of the script!</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> ***************************************************************/</span>
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">    // a tabulator</span>
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAB')" href="../../_constants/TAB.html" onMouseOver="constPopup(event,'TAB')">TAB</a>', <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(9));
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">    // a linefeed</span>
<a name="l31"><span class="linenum">  31</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('LF', <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(10));
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">    // a carriage return</span>
<a name="l33"><span class="linenum">  33</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('CR', <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(13));
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">    // a CR-LF combination</span>
<a name="l35"><span class="linenum">  35</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>', CR . LF);
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * The legendary &quot;t3lib_div&quot; class - Miscellaneous functions for general purpose.</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * Most of the functions do not relate specifically to TYPO3</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * However a section of functions requires certain TYPO3 features available</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * See comments in the source.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * You are encouraged to use this library in your own scripts!</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * USE:</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * The class is intended to be used without creating an instance of it.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * So: Don't instantiate - call functions with &quot;t3lib_div::&quot; prefixed the function name.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * So use t3lib_div::[method-name] to refer to the functions, eg. 't3lib_div::milliseconds()'</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> *</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * @author Kasper Skårhøj &lt;kasperYYYY@typo3.com&gt;</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * @package TYPO3</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * @subpackage t3lib</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> */</span>
<a name="l53"><span class="linenum">  53</span></a>  final class t3lib_div {
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">        // Severity constants used by t3lib_div::sysLog()</span>
<a name="l56"><span class="linenum">  56</span></a>      const SYSLOG_SEVERITY_INFO = 0;
<a name="l57"><span class="linenum">  57</span></a>      const SYSLOG_SEVERITY_NOTICE = 1;
<a name="l58"><span class="linenum">  58</span></a>      const SYSLOG_SEVERITY_WARNING = 2;
<a name="l59"><span class="linenum">  59</span></a>      const SYSLOG_SEVERITY_ERROR = 3;
<a name="l60"><span class="linenum">  60</span></a>      const SYSLOG_SEVERITY_FATAL = 4;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      const ENV_TRUSTED_HOSTS_PATTERN_ALLOW_ALL = '.*';
<a name="l63"><span class="linenum">  63</span></a>      const ENV_TRUSTED_HOSTS_PATTERN_SERVER_NAME = 'SERVER_NAME';
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>      <span class="comment">/**</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * State of host header value security check</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * in order to avoid unnecessary multiple checks during one request</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     *</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * @var bool</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     */</span>
<a name="l71"><span class="linenum">  71</span></a>      static protected <a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = FALSE;
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>      <span class="comment">/**</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * Singleton instances returned by makeInstance, using the class names as</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * array keys</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     *</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     * @var array&lt;t3lib_Singleton&gt;</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     */</span>
<a name="l79"><span class="linenum">  79</span></a>      protected static <a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a> = array();
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>      <span class="comment">/**</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * Instances returned by makeInstance, using the class names as array keys</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     *</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * @var array&lt;array&gt;&lt;object&gt;</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     */</span>
<a name="l86"><span class="linenum">  86</span></a>      protected static <a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a> = array();
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>      <span class="comment">/**</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * Register for makeInstance with given class name and final class names to reduce number of class_exists() calls</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     *</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * @var array Given class name =&gt; final class name</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     */</span>
<a name="l93"><span class="linenum">  93</span></a>      protected static <a class="var it37708" onMouseOver="hilite(37708)" onMouseOut="lolite()" onClick="logVariable('finalClassNameRegister')" href="../../_variables/finalClassNameRegister.html">$finalClassNameRegister</a> = array();
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>      <span class="comment">/*************************</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     *</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * GET/POST Variables</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     *</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     * Background:</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">     * Input GET/POST variables in PHP may have their quotes escaped with &quot;\&quot; or not depending on configuration.</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">     * TYPO3 has always converted quotes to BE escaped if the configuration told that they would not be so.</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     * But the clean solution is that quotes are never escaped and that is what the functions below offers.</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     * Eventually TYPO3 should provide this in the global space as well.</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * In the transitional phase (or forever..?) we need to encourage EVERY to read and write GET/POST vars through the API functions below.</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     *</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     *************************/</span>
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>      <span class="comment">/**</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * Returns the 'GLOBAL' value of incoming data from POST or GET, with priority to POST (that is equalent to 'GP' order)</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * Strips slashes from all output, both strings and arrays.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * To enhancement security in your scripts, please consider using t3lib_div::_GET or t3lib_div::_POST if you already</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * know by which method your data is arriving to the scripts!</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     *</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * @param string $var GET/POST var to return</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * @return mixed POST var named $var and if not set, the GET var of the same name.</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     */</span>
<a name="l117"><span class="linenum"> 117</span></a>  	public static function <a class="function" onClick="logFunction('_GP')" href="../../_functions/_gp.html" onMouseOver="funcPopup(event,'_gp')">_GP</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>) {
<a name="l118"><span class="linenum"> 118</span></a>          if (empty(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>)) {
<a name="l119"><span class="linenum"> 119</span></a>              return;
<a name="l120"><span class="linenum"> 120</span></a>          }
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = isset(<a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>]) ? <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>] : <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>];
<a name="l122"><span class="linenum"> 122</span></a>          if (isset(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l123"><span class="linenum"> 123</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l124"><span class="linenum"> 124</span></a>                  self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l125"><span class="linenum"> 125</span></a>              } else {
<a name="l126"><span class="linenum"> 126</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('stripslashes')" href="../../_functions/stripslashes.html" onMouseOver="phpfuncPopup(event,'stripslashes')">stripslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l127"><span class="linenum"> 127</span></a>              }
<a name="l128"><span class="linenum"> 128</span></a>          }
<a name="l129"><span class="linenum"> 129</span></a>          return <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l130"><span class="linenum"> 130</span></a>      }
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>      <span class="comment">/**</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * Returns the global arrays $_GET and $_POST merged with $_POST taking precedence.</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     *</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * @param string $parameter Key (variable name) from GET or POST vars</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @return array Returns the GET vars merged recursively onto the POST vars.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     */</span>
<a name="l138"><span class="linenum"> 138</span></a>  	public static function <a class="function" onClick="logFunction('_GPmerged')" href="../../_functions/_gpmerged.html" onMouseOver="funcPopup(event,'_gpmerged')">_GPmerged</a>(<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>) {
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it37709" onMouseOver="hilite(37709)" onMouseOut="lolite()" onClick="logVariable('postParameter')" href="../../_variables/postParameter.html">$postParameter</a> = (isset(<a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>]) &amp;&amp; <a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>])) ? <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>] : array();
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it37710" onMouseOver="hilite(37710)" onMouseOut="lolite()" onClick="logVariable('getParameter')" href="../../_variables/getParameter.html">$getParameter</a> = (isset(<a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>]) &amp;&amp; <a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>])) ? <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it4851" onMouseOver="hilite(4851)" onMouseOut="lolite()" onClick="logVariable('parameter')" href="../../_variables/parameter.html">$parameter</a>] : array();
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it37711" onMouseOver="hilite(37711)" onMouseOut="lolite()" onClick="logVariable('mergedParameters')" href="../../_variables/mergedParameters.html">$mergedParameters</a> = self::<a class="function" onClick="logFunction('array_merge_recursive_overrule')" href="../../_functions/array_merge_recursive_overrule.html" onMouseOver="funcPopup(event,'array_merge_recursive_overrule')">array_merge_recursive_overrule</a>(<a class="var it37710" onMouseOver="hilite(37710)" onMouseOut="lolite()" onClick="logVariable('getParameter')" href="../../_variables/getParameter.html">$getParameter</a>, <a class="var it37709" onMouseOver="hilite(37709)" onMouseOut="lolite()" onClick="logVariable('postParameter')" href="../../_variables/postParameter.html">$postParameter</a>);
<a name="l143"><span class="linenum"> 143</span></a>          self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it37711" onMouseOver="hilite(37711)" onMouseOut="lolite()" onClick="logVariable('mergedParameters')" href="../../_variables/mergedParameters.html">$mergedParameters</a>);
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          return <a class="var it37711" onMouseOver="hilite(37711)" onMouseOut="lolite()" onClick="logVariable('mergedParameters')" href="../../_variables/mergedParameters.html">$mergedParameters</a>;
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * Returns the global $_GET array (or value from) normalized to contain un-escaped values.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * ALWAYS use this API function to acquire the GET variables!</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     *</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * @param string $var Optional pointer to value in GET array (basically name of GET var)</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * @return mixed If $var is set it returns the value of $_GET[$var]. If $var is NULL (default), returns $_GET itself. In any case *slashes are stipped from the output!*</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * @see _POST(), _GP(), _GETset()</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     */</span>
<a name="l156"><span class="linenum"> 156</span></a>  	public static function <a class="function" onClick="logFunction('_GET')" href="../../_functions/_get.html" onMouseOver="funcPopup(event,'_get')">_GET</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = NULL) {
<a name="l157"><span class="linenum"> 157</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = (<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> === NULL) ? <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a> : (empty(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>) ? NULL : <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>]);
<a name="l158"><span class="linenum"> 158</span></a>          if (isset(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) { // Removes slashes since TYPO3 has added them regardless of magic_quotes setting.
<a name="l159"><span class="linenum"> 159</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l160"><span class="linenum"> 160</span></a>                  self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l161"><span class="linenum"> 161</span></a>              } else {
<a name="l162"><span class="linenum"> 162</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('stripslashes')" href="../../_functions/stripslashes.html" onMouseOver="phpfuncPopup(event,'stripslashes')">stripslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l163"><span class="linenum"> 163</span></a>              }
<a name="l164"><span class="linenum"> 164</span></a>          }
<a name="l165"><span class="linenum"> 165</span></a>          return <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l166"><span class="linenum"> 166</span></a>      }
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>      <span class="comment">/**</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * Returns the global $_POST array (or value from) normalized to contain un-escaped values.</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * ALWAYS use this API function to acquire the $_POST variables!</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     *</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * @param string $var Optional pointer to value in POST array (basically name of POST var)</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @return mixed If $var is set it returns the value of $_POST[$var]. If $var is NULL (default), returns $_POST itself. In any case *slashes are stipped from the output!*</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @see _GET(), _GP()</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     */</span>
<a name="l176"><span class="linenum"> 176</span></a>  	public static function <a class="function" onClick="logFunction('_POST')" href="../../_functions/_post.html" onMouseOver="funcPopup(event,'_post')">_POST</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> = NULL) {
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = (<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a> === NULL) ? <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a> : (empty(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>) ? NULL : <a class="var it2242" onMouseOver="hilite(2242)" onMouseOut="lolite()" onClick="logVariable('_POST')" href="../../_variables/_POST.html">$_POST</a>[<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>]);
<a name="l178"><span class="linenum"> 178</span></a>          if (isset(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) { // Removes slashes since TYPO3 has added them regardless of magic_quotes setting.
<a name="l179"><span class="linenum"> 179</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l180"><span class="linenum"> 180</span></a>                  self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l181"><span class="linenum"> 181</span></a>              } else {
<a name="l182"><span class="linenum"> 182</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('stripslashes')" href="../../_functions/stripslashes.html" onMouseOver="phpfuncPopup(event,'stripslashes')">stripslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l183"><span class="linenum"> 183</span></a>              }
<a name="l184"><span class="linenum"> 184</span></a>          }
<a name="l185"><span class="linenum"> 185</span></a>          return <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l186"><span class="linenum"> 186</span></a>      }
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>      <span class="comment">/**</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * Writes input value to $_GET.</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     *</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * @param mixed $inputGet</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     *        array or single value to write to $_GET. Values should NOT be</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     *        escaped at input time (but will be escaped before writing</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     *        according to TYPO3 standards).</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * @param string $key</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     *        alternative key; If set, this will not set the WHOLE GET array,</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     *        but only the key in it specified by this value!</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     *        You can specify to replace keys on deeper array levels by</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     *        separating the keys with a pipe.</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     *        Example: 'parentKey|childKey' will result in</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     *        array('parentKey' =&gt; array('childKey' =&gt; $inputGet))</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     *</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * @return void</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     */</span>
<a name="l205"><span class="linenum"> 205</span></a>  	public static function <a class="function" onClick="logFunction('_GETset')" href="../../_functions/_getset.html" onMouseOver="funcPopup(event,'_getset')">_GETset</a>(<a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>, <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = '') {
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">            // adds slashes since TYPO3 standard currently is that slashes</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">            // must be applied (regardless of magic_quotes setting)</span>
<a name="l208"><span class="linenum"> 208</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>)) {
<a name="l209"><span class="linenum"> 209</span></a>              self::<a class="function" onClick="logFunction('addSlashesOnArray')" href="../../_functions/addslashesonarray.html" onMouseOver="funcPopup(event,'addslashesonarray')">addSlashesOnArray</a>(<a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>);
<a name="l210"><span class="linenum"> 210</span></a>          } else {
<a name="l211"><span class="linenum"> 211</span></a>              <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a> = <a class="phpfunction" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>);
<a name="l212"><span class="linenum"> 212</span></a>          }
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>          if (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> != '') {
<a name="l215"><span class="linenum"> 215</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, '|') !== FALSE) {
<a name="l216"><span class="linenum"> 216</span></a>                  <a class="var it8634" onMouseOver="hilite(8634)" onMouseOut="lolite()" onClick="logVariable('pieces')" href="../../_variables/pieces.html">$pieces</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('|', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>);
<a name="l217"><span class="linenum"> 217</span></a>                  <a class="var it37713" onMouseOver="hilite(37713)" onMouseOut="lolite()" onClick="logVariable('newGet')" href="../../_variables/newGet.html">$newGet</a> = array();
<a name="l218"><span class="linenum"> 218</span></a>                  <a class="var it22207" onMouseOver="hilite(22207)" onMouseOut="lolite()" onClick="logVariable('pointer')" href="../../_variables/pointer.html">$pointer</a> =&amp; <a class="var it37713" onMouseOver="hilite(37713)" onMouseOut="lolite()" onClick="logVariable('newGet')" href="../../_variables/newGet.html">$newGet</a>;
<a name="l219"><span class="linenum"> 219</span></a>                  foreach (<a class="var it8634" onMouseOver="hilite(8634)" onMouseOut="lolite()" onClick="logVariable('pieces')" href="../../_variables/pieces.html">$pieces</a> as <a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('piece')" href="../../_variables/piece.html">$piece</a>) {
<a name="l220"><span class="linenum"> 220</span></a>                      <a class="var it22207" onMouseOver="hilite(22207)" onMouseOut="lolite()" onClick="logVariable('pointer')" href="../../_variables/pointer.html">$pointer</a> =&amp; <a class="var it22207" onMouseOver="hilite(22207)" onMouseOut="lolite()" onClick="logVariable('pointer')" href="../../_variables/pointer.html">$pointer</a>[<a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('piece')" href="../../_variables/piece.html">$piece</a>];
<a name="l221"><span class="linenum"> 221</span></a>                  }
<a name="l222"><span class="linenum"> 222</span></a>                  <a class="var it22207" onMouseOver="hilite(22207)" onMouseOut="lolite()" onClick="logVariable('pointer')" href="../../_variables/pointer.html">$pointer</a> = <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>;
<a name="l223"><span class="linenum"> 223</span></a>                  <a class="var it37714" onMouseOver="hilite(37714)" onMouseOut="lolite()" onClick="logVariable('mergedGet')" href="../../_variables/mergedGet.html">$mergedGet</a> = self::<a class="function" onClick="logFunction('array_merge_recursive_overrule')" href="../../_functions/array_merge_recursive_overrule.html" onMouseOver="funcPopup(event,'array_merge_recursive_overrule')">array_merge_recursive_overrule</a>(
<a name="l224"><span class="linenum"> 224</span></a>                      <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>, <a class="var it37713" onMouseOver="hilite(37713)" onMouseOut="lolite()" onClick="logVariable('newGet')" href="../../_variables/newGet.html">$newGet</a>
<a name="l225"><span class="linenum"> 225</span></a>                  );
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>                  <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a> = <a class="var it37714" onMouseOver="hilite(37714)" onMouseOut="lolite()" onClick="logVariable('mergedGet')" href="../../_variables/mergedGet.html">$mergedGet</a>;
<a name="l228"><span class="linenum"> 228</span></a>                  <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['HTTP_GET_VARS'] = <a class="var it37714" onMouseOver="hilite(37714)" onMouseOut="lolite()" onClick="logVariable('mergedGet')" href="../../_variables/mergedGet.html">$mergedGet</a>;
<a name="l229"><span class="linenum"> 229</span></a>              } else {
<a name="l230"><span class="linenum"> 230</span></a>                  <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>;
<a name="l231"><span class="linenum"> 231</span></a>                  <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['HTTP_GET_VARS'][<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>;
<a name="l232"><span class="linenum"> 232</span></a>              }
<a name="l233"><span class="linenum"> 233</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>)) {
<a name="l234"><span class="linenum"> 234</span></a>              <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_GET')" href="../../_variables/_GET.html">$_GET</a> = <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>;
<a name="l235"><span class="linenum"> 235</span></a>              <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['HTTP_GET_VARS'] = <a class="var it37712" onMouseOver="hilite(37712)" onMouseOut="lolite()" onClick="logVariable('inputGet')" href="../../_variables/inputGet.html">$inputGet</a>;
<a name="l236"><span class="linenum"> 236</span></a>          }
<a name="l237"><span class="linenum"> 237</span></a>      }
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>      <span class="comment">/**</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * Wrapper for the RemoveXSS function.</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * Removes potential XSS code from an input string.</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     *</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * Using an external class by Travis Puderbaugh &lt;kallahar@quickwired.com&gt;</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * @param string $string Input string</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * @return string Input string with potential XSS code removed</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     */</span>
<a name="l248"><span class="linenum"> 248</span></a>  	public static function <a class="function" onClick="logFunction('removeXSS')" href="../../_functions/removexss.html" onMouseOver="funcPopup(event,'removexss')">removeXSS</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l249"><span class="linenum"> 249</span></a>          require_once(PATH_typo3 . 'contrib/RemoveXSS/RemoveXSS.php');
<a name="l250"><span class="linenum"> 250</span></a>          <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = RemoveXSS::<a class="function" onClick="logFunction('process')" href="../../_functions/process.html" onMouseOver="funcPopup(event,'process')">process</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l251"><span class="linenum"> 251</span></a>          return <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>;
<a name="l252"><span class="linenum"> 252</span></a>      }
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>      <span class="comment">/*************************</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     *</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * IMAGE FUNCTIONS</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     *</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     *************************/</span>
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>  
<a name="l262"><span class="linenum"> 262</span></a>      <span class="comment">/**</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * Compressing a GIF file if not already LZW compressed.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * This function is a workaround for the fact that ImageMagick and/or GD does not compress GIF-files to their minimun size (that is RLE or no compression used)</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     *</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     *         The function takes a file-reference, $theFile, and saves it again through GD or ImageMagick in order to compress the file</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     *         GIF:</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     *         If $type is not set, the compression is done with ImageMagick (provided that $GLOBALS['TYPO3_CONF_VARS']['GFX']['im_path_lzw'] is pointing to the path of a lzw-enabled version of 'convert') else with GD (should be RLE-enabled!)</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     *         If $type is set to either 'IM' or 'GD' the compression is done with ImageMagick and GD respectively</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     *         PNG:</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     *         No changes.</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     *</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     *         $theFile is expected to be a valid GIF-file!</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     *         The function returns a code for the operation.</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     *</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @param string $theFile Filepath</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * @param string $type See description of function</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * @return string Returns &quot;GD&quot; if GD was used, otherwise &quot;IM&quot; if ImageMagick was used. If nothing done at all, it returns empty string.</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     */</span>
<a name="l280"><span class="linenum"> 280</span></a>  	public static function <a class="function" onClick="logFunction('gif_compress')" href="../../_functions/gif_compress.html" onMouseOver="funcPopup(event,'gif_compress')">gif_compress</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l281"><span class="linenum"> 281</span></a>          <a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX'];
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it37717" onMouseOver="hilite(37717)" onMouseOut="lolite()" onClick="logVariable('returnCode')" href="../../_variables/returnCode.html">$returnCode</a> = '';
<a name="l283"><span class="linenum"> 283</span></a>          if (<a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['gif_compress'] &amp;&amp; <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, -4, 4)) == '.gif') { // GIF...
<a name="l284"><span class="linenum"> 284</span></a>              if ((<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'IM' || !<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) &amp;&amp; <a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['im'] &amp;&amp; <a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['im_path_lzw']) { // IM
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">                    // use temporary file to prevent problems with read and write lock on same file on network file systems</span>
<a name="l286"><span class="linenum"> 286</span></a>                  <a class="var it37718" onMouseOver="hilite(37718)" onMouseOut="lolite()" onClick="logVariable('temporaryName')" href="../../_variables/temporaryName.html">$temporaryName</a>  =  <a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>) . '/' . md5(<a class="phpfunction" onClick="logFunction('uniqid')" href="../../_functions/uniqid.html" onMouseOver="phpfuncPopup(event,'uniqid')">uniqid</a>()) . '.gif';
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">                    // rename could fail, if a simultaneous thread is currently working on the same thing</span>
<a name="l288"><span class="linenum"> 288</span></a>                  if (@<a class="phpfunction" onClick="logFunction('rename')" href="../../_functions/rename.html" onMouseOver="phpfuncPopup(event,'rename')">rename</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, <a class="var it37718" onMouseOver="hilite(37718)" onMouseOut="lolite()" onClick="logVariable('temporaryName')" href="../../_variables/temporaryName.html">$temporaryName</a>)) {
<a name="l289"><span class="linenum"> 289</span></a>                      <a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a> = self::<a class="function" onClick="logFunction('imageMagickCommand')" href="../../_functions/imagemagickcommand.html" onMouseOver="funcPopup(event,'imagemagickcommand')">imageMagickCommand</a>('convert', '&quot;' . <a class="var it37718" onMouseOver="hilite(37718)" onMouseOut="lolite()" onClick="logVariable('temporaryName')" href="../../_variables/temporaryName.html">$temporaryName</a> . '&quot; &quot;' . <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a> . '&quot;', <a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['im_path_lzw']);
<a name="l290"><span class="linenum"> 290</span></a>                      t3lib_utility_Command::<a class="phpfunction" onClick="logFunction('exec')" href="../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a>);
<a name="l291"><span class="linenum"> 291</span></a>                      <a class="phpfunction" onClick="logFunction('unlink')" href="../../_functions/unlink.html" onMouseOver="phpfuncPopup(event,'unlink')">unlink</a>(<a class="var it37718" onMouseOver="hilite(37718)" onMouseOut="lolite()" onClick="logVariable('temporaryName')" href="../../_variables/temporaryName.html">$temporaryName</a>);
<a name="l292"><span class="linenum"> 292</span></a>                  }
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>                  <a class="var it37717" onMouseOver="hilite(37717)" onMouseOut="lolite()" onClick="logVariable('returnCode')" href="../../_variables/returnCode.html">$returnCode</a> = 'IM';
<a name="l295"><span class="linenum"> 295</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) {
<a name="l296"><span class="linenum"> 296</span></a>                      self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>);
<a name="l297"><span class="linenum"> 297</span></a>                  }
<a name="l298"><span class="linenum"> 298</span></a>              } elseif ((<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'GD' || !<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) &amp;&amp; <a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['gdlib'] &amp;&amp; !<a class="var it37716" onMouseOver="hilite(37716)" onMouseOut="lolite()" onClick="logVariable('gfxConf')" href="../../_variables/gfxConf.html">$gfxConf</a>['gdlib_png']) { // GD
<a name="l299"><span class="linenum"> 299</span></a>                  <a class="var it37719" onMouseOver="hilite(37719)" onMouseOut="lolite()" onClick="logVariable('tempImage')" href="../../_variables/tempImage.html">$tempImage</a> = <a class="phpfunction" onClick="logFunction('imageCreateFromGif')" href="../../_functions/imagecreatefromgif.html" onMouseOver="phpfuncPopup(event,'imagecreatefromgif')">imageCreateFromGif</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>);
<a name="l300"><span class="linenum"> 300</span></a>                  <a class="phpfunction" onClick="logFunction('imageGif')" href="../../_functions/imagegif.html" onMouseOver="phpfuncPopup(event,'imagegif')">imageGif</a>(<a class="var it37719" onMouseOver="hilite(37719)" onMouseOut="lolite()" onClick="logVariable('tempImage')" href="../../_variables/tempImage.html">$tempImage</a>, <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>);
<a name="l301"><span class="linenum"> 301</span></a>                  <a class="phpfunction" onClick="logFunction('imageDestroy')" href="../../_functions/imagedestroy.html" onMouseOver="phpfuncPopup(event,'imagedestroy')">imageDestroy</a>(<a class="var it37719" onMouseOver="hilite(37719)" onMouseOut="lolite()" onClick="logVariable('tempImage')" href="../../_variables/tempImage.html">$tempImage</a>);
<a name="l302"><span class="linenum"> 302</span></a>                  <a class="var it37717" onMouseOver="hilite(37717)" onMouseOut="lolite()" onClick="logVariable('returnCode')" href="../../_variables/returnCode.html">$returnCode</a> = 'GD';
<a name="l303"><span class="linenum"> 303</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) {
<a name="l304"><span class="linenum"> 304</span></a>                      self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>);
<a name="l305"><span class="linenum"> 305</span></a>                  }
<a name="l306"><span class="linenum"> 306</span></a>              }
<a name="l307"><span class="linenum"> 307</span></a>          }
<a name="l308"><span class="linenum"> 308</span></a>          return <a class="var it37717" onMouseOver="hilite(37717)" onMouseOut="lolite()" onClick="logVariable('returnCode')" href="../../_variables/returnCode.html">$returnCode</a>;
<a name="l309"><span class="linenum"> 309</span></a>      }
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>      <span class="comment">/**</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * Converts a png file to gif.</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * This converts a png file to gif IF the FLAG $GLOBALS['TYPO3_CONF_VARS']['FE']['png_to_gif'] is set TRUE.</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     *</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @param string $theFile the filename with path</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @return string new filename</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     */</span>
<a name="l318"><span class="linenum"> 318</span></a>  	public static function <a class="function" onClick="logFunction('png_to_gif_by_imagemagick')" href="../../_functions/png_to_gif_by_imagemagick.html" onMouseOver="funcPopup(event,'png_to_gif_by_imagemagick')">png_to_gif_by_imagemagick</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>) {
<a name="l319"><span class="linenum"> 319</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['FE']['png_to_gif']
<a name="l320"><span class="linenum"> 320</span></a>                  &amp;&amp; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['im']
<a name="l321"><span class="linenum"> 321</span></a>                  &amp;&amp; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['im_path_lzw']
<a name="l322"><span class="linenum"> 322</span></a>                  &amp;&amp; <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, -4, 4)) == '.png'
<a name="l323"><span class="linenum"> 323</span></a>                  &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) { // IM
<a name="l324"><span class="linenum"> 324</span></a>              <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, 0, -4) . '.gif';
<a name="l325"><span class="linenum"> 325</span></a>              <a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a> = self::<a class="function" onClick="logFunction('imageMagickCommand')" href="../../_functions/imagemagickcommand.html" onMouseOver="funcPopup(event,'imagemagickcommand')">imageMagickCommand</a>('convert', '&quot;' . <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a> . '&quot; &quot;' . <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a> . '&quot;', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['im_path_lzw']);
<a name="l326"><span class="linenum"> 326</span></a>              t3lib_utility_Command::<a class="phpfunction" onClick="logFunction('exec')" href="../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a>);
<a name="l327"><span class="linenum"> 327</span></a>              <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a> = <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>;
<a name="l328"><span class="linenum"> 328</span></a>              if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>)) {
<a name="l329"><span class="linenum"> 329</span></a>                  self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>);
<a name="l330"><span class="linenum"> 330</span></a>              }
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">                // unlink old file?? May be bad idea because TYPO3 would then recreate the file every time as</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">                // TYPO3 thinks the file is not generated because it's missing!! So do not unlink $theFile here!!</span>
<a name="l333"><span class="linenum"> 333</span></a>          }
<a name="l334"><span class="linenum"> 334</span></a>          return <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>;
<a name="l335"><span class="linenum"> 335</span></a>      }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>      <span class="comment">/**</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     * Returns filename of the png/gif version of the input file (which can be png or gif).</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * If input file type does not match the wanted output type a conversion is made and temp-filename returned.</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     *</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     * @param string $theFile Filepath of image file</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @param boolean $output_png If set, then input file is converted to PNG, otherwise to GIF</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     * @return string If the new image file exists, its filepath is returned</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     */</span>
<a name="l345"><span class="linenum"> 345</span></a>  	public static function <a class="function" onClick="logFunction('read_png_gif')" href="../../_functions/read_png_gif.html" onMouseOver="funcPopup(event,'read_png_gif')">read_png_gif</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, <a class="var it37720" onMouseOver="hilite(37720)" onMouseOut="lolite()" onClick="logVariable('output_png')" href="../../_variables/output_png.html">$output_png</a> = FALSE) {
<a name="l346"><span class="linenum"> 346</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['im'] &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) {
<a name="l347"><span class="linenum"> 347</span></a>              <a class="var it1691" onMouseOver="hilite(1691)" onMouseOut="lolite()" onClick="logVariable('ext')" href="../../_variables/ext.html">$ext</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, -4, 4));
<a name="l348"><span class="linenum"> 348</span></a>              if (
<a name="l349"><span class="linenum"> 349</span></a>                  ((string) <a class="var it1691" onMouseOver="hilite(1691)" onMouseOut="lolite()" onClick="logVariable('ext')" href="../../_variables/ext.html">$ext</a> == '.png' &amp;&amp; <a class="var it37720" onMouseOver="hilite(37720)" onMouseOut="lolite()" onClick="logVariable('output_png')" href="../../_variables/output_png.html">$output_png</a>) ||
<a name="l350"><span class="linenum"> 350</span></a>                  ((string) <a class="var it1691" onMouseOver="hilite(1691)" onMouseOut="lolite()" onClick="logVariable('ext')" href="../../_variables/ext.html">$ext</a> == '.gif' &amp;&amp; !<a class="var it37720" onMouseOver="hilite(37720)" onMouseOut="lolite()" onClick="logVariable('output_png')" href="../../_variables/output_png.html">$output_png</a>)
<a name="l351"><span class="linenum"> 351</span></a>              ) {
<a name="l352"><span class="linenum"> 352</span></a>                  return <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>;
<a name="l353"><span class="linenum"> 353</span></a>              } else {
<a name="l354"><span class="linenum"> 354</span></a>                  <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a> = PATH_site . 'typo3temp/readPG_' . md5(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a> . '|' . <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) . (<a class="var it37720" onMouseOver="hilite(37720)" onMouseOut="lolite()" onClick="logVariable('output_png')" href="../../_variables/output_png.html">$output_png</a> ? '.png' : '.gif');
<a name="l355"><span class="linenum"> 355</span></a>                  <a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a> = self::<a class="function" onClick="logFunction('imageMagickCommand')" href="../../_functions/imagemagickcommand.html" onMouseOver="funcPopup(event,'imagemagickcommand')">imageMagickCommand</a>('convert', '&quot;' . <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a> . '&quot; &quot;' . <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a> . '&quot;', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['im_path']);
<a name="l356"><span class="linenum"> 356</span></a>                  t3lib_utility_Command::<a class="phpfunction" onClick="logFunction('exec')" href="../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a>);
<a name="l357"><span class="linenum"> 357</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>)) {
<a name="l358"><span class="linenum"> 358</span></a>                      self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>);
<a name="l359"><span class="linenum"> 359</span></a>                      return <a class="var it18192" onMouseOver="hilite(18192)" onMouseOut="lolite()" onClick="logVariable('newFile')" href="../../_variables/newFile.html">$newFile</a>;
<a name="l360"><span class="linenum"> 360</span></a>                  }
<a name="l361"><span class="linenum"> 361</span></a>              }
<a name="l362"><span class="linenum"> 362</span></a>          }
<a name="l363"><span class="linenum"> 363</span></a>      }
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>  
<a name="l366"><span class="linenum"> 366</span></a>      <span class="comment">/*************************</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     *</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     * STRING FUNCTIONS</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     *</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     *************************/</span>
<a name="l371"><span class="linenum"> 371</span></a>  
<a name="l372"><span class="linenum"> 372</span></a>      <span class="comment">/**</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * Truncates a string with appended/prepended &quot;...&quot; and takes current character set into consideration.</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     *</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * @param string $string string to truncate</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * @param integer $chars must be an integer with an absolute value of at least 4. if negative the string is cropped from the right end.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * @param string $appendString appendix to the truncated string</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * @return string cropped string</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     */</span>
<a name="l380"><span class="linenum"> 380</span></a>  	public static function <a class="function" onClick="logFunction('fixed_lgd_cs')" href="../../_functions/fixed_lgd_cs.html" onMouseOver="funcPopup(event,'fixed_lgd_cs')">fixed_lgd_cs</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2908" onMouseOver="hilite(2908)" onMouseOut="lolite()" onClick="logVariable('chars')" href="../../_variables/chars.html">$chars</a>, <a class="var it37721" onMouseOver="hilite(37721)" onMouseOut="lolite()" onClick="logVariable('appendString')" href="../../_variables/appendString.html">$appendString</a> = '...') {
<a name="l381"><span class="linenum"> 381</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG'])) {
<a name="l382"><span class="linenum"> 382</span></a>              return <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG']-&gt;csConvObj-&gt;<a class="function" onClick="logFunction('crop')" href="../../_functions/crop.html" onMouseOver="funcPopup(event,'crop')">crop</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG']-&gt;charSet, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2908" onMouseOver="hilite(2908)" onMouseOut="lolite()" onClick="logVariable('chars')" href="../../_variables/chars.html">$chars</a>, <a class="var it37721" onMouseOver="hilite(37721)" onMouseOut="lolite()" onClick="logVariable('appendString')" href="../../_variables/appendString.html">$appendString</a>);
<a name="l383"><span class="linenum"> 383</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE'])) {
<a name="l384"><span class="linenum"> 384</span></a>              <a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('charSet')" href="../../_variables/charSet.html">$charSet</a> = (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;renderCharset != '' ? <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;renderCharset : <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;defaultCharSet);
<a name="l385"><span class="linenum"> 385</span></a>              return <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;csConvObj-&gt;<a class="function" onClick="logFunction('crop')" href="../../_functions/crop.html" onMouseOver="funcPopup(event,'crop')">crop</a>(<a class="var it2065" onMouseOver="hilite(2065)" onMouseOut="lolite()" onClick="logVariable('charSet')" href="../../_variables/charSet.html">$charSet</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2908" onMouseOver="hilite(2908)" onMouseOut="lolite()" onClick="logVariable('chars')" href="../../_variables/chars.html">$chars</a>, <a class="var it37721" onMouseOver="hilite(37721)" onMouseOut="lolite()" onClick="logVariable('appendString')" href="../../_variables/appendString.html">$appendString</a>);
<a name="l386"><span class="linenum"> 386</span></a>          } else {
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">                // this case should not happen</span>
<a name="l388"><span class="linenum"> 388</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cs');
<a name="l389"><span class="linenum"> 389</span></a>              return <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('crop')" href="../../_functions/crop.html" onMouseOver="funcPopup(event,'crop')">crop</a>('utf-8', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it2908" onMouseOver="hilite(2908)" onMouseOut="lolite()" onClick="logVariable('chars')" href="../../_variables/chars.html">$chars</a>, <a class="var it37721" onMouseOver="hilite(37721)" onMouseOut="lolite()" onClick="logVariable('appendString')" href="../../_variables/appendString.html">$appendString</a>);
<a name="l390"><span class="linenum"> 390</span></a>          }
<a name="l391"><span class="linenum"> 391</span></a>      }
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>      <span class="comment">/**</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     * Breaks up a single line of text for emails</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     *</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">     * @param string $str The string to break up</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">     * @param string $newlineChar The string to implode the broken lines with (default/typically \n)</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     * @param integer $lineWidth The line width</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">     * @return string reformatted text</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Mail::breakLinesForEmail()</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     */</span>
<a name="l402"><span class="linenum"> 402</span></a>  	public static function <a class="function" onClick="logFunction('breakLinesForEmail')" href="../../_functions/breaklinesforemail.html" onMouseOver="funcPopup(event,'breaklinesforemail')">breakLinesForEmail</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it37723" onMouseOver="hilite(37723)" onMouseOut="lolite()" onClick="logVariable('newlineChar')" href="../../_variables/newlineChar.html">$newlineChar</a> = LF, <a class="var it37724" onMouseOver="hilite(37724)" onMouseOut="lolite()" onClick="logVariable('lineWidth')" href="../../_variables/lineWidth.html">$lineWidth</a> = 76) {
<a name="l403"><span class="linenum"> 403</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l404"><span class="linenum"> 404</span></a>          return t3lib_utility_Mail::<a class="function" onClick="logFunction('breakLinesForEmail')" href="../../_functions/breaklinesforemail.html" onMouseOver="funcPopup(event,'breaklinesforemail')">breakLinesForEmail</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it37723" onMouseOver="hilite(37723)" onMouseOut="lolite()" onClick="logVariable('newlineChar')" href="../../_variables/newlineChar.html">$newlineChar</a>, <a class="var it37724" onMouseOver="hilite(37724)" onMouseOut="lolite()" onClick="logVariable('lineWidth')" href="../../_variables/lineWidth.html">$lineWidth</a>);
<a name="l405"><span class="linenum"> 405</span></a>      }
<a name="l406"><span class="linenum"> 406</span></a>  
<a name="l407"><span class="linenum"> 407</span></a>      <span class="comment">/**</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * Match IP number with list of numbers with wildcard</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     * Dispatcher method for switching into specialised IPv4 and IPv6 methods.</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     *</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">     * @param string $baseIP is the current remote IP address for instance, typ. REMOTE_ADDR</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">     * @param string $list is a comma-list of IP-addresses to match with. *-wildcard allowed instead of number, plus leaving out parts in the IP number is accepted as wildcard (eg. 192.168.*.* equals 192.168). If list is &quot;*&quot; no check is done and the function returns TRUE immediately. An empty list always returns FALSE.</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * @return boolean TRUE if an IP-mask from $list matches $baseIP</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     */</span>
<a name="l415"><span class="linenum"> 415</span></a>  	public static function <a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l417"><span class="linenum"> 417</span></a>          if (<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> === '') {
<a name="l418"><span class="linenum"> 418</span></a>              return FALSE;
<a name="l419"><span class="linenum"> 419</span></a>          } elseif (<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> === '*') {
<a name="l420"><span class="linenum"> 420</span></a>              return TRUE;
<a name="l421"><span class="linenum"> 421</span></a>          }
<a name="l422"><span class="linenum"> 422</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, ':') !== FALSE &amp;&amp; self::<a class="function" onClick="logFunction('validIPv6')" href="../../_functions/validipv6.html" onMouseOver="funcPopup(event,'validipv6')">validIPv6</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>)) {
<a name="l423"><span class="linenum"> 423</span></a>              return self::<a class="function" onClick="logFunction('cmpIPv6')" href="../../_functions/cmpipv6.html" onMouseOver="funcPopup(event,'cmpipv6')">cmpIPv6</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l424"><span class="linenum"> 424</span></a>          } else {
<a name="l425"><span class="linenum"> 425</span></a>              return self::<a class="function" onClick="logFunction('cmpIPv4')" href="../../_functions/cmpipv4.html" onMouseOver="funcPopup(event,'cmpipv4')">cmpIPv4</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l426"><span class="linenum"> 426</span></a>          }
<a name="l427"><span class="linenum"> 427</span></a>      }
<a name="l428"><span class="linenum"> 428</span></a>  
<a name="l429"><span class="linenum"> 429</span></a>      <span class="comment">/**</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     * Match IPv4 number with list of numbers with wildcard</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">     *</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">     * @param    string        $baseIP is the current remote IP address for instance, typ. REMOTE_ADDR</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * @param    string        $list is a comma-list of IP-addresses to match with. *-wildcard allowed instead of number, plus leaving out parts in the IP number is accepted as wildcard (eg. 192.168.*.* equals 192.168), could also contain IPv6 addresses</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     * @return    boolean        TRUE if an IP-mask from $list matches $baseIP</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     */</span>
<a name="l436"><span class="linenum"> 436</span></a>  	public static function <a class="function" onClick="logFunction('cmpIPv4')" href="../../_functions/cmpipv4.html" onMouseOver="funcPopup(event,'cmpipv4')">cmpIPv4</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l437"><span class="linenum"> 437</span></a>          <a class="var it37726" onMouseOver="hilite(37726)" onMouseOut="lolite()" onClick="logVariable('IPpartsReq')" href="../../_variables/IPpartsReq.html">$IPpartsReq</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>);
<a name="l438"><span class="linenum"> 438</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37726" onMouseOver="hilite(37726)" onMouseOut="lolite()" onClick="logVariable('IPpartsReq')" href="../../_variables/IPpartsReq.html">$IPpartsReq</a>) == 4) {
<a name="l439"><span class="linenum"> 439</span></a>              <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>, 1);
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>              foreach (<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> as <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>) {
<a name="l442"><span class="linenum"> 442</span></a>                  <a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l443"><span class="linenum"> 443</span></a>                  if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a>) == 2) {
<a name="l444"><span class="linenum"> 444</span></a>                      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>, <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>) = <a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a>;
<a name="l445"><span class="linenum"> 445</span></a>                  } else {
<a name="l446"><span class="linenum"> 446</span></a>                      <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a> = FALSE;
<a name="l447"><span class="linenum"> 447</span></a>                  }
<a name="l448"><span class="linenum"> 448</span></a>  
<a name="l449"><span class="linenum"> 449</span></a>                  if (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>)) {
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">                        // &quot;192.168.3.0/24&quot;</span>
<a name="l451"><span class="linenum"> 451</span></a>                      <a class="var it37728" onMouseOver="hilite(37728)" onMouseOut="lolite()" onClick="logVariable('lnet')" href="../../_variables/lnet.html">$lnet</a> = <a class="phpfunction" onClick="logFunction('ip2long')" href="../../_functions/ip2long.html" onMouseOver="phpfuncPopup(event,'ip2long')">ip2long</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l452"><span class="linenum"> 452</span></a>                      <a class="var it37729" onMouseOver="hilite(37729)" onMouseOut="lolite()" onClick="logVariable('lip')" href="../../_variables/lip.html">$lip</a> = <a class="phpfunction" onClick="logFunction('ip2long')" href="../../_functions/ip2long.html" onMouseOver="phpfuncPopup(event,'ip2long')">ip2long</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>);
<a name="l453"><span class="linenum"> 453</span></a>                      <a class="var it37730" onMouseOver="hilite(37730)" onMouseOut="lolite()" onClick="logVariable('binnet')" href="../../_variables/binnet.html">$binnet</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="var it37728" onMouseOver="hilite(37728)" onMouseOut="lolite()" onClick="logVariable('lnet')" href="../../_variables/lnet.html">$lnet</a>), 32, '0', STR_PAD_LEFT);
<a name="l454"><span class="linenum"> 454</span></a>                      <a class="var it37731" onMouseOver="hilite(37731)" onMouseOut="lolite()" onClick="logVariable('firstpart')" href="../../_variables/firstpart.html">$firstpart</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37730" onMouseOver="hilite(37730)" onMouseOut="lolite()" onClick="logVariable('binnet')" href="../../_variables/binnet.html">$binnet</a>, 0, <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>);
<a name="l455"><span class="linenum"> 455</span></a>                      <a class="var it37732" onMouseOver="hilite(37732)" onMouseOut="lolite()" onClick="logVariable('binip')" href="../../_variables/binip.html">$binip</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="var it37729" onMouseOver="hilite(37729)" onMouseOut="lolite()" onClick="logVariable('lip')" href="../../_variables/lip.html">$lip</a>), 32, '0', STR_PAD_LEFT);
<a name="l456"><span class="linenum"> 456</span></a>                      <a class="var it34405" onMouseOver="hilite(34405)" onMouseOut="lolite()" onClick="logVariable('firstip')" href="../../_variables/firstip.html">$firstip</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37732" onMouseOver="hilite(37732)" onMouseOut="lolite()" onClick="logVariable('binip')" href="../../_variables/binip.html">$binip</a>, 0, <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>);
<a name="l457"><span class="linenum"> 457</span></a>                      <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37731" onMouseOver="hilite(37731)" onMouseOut="lolite()" onClick="logVariable('firstpart')" href="../../_variables/firstpart.html">$firstpart</a>, <a class="var it34405" onMouseOver="hilite(34405)" onMouseOut="lolite()" onClick="logVariable('firstip')" href="../../_variables/firstip.html">$firstip</a>) == 0);
<a name="l458"><span class="linenum"> 458</span></a>                  } else {
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">                        // &quot;192.168.*.*&quot;</span>
<a name="l460"><span class="linenum"> 460</span></a>                      <a class="var it37733" onMouseOver="hilite(37733)" onMouseOut="lolite()" onClick="logVariable('IPparts')" href="../../_variables/IPparts.html">$IPparts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l461"><span class="linenum"> 461</span></a>                      <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = 1;
<a name="l462"><span class="linenum"> 462</span></a>                      foreach (<a class="var it37733" onMouseOver="hilite(37733)" onMouseOut="lolite()" onClick="logVariable('IPparts')" href="../../_variables/IPparts.html">$IPparts</a> as <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l463"><span class="linenum"> 463</span></a>                          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l464"><span class="linenum"> 464</span></a>                          if ((<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> !== '*') &amp;&amp; (<a class="var it37726" onMouseOver="hilite(37726)" onMouseOut="lolite()" onClick="logVariable('IPpartsReq')" href="../../_variables/IPpartsReq.html">$IPpartsReq</a>[<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>] !== <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>)) {
<a name="l465"><span class="linenum"> 465</span></a>                              <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = 0;
<a name="l466"><span class="linenum"> 466</span></a>                          }
<a name="l467"><span class="linenum"> 467</span></a>                      }
<a name="l468"><span class="linenum"> 468</span></a>                  }
<a name="l469"><span class="linenum"> 469</span></a>                  if (<a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a>) {
<a name="l470"><span class="linenum"> 470</span></a>                      return TRUE;
<a name="l471"><span class="linenum"> 471</span></a>                  }
<a name="l472"><span class="linenum"> 472</span></a>              }
<a name="l473"><span class="linenum"> 473</span></a>          }
<a name="l474"><span class="linenum"> 474</span></a>          return FALSE;
<a name="l475"><span class="linenum"> 475</span></a>      }
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>      <span class="comment">/**</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">     * Match IPv6 address with a list of IPv6 prefixes</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">     *</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">     * @param string $baseIP is the current remote IP address for instance</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">     * @param string $list is a comma-list of IPv6 prefixes, could also contain IPv4 addresses</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * @return boolean TRUE if an baseIP matches any prefix</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     */</span>
<a name="l484"><span class="linenum"> 484</span></a>  	public static function <a class="function" onClick="logFunction('cmpIPv6')" href="../../_functions/cmpipv6.html" onMouseOver="funcPopup(event,'cmpipv6')">cmpIPv6</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l485"><span class="linenum"> 485</span></a>          <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = FALSE; <span class="comment">// Policy default: Deny connection</span>
<a name="l486"><span class="linenum"> 486</span></a>          <a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a> = self::<a class="function" onClick="logFunction('normalizeIPv6')" href="../../_functions/normalizeipv6.html" onMouseOver="funcPopup(event,'normalizeipv6')">normalizeIPv6</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>);
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>          <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>, 1);
<a name="l489"><span class="linenum"> 489</span></a>          foreach (<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> as <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>) {
<a name="l490"><span class="linenum"> 490</span></a>              <a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l491"><span class="linenum"> 491</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a>) == 2) {
<a name="l492"><span class="linenum"> 492</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>, <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>) = <a class="var it37727" onMouseOver="hilite(37727)" onMouseOut="lolite()" onClick="logVariable('testList')" href="../../_variables/testList.html">$testList</a>;
<a name="l493"><span class="linenum"> 493</span></a>              } else {
<a name="l494"><span class="linenum"> 494</span></a>                  <a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a> = FALSE;
<a name="l495"><span class="linenum"> 495</span></a>              }
<a name="l496"><span class="linenum"> 496</span></a>  
<a name="l497"><span class="linenum"> 497</span></a>              if (self::<a class="function" onClick="logFunction('validIPv6')" href="../../_functions/validipv6.html" onMouseOver="funcPopup(event,'validipv6')">validIPv6</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>)) {
<a name="l498"><span class="linenum"> 498</span></a>                  <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a> = self::<a class="function" onClick="logFunction('normalizeIPv6')" href="../../_functions/normalizeipv6.html" onMouseOver="funcPopup(event,'normalizeipv6')">normalizeIPv6</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l499"><span class="linenum"> 499</span></a>                  <a class="var it37734" onMouseOver="hilite(37734)" onMouseOut="lolite()" onClick="logVariable('maskInt')" href="../../_variables/maskInt.html">$maskInt</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>) ? <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a>) : 128;
<a name="l500"><span class="linenum"> 500</span></a>                  if (<a class="var it74" onMouseOver="hilite(74)" onMouseOut="lolite()" onClick="logVariable('mask')" href="../../_variables/mask.html">$mask</a> === '0') { // special case; /0 is an allowed mask - equals a wildcard
<a name="l501"><span class="linenum"> 501</span></a>                      <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = TRUE;
<a name="l502"><span class="linenum"> 502</span></a>                  } elseif (<a class="var it37734" onMouseOver="hilite(37734)" onMouseOut="lolite()" onClick="logVariable('maskInt')" href="../../_variables/maskInt.html">$maskInt</a> == 128) {
<a name="l503"><span class="linenum"> 503</span></a>                      <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = (<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a> === <a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>);
<a name="l504"><span class="linenum"> 504</span></a>                  } else {
<a name="l505"><span class="linenum"> 505</span></a>                      <a class="var it37735" onMouseOver="hilite(37735)" onMouseOut="lolite()" onClick="logVariable('testBin')" href="../../_variables/testBin.html">$testBin</a> = self::<a class="function" onClick="logFunction('IPv6Hex2Bin')" href="../../_functions/ipv6hex2bin.html" onMouseOver="funcPopup(event,'ipv6hex2bin')">IPv6Hex2Bin</a>(<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l506"><span class="linenum"> 506</span></a>                      <a class="var it37736" onMouseOver="hilite(37736)" onMouseOut="lolite()" onClick="logVariable('baseIPBin')" href="../../_variables/baseIPBin.html">$baseIPBin</a> = self::<a class="function" onClick="logFunction('IPv6Hex2Bin')" href="../../_functions/ipv6hex2bin.html" onMouseOver="funcPopup(event,'ipv6hex2bin')">IPv6Hex2Bin</a>(<a class="var it37725" onMouseOver="hilite(37725)" onMouseOut="lolite()" onClick="logVariable('baseIP')" href="../../_variables/baseIP.html">$baseIP</a>);
<a name="l507"><span class="linenum"> 507</span></a>                      <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = TRUE;
<a name="l508"><span class="linenum"> 508</span></a>  
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">                    // modulo is 0 if this is a 8-bit-boundary</span>
<a name="l510"><span class="linenum"> 510</span></a>                      <a class="var it37737" onMouseOver="hilite(37737)" onMouseOut="lolite()" onClick="logVariable('maskIntModulo')" href="../../_variables/maskIntModulo.html">$maskIntModulo</a> = <a class="var it37734" onMouseOver="hilite(37734)" onMouseOut="lolite()" onClick="logVariable('maskInt')" href="../../_variables/maskInt.html">$maskInt</a> % 8;
<a name="l511"><span class="linenum"> 511</span></a>                      <a class="var it37738" onMouseOver="hilite(37738)" onMouseOut="lolite()" onClick="logVariable('numFullCharactersUntilBoundary')" href="../../_variables/numFullCharactersUntilBoundary.html">$numFullCharactersUntilBoundary</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it37734" onMouseOver="hilite(37734)" onMouseOut="lolite()" onClick="logVariable('maskInt')" href="../../_variables/maskInt.html">$maskInt</a> / 8);
<a name="l512"><span class="linenum"> 512</span></a>  
<a name="l513"><span class="linenum"> 513</span></a>                      if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37735" onMouseOver="hilite(37735)" onMouseOut="lolite()" onClick="logVariable('testBin')" href="../../_variables/testBin.html">$testBin</a>, 0, <a class="var it37738" onMouseOver="hilite(37738)" onMouseOut="lolite()" onClick="logVariable('numFullCharactersUntilBoundary')" href="../../_variables/numFullCharactersUntilBoundary.html">$numFullCharactersUntilBoundary</a>) !== <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37736" onMouseOver="hilite(37736)" onMouseOut="lolite()" onClick="logVariable('baseIPBin')" href="../../_variables/baseIPBin.html">$baseIPBin</a>, 0, <a class="var it37738" onMouseOver="hilite(37738)" onMouseOut="lolite()" onClick="logVariable('numFullCharactersUntilBoundary')" href="../../_variables/numFullCharactersUntilBoundary.html">$numFullCharactersUntilBoundary</a>)) {
<a name="l514"><span class="linenum"> 514</span></a>                          <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = FALSE;
<a name="l515"><span class="linenum"> 515</span></a>                      } elseif (<a class="var it37737" onMouseOver="hilite(37737)" onMouseOut="lolite()" onClick="logVariable('maskIntModulo')" href="../../_variables/maskIntModulo.html">$maskIntModulo</a> &gt; 0) {
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">                        // if not an 8-bit-boundary, check bits of last character</span>
<a name="l517"><span class="linenum"> 517</span></a>                          <a class="var it37739" onMouseOver="hilite(37739)" onMouseOut="lolite()" onClick="logVariable('testLastBits')" href="../../_variables/testLastBits.html">$testLastBits</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37735" onMouseOver="hilite(37735)" onMouseOut="lolite()" onClick="logVariable('testBin')" href="../../_variables/testBin.html">$testBin</a>, <a class="var it37738" onMouseOver="hilite(37738)" onMouseOut="lolite()" onClick="logVariable('numFullCharactersUntilBoundary')" href="../../_variables/numFullCharactersUntilBoundary.html">$numFullCharactersUntilBoundary</a>, 1))), 8, '0', STR_PAD_LEFT);
<a name="l518"><span class="linenum"> 518</span></a>                          <a class="var it37740" onMouseOver="hilite(37740)" onMouseOut="lolite()" onClick="logVariable('baseIPLastBits')" href="../../_variables/baseIPLastBits.html">$baseIPLastBits</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="phpfunction" onClick="logFunction('decbin')" href="../../_functions/decbin.html" onMouseOver="phpfuncPopup(event,'decbin')">decbin</a>(<a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37736" onMouseOver="hilite(37736)" onMouseOut="lolite()" onClick="logVariable('baseIPBin')" href="../../_variables/baseIPBin.html">$baseIPBin</a>, <a class="var it37738" onMouseOver="hilite(37738)" onMouseOut="lolite()" onClick="logVariable('numFullCharactersUntilBoundary')" href="../../_variables/numFullCharactersUntilBoundary.html">$numFullCharactersUntilBoundary</a>, 1))), 8, '0', STR_PAD_LEFT);
<a name="l519"><span class="linenum"> 519</span></a>                          if (<a class="phpfunction" onClick="logFunction('strncmp')" href="../../_functions/strncmp.html" onMouseOver="phpfuncPopup(event,'strncmp')">strncmp</a>(<a class="var it37739" onMouseOver="hilite(37739)" onMouseOut="lolite()" onClick="logVariable('testLastBits')" href="../../_variables/testLastBits.html">$testLastBits</a>, <a class="var it37740" onMouseOver="hilite(37740)" onMouseOut="lolite()" onClick="logVariable('baseIPLastBits')" href="../../_variables/baseIPLastBits.html">$baseIPLastBits</a>, <a class="var it37737" onMouseOver="hilite(37737)" onMouseOut="lolite()" onClick="logVariable('maskIntModulo')" href="../../_variables/maskIntModulo.html">$maskIntModulo</a>) != 0) {
<a name="l520"><span class="linenum"> 520</span></a>                              <a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = FALSE;
<a name="l521"><span class="linenum"> 521</span></a>                          }
<a name="l522"><span class="linenum"> 522</span></a>                      }
<a name="l523"><span class="linenum"> 523</span></a>                  }
<a name="l524"><span class="linenum"> 524</span></a>              }
<a name="l525"><span class="linenum"> 525</span></a>              if (<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a>) {
<a name="l526"><span class="linenum"> 526</span></a>                  return TRUE;
<a name="l527"><span class="linenum"> 527</span></a>              }
<a name="l528"><span class="linenum"> 528</span></a>          }
<a name="l529"><span class="linenum"> 529</span></a>          return FALSE;
<a name="l530"><span class="linenum"> 530</span></a>      }
<a name="l531"><span class="linenum"> 531</span></a>  
<a name="l532"><span class="linenum"> 532</span></a>      <span class="comment">/**</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * Transform a regular IPv6 address from hex-representation into binary</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     *</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     * @param string $hex IPv6 address in hex-presentation</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     * @return string Binary representation (16 characters, 128 characters)</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     * @see IPv6Bin2Hex()</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     */</span>
<a name="l539"><span class="linenum"> 539</span></a>  	public static function <a class="function" onClick="logFunction('IPv6Hex2Bin')" href="../../_functions/ipv6hex2bin.html" onMouseOver="funcPopup(event,'ipv6hex2bin')">IPv6Hex2Bin</a>(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>) {
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">            // use PHP-function if PHP was compiled with IPv6-support</span>
<a name="l541"><span class="linenum"> 541</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('AF_INET6')) {
<a name="l542"><span class="linenum"> 542</span></a>              <a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a> = inet_pton(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>);
<a name="l543"><span class="linenum"> 543</span></a>          } else {
<a name="l544"><span class="linenum"> 544</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = self::<a class="function" onClick="logFunction('normalizeIPv6')" href="../../_functions/normalizeipv6.html" onMouseOver="funcPopup(event,'normalizeipv6')">normalizeIPv6</a>(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>);
<a name="l545"><span class="linenum"> 545</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(':', '', <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>); <span class="comment">// Replace colon to nothing</span>
<a name="l546"><span class="linenum"> 546</span></a>              <a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a> = <a class="phpfunction" onClick="logFunction('pack')" href="../../_functions/pack.html" onMouseOver="phpfuncPopup(event,'pack')">pack</a>(&quot;H*&quot; , <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>);
<a name="l547"><span class="linenum"> 547</span></a>          }
<a name="l548"><span class="linenum"> 548</span></a>          return <a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a>;
<a name="l549"><span class="linenum"> 549</span></a>      }
<a name="l550"><span class="linenum"> 550</span></a>  
<a name="l551"><span class="linenum"> 551</span></a>      <span class="comment">/**</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     * Transform an IPv6 address from binary to hex-representation</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     *</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @param string $bin IPv6 address in hex-presentation</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * @return string Binary representation (16 characters, 128 characters)</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     * @see IPv6Hex2Bin()</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     */</span>
<a name="l558"><span class="linenum"> 558</span></a>  	public static function <a class="function" onClick="logFunction('IPv6Bin2Hex')" href="../../_functions/ipv6bin2hex.html" onMouseOver="funcPopup(event,'ipv6bin2hex')">IPv6Bin2Hex</a>(<a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a>) {
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">            // use PHP-function if PHP was compiled with IPv6-support</span>
<a name="l560"><span class="linenum"> 560</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('AF_INET6')) {
<a name="l561"><span class="linenum"> 561</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = inet_ntop(<a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a>);
<a name="l562"><span class="linenum"> 562</span></a>          } else {
<a name="l563"><span class="linenum"> 563</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = <a class="phpfunction" onClick="logFunction('unpack')" href="../../_functions/unpack.html" onMouseOver="phpfuncPopup(event,'unpack')">unpack</a>(&quot;H*&quot; , <a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a>);
<a name="l564"><span class="linenum"> 564</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = <a class="phpfunction" onClick="logFunction('chunk_split')" href="../../_functions/chunk_split.html" onMouseOver="phpfuncPopup(event,'chunk_split')">chunk_split</a>(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>[1], 4, ':');
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">                // strip last colon (from chunk_split)</span>
<a name="l566"><span class="linenum"> 566</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>, 0, -1);
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">                // IPv6 is now in normalized form</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">                // compress it for easier handling and to match result from inet_ntop()</span>
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a> = self::<a class="function" onClick="logFunction('compressIPv6')" href="../../_functions/compressipv6.html" onMouseOver="funcPopup(event,'compressipv6')">compressIPv6</a>(<a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>);
<a name="l570"><span class="linenum"> 570</span></a>          }
<a name="l571"><span class="linenum"> 571</span></a>          return <a class="var it2025" onMouseOver="hilite(2025)" onMouseOut="lolite()" onClick="logVariable('hex')" href="../../_variables/hex.html">$hex</a>;
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>      }
<a name="l574"><span class="linenum"> 574</span></a>  
<a name="l575"><span class="linenum"> 575</span></a>      <span class="comment">/**</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * Normalize an IPv6 address to full length</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     *</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @param string $address Given IPv6 address</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     * @return string Normalized address</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     * @see compressIPv6()</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">     */</span>
<a name="l582"><span class="linenum"> 582</span></a>  	public static function <a class="function" onClick="logFunction('normalizeIPv6')" href="../../_functions/normalizeipv6.html" onMouseOver="funcPopup(event,'normalizeipv6')">normalizeIPv6</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>) {
<a name="l583"><span class="linenum"> 583</span></a>          <a class="var it37741" onMouseOver="hilite(37741)" onMouseOut="lolite()" onClick="logVariable('normalizedAddress')" href="../../_variables/normalizedAddress.html">$normalizedAddress</a> = '';
<a name="l584"><span class="linenum"> 584</span></a>          <a class="var it37742" onMouseOver="hilite(37742)" onMouseOut="lolite()" onClick="logVariable('stageOneAddress')" href="../../_variables/stageOneAddress.html">$stageOneAddress</a> = '';
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">            // according to RFC lowercase-representation is recommended</span>
<a name="l587"><span class="linenum"> 587</span></a>          <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>);
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">            // normalized representation has 39 characters (0000:0000:0000:0000:0000:0000:0000:0000)</span>
<a name="l590"><span class="linenum"> 590</span></a>          if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>) == 39) {
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">                // already in full expanded form</span>
<a name="l592"><span class="linenum"> 592</span></a>              return <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>;
<a name="l593"><span class="linenum"> 593</span></a>          }
<a name="l594"><span class="linenum"> 594</span></a>  
<a name="l595"><span class="linenum"> 595</span></a>          <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('::', <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>); <span class="comment">// Count 2 if if address has hidden zero blocks</span>
<a name="l596"><span class="linenum"> 596</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>) == 2) {
<a name="l597"><span class="linenum"> 597</span></a>              <a class="var it37743" onMouseOver="hilite(37743)" onMouseOut="lolite()" onClick="logVariable('chunksLeft')" href="../../_variables/chunksLeft.html">$chunksLeft</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>[0]);
<a name="l598"><span class="linenum"> 598</span></a>              <a class="var it37744" onMouseOver="hilite(37744)" onMouseOut="lolite()" onClick="logVariable('chunksRight')" href="../../_variables/chunksRight.html">$chunksRight</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>[1]);
<a name="l599"><span class="linenum"> 599</span></a>              <a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37743" onMouseOver="hilite(37743)" onMouseOut="lolite()" onClick="logVariable('chunksLeft')" href="../../_variables/chunksLeft.html">$chunksLeft</a>);
<a name="l600"><span class="linenum"> 600</span></a>              <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37744" onMouseOver="hilite(37744)" onMouseOut="lolite()" onClick="logVariable('chunksRight')" href="../../_variables/chunksRight.html">$chunksRight</a>);
<a name="l601"><span class="linenum"> 601</span></a>  
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">                // Special case: leading zero-only blocks count to 1, should be 0</span>
<a name="l603"><span class="linenum"> 603</span></a>              if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> == 1 &amp;&amp; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37743" onMouseOver="hilite(37743)" onMouseOut="lolite()" onClick="logVariable('chunksLeft')" href="../../_variables/chunksLeft.html">$chunksLeft</a>[0]) == 0) {
<a name="l604"><span class="linenum"> 604</span></a>                  <a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> = 0;
<a name="l605"><span class="linenum"> 605</span></a>              }
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>              <a class="var it37745" onMouseOver="hilite(37745)" onMouseOut="lolite()" onClick="logVariable('hiddenBlocks')" href="../../_variables/hiddenBlocks.html">$hiddenBlocks</a> = 8 - (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> + <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a>);
<a name="l608"><span class="linenum"> 608</span></a>              <a class="var it37746" onMouseOver="hilite(37746)" onMouseOut="lolite()" onClick="logVariable('hiddenPart')" href="../../_variables/hiddenPart.html">$hiddenPart</a> = '';
<a name="l609"><span class="linenum"> 609</span></a>              <a class="var it1022" onMouseOver="hilite(1022)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../_variables/h.html">$h</a> = 0;
<a name="l610"><span class="linenum"> 610</span></a>              while (<a class="var it1022" onMouseOver="hilite(1022)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../_variables/h.html">$h</a> &lt; <a class="var it37745" onMouseOver="hilite(37745)" onMouseOut="lolite()" onClick="logVariable('hiddenBlocks')" href="../../_variables/hiddenBlocks.html">$hiddenBlocks</a>) {
<a name="l611"><span class="linenum"> 611</span></a>                  <a class="var it37746" onMouseOver="hilite(37746)" onMouseOut="lolite()" onClick="logVariable('hiddenPart')" href="../../_variables/hiddenPart.html">$hiddenPart</a> .= '0000:';
<a name="l612"><span class="linenum"> 612</span></a>                  <a class="var it1022" onMouseOver="hilite(1022)" onMouseOut="lolite()" onClick="logVariable('h')" href="../../_variables/h.html">$h</a>++;
<a name="l613"><span class="linenum"> 613</span></a>              }
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>              if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> == 0) {
<a name="l616"><span class="linenum"> 616</span></a>                  <a class="var it37742" onMouseOver="hilite(37742)" onMouseOut="lolite()" onClick="logVariable('stageOneAddress')" href="../../_variables/stageOneAddress.html">$stageOneAddress</a> = <a class="var it37746" onMouseOver="hilite(37746)" onMouseOut="lolite()" onClick="logVariable('hiddenPart')" href="../../_variables/hiddenPart.html">$hiddenPart</a> . <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>[1];
<a name="l617"><span class="linenum"> 617</span></a>              } else {
<a name="l618"><span class="linenum"> 618</span></a>                  <a class="var it37742" onMouseOver="hilite(37742)" onMouseOut="lolite()" onClick="logVariable('stageOneAddress')" href="../../_variables/stageOneAddress.html">$stageOneAddress</a> = <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>[0] . ':' . <a class="var it37746" onMouseOver="hilite(37746)" onMouseOut="lolite()" onClick="logVariable('hiddenPart')" href="../../_variables/hiddenPart.html">$hiddenPart</a> . <a class="var it1931" onMouseOver="hilite(1931)" onMouseOut="lolite()" onClick="logVariable('chunks')" href="../../_variables/chunks.html">$chunks</a>[1];
<a name="l619"><span class="linenum"> 619</span></a>              }
<a name="l620"><span class="linenum"> 620</span></a>          } else {
<a name="l621"><span class="linenum"> 621</span></a>              <a class="var it37742" onMouseOver="hilite(37742)" onMouseOut="lolite()" onClick="logVariable('stageOneAddress')" href="../../_variables/stageOneAddress.html">$stageOneAddress</a> = <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>;
<a name="l622"><span class="linenum"> 622</span></a>          }
<a name="l623"><span class="linenum"> 623</span></a>  
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">            // normalize the blocks:</span>
<a name="l625"><span class="linenum"> 625</span></a>          <a class="var it3742" onMouseOver="hilite(3742)" onMouseOut="lolite()" onClick="logVariable('blocks')" href="../../_variables/blocks.html">$blocks</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it37742" onMouseOver="hilite(37742)" onMouseOut="lolite()" onClick="logVariable('stageOneAddress')" href="../../_variables/stageOneAddress.html">$stageOneAddress</a>);
<a name="l626"><span class="linenum"> 626</span></a>          <a class="var it37747" onMouseOver="hilite(37747)" onMouseOut="lolite()" onClick="logVariable('divCounter')" href="../../_variables/divCounter.html">$divCounter</a> = 0;
<a name="l627"><span class="linenum"> 627</span></a>          foreach (<a class="var it3742" onMouseOver="hilite(3742)" onMouseOut="lolite()" onClick="logVariable('blocks')" href="../../_variables/blocks.html">$blocks</a> as <a class="var it921" onMouseOver="hilite(921)" onMouseOut="lolite()" onClick="logVariable('block')" href="../../_variables/block.html">$block</a>) {
<a name="l628"><span class="linenum"> 628</span></a>              <a class="var it37748" onMouseOver="hilite(37748)" onMouseOut="lolite()" onClick="logVariable('tmpBlock')" href="../../_variables/tmpBlock.html">$tmpBlock</a> = '';
<a name="l629"><span class="linenum"> 629</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0;
<a name="l630"><span class="linenum"> 630</span></a>              <a class="var it37749" onMouseOver="hilite(37749)" onMouseOut="lolite()" onClick="logVariable('hiddenZeros')" href="../../_variables/hiddenZeros.html">$hiddenZeros</a> = 4 - <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it921" onMouseOver="hilite(921)" onMouseOut="lolite()" onClick="logVariable('block')" href="../../_variables/block.html">$block</a>);
<a name="l631"><span class="linenum"> 631</span></a>              while (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it37749" onMouseOver="hilite(37749)" onMouseOut="lolite()" onClick="logVariable('hiddenZeros')" href="../../_variables/hiddenZeros.html">$hiddenZeros</a>) {
<a name="l632"><span class="linenum"> 632</span></a>                  <a class="var it37748" onMouseOver="hilite(37748)" onMouseOut="lolite()" onClick="logVariable('tmpBlock')" href="../../_variables/tmpBlock.html">$tmpBlock</a> .= '0';
<a name="l633"><span class="linenum"> 633</span></a>                  <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l634"><span class="linenum"> 634</span></a>              }
<a name="l635"><span class="linenum"> 635</span></a>              <a class="var it37741" onMouseOver="hilite(37741)" onMouseOut="lolite()" onClick="logVariable('normalizedAddress')" href="../../_variables/normalizedAddress.html">$normalizedAddress</a> .= <a class="var it37748" onMouseOver="hilite(37748)" onMouseOut="lolite()" onClick="logVariable('tmpBlock')" href="../../_variables/tmpBlock.html">$tmpBlock</a> . <a class="var it921" onMouseOver="hilite(921)" onMouseOut="lolite()" onClick="logVariable('block')" href="../../_variables/block.html">$block</a>;
<a name="l636"><span class="linenum"> 636</span></a>              if (<a class="var it37747" onMouseOver="hilite(37747)" onMouseOut="lolite()" onClick="logVariable('divCounter')" href="../../_variables/divCounter.html">$divCounter</a> &lt; 7) {
<a name="l637"><span class="linenum"> 637</span></a>                  <a class="var it37741" onMouseOver="hilite(37741)" onMouseOut="lolite()" onClick="logVariable('normalizedAddress')" href="../../_variables/normalizedAddress.html">$normalizedAddress</a> .= ':';
<a name="l638"><span class="linenum"> 638</span></a>                  <a class="var it37747" onMouseOver="hilite(37747)" onMouseOut="lolite()" onClick="logVariable('divCounter')" href="../../_variables/divCounter.html">$divCounter</a>++;
<a name="l639"><span class="linenum"> 639</span></a>              }
<a name="l640"><span class="linenum"> 640</span></a>          }
<a name="l641"><span class="linenum"> 641</span></a>          return <a class="var it37741" onMouseOver="hilite(37741)" onMouseOut="lolite()" onClick="logVariable('normalizedAddress')" href="../../_variables/normalizedAddress.html">$normalizedAddress</a>;
<a name="l642"><span class="linenum"> 642</span></a>      }
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>      <span class="comment">/**</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">     * Compress an IPv6 address to the shortest notation</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">     *</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     * @param string $address Given IPv6 address</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">     * @return string Compressed address</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">     * @see normalizeIPv6()</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     */</span>
<a name="l652"><span class="linenum"> 652</span></a>  	public static function <a class="function" onClick="logFunction('compressIPv6')" href="../../_functions/compressipv6.html" onMouseOver="funcPopup(event,'compressipv6')">compressIPv6</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>) {
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">            // use PHP-function if PHP was compiled with IPv6-support</span>
<a name="l654"><span class="linenum"> 654</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('AF_INET6')) {
<a name="l655"><span class="linenum"> 655</span></a>              <a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a> = inet_pton(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>);
<a name="l656"><span class="linenum"> 656</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = inet_ntop(<a class="var it18627" onMouseOver="hilite(18627)" onMouseOut="lolite()" onClick="logVariable('bin')" href="../../_variables/bin.html">$bin</a>);
<a name="l657"><span class="linenum"> 657</span></a>          } else {
<a name="l658"><span class="linenum"> 658</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = self::<a class="function" onClick="logFunction('normalizeIPv6')" href="../../_functions/normalizeipv6.html" onMouseOver="funcPopup(event,'normalizeipv6')">normalizeIPv6</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>);
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment">                // append one colon for easier handling</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">                // will be removed later</span>
<a name="l662"><span class="linenum"> 662</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> .= ':';
<a name="l663"><span class="linenum"> 663</span></a>  
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">                // according to IPv6-notation the longest match</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">                // of a package of '0000:' may be replaced with ':'</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">                // (resulting in something like '1234::abcd')</span>
<a name="l667"><span class="linenum"> 667</span></a>              for (<a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a> = 8; <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a> &gt; 1; <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a>--) {
<a name="l668"><span class="linenum"> 668</span></a>                  <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a> = <a class="phpfunction" onClick="logFunction('str_repeat')" href="../../_functions/str_repeat.html" onMouseOver="phpfuncPopup(event,'str_repeat')">str_repeat</a>('0000:', <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a>);
<a name="l669"><span class="linenum"> 669</span></a>                  if ((<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>)) !== FALSE) {
<a name="l670"><span class="linenum"> 670</span></a>                      <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, 0, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>) . ':' . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> + (<a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a>*5));
<a name="l671"><span class="linenum"> 671</span></a>                      break;
<a name="l672"><span class="linenum"> 672</span></a>                  }
<a name="l673"><span class="linenum"> 673</span></a>              }
<a name="l674"><span class="linenum"> 674</span></a>  
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">                // up to 3 zeros in the first part may be removed</span>
<a name="l676"><span class="linenum"> 676</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^0{1,3}/', '', <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>);
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">                // up to 3 zeros at the beginning of other parts may be removed</span>
<a name="l678"><span class="linenum"> 678</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/:0{1,3}/', ':', <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>);
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">                // strip last colon (from chunk_split)</span>
<a name="l681"><span class="linenum"> 681</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, 0, -1);
<a name="l682"><span class="linenum"> 682</span></a>          }
<a name="l683"><span class="linenum"> 683</span></a>          return <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>;
<a name="l684"><span class="linenum"> 684</span></a>      }
<a name="l685"><span class="linenum"> 685</span></a>  
<a name="l686"><span class="linenum"> 686</span></a>      <span class="comment">/**</span>
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">     * Validate a given IP address.</span>
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">     *</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">     * Possible format are IPv4 and IPv6.</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     *</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * @param string $ip IP address to be tested</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     * @return boolean TRUE if $ip is either of IPv4 or IPv6 format.</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     */</span>
<a name="l694"><span class="linenum"> 694</span></a>  	public static function <a class="function" onClick="logFunction('validIP')" href="../../_functions/validip.html" onMouseOver="funcPopup(event,'validip')">validIP</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>) {
<a name="l695"><span class="linenum"> 695</span></a>          return (filter_var(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>, FILTER_VALIDATE_IP) !== FALSE);
<a name="l696"><span class="linenum"> 696</span></a>      }
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>      <span class="comment">/**</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment">     * Validate a given IP address to the IPv4 address format.</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">     *</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">     * Example for possible format: 10.0.45.99</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">     *</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">     * @param string $ip IP address to be tested</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     * @return boolean TRUE if $ip is of IPv4 format.</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">     */</span>
<a name="l706"><span class="linenum"> 706</span></a>  	public static function <a class="function" onClick="logFunction('validIPv4')" href="../../_functions/validipv4.html" onMouseOver="funcPopup(event,'validipv4')">validIPv4</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>) {
<a name="l707"><span class="linenum"> 707</span></a>          return (filter_var(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4) !== FALSE);
<a name="l708"><span class="linenum"> 708</span></a>      }
<a name="l709"><span class="linenum"> 709</span></a>  
<a name="l710"><span class="linenum"> 710</span></a>      <span class="comment">/**</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">     * Validate a given IP address to the IPv6 address format.</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     *</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * Example for possible format: 43FB::BB3F:A0A0:0 | ::1</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     *</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param string $ip IP address to be tested</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @return boolean TRUE if $ip is of IPv6 format.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     */</span>
<a name="l718"><span class="linenum"> 718</span></a>  	public static function <a class="function" onClick="logFunction('validIPv6')" href="../../_functions/validipv6.html" onMouseOver="funcPopup(event,'validipv6')">validIPv6</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>) {
<a name="l719"><span class="linenum"> 719</span></a>          return (filter_var(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6) !== FALSE);
<a name="l720"><span class="linenum"> 720</span></a>      }
<a name="l721"><span class="linenum"> 721</span></a>  
<a name="l722"><span class="linenum"> 722</span></a>      <span class="comment">/**</span>
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment">     * Match fully qualified domain name with list of strings with wildcard</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">     *</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">     * @param string $baseHost A hostname or an IPv4/IPv6-address (will by reverse-resolved; typically REMOTE_ADDR)</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment">     * @param string $list A comma-list of domain names to match with. *-wildcard allowed but cannot be part of a string, so it must match the full host name (eg. myhost.*.com =&gt; correct, myhost.*domain.com =&gt; wrong)</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">     * @return boolean TRUE if a domain name mask from $list matches $baseIP</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">     */</span>
<a name="l729"><span class="linenum"> 729</span></a>  	public static function <a class="function" onClick="logFunction('cmpFQDN')" href="../../_functions/cmpfqdn.html" onMouseOver="funcPopup(event,'cmpfqdn')">cmpFQDN</a>(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l730"><span class="linenum"> 730</span></a>          <a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>);
<a name="l731"><span class="linenum"> 731</span></a>          if (empty(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>)) {
<a name="l732"><span class="linenum"> 732</span></a>              return FALSE;
<a name="l733"><span class="linenum"> 733</span></a>          }
<a name="l734"><span class="linenum"> 734</span></a>          if (self::<a class="function" onClick="logFunction('validIPv4')" href="../../_functions/validipv4.html" onMouseOver="funcPopup(event,'validipv4')">validIPv4</a>(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>) || self::<a class="function" onClick="logFunction('validIPv6')" href="../../_functions/validipv6.html" onMouseOver="funcPopup(event,'validipv6')">validIPv6</a>(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>)) {
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">                // resolve hostname</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">                // note: this is reverse-lookup and can be randomly set as soon as somebody is able to set</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">                // the reverse-DNS for his IP (security when for example used with REMOTE_ADDR)</span>
<a name="l738"><span class="linenum"> 738</span></a>              <a class="var it37751" onMouseOver="hilite(37751)" onMouseOut="lolite()" onClick="logVariable('baseHostName')" href="../../_variables/baseHostName.html">$baseHostName</a> = <a class="phpfunction" onClick="logFunction('gethostbyaddr')" href="../../_functions/gethostbyaddr.html" onMouseOver="phpfuncPopup(event,'gethostbyaddr')">gethostbyaddr</a>(<a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>);
<a name="l739"><span class="linenum"> 739</span></a>              if (<a class="var it37751" onMouseOver="hilite(37751)" onMouseOut="lolite()" onClick="logVariable('baseHostName')" href="../../_variables/baseHostName.html">$baseHostName</a> === <a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>) {
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">                    // unable to resolve hostname</span>
<a name="l741"><span class="linenum"> 741</span></a>                  return FALSE;
<a name="l742"><span class="linenum"> 742</span></a>              }
<a name="l743"><span class="linenum"> 743</span></a>          } else {
<a name="l744"><span class="linenum"> 744</span></a>              <a class="var it37751" onMouseOver="hilite(37751)" onMouseOut="lolite()" onClick="logVariable('baseHostName')" href="../../_variables/baseHostName.html">$baseHostName</a> = <a class="var it37750" onMouseOver="hilite(37750)" onMouseOut="lolite()" onClick="logVariable('baseHost')" href="../../_variables/baseHost.html">$baseHost</a>;
<a name="l745"><span class="linenum"> 745</span></a>          }
<a name="l746"><span class="linenum"> 746</span></a>          <a class="var it37752" onMouseOver="hilite(37752)" onMouseOut="lolite()" onClick="logVariable('baseHostNameParts')" href="../../_variables/baseHostNameParts.html">$baseHostNameParts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it37751" onMouseOver="hilite(37751)" onMouseOut="lolite()" onClick="logVariable('baseHostName')" href="../../_variables/baseHostName.html">$baseHostName</a>);
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>          <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>, 1);
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>          foreach (<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> as <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>) {
<a name="l751"><span class="linenum"> 751</span></a>              <a class="var it37753" onMouseOver="hilite(37753)" onMouseOut="lolite()" onClick="logVariable('hostNameParts')" href="../../_variables/hostNameParts.html">$hostNameParts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>);
<a name="l752"><span class="linenum"> 752</span></a>  
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">                // to match hostNameParts can only be shorter (in case of wildcards) or equal</span>
<a name="l754"><span class="linenum"> 754</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37753" onMouseOver="hilite(37753)" onMouseOut="lolite()" onClick="logVariable('hostNameParts')" href="../../_variables/hostNameParts.html">$hostNameParts</a>) &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37752" onMouseOver="hilite(37752)" onMouseOut="lolite()" onClick="logVariable('baseHostNameParts')" href="../../_variables/baseHostNameParts.html">$baseHostNameParts</a>)) {
<a name="l755"><span class="linenum"> 755</span></a>                  continue;
<a name="l756"><span class="linenum"> 756</span></a>              }
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>              <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = TRUE;
<a name="l759"><span class="linenum"> 759</span></a>              foreach (<a class="var it37753" onMouseOver="hilite(37753)" onMouseOut="lolite()" onClick="logVariable('hostNameParts')" href="../../_variables/hostNameParts.html">$hostNameParts</a> as <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l760"><span class="linenum"> 760</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l761"><span class="linenum"> 761</span></a>                  if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> === '*') {
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">                        // wildcard valid for one or more hostname-parts</span>
<a name="l763"><span class="linenum"> 763</span></a>  
<a name="l764"><span class="linenum"> 764</span></a>                      <a class="var it37754" onMouseOver="hilite(37754)" onMouseOut="lolite()" onClick="logVariable('wildcardStart')" href="../../_variables/wildcardStart.html">$wildcardStart</a> = <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> + 1;
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">                        // wildcard as last/only part always matches, otherwise perform recursive checks</span>
<a name="l766"><span class="linenum"> 766</span></a>                      if (<a class="var it37754" onMouseOver="hilite(37754)" onMouseOut="lolite()" onClick="logVariable('wildcardStart')" href="../../_variables/wildcardStart.html">$wildcardStart</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37753" onMouseOver="hilite(37753)" onMouseOut="lolite()" onClick="logVariable('hostNameParts')" href="../../_variables/hostNameParts.html">$hostNameParts</a>)) {
<a name="l767"><span class="linenum"> 767</span></a>                          <a class="var it37755" onMouseOver="hilite(37755)" onMouseOut="lolite()" onClick="logVariable('wildcardMatched')" href="../../_variables/wildcardMatched.html">$wildcardMatched</a> = FALSE;
<a name="l768"><span class="linenum"> 768</span></a>                          <a class="var it37756" onMouseOver="hilite(37756)" onMouseOut="lolite()" onClick="logVariable('tempHostName')" href="../../_variables/tempHostName.html">$tempHostName</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('.', <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it37753" onMouseOver="hilite(37753)" onMouseOut="lolite()" onClick="logVariable('hostNameParts')" href="../../_variables/hostNameParts.html">$hostNameParts</a>, <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> + 1));
<a name="l769"><span class="linenum"> 769</span></a>                          while ((<a class="var it37754" onMouseOver="hilite(37754)" onMouseOut="lolite()" onClick="logVariable('wildcardStart')" href="../../_variables/wildcardStart.html">$wildcardStart</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37752" onMouseOver="hilite(37752)" onMouseOut="lolite()" onClick="logVariable('baseHostNameParts')" href="../../_variables/baseHostNameParts.html">$baseHostNameParts</a>)) &amp;&amp; (!<a class="var it37755" onMouseOver="hilite(37755)" onMouseOut="lolite()" onClick="logVariable('wildcardMatched')" href="../../_variables/wildcardMatched.html">$wildcardMatched</a>)) {
<a name="l770"><span class="linenum"> 770</span></a>                              <a class="var it37757" onMouseOver="hilite(37757)" onMouseOut="lolite()" onClick="logVariable('tempBaseHostName')" href="../../_variables/tempBaseHostName.html">$tempBaseHostName</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('.', <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it37752" onMouseOver="hilite(37752)" onMouseOut="lolite()" onClick="logVariable('baseHostNameParts')" href="../../_variables/baseHostNameParts.html">$baseHostNameParts</a>, <a class="var it37754" onMouseOver="hilite(37754)" onMouseOut="lolite()" onClick="logVariable('wildcardStart')" href="../../_variables/wildcardStart.html">$wildcardStart</a>));
<a name="l771"><span class="linenum"> 771</span></a>                              <a class="var it37755" onMouseOver="hilite(37755)" onMouseOut="lolite()" onClick="logVariable('wildcardMatched')" href="../../_variables/wildcardMatched.html">$wildcardMatched</a> = self::<a class="function" onClick="logFunction('cmpFQDN')" href="../../_functions/cmpfqdn.html" onMouseOver="funcPopup(event,'cmpfqdn')">cmpFQDN</a>(<a class="var it37757" onMouseOver="hilite(37757)" onMouseOut="lolite()" onClick="logVariable('tempBaseHostName')" href="../../_variables/tempBaseHostName.html">$tempBaseHostName</a>, <a class="var it37756" onMouseOver="hilite(37756)" onMouseOut="lolite()" onClick="logVariable('tempHostName')" href="../../_variables/tempHostName.html">$tempHostName</a>);
<a name="l772"><span class="linenum"> 772</span></a>                              <a class="var it37754" onMouseOver="hilite(37754)" onMouseOut="lolite()" onClick="logVariable('wildcardStart')" href="../../_variables/wildcardStart.html">$wildcardStart</a>++;
<a name="l773"><span class="linenum"> 773</span></a>                          }
<a name="l774"><span class="linenum"> 774</span></a>                          if (<a class="var it37755" onMouseOver="hilite(37755)" onMouseOut="lolite()" onClick="logVariable('wildcardMatched')" href="../../_variables/wildcardMatched.html">$wildcardMatched</a>) {
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">                                // match found by recursive compare</span>
<a name="l776"><span class="linenum"> 776</span></a>                              return TRUE;
<a name="l777"><span class="linenum"> 777</span></a>                          } else {
<a name="l778"><span class="linenum"> 778</span></a>                              <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = FALSE;
<a name="l779"><span class="linenum"> 779</span></a>                          }
<a name="l780"><span class="linenum"> 780</span></a>                      }
<a name="l781"><span class="linenum"> 781</span></a>                  } elseif (<a class="var it37752" onMouseOver="hilite(37752)" onMouseOut="lolite()" onClick="logVariable('baseHostNameParts')" href="../../_variables/baseHostNameParts.html">$baseHostNameParts</a>[<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>] !== <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">                        // in case of no match</span>
<a name="l783"><span class="linenum"> 783</span></a>                      <a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a> = FALSE;
<a name="l784"><span class="linenum"> 784</span></a>                  }
<a name="l785"><span class="linenum"> 785</span></a>              }
<a name="l786"><span class="linenum"> 786</span></a>              if (<a class="var it7413" onMouseOver="hilite(7413)" onMouseOut="lolite()" onClick="logVariable('yes')" href="../../_variables/yes.html">$yes</a>) {
<a name="l787"><span class="linenum"> 787</span></a>                  return TRUE;
<a name="l788"><span class="linenum"> 788</span></a>              }
<a name="l789"><span class="linenum"> 789</span></a>          }
<a name="l790"><span class="linenum"> 790</span></a>          return FALSE;
<a name="l791"><span class="linenum"> 791</span></a>      }
<a name="l792"><span class="linenum"> 792</span></a>  
<a name="l793"><span class="linenum"> 793</span></a>      <span class="comment">/**</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * Checks if a given URL matches the host that currently handles this HTTP request.</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     * Scheme, hostname and (optional) port of the given URL are compared.</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">     *</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">     * @param string $url: URL to compare with the TYPO3 request host</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     * @return boolean Whether the URL matches the TYPO3 request host</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     */</span>
<a name="l800"><span class="linenum"> 800</span></a>  	public static function <a class="function" onClick="logFunction('isOnCurrentHost')" href="../../_functions/isoncurrenthost.html" onMouseOver="funcPopup(event,'isoncurrenthost')">isOnCurrentHost</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>) {
<a name="l801"><span class="linenum"> 801</span></a>          return (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> . '/', self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST') . '/') === 0);
<a name="l802"><span class="linenum"> 802</span></a>      }
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>      <span class="comment">/**</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * Check for item in list</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * Check if an item exists in a comma-separated list of items.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     *</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     * @param string $list comma-separated list of items (string)</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">     * @param string $item item to check for</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">     * @return boolean TRUE if $item is in $list</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     */</span>
<a name="l812"><span class="linenum"> 812</span></a>  	public static function <a class="function" onClick="logFunction('inList')" href="../../_functions/inlist.html" onMouseOver="funcPopup(event,'inlist')">inList</a>(<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>, <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>) {
<a name="l813"><span class="linenum"> 813</span></a>          return (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(',' . <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> . ',', ',' . <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a> . ',') !== FALSE ? TRUE : FALSE);
<a name="l814"><span class="linenum"> 814</span></a>      }
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>      <span class="comment">/**</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">     * Removes an item from a comma-separated list of items.</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">     *</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * @param string $element element to remove</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * @param string $list comma-separated list of items (string)</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * @return string new comma-separated list of items</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     */</span>
<a name="l823"><span class="linenum"> 823</span></a>  	public static function <a class="function" onClick="logFunction('rmFromList')" href="../../_functions/rmfromlist.html" onMouseOver="funcPopup(event,'rmfromlist')">rmFromList</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l824"><span class="linenum"> 824</span></a>          <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l825"><span class="linenum"> 825</span></a>          foreach (<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l826"><span class="linenum"> 826</span></a>              if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> == <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>) {
<a name="l827"><span class="linenum"> 827</span></a>                  unset(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]);
<a name="l828"><span class="linenum"> 828</span></a>              }
<a name="l829"><span class="linenum"> 829</span></a>          }
<a name="l830"><span class="linenum"> 830</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>);
<a name="l831"><span class="linenum"> 831</span></a>      }
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>      <span class="comment">/**</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     * Expand a comma-separated list of integers with ranges (eg 1,3-5,7 becomes 1,3,4,5,7).</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">     * Ranges are limited to 1000 values per range.</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     *</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">     * @param string $list comma-separated list of integers with ranges (string)</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">     * @return string new comma-separated list of items</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment">     */</span>
<a name="l840"><span class="linenum"> 840</span></a>  	public static function <a class="function" onClick="logFunction('expandList')" href="../../_functions/expandlist.html" onMouseOver="funcPopup(event,'expandlist')">expandList</a>(<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>) {
<a name="l841"><span class="linenum"> 841</span></a>          <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l842"><span class="linenum"> 842</span></a>          <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> = array();
<a name="l843"><span class="linenum"> 843</span></a>          foreach (<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> as <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>) {
<a name="l844"><span class="linenum"> 844</span></a>              <a class="var it1646" onMouseOver="hilite(1646)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../_variables/range.html">$range</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('-', <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>);
<a name="l845"><span class="linenum"> 845</span></a>              if (isset(<a class="var it1646" onMouseOver="hilite(1646)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../_variables/range.html">$range</a>[1])) {
<a name="l846"><span class="linenum"> 846</span></a>                  <a class="var it37758" onMouseOver="hilite(37758)" onMouseOut="lolite()" onClick="logVariable('runAwayBrake')" href="../../_variables/runAwayBrake.html">$runAwayBrake</a> = 1000;
<a name="l847"><span class="linenum"> 847</span></a>                  for (<a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> = <a class="var it1646" onMouseOver="hilite(1646)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../_variables/range.html">$range</a>[0]; <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> &lt;= <a class="var it1646" onMouseOver="hilite(1646)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../_variables/range.html">$range</a>[1]; <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>++) {
<a name="l848"><span class="linenum"> 848</span></a>                      <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>[] = <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>;
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>                      <a class="var it37758" onMouseOver="hilite(37758)" onMouseOut="lolite()" onClick="logVariable('runAwayBrake')" href="../../_variables/runAwayBrake.html">$runAwayBrake</a>--;
<a name="l851"><span class="linenum"> 851</span></a>                      if (<a class="var it37758" onMouseOver="hilite(37758)" onMouseOut="lolite()" onClick="logVariable('runAwayBrake')" href="../../_variables/runAwayBrake.html">$runAwayBrake</a> &lt;= 0) {
<a name="l852"><span class="linenum"> 852</span></a>                          break;
<a name="l853"><span class="linenum"> 853</span></a>                      }
<a name="l854"><span class="linenum"> 854</span></a>                  }
<a name="l855"><span class="linenum"> 855</span></a>              } else {
<a name="l856"><span class="linenum"> 856</span></a>                  <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>[] = <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>;
<a name="l857"><span class="linenum"> 857</span></a>              }
<a name="l858"><span class="linenum"> 858</span></a>          }
<a name="l859"><span class="linenum"> 859</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l860"><span class="linenum"> 860</span></a>      }
<a name="l861"><span class="linenum"> 861</span></a>  
<a name="l862"><span class="linenum"> 862</span></a>      <span class="comment">/**</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     * Forces the integer $theInt into the boundaries of $min and $max. If the $theInt is 'FALSE' then the $zeroValue is applied.</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     *</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @param integer $theInt Input value</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * @param integer $min Lower limit</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     * @param integer $max Higher limit</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     * @param integer $zeroValue Default value if input is FALSE.</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">     * @return integer The input value forced into the boundaries of $min and $max</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Math::forceIntegerInRange() instead</span>
<a name="l871"><span class="linenum"> 871</span></a>  <span class="comment">     */</span>
<a name="l872"><span class="linenum"> 872</span></a>  	public static function <a class="function" onClick="logFunction('intInRange')" href="../../_functions/intinrange.html" onMouseOver="funcPopup(event,'intinrange')">intInRange</a>(<a class="var it37759" onMouseOver="hilite(37759)" onMouseOut="lolite()" onClick="logVariable('theInt')" href="../../_variables/theInt.html">$theInt</a>, <a class="var it2299" onMouseOver="hilite(2299)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../_variables/min.html">$min</a>, <a class="var it536" onMouseOver="hilite(536)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../_variables/max.html">$max</a> = 2000000000, <a class="var it37760" onMouseOver="hilite(37760)" onMouseOut="lolite()" onClick="logVariable('zeroValue')" href="../../_variables/zeroValue.html">$zeroValue</a> = 0) {
<a name="l873"><span class="linenum"> 873</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l874"><span class="linenum"> 874</span></a>          return t3lib_utility_Math::forceIntegerInRange(<a class="var it37759" onMouseOver="hilite(37759)" onMouseOut="lolite()" onClick="logVariable('theInt')" href="../../_variables/theInt.html">$theInt</a>, <a class="var it2299" onMouseOver="hilite(2299)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../_variables/min.html">$min</a>, <a class="var it536" onMouseOver="hilite(536)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../_variables/max.html">$max</a>, <a class="var it37760" onMouseOver="hilite(37760)" onMouseOut="lolite()" onClick="logVariable('zeroValue')" href="../../_variables/zeroValue.html">$zeroValue</a>);
<a name="l875"><span class="linenum"> 875</span></a>      }
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>      <span class="comment">/**</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">     * Returns the $integer if greater than zero, otherwise returns zero.</span>
<a name="l879"><span class="linenum"> 879</span></a>  <span class="comment">     *</span>
<a name="l880"><span class="linenum"> 880</span></a>  <span class="comment">     * @param integer $theInt Integer string to process</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment">     * @return integer</span>
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Math::convertToPositiveInteger() instead</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">     */</span>
<a name="l884"><span class="linenum"> 884</span></a>  	public static function <a class="function" onClick="logFunction('intval_positive')" href="../../_functions/intval_positive.html" onMouseOver="funcPopup(event,'intval_positive')">intval_positive</a>(<a class="var it37759" onMouseOver="hilite(37759)" onMouseOut="lolite()" onClick="logVariable('theInt')" href="../../_variables/theInt.html">$theInt</a>) {
<a name="l885"><span class="linenum"> 885</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l886"><span class="linenum"> 886</span></a>          return t3lib_utility_Math::convertToPositiveInteger(<a class="var it37759" onMouseOver="hilite(37759)" onMouseOut="lolite()" onClick="logVariable('theInt')" href="../../_variables/theInt.html">$theInt</a>);
<a name="l887"><span class="linenum"> 887</span></a>      }
<a name="l888"><span class="linenum"> 888</span></a>  
<a name="l889"><span class="linenum"> 889</span></a>      <span class="comment">/**</span>
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">     * Returns an integer from a three part version number, eg '4.12.3' -&gt; 4012003</span>
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">     *</span>
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment">     * @param string $verNumberStr Version number on format x.x.x</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">     * @return integer Integer version of version number (where each part can count to 999)</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.1 - Use t3lib_utility_VersionNumber::convertVersionNumberToInteger() instead</span>
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">     */</span>
<a name="l896"><span class="linenum"> 896</span></a>  	public static function <a class="function" onClick="logFunction('int_from_ver')" href="../../_functions/int_from_ver.html" onMouseOver="funcPopup(event,'int_from_ver')">int_from_ver</a>(<a class="var it37761" onMouseOver="hilite(37761)" onMouseOut="lolite()" onClick="logVariable('verNumberStr')" href="../../_variables/verNumberStr.html">$verNumberStr</a>) {
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment">            // Deprecation log is activated only for TYPO3 4.7 and above</span>
<a name="l898"><span class="linenum"> 898</span></a>          if (t3lib_utility_VersionNumber::convertVersionNumberToInteger(TYPO3_version) &gt;= 4007000) {
<a name="l899"><span class="linenum"> 899</span></a>              self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l900"><span class="linenum"> 900</span></a>          }
<a name="l901"><span class="linenum"> 901</span></a>          return t3lib_utility_VersionNumber::convertVersionNumberToInteger(<a class="var it37761" onMouseOver="hilite(37761)" onMouseOut="lolite()" onClick="logVariable('verNumberStr')" href="../../_variables/verNumberStr.html">$verNumberStr</a>);
<a name="l902"><span class="linenum"> 902</span></a>      }
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>      <span class="comment">/**</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     * Returns TRUE if the current TYPO3 version (or compatibility version) is compatible to the input version</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     * Notice that this function compares branches, not versions (4.0.1 would be &gt; 4.0.0 although they use the same compat_version)</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     *</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * @param string $verNumberStr    Minimum branch number required (format x.y / e.g. &quot;4.0&quot; NOT &quot;4.0.0&quot;!)</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     * @return boolean Returns TRUE if this setup is compatible with the provided version number</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     * @todo Still needs a function to convert versions to branches</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     */</span>
<a name="l912"><span class="linenum"> 912</span></a>  	public static function <a class="function" onClick="logFunction('compat_version')" href="../../_functions/compat_version.html" onMouseOver="funcPopup(event,'compat_version')">compat_version</a>(<a class="var it37761" onMouseOver="hilite(37761)" onMouseOut="lolite()" onClick="logVariable('verNumberStr')" href="../../_variables/verNumberStr.html">$verNumberStr</a>) {
<a name="l913"><span class="linenum"> 913</span></a>          <a class="var it37762" onMouseOver="hilite(37762)" onMouseOut="lolite()" onClick="logVariable('currVersionStr')" href="../../_variables/currVersionStr.html">$currVersionStr</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['compat_version'] ? <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['compat_version'] : TYPO3_branch;
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>          if (t3lib_utility_VersionNumber::convertVersionNumberToInteger(<a class="var it37762" onMouseOver="hilite(37762)" onMouseOut="lolite()" onClick="logVariable('currVersionStr')" href="../../_variables/currVersionStr.html">$currVersionStr</a>) &lt; t3lib_utility_VersionNumber::convertVersionNumberToInteger(<a class="var it37761" onMouseOver="hilite(37761)" onMouseOut="lolite()" onClick="logVariable('verNumberStr')" href="../../_variables/verNumberStr.html">$verNumberStr</a>)) {
<a name="l916"><span class="linenum"> 916</span></a>              return FALSE;
<a name="l917"><span class="linenum"> 917</span></a>          } else {
<a name="l918"><span class="linenum"> 918</span></a>              return TRUE;
<a name="l919"><span class="linenum"> 919</span></a>          }
<a name="l920"><span class="linenum"> 920</span></a>      }
<a name="l921"><span class="linenum"> 921</span></a>  
<a name="l922"><span class="linenum"> 922</span></a>      <span class="comment">/**</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">     * Makes a positive integer hash out of the first 7 chars from the md5 hash of the input</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">     *</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment">     * @param string $str String to md5-hash</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment">     * @return integer Returns 28bit integer-hash</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment">     */</span>
<a name="l928"><span class="linenum"> 928</span></a>  	public static function <a class="function" onClick="logFunction('md5int')" href="../../_functions/md5int.html" onMouseOver="funcPopup(event,'md5int')">md5int</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l929"><span class="linenum"> 929</span></a>          return <a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(md5(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>), 0, 7));
<a name="l930"><span class="linenum"> 930</span></a>      }
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>      <span class="comment">/**</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     * Returns the first 10 positions of the MD5-hash        (changed from 6 to 10 recently)</span>
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">     *</span>
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">     * @param string $input Input string to be md5-hashed</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment">     * @param integer $len The string-length of the output</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">     * @return string Substring of the resulting md5-hash, being $len chars long (from beginning)</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">     */</span>
<a name="l939"><span class="linenum"> 939</span></a>  	public static function <a class="function" onClick="logFunction('shortMD5')" href="../../_functions/shortmd5.html" onMouseOver="funcPopup(event,'shortmd5')">shortMD5</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = 10) {
<a name="l940"><span class="linenum"> 940</span></a>          return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(md5(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>), 0, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>);
<a name="l941"><span class="linenum"> 941</span></a>      }
<a name="l942"><span class="linenum"> 942</span></a>  
<a name="l943"><span class="linenum"> 943</span></a>      <span class="comment">/**</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     * Returns a proper HMAC on a given input string and secret TYPO3 encryption key.</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     *</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     * @param string $input Input string to create HMAC from</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     * @param string $additionalSecret additionalSecret to prevent hmac beeing used in a different context</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     * @return string resulting (hexadecimal) HMAC currently with a length of 40 (HMAC-SHA-1)</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     */</span>
<a name="l950"><span class="linenum"> 950</span></a>  	public static function <a class="function" onClick="logFunction('hmac')" href="../../_functions/hmac.html" onMouseOver="funcPopup(event,'hmac')">hmac</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>, <a class="var it37763" onMouseOver="hilite(37763)" onMouseOut="lolite()" onClick="logVariable('additionalSecret')" href="../../_variables/additionalSecret.html">$additionalSecret</a> = '') {
<a name="l951"><span class="linenum"> 951</span></a>          <a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a> = 'sha1';
<a name="l952"><span class="linenum"> 952</span></a>          <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a> = 64;
<a name="l953"><span class="linenum"> 953</span></a>          <a class="var it37765" onMouseOver="hilite(37765)" onMouseOut="lolite()" onClick="logVariable('hmac')" href="../../_variables/hmac.html">$hmac</a> = '';
<a name="l954"><span class="linenum"> 954</span></a>          <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../_variables/secret.html">$secret</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['encryptionKey'] . <a class="var it37763" onMouseOver="hilite(37763)" onMouseOut="lolite()" onClick="logVariable('additionalSecret')" href="../../_variables/additionalSecret.html">$additionalSecret</a>;
<a name="l955"><span class="linenum"> 955</span></a>          if (<a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>('hash') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('hash_hmac') &amp;&amp; <a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('hash_algos') &amp;&amp; <a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a>, hash_algos())) {
<a name="l956"><span class="linenum"> 956</span></a>              <a class="var it37765" onMouseOver="hilite(37765)" onMouseOut="lolite()" onClick="logVariable('hmac')" href="../../_variables/hmac.html">$hmac</a> = hash_hmac(<a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>, <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../_variables/secret.html">$secret</a>);
<a name="l957"><span class="linenum"> 957</span></a>          } else {
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">                // outer padding</span>
<a name="l959"><span class="linenum"> 959</span></a>              <a class="var it18514" onMouseOver="hilite(18514)" onMouseOut="lolite()" onClick="logVariable('opad')" href="../../_variables/opad.html">$opad</a> = <a class="phpfunction" onClick="logFunction('str_repeat')" href="../../_functions/str_repeat.html" onMouseOver="phpfuncPopup(event,'str_repeat')">str_repeat</a>(<a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x5C), <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a>);
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">                // inner padding</span>
<a name="l961"><span class="linenum"> 961</span></a>              <a class="var it18513" onMouseOver="hilite(18513)" onMouseOut="lolite()" onClick="logVariable('ipad')" href="../../_variables/ipad.html">$ipad</a> = <a class="phpfunction" onClick="logFunction('str_repeat')" href="../../_functions/str_repeat.html" onMouseOver="phpfuncPopup(event,'str_repeat')">str_repeat</a>(<a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x36), <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a>);
<a name="l962"><span class="linenum"> 962</span></a>              if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../_variables/secret.html">$secret</a>) &gt; <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a>) {
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">                    // keys longer than block size are shorten</span>
<a name="l964"><span class="linenum"> 964</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="phpfunction" onClick="logFunction('pack')" href="../../_functions/pack.html" onMouseOver="phpfuncPopup(event,'pack')">pack</a>('H*', <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a>, <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../_variables/secret.html">$secret</a>)), <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0));
<a name="l965"><span class="linenum"> 965</span></a>              } else {
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment">                    // keys shorter than block size are zero-padded</span>
<a name="l967"><span class="linenum"> 967</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../_variables/secret.html">$secret</a>, <a class="var it37764" onMouseOver="hilite(37764)" onMouseOut="lolite()" onClick="logVariable('hashBlocksize')" href="../../_variables/hashBlocksize.html">$hashBlocksize</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0));
<a name="l968"><span class="linenum"> 968</span></a>              }
<a name="l969"><span class="linenum"> 969</span></a>              <a class="var it37765" onMouseOver="hilite(37765)" onMouseOut="lolite()" onClick="logVariable('hmac')" href="../../_variables/hmac.html">$hmac</a> = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a>, (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> ^ <a class="var it18514" onMouseOver="hilite(18514)" onMouseOut="lolite()" onClick="logVariable('opad')" href="../../_variables/opad.html">$opad</a>) . <a class="phpfunction" onClick="logFunction('pack')" href="../../_functions/pack.html" onMouseOver="phpfuncPopup(event,'pack')">pack</a>('H*', <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it32396" onMouseOver="hilite(32396)" onMouseOut="lolite()" onClick="logVariable('hashAlgorithm')" href="../../_variables/hashAlgorithm.html">$hashAlgorithm</a>, (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> ^ <a class="var it18513" onMouseOver="hilite(18513)" onMouseOut="lolite()" onClick="logVariable('ipad')" href="../../_variables/ipad.html">$ipad</a>) . <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>)));
<a name="l970"><span class="linenum"> 970</span></a>          }
<a name="l971"><span class="linenum"> 971</span></a>          return <a class="var it37765" onMouseOver="hilite(37765)" onMouseOut="lolite()" onClick="logVariable('hmac')" href="../../_variables/hmac.html">$hmac</a>;
<a name="l972"><span class="linenum"> 972</span></a>      }
<a name="l973"><span class="linenum"> 973</span></a>  
<a name="l974"><span class="linenum"> 974</span></a>      <span class="comment">/**</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * Takes comma-separated lists and arrays and removes all duplicates</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     * If a value in the list is trim(empty), the value is ignored.</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">     *</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment">     * @param string $in_list Accept multiple parameters which can be comma-separated lists of values and arrays.</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">     * @param mixed $secondParameter: Dummy field, which if set will show a warning!</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">     * @return string Returns the list without any duplicates of values, space around values are trimmed</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment">     */</span>
<a name="l982"><span class="linenum"> 982</span></a>  	public static function <a class="function" onClick="logFunction('uniqueList')" href="../../_functions/uniquelist.html" onMouseOver="funcPopup(event,'uniquelist')">uniqueList</a>(<a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('in_list')" href="../../_variables/in_list.html">$in_list</a>, <a class="var it37767" onMouseOver="hilite(37767)" onMouseOut="lolite()" onClick="logVariable('secondParameter')" href="../../_variables/secondParameter.html">$secondParameter</a> = NULL) {
<a name="l983"><span class="linenum"> 983</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('in_list')" href="../../_variables/in_list.html">$in_list</a>)) {
<a name="l984"><span class="linenum"> 984</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(
<a name="l985"><span class="linenum"> 985</span></a>                  'TYPO3 Fatal Error: t3lib_div::<a class="function" onClick="logFunction('uniqueList')" href="../../_functions/uniquelist.html" onMouseOver="funcPopup(event,'uniquelist')">uniqueList</a>() does NOT support array arguments anymore! Only string comma lists!',
<a name="l986"><span class="linenum"> 986</span></a>                  1270853885
<a name="l987"><span class="linenum"> 987</span></a>              );
<a name="l988"><span class="linenum"> 988</span></a>          }
<a name="l989"><span class="linenum"> 989</span></a>          if (isset(<a class="var it37767" onMouseOver="hilite(37767)" onMouseOut="lolite()" onClick="logVariable('secondParameter')" href="../../_variables/secondParameter.html">$secondParameter</a>)) {
<a name="l990"><span class="linenum"> 990</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(
<a name="l991"><span class="linenum"> 991</span></a>                  'TYPO3 Fatal Error: t3lib_div::<a class="function" onClick="logFunction('uniqueList')" href="../../_functions/uniquelist.html" onMouseOver="funcPopup(event,'uniquelist')">uniqueList</a>() does NOT support more than a single argument value anymore. You have specified more than one!',
<a name="l992"><span class="linenum"> 992</span></a>                  1270853886
<a name="l993"><span class="linenum"> 993</span></a>              );
<a name="l994"><span class="linenum"> 994</span></a>          }
<a name="l995"><span class="linenum"> 995</span></a>  
<a name="l996"><span class="linenum"> 996</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="phpfunction" onClick="logFunction('array_unique')" href="../../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('in_list')" href="../../_variables/in_list.html">$in_list</a>, 1)));
<a name="l997"><span class="linenum"> 997</span></a>      }
<a name="l998"><span class="linenum"> 998</span></a>  
<a name="l999"><span class="linenum"> 999</span></a>      <span class="comment">/**</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     * Splits a reference to a file in 5 parts</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">     *</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment">     * @param string $fileref Filename/filepath to be analysed</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment">     * @return array Contains keys [path], [file], [filebody], [fileext], [realFileext]</span>
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment">     */</span>
<a name="l1005"><span class="linenum">1005</span></a>  	public static function <a class="function" onClick="logFunction('split_fileref')" href="../../_functions/split_fileref.html" onMouseOver="funcPopup(event,'split_fileref')">split_fileref</a>(<a class="var it28129" onMouseOver="hilite(28129)" onMouseOut="lolite()" onClick="logVariable('fileref')" href="../../_variables/fileref.html">$fileref</a>) {
<a name="l1006"><span class="linenum">1006</span></a>          <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a> = array();
<a name="l1007"><span class="linenum">1007</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/(.*\/)(.*)$/', <a class="var it28129" onMouseOver="hilite(28129)" onMouseOut="lolite()" onClick="logVariable('fileref')" href="../../_variables/fileref.html">$fileref</a>, <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>)) {
<a name="l1008"><span class="linenum">1008</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['path'] = <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[1];
<a name="l1009"><span class="linenum">1009</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['file'] = <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[2];
<a name="l1010"><span class="linenum">1010</span></a>          } else {
<a name="l1011"><span class="linenum">1011</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['path'] = '';
<a name="l1012"><span class="linenum">1012</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['file'] = <a class="var it28129" onMouseOver="hilite(28129)" onMouseOut="lolite()" onClick="logVariable('fileref')" href="../../_variables/fileref.html">$fileref</a>;
<a name="l1013"><span class="linenum">1013</span></a>          }
<a name="l1014"><span class="linenum">1014</span></a>  
<a name="l1015"><span class="linenum">1015</span></a>          <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a> = '';
<a name="l1016"><span class="linenum">1016</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it28129" onMouseOver="hilite(28129)" onMouseOut="lolite()" onClick="logVariable('fileref')" href="../../_variables/fileref.html">$fileref</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/(.*)\.([^\.]*$)/', <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['file'], <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>)) {
<a name="l1017"><span class="linenum">1017</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['filebody'] = <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[1];
<a name="l1018"><span class="linenum">1018</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['fileext'] = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[2]);
<a name="l1019"><span class="linenum">1019</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['realFileext'] = <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[2];
<a name="l1020"><span class="linenum">1020</span></a>          } else {
<a name="l1021"><span class="linenum">1021</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['filebody'] = <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['file'];
<a name="l1022"><span class="linenum">1022</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['fileext'] = '';
<a name="l1023"><span class="linenum">1023</span></a>          }
<a name="l1024"><span class="linenum">1024</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>);
<a name="l1025"><span class="linenum">1025</span></a>          return <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l1026"><span class="linenum">1026</span></a>      }
<a name="l1027"><span class="linenum">1027</span></a>  
<a name="l1028"><span class="linenum">1028</span></a>      <span class="comment">/**</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">     * Returns the directory part of a path without trailing slash</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">     * If there is no dir-part, then an empty string is returned.</span>
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">     * Behaviour:</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">     *</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * '/dir1/dir2/script.php' =&gt; '/dir1/dir2'</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     * '/dir1/' =&gt; '/dir1'</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     * 'dir1/script.php' =&gt; 'dir1'</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * 'd/script.php' =&gt; 'd'</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * '/script.php' =&gt; ''</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * '' =&gt; ''</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     *</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     * @param string $path Directory name / path</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment">     * @return string Processed input value. See function description.</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">     */</span>
<a name="l1043"><span class="linenum">1043</span></a>  	public static function <a class="function" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="funcPopup(event,'dirname')">dirname</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l1044"><span class="linenum">1044</span></a>          <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> = self::<a class="function" onClick="logFunction('revExplode')" href="../../_functions/revexplode.html" onMouseOver="funcPopup(event,'revexplode')">revExplode</a>('/', <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, 2);
<a name="l1045"><span class="linenum">1045</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>) == 2 ? <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>[0] : '';
<a name="l1046"><span class="linenum">1046</span></a>      }
<a name="l1047"><span class="linenum">1047</span></a>  
<a name="l1048"><span class="linenum">1048</span></a>      <span class="comment">/**</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">     * Modifies a HTML Hex color by adding/subtracting $R,$G and $B integers</span>
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment">     *</span>
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">     * @param string $color A hexadecimal color code, #xxxxxx</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">     * @param integer $R Offset value 0-255</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment">     * @param integer $G Offset value 0-255</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment">     * @param integer $B Offset value 0-255</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment">     * @return string A hexadecimal color code, #xxxxxx, modified according to input vars</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment">     * @see modifyHTMLColorAll()</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment">     */</span>
<a name="l1058"><span class="linenum">1058</span></a>  	public static function <a class="function" onClick="logFunction('modifyHTMLColor')" href="../../_functions/modifyhtmlcolor.html" onMouseOver="funcPopup(event,'modifyhtmlcolor')">modifyHTMLColor</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, <a class="var it7493" onMouseOver="hilite(7493)" onMouseOut="lolite()" onClick="logVariable('R')" href="../../_variables/R.html">$R</a>, <a class="var it31845" onMouseOver="hilite(31845)" onMouseOut="lolite()" onClick="logVariable('G')" href="../../_variables/G.html">$G</a>, <a class="var it7013" onMouseOver="hilite(7013)" onMouseOut="lolite()" onClick="logVariable('B')" href="../../_variables/B.html">$B</a>) {
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment">            // This takes a hex-color (# included!) and adds $R, $G and $B to the HTML-color (format: #xxxxxx) and returns the new color</span>
<a name="l1060"><span class="linenum">1060</span></a>          <a class="var it37768" onMouseOver="hilite(37768)" onMouseOut="lolite()" onClick="logVariable('nR')" href="../../_variables/nR.html">$nR</a> = t3lib_utility_Math::forceIntegerInRange(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, 1, 2)) + <a class="var it7493" onMouseOver="hilite(7493)" onMouseOut="lolite()" onClick="logVariable('R')" href="../../_variables/R.html">$R</a>, 0, 255);
<a name="l1061"><span class="linenum">1061</span></a>          <a class="var it37769" onMouseOver="hilite(37769)" onMouseOut="lolite()" onClick="logVariable('nG')" href="../../_variables/nG.html">$nG</a> = t3lib_utility_Math::forceIntegerInRange(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, 3, 2)) + <a class="var it31845" onMouseOver="hilite(31845)" onMouseOut="lolite()" onClick="logVariable('G')" href="../../_variables/G.html">$G</a>, 0, 255);
<a name="l1062"><span class="linenum">1062</span></a>          <a class="var it37770" onMouseOver="hilite(37770)" onMouseOut="lolite()" onClick="logVariable('nB')" href="../../_variables/nB.html">$nB</a> = t3lib_utility_Math::forceIntegerInRange(<a class="phpfunction" onClick="logFunction('hexdec')" href="../../_functions/hexdec.html" onMouseOver="phpfuncPopup(event,'hexdec')">hexdec</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, 5, 2)) + <a class="var it7013" onMouseOver="hilite(7013)" onMouseOut="lolite()" onClick="logVariable('B')" href="../../_variables/B.html">$B</a>, 0, 255);
<a name="l1063"><span class="linenum">1063</span></a>          return '#' .
<a name="l1064"><span class="linenum">1064</span></a>                  <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>('0' . <a class="phpfunction" onClick="logFunction('dechex')" href="../../_functions/dechex.html" onMouseOver="phpfuncPopup(event,'dechex')">dechex</a>(<a class="var it37768" onMouseOver="hilite(37768)" onMouseOut="lolite()" onClick="logVariable('nR')" href="../../_variables/nR.html">$nR</a>), -2) .
<a name="l1065"><span class="linenum">1065</span></a>                  <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>('0' . <a class="phpfunction" onClick="logFunction('dechex')" href="../../_functions/dechex.html" onMouseOver="phpfuncPopup(event,'dechex')">dechex</a>(<a class="var it37769" onMouseOver="hilite(37769)" onMouseOut="lolite()" onClick="logVariable('nG')" href="../../_variables/nG.html">$nG</a>), -2) .
<a name="l1066"><span class="linenum">1066</span></a>                  <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>('0' . <a class="phpfunction" onClick="logFunction('dechex')" href="../../_functions/dechex.html" onMouseOver="phpfuncPopup(event,'dechex')">dechex</a>(<a class="var it37770" onMouseOver="hilite(37770)" onMouseOut="lolite()" onClick="logVariable('nB')" href="../../_variables/nB.html">$nB</a>), -2);
<a name="l1067"><span class="linenum">1067</span></a>      }
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>      <span class="comment">/**</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment">     * Modifies a HTML Hex color by adding/subtracting $all integer from all R/G/B channels</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment">     *</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">     * @param string $color A hexadecimal color code, #xxxxxx</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">     * @param integer $all Offset value 0-255 for all three channels.</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">     * @return string A hexadecimal color code, #xxxxxx, modified according to input vars</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     * @see modifyHTMLColor()</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     */</span>
<a name="l1077"><span class="linenum">1077</span></a>  	public static function <a class="function" onClick="logFunction('modifyHTMLColorAll')" href="../../_functions/modifyhtmlcolorall.html" onMouseOver="funcPopup(event,'modifyhtmlcolorall')">modifyHTMLColorAll</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, <a class="var it5375" onMouseOver="hilite(5375)" onMouseOut="lolite()" onClick="logVariable('all')" href="../../_variables/all.html">$all</a>) {
<a name="l1078"><span class="linenum">1078</span></a>          return self::<a class="function" onClick="logFunction('modifyHTMLColor')" href="../../_functions/modifyhtmlcolor.html" onMouseOver="funcPopup(event,'modifyhtmlcolor')">modifyHTMLColor</a>(<a class="var it867" onMouseOver="hilite(867)" onMouseOut="lolite()" onClick="logVariable('color')" href="../../_variables/color.html">$color</a>, <a class="var it5375" onMouseOver="hilite(5375)" onMouseOut="lolite()" onClick="logVariable('all')" href="../../_variables/all.html">$all</a>, <a class="var it5375" onMouseOver="hilite(5375)" onMouseOut="lolite()" onClick="logVariable('all')" href="../../_variables/all.html">$all</a>, <a class="var it5375" onMouseOver="hilite(5375)" onMouseOut="lolite()" onClick="logVariable('all')" href="../../_variables/all.html">$all</a>);
<a name="l1079"><span class="linenum">1079</span></a>      }
<a name="l1080"><span class="linenum">1080</span></a>  
<a name="l1081"><span class="linenum">1081</span></a>      <span class="comment">/**</span>
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">     * Tests if the input can be interpreted as integer.</span>
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment">     *</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * @param mixed $var Any input variable to test</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     * @return boolean Returns TRUE if string is an integer</span>
<a name="l1086"><span class="linenum">1086</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Math::canBeInterpretedAsInteger() instead</span>
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">     */</span>
<a name="l1088"><span class="linenum">1088</span></a>  	public static function <a class="function" onClick="logFunction('testInt')" href="../../_functions/testint.html" onMouseOver="funcPopup(event,'testint')">testInt</a>(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>) {
<a name="l1089"><span class="linenum">1089</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l1090"><span class="linenum">1090</span></a>  
<a name="l1091"><span class="linenum">1091</span></a>          return t3lib_utility_Math::canBeInterpretedAsInteger(<a class="var it235" onMouseOver="hilite(235)" onMouseOut="lolite()" onClick="logVariable('var')" href="../../_variables/var.html">$var</a>);
<a name="l1092"><span class="linenum">1092</span></a>      }
<a name="l1093"><span class="linenum">1093</span></a>  
<a name="l1094"><span class="linenum">1094</span></a>      <span class="comment">/**</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">     * Returns TRUE if the first part of $str matches the string $partStr</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment">     *</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">     * @param string $str Full string to check</span>
<a name="l1098"><span class="linenum">1098</span></a>  <span class="comment">     * @param string $partStr Reference string which must be found as the &quot;first part&quot; of the full string</span>
<a name="l1099"><span class="linenum">1099</span></a>  <span class="comment">     * @return boolean TRUE if $partStr was found to be equal to the first part of $str</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">     */</span>
<a name="l1101"><span class="linenum">1101</span></a>  	public static function <a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it37771" onMouseOver="hilite(37771)" onMouseOut="lolite()" onClick="logVariable('partStr')" href="../../_variables/partStr.html">$partStr</a>) {
<a name="l1102"><span class="linenum">1102</span></a>          return <a class="var it37771" onMouseOver="hilite(37771)" onMouseOut="lolite()" onClick="logVariable('partStr')" href="../../_variables/partStr.html">$partStr</a> != '' &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>((string) <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, (string) <a class="var it37771" onMouseOver="hilite(37771)" onMouseOut="lolite()" onClick="logVariable('partStr')" href="../../_variables/partStr.html">$partStr</a>, 0) === 0;
<a name="l1103"><span class="linenum">1103</span></a>      }
<a name="l1104"><span class="linenum">1104</span></a>  
<a name="l1105"><span class="linenum">1105</span></a>      <span class="comment">/**</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">     * Formats the input integer $sizeInBytes as bytes/kilobytes/megabytes (-/K/M)</span>
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment">     *</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment">     * @param integer $sizeInBytes Number of bytes to format.</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment">     * @param string $labels Labels for bytes, kilo, mega and giga separated by vertical bar (|) and possibly encapsulated in &quot;&quot;. Eg: &quot; | K| M| G&quot; (which is the default value)</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">     * @return string Formatted representation of the byte number, for output.</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">     */</span>
<a name="l1112"><span class="linenum">1112</span></a>  	public static function <a class="function" onClick="logFunction('formatSize')" href="../../_functions/formatsize.html" onMouseOver="funcPopup(event,'formatsize')">formatSize</a>(<a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a>, <a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a> = '') {
<a name="l1113"><span class="linenum">1113</span></a>  
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">            // Set labels:</span>
<a name="l1115"><span class="linenum">1115</span></a>          if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a>) == 0) {
<a name="l1116"><span class="linenum">1116</span></a>              <a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a> = ' | K| M| G';
<a name="l1117"><span class="linenum">1117</span></a>          } else {
<a name="l1118"><span class="linenum">1118</span></a>              <a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&quot;', '', <a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a>);
<a name="l1119"><span class="linenum">1119</span></a>          }
<a name="l1120"><span class="linenum">1120</span></a>          <a class="var it37773" onMouseOver="hilite(37773)" onMouseOut="lolite()" onClick="logVariable('labelArr')" href="../../_variables/labelArr.html">$labelArr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('|', <a class="var it3260" onMouseOver="hilite(3260)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../_variables/labels.html">$labels</a>);
<a name="l1121"><span class="linenum">1121</span></a>  
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment">            // Find size:</span>
<a name="l1123"><span class="linenum">1123</span></a>          if (<a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> &gt; 900) {
<a name="l1124"><span class="linenum">1124</span></a>              if (<a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> &gt; 900000000) { // GB
<a name="l1125"><span class="linenum">1125</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> / (1024 * 1024 * 1024);
<a name="l1126"><span class="linenum">1126</span></a>                  return <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>, ((<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> &lt; 20) ? 1 : 0), '.', '') . <a class="var it37773" onMouseOver="hilite(37773)" onMouseOut="lolite()" onClick="logVariable('labelArr')" href="../../_variables/labelArr.html">$labelArr</a>[3];
<a name="l1127"><span class="linenum">1127</span></a>              }
<a name="l1128"><span class="linenum">1128</span></a>              elseif (<a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> &gt; 900000) { // MB
<a name="l1129"><span class="linenum">1129</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> / (1024 * 1024);
<a name="l1130"><span class="linenum">1130</span></a>                  return <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>, ((<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> &lt; 20) ? 1 : 0), '.', '') . <a class="var it37773" onMouseOver="hilite(37773)" onMouseOut="lolite()" onClick="logVariable('labelArr')" href="../../_variables/labelArr.html">$labelArr</a>[2];
<a name="l1131"><span class="linenum">1131</span></a>              } else { // KB
<a name="l1132"><span class="linenum">1132</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> / (1024);
<a name="l1133"><span class="linenum">1133</span></a>                  return <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>, ((<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> &lt; 20) ? 1 : 0), '.', '') . <a class="var it37773" onMouseOver="hilite(37773)" onMouseOut="lolite()" onClick="logVariable('labelArr')" href="../../_variables/labelArr.html">$labelArr</a>[1];
<a name="l1134"><span class="linenum">1134</span></a>              }
<a name="l1135"><span class="linenum">1135</span></a>          } else { // Bytes
<a name="l1136"><span class="linenum">1136</span></a>              return <a class="var it37772" onMouseOver="hilite(37772)" onMouseOut="lolite()" onClick="logVariable('sizeInBytes')" href="../../_variables/sizeInBytes.html">$sizeInBytes</a> . <a class="var it37773" onMouseOver="hilite(37773)" onMouseOut="lolite()" onClick="logVariable('labelArr')" href="../../_variables/labelArr.html">$labelArr</a>[0];
<a name="l1137"><span class="linenum">1137</span></a>          }
<a name="l1138"><span class="linenum">1138</span></a>      }
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>      <span class="comment">/**</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment">     * Returns microtime input to milliseconds</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment">     *</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment">     * @param string $microtime Microtime</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * @return integer Microtime input string converted to an integer (milliseconds)</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     */</span>
<a name="l1146"><span class="linenum">1146</span></a>  	public static function <a class="function" onClick="logFunction('convertMicrotime')" href="../../_functions/convertmicrotime.html" onMouseOver="funcPopup(event,'convertmicrotime')">convertMicrotime</a>(<a class="var it37774" onMouseOver="hilite(37774)" onMouseOut="lolite()" onClick="logVariable('microtime')" href="../../_variables/microtime.html">$microtime</a>) {
<a name="l1147"><span class="linenum">1147</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it37774" onMouseOver="hilite(37774)" onMouseOut="lolite()" onClick="logVariable('microtime')" href="../../_variables/microtime.html">$microtime</a>);
<a name="l1148"><span class="linenum">1148</span></a>          return <a class="phpfunction" onClick="logFunction('round')" href="../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0] + <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1]) * 1000);
<a name="l1149"><span class="linenum">1149</span></a>      }
<a name="l1150"><span class="linenum">1150</span></a>  
<a name="l1151"><span class="linenum">1151</span></a>      <span class="comment">/**</span>
<a name="l1152"><span class="linenum">1152</span></a>  <span class="comment">     * This splits a string by the chars in $operators (typical /+-*) and returns an array with them in</span>
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment">     *</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment">     * @param string $string Input string, eg &quot;123 + 456 / 789 - 4&quot;</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment">     * @param string $operators Operators to split by, typically &quot;/+-*&quot;</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment">     * @return array Array with operators and operands separated.</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment">     * @see tslib_cObj::calc(), tslib_gifBuilder::calcOffset()</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">     */</span>
<a name="l1159"><span class="linenum">1159</span></a>  	public static function <a class="function" onClick="logFunction('splitCalc')" href="../../_functions/splitcalc.html" onMouseOver="funcPopup(event,'splitcalc')">splitCalc</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it4971" onMouseOver="hilite(4971)" onMouseOut="lolite()" onClick="logVariable('operators')" href="../../_variables/operators.html">$operators</a>) {
<a name="l1160"><span class="linenum">1160</span></a>          <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> = Array();
<a name="l1161"><span class="linenum">1161</span></a>          <a class="var it7253" onMouseOver="hilite(7253)" onMouseOut="lolite()" onClick="logVariable('sign')" href="../../_variables/sign.html">$sign</a> = '+';
<a name="l1162"><span class="linenum">1162</span></a>          while (<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1163"><span class="linenum">1163</span></a>              <a class="var it37775" onMouseOver="hilite(37775)" onMouseOut="lolite()" onClick="logVariable('valueLen')" href="../../_variables/valueLen.html">$valueLen</a> = <a class="phpfunction" onClick="logFunction('strcspn')" href="../../_functions/strcspn.html" onMouseOver="phpfuncPopup(event,'strcspn')">strcspn</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it4971" onMouseOver="hilite(4971)" onMouseOut="lolite()" onClick="logVariable('operators')" href="../../_variables/operators.html">$operators</a>);
<a name="l1164"><span class="linenum">1164</span></a>              <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, <a class="var it37775" onMouseOver="hilite(37775)" onMouseOut="lolite()" onClick="logVariable('valueLen')" href="../../_variables/valueLen.html">$valueLen</a>);
<a name="l1165"><span class="linenum">1165</span></a>              <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>[] = Array(<a class="var it7253" onMouseOver="hilite(7253)" onMouseOut="lolite()" onClick="logVariable('sign')" href="../../_variables/sign.html">$sign</a>, <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>));
<a name="l1166"><span class="linenum">1166</span></a>              <a class="var it7253" onMouseOver="hilite(7253)" onMouseOut="lolite()" onClick="logVariable('sign')" href="../../_variables/sign.html">$sign</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37775" onMouseOver="hilite(37775)" onMouseOut="lolite()" onClick="logVariable('valueLen')" href="../../_variables/valueLen.html">$valueLen</a>, 1);
<a name="l1167"><span class="linenum">1167</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37775" onMouseOver="hilite(37775)" onMouseOut="lolite()" onClick="logVariable('valueLen')" href="../../_variables/valueLen.html">$valueLen</a> + 1);
<a name="l1168"><span class="linenum">1168</span></a>          }
<a name="l1169"><span class="linenum">1169</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>);
<a name="l1170"><span class="linenum">1170</span></a>          return <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>;
<a name="l1171"><span class="linenum">1171</span></a>      }
<a name="l1172"><span class="linenum">1172</span></a>  
<a name="l1173"><span class="linenum">1173</span></a>      <span class="comment">/**</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">     * Calculates the input by +,-,*,/,%,^ with priority to + and -</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment">     *</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">     * @param string $string Input string, eg &quot;123 + 456 / 789 - 4&quot;</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment">     * @return integer Calculated value. Or error string.</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment">     * @see calcParenthesis()</span>
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Math::calculateWithPriorityToAdditionAndSubtraction() instead</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">     */</span>
<a name="l1181"><span class="linenum">1181</span></a>  	public static function <a class="function" onClick="logFunction('calcPriority')" href="../../_functions/calcpriority.html" onMouseOver="funcPopup(event,'calcpriority')">calcPriority</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1182"><span class="linenum">1182</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l1183"><span class="linenum">1183</span></a>  
<a name="l1184"><span class="linenum">1184</span></a>          return t3lib_utility_Math::calculateWithPriorityToAdditionAndSubtraction(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1185"><span class="linenum">1185</span></a>      }
<a name="l1186"><span class="linenum">1186</span></a>  
<a name="l1187"><span class="linenum">1187</span></a>      <span class="comment">/**</span>
<a name="l1188"><span class="linenum">1188</span></a>  <span class="comment">     * Calculates the input with parenthesis levels</span>
<a name="l1189"><span class="linenum">1189</span></a>  <span class="comment">     *</span>
<a name="l1190"><span class="linenum">1190</span></a>  <span class="comment">     * @param string $string Input string, eg &quot;(123 + 456) / 789 - 4&quot;</span>
<a name="l1191"><span class="linenum">1191</span></a>  <span class="comment">     * @return integer Calculated value. Or error string.</span>
<a name="l1192"><span class="linenum">1192</span></a>  <span class="comment">     * @see calcPriority(), tslib_cObj::stdWrap()</span>
<a name="l1193"><span class="linenum">1193</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - Use t3lib_utility_Math::calculateWithParentheses() instead</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">     */</span>
<a name="l1195"><span class="linenum">1195</span></a>  	public static function <a class="function" onClick="logFunction('calcParenthesis')" href="../../_functions/calcparenthesis.html" onMouseOver="funcPopup(event,'calcparenthesis')">calcParenthesis</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1196"><span class="linenum">1196</span></a>          self::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l1197"><span class="linenum">1197</span></a>  
<a name="l1198"><span class="linenum">1198</span></a>          return t3lib_utility_Math::calculateWithParentheses(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1199"><span class="linenum">1199</span></a>      }
<a name="l1200"><span class="linenum">1200</span></a>  
<a name="l1201"><span class="linenum">1201</span></a>      <span class="comment">/**</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">     * Inverse version of htmlspecialchars()</span>
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">     *</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">     * @param string $value Value where &amp;gt;, &amp;lt;, &amp;quot; and &amp;amp; should be converted to regular chars.</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment">     * @return string Converted result.</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">     */</span>
<a name="l1207"><span class="linenum">1207</span></a>  	public static function <a class="function" onClick="logFunction('htmlspecialchars_decode')" href="../../_functions/htmlspecialchars_decode.html" onMouseOver="funcPopup(event,'htmlspecialchars_decode')">htmlspecialchars_decode</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1208"><span class="linenum">1208</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;gt;', '&gt;', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1209"><span class="linenum">1209</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;lt;', '&lt;', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1210"><span class="linenum">1210</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;quot;', '&quot;', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1211"><span class="linenum">1211</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;amp;', '&amp;', <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1212"><span class="linenum">1212</span></a>          return <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1213"><span class="linenum">1213</span></a>      }
<a name="l1214"><span class="linenum">1214</span></a>  
<a name="l1215"><span class="linenum">1215</span></a>      <span class="comment">/**</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">     * Re-converts HTML entities if they have been converted by htmlspecialchars()</span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">     *</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment">     * @param string $str String which contains eg. &quot;&amp;amp;amp;&quot; which should stay &quot;&amp;amp;&quot;. Or &quot;&amp;amp;#1234;&quot; to &quot;&amp;#1234;&quot;. Or &quot;&amp;amp;#x1b;&quot; to &quot;&amp;#x1b;&quot;</span>
<a name="l1219"><span class="linenum">1219</span></a>  <span class="comment">     * @return string Converted result.</span>
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">     */</span>
<a name="l1221"><span class="linenum">1221</span></a>  	public static function <a class="function" onClick="logFunction('deHSCentities')" href="../../_functions/dehscentities.html" onMouseOver="funcPopup(event,'dehscentities')">deHSCentities</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1222"><span class="linenum">1222</span></a>          return <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/&amp;amp;([#[:alnum:]]*;)/', '&amp;\1', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l1223"><span class="linenum">1223</span></a>      }
<a name="l1224"><span class="linenum">1224</span></a>  
<a name="l1225"><span class="linenum">1225</span></a>      <span class="comment">/**</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     * This function is used to escape any ' -characters when transferring text to JavaScript!</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     *</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     * @param string $string String to escape</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     * @param boolean $extended If set, also backslashes are escaped.</span>
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment">     * @param string $char The character to escape, default is ' (single-quote)</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     * @return string Processed input string</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     */</span>
<a name="l1233"><span class="linenum">1233</span></a>  	public static function <a class="function" onClick="logFunction('slashJS')" href="../../_functions/slashjs.html" onMouseOver="funcPopup(event,'slashjs')">slashJS</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it12598" onMouseOver="hilite(12598)" onMouseOut="lolite()" onClick="logVariable('extended')" href="../../_variables/extended.html">$extended</a> = FALSE, <a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a> = &quot;'&quot;) {
<a name="l1234"><span class="linenum">1234</span></a>          if (<a class="var it12598" onMouseOver="hilite(12598)" onMouseOut="lolite()" onClick="logVariable('extended')" href="../../_variables/extended.html">$extended</a>) {
<a name="l1235"><span class="linenum">1235</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;\\&quot;, &quot;\\\\&quot;, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1236"><span class="linenum">1236</span></a>          }
<a name="l1237"><span class="linenum">1237</span></a>          return <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>, &quot;\\&quot; . <a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1238"><span class="linenum">1238</span></a>      }
<a name="l1239"><span class="linenum">1239</span></a>  
<a name="l1240"><span class="linenum">1240</span></a>      <span class="comment">/**</span>
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment">     * Version of rawurlencode() where all spaces (%20) are re-converted to space-characters.</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment">     * Useful when passing text to JavaScript where you simply url-encode it to get around problems with syntax-errors, linebreaks etc.</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">     *</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment">     * @param string $str String to raw-url-encode with spaces preserved</span>
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment">     * @return string Rawurlencoded result of input string, but with all %20 (space chars) converted to real spaces.</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">     */</span>
<a name="l1247"><span class="linenum">1247</span></a>  	public static function <a class="function" onClick="logFunction('rawUrlEncodeJS')" href="../../_functions/rawurlencodejs.html" onMouseOver="funcPopup(event,'rawurlencodejs')">rawUrlEncodeJS</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1248"><span class="linenum">1248</span></a>          return <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('%20', ' ', <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>));
<a name="l1249"><span class="linenum">1249</span></a>      }
<a name="l1250"><span class="linenum">1250</span></a>  
<a name="l1251"><span class="linenum">1251</span></a>      <span class="comment">/**</span>
<a name="l1252"><span class="linenum">1252</span></a>  <span class="comment">     * rawurlencode which preserves &quot;/&quot; chars</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">     * Useful when file paths should keep the &quot;/&quot; chars, but have all other special chars encoded.</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     *</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @param string $str Input string</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * @return string Output string</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     */</span>
<a name="l1258"><span class="linenum">1258</span></a>  	public static function <a class="function" onClick="logFunction('rawUrlEncodeFP')" href="../../_functions/rawurlencodefp.html" onMouseOver="funcPopup(event,'rawurlencodefp')">rawUrlEncodeFP</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1259"><span class="linenum">1259</span></a>          return <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('%2F', '/', <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>));
<a name="l1260"><span class="linenum">1260</span></a>      }
<a name="l1261"><span class="linenum">1261</span></a>  
<a name="l1262"><span class="linenum">1262</span></a>      <span class="comment">/**</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * Checking syntax of input email address</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     *</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     * @param string $email Input string to evaluate</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment">     * @return boolean Returns TRUE if the $email address (input string) is valid</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment">     */</span>
<a name="l1268"><span class="linenum">1268</span></a>  	public static function <a class="function" onClick="logFunction('validEmail')" href="../../_functions/validemail.html" onMouseOver="funcPopup(event,'validemail')">validEmail</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>) {
<a name="l1269"><span class="linenum">1269</span></a>  <span class="comment">            // enforce maximum length to prevent libpcre recursion crash bug #52929 in PHP</span>
<a name="l1270"><span class="linenum">1270</span></a>  <span class="comment">            // fixed in PHP 5.3.4; length restriction per SMTP RFC 2821</span>
<a name="l1271"><span class="linenum">1271</span></a>          if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>) &gt; 320) {
<a name="l1272"><span class="linenum">1272</span></a>              return FALSE;
<a name="l1273"><span class="linenum">1273</span></a>          }
<a name="l1274"><span class="linenum">1274</span></a>          require_once(PATH_typo3 . 'contrib/idna/idna_convert.class.php');
<a name="l1275"><span class="linenum">1275</span></a>          <a class="var it37776" onMouseOver="hilite(37776)" onMouseOut="lolite()" onClick="logVariable('IDN')" href="../../_variables/IDN.html">$IDN</a> = new idna_convert(array('idn_version' =&gt; 2008));
<a name="l1276"><span class="linenum">1276</span></a>  
<a name="l1277"><span class="linenum">1277</span></a>          return (filter_var(<a class="var it37776" onMouseOver="hilite(37776)" onMouseOut="lolite()" onClick="logVariable('IDN')" href="../../_variables/IDN.html">$IDN</a>-&gt;<a class="function" onClick="logFunction('encode')" href="../../_functions/encode.html" onMouseOver="funcPopup(event,'encode')">encode</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>), FILTER_VALIDATE_EMAIL) !== FALSE);
<a name="l1278"><span class="linenum">1278</span></a>      }
<a name="l1279"><span class="linenum">1279</span></a>  
<a name="l1280"><span class="linenum">1280</span></a>      <span class="comment">/**</span>
<a name="l1281"><span class="linenum">1281</span></a>  <span class="comment">     * Checks if current e-mail sending method does not accept recipient/sender name</span>
<a name="l1282"><span class="linenum">1282</span></a>  <span class="comment">     * in a call to PHP mail() function. Windows version of mail() and mini_sendmail</span>
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">     * program are known not to process such input correctly and they cause SMTP</span>
<a name="l1284"><span class="linenum">1284</span></a>  <span class="comment">     * errors. This function will return TRUE if current mail sending method has</span>
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">     * problem with recipient name in recipient/sender argument for mail().</span>
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment">     *</span>
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment">     * TODO: 4.3 should have additional configuration variable, which is combined</span>
<a name="l1288"><span class="linenum">1288</span></a>  <span class="comment">     * by || with the rest in this function.</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment">     *</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment">     * @return boolean TRUE if mail() does not accept recipient name</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment">     */</span>
<a name="l1292"><span class="linenum">1292</span></a>  	public static function <a class="function" onClick="logFunction('isBrokenEmailEnvironment')" href="../../_functions/isbrokenemailenvironment.html" onMouseOver="funcPopup(event,'isbrokenemailenvironment')">isBrokenEmailEnvironment</a>() {
<a name="l1293"><span class="linenum">1293</span></a>          return <a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> == 'WIN' || (FALSE !== <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('sendmail_path'), 'mini_sendmail'));
<a name="l1294"><span class="linenum">1294</span></a>      }
<a name="l1295"><span class="linenum">1295</span></a>  
<a name="l1296"><span class="linenum">1296</span></a>      <span class="comment">/**</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">     * Changes from/to arguments for mail() function to work in any environment.</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     *</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     * @param string $address Address to adjust</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     * @return string Adjusted address</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">     * @see    t3lib_::isBrokenEmailEnvironment()</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment">     */</span>
<a name="l1303"><span class="linenum">1303</span></a>  	public static function <a class="function" onClick="logFunction('normalizeMailAddress')" href="../../_functions/normalizemailaddress.html" onMouseOver="funcPopup(event,'normalizemailaddress')">normalizeMailAddress</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>) {
<a name="l1304"><span class="linenum">1304</span></a>          if (self::<a class="function" onClick="logFunction('isBrokenEmailEnvironment')" href="../../_functions/isbrokenemailenvironment.html" onMouseOver="funcPopup(event,'isbrokenemailenvironment')">isBrokenEmailEnvironment</a>() &amp;&amp; FALSE !== (<a class="var it15518" onMouseOver="hilite(15518)" onMouseOut="lolite()" onClick="logVariable('pos1')" href="../../_variables/pos1.html">$pos1</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, '&lt;'))) {
<a name="l1305"><span class="linenum">1305</span></a>              <a class="var it15519" onMouseOver="hilite(15519)" onMouseOut="lolite()" onClick="logVariable('pos2')" href="../../_variables/pos2.html">$pos2</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, '&gt;', <a class="var it15518" onMouseOver="hilite(15518)" onMouseOut="lolite()" onClick="logVariable('pos1')" href="../../_variables/pos1.html">$pos1</a>);
<a name="l1306"><span class="linenum">1306</span></a>              <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>, <a class="var it15518" onMouseOver="hilite(15518)" onMouseOut="lolite()" onClick="logVariable('pos1')" href="../../_variables/pos1.html">$pos1</a> + 1, (<a class="var it15519" onMouseOver="hilite(15519)" onMouseOut="lolite()" onClick="logVariable('pos2')" href="../../_variables/pos2.html">$pos2</a> ? <a class="var it15519" onMouseOver="hilite(15519)" onMouseOut="lolite()" onClick="logVariable('pos2')" href="../../_variables/pos2.html">$pos2</a> : <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>)) - <a class="var it15518" onMouseOver="hilite(15518)" onMouseOut="lolite()" onClick="logVariable('pos1')" href="../../_variables/pos1.html">$pos1</a> - 1);
<a name="l1307"><span class="linenum">1307</span></a>          }
<a name="l1308"><span class="linenum">1308</span></a>          return <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>;
<a name="l1309"><span class="linenum">1309</span></a>      }
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>      <span class="comment">/**</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">     * Formats a string for output between &lt;textarea&gt;-tags</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment">     * All content outputted in a textarea form should be passed through this function</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment">     * Not only is the content htmlspecialchar'ed on output but there is also a single newline added in the top. The newline is necessary because browsers will ignore the first newline after &lt;textarea&gt; if that is the first character. Therefore better set it!</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment">     *</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">     * @param string $content Input string to be formatted.</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     * @return string Formatted for &lt;textarea&gt;-tags</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     */</span>
<a name="l1319"><span class="linenum">1319</span></a>  	public static function <a class="function" onClick="logFunction('formatForTextarea')" href="../../_functions/formatfortextarea.html" onMouseOver="funcPopup(event,'formatfortextarea')">formatForTextarea</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l1320"><span class="linenum">1320</span></a>          return LF . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>);
<a name="l1321"><span class="linenum">1321</span></a>      }
<a name="l1322"><span class="linenum">1322</span></a>  
<a name="l1323"><span class="linenum">1323</span></a>      <span class="comment">/**</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">     * Converts string to uppercase</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">     * The function converts all Latin characters (a-z, but no accents, etc) to</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     * uppercase. It is safe for all supported character sets (incl. utf-8).</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment">     * Unlike strtoupper() it does not honour the locale.</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">     *</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment">     * @param string $str Input string</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment">     * @return string Uppercase String</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment">     */</span>
<a name="l1332"><span class="linenum">1332</span></a>  	public static function <a class="function" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="funcPopup(event,'strtoupper')">strtoupper</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1333"><span class="linenum">1333</span></a>          return <a class="phpfunction" onClick="logFunction('strtr')" href="../../_functions/strtr.html" onMouseOver="phpfuncPopup(event,'strtr')">strtr</a>((string) <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ');
<a name="l1334"><span class="linenum">1334</span></a>      }
<a name="l1335"><span class="linenum">1335</span></a>  
<a name="l1336"><span class="linenum">1336</span></a>      <span class="comment">/**</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * Converts string to lowercase</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     * The function converts all Latin characters (A-Z, but no accents, etc) to</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * lowercase. It is safe for all supported character sets (incl. utf-8).</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * Unlike strtolower() it does not honour the locale.</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     *</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">     * @param string $str Input string</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">     * @return string Lowercase String</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment">     */</span>
<a name="l1345"><span class="linenum">1345</span></a>  	public static function <a class="function" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="funcPopup(event,'strtolower')">strtolower</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>) {
<a name="l1346"><span class="linenum">1346</span></a>          return <a class="phpfunction" onClick="logFunction('strtr')" href="../../_functions/strtr.html" onMouseOver="phpfuncPopup(event,'strtr')">strtr</a>((string) <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz');
<a name="l1347"><span class="linenum">1347</span></a>      }
<a name="l1348"><span class="linenum">1348</span></a>  
<a name="l1349"><span class="linenum">1349</span></a>      <span class="comment">/**</span>
<a name="l1350"><span class="linenum">1350</span></a>  <span class="comment">     * Returns a string of highly randomized bytes (over the full 8-bit range).</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment">     *</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">     * Note: Returned values are not guaranteed to be crypto-safe,</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">     * most likely they are not, depending on the used retrieval method.</span>
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">     *</span>
<a name="l1355"><span class="linenum">1355</span></a>  <span class="comment">     * @param integer $bytesToReturn Number of characters (bytes) to return</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment">     * @return string Random Bytes</span>
<a name="l1357"><span class="linenum">1357</span></a>  <span class="comment">     * @see http://bugs.php.net/bug.php?id=52523</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     * @see http://www.php-security.org/2010/05/09/mops-submission-04-generating-unpredictable-session-ids-and-hashes/index.html</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     */</span>
<a name="l1360"><span class="linenum">1360</span></a>  	public static function <a class="function" onClick="logFunction('generateRandomBytes')" href="../../_functions/generaterandombytes.html" onMouseOver="funcPopup(event,'generaterandombytes')">generateRandomBytes</a>(<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>) {
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">            // Cache 4k of the generated bytestream.</span>
<a name="l1362"><span class="linenum">1362</span></a>          static <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = '';
<a name="l1363"><span class="linenum">1363</span></a>          <a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a> = <a class="phpfunction" onClick="logFunction('max')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(4096, <a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>);
<a name="l1364"><span class="linenum">1364</span></a>  
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">            // if we have not enough random bytes cached, we generate new ones</span>
<a name="l1366"><span class="linenum">1366</span></a>          if (!isset(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>{<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a> - 1})) {
<a name="l1367"><span class="linenum">1367</span></a>              if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> === 'WIN') {
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">                    // Openssl seems to be deadly slow on Windows, so try to use mcrypt</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">                    // Windows PHP versions have a bug when using urandom source (see #24410)</span>
<a name="l1370"><span class="linenum">1370</span></a>                  <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= self::<a class="function" onClick="logFunction('generateRandomBytesMcrypt')" href="../../_functions/generaterandombytesmcrypt.html" onMouseOver="funcPopup(event,'generaterandombytesmcrypt')">generateRandomBytesMcrypt</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>, MCRYPT_RAND);
<a name="l1371"><span class="linenum">1371</span></a>              } else {
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">                    // Try to use native PHP functions first, precedence has openssl</span>
<a name="l1373"><span class="linenum">1373</span></a>                  <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= self::<a class="function" onClick="logFunction('generateRandomBytesOpenSsl')" href="../../_functions/generaterandombytesopenssl.html" onMouseOver="funcPopup(event,'generaterandombytesopenssl')">generateRandomBytesOpenSsl</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>);
<a name="l1374"><span class="linenum">1374</span></a>  
<a name="l1375"><span class="linenum">1375</span></a>                  if (!isset(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>{<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a> - 1})) {
<a name="l1376"><span class="linenum">1376</span></a>                      <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= self::<a class="function" onClick="logFunction('generateRandomBytesMcrypt')" href="../../_functions/generaterandombytesmcrypt.html" onMouseOver="funcPopup(event,'generaterandombytesmcrypt')">generateRandomBytesMcrypt</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>, MCRYPT_DEV_URANDOM);
<a name="l1377"><span class="linenum">1377</span></a>                  }
<a name="l1378"><span class="linenum">1378</span></a>  
<a name="l1379"><span class="linenum">1379</span></a>  <span class="comment">                    // If openssl and mcrypt failed, try /dev/urandom</span>
<a name="l1380"><span class="linenum">1380</span></a>                  if (!isset(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>{<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a> - 1})) {
<a name="l1381"><span class="linenum">1381</span></a>                      <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= self::<a class="function" onClick="logFunction('generateRandomBytesUrandom')" href="../../_functions/generaterandombytesurandom.html" onMouseOver="funcPopup(event,'generaterandombytesurandom')">generateRandomBytesUrandom</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>);
<a name="l1382"><span class="linenum">1382</span></a>                  }
<a name="l1383"><span class="linenum">1383</span></a>              }
<a name="l1384"><span class="linenum">1384</span></a>  
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment">                // Fall back if other random byte generation failed until now</span>
<a name="l1386"><span class="linenum">1386</span></a>              if (!isset(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>{<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a> - 1})) {
<a name="l1387"><span class="linenum">1387</span></a>                  <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= self::<a class="function" onClick="logFunction('generateRandomBytesFallback')" href="../../_functions/generaterandombytesfallback.html" onMouseOver="funcPopup(event,'generaterandombytesfallback')">generateRandomBytesFallback</a>(<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>);
<a name="l1388"><span class="linenum">1388</span></a>              }
<a name="l1389"><span class="linenum">1389</span></a>          }
<a name="l1390"><span class="linenum">1390</span></a>  
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment">            // get first $bytesToReturn and remove it from the byte cache</span>
<a name="l1392"><span class="linenum">1392</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>, 0, <a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>);
<a name="l1393"><span class="linenum">1393</span></a>          <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>, <a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>);
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l1396"><span class="linenum">1396</span></a>      }
<a name="l1397"><span class="linenum">1397</span></a>  
<a name="l1398"><span class="linenum">1398</span></a>      <span class="comment">/**</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment">     * Generate random bytes using openssl if available</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment">     *</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment">     * @param string $bytesToGenerate</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment">     * @return string</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment">     */</span>
<a name="l1404"><span class="linenum">1404</span></a>  	protected static function <a class="function" onClick="logFunction('generateRandomBytesOpenSsl')" href="../../_functions/generaterandombytesopenssl.html" onMouseOver="funcPopup(event,'generaterandombytesopenssl')">generateRandomBytesOpenSsl</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>) {
<a name="l1405"><span class="linenum">1405</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('openssl_random_pseudo_bytes')) {
<a name="l1406"><span class="linenum">1406</span></a>              return '';
<a name="l1407"><span class="linenum">1407</span></a>          }
<a name="l1408"><span class="linenum">1408</span></a>          <a class="var it37779" onMouseOver="hilite(37779)" onMouseOut="lolite()" onClick="logVariable('isStrong')" href="../../_variables/isStrong.html">$isStrong</a> = NULL;
<a name="l1409"><span class="linenum">1409</span></a>          return (string) openssl_random_pseudo_bytes(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>, <a class="var it37779" onMouseOver="hilite(37779)" onMouseOut="lolite()" onClick="logVariable('isStrong')" href="../../_variables/isStrong.html">$isStrong</a>);
<a name="l1410"><span class="linenum">1410</span></a>      }
<a name="l1411"><span class="linenum">1411</span></a>  
<a name="l1412"><span class="linenum">1412</span></a>      <span class="comment">/**</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * Generate random bytes using mcrypt if available</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     *</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">     * @param $bytesToGenerate</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">     * @param $randomSource</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">     * @return string</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment">     */</span>
<a name="l1419"><span class="linenum">1419</span></a>  	protected static function <a class="function" onClick="logFunction('generateRandomBytesMcrypt')" href="../../_functions/generaterandombytesmcrypt.html" onMouseOver="funcPopup(event,'generaterandombytesmcrypt')">generateRandomBytesMcrypt</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>, <a class="var it37780" onMouseOver="hilite(37780)" onMouseOut="lolite()" onClick="logVariable('randomSource')" href="../../_variables/randomSource.html">$randomSource</a>) {
<a name="l1420"><span class="linenum">1420</span></a>          if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('mcrypt_create_iv')) {
<a name="l1421"><span class="linenum">1421</span></a>              return '';
<a name="l1422"><span class="linenum">1422</span></a>          }
<a name="l1423"><span class="linenum">1423</span></a>          return (string) @<a class="phpfunction" onClick="logFunction('mcrypt_create_iv')" href="../../_functions/mcrypt_create_iv.html" onMouseOver="phpfuncPopup(event,'mcrypt_create_iv')">mcrypt_create_iv</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>, <a class="var it37780" onMouseOver="hilite(37780)" onMouseOut="lolite()" onClick="logVariable('randomSource')" href="../../_variables/randomSource.html">$randomSource</a>);
<a name="l1424"><span class="linenum">1424</span></a>      }
<a name="l1425"><span class="linenum">1425</span></a>  
<a name="l1426"><span class="linenum">1426</span></a>      <span class="comment">/**</span>
<a name="l1427"><span class="linenum">1427</span></a>  <span class="comment">     * Read random bytes from /dev/urandom if it is accessible</span>
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment">     *</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment">     * @param $bytesToGenerate</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">     * @return string</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment">     */</span>
<a name="l1432"><span class="linenum">1432</span></a>  	protected static function <a class="function" onClick="logFunction('generateRandomBytesUrandom')" href="../../_functions/generaterandombytesurandom.html" onMouseOver="funcPopup(event,'generaterandombytesurandom')">generateRandomBytesUrandom</a>(<a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>) {
<a name="l1433"><span class="linenum">1433</span></a>          <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = '';
<a name="l1434"><span class="linenum">1434</span></a>          <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a> = @<a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>('/dev/urandom', 'rb');
<a name="l1435"><span class="linenum">1435</span></a>          if (<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>) {
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment">                // PHP only performs buffered reads, so in reality it will always read</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment">                // at least 4096 bytes. Thus, it costs nothing extra to read and store</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">                // that much so as to speed any additional invocations.</span>
<a name="l1439"><span class="linenum">1439</span></a>              <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = <a class="phpfunction" onClick="logFunction('fread')" href="../../_functions/fread.html" onMouseOver="phpfuncPopup(event,'fread')">fread</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>, <a class="var it37778" onMouseOver="hilite(37778)" onMouseOut="lolite()" onClick="logVariable('bytesToGenerate')" href="../../_variables/bytesToGenerate.html">$bytesToGenerate</a>);
<a name="l1440"><span class="linenum">1440</span></a>              <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('fh')" href="../../_variables/fh.html">$fh</a>);
<a name="l1441"><span class="linenum">1441</span></a>          }
<a name="l1442"><span class="linenum">1442</span></a>  
<a name="l1443"><span class="linenum">1443</span></a>          return <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>;
<a name="l1444"><span class="linenum">1444</span></a>      }
<a name="l1445"><span class="linenum">1445</span></a>  
<a name="l1446"><span class="linenum">1446</span></a>      <span class="comment">/**</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment">     * Generate pseudo random bytes as last resort</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment">     *</span>
<a name="l1449"><span class="linenum">1449</span></a>  <span class="comment">     * @param $bytesToReturn</span>
<a name="l1450"><span class="linenum">1450</span></a>  <span class="comment">     * @return string</span>
<a name="l1451"><span class="linenum">1451</span></a>  <span class="comment">     */</span>
<a name="l1452"><span class="linenum">1452</span></a>  	protected static function <a class="function" onClick="logFunction('generateRandomBytesFallback')" href="../../_functions/generaterandombytesfallback.html" onMouseOver="funcPopup(event,'generaterandombytesfallback')">generateRandomBytesFallback</a>(<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a>) {
<a name="l1453"><span class="linenum">1453</span></a>          <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = '';
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">            // We initialize with somewhat random.</span>
<a name="l1455"><span class="linenum">1455</span></a>          <a class="var it37781" onMouseOver="hilite(37781)" onMouseOut="lolite()" onClick="logVariable('randomState')" href="../../_variables/randomState.html">$randomState</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['encryptionKey'] . <a class="phpfunction" onClick="logFunction('base_convert')" href="../../_functions/base_convert.html" onMouseOver="phpfuncPopup(event,'base_convert')">base_convert</a>(<a class="phpfunction" onClick="logFunction('memory_get_usage')" href="../../_functions/memory_get_usage.html" onMouseOver="phpfuncPopup(event,'memory_get_usage')">memory_get_usage</a>() % <a class="phpfunction" onClick="logFunction('pow')" href="../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(10, 6), 10, 2) . <a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>() . <a class="phpfunction" onClick="logFunction('uniqid')" href="../../_functions/uniqid.html" onMouseOver="phpfuncPopup(event,'uniqid')">uniqid</a>('') . <a class="phpfunction" onClick="logFunction('getmypid')" href="../../_functions/getmypid.html" onMouseOver="phpfuncPopup(event,'getmypid')">getmypid</a>();
<a name="l1456"><span class="linenum">1456</span></a>          while (!isset(<a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>{<a class="var it37777" onMouseOver="hilite(37777)" onMouseOut="lolite()" onClick="logVariable('bytesToReturn')" href="../../_variables/bytesToReturn.html">$bytesToReturn</a> - 1})) {
<a name="l1457"><span class="linenum">1457</span></a>              <a class="var it37781" onMouseOver="hilite(37781)" onMouseOut="lolite()" onClick="logVariable('randomState')" href="../../_variables/randomState.html">$randomState</a> = <a class="phpfunction" onClick="logFunction('sha1')" href="../../_functions/sha1.html" onMouseOver="phpfuncPopup(event,'sha1')">sha1</a>(<a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>() . <a class="phpfunction" onClick="logFunction('mt_rand')" href="../../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>() . <a class="var it37781" onMouseOver="hilite(37781)" onMouseOut="lolite()" onClick="logVariable('randomState')" href="../../_variables/randomState.html">$randomState</a>);
<a name="l1458"><span class="linenum">1458</span></a>              <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> .= <a class="phpfunction" onClick="logFunction('sha1')" href="../../_functions/sha1.html" onMouseOver="phpfuncPopup(event,'sha1')">sha1</a>(<a class="phpfunction" onClick="logFunction('mt_rand')" href="../../_functions/mt_rand.html" onMouseOver="phpfuncPopup(event,'mt_rand')">mt_rand</a>() . <a class="var it37781" onMouseOver="hilite(37781)" onMouseOut="lolite()" onClick="logVariable('randomState')" href="../../_variables/randomState.html">$randomState</a>, TRUE);
<a name="l1459"><span class="linenum">1459</span></a>          }
<a name="l1460"><span class="linenum">1460</span></a>          return <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>;
<a name="l1461"><span class="linenum">1461</span></a>      }
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>      <span class="comment">/**</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">     * Returns a hex representation of a random byte string.</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     *</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     * @param integer $count Number of hex characters to return</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     * @return string Random Bytes</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     */</span>
<a name="l1469"><span class="linenum">1469</span></a>  	public static function <a class="function" onClick="logFunction('getRandomHexString')" href="../../_functions/getrandomhexstring.html" onMouseOver="funcPopup(event,'getrandomhexstring')">getRandomHexString</a>(<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l1470"><span class="linenum">1470</span></a>          return <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('bin2hex')" href="../../_functions/bin2hex.html" onMouseOver="phpfuncPopup(event,'bin2hex')">bin2hex</a>(self::<a class="function" onClick="logFunction('generateRandomBytes')" href="../../_functions/generaterandombytes.html" onMouseOver="funcPopup(event,'generaterandombytes')">generateRandomBytes</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>((<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> + 1) / 2))), 0, <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>);
<a name="l1471"><span class="linenum">1471</span></a>      }
<a name="l1472"><span class="linenum">1472</span></a>  
<a name="l1473"><span class="linenum">1473</span></a>      <span class="comment">/**</span>
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment">     * Returns a given string with underscores as UpperCamelCase.</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">     * Example: Converts blog_example to BlogExample</span>
<a name="l1476"><span class="linenum">1476</span></a>  <span class="comment">     *</span>
<a name="l1477"><span class="linenum">1477</span></a>  <span class="comment">     * @param string $string: String to be converted to camel case</span>
<a name="l1478"><span class="linenum">1478</span></a>  <span class="comment">     * @return string UpperCamelCasedWord</span>
<a name="l1479"><span class="linenum">1479</span></a>  <span class="comment">     */</span>
<a name="l1480"><span class="linenum">1480</span></a>  	public static function <a class="function" onClick="logFunction('underscoredToUpperCamelCase')" href="../../_functions/underscoredtouppercamelcase.html" onMouseOver="funcPopup(event,'underscoredtouppercamelcase')">underscoredToUpperCamelCase</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1481"><span class="linenum">1481</span></a>          <a class="var it37782" onMouseOver="hilite(37782)" onMouseOut="lolite()" onClick="logVariable('upperCamelCase')" href="../../_variables/upperCamelCase.html">$upperCamelCase</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(' ', '', <a class="phpfunction" onClick="logFunction('ucwords')" href="../../_functions/ucwords.html" onMouseOver="phpfuncPopup(event,'ucwords')">ucwords</a>(<a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('_', ' ', self::<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>))));
<a name="l1482"><span class="linenum">1482</span></a>          return <a class="var it37782" onMouseOver="hilite(37782)" onMouseOut="lolite()" onClick="logVariable('upperCamelCase')" href="../../_variables/upperCamelCase.html">$upperCamelCase</a>;
<a name="l1483"><span class="linenum">1483</span></a>      }
<a name="l1484"><span class="linenum">1484</span></a>  
<a name="l1485"><span class="linenum">1485</span></a>      <span class="comment">/**</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment">     * Returns a given string with underscores as lowerCamelCase.</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">     * Example: Converts minimal_value to minimalValue</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">     *</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     * @param string $string: String to be converted to camel case</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">     * @return string lowerCamelCasedWord</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">     */</span>
<a name="l1492"><span class="linenum">1492</span></a>  	public static function <a class="function" onClick="logFunction('underscoredToLowerCamelCase')" href="../../_functions/underscoredtolowercamelcase.html" onMouseOver="funcPopup(event,'underscoredtolowercamelcase')">underscoredToLowerCamelCase</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1493"><span class="linenum">1493</span></a>          <a class="var it37782" onMouseOver="hilite(37782)" onMouseOut="lolite()" onClick="logVariable('upperCamelCase')" href="../../_variables/upperCamelCase.html">$upperCamelCase</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(' ', '', <a class="phpfunction" onClick="logFunction('ucwords')" href="../../_functions/ucwords.html" onMouseOver="phpfuncPopup(event,'ucwords')">ucwords</a>(<a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('_', ' ', self::<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>))));
<a name="l1494"><span class="linenum">1494</span></a>          <a class="var it37783" onMouseOver="hilite(37783)" onMouseOut="lolite()" onClick="logVariable('lowerCamelCase')" href="../../_variables/lowerCamelCase.html">$lowerCamelCase</a> = self::<a class="function" onClick="logFunction('lcfirst')" href="../../_functions/lcfirst.html" onMouseOver="funcPopup(event,'lcfirst')">lcfirst</a>(<a class="var it37782" onMouseOver="hilite(37782)" onMouseOut="lolite()" onClick="logVariable('upperCamelCase')" href="../../_variables/upperCamelCase.html">$upperCamelCase</a>);
<a name="l1495"><span class="linenum">1495</span></a>          return <a class="var it37783" onMouseOver="hilite(37783)" onMouseOut="lolite()" onClick="logVariable('lowerCamelCase')" href="../../_variables/lowerCamelCase.html">$lowerCamelCase</a>;
<a name="l1496"><span class="linenum">1496</span></a>      }
<a name="l1497"><span class="linenum">1497</span></a>  
<a name="l1498"><span class="linenum">1498</span></a>      <span class="comment">/**</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment">     * Returns a given CamelCasedString as an lowercase string with underscores.</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment">     * Example: Converts BlogExample to blog_example, and minimalValue to minimal_value</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">     *</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment">     * @param string $string String to be converted to lowercase underscore</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment">     * @return string lowercase_and_underscored_string</span>
<a name="l1504"><span class="linenum">1504</span></a>  <span class="comment">     */</span>
<a name="l1505"><span class="linenum">1505</span></a>  	public static function <a class="function" onClick="logFunction('camelCaseToLowerCaseUnderscored')" href="../../_functions/camelcasetolowercaseunderscored.html" onMouseOver="funcPopup(event,'camelcasetolowercaseunderscored')">camelCaseToLowerCaseUnderscored</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1506"><span class="linenum">1506</span></a>          return self::<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(?&lt;=\w)([A-Z])/', '_\\1', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>));
<a name="l1507"><span class="linenum">1507</span></a>      }
<a name="l1508"><span class="linenum">1508</span></a>  
<a name="l1509"><span class="linenum">1509</span></a>      <span class="comment">/**</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">     * Converts the first char of a string to lowercase if it is a latin character (A-Z).</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">     * Example: Converts &quot;Hello World&quot; to &quot;hello World&quot;</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">     *</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">     * @param string $string The string to be used to lowercase the first character</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">     * @return string The string with the first character as lowercase</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">     */</span>
<a name="l1516"><span class="linenum">1516</span></a>  	public static function <a class="function" onClick="logFunction('lcfirst')" href="../../_functions/lcfirst.html" onMouseOver="funcPopup(event,'lcfirst')">lcfirst</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>) {
<a name="l1517"><span class="linenum">1517</span></a>          return self::<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, 1)) . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 1);
<a name="l1518"><span class="linenum">1518</span></a>      }
<a name="l1519"><span class="linenum">1519</span></a>  
<a name="l1520"><span class="linenum">1520</span></a>      <span class="comment">/**</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment">     * Checks if a given string is a Uniform Resource Locator (URL).</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment">     *</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment">     * @param string $url The URL to be validated</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">     * @return boolean Whether the given URL is valid</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     */</span>
<a name="l1526"><span class="linenum">1526</span></a>  	public static function <a class="function" onClick="logFunction('isValidUrl')" href="../../_functions/isvalidurl.html" onMouseOver="funcPopup(event,'isvalidurl')">isValidUrl</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>) {
<a name="l1527"><span class="linenum">1527</span></a>          require_once(PATH_typo3 . 'contrib/idna/idna_convert.class.php');
<a name="l1528"><span class="linenum">1528</span></a>          <a class="var it37776" onMouseOver="hilite(37776)" onMouseOut="lolite()" onClick="logVariable('IDN')" href="../../_variables/IDN.html">$IDN</a> = new idna_convert(array('idn_version' =&gt; 2008));
<a name="l1529"><span class="linenum">1529</span></a>  
<a name="l1530"><span class="linenum">1530</span></a>          return (filter_var(<a class="var it37776" onMouseOver="hilite(37776)" onMouseOut="lolite()" onClick="logVariable('IDN')" href="../../_variables/IDN.html">$IDN</a>-&gt;<a class="function" onClick="logFunction('encode')" href="../../_functions/encode.html" onMouseOver="funcPopup(event,'encode')">encode</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>), FILTER_VALIDATE_URL, FILTER_FLAG_SCHEME_REQUIRED) !== FALSE);
<a name="l1531"><span class="linenum">1531</span></a>      }
<a name="l1532"><span class="linenum">1532</span></a>  
<a name="l1533"><span class="linenum">1533</span></a>  
<a name="l1534"><span class="linenum">1534</span></a>      <span class="comment">/*************************</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     *</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * ARRAY FUNCTIONS</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     *</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">     *************************/</span>
<a name="l1539"><span class="linenum">1539</span></a>  
<a name="l1540"><span class="linenum">1540</span></a>      <span class="comment">/**</span>
<a name="l1541"><span class="linenum">1541</span></a>  <span class="comment">     * Check if an string item exists in an array.</span>
<a name="l1542"><span class="linenum">1542</span></a>  <span class="comment">     * Please note that the order of function parameters is reverse compared to the PHP function in_array()!!!</span>
<a name="l1543"><span class="linenum">1543</span></a>  <span class="comment">     *</span>
<a name="l1544"><span class="linenum">1544</span></a>  <span class="comment">     * Comparison to PHP in_array():</span>
<a name="l1545"><span class="linenum">1545</span></a>  <span class="comment">     * -&gt; $array = array(0, 1, 2, 3);</span>
<a name="l1546"><span class="linenum">1546</span></a>  <span class="comment">     * -&gt; variant_a := t3lib_div::inArray($array, $needle)</span>
<a name="l1547"><span class="linenum">1547</span></a>  <span class="comment">     * -&gt; variant_b := in_array($needle, $array)</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment">     * -&gt; variant_c := in_array($needle, $array, TRUE)</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * +---------+-----------+-----------+-----------+</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     * | $needle | variant_a | variant_b | variant_c |</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     * +---------+-----------+-----------+-----------+</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">     * | '1a'    | FALSE     | TRUE      | FALSE     |</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment">     * | ''      | FALSE     | TRUE      | FALSE     |</span>
<a name="l1554"><span class="linenum">1554</span></a>  <span class="comment">     * | '0'     | TRUE      | TRUE      | FALSE     |</span>
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment">     * | 0       | TRUE      | TRUE      | TRUE      |</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment">     * +---------+-----------+-----------+-----------+</span>
<a name="l1557"><span class="linenum">1557</span></a>  <span class="comment">     *</span>
<a name="l1558"><span class="linenum">1558</span></a>  <span class="comment">     * @param array $in_array one-dimensional array of items</span>
<a name="l1559"><span class="linenum">1559</span></a>  <span class="comment">     * @param string $item item to check for</span>
<a name="l1560"><span class="linenum">1560</span></a>  <span class="comment">     * @return boolean TRUE if $item is in the one-dimensional array $in_array</span>
<a name="l1561"><span class="linenum">1561</span></a>  <span class="comment">     */</span>
<a name="l1562"><span class="linenum">1562</span></a>  	public static function <a class="function" onClick="logFunction('inArray')" href="../../_functions/inarray.html" onMouseOver="funcPopup(event,'inarray')">inArray</a>(array <a class="var it37784" onMouseOver="hilite(37784)" onMouseOut="lolite()" onClick="logVariable('in_array')" href="../../_variables/in_array.html">$in_array</a>, <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>) {
<a name="l1563"><span class="linenum">1563</span></a>          foreach (<a class="var it37784" onMouseOver="hilite(37784)" onMouseOut="lolite()" onClick="logVariable('in_array')" href="../../_variables/in_array.html">$in_array</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l1564"><span class="linenum">1564</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>, <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>)) {
<a name="l1565"><span class="linenum">1565</span></a>                  return TRUE;
<a name="l1566"><span class="linenum">1566</span></a>              }
<a name="l1567"><span class="linenum">1567</span></a>          }
<a name="l1568"><span class="linenum">1568</span></a>          return FALSE;
<a name="l1569"><span class="linenum">1569</span></a>      }
<a name="l1570"><span class="linenum">1570</span></a>  
<a name="l1571"><span class="linenum">1571</span></a>      <span class="comment">/**</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment">     * Explodes a $string delimited by $delim and passes each item in the array through intval().</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment">     * Corresponds to t3lib_div::trimExplode(), but with conversion to integers for all values.</span>
<a name="l1574"><span class="linenum">1574</span></a>  <span class="comment">     *</span>
<a name="l1575"><span class="linenum">1575</span></a>  <span class="comment">     * @param string $delimiter Delimiter string to explode with</span>
<a name="l1576"><span class="linenum">1576</span></a>  <span class="comment">     * @param string $string The string to explode</span>
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">     * @param boolean $onlyNonEmptyValues If set, all empty values (='') will NOT be set in output</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">     * @param integer $limit If positive, the result will contain a maximum of limit elements,</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment">     *                         if negative, all components except the last -limit are returned,</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">     *                         if zero (default), the result is not limited at all</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment">     * @return array Exploded values, all converted to integers</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment">     */</span>
<a name="l1583"><span class="linenum">1583</span></a>  	public static function <a class="function" onClick="logFunction('intExplode')" href="../../_functions/intexplode.html" onMouseOver="funcPopup(event,'intexplode')">intExplode</a>(<a class="var it5614" onMouseOver="hilite(5614)" onMouseOut="lolite()" onClick="logVariable('delimiter')" href="../../_variables/delimiter.html">$delimiter</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37785" onMouseOver="hilite(37785)" onMouseOut="lolite()" onClick="logVariable('onlyNonEmptyValues')" href="../../_variables/onlyNonEmptyValues.html">$onlyNonEmptyValues</a> = FALSE, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> = 0) {
<a name="l1584"><span class="linenum">1584</span></a>          <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(<a class="var it5614" onMouseOver="hilite(5614)" onMouseOut="lolite()" onClick="logVariable('delimiter')" href="../../_variables/delimiter.html">$delimiter</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37785" onMouseOver="hilite(37785)" onMouseOut="lolite()" onClick="logVariable('onlyNonEmptyValues')" href="../../_variables/onlyNonEmptyValues.html">$onlyNonEmptyValues</a>, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a>);
<a name="l1585"><span class="linenum">1585</span></a>          return <a class="phpfunction" onClick="logFunction('array_map')" href="../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('intval', <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a>);
<a name="l1586"><span class="linenum">1586</span></a>      }
<a name="l1587"><span class="linenum">1587</span></a>  
<a name="l1588"><span class="linenum">1588</span></a>      <span class="comment">/**</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">     * Reverse explode which explodes the string counting from behind.</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     * Thus t3lib_div::revExplode(':','my:words:here',2) will return array('my:words','here')</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment">     *</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * @param string $delimiter Delimiter string to explode with</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     * @param string $string The string to explode</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     * @param integer $count Number of array entries</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     * @return array Exploded values</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     */</span>
<a name="l1597"><span class="linenum">1597</span></a>  	public static function <a class="function" onClick="logFunction('revExplode')" href="../../_functions/revexplode.html" onMouseOver="funcPopup(event,'revexplode')">revExplode</a>(<a class="var it5614" onMouseOver="hilite(5614)" onMouseOut="lolite()" onClick="logVariable('delimiter')" href="../../_variables/delimiter.html">$delimiter</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = 0) {
<a name="l1598"><span class="linenum">1598</span></a>          <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(<a class="var it5614" onMouseOver="hilite(5614)" onMouseOut="lolite()" onClick="logVariable('delimiter')" href="../../_variables/delimiter.html">$delimiter</a>, <a class="phpfunction" onClick="logFunction('strrev')" href="../../_functions/strrev.html" onMouseOver="phpfuncPopup(event,'strrev')">strrev</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>), <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>);
<a name="l1599"><span class="linenum">1599</span></a>          <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('strrev', <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a>);
<a name="l1600"><span class="linenum">1600</span></a>          return <a class="phpfunction" onClick="logFunction('array_reverse')" href="../../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a>);
<a name="l1601"><span class="linenum">1601</span></a>      }
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>      <span class="comment">/**</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment">     * Explodes a string and trims all values for whitespace in the ends.</span>
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment">     * If $onlyNonEmptyValues is set, then all blank ('') values are removed.</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment">     *</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment">     * @param string $delim Delimiter string to explode with</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment">     * @param string $string The string to explode</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment">     * @param boolean $removeEmptyValues If set, all empty values will be removed in output</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment">     * @param integer $limit If positive, the result will contain a maximum of</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">     *                         $limit elements, if negative, all components except</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment">     *                         the last -$limit are returned, if zero (default),</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">     *                         the result is not limited at all. Attention though</span>
<a name="l1614"><span class="linenum">1614</span></a>  <span class="comment">     *                         that the use of this parameter can slow down this</span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">     *                         function.</span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">     * @return array Exploded values</span>
<a name="l1617"><span class="linenum">1617</span></a>  <span class="comment">     */</span>
<a name="l1618"><span class="linenum">1618</span></a>  	public static function <a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(<a class="var it15616" onMouseOver="hilite(15616)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../../_variables/delim.html">$delim</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37787" onMouseOver="hilite(37787)" onMouseOut="lolite()" onClick="logVariable('removeEmptyValues')" href="../../_variables/removeEmptyValues.html">$removeEmptyValues</a> = FALSE, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> = 0) {
<a name="l1619"><span class="linenum">1619</span></a>          <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(<a class="var it15616" onMouseOver="hilite(15616)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../../_variables/delim.html">$delim</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1620"><span class="linenum">1620</span></a>  
<a name="l1621"><span class="linenum">1621</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="var it37786" onMouseOver="hilite(37786)" onMouseOut="lolite()" onClick="logVariable('explodedValues')" href="../../_variables/explodedValues.html">$explodedValues</a>);
<a name="l1622"><span class="linenum">1622</span></a>  
<a name="l1623"><span class="linenum">1623</span></a>          if (<a class="var it37787" onMouseOver="hilite(37787)" onMouseOut="lolite()" onClick="logVariable('removeEmptyValues')" href="../../_variables/removeEmptyValues.html">$removeEmptyValues</a>) {
<a name="l1624"><span class="linenum">1624</span></a>              <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a> = array();
<a name="l1625"><span class="linenum">1625</span></a>              foreach (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1626"><span class="linenum">1626</span></a>                  if (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> !== '') {
<a name="l1627"><span class="linenum">1627</span></a>                      <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1628"><span class="linenum">1628</span></a>                  }
<a name="l1629"><span class="linenum">1629</span></a>              }
<a name="l1630"><span class="linenum">1630</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>;
<a name="l1631"><span class="linenum">1631</span></a>          }
<a name="l1632"><span class="linenum">1632</span></a>  
<a name="l1633"><span class="linenum">1633</span></a>          if (<a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> != 0) {
<a name="l1634"><span class="linenum">1634</span></a>              if (<a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> &lt; 0) {
<a name="l1635"><span class="linenum">1635</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, 0, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a>);
<a name="l1636"><span class="linenum">1636</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) &gt; <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a>) {
<a name="l1637"><span class="linenum">1637</span></a>                  <a class="var it37788" onMouseOver="hilite(37788)" onMouseOut="lolite()" onClick="logVariable('lastElements')" href="../../_variables/lastElements.html">$lastElements</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> - 1);
<a name="l1638"><span class="linenum">1638</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, 0, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../_variables/limit.html">$limit</a> - 1);
<a name="l1639"><span class="linenum">1639</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[] = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(<a class="var it15616" onMouseOver="hilite(15616)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../../_variables/delim.html">$delim</a>, <a class="var it37788" onMouseOver="hilite(37788)" onMouseOut="lolite()" onClick="logVariable('lastElements')" href="../../_variables/lastElements.html">$lastElements</a>);
<a name="l1640"><span class="linenum">1640</span></a>              }
<a name="l1641"><span class="linenum">1641</span></a>          }
<a name="l1642"><span class="linenum">1642</span></a>  
<a name="l1643"><span class="linenum">1643</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1644"><span class="linenum">1644</span></a>      }
<a name="l1645"><span class="linenum">1645</span></a>  
<a name="l1646"><span class="linenum">1646</span></a>      <span class="comment">/**</span>
<a name="l1647"><span class="linenum">1647</span></a>  <span class="comment">     * Removes the value $cmpValue from the $array if found there. Returns the modified array</span>
<a name="l1648"><span class="linenum">1648</span></a>  <span class="comment">     *</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment">     * @param array $array Array containing the values</span>
<a name="l1650"><span class="linenum">1650</span></a>  <span class="comment">     * @param string $cmpValue Value to search for and if found remove array entry where found.</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment">     * @return array Output array with entries removed if search string is found</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">     */</span>
<a name="l1653"><span class="linenum">1653</span></a>  	public static function <a class="function" onClick="logFunction('removeArrayEntryByValue')" href="../../_functions/removearrayentrybyvalue.html" onMouseOver="funcPopup(event,'removearrayentrybyvalue')">removeArrayEntryByValue</a>(array <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it37789" onMouseOver="hilite(37789)" onMouseOut="lolite()" onClick="logVariable('cmpValue')" href="../../_variables/cmpValue.html">$cmpValue</a>) {
<a name="l1654"><span class="linenum">1654</span></a>          foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l1655"><span class="linenum">1655</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>)) {
<a name="l1656"><span class="linenum">1656</span></a>                  <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = self::<a class="function" onClick="logFunction('removeArrayEntryByValue')" href="../../_functions/removearrayentrybyvalue.html" onMouseOver="funcPopup(event,'removearrayentrybyvalue')">removeArrayEntryByValue</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it37789" onMouseOver="hilite(37789)" onMouseOut="lolite()" onClick="logVariable('cmpValue')" href="../../_variables/cmpValue.html">$cmpValue</a>);
<a name="l1657"><span class="linenum">1657</span></a>              } elseif (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it37789" onMouseOver="hilite(37789)" onMouseOut="lolite()" onClick="logVariable('cmpValue')" href="../../_variables/cmpValue.html">$cmpValue</a>)) {
<a name="l1658"><span class="linenum">1658</span></a>                  unset(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]);
<a name="l1659"><span class="linenum">1659</span></a>              }
<a name="l1660"><span class="linenum">1660</span></a>          }
<a name="l1661"><span class="linenum">1661</span></a>          return <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>;
<a name="l1662"><span class="linenum">1662</span></a>      }
<a name="l1663"><span class="linenum">1663</span></a>  
<a name="l1664"><span class="linenum">1664</span></a>      <span class="comment">/**</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     * Filters an array to reduce its elements to match the condition.</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">     * The values in $keepItems can be optionally evaluated by a custom callback function.</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">     *</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment">     * Example (arguments used to call this function):</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment">     * $array = array(</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">     *         array('aa' =&gt; array('first', 'second'),</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">     *         array('bb' =&gt; array('third', 'fourth'),</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">     *         array('cc' =&gt; array('fifth', 'sixth'),</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * );</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     * $keepItems = array('third');</span>
<a name="l1675"><span class="linenum">1675</span></a>  <span class="comment">     * $getValueFunc = create_function('$value', 'return $value[0];');</span>
<a name="l1676"><span class="linenum">1676</span></a>  <span class="comment">     *</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">     * Returns:</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * array(</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     *         array('bb' =&gt; array('third', 'fourth'),</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment">     * )</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">     *</span>
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment">     * @param array $array: The initial array to be filtered/reduced</span>
<a name="l1683"><span class="linenum">1683</span></a>  <span class="comment">     * @param mixed $keepItems: The items which are allowed/kept in the array - accepts array or csv string</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment">     * @param string $getValueFunc: (optional) Unique function name set by create_function() used to get the value to keep</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment">     * @return array The filtered/reduced array with the kept items</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment">     */</span>
<a name="l1687"><span class="linenum">1687</span></a>  	public static function <a class="function" onClick="logFunction('keepItemsInArray')" href="../../_functions/keepitemsinarray.html" onMouseOver="funcPopup(event,'keepitemsinarray')">keepItemsInArray</a>(array <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>, <a class="var it37791" onMouseOver="hilite(37791)" onMouseOut="lolite()" onClick="logVariable('getValueFunc')" href="../../_variables/getValueFunc.html">$getValueFunc</a> = NULL) {
<a name="l1688"><span class="linenum">1688</span></a>          if (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>) {
<a name="l1689"><span class="linenum">1689</span></a>  <span class="comment">                // Convert strings to arrays:</span>
<a name="l1690"><span class="linenum">1690</span></a>              if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>)) {
<a name="l1691"><span class="linenum">1691</span></a>                  <a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>);
<a name="l1692"><span class="linenum">1692</span></a>              }
<a name="l1693"><span class="linenum">1693</span></a>  <span class="comment">                // create_function() returns a string:</span>
<a name="l1694"><span class="linenum">1694</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it37791" onMouseOver="hilite(37791)" onMouseOut="lolite()" onClick="logVariable('getValueFunc')" href="../../_variables/getValueFunc.html">$getValueFunc</a>)) {
<a name="l1695"><span class="linenum">1695</span></a>                  <a class="var it37791" onMouseOver="hilite(37791)" onMouseOut="lolite()" onClick="logVariable('getValueFunc')" href="../../_variables/getValueFunc.html">$getValueFunc</a> = NULL;
<a name="l1696"><span class="linenum">1696</span></a>              }
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">                // Do the filtering:</span>
<a name="l1698"><span class="linenum">1698</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>)) {
<a name="l1699"><span class="linenum">1699</span></a>                  foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">                        // Get the value to compare by using the callback function:</span>
<a name="l1701"><span class="linenum">1701</span></a>                      <a class="var it37792" onMouseOver="hilite(37792)" onMouseOut="lolite()" onClick="logVariable('keepValue')" href="../../_variables/keepValue.html">$keepValue</a> = (isset(<a class="var it37791" onMouseOver="hilite(37791)" onMouseOut="lolite()" onClick="logVariable('getValueFunc')" href="../../_variables/getValueFunc.html">$getValueFunc</a>) ? <a class="var it37791" onMouseOver="hilite(37791)" onMouseOut="lolite()" onClick="logVariable('getValueFunc')" href="../../_variables/getValueFunc.html">$getValueFunc</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) : <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1702"><span class="linenum">1702</span></a>                      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it37792" onMouseOver="hilite(37792)" onMouseOut="lolite()" onClick="logVariable('keepValue')" href="../../_variables/keepValue.html">$keepValue</a>, <a class="var it37790" onMouseOver="hilite(37790)" onMouseOut="lolite()" onClick="logVariable('keepItems')" href="../../_variables/keepItems.html">$keepItems</a>)) {
<a name="l1703"><span class="linenum">1703</span></a>                          unset(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]);
<a name="l1704"><span class="linenum">1704</span></a>                      }
<a name="l1705"><span class="linenum">1705</span></a>                  }
<a name="l1706"><span class="linenum">1706</span></a>              }
<a name="l1707"><span class="linenum">1707</span></a>          }
<a name="l1708"><span class="linenum">1708</span></a>          return <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>;
<a name="l1709"><span class="linenum">1709</span></a>      }
<a name="l1710"><span class="linenum">1710</span></a>  
<a name="l1711"><span class="linenum">1711</span></a>      <span class="comment">/**</span>
<a name="l1712"><span class="linenum">1712</span></a>  <span class="comment">     * Implodes a multidim-array into GET-parameters (eg. &amp;param[key][key2]=value2&amp;param[key][key3]=value3)</span>
<a name="l1713"><span class="linenum">1713</span></a>  <span class="comment">     *</span>
<a name="l1714"><span class="linenum">1714</span></a>  <span class="comment">     * @param string $name Name prefix for entries. Set to blank if you wish none.</span>
<a name="l1715"><span class="linenum">1715</span></a>  <span class="comment">     * @param array $theArray The (multidimensional) array to implode</span>
<a name="l1716"><span class="linenum">1716</span></a>  <span class="comment">     * @param string $str (keep blank)</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment">     * @param boolean $skipBlank If set, parameters which were blank strings would be removed.</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">     * @param boolean $rawurlencodeParamName If set, the param name itself (for example &quot;param[key][key2]&quot;) would be rawurlencoded as well.</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     * @return string Imploded result, fx. &amp;param[key][key2]=value2&amp;param[key][key3]=value3</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment">     * @see explodeUrl2Array()</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment">     */</span>
<a name="l1722"><span class="linenum">1722</span></a>  	public static function <a class="function" onClick="logFunction('implodeArrayForUrl')" href="../../_functions/implodearrayforurl.html" onMouseOver="funcPopup(event,'implodearrayforurl')">implodeArrayForUrl</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, array <a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = '', <a class="var it37794" onMouseOver="hilite(37794)" onMouseOut="lolite()" onClick="logVariable('skipBlank')" href="../../_variables/skipBlank.html">$skipBlank</a> = FALSE, <a class="var it37795" onMouseOver="hilite(37795)" onMouseOut="lolite()" onClick="logVariable('rawurlencodeParamName')" href="../../_variables/rawurlencodeParamName.html">$rawurlencodeParamName</a> = FALSE) {
<a name="l1723"><span class="linenum">1723</span></a>          foreach (<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a> as <a class="var it37796" onMouseOver="hilite(37796)" onMouseOut="lolite()" onClick="logVariable('Akey')" href="../../_variables/Akey.html">$Akey</a> =&gt; <a class="var it37797" onMouseOver="hilite(37797)" onMouseOut="lolite()" onClick="logVariable('AVal')" href="../../_variables/AVal.html">$AVal</a>) {
<a name="l1724"><span class="linenum">1724</span></a>              <a class="var it37798" onMouseOver="hilite(37798)" onMouseOut="lolite()" onClick="logVariable('thisKeyName')" href="../../_variables/thisKeyName.html">$thisKeyName</a> = <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> ? <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '[' . <a class="var it37796" onMouseOver="hilite(37796)" onMouseOut="lolite()" onClick="logVariable('Akey')" href="../../_variables/Akey.html">$Akey</a> . ']' : <a class="var it37796" onMouseOver="hilite(37796)" onMouseOut="lolite()" onClick="logVariable('Akey')" href="../../_variables/Akey.html">$Akey</a>;
<a name="l1725"><span class="linenum">1725</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37797" onMouseOver="hilite(37797)" onMouseOut="lolite()" onClick="logVariable('AVal')" href="../../_variables/AVal.html">$AVal</a>)) {
<a name="l1726"><span class="linenum">1726</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = self::<a class="function" onClick="logFunction('implodeArrayForUrl')" href="../../_functions/implodearrayforurl.html" onMouseOver="funcPopup(event,'implodearrayforurl')">implodeArrayForUrl</a>(<a class="var it37798" onMouseOver="hilite(37798)" onMouseOut="lolite()" onClick="logVariable('thisKeyName')" href="../../_variables/thisKeyName.html">$thisKeyName</a>, <a class="var it37797" onMouseOver="hilite(37797)" onMouseOut="lolite()" onClick="logVariable('AVal')" href="../../_variables/AVal.html">$AVal</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it37794" onMouseOver="hilite(37794)" onMouseOut="lolite()" onClick="logVariable('skipBlank')" href="../../_variables/skipBlank.html">$skipBlank</a>, <a class="var it37795" onMouseOver="hilite(37795)" onMouseOut="lolite()" onClick="logVariable('rawurlencodeParamName')" href="../../_variables/rawurlencodeParamName.html">$rawurlencodeParamName</a>);
<a name="l1727"><span class="linenum">1727</span></a>              } else {
<a name="l1728"><span class="linenum">1728</span></a>                  if (!<a class="var it37794" onMouseOver="hilite(37794)" onMouseOut="lolite()" onClick="logVariable('skipBlank')" href="../../_variables/skipBlank.html">$skipBlank</a> || <a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37797" onMouseOver="hilite(37797)" onMouseOut="lolite()" onClick="logVariable('AVal')" href="../../_variables/AVal.html">$AVal</a>, '')) {
<a name="l1729"><span class="linenum">1729</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= '&amp;' . (<a class="var it37795" onMouseOver="hilite(37795)" onMouseOut="lolite()" onClick="logVariable('rawurlencodeParamName')" href="../../_variables/rawurlencodeParamName.html">$rawurlencodeParamName</a> ? <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it37798" onMouseOver="hilite(37798)" onMouseOut="lolite()" onClick="logVariable('thisKeyName')" href="../../_variables/thisKeyName.html">$thisKeyName</a>) : <a class="var it37798" onMouseOver="hilite(37798)" onMouseOut="lolite()" onClick="logVariable('thisKeyName')" href="../../_variables/thisKeyName.html">$thisKeyName</a>) .
<a name="l1730"><span class="linenum">1730</span></a>                              '=' . <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it37797" onMouseOver="hilite(37797)" onMouseOut="lolite()" onClick="logVariable('AVal')" href="../../_variables/AVal.html">$AVal</a>);
<a name="l1731"><span class="linenum">1731</span></a>                  }
<a name="l1732"><span class="linenum">1732</span></a>              }
<a name="l1733"><span class="linenum">1733</span></a>          }
<a name="l1734"><span class="linenum">1734</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1735"><span class="linenum">1735</span></a>      }
<a name="l1736"><span class="linenum">1736</span></a>  
<a name="l1737"><span class="linenum">1737</span></a>      <span class="comment">/**</span>
<a name="l1738"><span class="linenum">1738</span></a>  <span class="comment">     * Explodes a string with GETvars (eg. &quot;&amp;id=1&amp;type=2&amp;ext[mykey]=3&quot;) into an array</span>
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment">     *</span>
<a name="l1740"><span class="linenum">1740</span></a>  <span class="comment">     * @param string $string GETvars string</span>
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">     * @param boolean $multidim If set, the string will be parsed into a multidimensional array if square brackets are used in variable names (using PHP function parse_str())</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">     * @return array Array of values. All values AND keys are rawurldecoded() as they properly should be. But this means that any implosion of the array again must rawurlencode it!</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment">     * @see implodeArrayForUrl()</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment">     */</span>
<a name="l1745"><span class="linenum">1745</span></a>  	public static function <a class="function" onClick="logFunction('explodeUrl2Array')" href="../../_functions/explodeurl2array.html" onMouseOver="funcPopup(event,'explodeurl2array')">explodeUrl2Array</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37799" onMouseOver="hilite(37799)" onMouseOut="lolite()" onClick="logVariable('multidim')" href="../../_variables/multidim.html">$multidim</a> = FALSE) {
<a name="l1746"><span class="linenum">1746</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = array();
<a name="l1747"><span class="linenum">1747</span></a>          if (<a class="var it37799" onMouseOver="hilite(37799)" onMouseOut="lolite()" onClick="logVariable('multidim')" href="../../_variables/multidim.html">$multidim</a>) {
<a name="l1748"><span class="linenum">1748</span></a>              <a class="phpfunction" onClick="logFunction('parse_str')" href="../../_functions/parse_str.html" onMouseOver="phpfuncPopup(event,'parse_str')">parse_str</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l1749"><span class="linenum">1749</span></a>          } else {
<a name="l1750"><span class="linenum">1750</span></a>              <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('&amp;', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l1751"><span class="linenum">1751</span></a>              foreach (<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> as <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l1752"><span class="linenum">1752</span></a>                  if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>)) {
<a name="l1753"><span class="linenum">1753</span></a>                      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it37800" onMouseOver="hilite(37800)" onMouseOut="lolite()" onClick="logVariable('pK')" href="../../_variables/pK.html">$pK</a>, <a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('=', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, 2);
<a name="l1754"><span class="linenum">1754</span></a>                      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>[<a class="phpfunction" onClick="logFunction('rawurldecode')" href="../../_functions/rawurldecode.html" onMouseOver="phpfuncPopup(event,'rawurldecode')">rawurldecode</a>(<a class="var it37800" onMouseOver="hilite(37800)" onMouseOut="lolite()" onClick="logVariable('pK')" href="../../_variables/pK.html">$pK</a>)] = <a class="phpfunction" onClick="logFunction('rawurldecode')" href="../../_functions/rawurldecode.html" onMouseOver="phpfuncPopup(event,'rawurldecode')">rawurldecode</a>(<a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a>);
<a name="l1755"><span class="linenum">1755</span></a>                  }
<a name="l1756"><span class="linenum">1756</span></a>              }
<a name="l1757"><span class="linenum">1757</span></a>          }
<a name="l1758"><span class="linenum">1758</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l1759"><span class="linenum">1759</span></a>      }
<a name="l1760"><span class="linenum">1760</span></a>  
<a name="l1761"><span class="linenum">1761</span></a>      <span class="comment">/**</span>
<a name="l1762"><span class="linenum">1762</span></a>  <span class="comment">     * Returns an array with selected keys from incoming data.</span>
<a name="l1763"><span class="linenum">1763</span></a>  <span class="comment">     * (Better read source code if you want to find out...)</span>
<a name="l1764"><span class="linenum">1764</span></a>  <span class="comment">     *</span>
<a name="l1765"><span class="linenum">1765</span></a>  <span class="comment">     * @param string $varList List of variable/key names</span>
<a name="l1766"><span class="linenum">1766</span></a>  <span class="comment">     * @param array $getArray Array from where to get values based on the keys in $varList</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * @param boolean $GPvarAlt If set, then t3lib_div::_GP() is used to fetch the value if not found (isset) in the $getArray</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     * @return array Output array with selected variables.</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     */</span>
<a name="l1770"><span class="linenum">1770</span></a>  	public static function <a class="function" onClick="logFunction('compileSelectedGetVarsFromArray')" href="../../_functions/compileselectedgetvarsfromarray.html" onMouseOver="funcPopup(event,'compileselectedgetvarsfromarray')">compileSelectedGetVarsFromArray</a>(<a class="var it37802" onMouseOver="hilite(37802)" onMouseOut="lolite()" onClick="logVariable('varList')" href="../../_variables/varList.html">$varList</a>, array <a class="var it37803" onMouseOver="hilite(37803)" onMouseOut="lolite()" onClick="logVariable('getArray')" href="../../_variables/getArray.html">$getArray</a>, <a class="var it37804" onMouseOver="hilite(37804)" onMouseOut="lolite()" onClick="logVariable('GPvarAlt')" href="../../_variables/GPvarAlt.html">$GPvarAlt</a> = TRUE) {
<a name="l1771"><span class="linenum">1771</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it37802" onMouseOver="hilite(37802)" onMouseOut="lolite()" onClick="logVariable('varList')" href="../../_variables/varList.html">$varList</a>, 1);
<a name="l1772"><span class="linenum">1772</span></a>          <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a> = array();
<a name="l1773"><span class="linenum">1773</span></a>          foreach (<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a> as <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l1774"><span class="linenum">1774</span></a>              if (isset(<a class="var it37803" onMouseOver="hilite(37803)" onMouseOut="lolite()" onClick="logVariable('getArray')" href="../../_variables/getArray.html">$getArray</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>])) {
<a name="l1775"><span class="linenum">1775</span></a>                  <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>] = <a class="var it37803" onMouseOver="hilite(37803)" onMouseOut="lolite()" onClick="logVariable('getArray')" href="../../_variables/getArray.html">$getArray</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>];
<a name="l1776"><span class="linenum">1776</span></a>              } elseif (<a class="var it37804" onMouseOver="hilite(37804)" onMouseOut="lolite()" onClick="logVariable('GPvarAlt')" href="../../_variables/GPvarAlt.html">$GPvarAlt</a>) {
<a name="l1777"><span class="linenum">1777</span></a>                  <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>] = self::<a class="function" onClick="logFunction('_GP')" href="../../_functions/_gp.html" onMouseOver="funcPopup(event,'_gp')">_GP</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l1778"><span class="linenum">1778</span></a>              }
<a name="l1779"><span class="linenum">1779</span></a>          }
<a name="l1780"><span class="linenum">1780</span></a>          return <a class="var it2023" onMouseOver="hilite(2023)" onMouseOut="lolite()" onClick="logVariable('outArr')" href="../../_variables/outArr.html">$outArr</a>;
<a name="l1781"><span class="linenum">1781</span></a>      }
<a name="l1782"><span class="linenum">1782</span></a>  
<a name="l1783"><span class="linenum">1783</span></a>      <span class="comment">/**</span>
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">     * AddSlash array</span>
<a name="l1785"><span class="linenum">1785</span></a>  <span class="comment">     * This function traverses a multidimensional array and adds slashes to the values.</span>
<a name="l1786"><span class="linenum">1786</span></a>  <span class="comment">     * NOTE that the input array is and argument by reference.!!</span>
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment">     * Twin-function to stripSlashesOnArray</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment">     *</span>
<a name="l1789"><span class="linenum">1789</span></a>  <span class="comment">     * @param array $theArray Multidimensional input array, (REFERENCE!)</span>
<a name="l1790"><span class="linenum">1790</span></a>  <span class="comment">     * @return array</span>
<a name="l1791"><span class="linenum">1791</span></a>  <span class="comment">     */</span>
<a name="l1792"><span class="linenum">1792</span></a>  	public static function <a class="function" onClick="logFunction('addSlashesOnArray')" href="../../_functions/addslashesonarray.html" onMouseOver="funcPopup(event,'addslashesonarray')">addSlashesOnArray</a>(array &amp;<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a>) {
<a name="l1793"><span class="linenum">1793</span></a>          foreach (<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a> as &amp;<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1794"><span class="linenum">1794</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1795"><span class="linenum">1795</span></a>                  self::<a class="function" onClick="logFunction('addSlashesOnArray')" href="../../_functions/addslashesonarray.html" onMouseOver="funcPopup(event,'addslashesonarray')">addSlashesOnArray</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1796"><span class="linenum">1796</span></a>              } else {
<a name="l1797"><span class="linenum">1797</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1798"><span class="linenum">1798</span></a>              }
<a name="l1799"><span class="linenum">1799</span></a>          }
<a name="l1800"><span class="linenum">1800</span></a>          unset(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1801"><span class="linenum">1801</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a>);
<a name="l1802"><span class="linenum">1802</span></a>      }
<a name="l1803"><span class="linenum">1803</span></a>  
<a name="l1804"><span class="linenum">1804</span></a>      <span class="comment">/**</span>
<a name="l1805"><span class="linenum">1805</span></a>  <span class="comment">     * StripSlash array</span>
<a name="l1806"><span class="linenum">1806</span></a>  <span class="comment">     * This function traverses a multidimensional array and strips slashes to the values.</span>
<a name="l1807"><span class="linenum">1807</span></a>  <span class="comment">     * NOTE that the input array is and argument by reference.!!</span>
<a name="l1808"><span class="linenum">1808</span></a>  <span class="comment">     * Twin-function to addSlashesOnArray</span>
<a name="l1809"><span class="linenum">1809</span></a>  <span class="comment">     *</span>
<a name="l1810"><span class="linenum">1810</span></a>  <span class="comment">     * @param array $theArray Multidimensional input array, (REFERENCE!)</span>
<a name="l1811"><span class="linenum">1811</span></a>  <span class="comment">     * @return array</span>
<a name="l1812"><span class="linenum">1812</span></a>  <span class="comment">     */</span>
<a name="l1813"><span class="linenum">1813</span></a>  	public static function <a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(array &amp;<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a>) {
<a name="l1814"><span class="linenum">1814</span></a>          foreach (<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a> as &amp;<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1815"><span class="linenum">1815</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1816"><span class="linenum">1816</span></a>                  self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1817"><span class="linenum">1817</span></a>              } else {
<a name="l1818"><span class="linenum">1818</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('stripslashes')" href="../../_functions/stripslashes.html" onMouseOver="phpfuncPopup(event,'stripslashes')">stripslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1819"><span class="linenum">1819</span></a>              }
<a name="l1820"><span class="linenum">1820</span></a>          }
<a name="l1821"><span class="linenum">1821</span></a>          unset(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1822"><span class="linenum">1822</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it37793" onMouseOver="hilite(37793)" onMouseOut="lolite()" onClick="logVariable('theArray')" href="../../_variables/theArray.html">$theArray</a>);
<a name="l1823"><span class="linenum">1823</span></a>      }
<a name="l1824"><span class="linenum">1824</span></a>  
<a name="l1825"><span class="linenum">1825</span></a>      <span class="comment">/**</span>
<a name="l1826"><span class="linenum">1826</span></a>  <span class="comment">     * Either slashes ($cmd=add) or strips ($cmd=strip) array $arr depending on $cmd</span>
<a name="l1827"><span class="linenum">1827</span></a>  <span class="comment">     *</span>
<a name="l1828"><span class="linenum">1828</span></a>  <span class="comment">     * @param array $arr Multidimensional input array</span>
<a name="l1829"><span class="linenum">1829</span></a>  <span class="comment">     * @param string $cmd &quot;add&quot; or &quot;strip&quot;, depending on usage you wish.</span>
<a name="l1830"><span class="linenum">1830</span></a>  <span class="comment">     * @return array</span>
<a name="l1831"><span class="linenum">1831</span></a>  <span class="comment">     */</span>
<a name="l1832"><span class="linenum">1832</span></a>  	public static function <a class="function" onClick="logFunction('slashArray')" href="../../_functions/slasharray.html" onMouseOver="funcPopup(event,'slasharray')">slashArray</a>(array <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>, <a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a>) {
<a name="l1833"><span class="linenum">1833</span></a>          if (<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a> == 'strip') {
<a name="l1834"><span class="linenum">1834</span></a>              self::<a class="function" onClick="logFunction('stripSlashesOnArray')" href="../../_functions/stripslashesonarray.html" onMouseOver="funcPopup(event,'stripslashesonarray')">stripSlashesOnArray</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1835"><span class="linenum">1835</span></a>          }
<a name="l1836"><span class="linenum">1836</span></a>          if (<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../_variables/cmd.html">$cmd</a> == 'add') {
<a name="l1837"><span class="linenum">1837</span></a>              self::<a class="function" onClick="logFunction('addSlashesOnArray')" href="../../_functions/addslashesonarray.html" onMouseOver="funcPopup(event,'addslashesonarray')">addSlashesOnArray</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1838"><span class="linenum">1838</span></a>          }
<a name="l1839"><span class="linenum">1839</span></a>          return <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>;
<a name="l1840"><span class="linenum">1840</span></a>      }
<a name="l1841"><span class="linenum">1841</span></a>  
<a name="l1842"><span class="linenum">1842</span></a>      <span class="comment">/**</span>
<a name="l1843"><span class="linenum">1843</span></a>  <span class="comment">     * Rename Array keys with a given mapping table</span>
<a name="l1844"><span class="linenum">1844</span></a>  <span class="comment">     *</span>
<a name="l1845"><span class="linenum">1845</span></a>  <span class="comment">     * @param array    $array Array by reference which should be remapped</span>
<a name="l1846"><span class="linenum">1846</span></a>  <span class="comment">     * @param array    $mappingTable Array with remap information, array/$oldKey =&gt; $newKey)</span>
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment">     */</span>
<a name="l1848"><span class="linenum">1848</span></a>  	public static function <a class="function" onClick="logFunction('remapArrayKeys')" href="../../_functions/remaparraykeys.html" onMouseOver="funcPopup(event,'remaparraykeys')">remapArrayKeys</a>(&amp;<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it37805" onMouseOver="hilite(37805)" onMouseOut="lolite()" onClick="logVariable('mappingTable')" href="../../_variables/mappingTable.html">$mappingTable</a>) {
<a name="l1849"><span class="linenum">1849</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37805" onMouseOver="hilite(37805)" onMouseOut="lolite()" onClick="logVariable('mappingTable')" href="../../_variables/mappingTable.html">$mappingTable</a>)) {
<a name="l1850"><span class="linenum">1850</span></a>              foreach (<a class="var it37805" onMouseOver="hilite(37805)" onMouseOut="lolite()" onClick="logVariable('mappingTable')" href="../../_variables/mappingTable.html">$mappingTable</a> as <a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../_variables/old.html">$old</a> =&gt; <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../_variables/new.html">$new</a>) {
<a name="l1851"><span class="linenum">1851</span></a>                  if (<a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../_variables/new.html">$new</a> &amp;&amp; isset(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../_variables/old.html">$old</a>])) {
<a name="l1852"><span class="linenum">1852</span></a>                      <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('new')" href="../../_variables/new.html">$new</a>] = <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../_variables/old.html">$old</a>];
<a name="l1853"><span class="linenum">1853</span></a>                      unset (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it477" onMouseOver="hilite(477)" onMouseOut="lolite()" onClick="logVariable('old')" href="../../_variables/old.html">$old</a>]);
<a name="l1854"><span class="linenum">1854</span></a>                  }
<a name="l1855"><span class="linenum">1855</span></a>              }
<a name="l1856"><span class="linenum">1856</span></a>          }
<a name="l1857"><span class="linenum">1857</span></a>      }
<a name="l1858"><span class="linenum">1858</span></a>  
<a name="l1859"><span class="linenum">1859</span></a>  
<a name="l1860"><span class="linenum">1860</span></a>      <span class="comment">/**</span>
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment">     * Merges two arrays recursively and &quot;binary safe&quot; (integer keys are</span>
<a name="l1862"><span class="linenum">1862</span></a>  <span class="comment">     * overridden as well), overruling similar values in the first array</span>
<a name="l1863"><span class="linenum">1863</span></a>  <span class="comment">     * ($arr0) with the values of the second array ($arr1)</span>
<a name="l1864"><span class="linenum">1864</span></a>  <span class="comment">     * In case of identical keys, ie. keeping the values of the second.</span>
<a name="l1865"><span class="linenum">1865</span></a>  <span class="comment">     *</span>
<a name="l1866"><span class="linenum">1866</span></a>  <span class="comment">     * @param array $arr0 First array</span>
<a name="l1867"><span class="linenum">1867</span></a>  <span class="comment">     * @param array $arr1 Second array, overruling the first array</span>
<a name="l1868"><span class="linenum">1868</span></a>  <span class="comment">     * @param boolean $notAddKeys If set, keys that are NOT found in $arr0 (first array) will not be set. Thus only existing value can/will be overruled from second array.</span>
<a name="l1869"><span class="linenum">1869</span></a>  <span class="comment">     * @param boolean $includeEmptyValues If set, values from $arr1 will overrule if they are empty or zero. Default: TRUE</span>
<a name="l1870"><span class="linenum">1870</span></a>  <span class="comment">     * @param boolean $enableUnsetFeature If set, special values &quot;__UNSET&quot; can be used in the second array in order to unset array keys in the resulting array.</span>
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">     * @return array Resulting array where $arr1 values has overruled $arr0 values</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment">     */</span>
<a name="l1873"><span class="linenum">1873</span></a>  	public static function <a class="function" onClick="logFunction('array_merge_recursive_overrule')" href="../../_functions/array_merge_recursive_overrule.html" onMouseOver="funcPopup(event,'array_merge_recursive_overrule')">array_merge_recursive_overrule</a>(array <a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>, array <a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a>, <a class="var it37808" onMouseOver="hilite(37808)" onMouseOut="lolite()" onClick="logVariable('notAddKeys')" href="../../_variables/notAddKeys.html">$notAddKeys</a> = FALSE, <a class="var it37809" onMouseOver="hilite(37809)" onMouseOut="lolite()" onClick="logVariable('includeEmptyValues')" href="../../_variables/includeEmptyValues.html">$includeEmptyValues</a> = TRUE, <a class="var it37810" onMouseOver="hilite(37810)" onMouseOut="lolite()" onClick="logVariable('enableUnsetFeature')" href="../../_variables/enableUnsetFeature.html">$enableUnsetFeature</a> = TRUE) {
<a name="l1874"><span class="linenum">1874</span></a>          foreach (<a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l1875"><span class="linenum">1875</span></a>              if (<a class="var it37810" onMouseOver="hilite(37810)" onMouseOut="lolite()" onClick="logVariable('enableUnsetFeature')" href="../../_variables/enableUnsetFeature.html">$enableUnsetFeature</a> &amp;&amp; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> === '__UNSET') {
<a name="l1876"><span class="linenum">1876</span></a>                  unset(<a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]);
<a name="l1877"><span class="linenum">1877</span></a>                  continue;
<a name="l1878"><span class="linenum">1878</span></a>              }
<a name="l1879"><span class="linenum">1879</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l1880"><span class="linenum">1880</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l1881"><span class="linenum">1881</span></a>                      <a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('array_merge_recursive_overrule')" href="../../_functions/array_merge_recursive_overrule.html" onMouseOver="funcPopup(event,'array_merge_recursive_overrule')">array_merge_recursive_overrule</a>(
<a name="l1882"><span class="linenum">1882</span></a>                          <a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>],
<a name="l1883"><span class="linenum">1883</span></a>                          <a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>],
<a name="l1884"><span class="linenum">1884</span></a>                          <a class="var it37808" onMouseOver="hilite(37808)" onMouseOut="lolite()" onClick="logVariable('notAddKeys')" href="../../_variables/notAddKeys.html">$notAddKeys</a>,
<a name="l1885"><span class="linenum">1885</span></a>                          <a class="var it37809" onMouseOver="hilite(37809)" onMouseOut="lolite()" onClick="logVariable('includeEmptyValues')" href="../../_variables/includeEmptyValues.html">$includeEmptyValues</a>,
<a name="l1886"><span class="linenum">1886</span></a>                          <a class="var it37810" onMouseOver="hilite(37810)" onMouseOut="lolite()" onClick="logVariable('enableUnsetFeature')" href="../../_variables/enableUnsetFeature.html">$enableUnsetFeature</a>
<a name="l1887"><span class="linenum">1887</span></a>                      );
<a name="l1888"><span class="linenum">1888</span></a>                  }
<a name="l1889"><span class="linenum">1889</span></a>              } elseif (
<a name="l1890"><span class="linenum">1890</span></a>                  (!<a class="var it37808" onMouseOver="hilite(37808)" onMouseOut="lolite()" onClick="logVariable('notAddKeys')" href="../../_variables/notAddKeys.html">$notAddKeys</a> || isset(<a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) &amp;&amp;
<a name="l1891"><span class="linenum">1891</span></a>                  (<a class="var it37809" onMouseOver="hilite(37809)" onMouseOut="lolite()" onClick="logVariable('includeEmptyValues')" href="../../_variables/includeEmptyValues.html">$includeEmptyValues</a> || <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>)
<a name="l1892"><span class="linenum">1892</span></a>              ) {
<a name="l1893"><span class="linenum">1893</span></a>                  <a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>;
<a name="l1894"><span class="linenum">1894</span></a>              }
<a name="l1895"><span class="linenum">1895</span></a>          }
<a name="l1896"><span class="linenum">1896</span></a>  
<a name="l1897"><span class="linenum">1897</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>);
<a name="l1898"><span class="linenum">1898</span></a>          return <a class="var it37806" onMouseOver="hilite(37806)" onMouseOut="lolite()" onClick="logVariable('arr0')" href="../../_variables/arr0.html">$arr0</a>;
<a name="l1899"><span class="linenum">1899</span></a>      }
<a name="l1900"><span class="linenum">1900</span></a>  
<a name="l1901"><span class="linenum">1901</span></a>      <span class="comment">/**</span>
<a name="l1902"><span class="linenum">1902</span></a>  <span class="comment">     * An array_merge function where the keys are NOT renumbered as they happen to be with the real php-array_merge function. It is &quot;binary safe&quot; in the sense that integer keys are overridden as well.</span>
<a name="l1903"><span class="linenum">1903</span></a>  <span class="comment">     *</span>
<a name="l1904"><span class="linenum">1904</span></a>  <span class="comment">     * @param array $arr1 First array</span>
<a name="l1905"><span class="linenum">1905</span></a>  <span class="comment">     * @param array $arr2 Second array</span>
<a name="l1906"><span class="linenum">1906</span></a>  <span class="comment">     * @return array Merged result.</span>
<a name="l1907"><span class="linenum">1907</span></a>  <span class="comment">     */</span>
<a name="l1908"><span class="linenum">1908</span></a>  	public static function <a class="function" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="funcPopup(event,'array_merge')">array_merge</a>(array <a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a>, array <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../_variables/arr2.html">$arr2</a>) {
<a name="l1909"><span class="linenum">1909</span></a>          return <a class="var it67" onMouseOver="hilite(67)" onMouseOut="lolite()" onClick="logVariable('arr2')" href="../../_variables/arr2.html">$arr2</a> + <a class="var it37807" onMouseOver="hilite(37807)" onMouseOut="lolite()" onClick="logVariable('arr1')" href="../../_variables/arr1.html">$arr1</a>;
<a name="l1910"><span class="linenum">1910</span></a>      }
<a name="l1911"><span class="linenum">1911</span></a>  
<a name="l1912"><span class="linenum">1912</span></a>      <span class="comment">/**</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">     * Filters keys off from first array that also exist in second array. Comparison is done by keys.</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">     * This method is a recursive version of php array_diff_assoc()</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">     *</span>
<a name="l1916"><span class="linenum">1916</span></a>  <span class="comment">     * @param array $array1 Source array</span>
<a name="l1917"><span class="linenum">1917</span></a>  <span class="comment">     * @param array $array2 Reduce source array by this array</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">     * @return array Source array reduced by keys also present in second array</span>
<a name="l1919"><span class="linenum">1919</span></a>  <span class="comment">     */</span>
<a name="l1920"><span class="linenum">1920</span></a>  	public static function <a class="function" onClick="logFunction('arrayDiffAssocRecursive')" href="../../_functions/arraydiffassocrecursive.html" onMouseOver="funcPopup(event,'arraydiffassocrecursive')">arrayDiffAssocRecursive</a>(array <a class="var it7385" onMouseOver="hilite(7385)" onMouseOut="lolite()" onClick="logVariable('array1')" href="../../_variables/array1.html">$array1</a>, array <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('array2')" href="../../_variables/array2.html">$array2</a>) {
<a name="l1921"><span class="linenum">1921</span></a>          <a class="var it37811" onMouseOver="hilite(37811)" onMouseOut="lolite()" onClick="logVariable('differenceArray')" href="../../_variables/differenceArray.html">$differenceArray</a> = array();
<a name="l1922"><span class="linenum">1922</span></a>          foreach (<a class="var it7385" onMouseOver="hilite(7385)" onMouseOut="lolite()" onClick="logVariable('array1')" href="../../_variables/array1.html">$array1</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1923"><span class="linenum">1923</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('array2')" href="../../_variables/array2.html">$array2</a>)) {
<a name="l1924"><span class="linenum">1924</span></a>                  <a class="var it37811" onMouseOver="hilite(37811)" onMouseOut="lolite()" onClick="logVariable('differenceArray')" href="../../_variables/differenceArray.html">$differenceArray</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1925"><span class="linenum">1925</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1926"><span class="linenum">1926</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('array2')" href="../../_variables/array2.html">$array2</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l1927"><span class="linenum">1927</span></a>                      <a class="var it37811" onMouseOver="hilite(37811)" onMouseOut="lolite()" onClick="logVariable('differenceArray')" href="../../_variables/differenceArray.html">$differenceArray</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('arrayDiffAssocRecursive')" href="../../_functions/arraydiffassocrecursive.html" onMouseOver="funcPopup(event,'arraydiffassocrecursive')">arrayDiffAssocRecursive</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('array2')" href="../../_variables/array2.html">$array2</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]);
<a name="l1928"><span class="linenum">1928</span></a>                  }
<a name="l1929"><span class="linenum">1929</span></a>              }
<a name="l1930"><span class="linenum">1930</span></a>          }
<a name="l1931"><span class="linenum">1931</span></a>  
<a name="l1932"><span class="linenum">1932</span></a>          return <a class="var it37811" onMouseOver="hilite(37811)" onMouseOut="lolite()" onClick="logVariable('differenceArray')" href="../../_variables/differenceArray.html">$differenceArray</a>;
<a name="l1933"><span class="linenum">1933</span></a>      }
<a name="l1934"><span class="linenum">1934</span></a>  
<a name="l1935"><span class="linenum">1935</span></a>      <span class="comment">/**</span>
<a name="l1936"><span class="linenum">1936</span></a>  <span class="comment">     * Takes a row and returns a CSV string of the values with $delim (default is ,) and $quote (default is &quot;) as separator chars.</span>
<a name="l1937"><span class="linenum">1937</span></a>  <span class="comment">     *</span>
<a name="l1938"><span class="linenum">1938</span></a>  <span class="comment">     * @param array $row Input array of values</span>
<a name="l1939"><span class="linenum">1939</span></a>  <span class="comment">     * @param string $delim Delimited, default is comma</span>
<a name="l1940"><span class="linenum">1940</span></a>  <span class="comment">     * @param string $quote Quote-character to wrap around the values.</span>
<a name="l1941"><span class="linenum">1941</span></a>  <span class="comment">     * @return string A single line of CSV</span>
<a name="l1942"><span class="linenum">1942</span></a>  <span class="comment">     */</span>
<a name="l1943"><span class="linenum">1943</span></a>  	public static function <a class="function" onClick="logFunction('csvValues')" href="../../_functions/csvvalues.html" onMouseOver="funcPopup(event,'csvvalues')">csvValues</a>(array <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>, <a class="var it15616" onMouseOver="hilite(15616)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../../_variables/delim.html">$delim</a> = ',', <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a> = '&quot;') {
<a name="l1944"><span class="linenum">1944</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = array();
<a name="l1945"><span class="linenum">1945</span></a>          foreach (<a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1946"><span class="linenum">1946</span></a>              <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>[] = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a>, <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a> . <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1947"><span class="linenum">1947</span></a>          }
<a name="l1948"><span class="linenum">1948</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a> . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a> . <a class="var it15616" onMouseOver="hilite(15616)" onMouseOut="lolite()" onClick="logVariable('delim')" href="../../_variables/delim.html">$delim</a> . <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a>, <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>) . <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('quote')" href="../../_variables/quote.html">$quote</a>;
<a name="l1949"><span class="linenum">1949</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1950"><span class="linenum">1950</span></a>      }
<a name="l1951"><span class="linenum">1951</span></a>  
<a name="l1952"><span class="linenum">1952</span></a>      <span class="comment">/**</span>
<a name="l1953"><span class="linenum">1953</span></a>  <span class="comment">     * Removes dots &quot;.&quot; from end of a key identifier of TypoScript styled array.</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">     * array('key.' =&gt; array('property.' =&gt; 'value')) --&gt; array('key' =&gt; array('property' =&gt; 'value'))</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">     *</span>
<a name="l1956"><span class="linenum">1956</span></a>  <span class="comment">     * @param array $ts: TypoScript configuration array</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment">     * @return array TypoScript configuration array without dots at the end of all keys</span>
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment">     */</span>
<a name="l1959"><span class="linenum">1959</span></a>  	public static function <a class="function" onClick="logFunction('removeDotsFromTS')" href="../../_functions/removedotsfromts.html" onMouseOver="funcPopup(event,'removedotsfromts')">removeDotsFromTS</a>(array <a class="var it5701" onMouseOver="hilite(5701)" onMouseOut="lolite()" onClick="logVariable('ts')" href="../../_variables/ts.html">$ts</a>) {
<a name="l1960"><span class="linenum">1960</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = array();
<a name="l1961"><span class="linenum">1961</span></a>          foreach (<a class="var it5701" onMouseOver="hilite(5701)" onMouseOut="lolite()" onClick="logVariable('ts')" href="../../_variables/ts.html">$ts</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1962"><span class="linenum">1962</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l1963"><span class="linenum">1963</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, '.');
<a name="l1964"><span class="linenum">1964</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('removeDotsFromTS')" href="../../_functions/removedotsfromts.html" onMouseOver="funcPopup(event,'removedotsfromts')">removeDotsFromTS</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1965"><span class="linenum">1965</span></a>              } else {
<a name="l1966"><span class="linenum">1966</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1967"><span class="linenum">1967</span></a>              }
<a name="l1968"><span class="linenum">1968</span></a>          }
<a name="l1969"><span class="linenum">1969</span></a>          return <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l1970"><span class="linenum">1970</span></a>      }
<a name="l1971"><span class="linenum">1971</span></a>  
<a name="l1972"><span class="linenum">1972</span></a>      <span class="comment">/**</span>
<a name="l1973"><span class="linenum">1973</span></a>  <span class="comment">     * Sorts an array by key recursive - uses natural sort order (aAbB-zZ)</span>
<a name="l1974"><span class="linenum">1974</span></a>  <span class="comment">     *</span>
<a name="l1975"><span class="linenum">1975</span></a>  <span class="comment">     * @param array $array array to be sorted recursively, passed by reference</span>
<a name="l1976"><span class="linenum">1976</span></a>  <span class="comment">     * @return boolean TRUE if param is an array</span>
<a name="l1977"><span class="linenum">1977</span></a>  <span class="comment">     */</span>
<a name="l1978"><span class="linenum">1978</span></a>  	public static function <a class="function" onClick="logFunction('naturalKeySortRecursive')" href="../../_functions/naturalkeysortrecursive.html" onMouseOver="funcPopup(event,'naturalkeysortrecursive')">naturalKeySortRecursive</a>(&amp;<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>) {
<a name="l1979"><span class="linenum">1979</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>)) {
<a name="l1980"><span class="linenum">1980</span></a>              return FALSE;
<a name="l1981"><span class="linenum">1981</span></a>          }
<a name="l1982"><span class="linenum">1982</span></a>          <a class="phpfunction" onClick="logFunction('uksort')" href="../../_functions/uksort.html" onMouseOver="phpfuncPopup(event,'uksort')">uksort</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, 'strnatcasecmp');
<a name="l1983"><span class="linenum">1983</span></a>          foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1984"><span class="linenum">1984</span></a>              self::<a class="function" onClick="logFunction('naturalKeySortRecursive')" href="../../_functions/naturalkeysortrecursive.html" onMouseOver="funcPopup(event,'naturalkeysortrecursive')">naturalKeySortRecursive</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]);
<a name="l1985"><span class="linenum">1985</span></a>          }
<a name="l1986"><span class="linenum">1986</span></a>          return TRUE;
<a name="l1987"><span class="linenum">1987</span></a>      }
<a name="l1988"><span class="linenum">1988</span></a>  
<a name="l1989"><span class="linenum">1989</span></a>  
<a name="l1990"><span class="linenum">1990</span></a>      <span class="comment">/*************************</span>
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">     *</span>
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">     * HTML/XML PROCESSING</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment">     *</span>
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment">     *************************/</span>
<a name="l1995"><span class="linenum">1995</span></a>  
<a name="l1996"><span class="linenum">1996</span></a>      <span class="comment">/**</span>
<a name="l1997"><span class="linenum">1997</span></a>  <span class="comment">     * Returns an array with all attributes of the input HTML tag as key/value pairs. Attributes are only lowercase a-z</span>
<a name="l1998"><span class="linenum">1998</span></a>  <span class="comment">     * $tag is either a whole tag (eg '&lt;TAG OPTION ATTRIB=VALUE&gt;') or the parameter list (ex ' OPTION ATTRIB=VALUE&gt;')</span>
<a name="l1999"><span class="linenum">1999</span></a>  <span class="comment">     * If an attribute is empty, then the value for the key is empty. You can check if it existed with isset()</span>
<a name="l2000"><span class="linenum">2000</span></a>  <span class="comment">     *</span>
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment">     * @param string $tag HTML-tag string (or attributes only)</span>
<a name="l2002"><span class="linenum">2002</span></a>  <span class="comment">     * @return array Array with the attribute values.</span>
<a name="l2003"><span class="linenum">2003</span></a>  <span class="comment">     */</span>
<a name="l2004"><span class="linenum">2004</span></a>  	public static function <a class="function" onClick="logFunction('get_tag_attributes')" href="../../_functions/get_tag_attributes.html" onMouseOver="funcPopup(event,'get_tag_attributes')">get_tag_attributes</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../_variables/tag.html">$tag</a>) {
<a name="l2005"><span class="linenum">2005</span></a>          <a class="var it1417" onMouseOver="hilite(1417)" onMouseOut="lolite()" onClick="logVariable('components')" href="../../_variables/components.html">$components</a> = self::<a class="function" onClick="logFunction('split_tag_attributes')" href="../../_functions/split_tag_attributes.html" onMouseOver="funcPopup(event,'split_tag_attributes')">split_tag_attributes</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../_variables/tag.html">$tag</a>);
<a name="l2006"><span class="linenum">2006</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = ''; <span class="comment">// attribute name is stored here</span>
<a name="l2007"><span class="linenum">2007</span></a>          <a class="var it37812" onMouseOver="hilite(37812)" onMouseOut="lolite()" onClick="logVariable('valuemode')" href="../../_variables/valuemode.html">$valuemode</a> = FALSE;
<a name="l2008"><span class="linenum">2008</span></a>          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a> = array();
<a name="l2009"><span class="linenum">2009</span></a>          foreach (<a class="var it1417" onMouseOver="hilite(1417)" onMouseOut="lolite()" onClick="logVariable('components')" href="../../_variables/components.html">$components</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l2010"><span class="linenum">2010</span></a>              if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> != '=') { // Only if <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> is <a class="function" onClick="logFunction('set')" href="../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a> (if there is an attribute, that waits for a value), that valuemode is enabled. This ensures that the attribute is assigned it's value
<a name="l2011"><span class="linenum">2011</span></a>                  if (<a class="var it37812" onMouseOver="hilite(37812)" onMouseOut="lolite()" onClick="logVariable('valuemode')" href="../../_variables/valuemode.html">$valuemode</a>) {
<a name="l2012"><span class="linenum">2012</span></a>                      if (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l2013"><span class="linenum">2013</span></a>                          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>;
<a name="l2014"><span class="linenum">2014</span></a>                          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = '';
<a name="l2015"><span class="linenum">2015</span></a>                      }
<a name="l2016"><span class="linenum">2016</span></a>                  } else {
<a name="l2017"><span class="linenum">2017</span></a>                      if (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/[^[:alnum:]_\:\-]/', '', <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>))) {
<a name="l2018"><span class="linenum">2018</span></a>                          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = '';
<a name="l2019"><span class="linenum">2019</span></a>                          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l2020"><span class="linenum">2020</span></a>                      }
<a name="l2021"><span class="linenum">2021</span></a>                  }
<a name="l2022"><span class="linenum">2022</span></a>                  <a class="var it37812" onMouseOver="hilite(37812)" onMouseOut="lolite()" onClick="logVariable('valuemode')" href="../../_variables/valuemode.html">$valuemode</a> = FALSE;
<a name="l2023"><span class="linenum">2023</span></a>              } else {
<a name="l2024"><span class="linenum">2024</span></a>                  <a class="var it37812" onMouseOver="hilite(37812)" onMouseOut="lolite()" onClick="logVariable('valuemode')" href="../../_variables/valuemode.html">$valuemode</a> = TRUE;
<a name="l2025"><span class="linenum">2025</span></a>              }
<a name="l2026"><span class="linenum">2026</span></a>          }
<a name="l2027"><span class="linenum">2027</span></a>          return <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../_variables/attributes.html">$attributes</a>;
<a name="l2028"><span class="linenum">2028</span></a>      }
<a name="l2029"><span class="linenum">2029</span></a>  
<a name="l2030"><span class="linenum">2030</span></a>      <span class="comment">/**</span>
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment">     * Returns an array with the 'components' from an attribute list from an HTML tag. The result is normally analyzed by get_tag_attributes</span>
<a name="l2032"><span class="linenum">2032</span></a>  <span class="comment">     * Removes tag-name if found</span>
<a name="l2033"><span class="linenum">2033</span></a>  <span class="comment">     *</span>
<a name="l2034"><span class="linenum">2034</span></a>  <span class="comment">     * @param string $tag HTML-tag string (or attributes only)</span>
<a name="l2035"><span class="linenum">2035</span></a>  <span class="comment">     * @return array Array with the attribute values.</span>
<a name="l2036"><span class="linenum">2036</span></a>  <span class="comment">     */</span>
<a name="l2037"><span class="linenum">2037</span></a>  	public static function <a class="function" onClick="logFunction('split_tag_attributes')" href="../../_functions/split_tag_attributes.html" onMouseOver="funcPopup(event,'split_tag_attributes')">split_tag_attributes</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../_variables/tag.html">$tag</a>) {
<a name="l2038"><span class="linenum">2038</span></a>          <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^&lt;[^[:space:]]*/', '', <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../../_variables/tag.html">$tag</a>)));
<a name="l2039"><span class="linenum">2039</span></a>  <span class="comment">            // Removes any &gt; in the end of the string</span>
<a name="l2040"><span class="linenum">2040</span></a>          <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('rtrim')" href="../../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, '&gt;'));
<a name="l2041"><span class="linenum">2041</span></a>  
<a name="l2042"><span class="linenum">2042</span></a>          <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = array();
<a name="l2043"><span class="linenum">2043</span></a>          while (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, '')) { // Compared with empty string instead , 030102
<a name="l2044"><span class="linenum">2044</span></a>              <a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, 0, 1);
<a name="l2045"><span class="linenum">2045</span></a>              if (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a>, '&quot;') || !<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a>, &quot;'&quot;)) {
<a name="l2046"><span class="linenum">2046</span></a>                  <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a>, <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, 3);
<a name="l2047"><span class="linenum">2047</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>[] = <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[1];
<a name="l2048"><span class="linenum">2048</span></a>                  <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[2]);
<a name="l2049"><span class="linenum">2049</span></a>              } elseif (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it2059" onMouseOver="hilite(2059)" onMouseOut="lolite()" onClick="logVariable('firstChar')" href="../../_variables/firstChar.html">$firstChar</a>, '=')) {
<a name="l2050"><span class="linenum">2050</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>[] = '=';
<a name="l2051"><span class="linenum">2051</span></a>                  <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, 1)); <span class="comment">// Removes = chars.</span>
<a name="l2052"><span class="linenum">2052</span></a>              } else {
<a name="l2053"><span class="linenum">2053</span></a>  <span class="comment">                    // There are '' around the value. We look for the next ' ' or '&gt;'</span>
<a name="l2054"><span class="linenum">2054</span></a>                  <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a> = <a class="phpfunction" onClick="logFunction('preg_split')" href="../../_functions/preg_split.html" onMouseOver="phpfuncPopup(event,'preg_split')">preg_split</a>('/[[:space:]=]/', <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, 2);
<a name="l2055"><span class="linenum">2055</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>[] = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[0]);
<a name="l2056"><span class="linenum">2056</span></a>                  <a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37813" onMouseOver="hilite(37813)" onMouseOut="lolite()" onClick="logVariable('tag_tmp')" href="../../_variables/tag_tmp.html">$tag_tmp</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[0]), 1) . <a class="var it5992" onMouseOver="hilite(5992)" onMouseOut="lolite()" onClick="logVariable('reg')" href="../../_variables/reg.html">$reg</a>[1]);
<a name="l2057"><span class="linenum">2057</span></a>              }
<a name="l2058"><span class="linenum">2058</span></a>          }
<a name="l2059"><span class="linenum">2059</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l2060"><span class="linenum">2060</span></a>          return <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l2061"><span class="linenum">2061</span></a>      }
<a name="l2062"><span class="linenum">2062</span></a>  
<a name="l2063"><span class="linenum">2063</span></a>      <span class="comment">/**</span>
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">     * Implodes attributes in the array $arr for an attribute list in eg. and HTML tag (with quotes)</span>
<a name="l2065"><span class="linenum">2065</span></a>  <span class="comment">     *</span>
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment">     * @param array $arr Array with attribute key/value pairs, eg. &quot;bgcolor&quot;=&gt;&quot;red&quot;, &quot;border&quot;=&gt;0</span>
<a name="l2067"><span class="linenum">2067</span></a>  <span class="comment">     * @param boolean $xhtmlSafe If set the resulting attribute list will have a) all attributes in lowercase (and duplicates weeded out, first entry taking precedence) and b) all values htmlspecialchar()'ed. It is recommended to use this switch!</span>
<a name="l2068"><span class="linenum">2068</span></a>  <span class="comment">     * @param boolean $dontOmitBlankAttribs If TRUE, don't check if values are blank. Default is to omit attributes with blank values.</span>
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment">     * @return string Imploded attributes, eg. 'bgcolor=&quot;red&quot; border=&quot;0&quot;'</span>
<a name="l2070"><span class="linenum">2070</span></a>  <span class="comment">     */</span>
<a name="l2071"><span class="linenum">2071</span></a>  	public static function <a class="function" onClick="logFunction('implodeAttributes')" href="../../_functions/implodeattributes.html" onMouseOver="funcPopup(event,'implodeattributes')">implodeAttributes</a>(array <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>, <a class="var it37814" onMouseOver="hilite(37814)" onMouseOut="lolite()" onClick="logVariable('xhtmlSafe')" href="../../_variables/xhtmlSafe.html">$xhtmlSafe</a> = FALSE, <a class="var it37815" onMouseOver="hilite(37815)" onMouseOut="lolite()" onClick="logVariable('dontOmitBlankAttribs')" href="../../_variables/dontOmitBlankAttribs.html">$dontOmitBlankAttribs</a> = FALSE) {
<a name="l2072"><span class="linenum">2072</span></a>          if (<a class="var it37814" onMouseOver="hilite(37814)" onMouseOut="lolite()" onClick="logVariable('xhtmlSafe')" href="../../_variables/xhtmlSafe.html">$xhtmlSafe</a>) {
<a name="l2073"><span class="linenum">2073</span></a>              <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a> = array();
<a name="l2074"><span class="linenum">2074</span></a>              foreach (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> as <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l2075"><span class="linenum">2075</span></a>                  if (!isset(<a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a>[<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>)])) {
<a name="l2076"><span class="linenum">2076</span></a>                      <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a>[<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>)] = <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l2077"><span class="linenum">2077</span></a>                  }
<a name="l2078"><span class="linenum">2078</span></a>              }
<a name="l2079"><span class="linenum">2079</span></a>              <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> = <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a>;
<a name="l2080"><span class="linenum">2080</span></a>          }
<a name="l2081"><span class="linenum">2081</span></a>          <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> = array();
<a name="l2082"><span class="linenum">2082</span></a>          foreach (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> as <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l2083"><span class="linenum">2083</span></a>              if (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, '') || <a class="var it37815" onMouseOver="hilite(37815)" onMouseOut="lolite()" onClick="logVariable('dontOmitBlankAttribs')" href="../../_variables/dontOmitBlankAttribs.html">$dontOmitBlankAttribs</a>) {
<a name="l2084"><span class="linenum">2084</span></a>                  <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>[] = <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> . '=&quot;' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> . '&quot;';
<a name="l2085"><span class="linenum">2085</span></a>              }
<a name="l2086"><span class="linenum">2086</span></a>          }
<a name="l2087"><span class="linenum">2087</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' ', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>);
<a name="l2088"><span class="linenum">2088</span></a>      }
<a name="l2089"><span class="linenum">2089</span></a>  
<a name="l2090"><span class="linenum">2090</span></a>      <span class="comment">/**</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">     * Wraps JavaScript code XHTML ready with &lt;script&gt;-tags</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">     * Automatic re-indenting of the JS code is done by using the first line as indent reference.</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">     * This is nice for indenting JS code with PHP code on the same level.</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">     *</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment">     * @param string $string JavaScript code</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment">     * @param boolean $linebreak Wrap script element in line breaks? Default is TRUE.</span>
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment">     * @return string The wrapped JS code, ready to put into a XHTML page</span>
<a name="l2098"><span class="linenum">2098</span></a>  <span class="comment">     */</span>
<a name="l2099"><span class="linenum">2099</span></a>  	public static function <a class="function" onClick="logFunction('wrapJS')" href="../../_functions/wrapjs.html" onMouseOver="funcPopup(event,'wrapjs')">wrapJS</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a> = TRUE) {
<a name="l2100"><span class="linenum">2100</span></a>          if (<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>)) {
<a name="l2101"><span class="linenum">2101</span></a>  <span class="comment">                // &lt;script wrapped in nl?</span>
<a name="l2102"><span class="linenum">2102</span></a>              <a class="var it20502" onMouseOver="hilite(20502)" onMouseOut="lolite()" onClick="logVariable('cr')" href="../../_variables/cr.html">$cr</a> = <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a> ? LF : '';
<a name="l2103"><span class="linenum">2103</span></a>  
<a name="l2104"><span class="linenum">2104</span></a>  <span class="comment">                // remove nl from the beginning</span>
<a name="l2105"><span class="linenum">2105</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^\n+/', '', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l2106"><span class="linenum">2106</span></a>  <span class="comment">                // re-ident to one tab using the first line as reference</span>
<a name="l2107"><span class="linenum">2107</span></a>              <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a> = array();
<a name="l2108"><span class="linenum">2108</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^(\t+)/', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>)) {
<a name="l2109"><span class="linenum">2109</span></a>                  <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1], <a class="constant" onClick="logConstant('TAB')" href="../../_constants/TAB.html" onMouseOver="constPopup(event,'TAB')">TAB</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l2110"><span class="linenum">2110</span></a>              }
<a name="l2111"><span class="linenum">2111</span></a>              <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="var it20502" onMouseOver="hilite(20502)" onMouseOut="lolite()" onClick="logVariable('cr')" href="../../_variables/cr.html">$cr</a> . '&lt;script type=&quot;text/javascript&quot;&gt;
<a name="l2112"><span class="linenum">2112</span></a>  <span class="comment">/*&lt;![CDATA[*/</span>
<a name="l2113"><span class="linenum">2113</span></a>  ' . <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> . '
<a name="l2114"><span class="linenum">2114</span></a>  <span class="comment">/*]]&gt;*/</span>
<a name="l2115"><span class="linenum">2115</span></a>  &lt;/script&gt;' . <a class="var it20502" onMouseOver="hilite(20502)" onMouseOut="lolite()" onClick="logVariable('cr')" href="../../_variables/cr.html">$cr</a>;
<a name="l2116"><span class="linenum">2116</span></a>          }
<a name="l2117"><span class="linenum">2117</span></a>          return <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>);
<a name="l2118"><span class="linenum">2118</span></a>      }
<a name="l2119"><span class="linenum">2119</span></a>  
<a name="l2120"><span class="linenum">2120</span></a>  
<a name="l2121"><span class="linenum">2121</span></a>      <span class="comment">/**</span>
<a name="l2122"><span class="linenum">2122</span></a>  <span class="comment">     * Parses XML input into a PHP array with associative keys</span>
<a name="l2123"><span class="linenum">2123</span></a>  <span class="comment">     *</span>
<a name="l2124"><span class="linenum">2124</span></a>  <span class="comment">     * @param string $string XML data input</span>
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment">     * @param integer $depth Number of element levels to resolve the XML into an array. Any further structure will be set as XML.</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment">     * @return mixed The array with the parsed structure unless the XML parser returns with an error in which case the error message string is returned.</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment">     * @author bisqwit at iki dot fi dot not dot for dot ads dot invalid / http://dk.php.net/xml_parse_into_struct + kasperYYYY@typo3.com</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">     */</span>
<a name="l2129"><span class="linenum">2129</span></a>  	public static function <a class="function" onClick="logFunction('xml2tree')" href="../../_functions/xml2tree.html" onMouseOver="funcPopup(event,'xml2tree')">xml2tree</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../../_variables/depth.html">$depth</a> = 999) {
<a name="l2130"><span class="linenum">2130</span></a>          <a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a> = <a class="phpfunction" onClick="logFunction('xml_parser_create')" href="../../_functions/xml_parser_create.html" onMouseOver="phpfuncPopup(event,'xml_parser_create')">xml_parser_create</a>();
<a name="l2131"><span class="linenum">2131</span></a>          <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a> = array();
<a name="l2132"><span class="linenum">2132</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> = array();
<a name="l2133"><span class="linenum">2133</span></a>  
<a name="l2134"><span class="linenum">2134</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_set_option')" href="../../_functions/xml_parser_set_option.html" onMouseOver="phpfuncPopup(event,'xml_parser_set_option')">xml_parser_set_option</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, XML_OPTION_CASE_FOLDING, 0);
<a name="l2135"><span class="linenum">2135</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_set_option')" href="../../_functions/xml_parser_set_option.html" onMouseOver="phpfuncPopup(event,'xml_parser_set_option')">xml_parser_set_option</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, XML_OPTION_SKIP_WHITE, 0);
<a name="l2136"><span class="linenum">2136</span></a>          <a class="phpfunction" onClick="logFunction('xml_parse_into_struct')" href="../../_functions/xml_parse_into_struct.html" onMouseOver="phpfuncPopup(event,'xml_parse_into_struct')">xml_parse_into_struct</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a>, <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>);
<a name="l2137"><span class="linenum">2137</span></a>  
<a name="l2138"><span class="linenum">2138</span></a>          if (<a class="phpfunction" onClick="logFunction('xml_get_error_code')" href="../../_functions/xml_get_error_code.html" onMouseOver="phpfuncPopup(event,'xml_get_error_code')">xml_get_error_code</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>)) {
<a name="l2139"><span class="linenum">2139</span></a>              return 'Line ' . <a class="phpfunction" onClick="logFunction('xml_get_current_line_number')" href="../../_functions/xml_get_current_line_number.html" onMouseOver="phpfuncPopup(event,'xml_get_current_line_number')">xml_get_current_line_number</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>) . ': ' . <a class="phpfunction" onClick="logFunction('xml_error_string')" href="../../_functions/xml_error_string.html" onMouseOver="phpfuncPopup(event,'xml_error_string')">xml_error_string</a>(<a class="phpfunction" onClick="logFunction('xml_get_error_code')" href="../../_functions/xml_get_error_code.html" onMouseOver="phpfuncPopup(event,'xml_get_error_code')">xml_get_error_code</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>));
<a name="l2140"><span class="linenum">2140</span></a>          }
<a name="l2141"><span class="linenum">2141</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_free')" href="../../_functions/xml_parser_free.html" onMouseOver="phpfuncPopup(event,'xml_parser_free')">xml_parser_free</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>);
<a name="l2142"><span class="linenum">2142</span></a>  
<a name="l2143"><span class="linenum">2143</span></a>          <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a> = array(array());
<a name="l2144"><span class="linenum">2144</span></a>          <a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a> = 0;
<a name="l2145"><span class="linenum">2145</span></a>          <a class="var it37818" onMouseOver="hilite(37818)" onMouseOut="lolite()" onClick="logVariable('startPoint')" href="../../_variables/startPoint.html">$startPoint</a> = 0;
<a name="l2146"><span class="linenum">2146</span></a>  
<a name="l2147"><span class="linenum">2147</span></a>          <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a> = array();
<a name="l2148"><span class="linenum">2148</span></a>          foreach (<a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l2149"><span class="linenum">2149</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['type'];
<a name="l2150"><span class="linenum">2150</span></a>  
<a name="l2151"><span class="linenum">2151</span></a>  <span class="comment">                // open tag:</span>
<a name="l2152"><span class="linenum">2152</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'open' || <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'complete') {
<a name="l2153"><span class="linenum">2153</span></a>                  <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a>[<a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a>++] = <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>;
<a name="l2154"><span class="linenum">2154</span></a>  
<a name="l2155"><span class="linenum">2155</span></a>                  if (<a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../../_variables/depth.html">$depth</a> == <a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a>) {
<a name="l2156"><span class="linenum">2156</span></a>                      <a class="var it37818" onMouseOver="hilite(37818)" onMouseOut="lolite()" onClick="logVariable('startPoint')" href="../../_variables/startPoint.html">$startPoint</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l2157"><span class="linenum">2157</span></a>                  }
<a name="l2158"><span class="linenum">2158</span></a>  
<a name="l2159"><span class="linenum">2159</span></a>                  <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a> = array('tag' =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['tag']);
<a name="l2160"><span class="linenum">2160</span></a>  
<a name="l2161"><span class="linenum">2161</span></a>                  if (isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes'])) {
<a name="l2162"><span class="linenum">2162</span></a>                      <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>['attrs'] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes'];
<a name="l2163"><span class="linenum">2163</span></a>                  }
<a name="l2164"><span class="linenum">2164</span></a>                  if (isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value'])) {
<a name="l2165"><span class="linenum">2165</span></a>                      <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>['values'][] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value'];
<a name="l2166"><span class="linenum">2166</span></a>                  }
<a name="l2167"><span class="linenum">2167</span></a>              }
<a name="l2168"><span class="linenum">2168</span></a>  <span class="comment">                // finish tag:</span>
<a name="l2169"><span class="linenum">2169</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'complete' || <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'close') {
<a name="l2170"><span class="linenum">2170</span></a>                  <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a> = <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>;
<a name="l2171"><span class="linenum">2171</span></a>                  <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a> = <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a>[--<a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a>];
<a name="l2172"><span class="linenum">2172</span></a>                  <a class="var it37821" onMouseOver="hilite(37821)" onMouseOut="lolite()" onClick="logVariable('oldtag')" href="../../_variables/oldtag.html">$oldtag</a> = <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>['tag'];
<a name="l2173"><span class="linenum">2173</span></a>                  unset(<a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>['tag']);
<a name="l2174"><span class="linenum">2174</span></a>  
<a name="l2175"><span class="linenum">2175</span></a>                  if (<a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../../_variables/depth.html">$depth</a> == (<a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a> + 1)) {
<a name="l2176"><span class="linenum">2176</span></a>                      if (<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> - <a class="var it37818" onMouseOver="hilite(37818)" onMouseOut="lolite()" onClick="logVariable('startPoint')" href="../../_variables/startPoint.html">$startPoint</a> &gt; 0) {
<a name="l2177"><span class="linenum">2177</span></a>                          <a class="var it37822" onMouseOver="hilite(37822)" onMouseOut="lolite()" onClick="logVariable('partArray')" href="../../_variables/partArray.html">$partArray</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(
<a name="l2178"><span class="linenum">2178</span></a>                              <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a>,
<a name="l2179"><span class="linenum">2179</span></a>                                  <a class="var it37818" onMouseOver="hilite(37818)" onMouseOut="lolite()" onClick="logVariable('startPoint')" href="../../_variables/startPoint.html">$startPoint</a> + 1,
<a name="l2180"><span class="linenum">2180</span></a>                                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> - <a class="var it37818" onMouseOver="hilite(37818)" onMouseOut="lolite()" onClick="logVariable('startPoint')" href="../../_variables/startPoint.html">$startPoint</a> - 1
<a name="l2181"><span class="linenum">2181</span></a>                          );
<a name="l2182"><span class="linenum">2182</span></a>                          <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>['XMLvalue'] = self::<a class="function" onClick="logFunction('xmlRecompileFromStructValArray')" href="../../_functions/xmlrecompilefromstructvalarray.html" onMouseOver="funcPopup(event,'xmlrecompilefromstructvalarray')">xmlRecompileFromStructValArray</a>(<a class="var it37822" onMouseOver="hilite(37822)" onMouseOut="lolite()" onClick="logVariable('partArray')" href="../../_variables/partArray.html">$partArray</a>);
<a name="l2183"><span class="linenum">2183</span></a>                      } else {
<a name="l2184"><span class="linenum">2184</span></a>                          <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>['XMLvalue'] = <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>['values'][0];
<a name="l2185"><span class="linenum">2185</span></a>                      }
<a name="l2186"><span class="linenum">2186</span></a>                  }
<a name="l2187"><span class="linenum">2187</span></a>  
<a name="l2188"><span class="linenum">2188</span></a>                  <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>['ch'][<a class="var it37821" onMouseOver="hilite(37821)" onMouseOut="lolite()" onClick="logVariable('oldtag')" href="../../_variables/oldtag.html">$oldtag</a>][] = <a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>;
<a name="l2189"><span class="linenum">2189</span></a>                  unset(<a class="var it37820" onMouseOver="hilite(37820)" onMouseOut="lolite()" onClick="logVariable('oldtagi')" href="../../_variables/oldtagi.html">$oldtagi</a>);
<a name="l2190"><span class="linenum">2190</span></a>              }
<a name="l2191"><span class="linenum">2191</span></a>  <span class="comment">                // cdata</span>
<a name="l2192"><span class="linenum">2192</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'cdata') {
<a name="l2193"><span class="linenum">2193</span></a>                  <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>['values'][] = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value'];
<a name="l2194"><span class="linenum">2194</span></a>              }
<a name="l2195"><span class="linenum">2195</span></a>          }
<a name="l2196"><span class="linenum">2196</span></a>          return <a class="var it37819" onMouseOver="hilite(37819)" onMouseOut="lolite()" onClick="logVariable('tagi')" href="../../_variables/tagi.html">$tagi</a>['ch'];
<a name="l2197"><span class="linenum">2197</span></a>      }
<a name="l2198"><span class="linenum">2198</span></a>  
<a name="l2199"><span class="linenum">2199</span></a>      <span class="comment">/**</span>
<a name="l2200"><span class="linenum">2200</span></a>  <span class="comment">     * Turns PHP array into XML. See array2xml()</span>
<a name="l2201"><span class="linenum">2201</span></a>  <span class="comment">     *</span>
<a name="l2202"><span class="linenum">2202</span></a>  <span class="comment">     * @param array $array The input PHP array with any kind of data; text, binary, integers. Not objects though.</span>
<a name="l2203"><span class="linenum">2203</span></a>  <span class="comment">     * @param string $docTag Alternative document tag. Default is &quot;phparray&quot;.</span>
<a name="l2204"><span class="linenum">2204</span></a>  <span class="comment">     * @param array $options Options for the compilation. See array2xml() for description.</span>
<a name="l2205"><span class="linenum">2205</span></a>  <span class="comment">     * @param string $charset Forced charset to prologue</span>
<a name="l2206"><span class="linenum">2206</span></a>  <span class="comment">     * @return string An XML string made from the input content in the array.</span>
<a name="l2207"><span class="linenum">2207</span></a>  <span class="comment">     * @see xml2array(),array2xml()</span>
<a name="l2208"><span class="linenum">2208</span></a>  <span class="comment">     */</span>
<a name="l2209"><span class="linenum">2209</span></a>  	public static function <a class="function" onClick="logFunction('array2xml_cs')" href="../../_functions/array2xml_cs.html" onMouseOver="funcPopup(event,'array2xml_cs')">array2xml_cs</a>(array <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it37823" onMouseOver="hilite(37823)" onMouseOut="lolite()" onClick="logVariable('docTag')" href="../../_variables/docTag.html">$docTag</a> = 'phparray', array <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a> = array(), <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = '') {
<a name="l2210"><span class="linenum">2210</span></a>  
<a name="l2211"><span class="linenum">2211</span></a>  <span class="comment">            // Set default charset unless explicitly specified</span>
<a name="l2212"><span class="linenum">2212</span></a>          <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> ? <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> : 'utf-8';
<a name="l2213"><span class="linenum">2213</span></a>  
<a name="l2214"><span class="linenum">2214</span></a>  <span class="comment">            // Return XML:</span>
<a name="l2215"><span class="linenum">2215</span></a>          return '&lt;?xml version=&quot;1.0&quot; encoding=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) . '&quot; standalone=&quot;yes&quot; ?&gt;' . LF .
<a name="l2216"><span class="linenum">2216</span></a>                  self::<a class="function" onClick="logFunction('array2xml')" href="../../_functions/array2xml.html" onMouseOver="funcPopup(event,'array2xml')">array2xml</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, '', 0, <a class="var it37823" onMouseOver="hilite(37823)" onMouseOut="lolite()" onClick="logVariable('docTag')" href="../../_variables/docTag.html">$docTag</a>, 0, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l2217"><span class="linenum">2217</span></a>      }
<a name="l2218"><span class="linenum">2218</span></a>  
<a name="l2219"><span class="linenum">2219</span></a>      <span class="comment">/**</span>
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment">     * Deprecated to call directly (unless you are aware of using XML prologues)! Use &quot;array2xml_cs&quot; instead (which adds an XML-prologue)</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment">     *</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment">     * Converts a PHP array into an XML string.</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment">     * The XML output is optimized for readability since associative keys are used as tag names.</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment">     * This also means that only alphanumeric characters are allowed in the tag names AND only keys NOT starting with numbers (so watch your usage of keys!). However there are options you can set to avoid this problem.</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment">     * Numeric keys are stored with the default tag name &quot;numIndex&quot; but can be overridden to other formats)</span>
<a name="l2226"><span class="linenum">2226</span></a>  <span class="comment">     * The function handles input values from the PHP array in a binary-safe way; All characters below 32 (except 9,10,13) will trigger the content to be converted to a base64-string</span>
<a name="l2227"><span class="linenum">2227</span></a>  <span class="comment">     * The PHP variable type of the data IS preserved as long as the types are strings, arrays, integers and booleans. Strings are the default type unless the &quot;type&quot; attribute is set.</span>
<a name="l2228"><span class="linenum">2228</span></a>  <span class="comment">     * The output XML has been tested with the PHP XML-parser and parses OK under all tested circumstances with 4.x versions. However, with PHP5 there seems to be the need to add an XML prologue a la &lt;?xml version=&quot;1.0&quot; encoding=&quot;[charset]&quot; standalone=&quot;yes&quot; ?&gt; - otherwise UTF-8 is assumed! Unfortunately, many times the output from this function is used without adding that prologue meaning that non-ASCII characters will break the parsing!! This suchs of course! Effectively it means that the prologue should always be prepended setting the right characterset, alternatively the system should always run as utf-8!</span>
<a name="l2229"><span class="linenum">2229</span></a>  <span class="comment">     * However using MSIE to read the XML output didn't always go well: One reason could be that the character encoding is not observed in the PHP data. The other reason may be if the tag-names are invalid in the eyes of MSIE. Also using the namespace feature will make MSIE break parsing. There might be more reasons...</span>
<a name="l2230"><span class="linenum">2230</span></a>  <span class="comment">     *</span>
<a name="l2231"><span class="linenum">2231</span></a>  <span class="comment">     * @param array $array The input PHP array with any kind of data; text, binary, integers. Not objects though.</span>
<a name="l2232"><span class="linenum">2232</span></a>  <span class="comment">     * @param string $NSprefix tag-prefix, eg. a namespace prefix like &quot;T3:&quot;</span>
<a name="l2233"><span class="linenum">2233</span></a>  <span class="comment">     * @param integer $level Current recursion level. Don't change, stay at zero!</span>
<a name="l2234"><span class="linenum">2234</span></a>  <span class="comment">     * @param string $docTag Alternative document tag. Default is &quot;phparray&quot;.</span>
<a name="l2235"><span class="linenum">2235</span></a>  <span class="comment">     * @param integer $spaceInd If greater than zero, then the number of spaces corresponding to this number is used for indenting, if less than zero - no indentation, if zero - a single TAB is used</span>
<a name="l2236"><span class="linenum">2236</span></a>  <span class="comment">     * @param array $options Options for the compilation. Key &quot;useNindex&quot; =&gt; 0/1 (boolean: whether to use &quot;n0, n1, n2&quot; for num. indexes); Key &quot;useIndexTagForNum&quot; =&gt; &quot;[tag for numerical indexes]&quot;; Key &quot;useIndexTagForAssoc&quot; =&gt; &quot;[tag for associative indexes&quot;; Key &quot;parentTagMap&quot; =&gt; array('parentTag' =&gt; 'thisLevelTag')</span>
<a name="l2237"><span class="linenum">2237</span></a>  <span class="comment">     * @param array $stackData Stack data. Don't touch.</span>
<a name="l2238"><span class="linenum">2238</span></a>  <span class="comment">     * @return string An XML string made from the input content in the array.</span>
<a name="l2239"><span class="linenum">2239</span></a>  <span class="comment">     * @see xml2array()</span>
<a name="l2240"><span class="linenum">2240</span></a>  <span class="comment">     */</span>
<a name="l2241"><span class="linenum">2241</span></a>  	public static function <a class="function" onClick="logFunction('array2xml')" href="../../_functions/array2xml.html" onMouseOver="funcPopup(event,'array2xml')">array2xml</a>(array <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>, <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> = '', <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = 0, <a class="var it37823" onMouseOver="hilite(37823)" onMouseOut="lolite()" onClick="logVariable('docTag')" href="../../_variables/docTag.html">$docTag</a> = 'phparray', <a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> = 0, array <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a> = array(), array <a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a> = array()) {
<a name="l2242"><span class="linenum">2242</span></a>  <span class="comment">            // The list of byte values which will trigger binary-safe storage. If any value has one of these char values in it, it will be encoded in base64</span>
<a name="l2243"><span class="linenum">2243</span></a>          <a class="var it37827" onMouseOver="hilite(37827)" onMouseOut="lolite()" onClick="logVariable('binaryChars')" href="../../_variables/binaryChars.html">$binaryChars</a> = <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(1) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(2) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(3) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(4) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(5) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(6) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(7) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(8) .
<a name="l2244"><span class="linenum">2244</span></a>                  <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(11) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(12) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(14) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(15) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(16) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(17) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(18) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(19) .
<a name="l2245"><span class="linenum">2245</span></a>                  <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(20) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(21) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(22) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(23) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(24) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(25) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(26) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(27) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(28) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(29) .
<a name="l2246"><span class="linenum">2246</span></a>                  <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(30) . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(31);
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment">            // Set indenting mode:</span>
<a name="l2248"><span class="linenum">2248</span></a>          <a class="var it37828" onMouseOver="hilite(37828)" onMouseOut="lolite()" onClick="logVariable('indentChar')" href="../../_variables/indentChar.html">$indentChar</a> = <a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> ? ' ' : <a class="constant" onClick="logConstant('TAB')" href="../../_constants/TAB.html" onMouseOver="constPopup(event,'TAB')">TAB</a>;
<a name="l2249"><span class="linenum">2249</span></a>          <a class="var it37829" onMouseOver="hilite(37829)" onMouseOut="lolite()" onClick="logVariable('indentN')" href="../../_variables/indentN.html">$indentN</a> = <a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> &gt; 0 ? <a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> : 1;
<a name="l2250"><span class="linenum">2250</span></a>          <a class="var it1147" onMouseOver="hilite(1147)" onMouseOut="lolite()" onClick="logVariable('nl')" href="../../_variables/nl.html">$nl</a> = (<a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> &gt;= 0 ? LF : '');
<a name="l2251"><span class="linenum">2251</span></a>  
<a name="l2252"><span class="linenum">2252</span></a>  <span class="comment">            // Init output variable:</span>
<a name="l2253"><span class="linenum">2253</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '';
<a name="l2254"><span class="linenum">2254</span></a>  
<a name="l2255"><span class="linenum">2255</span></a>  <span class="comment">            // Traverse the input array</span>
<a name="l2256"><span class="linenum">2256</span></a>          foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l2257"><span class="linenum">2257</span></a>              <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> = '';
<a name="l2258"><span class="linenum">2258</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>;
<a name="l2259"><span class="linenum">2259</span></a>  
<a name="l2260"><span class="linenum">2260</span></a>  <span class="comment">                // Construct the tag name.</span>
<a name="l2261"><span class="linenum">2261</span></a>              if (isset(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['grandParentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['grandParentTagName'] . '/' . <a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName']])) { // Use tag based on grand-parent + parent tag name
<a name="l2262"><span class="linenum">2262</span></a>                  <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>) . '&quot;';
<a name="l2263"><span class="linenum">2263</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (string) <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['grandParentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['grandParentTagName'] . '/' . <a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName']];
<a name="l2264"><span class="linenum">2264</span></a>              } elseif (isset(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName'] . ':_IS_NUM']) &amp;&amp; t3lib_utility_Math::canBeInterpretedAsInteger(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>)) { // Use tag based on parent tag name + if current tag is numeric
<a name="l2265"><span class="linenum">2265</span></a>                  <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>) . '&quot;';
<a name="l2266"><span class="linenum">2266</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (string) <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName'] . ':_IS_NUM'];
<a name="l2267"><span class="linenum">2267</span></a>              } elseif (isset(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName'] . ':' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>])) { // Use tag based on parent tag name + current tag
<a name="l2268"><span class="linenum">2268</span></a>                  <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>) . '&quot;';
<a name="l2269"><span class="linenum">2269</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (string) <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName'] . ':' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2270"><span class="linenum">2270</span></a>              } elseif (isset(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName']])) { // Use tag based on parent tag name:
<a name="l2271"><span class="linenum">2271</span></a>                  <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>) . '&quot;';
<a name="l2272"><span class="linenum">2272</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (string) <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['parentTagMap'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName']];
<a name="l2273"><span class="linenum">2273</span></a>              } elseif (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>), <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>)) { // If integer...;
<a name="l2274"><span class="linenum">2274</span></a>                  if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useNindex']) { // If numeric key, prefix &quot;n&quot;
<a name="l2275"><span class="linenum">2275</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = 'n' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>;
<a name="l2276"><span class="linenum">2276</span></a>                  } else { // Use special tag for num. keys:
<a name="l2277"><span class="linenum">2277</span></a>                      <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> . '&quot;';
<a name="l2278"><span class="linenum">2278</span></a>                      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useIndexTagForNum'] ? <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useIndexTagForNum'] : 'numIndex';
<a name="l2279"><span class="linenum">2279</span></a>                  }
<a name="l2280"><span class="linenum">2280</span></a>              } elseif (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useIndexTagForAssoc']) { // Use tag for all associative keys:
<a name="l2281"><span class="linenum">2281</span></a>                  <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' index=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>) . '&quot;';
<a name="l2282"><span class="linenum">2282</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useIndexTagForAssoc'];
<a name="l2283"><span class="linenum">2283</span></a>              }
<a name="l2284"><span class="linenum">2284</span></a>  
<a name="l2285"><span class="linenum">2285</span></a>  <span class="comment">                // The tag name is cleaned up so only alphanumeric chars (plus - and _) are in there and not longer than 100 chars either.</span>
<a name="l2286"><span class="linenum">2286</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/[^[:alnum:]_-]/', '', <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>), 0, 100);
<a name="l2287"><span class="linenum">2287</span></a>  
<a name="l2288"><span class="linenum">2288</span></a>  <span class="comment">                // If the value is an array then we will call this function recursively:</span>
<a name="l2289"><span class="linenum">2289</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>)) {
<a name="l2290"><span class="linenum">2290</span></a>  
<a name="l2291"><span class="linenum">2291</span></a>  <span class="comment">                    // Sub elements:</span>
<a name="l2292"><span class="linenum">2292</span></a>                  if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['alt_options'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['path'] . '/' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>]) {
<a name="l2293"><span class="linenum">2293</span></a>                      <a class="var it37830" onMouseOver="hilite(37830)" onMouseOut="lolite()" onClick="logVariable('subOptions')" href="../../_variables/subOptions.html">$subOptions</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['alt_options'][<a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['path'] . '/' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2294"><span class="linenum">2294</span></a>                      <a class="var it37831" onMouseOver="hilite(37831)" onMouseOut="lolite()" onClick="logVariable('clearStackPath')" href="../../_variables/clearStackPath.html">$clearStackPath</a> = <a class="var it37830" onMouseOver="hilite(37830)" onMouseOut="lolite()" onClick="logVariable('subOptions')" href="../../_variables/subOptions.html">$subOptions</a>['clearStackPath'];
<a name="l2295"><span class="linenum">2295</span></a>                  } else {
<a name="l2296"><span class="linenum">2296</span></a>                      <a class="var it37830" onMouseOver="hilite(37830)" onMouseOut="lolite()" onClick="logVariable('subOptions')" href="../../_variables/subOptions.html">$subOptions</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>;
<a name="l2297"><span class="linenum">2297</span></a>                      <a class="var it37831" onMouseOver="hilite(37831)" onMouseOut="lolite()" onClick="logVariable('clearStackPath')" href="../../_variables/clearStackPath.html">$clearStackPath</a> = FALSE;
<a name="l2298"><span class="linenum">2298</span></a>                  }
<a name="l2299"><span class="linenum">2299</span></a>  
<a name="l2300"><span class="linenum">2300</span></a>                  <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="var it1147" onMouseOver="hilite(1147)" onMouseOut="lolite()" onClick="logVariable('nl')" href="../../_variables/nl.html">$nl</a> .
<a name="l2301"><span class="linenum">2301</span></a>                          self::<a class="function" onClick="logFunction('array2xml')" href="../../_functions/array2xml.html" onMouseOver="funcPopup(event,'array2xml')">array2xml</a>(
<a name="l2302"><span class="linenum">2302</span></a>                              <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>,
<a name="l2303"><span class="linenum">2303</span></a>                              <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a>,
<a name="l2304"><span class="linenum">2304</span></a>                                  <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> + 1,
<a name="l2305"><span class="linenum">2305</span></a>                              '',
<a name="l2306"><span class="linenum">2306</span></a>                              <a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a>,
<a name="l2307"><span class="linenum">2307</span></a>                              <a class="var it37830" onMouseOver="hilite(37830)" onMouseOut="lolite()" onClick="logVariable('subOptions')" href="../../_variables/subOptions.html">$subOptions</a>,
<a name="l2308"><span class="linenum">2308</span></a>                              array(
<a name="l2309"><span class="linenum">2309</span></a>                                  'parentTagName' =&gt; <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>,
<a name="l2310"><span class="linenum">2310</span></a>                                  'grandParentTagName' =&gt; <a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['parentTagName'],
<a name="l2311"><span class="linenum">2311</span></a>                                  'path' =&gt; <a class="var it37831" onMouseOver="hilite(37831)" onMouseOut="lolite()" onClick="logVariable('clearStackPath')" href="../../_variables/clearStackPath.html">$clearStackPath</a> ? '' : <a class="var it37826" onMouseOver="hilite(37826)" onMouseOut="lolite()" onClick="logVariable('stackData')" href="../../_variables/stackData.html">$stackData</a>['path'] . '/' . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>,
<a name="l2312"><span class="linenum">2312</span></a>                              )
<a name="l2313"><span class="linenum">2313</span></a>                          ) .
<a name="l2314"><span class="linenum">2314</span></a>                          (<a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> &gt;= 0 ? <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>('', (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> + 1) * <a class="var it37829" onMouseOver="hilite(37829)" onMouseOut="lolite()" onClick="logVariable('indentN')" href="../../_variables/indentN.html">$indentN</a>, <a class="var it37828" onMouseOver="hilite(37828)" onMouseOut="lolite()" onClick="logVariable('indentChar')" href="../../_variables/indentChar.html">$indentChar</a>) : '');
<a name="l2315"><span class="linenum">2315</span></a>                  if ((int) <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['disableTypeAttrib'] != 2) { // Do not set &quot;type = array&quot;. Makes prettier XML but means that empty arrays are not restored with xml2array
<a name="l2316"><span class="linenum">2316</span></a>                      <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' type=&quot;array&quot;';
<a name="l2317"><span class="linenum">2317</span></a>                  }
<a name="l2318"><span class="linenum">2318</span></a>              } else { // Just a value:
<a name="l2319"><span class="linenum">2319</span></a>  
<a name="l2320"><span class="linenum">2320</span></a>  <span class="comment">                    // Look for binary chars:</span>
<a name="l2321"><span class="linenum">2321</span></a>                  <a class="var it37832" onMouseOver="hilite(37832)" onMouseOut="lolite()" onClick="logVariable('vLen')" href="../../_variables/vLen.html">$vLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>); <span class="comment">// check for length, because PHP 5.2.0 may crash when first argument of strcspn is empty</span>
<a name="l2322"><span class="linenum">2322</span></a>                  if (<a class="var it37832" onMouseOver="hilite(37832)" onMouseOut="lolite()" onClick="logVariable('vLen')" href="../../_variables/vLen.html">$vLen</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('strcspn')" href="../../_functions/strcspn.html" onMouseOver="phpfuncPopup(event,'strcspn')">strcspn</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it37827" onMouseOver="hilite(37827)" onMouseOut="lolite()" onClick="logVariable('binaryChars')" href="../../_variables/binaryChars.html">$binaryChars</a>) != <a class="var it37832" onMouseOver="hilite(37832)" onMouseOut="lolite()" onClick="logVariable('vLen')" href="../../_variables/vLen.html">$vLen</a>) { // Go for base64 encoding if the initial segment NOT matching any binary char has the same length as the whole string!
<a name="l2323"><span class="linenum">2323</span></a>  <span class="comment">                        // If the value contained binary chars then we base64-encode it an set an attribute to notify this situation:</span>
<a name="l2324"><span class="linenum">2324</span></a>                      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="var it1147" onMouseOver="hilite(1147)" onMouseOut="lolite()" onClick="logVariable('nl')" href="../../_variables/nl.html">$nl</a> . <a class="phpfunction" onClick="logFunction('chunk_split')" href="../../_functions/chunk_split.html" onMouseOver="phpfuncPopup(event,'chunk_split')">chunk_split</a>(<a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>));
<a name="l2325"><span class="linenum">2325</span></a>                      <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' base64=&quot;1&quot;';
<a name="l2326"><span class="linenum">2326</span></a>                  } else {
<a name="l2327"><span class="linenum">2327</span></a>  <span class="comment">                        // Otherwise, just htmlspecialchar the stuff:</span>
<a name="l2328"><span class="linenum">2328</span></a>                      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l2329"><span class="linenum">2329</span></a>                      <a class="var it37833" onMouseOver="hilite(37833)" onMouseOut="lolite()" onClick="logVariable('dType')" href="../../_variables/dType.html">$dType</a> = <a class="phpfunction" onClick="logFunction('gettype')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">gettype</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l2330"><span class="linenum">2330</span></a>                      if (<a class="var it37833" onMouseOver="hilite(37833)" onMouseOut="lolite()" onClick="logVariable('dType')" href="../../_variables/dType.html">$dType</a> == 'string') {
<a name="l2331"><span class="linenum">2331</span></a>                          if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['useCDATA'] &amp;&amp; <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> != <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l2332"><span class="linenum">2332</span></a>                              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = '&lt;![CDATA[' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a> . ']]&gt;';
<a name="l2333"><span class="linenum">2333</span></a>                          }
<a name="l2334"><span class="linenum">2334</span></a>                      } elseif (!<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>['disableTypeAttrib']) {
<a name="l2335"><span class="linenum">2335</span></a>                          <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> .= ' type=&quot;' . <a class="var it37833" onMouseOver="hilite(37833)" onMouseOut="lolite()" onClick="logVariable('dType')" href="../../_variables/dType.html">$dType</a> . '&quot;';
<a name="l2336"><span class="linenum">2336</span></a>                      }
<a name="l2337"><span class="linenum">2337</span></a>                  }
<a name="l2338"><span class="linenum">2338</span></a>              }
<a name="l2339"><span class="linenum">2339</span></a>  
<a name="l2340"><span class="linenum">2340</span></a>  <span class="comment">                // Add the element to the output string:</span>
<a name="l2341"><span class="linenum">2341</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .= (<a class="var it37825" onMouseOver="hilite(37825)" onMouseOut="lolite()" onClick="logVariable('spaceInd')" href="../../_variables/spaceInd.html">$spaceInd</a> &gt;= 0 ? <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>('', (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> + 1) * <a class="var it37829" onMouseOver="hilite(37829)" onMouseOut="lolite()" onClick="logVariable('indentN')" href="../../_variables/indentN.html">$indentN</a>, <a class="var it37828" onMouseOver="hilite(37828)" onMouseOut="lolite()" onClick="logVariable('indentChar')" href="../../_variables/indentChar.html">$indentChar</a>) : '') . '&lt;' . <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> . <a class="var it492" onMouseOver="hilite(492)" onMouseOut="lolite()" onClick="logVariable('attr')" href="../../_variables/attr.html">$attr</a> . '&gt;' . <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> . '&lt;/' . <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> . <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> . '&gt;' . <a class="var it1147" onMouseOver="hilite(1147)" onMouseOut="lolite()" onClick="logVariable('nl')" href="../../_variables/nl.html">$nl</a>;
<a name="l2342"><span class="linenum">2342</span></a>          }
<a name="l2343"><span class="linenum">2343</span></a>  
<a name="l2344"><span class="linenum">2344</span></a>  <span class="comment">            // If we are at the outer-most level, then we finally wrap it all in the document tags and return that as the value:</span>
<a name="l2345"><span class="linenum">2345</span></a>          if (!<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>) {
<a name="l2346"><span class="linenum">2346</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> =
<a name="l2347"><span class="linenum">2347</span></a>                      '&lt;' . <a class="var it37823" onMouseOver="hilite(37823)" onMouseOut="lolite()" onClick="logVariable('docTag')" href="../../_variables/docTag.html">$docTag</a> . '&gt;' . <a class="var it1147" onMouseOver="hilite(1147)" onMouseOut="lolite()" onClick="logVariable('nl')" href="../../_variables/nl.html">$nl</a> .
<a name="l2348"><span class="linenum">2348</span></a>                              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> .
<a name="l2349"><span class="linenum">2349</span></a>                              '&lt;/' . <a class="var it37823" onMouseOver="hilite(37823)" onMouseOut="lolite()" onClick="logVariable('docTag')" href="../../_variables/docTag.html">$docTag</a> . '&gt;';
<a name="l2350"><span class="linenum">2350</span></a>          }
<a name="l2351"><span class="linenum">2351</span></a>  
<a name="l2352"><span class="linenum">2352</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>;
<a name="l2353"><span class="linenum">2353</span></a>      }
<a name="l2354"><span class="linenum">2354</span></a>  
<a name="l2355"><span class="linenum">2355</span></a>      <span class="comment">/**</span>
<a name="l2356"><span class="linenum">2356</span></a>  <span class="comment">     * Converts an XML string to a PHP array.</span>
<a name="l2357"><span class="linenum">2357</span></a>  <span class="comment">     * This is the reverse function of array2xml()</span>
<a name="l2358"><span class="linenum">2358</span></a>  <span class="comment">     * This is a wrapper for xml2arrayProcess that adds a two-level cache</span>
<a name="l2359"><span class="linenum">2359</span></a>  <span class="comment">     *</span>
<a name="l2360"><span class="linenum">2360</span></a>  <span class="comment">     * @param string $string XML content to convert into an array</span>
<a name="l2361"><span class="linenum">2361</span></a>  <span class="comment">     * @param string $NSprefix The tag-prefix resolve, eg. a namespace like &quot;T3:&quot;</span>
<a name="l2362"><span class="linenum">2362</span></a>  <span class="comment">     * @param boolean $reportDocTag If set, the document tag will be set in the key &quot;_DOCUMENT_TAG&quot; of the output array</span>
<a name="l2363"><span class="linenum">2363</span></a>  <span class="comment">     * @return mixed If the parsing had errors, a string with the error message is returned. Otherwise an array with the content.</span>
<a name="l2364"><span class="linenum">2364</span></a>  <span class="comment">     * @see array2xml(),xml2arrayProcess()</span>
<a name="l2365"><span class="linenum">2365</span></a>  <span class="comment">     */</span>
<a name="l2366"><span class="linenum">2366</span></a>  	public static function <a class="function" onClick="logFunction('xml2array')" href="../../_functions/xml2array.html" onMouseOver="funcPopup(event,'xml2array')">xml2array</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> = '', <a class="var it37834" onMouseOver="hilite(37834)" onMouseOut="lolite()" onClick="logVariable('reportDocTag')" href="../../_variables/reportDocTag.html">$reportDocTag</a> = FALSE) {
<a name="l2367"><span class="linenum">2367</span></a>          static <a class="var it37835" onMouseOver="hilite(37835)" onMouseOut="lolite()" onClick="logVariable('firstLevelCache')" href="../../_variables/firstLevelCache.html">$firstLevelCache</a> = array();
<a name="l2368"><span class="linenum">2368</span></a>  
<a name="l2369"><span class="linenum">2369</span></a>          <a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a> = md5(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> . <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> . (<a class="var it37834" onMouseOver="hilite(37834)" onMouseOut="lolite()" onClick="logVariable('reportDocTag')" href="../../_variables/reportDocTag.html">$reportDocTag</a> ? '1' : '0'));
<a name="l2370"><span class="linenum">2370</span></a>  
<a name="l2371"><span class="linenum">2371</span></a>  <span class="comment">            // look up in first level cache</span>
<a name="l2372"><span class="linenum">2372</span></a>          if (!empty(<a class="var it37835" onMouseOver="hilite(37835)" onMouseOut="lolite()" onClick="logVariable('firstLevelCache')" href="../../_variables/firstLevelCache.html">$firstLevelCache</a>[<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>])) {
<a name="l2373"><span class="linenum">2373</span></a>              <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> = <a class="var it37835" onMouseOver="hilite(37835)" onMouseOut="lolite()" onClick="logVariable('firstLevelCache')" href="../../_variables/firstLevelCache.html">$firstLevelCache</a>[<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>];
<a name="l2374"><span class="linenum">2374</span></a>          } else {
<a name="l2375"><span class="linenum">2375</span></a>  <span class="comment">                // look up in second level cache</span>
<a name="l2376"><span class="linenum">2376</span></a>              <a class="var it37836" onMouseOver="hilite(37836)" onMouseOut="lolite()" onClick="logVariable('cacheContent')" href="../../_variables/cacheContent.html">$cacheContent</a> = t3lib_pageSelect::<a class="function" onClick="logFunction('getHash')" href="../../_functions/gethash.html" onMouseOver="funcPopup(event,'gethash')">getHash</a>(<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>, 0);
<a name="l2377"><span class="linenum">2377</span></a>              <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="var it37836" onMouseOver="hilite(37836)" onMouseOut="lolite()" onClick="logVariable('cacheContent')" href="../../_variables/cacheContent.html">$cacheContent</a>);
<a name="l2378"><span class="linenum">2378</span></a>  
<a name="l2379"><span class="linenum">2379</span></a>              if (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> === FALSE) {
<a name="l2380"><span class="linenum">2380</span></a>                  <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a> = self::<a class="function" onClick="logFunction('xml2arrayProcess')" href="../../_functions/xml2arrayprocess.html" onMouseOver="funcPopup(event,'xml2arrayprocess')">xml2arrayProcess</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a>, <a class="var it37834" onMouseOver="hilite(37834)" onMouseOut="lolite()" onClick="logVariable('reportDocTag')" href="../../_variables/reportDocTag.html">$reportDocTag</a>);
<a name="l2381"><span class="linenum">2381</span></a>                  t3lib_pageSelect::storeHash(<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>), 'ident_xml2array');
<a name="l2382"><span class="linenum">2382</span></a>              }
<a name="l2383"><span class="linenum">2383</span></a>  <span class="comment">                // store content in first level cache</span>
<a name="l2384"><span class="linenum">2384</span></a>              <a class="var it37835" onMouseOver="hilite(37835)" onMouseOut="lolite()" onClick="logVariable('firstLevelCache')" href="../../_variables/firstLevelCache.html">$firstLevelCache</a>[<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>] = <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>;
<a name="l2385"><span class="linenum">2385</span></a>          }
<a name="l2386"><span class="linenum">2386</span></a>          return <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../../_variables/array.html">$array</a>;
<a name="l2387"><span class="linenum">2387</span></a>      }
<a name="l2388"><span class="linenum">2388</span></a>  
<a name="l2389"><span class="linenum">2389</span></a>      <span class="comment">/**</span>
<a name="l2390"><span class="linenum">2390</span></a>  <span class="comment">     * Converts an XML string to a PHP array.</span>
<a name="l2391"><span class="linenum">2391</span></a>  <span class="comment">     * This is the reverse function of array2xml()</span>
<a name="l2392"><span class="linenum">2392</span></a>  <span class="comment">     *</span>
<a name="l2393"><span class="linenum">2393</span></a>  <span class="comment">     * @param string $string XML content to convert into an array</span>
<a name="l2394"><span class="linenum">2394</span></a>  <span class="comment">     * @param string $NSprefix The tag-prefix resolve, eg. a namespace like &quot;T3:&quot;</span>
<a name="l2395"><span class="linenum">2395</span></a>  <span class="comment">     * @param boolean $reportDocTag If set, the document tag will be set in the key &quot;_DOCUMENT_TAG&quot; of the output array</span>
<a name="l2396"><span class="linenum">2396</span></a>  <span class="comment">     * @return mixed If the parsing had errors, a string with the error message is returned. Otherwise an array with the content.</span>
<a name="l2397"><span class="linenum">2397</span></a>  <span class="comment">     * @see array2xml()</span>
<a name="l2398"><span class="linenum">2398</span></a>  <span class="comment">     */</span>
<a name="l2399"><span class="linenum">2399</span></a>  	protected static function <a class="function" onClick="logFunction('xml2arrayProcess')" href="../../_functions/xml2arrayprocess.html" onMouseOver="funcPopup(event,'xml2arrayprocess')">xml2arrayProcess</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> = '', <a class="var it37834" onMouseOver="hilite(37834)" onMouseOut="lolite()" onClick="logVariable('reportDocTag')" href="../../_variables/reportDocTag.html">$reportDocTag</a> = FALSE) {
<a name="l2400"><span class="linenum">2400</span></a>  <span class="comment">            // Create parser:</span>
<a name="l2401"><span class="linenum">2401</span></a>          <a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a> = <a class="phpfunction" onClick="logFunction('xml_parser_create')" href="../../_functions/xml_parser_create.html" onMouseOver="phpfuncPopup(event,'xml_parser_create')">xml_parser_create</a>();
<a name="l2402"><span class="linenum">2402</span></a>          <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a> = array();
<a name="l2403"><span class="linenum">2403</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> = array();
<a name="l2404"><span class="linenum">2404</span></a>  
<a name="l2405"><span class="linenum">2405</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_set_option')" href="../../_functions/xml_parser_set_option.html" onMouseOver="phpfuncPopup(event,'xml_parser_set_option')">xml_parser_set_option</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, XML_OPTION_CASE_FOLDING, 0);
<a name="l2406"><span class="linenum">2406</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_set_option')" href="../../_functions/xml_parser_set_option.html" onMouseOver="phpfuncPopup(event,'xml_parser_set_option')">xml_parser_set_option</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, XML_OPTION_SKIP_WHITE, 0);
<a name="l2407"><span class="linenum">2407</span></a>  
<a name="l2408"><span class="linenum">2408</span></a>  <span class="comment">            // default output charset is UTF-8, only ASCII, ISO-8859-1 and UTF-8 are supported!!!</span>
<a name="l2409"><span class="linenum">2409</span></a>          <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a> = array();
<a name="l2410"><span class="linenum">2410</span></a>          <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^[[:space:]]*&lt;\?xml[^&gt;]*encoding[[:space:]]*=[[:space:]]*&quot;([^&quot;]*)&quot;/', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, 0, 200), <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>);
<a name="l2411"><span class="linenum">2411</span></a>          <a class="var it37837" onMouseOver="hilite(37837)" onMouseOut="lolite()" onClick="logVariable('theCharset')" href="../../_variables/theCharset.html">$theCharset</a> = <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1] ? <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1] : 'utf-8';
<a name="l2412"><span class="linenum">2412</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_set_option')" href="../../_functions/xml_parser_set_option.html" onMouseOver="phpfuncPopup(event,'xml_parser_set_option')">xml_parser_set_option</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, XML_OPTION_TARGET_ENCODING, <a class="var it37837" onMouseOver="hilite(37837)" onMouseOut="lolite()" onClick="logVariable('theCharset')" href="../../_variables/theCharset.html">$theCharset</a>); <span class="comment">// us-ascii / utf-8 / iso-8859-1</span>
<a name="l2413"><span class="linenum">2413</span></a>  
<a name="l2414"><span class="linenum">2414</span></a>  <span class="comment">            // Parse content:</span>
<a name="l2415"><span class="linenum">2415</span></a>          <a class="phpfunction" onClick="logFunction('xml_parse_into_struct')" href="../../_functions/xml_parse_into_struct.html" onMouseOver="phpfuncPopup(event,'xml_parse_into_struct')">xml_parse_into_struct</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a>, <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>);
<a name="l2416"><span class="linenum">2416</span></a>  
<a name="l2417"><span class="linenum">2417</span></a>  <span class="comment">            // If error, return error message:</span>
<a name="l2418"><span class="linenum">2418</span></a>          if (<a class="phpfunction" onClick="logFunction('xml_get_error_code')" href="../../_functions/xml_get_error_code.html" onMouseOver="phpfuncPopup(event,'xml_get_error_code')">xml_get_error_code</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>)) {
<a name="l2419"><span class="linenum">2419</span></a>              return 'Line ' . <a class="phpfunction" onClick="logFunction('xml_get_current_line_number')" href="../../_functions/xml_get_current_line_number.html" onMouseOver="phpfuncPopup(event,'xml_get_current_line_number')">xml_get_current_line_number</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>) . ': ' . <a class="phpfunction" onClick="logFunction('xml_error_string')" href="../../_functions/xml_error_string.html" onMouseOver="phpfuncPopup(event,'xml_error_string')">xml_error_string</a>(<a class="phpfunction" onClick="logFunction('xml_get_error_code')" href="../../_functions/xml_get_error_code.html" onMouseOver="phpfuncPopup(event,'xml_get_error_code')">xml_get_error_code</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>));
<a name="l2420"><span class="linenum">2420</span></a>          }
<a name="l2421"><span class="linenum">2421</span></a>          <a class="phpfunction" onClick="logFunction('xml_parser_free')" href="../../_functions/xml_parser_free.html" onMouseOver="phpfuncPopup(event,'xml_parser_free')">xml_parser_free</a>(<a class="var it270" onMouseOver="hilite(270)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../../_variables/parser.html">$parser</a>);
<a name="l2422"><span class="linenum">2422</span></a>  
<a name="l2423"><span class="linenum">2423</span></a>  <span class="comment">            // Init vars:</span>
<a name="l2424"><span class="linenum">2424</span></a>          <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a> = array(array());
<a name="l2425"><span class="linenum">2425</span></a>          <a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a> = 0;
<a name="l2426"><span class="linenum">2426</span></a>          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = array();
<a name="l2427"><span class="linenum">2427</span></a>          <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = '';
<a name="l2428"><span class="linenum">2428</span></a>          <a class="var it37838" onMouseOver="hilite(37838)" onMouseOut="lolite()" onClick="logVariable('documentTag')" href="../../_variables/documentTag.html">$documentTag</a> = '';
<a name="l2429"><span class="linenum">2429</span></a>  
<a name="l2430"><span class="linenum">2430</span></a>  <span class="comment">            // Traverse the parsed XML structure:</span>
<a name="l2431"><span class="linenum">2431</span></a>          foreach (<a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l2432"><span class="linenum">2432</span></a>  
<a name="l2433"><span class="linenum">2433</span></a>  <span class="comment">                // First, process the tag-name (which is used in both cases, whether &quot;complete&quot; or &quot;close&quot;)</span>
<a name="l2434"><span class="linenum">2434</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['tag'];
<a name="l2435"><span class="linenum">2435</span></a>              if (!<a class="var it37838" onMouseOver="hilite(37838)" onMouseOut="lolite()" onClick="logVariable('documentTag')" href="../../_variables/documentTag.html">$documentTag</a>) {
<a name="l2436"><span class="linenum">2436</span></a>                  <a class="var it37838" onMouseOver="hilite(37838)" onMouseOut="lolite()" onClick="logVariable('documentTag')" href="../../_variables/documentTag.html">$documentTag</a> = <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>;
<a name="l2437"><span class="linenum">2437</span></a>              }
<a name="l2438"><span class="linenum">2438</span></a>  
<a name="l2439"><span class="linenum">2439</span></a>  <span class="comment">                // Test for name space:</span>
<a name="l2440"><span class="linenum">2440</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (<a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>, 0, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a>)) == <a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a>) ? <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37824" onMouseOver="hilite(37824)" onMouseOut="lolite()" onClick="logVariable('NSprefix')" href="../../_variables/NSprefix.html">$NSprefix</a>)) : <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>;
<a name="l2441"><span class="linenum">2441</span></a>  
<a name="l2442"><span class="linenum">2442</span></a>  <span class="comment">                // Test for numeric tag, encoded on the form &quot;nXXX&quot;:</span>
<a name="l2443"><span class="linenum">2443</span></a>              <a class="var it37839" onMouseOver="hilite(37839)" onMouseOut="lolite()" onClick="logVariable('testNtag')" href="../../_variables/testNtag.html">$testNtag</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>, 1); <span class="comment">// Closing tag.</span>
<a name="l2444"><span class="linenum">2444</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>, 0, 1) == 'n' &amp;&amp; !<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it37839" onMouseOver="hilite(37839)" onMouseOut="lolite()" onClick="logVariable('testNtag')" href="../../_variables/testNtag.html">$testNtag</a>), <a class="var it37839" onMouseOver="hilite(37839)" onMouseOut="lolite()" onClick="logVariable('testNtag')" href="../../_variables/testNtag.html">$testNtag</a>)) ? <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it37839" onMouseOver="hilite(37839)" onMouseOut="lolite()" onClick="logVariable('testNtag')" href="../../_variables/testNtag.html">$testNtag</a>) : <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>;
<a name="l2445"><span class="linenum">2445</span></a>  
<a name="l2446"><span class="linenum">2446</span></a>  <span class="comment">                // Test for alternative index value:</span>
<a name="l2447"><span class="linenum">2447</span></a>              if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes']['index'])) {
<a name="l2448"><span class="linenum">2448</span></a>                  <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes']['index'];
<a name="l2449"><span class="linenum">2449</span></a>              }
<a name="l2450"><span class="linenum">2450</span></a>  
<a name="l2451"><span class="linenum">2451</span></a>  <span class="comment">                // Setting tag-values, manage stack:</span>
<a name="l2452"><span class="linenum">2452</span></a>              switch (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['type']) {
<a name="l2453"><span class="linenum">2453</span></a>                  case 'open': // If open tag it means there is an array stored in sub-elements. Therefore increase the stackpointer and reset the accumulation array:
<a name="l2454"><span class="linenum">2454</span></a>                      <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = array(); <span class="comment">// Setting blank place holder</span>
<a name="l2455"><span class="linenum">2455</span></a>                      <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a>[<a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a>++] = <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>;
<a name="l2456"><span class="linenum">2456</span></a>                      <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = array();
<a name="l2457"><span class="linenum">2457</span></a>                      break;
<a name="l2458"><span class="linenum">2458</span></a>                  case 'close': // If the tag is &quot;close&quot; then it is an array which is closing and we decrease the stack pointer.
<a name="l2459"><span class="linenum">2459</span></a>                      <a class="var it37840" onMouseOver="hilite(37840)" onMouseOut="lolite()" onClick="logVariable('oldCurrent')" href="../../_variables/oldCurrent.html">$oldCurrent</a> = <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>;
<a name="l2460"><span class="linenum">2460</span></a>                      <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = <a class="var it10486" onMouseOver="hilite(10486)" onMouseOut="lolite()" onClick="logVariable('stack')" href="../../_variables/stack.html">$stack</a>[--<a class="var it37817" onMouseOver="hilite(37817)" onMouseOut="lolite()" onClick="logVariable('stacktop')" href="../../_variables/stacktop.html">$stacktop</a>];
<a name="l2461"><span class="linenum">2461</span></a>                      <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>); <span class="comment">// Going to the end of array to get placeholder key, key($current), and fill in array next:</span>
<a name="l2462"><span class="linenum">2462</span></a>                      <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>)] = <a class="var it37840" onMouseOver="hilite(37840)" onMouseOut="lolite()" onClick="logVariable('oldCurrent')" href="../../_variables/oldCurrent.html">$oldCurrent</a>;
<a name="l2463"><span class="linenum">2463</span></a>                      unset(<a class="var it37840" onMouseOver="hilite(37840)" onMouseOut="lolite()" onClick="logVariable('oldCurrent')" href="../../_variables/oldCurrent.html">$oldCurrent</a>);
<a name="l2464"><span class="linenum">2464</span></a>                      break;
<a name="l2465"><span class="linenum">2465</span></a>                  case 'complete': // If &quot;complete&quot;, then it's a value. If the attribute &quot;base64&quot; is set, then decode the value, otherwise just set it.
<a name="l2466"><span class="linenum">2466</span></a>                      if (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes']['base64']) {
<a name="l2467"><span class="linenum">2467</span></a>                          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = <a class="phpfunction" onClick="logFunction('base64_decode')" href="../../_functions/base64_decode.html" onMouseOver="phpfuncPopup(event,'base64_decode')">base64_decode</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value']);
<a name="l2468"><span class="linenum">2468</span></a>                      } else {
<a name="l2469"><span class="linenum">2469</span></a>                          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = (string) <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value']; <span class="comment">// Had to cast it as a string - otherwise it would be evaluate FALSE if tested with isset()!!</span>
<a name="l2470"><span class="linenum">2470</span></a>  
<a name="l2471"><span class="linenum">2471</span></a>  <span class="comment">                            // Cast type:</span>
<a name="l2472"><span class="linenum">2472</span></a>                          switch ((string) <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes']['type']) {
<a name="l2473"><span class="linenum">2473</span></a>                              case 'integer':
<a name="l2474"><span class="linenum">2474</span></a>                                  <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = (integer) <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2475"><span class="linenum">2475</span></a>                                  break;
<a name="l2476"><span class="linenum">2476</span></a>                              case 'double':
<a name="l2477"><span class="linenum">2477</span></a>                                  <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = (double) <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2478"><span class="linenum">2478</span></a>                                  break;
<a name="l2479"><span class="linenum">2479</span></a>                              case 'boolean':
<a name="l2480"><span class="linenum">2480</span></a>                                  <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = (bool) <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2481"><span class="linenum">2481</span></a>                                  break;
<a name="l2482"><span class="linenum">2482</span></a>                              case 'array':
<a name="l2483"><span class="linenum">2483</span></a>                                  <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>] = array(); <span class="comment">// MUST be an empty array since it is processed as a value; Empty arrays would end up here because they would have no tags inside...</span>
<a name="l2484"><span class="linenum">2484</span></a>                                  break;
<a name="l2485"><span class="linenum">2485</span></a>                          }
<a name="l2486"><span class="linenum">2486</span></a>                      }
<a name="l2487"><span class="linenum">2487</span></a>                      break;
<a name="l2488"><span class="linenum">2488</span></a>              }
<a name="l2489"><span class="linenum">2489</span></a>          }
<a name="l2490"><span class="linenum">2490</span></a>  
<a name="l2491"><span class="linenum">2491</span></a>          if (<a class="var it37834" onMouseOver="hilite(37834)" onMouseOut="lolite()" onClick="logVariable('reportDocTag')" href="../../_variables/reportDocTag.html">$reportDocTag</a>) {
<a name="l2492"><span class="linenum">2492</span></a>              <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>]['_DOCUMENT_TAG'] = <a class="var it37838" onMouseOver="hilite(37838)" onMouseOut="lolite()" onClick="logVariable('documentTag')" href="../../_variables/documentTag.html">$documentTag</a>;
<a name="l2493"><span class="linenum">2493</span></a>          }
<a name="l2494"><span class="linenum">2494</span></a>  
<a name="l2495"><span class="linenum">2495</span></a>  <span class="comment">            // Finally return the content of the document tag.</span>
<a name="l2496"><span class="linenum">2496</span></a>          return <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>[<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('tagName')" href="../../_variables/tagName.html">$tagName</a>];
<a name="l2497"><span class="linenum">2497</span></a>      }
<a name="l2498"><span class="linenum">2498</span></a>  
<a name="l2499"><span class="linenum">2499</span></a>      <span class="comment">/**</span>
<a name="l2500"><span class="linenum">2500</span></a>  <span class="comment">     * This implodes an array of XML parts (made with xml_parse_into_struct()) into XML again.</span>
<a name="l2501"><span class="linenum">2501</span></a>  <span class="comment">     *</span>
<a name="l2502"><span class="linenum">2502</span></a>  <span class="comment">     * @param array $vals An array of XML parts, see xml2tree</span>
<a name="l2503"><span class="linenum">2503</span></a>  <span class="comment">     * @return string Re-compiled XML data.</span>
<a name="l2504"><span class="linenum">2504</span></a>  <span class="comment">     */</span>
<a name="l2505"><span class="linenum">2505</span></a>  	public static function <a class="function" onClick="logFunction('xmlRecompileFromStructValArray')" href="../../_functions/xmlrecompilefromstructvalarray.html" onMouseOver="funcPopup(event,'xmlrecompilefromstructvalarray')">xmlRecompileFromStructValArray</a>(array <a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a>) {
<a name="l2506"><span class="linenum">2506</span></a>          <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> = '';
<a name="l2507"><span class="linenum">2507</span></a>  
<a name="l2508"><span class="linenum">2508</span></a>          foreach (<a class="var it8141" onMouseOver="hilite(8141)" onMouseOut="lolite()" onClick="logVariable('vals')" href="../../_variables/vals.html">$vals</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l2509"><span class="linenum">2509</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['type'];
<a name="l2510"><span class="linenum">2510</span></a>  
<a name="l2511"><span class="linenum">2511</span></a>  <span class="comment">                // open tag:</span>
<a name="l2512"><span class="linenum">2512</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'open' || <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'complete') {
<a name="l2513"><span class="linenum">2513</span></a>                  <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= '&lt;' . <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['tag'];
<a name="l2514"><span class="linenum">2514</span></a>                  if (isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes'])) {
<a name="l2515"><span class="linenum">2515</span></a>                      foreach (<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['attributes'] as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l2516"><span class="linenum">2516</span></a>                          <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= ' ' . <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> . '=&quot;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) . '&quot;';
<a name="l2517"><span class="linenum">2517</span></a>                      }
<a name="l2518"><span class="linenum">2518</span></a>                  }
<a name="l2519"><span class="linenum">2519</span></a>                  if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'complete') {
<a name="l2520"><span class="linenum">2520</span></a>                      if (isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value'])) {
<a name="l2521"><span class="linenum">2521</span></a>                          <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= '&gt;' . <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value']) . '&lt;/' . <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['tag'] . '&gt;';
<a name="l2522"><span class="linenum">2522</span></a>                      } else {
<a name="l2523"><span class="linenum">2523</span></a>                          <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= '/&gt;';
<a name="l2524"><span class="linenum">2524</span></a>                      }
<a name="l2525"><span class="linenum">2525</span></a>                  } else {
<a name="l2526"><span class="linenum">2526</span></a>                      <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= '&gt;';
<a name="l2527"><span class="linenum">2527</span></a>                  }
<a name="l2528"><span class="linenum">2528</span></a>  
<a name="l2529"><span class="linenum">2529</span></a>                  if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'open' &amp;&amp; isset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value'])) {
<a name="l2530"><span class="linenum">2530</span></a>                      <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value']);
<a name="l2531"><span class="linenum">2531</span></a>                  }
<a name="l2532"><span class="linenum">2532</span></a>              }
<a name="l2533"><span class="linenum">2533</span></a>  <span class="comment">                // finish tag:</span>
<a name="l2534"><span class="linenum">2534</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'close') {
<a name="l2535"><span class="linenum">2535</span></a>                  <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= '&lt;/' . <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['tag'] . '&gt;';
<a name="l2536"><span class="linenum">2536</span></a>              }
<a name="l2537"><span class="linenum">2537</span></a>  <span class="comment">                // cdata</span>
<a name="l2538"><span class="linenum">2538</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'cdata') {
<a name="l2539"><span class="linenum">2539</span></a>                  <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a> .= <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>['value']);
<a name="l2540"><span class="linenum">2540</span></a>              }
<a name="l2541"><span class="linenum">2541</span></a>          }
<a name="l2542"><span class="linenum">2542</span></a>  
<a name="l2543"><span class="linenum">2543</span></a>          return <a class="var it37841" onMouseOver="hilite(37841)" onMouseOut="lolite()" onClick="logVariable('XMLcontent')" href="../../_variables/XMLcontent.html">$XMLcontent</a>;
<a name="l2544"><span class="linenum">2544</span></a>      }
<a name="l2545"><span class="linenum">2545</span></a>  
<a name="l2546"><span class="linenum">2546</span></a>      <span class="comment">/**</span>
<a name="l2547"><span class="linenum">2547</span></a>  <span class="comment">     * Extracts the attributes (typically encoding and version) of an XML prologue (header).</span>
<a name="l2548"><span class="linenum">2548</span></a>  <span class="comment">     *</span>
<a name="l2549"><span class="linenum">2549</span></a>  <span class="comment">     * @param string $xmlData XML data</span>
<a name="l2550"><span class="linenum">2550</span></a>  <span class="comment">     * @return array Attributes of the xml prologue (header)</span>
<a name="l2551"><span class="linenum">2551</span></a>  <span class="comment">     */</span>
<a name="l2552"><span class="linenum">2552</span></a>  	public static function <a class="function" onClick="logFunction('xmlGetHeaderAttribs')" href="../../_functions/xmlgetheaderattribs.html" onMouseOver="funcPopup(event,'xmlgetheaderattribs')">xmlGetHeaderAttribs</a>(<a class="var it31582" onMouseOver="hilite(31582)" onMouseOut="lolite()" onClick="logVariable('xmlData')" href="../../_variables/xmlData.html">$xmlData</a>) {
<a name="l2553"><span class="linenum">2553</span></a>          <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a> = array();
<a name="l2554"><span class="linenum">2554</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^\s*&lt;\?xml([^&gt;]*)\?\&gt;/', <a class="var it31582" onMouseOver="hilite(31582)" onMouseOut="lolite()" onClick="logVariable('xmlData')" href="../../_variables/xmlData.html">$xmlData</a>, <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>)) {
<a name="l2555"><span class="linenum">2555</span></a>              return self::<a class="function" onClick="logFunction('get_tag_attributes')" href="../../_functions/get_tag_attributes.html" onMouseOver="funcPopup(event,'get_tag_attributes')">get_tag_attributes</a>(<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1]);
<a name="l2556"><span class="linenum">2556</span></a>          }
<a name="l2557"><span class="linenum">2557</span></a>      }
<a name="l2558"><span class="linenum">2558</span></a>  
<a name="l2559"><span class="linenum">2559</span></a>      <span class="comment">/**</span>
<a name="l2560"><span class="linenum">2560</span></a>  <span class="comment">     * Minifies JavaScript</span>
<a name="l2561"><span class="linenum">2561</span></a>  <span class="comment">     *</span>
<a name="l2562"><span class="linenum">2562</span></a>  <span class="comment">     * @param string $script Script to minify</span>
<a name="l2563"><span class="linenum">2563</span></a>  <span class="comment">     * @param string $error Error message (if any)</span>
<a name="l2564"><span class="linenum">2564</span></a>  <span class="comment">     * @return string Minified script or source string if error happened</span>
<a name="l2565"><span class="linenum">2565</span></a>  <span class="comment">     */</span>
<a name="l2566"><span class="linenum">2566</span></a>  	public static function <a class="function" onClick="logFunction('minifyJavaScript')" href="../../_functions/minifyjavascript.html" onMouseOver="funcPopup(event,'minifyjavascript')">minifyJavaScript</a>(<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>, &amp;<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = '') {
<a name="l2567"><span class="linenum">2567</span></a>          require_once(PATH_typo3 . 'contrib/jsmin/jsmin.php');
<a name="l2568"><span class="linenum">2568</span></a>          try {
<a name="l2569"><span class="linenum">2569</span></a>              <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = '';
<a name="l2570"><span class="linenum">2570</span></a>              <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(JSMin::<a class="function" onClick="logFunction('minify')" href="../../_functions/minify.html" onMouseOver="funcPopup(event,'minify')">minify</a>(<a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(CR, '', <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>)));
<a name="l2571"><span class="linenum">2571</span></a>          }
<a name="l2572"><span class="linenum">2572</span></a>          catch (JSMinException <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l2573"><span class="linenum">2573</span></a>              <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = 'Error while minifying JavaScript: ' . <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l2574"><span class="linenum">2574</span></a>              self::<a class="function" onClick="logFunction('devLog')" href="../../_functions/devlog.html" onMouseOver="funcPopup(event,'devlog')">devLog</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>, 't3lib_div', 2,
<a name="l2575"><span class="linenum">2575</span></a>                  array('JavaScript' =&gt; <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>, 'Stack trace' =&gt; <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;getTrace()));
<a name="l2576"><span class="linenum">2576</span></a>          }
<a name="l2577"><span class="linenum">2577</span></a>          return <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../_variables/script.html">$script</a>;
<a name="l2578"><span class="linenum">2578</span></a>      }
<a name="l2579"><span class="linenum">2579</span></a>  
<a name="l2580"><span class="linenum">2580</span></a>  
<a name="l2581"><span class="linenum">2581</span></a>      <span class="comment">/*************************</span>
<a name="l2582"><span class="linenum">2582</span></a>  <span class="comment">     *</span>
<a name="l2583"><span class="linenum">2583</span></a>  <span class="comment">     * FILES FUNCTIONS</span>
<a name="l2584"><span class="linenum">2584</span></a>  <span class="comment">     *</span>
<a name="l2585"><span class="linenum">2585</span></a>  <span class="comment">     *************************/</span>
<a name="l2586"><span class="linenum">2586</span></a>  
<a name="l2587"><span class="linenum">2587</span></a>      <span class="comment">/**</span>
<a name="l2588"><span class="linenum">2588</span></a>  <span class="comment">     * Reads the file or url $url and returns the content</span>
<a name="l2589"><span class="linenum">2589</span></a>  <span class="comment">     * If you are having trouble with proxys when reading URLs you can configure your way out of that with settings like $GLOBALS['TYPO3_CONF_VARS']['SYS']['curlUse'] etc.</span>
<a name="l2590"><span class="linenum">2590</span></a>  <span class="comment">     *</span>
<a name="l2591"><span class="linenum">2591</span></a>  <span class="comment">     * @param string $url File/URL to read</span>
<a name="l2592"><span class="linenum">2592</span></a>  <span class="comment">     * @param integer $includeHeader Whether the HTTP header should be fetched or not. 0=disable, 1=fetch header+content, 2=fetch header only</span>
<a name="l2593"><span class="linenum">2593</span></a>  <span class="comment">     * @param array $requestHeaders HTTP headers to be used in the request</span>
<a name="l2594"><span class="linenum">2594</span></a>  <span class="comment">     * @param array $report Error code/message and, if $includeHeader is 1, response meta data (HTTP status and content type)</span>
<a name="l2595"><span class="linenum">2595</span></a>  <span class="comment">     * @return mixed The content from the resource given as input. FALSE if an error has occured.</span>
<a name="l2596"><span class="linenum">2596</span></a>  <span class="comment">     */</span>
<a name="l2597"><span class="linenum">2597</span></a>  	public static function <a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> = 0, <a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a> = FALSE, &amp;<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a> = NULL) {
<a name="l2598"><span class="linenum">2598</span></a>          <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = FALSE;
<a name="l2599"><span class="linenum">2599</span></a>  
<a name="l2600"><span class="linenum">2600</span></a>          if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2601"><span class="linenum">2601</span></a>              <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = 0;
<a name="l2602"><span class="linenum">2602</span></a>              <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = '';
<a name="l2603"><span class="linenum">2603</span></a>          }
<a name="l2604"><span class="linenum">2604</span></a>  
<a name="l2605"><span class="linenum">2605</span></a>  <span class="comment">            // use cURL for: http, https, ftp, ftps, sftp and scp</span>
<a name="l2606"><span class="linenum">2606</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlUse'] == '1' &amp;&amp; <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^(?:http|ftp)s?|<a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(?:ftp|cp):/', <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>)) {
<a name="l2607"><span class="linenum">2607</span></a>              if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2608"><span class="linenum">2608</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['lib'] = 'cURL';
<a name="l2609"><span class="linenum">2609</span></a>              }
<a name="l2610"><span class="linenum">2610</span></a>  
<a name="l2611"><span class="linenum">2611</span></a>  <span class="comment">                // External URL without error checking.</span>
<a name="l2612"><span class="linenum">2612</span></a>              if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('curl_init') || !(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a> = <a class="phpfunction" onClick="logFunction('curl_init')" href="../../_functions/curl_init.html" onMouseOver="phpfuncPopup(event,'curl_init')">curl_init</a>())) {
<a name="l2613"><span class="linenum">2613</span></a>                  if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2614"><span class="linenum">2614</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2615"><span class="linenum">2615</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Couldn\'t initialize cURL.';
<a name="l2616"><span class="linenum">2616</span></a>                  }
<a name="l2617"><span class="linenum">2617</span></a>                  return FALSE;
<a name="l2618"><span class="linenum">2618</span></a>              }
<a name="l2619"><span class="linenum">2619</span></a>  
<a name="l2620"><span class="linenum">2620</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_URL, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l2621"><span class="linenum">2621</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_HEADER, <a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> ? 1 : 0);
<a name="l2622"><span class="linenum">2622</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_NOBODY, <a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> == 2 ? 1 : 0);
<a name="l2623"><span class="linenum">2623</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_HTTPGET, <a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> == 2 ? 'HEAD' : 'GET');
<a name="l2624"><span class="linenum">2624</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_RETURNTRANSFER, 1);
<a name="l2625"><span class="linenum">2625</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_FAILONERROR, 1);
<a name="l2626"><span class="linenum">2626</span></a>              <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_CONNECTTIMEOUT, <a class="phpfunction" onClick="logFunction('max')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlTimeout'])));
<a name="l2627"><span class="linenum">2627</span></a>  
<a name="l2628"><span class="linenum">2628</span></a>              <a class="var it37843" onMouseOver="hilite(37843)" onMouseOut="lolite()" onClick="logVariable('followLocation')" href="../../_variables/followLocation.html">$followLocation</a> = @<a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_FOLLOWLOCATION, 1);
<a name="l2629"><span class="linenum">2629</span></a>  
<a name="l2630"><span class="linenum">2630</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>)) {
<a name="l2631"><span class="linenum">2631</span></a>                  <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_HTTPHEADER, <a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>);
<a name="l2632"><span class="linenum">2632</span></a>              }
<a name="l2633"><span class="linenum">2633</span></a>  
<a name="l2634"><span class="linenum">2634</span></a>  <span class="comment">                // (Proxy support implemented by Arco &lt;arco@appeltaart.mine.nu&gt;)</span>
<a name="l2635"><span class="linenum">2635</span></a>              if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyServer']) {
<a name="l2636"><span class="linenum">2636</span></a>                  <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_PROXY, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyServer']);
<a name="l2637"><span class="linenum">2637</span></a>  
<a name="l2638"><span class="linenum">2638</span></a>                  if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyTunnel']) {
<a name="l2639"><span class="linenum">2639</span></a>                      <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_HTTPPROXYTUNNEL, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyTunnel']);
<a name="l2640"><span class="linenum">2640</span></a>                  }
<a name="l2641"><span class="linenum">2641</span></a>                  if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyUserPass']) {
<a name="l2642"><span class="linenum">2642</span></a>                      <a class="phpfunction" onClick="logFunction('curl_setopt')" href="../../_functions/curl_setopt.html" onMouseOver="phpfuncPopup(event,'curl_setopt')">curl_setopt</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>, CURLOPT_PROXYUSERPWD, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['curlProxyUserPass']);
<a name="l2643"><span class="linenum">2643</span></a>                  }
<a name="l2644"><span class="linenum">2644</span></a>              }
<a name="l2645"><span class="linenum">2645</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('curl_exec')" href="../../_functions/curl_exec.html" onMouseOver="phpfuncPopup(event,'curl_exec')">curl_exec</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l2646"><span class="linenum">2646</span></a>              if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2647"><span class="linenum">2647</span></a>                  if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> === FALSE) {
<a name="l2648"><span class="linenum">2648</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = <a class="phpfunction" onClick="logFunction('curl_errno')" href="../../_functions/curl_errno.html" onMouseOver="phpfuncPopup(event,'curl_errno')">curl_errno</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l2649"><span class="linenum">2649</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = <a class="phpfunction" onClick="logFunction('curl_error')" href="../../_functions/curl_error.html" onMouseOver="phpfuncPopup(event,'curl_error')">curl_error</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l2650"><span class="linenum">2650</span></a>                  } else {
<a name="l2651"><span class="linenum">2651</span></a>                      <a class="var it37844" onMouseOver="hilite(37844)" onMouseOut="lolite()" onClick="logVariable('curlInfo')" href="../../_variables/curlInfo.html">$curlInfo</a> = <a class="phpfunction" onClick="logFunction('curl_getinfo')" href="../../_functions/curl_getinfo.html" onMouseOver="phpfuncPopup(event,'curl_getinfo')">curl_getinfo</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l2652"><span class="linenum">2652</span></a>  <span class="comment">                        // We hit a redirection but we couldn't follow it</span>
<a name="l2653"><span class="linenum">2653</span></a>                      if (!<a class="var it37843" onMouseOver="hilite(37843)" onMouseOut="lolite()" onClick="logVariable('followLocation')" href="../../_variables/followLocation.html">$followLocation</a> &amp;&amp; <a class="var it37844" onMouseOver="hilite(37844)" onMouseOut="lolite()" onClick="logVariable('curlInfo')" href="../../_variables/curlInfo.html">$curlInfo</a>['status'] &gt;= 300 &amp;&amp; <a class="var it37844" onMouseOver="hilite(37844)" onMouseOut="lolite()" onClick="logVariable('curlInfo')" href="../../_variables/curlInfo.html">$curlInfo</a>['status'] &lt; 400) {
<a name="l2654"><span class="linenum">2654</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2655"><span class="linenum">2655</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Couldn\'t follow location <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a> (PHP configuration option open_basedir is in effect).';
<a name="l2656"><span class="linenum">2656</span></a>                      } elseif (<a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a>) {
<a name="l2657"><span class="linenum">2657</span></a>  <span class="comment">                            // Set only for $includeHeader to work exactly like PHP variant</span>
<a name="l2658"><span class="linenum">2658</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['http_code'] = <a class="var it37844" onMouseOver="hilite(37844)" onMouseOut="lolite()" onClick="logVariable('curlInfo')" href="../../_variables/curlInfo.html">$curlInfo</a>['http_code'];
<a name="l2659"><span class="linenum">2659</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['content_type'] = <a class="var it37844" onMouseOver="hilite(37844)" onMouseOut="lolite()" onClick="logVariable('curlInfo')" href="../../_variables/curlInfo.html">$curlInfo</a>['content_type'];
<a name="l2660"><span class="linenum">2660</span></a>                      }
<a name="l2661"><span class="linenum">2661</span></a>                  }
<a name="l2662"><span class="linenum">2662</span></a>              }
<a name="l2663"><span class="linenum">2663</span></a>              <a class="phpfunction" onClick="logFunction('curl_close')" href="../../_functions/curl_close.html" onMouseOver="phpfuncPopup(event,'curl_close')">curl_close</a>(<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('ch')" href="../../_variables/ch.html">$ch</a>);
<a name="l2664"><span class="linenum">2664</span></a>  
<a name="l2665"><span class="linenum">2665</span></a>          } elseif (<a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a>) {
<a name="l2666"><span class="linenum">2666</span></a>              if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2667"><span class="linenum">2667</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['lib'] = 'socket';
<a name="l2668"><span class="linenum">2668</span></a>              }
<a name="l2669"><span class="linenum">2669</span></a>              <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l2670"><span class="linenum">2670</span></a>              if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^https?/', <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['scheme'])) {
<a name="l2671"><span class="linenum">2671</span></a>                  if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2672"><span class="linenum">2672</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2673"><span class="linenum">2673</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Reading headers is not allowed for this protocol.';
<a name="l2674"><span class="linenum">2674</span></a>                  }
<a name="l2675"><span class="linenum">2675</span></a>                  return FALSE;
<a name="l2676"><span class="linenum">2676</span></a>              }
<a name="l2677"><span class="linenum">2677</span></a>              <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['port']);
<a name="l2678"><span class="linenum">2678</span></a>              if (<a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> &lt; 1) {
<a name="l2679"><span class="linenum">2679</span></a>                  if (<a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['scheme'] == 'http') {
<a name="l2680"><span class="linenum">2680</span></a>                      <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> = (<a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> &gt; 0 ? <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> : 80);
<a name="l2681"><span class="linenum">2681</span></a>                      <a class="var it3385" onMouseOver="hilite(3385)" onMouseOut="lolite()" onClick="logVariable('scheme')" href="../../_variables/scheme.html">$scheme</a> = '';
<a name="l2682"><span class="linenum">2682</span></a>                  } else {
<a name="l2683"><span class="linenum">2683</span></a>                      <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> = (<a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> &gt; 0 ? <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> : 443);
<a name="l2684"><span class="linenum">2684</span></a>                      <a class="var it3385" onMouseOver="hilite(3385)" onMouseOut="lolite()" onClick="logVariable('scheme')" href="../../_variables/scheme.html">$scheme</a> = 'ssl://';
<a name="l2685"><span class="linenum">2685</span></a>                  }
<a name="l2686"><span class="linenum">2686</span></a>              }
<a name="l2687"><span class="linenum">2687</span></a>              <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> = 0;
<a name="l2688"><span class="linenum">2688</span></a>  <span class="comment">                // $errstr = '';</span>
<a name="l2689"><span class="linenum">2689</span></a>              <a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a> = @<a class="phpfunction" onClick="logFunction('fsockopen')" href="../../_functions/fsockopen.html" onMouseOver="phpfuncPopup(event,'fsockopen')">fsockopen</a>(<a class="var it3385" onMouseOver="hilite(3385)" onMouseOut="lolite()" onClick="logVariable('scheme')" href="../../_variables/scheme.html">$scheme</a> . <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['host'], <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a>, <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a>, <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a>, 2.0);
<a name="l2690"><span class="linenum">2690</span></a>              if (!<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a> || <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> &gt; 0) {
<a name="l2691"><span class="linenum">2691</span></a>                  if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2692"><span class="linenum">2692</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> ? <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> : -1;
<a name="l2693"><span class="linenum">2693</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> ? (<a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a> ? <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a> : 'Socket error.') : 'Socket initialization error.';
<a name="l2694"><span class="linenum">2694</span></a>                  }
<a name="l2695"><span class="linenum">2695</span></a>                  return FALSE;
<a name="l2696"><span class="linenum">2696</span></a>              }
<a name="l2697"><span class="linenum">2697</span></a>              <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a> = (<a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> == 2) ? 'HEAD' : 'GET';
<a name="l2698"><span class="linenum">2698</span></a>              <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a> . ' ' . (isset(<a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['path']) ? <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['path'] : '/') .
<a name="l2699"><span class="linenum">2699</span></a>                      (<a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['query'] ? '?' . <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['query'] : '') .
<a name="l2700"><span class="linenum">2700</span></a>                      ' HTTP/1.0' . <a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a> . 'Host: ' .
<a name="l2701"><span class="linenum">2701</span></a>                      <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['host'] . &quot;\r\nConnection: close\r\n&quot;;
<a name="l2702"><span class="linenum">2702</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>)) {
<a name="l2703"><span class="linenum">2703</span></a>                  <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> .= <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>, <a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>) . <a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>;
<a name="l2704"><span class="linenum">2704</span></a>              }
<a name="l2705"><span class="linenum">2705</span></a>              <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> .= <a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>;
<a name="l2706"><span class="linenum">2706</span></a>  
<a name="l2707"><span class="linenum">2707</span></a>              <a class="function" onClick="logFunction('fputs')" href="../../_functions/fputs.html" onMouseOver="funcPopup(event,'fputs')">fputs</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>, <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>);
<a name="l2708"><span class="linenum">2708</span></a>              while (!<a class="phpfunction" onClick="logFunction('feof')" href="../../_functions/feof.html" onMouseOver="phpfuncPopup(event,'feof')">feof</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>)) {
<a name="l2709"><span class="linenum">2709</span></a>                  <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('fgets')" href="../../_functions/fgets.html" onMouseOver="phpfuncPopup(event,'fgets')">fgets</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>, 2048);
<a name="l2710"><span class="linenum">2710</span></a>                  if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2711"><span class="linenum">2711</span></a>                      if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('|^HTTP/\d\.\d +(\d+)|', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>)) {
<a name="l2712"><span class="linenum">2712</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['http_code'] = <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>[1];
<a name="l2713"><span class="linenum">2713</span></a>                      }
<a name="l2714"><span class="linenum">2714</span></a>                      elseif (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^Content-Type: *(.*)/i', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>)) {
<a name="l2715"><span class="linenum">2715</span></a>                          <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['content_type'] = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>[1];
<a name="l2716"><span class="linenum">2716</span></a>                      }
<a name="l2717"><span class="linenum">2717</span></a>                  }
<a name="l2718"><span class="linenum">2718</span></a>                  <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> .= <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l2719"><span class="linenum">2719</span></a>                  if (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>))) {
<a name="l2720"><span class="linenum">2720</span></a>                      break; <span class="comment">// Stop at the first empty line (= end of header)</span>
<a name="l2721"><span class="linenum">2721</span></a>                  }
<a name="l2722"><span class="linenum">2722</span></a>              }
<a name="l2723"><span class="linenum">2723</span></a>              if (<a class="var it37842" onMouseOver="hilite(37842)" onMouseOut="lolite()" onClick="logVariable('includeHeader')" href="../../_variables/includeHeader.html">$includeHeader</a> != 2) {
<a name="l2724"><span class="linenum">2724</span></a>                  <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> .= <a class="phpfunction" onClick="logFunction('stream_get_contents')" href="../../_functions/stream_get_contents.html" onMouseOver="phpfuncPopup(event,'stream_get_contents')">stream_get_contents</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>);
<a name="l2725"><span class="linenum">2725</span></a>              }
<a name="l2726"><span class="linenum">2726</span></a>              <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../../_variables/fp.html">$fp</a>);
<a name="l2727"><span class="linenum">2727</span></a>  
<a name="l2728"><span class="linenum">2728</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>)) {
<a name="l2729"><span class="linenum">2729</span></a>              if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2730"><span class="linenum">2730</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['lib'] = 'file/context';
<a name="l2731"><span class="linenum">2731</span></a>              }
<a name="l2732"><span class="linenum">2732</span></a>              <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l2733"><span class="linenum">2733</span></a>              if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^https?/', <a class="var it37845" onMouseOver="hilite(37845)" onMouseOut="lolite()" onClick="logVariable('parsedURL')" href="../../_variables/parsedURL.html">$parsedURL</a>['scheme'])) {
<a name="l2734"><span class="linenum">2734</span></a>                  if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2735"><span class="linenum">2735</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2736"><span class="linenum">2736</span></a>                      <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Sending request headers is not allowed for this protocol.';
<a name="l2737"><span class="linenum">2737</span></a>                  }
<a name="l2738"><span class="linenum">2738</span></a>                  return FALSE;
<a name="l2739"><span class="linenum">2739</span></a>              }
<a name="l2740"><span class="linenum">2740</span></a>              <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../../_variables/ctx.html">$ctx</a> = <a class="phpfunction" onClick="logFunction('stream_context_create')" href="../../_functions/stream_context_create.html" onMouseOver="phpfuncPopup(event,'stream_context_create')">stream_context_create</a>(array(
<a name="l2741"><span class="linenum">2741</span></a>                  'http' =&gt; array(
<a name="l2742"><span class="linenum">2742</span></a>                      'header' =&gt; <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>, <a class="var it4691" onMouseOver="hilite(4691)" onMouseOut="lolite()" onClick="logVariable('requestHeaders')" href="../../_variables/requestHeaders.html">$requestHeaders</a>)
<a name="l2743"><span class="linenum">2743</span></a>                  )
<a name="l2744"><span class="linenum">2744</span></a>              )
<a name="l2745"><span class="linenum">2745</span></a>              );
<a name="l2746"><span class="linenum">2746</span></a>  
<a name="l2747"><span class="linenum">2747</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = @<a class="phpfunction" onClick="logFunction('file_get_contents')" href="../../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, FALSE, <a class="var it1068" onMouseOver="hilite(1068)" onMouseOut="lolite()" onClick="logVariable('ctx')" href="../../_variables/ctx.html">$ctx</a>);
<a name="l2748"><span class="linenum">2748</span></a>  
<a name="l2749"><span class="linenum">2749</span></a>              if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> === FALSE &amp;&amp; isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2750"><span class="linenum">2750</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2751"><span class="linenum">2751</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Couldn\'t get URL: ' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(LF, <a class="var it4695" onMouseOver="hilite(4695)" onMouseOut="lolite()" onClick="logVariable('http_response_header')" href="../../_variables/http_response_header.html">$http_response_header</a>);
<a name="l2752"><span class="linenum">2752</span></a>              }
<a name="l2753"><span class="linenum">2753</span></a>          } else {
<a name="l2754"><span class="linenum">2754</span></a>              if (isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2755"><span class="linenum">2755</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['lib'] = 'file';
<a name="l2756"><span class="linenum">2756</span></a>              }
<a name="l2757"><span class="linenum">2757</span></a>  
<a name="l2758"><span class="linenum">2758</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = @<a class="phpfunction" onClick="logFunction('file_get_contents')" href="../../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l2759"><span class="linenum">2759</span></a>  
<a name="l2760"><span class="linenum">2760</span></a>              if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> === FALSE &amp;&amp; isset(<a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>)) {
<a name="l2761"><span class="linenum">2761</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['error'] = -1;
<a name="l2762"><span class="linenum">2762</span></a>                  <a class="var it3795" onMouseOver="hilite(3795)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../_variables/report.html">$report</a>['message'] = 'Couldn\'t get URL: ' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(LF, <a class="var it4695" onMouseOver="hilite(4695)" onMouseOut="lolite()" onClick="logVariable('http_response_header')" href="../../_variables/http_response_header.html">$http_response_header</a>);
<a name="l2763"><span class="linenum">2763</span></a>              }
<a name="l2764"><span class="linenum">2764</span></a>          }
<a name="l2765"><span class="linenum">2765</span></a>  
<a name="l2766"><span class="linenum">2766</span></a>          return <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>;
<a name="l2767"><span class="linenum">2767</span></a>      }
<a name="l2768"><span class="linenum">2768</span></a>  
<a name="l2769"><span class="linenum">2769</span></a>      <span class="comment">/**</span>
<a name="l2770"><span class="linenum">2770</span></a>  <span class="comment">     * Writes $content to the file $file</span>
<a name="l2771"><span class="linenum">2771</span></a>  <span class="comment">     *</span>
<a name="l2772"><span class="linenum">2772</span></a>  <span class="comment">     * @param string $file Filepath to write to</span>
<a name="l2773"><span class="linenum">2773</span></a>  <span class="comment">     * @param string $content Content to write</span>
<a name="l2774"><span class="linenum">2774</span></a>  <span class="comment">     * @return boolean TRUE if the file was successfully opened and written to.</span>
<a name="l2775"><span class="linenum">2775</span></a>  <span class="comment">     */</span>
<a name="l2776"><span class="linenum">2776</span></a>  	public static function <a class="function" onClick="logFunction('writeFile')" href="../../_functions/writefile.html" onMouseOver="funcPopup(event,'writefile')">writeFile</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l2777"><span class="linenum">2777</span></a>          if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l2778"><span class="linenum">2778</span></a>              <a class="var it37846" onMouseOver="hilite(37846)" onMouseOut="lolite()" onClick="logVariable('changePermissions')" href="../../_variables/changePermissions.html">$changePermissions</a> = TRUE;
<a name="l2779"><span class="linenum">2779</span></a>          }
<a name="l2780"><span class="linenum">2780</span></a>  
<a name="l2781"><span class="linenum">2781</span></a>          if (<a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('fd')" href="../../_variables/fd.html">$fd</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, 'wb')) {
<a name="l2782"><span class="linenum">2782</span></a>              <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> = <a class="phpfunction" onClick="logFunction('fwrite')" href="../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('fd')" href="../../_variables/fd.html">$fd</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>);
<a name="l2783"><span class="linenum">2783</span></a>              <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it7269" onMouseOver="hilite(7269)" onMouseOut="lolite()" onClick="logVariable('fd')" href="../../_variables/fd.html">$fd</a>);
<a name="l2784"><span class="linenum">2784</span></a>  
<a name="l2785"><span class="linenum">2785</span></a>              if (<a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> === FALSE) {
<a name="l2786"><span class="linenum">2786</span></a>                  return FALSE;
<a name="l2787"><span class="linenum">2787</span></a>              }
<a name="l2788"><span class="linenum">2788</span></a>  
<a name="l2789"><span class="linenum">2789</span></a>              if (<a class="var it37846" onMouseOver="hilite(37846)" onMouseOut="lolite()" onClick="logVariable('changePermissions')" href="../../_variables/changePermissions.html">$changePermissions</a>) { // Change the permissions only if the file has just been created
<a name="l2790"><span class="linenum">2790</span></a>                  self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l2791"><span class="linenum">2791</span></a>              }
<a name="l2792"><span class="linenum">2792</span></a>  
<a name="l2793"><span class="linenum">2793</span></a>              return TRUE;
<a name="l2794"><span class="linenum">2794</span></a>          }
<a name="l2795"><span class="linenum">2795</span></a>  
<a name="l2796"><span class="linenum">2796</span></a>          return FALSE;
<a name="l2797"><span class="linenum">2797</span></a>      }
<a name="l2798"><span class="linenum">2798</span></a>  
<a name="l2799"><span class="linenum">2799</span></a>      <span class="comment">/**</span>
<a name="l2800"><span class="linenum">2800</span></a>  <span class="comment">     * Sets the file system mode and group ownership of a file or a folder.</span>
<a name="l2801"><span class="linenum">2801</span></a>  <span class="comment">     *</span>
<a name="l2802"><span class="linenum">2802</span></a>  <span class="comment">     * @param string $path Path of file or folder, must not be escaped. Path can be absolute or relative</span>
<a name="l2803"><span class="linenum">2803</span></a>  <span class="comment">     * @param boolean $recursive If set, also fixes permissions of files and folders in the folder (if $path is a folder)</span>
<a name="l2804"><span class="linenum">2804</span></a>  <span class="comment">     * @return mixed TRUE on success, FALSE on error, always TRUE on Windows OS</span>
<a name="l2805"><span class="linenum">2805</span></a>  <span class="comment">     */</span>
<a name="l2806"><span class="linenum">2806</span></a>  	public static function <a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('recursive')" href="../../_variables/recursive.html">$recursive</a> = FALSE) {
<a name="l2807"><span class="linenum">2807</span></a>          if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> != 'WIN') {
<a name="l2808"><span class="linenum">2808</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = FALSE;
<a name="l2809"><span class="linenum">2809</span></a>  
<a name="l2810"><span class="linenum">2810</span></a>  <span class="comment">                // Make path absolute</span>
<a name="l2811"><span class="linenum">2811</span></a>              if (!self::<a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l2812"><span class="linenum">2812</span></a>                  <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, FALSE);
<a name="l2813"><span class="linenum">2813</span></a>              }
<a name="l2814"><span class="linenum">2814</span></a>  
<a name="l2815"><span class="linenum">2815</span></a>              if (self::<a class="function" onClick="logFunction('isAllowedAbsPath')" href="../../_functions/isallowedabspath.html" onMouseOver="funcPopup(event,'isallowedabspath')">isAllowedAbsPath</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l2816"><span class="linenum">2816</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l2817"><span class="linenum">2817</span></a>  <span class="comment">                        // &quot;@&quot; is there because file is not necessarily OWNED by the user</span>
<a name="l2818"><span class="linenum">2818</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @<a class="phpfunction" onClick="logFunction('chmod')" href="../../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="phpfunction" onClick="logFunction('octdec')" href="../../_functions/octdec.html" onMouseOver="phpfuncPopup(event,'octdec')">octdec</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['fileCreateMask']));
<a name="l2819"><span class="linenum">2819</span></a>                  } elseif (@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l2820"><span class="linenum">2820</span></a>  <span class="comment">                        // &quot;@&quot; is there because file is not necessarily OWNED by the user</span>
<a name="l2821"><span class="linenum">2821</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @<a class="phpfunction" onClick="logFunction('chmod')" href="../../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="phpfunction" onClick="logFunction('octdec')" href="../../_functions/octdec.html" onMouseOver="phpfuncPopup(event,'octdec')">octdec</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['folderCreateMask']));
<a name="l2822"><span class="linenum">2822</span></a>                  }
<a name="l2823"><span class="linenum">2823</span></a>  
<a name="l2824"><span class="linenum">2824</span></a>  <span class="comment">                    // Set createGroup if not empty</span>
<a name="l2825"><span class="linenum">2825</span></a>                  if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['createGroup']) {
<a name="l2826"><span class="linenum">2826</span></a>  <span class="comment">                        // &quot;@&quot; is there because file is not necessarily OWNED by the user</span>
<a name="l2827"><span class="linenum">2827</span></a>                      <a class="var it37847" onMouseOver="hilite(37847)" onMouseOut="lolite()" onClick="logVariable('changeGroupResult')" href="../../_variables/changeGroupResult.html">$changeGroupResult</a> = @<a class="phpfunction" onClick="logFunction('chgrp')" href="../../_functions/chgrp.html" onMouseOver="phpfuncPopup(event,'chgrp')">chgrp</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['createGroup']);
<a name="l2828"><span class="linenum">2828</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="var it37847" onMouseOver="hilite(37847)" onMouseOut="lolite()" onClick="logVariable('changeGroupResult')" href="../../_variables/changeGroupResult.html">$changeGroupResult</a> ? <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> : FALSE;
<a name="l2829"><span class="linenum">2829</span></a>                  }
<a name="l2830"><span class="linenum">2830</span></a>  
<a name="l2831"><span class="linenum">2831</span></a>  <span class="comment">                    // Call recursive if recursive flag if set and $path is directory</span>
<a name="l2832"><span class="linenum">2832</span></a>                  if (<a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('recursive')" href="../../_variables/recursive.html">$recursive</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l2833"><span class="linenum">2833</span></a>                      <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a> = <a class="phpfunction" onClick="logFunction('opendir')" href="../../_functions/opendir.html" onMouseOver="phpfuncPopup(event,'opendir')">opendir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l2834"><span class="linenum">2834</span></a>                      while ((<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = readdir(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a>)) !== FALSE) {
<a name="l2835"><span class="linenum">2835</span></a>                          <a class="var it37848" onMouseOver="hilite(37848)" onMouseOut="lolite()" onClick="logVariable('recursionResult')" href="../../_variables/recursionResult.html">$recursionResult</a> = NULL;
<a name="l2836"><span class="linenum">2836</span></a>                          if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> !== '.' &amp;&amp; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> !== '..') {
<a name="l2837"><span class="linenum">2837</span></a>                              if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l2838"><span class="linenum">2838</span></a>                                  <a class="var it37848" onMouseOver="hilite(37848)" onMouseOut="lolite()" onClick="logVariable('recursionResult')" href="../../_variables/recursionResult.html">$recursionResult</a> = self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l2839"><span class="linenum">2839</span></a>                              } elseif (@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l2840"><span class="linenum">2840</span></a>                                  <a class="var it37848" onMouseOver="hilite(37848)" onMouseOut="lolite()" onClick="logVariable('recursionResult')" href="../../_variables/recursionResult.html">$recursionResult</a> = self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, TRUE);
<a name="l2841"><span class="linenum">2841</span></a>                              }
<a name="l2842"><span class="linenum">2842</span></a>                              if (isset(<a class="var it37848" onMouseOver="hilite(37848)" onMouseOut="lolite()" onClick="logVariable('recursionResult')" href="../../_variables/recursionResult.html">$recursionResult</a>) &amp;&amp; !<a class="var it37848" onMouseOver="hilite(37848)" onMouseOut="lolite()" onClick="logVariable('recursionResult')" href="../../_variables/recursionResult.html">$recursionResult</a>) {
<a name="l2843"><span class="linenum">2843</span></a>                                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = FALSE;
<a name="l2844"><span class="linenum">2844</span></a>                              }
<a name="l2845"><span class="linenum">2845</span></a>                          }
<a name="l2846"><span class="linenum">2846</span></a>                      }
<a name="l2847"><span class="linenum">2847</span></a>                      <a class="phpfunction" onClick="logFunction('closedir')" href="../../_functions/closedir.html" onMouseOver="phpfuncPopup(event,'closedir')">closedir</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a>);
<a name="l2848"><span class="linenum">2848</span></a>                  }
<a name="l2849"><span class="linenum">2849</span></a>              }
<a name="l2850"><span class="linenum">2850</span></a>          } else {
<a name="l2851"><span class="linenum">2851</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = TRUE;
<a name="l2852"><span class="linenum">2852</span></a>          }
<a name="l2853"><span class="linenum">2853</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l2854"><span class="linenum">2854</span></a>      }
<a name="l2855"><span class="linenum">2855</span></a>  
<a name="l2856"><span class="linenum">2856</span></a>      <span class="comment">/**</span>
<a name="l2857"><span class="linenum">2857</span></a>  <span class="comment">     * Writes $content to a filename in the typo3temp/ folder (and possibly one or two subfolders...)</span>
<a name="l2858"><span class="linenum">2858</span></a>  <span class="comment">     * Accepts an additional subdirectory in the file path!</span>
<a name="l2859"><span class="linenum">2859</span></a>  <span class="comment">     *</span>
<a name="l2860"><span class="linenum">2860</span></a>  <span class="comment">     * @param string $filepath Absolute file path to write to inside &quot;typo3temp/&quot;. First part of this string must match PATH_site.&quot;typo3temp/&quot;</span>
<a name="l2861"><span class="linenum">2861</span></a>  <span class="comment">     * @param string $content Content string to write</span>
<a name="l2862"><span class="linenum">2862</span></a>  <span class="comment">     * @return string Returns NULL on success, otherwise an error string telling about the problem.</span>
<a name="l2863"><span class="linenum">2863</span></a>  <span class="comment">     */</span>
<a name="l2864"><span class="linenum">2864</span></a>  	public static function <a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l2865"><span class="linenum">2865</span></a>  
<a name="l2866"><span class="linenum">2866</span></a>  <span class="comment">            // Parse filepath into directory and basename:</span>
<a name="l2867"><span class="linenum">2867</span></a>          <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>);
<a name="l2868"><span class="linenum">2868</span></a>          <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['dirname'] .= '/';
<a name="l2869"><span class="linenum">2869</span></a>  
<a name="l2870"><span class="linenum">2870</span></a>  <span class="comment">            // Check parts:</span>
<a name="l2871"><span class="linenum">2871</span></a>          if (self::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>) &amp;&amp; <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['basename'] &amp;&amp; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['basename']) &lt; 60) {
<a name="l2872"><span class="linenum">2872</span></a>              if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('PATH_site')) {
<a name="l2873"><span class="linenum">2873</span></a>                  <a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a> = PATH_site . 'typo3temp/'; <span class="comment">// Setting main temporary directory name (standard)</span>
<a name="l2874"><span class="linenum">2874</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a>)) {
<a name="l2875"><span class="linenum">2875</span></a>                      if (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['dirname'], <a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a>)) {
<a name="l2876"><span class="linenum">2876</span></a>  
<a name="l2877"><span class="linenum">2877</span></a>  <span class="comment">                            // Checking if the &quot;subdir&quot; is found:</span>
<a name="l2878"><span class="linenum">2878</span></a>                          <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['dirname'], <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a>));
<a name="l2879"><span class="linenum">2879</span></a>                          if (<a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a>) {
<a name="l2880"><span class="linenum">2880</span></a>                              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^[[:alnum:]_]+\/$/', <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a>) || <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^[[:alnum:]_]+\/[[:alnum:]_]+\/$/', <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a>)) {
<a name="l2881"><span class="linenum">2881</span></a>                                  <a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a> .= <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a>;
<a name="l2882"><span class="linenum">2882</span></a>                                  if (!@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a>)) {
<a name="l2883"><span class="linenum">2883</span></a>                                      self::<a class="function" onClick="logFunction('mkdir_deep')" href="../../_functions/mkdir_deep.html" onMouseOver="funcPopup(event,'mkdir_deep')">mkdir_deep</a>(PATH_site . 'typo3temp/', <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a>);
<a name="l2884"><span class="linenum">2884</span></a>                                  }
<a name="l2885"><span class="linenum">2885</span></a>                              } else {
<a name="l2886"><span class="linenum">2886</span></a>                                  return 'Subdir, &quot;' . <a class="var it13999" onMouseOver="hilite(13999)" onMouseOut="lolite()" onClick="logVariable('subdir')" href="../../_variables/subdir.html">$subdir</a> . '&quot;, was NOT on the form &quot;[[:alnum:]_]/&quot; or  &quot;[[:alnum:]_]/[[:alnum:]_]/&quot;';
<a name="l2887"><span class="linenum">2887</span></a>                              }
<a name="l2888"><span class="linenum">2888</span></a>                          }
<a name="l2889"><span class="linenum">2889</span></a>  <span class="comment">                            // Checking dir-name again (sub-dir might have been created):</span>
<a name="l2890"><span class="linenum">2890</span></a>                          if (@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a>)) {
<a name="l2891"><span class="linenum">2891</span></a>                              if (<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a> == <a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a> . <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['basename']) {
<a name="l2892"><span class="linenum">2892</span></a>                                  self::<a class="function" onClick="logFunction('writeFile')" href="../../_functions/writefile.html" onMouseOver="funcPopup(event,'writefile')">writeFile</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>);
<a name="l2893"><span class="linenum">2893</span></a>                                  if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>)) {
<a name="l2894"><span class="linenum">2894</span></a>                                      return 'The file was not written to the disk. Please, check that you have write permissions to the typo3temp/ directory.';
<a name="l2895"><span class="linenum">2895</span></a>                                  }
<a name="l2896"><span class="linenum">2896</span></a>                              } else {
<a name="l2897"><span class="linenum">2897</span></a>                                  return 'Calculated filelocation didn\'t match input <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>!';
<a name="l2898"><span class="linenum">2898</span></a>                              }
<a name="l2899"><span class="linenum">2899</span></a>                          } else {
<a name="l2900"><span class="linenum">2900</span></a>                              return '&quot;' . <a class="var it1316" onMouseOver="hilite(1316)" onMouseOut="lolite()" onClick="logVariable('dirName')" href="../../_variables/dirName.html">$dirName</a> . '&quot; is not a directory!';
<a name="l2901"><span class="linenum">2901</span></a>                          }
<a name="l2902"><span class="linenum">2902</span></a>                      } else {
<a name="l2903"><span class="linenum">2903</span></a>                          return '&quot;' . <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['dirname'] . '&quot; was not within directory PATH_site + &quot;typo3temp/&quot;';
<a name="l2904"><span class="linenum">2904</span></a>                      }
<a name="l2905"><span class="linenum">2905</span></a>                  } else {
<a name="l2906"><span class="linenum">2906</span></a>                      return 'PATH_site + &quot;typo3temp/&quot; was not a directory!';
<a name="l2907"><span class="linenum">2907</span></a>                  }
<a name="l2908"><span class="linenum">2908</span></a>              } else {
<a name="l2909"><span class="linenum">2909</span></a>                  return 'PATH_site constant was NOT defined!';
<a name="l2910"><span class="linenum">2910</span></a>              }
<a name="l2911"><span class="linenum">2911</span></a>          } else {
<a name="l2912"><span class="linenum">2912</span></a>              return 'Input filepath &quot;' . <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a> . '&quot; was generally invalid!';
<a name="l2913"><span class="linenum">2913</span></a>          }
<a name="l2914"><span class="linenum">2914</span></a>      }
<a name="l2915"><span class="linenum">2915</span></a>  
<a name="l2916"><span class="linenum">2916</span></a>      <span class="comment">/**</span>
<a name="l2917"><span class="linenum">2917</span></a>  <span class="comment">     * Wrapper function for mkdir.</span>
<a name="l2918"><span class="linenum">2918</span></a>  <span class="comment">     * Sets folder permissions according to $GLOBALS['TYPO3_CONF_VARS']['BE']['folderCreateMask']</span>
<a name="l2919"><span class="linenum">2919</span></a>  <span class="comment">     * and group ownership according to $GLOBALS['TYPO3_CONF_VARS']['BE']['createGroup']</span>
<a name="l2920"><span class="linenum">2920</span></a>  <span class="comment">     *</span>
<a name="l2921"><span class="linenum">2921</span></a>  <span class="comment">     * @param string $newFolder Absolute path to folder, see PHP mkdir() function. Removes trailing slash internally.</span>
<a name="l2922"><span class="linenum">2922</span></a>  <span class="comment">     * @return boolean TRUE if @mkdir went well!</span>
<a name="l2923"><span class="linenum">2923</span></a>  <span class="comment">     */</span>
<a name="l2924"><span class="linenum">2924</span></a>  	public static function <a class="function" onClick="logFunction('mkdir')" href="../../_functions/mkdir.html" onMouseOver="funcPopup(event,'mkdir')">mkdir</a>(<a class="var it37850" onMouseOver="hilite(37850)" onMouseOut="lolite()" onClick="logVariable('newFolder')" href="../../_variables/newFolder.html">$newFolder</a>) {
<a name="l2925"><span class="linenum">2925</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @<a class="phpfunction" onClick="logFunction('mkdir')" href="../../_functions/mkdir.html" onMouseOver="phpfuncPopup(event,'mkdir')">mkdir</a>(<a class="var it37850" onMouseOver="hilite(37850)" onMouseOut="lolite()" onClick="logVariable('newFolder')" href="../../_variables/newFolder.html">$newFolder</a>, <a class="phpfunction" onClick="logFunction('octdec')" href="../../_functions/octdec.html" onMouseOver="phpfuncPopup(event,'octdec')">octdec</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['folderCreateMask']));
<a name="l2926"><span class="linenum">2926</span></a>          if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l2927"><span class="linenum">2927</span></a>              self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it37850" onMouseOver="hilite(37850)" onMouseOut="lolite()" onClick="logVariable('newFolder')" href="../../_variables/newFolder.html">$newFolder</a>);
<a name="l2928"><span class="linenum">2928</span></a>          }
<a name="l2929"><span class="linenum">2929</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l2930"><span class="linenum">2930</span></a>      }
<a name="l2931"><span class="linenum">2931</span></a>  
<a name="l2932"><span class="linenum">2932</span></a>      <span class="comment">/**</span>
<a name="l2933"><span class="linenum">2933</span></a>  <span class="comment">     * Creates a directory - including parent directories if necessary and</span>
<a name="l2934"><span class="linenum">2934</span></a>  <span class="comment">     * sets permissions on newly created directories.</span>
<a name="l2935"><span class="linenum">2935</span></a>  <span class="comment">     *</span>
<a name="l2936"><span class="linenum">2936</span></a>  <span class="comment">     * @param string $directory Target directory to create. Must a have trailing slash</span>
<a name="l2937"><span class="linenum">2937</span></a>  <span class="comment">     *         if second parameter is given!</span>
<a name="l2938"><span class="linenum">2938</span></a>  <span class="comment">     *         Example: &quot;/root/typo3site/typo3temp/foo/&quot;</span>
<a name="l2939"><span class="linenum">2939</span></a>  <span class="comment">     * @param string $deepDirectory Directory to create. This second parameter</span>
<a name="l2940"><span class="linenum">2940</span></a>  <span class="comment">     *         is kept for backwards compatibility since 4.6 where this method</span>
<a name="l2941"><span class="linenum">2941</span></a>  <span class="comment">     *         was split into a base directory and a deep directory to be created.</span>
<a name="l2942"><span class="linenum">2942</span></a>  <span class="comment">     *         Example: &quot;xx/yy/&quot; which creates &quot;/root/typo3site/xx/yy/&quot; if $directory is &quot;/root/typo3site/&quot;</span>
<a name="l2943"><span class="linenum">2943</span></a>  <span class="comment">     * @return void</span>
<a name="l2944"><span class="linenum">2944</span></a>  <span class="comment">     * @throws \InvalidArgumentException If $directory or $deepDirectory are not strings</span>
<a name="l2945"><span class="linenum">2945</span></a>  <span class="comment">     * @throws \RuntimeException If directory could not be created</span>
<a name="l2946"><span class="linenum">2946</span></a>  <span class="comment">     */</span>
<a name="l2947"><span class="linenum">2947</span></a>  	public static function <a class="function" onClick="logFunction('mkdir_deep')" href="../../_functions/mkdir_deep.html" onMouseOver="funcPopup(event,'mkdir_deep')">mkdir_deep</a>(<a class="var it6532" onMouseOver="hilite(6532)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../../_variables/directory.html">$directory</a>, <a class="var it37851" onMouseOver="hilite(37851)" onMouseOut="lolite()" onClick="logVariable('deepDirectory')" href="../../_variables/deepDirectory.html">$deepDirectory</a> = '') {
<a name="l2948"><span class="linenum">2948</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it6532" onMouseOver="hilite(6532)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../../_variables/directory.html">$directory</a>)) {
<a name="l2949"><span class="linenum">2949</span></a>              throw new \InvalidArgumentException(
<a name="l2950"><span class="linenum">2950</span></a>                  'The specified directory is of type &quot;' . <a class="phpfunction" onClick="logFunction('gettype')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">gettype</a>(<a class="var it6532" onMouseOver="hilite(6532)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../../_variables/directory.html">$directory</a>) . '&quot; but a string is expected.',
<a name="l2951"><span class="linenum">2951</span></a>                  1303662955
<a name="l2952"><span class="linenum">2952</span></a>              );
<a name="l2953"><span class="linenum">2953</span></a>          }
<a name="l2954"><span class="linenum">2954</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it37851" onMouseOver="hilite(37851)" onMouseOut="lolite()" onClick="logVariable('deepDirectory')" href="../../_variables/deepDirectory.html">$deepDirectory</a>)) {
<a name="l2955"><span class="linenum">2955</span></a>              throw new \InvalidArgumentException(
<a name="l2956"><span class="linenum">2956</span></a>                  'The specified directory is of type &quot;' . <a class="phpfunction" onClick="logFunction('gettype')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">gettype</a>(<a class="var it37851" onMouseOver="hilite(37851)" onMouseOut="lolite()" onClick="logVariable('deepDirectory')" href="../../_variables/deepDirectory.html">$deepDirectory</a>) . '&quot; but a string is expected.',
<a name="l2957"><span class="linenum">2957</span></a>                  1303662956
<a name="l2958"><span class="linenum">2958</span></a>              );
<a name="l2959"><span class="linenum">2959</span></a>          }
<a name="l2960"><span class="linenum">2960</span></a>  
<a name="l2961"><span class="linenum">2961</span></a>          <a class="var it37852" onMouseOver="hilite(37852)" onMouseOut="lolite()" onClick="logVariable('fullPath')" href="../../_variables/fullPath.html">$fullPath</a> = <a class="var it6532" onMouseOver="hilite(6532)" onMouseOut="lolite()" onClick="logVariable('directory')" href="../../_variables/directory.html">$directory</a> . <a class="var it37851" onMouseOver="hilite(37851)" onMouseOut="lolite()" onClick="logVariable('deepDirectory')" href="../../_variables/deepDirectory.html">$deepDirectory</a>;
<a name="l2962"><span class="linenum">2962</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it37852" onMouseOver="hilite(37852)" onMouseOut="lolite()" onClick="logVariable('fullPath')" href="../../_variables/fullPath.html">$fullPath</a>) &amp;&amp; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37852" onMouseOver="hilite(37852)" onMouseOut="lolite()" onClick="logVariable('fullPath')" href="../../_variables/fullPath.html">$fullPath</a>) &gt; 0) {
<a name="l2963"><span class="linenum">2963</span></a>              <a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a> = self::<a class="function" onClick="logFunction('createDirectoryPath')" href="../../_functions/createdirectorypath.html" onMouseOver="funcPopup(event,'createdirectorypath')">createDirectoryPath</a>(<a class="var it37852" onMouseOver="hilite(37852)" onMouseOut="lolite()" onClick="logVariable('fullPath')" href="../../_variables/fullPath.html">$fullPath</a>);
<a name="l2964"><span class="linenum">2964</span></a>              if (<a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a> !== '') {
<a name="l2965"><span class="linenum">2965</span></a>                  self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a>, TRUE);
<a name="l2966"><span class="linenum">2966</span></a>              }
<a name="l2967"><span class="linenum">2967</span></a>          }
<a name="l2968"><span class="linenum">2968</span></a>      }
<a name="l2969"><span class="linenum">2969</span></a>  
<a name="l2970"><span class="linenum">2970</span></a>      <span class="comment">/**</span>
<a name="l2971"><span class="linenum">2971</span></a>  <span class="comment">     * Creates directories for the specified paths if they do not exist. This</span>
<a name="l2972"><span class="linenum">2972</span></a>  <span class="comment">     * functions sets proper permission mask but does not set proper user and</span>
<a name="l2973"><span class="linenum">2973</span></a>  <span class="comment">     * group.</span>
<a name="l2974"><span class="linenum">2974</span></a>  <span class="comment">     *</span>
<a name="l2975"><span class="linenum">2975</span></a>  <span class="comment">     * @static</span>
<a name="l2976"><span class="linenum">2976</span></a>  <span class="comment">     * @param string $fullDirectoryPath</span>
<a name="l2977"><span class="linenum">2977</span></a>  <span class="comment">     * @return string Path to the the first created directory in the hierarchy</span>
<a name="l2978"><span class="linenum">2978</span></a>  <span class="comment">     * @see t3lib_div::mkdir_deep</span>
<a name="l2979"><span class="linenum">2979</span></a>  <span class="comment">     * @throws \RuntimeException If directory could not be created</span>
<a name="l2980"><span class="linenum">2980</span></a>  <span class="comment">     */</span>
<a name="l2981"><span class="linenum">2981</span></a>  	protected static function <a class="function" onClick="logFunction('createDirectoryPath')" href="../../_functions/createdirectorypath.html" onMouseOver="funcPopup(event,'createdirectorypath')">createDirectoryPath</a>(<a class="var it37854" onMouseOver="hilite(37854)" onMouseOut="lolite()" onClick="logVariable('fullDirectoryPath')" href="../../_variables/fullDirectoryPath.html">$fullDirectoryPath</a>) {
<a name="l2982"><span class="linenum">2982</span></a>          <a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a> = <a class="var it37854" onMouseOver="hilite(37854)" onMouseOut="lolite()" onClick="logVariable('fullDirectoryPath')" href="../../_variables/fullDirectoryPath.html">$fullDirectoryPath</a>;
<a name="l2983"><span class="linenum">2983</span></a>          <a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a> = '';
<a name="l2984"><span class="linenum">2984</span></a>          <a class="var it37856" onMouseOver="hilite(37856)" onMouseOut="lolite()" onClick="logVariable('permissionMask')" href="../../_variables/permissionMask.html">$permissionMask</a> = <a class="phpfunction" onClick="logFunction('octdec')" href="../../_functions/octdec.html" onMouseOver="phpfuncPopup(event,'octdec')">octdec</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['folderCreateMask']);
<a name="l2985"><span class="linenum">2985</span></a>          if (!@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a>)) {
<a name="l2986"><span class="linenum">2986</span></a>              do {
<a name="l2987"><span class="linenum">2987</span></a>                  <a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a> = <a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a>;
<a name="l2988"><span class="linenum">2988</span></a>                  <a class="var it37857" onMouseOver="hilite(37857)" onMouseOut="lolite()" onClick="logVariable('separatorPosition')" href="../../_variables/separatorPosition.html">$separatorPosition</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a>, DIRECTORY_SEPARATOR);
<a name="l2989"><span class="linenum">2989</span></a>                  <a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a>, 0, <a class="var it37857" onMouseOver="hilite(37857)" onMouseOut="lolite()" onClick="logVariable('separatorPosition')" href="../../_variables/separatorPosition.html">$separatorPosition</a>);
<a name="l2990"><span class="linenum">2990</span></a>              } while (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it37855" onMouseOver="hilite(37855)" onMouseOut="lolite()" onClick="logVariable('currentPath')" href="../../_variables/currentPath.html">$currentPath</a>) &amp;&amp; <a class="var it37857" onMouseOver="hilite(37857)" onMouseOut="lolite()" onClick="logVariable('separatorPosition')" href="../../_variables/separatorPosition.html">$separatorPosition</a> !== FALSE);
<a name="l2991"><span class="linenum">2991</span></a>  
<a name="l2992"><span class="linenum">2992</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @<a class="phpfunction" onClick="logFunction('mkdir')" href="../../_functions/mkdir.html" onMouseOver="phpfuncPopup(event,'mkdir')">mkdir</a>(<a class="var it37854" onMouseOver="hilite(37854)" onMouseOut="lolite()" onClick="logVariable('fullDirectoryPath')" href="../../_variables/fullDirectoryPath.html">$fullDirectoryPath</a>, <a class="var it37856" onMouseOver="hilite(37856)" onMouseOut="lolite()" onClick="logVariable('permissionMask')" href="../../_variables/permissionMask.html">$permissionMask</a>, TRUE);
<a name="l2993"><span class="linenum">2993</span></a>              if (!<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l2994"><span class="linenum">2994</span></a>                  throw new \RuntimeException('Could not create directory &quot;' . <a class="var it37854" onMouseOver="hilite(37854)" onMouseOut="lolite()" onClick="logVariable('fullDirectoryPath')" href="../../_variables/fullDirectoryPath.html">$fullDirectoryPath</a> . '&quot;!', 1170251400);
<a name="l2995"><span class="linenum">2995</span></a>              }
<a name="l2996"><span class="linenum">2996</span></a>          }
<a name="l2997"><span class="linenum">2997</span></a>          return <a class="var it37853" onMouseOver="hilite(37853)" onMouseOut="lolite()" onClick="logVariable('firstCreatedPath')" href="../../_variables/firstCreatedPath.html">$firstCreatedPath</a>;
<a name="l2998"><span class="linenum">2998</span></a>      }
<a name="l2999"><span class="linenum">2999</span></a>  
<a name="l3000"><span class="linenum">3000</span></a>      <span class="comment">/**</span>
<a name="l3001"><span class="linenum">3001</span></a>  <span class="comment">     * Wrapper function for rmdir, allowing recursive deletion of folders and files</span>
<a name="l3002"><span class="linenum">3002</span></a>  <span class="comment">     *</span>
<a name="l3003"><span class="linenum">3003</span></a>  <span class="comment">     * @param string $path Absolute path to folder, see PHP rmdir() function. Removes trailing slash internally.</span>
<a name="l3004"><span class="linenum">3004</span></a>  <span class="comment">     * @param boolean $removeNonEmpty Allow deletion of non-empty directories</span>
<a name="l3005"><span class="linenum">3005</span></a>  <span class="comment">     * @return boolean TRUE if @rmdir went well!</span>
<a name="l3006"><span class="linenum">3006</span></a>  <span class="comment">     */</span>
<a name="l3007"><span class="linenum">3007</span></a>  	public static function <a class="function" onClick="logFunction('rmdir')" href="../../_functions/rmdir.html" onMouseOver="funcPopup(event,'rmdir')">rmdir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it37858" onMouseOver="hilite(37858)" onMouseOut="lolite()" onClick="logVariable('removeNonEmpty')" href="../../_variables/removeNonEmpty.html">$removeNonEmpty</a> = FALSE) {
<a name="l3008"><span class="linenum">3008</span></a>          <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> = FALSE;
<a name="l3009"><span class="linenum">3009</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('|/$|', '', <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>); <span class="comment">// Remove trailing slash</span>
<a name="l3010"><span class="linenum">3010</span></a>  
<a name="l3011"><span class="linenum">3011</span></a>          if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l3012"><span class="linenum">3012</span></a>              <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> = TRUE;
<a name="l3013"><span class="linenum">3013</span></a>  
<a name="l3014"><span class="linenum">3014</span></a>              if (<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l3015"><span class="linenum">3015</span></a>                  if (<a class="var it37858" onMouseOver="hilite(37858)" onMouseOut="lolite()" onClick="logVariable('removeNonEmpty')" href="../../_variables/removeNonEmpty.html">$removeNonEmpty</a> == TRUE &amp;&amp; <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a> = <a class="phpfunction" onClick="logFunction('opendir')" href="../../_functions/opendir.html" onMouseOver="phpfuncPopup(event,'opendir')">opendir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l3016"><span class="linenum">3016</span></a>                      while (<a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> &amp;&amp; FALSE !== (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = readdir(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a>))) {
<a name="l3017"><span class="linenum">3017</span></a>                          if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> == '.' || <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> == '..') {
<a name="l3018"><span class="linenum">3018</span></a>                              continue;
<a name="l3019"><span class="linenum">3019</span></a>                          }
<a name="l3020"><span class="linenum">3020</span></a>                          <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> = self::<a class="phpfunction" onClick="logFunction('rmdir')" href="../../_functions/rmdir.html" onMouseOver="phpfuncPopup(event,'rmdir')">rmdir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it37858" onMouseOver="hilite(37858)" onMouseOut="lolite()" onClick="logVariable('removeNonEmpty')" href="../../_variables/removeNonEmpty.html">$removeNonEmpty</a>);
<a name="l3021"><span class="linenum">3021</span></a>                      }
<a name="l3022"><span class="linenum">3022</span></a>                      <a class="phpfunction" onClick="logFunction('closedir')" href="../../_functions/closedir.html" onMouseOver="phpfuncPopup(event,'closedir')">closedir</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../../_variables/handle.html">$handle</a>);
<a name="l3023"><span class="linenum">3023</span></a>                  }
<a name="l3024"><span class="linenum">3024</span></a>                  if (<a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a>) {
<a name="l3025"><span class="linenum">3025</span></a>                      <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> = <a class="phpfunction" onClick="logFunction('rmdir')" href="../../_functions/rmdir.html" onMouseOver="phpfuncPopup(event,'rmdir')">rmdir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3026"><span class="linenum">3026</span></a>                  }
<a name="l3027"><span class="linenum">3027</span></a>  
<a name="l3028"><span class="linenum">3028</span></a>              } else { // If <a class="var it3642" onMouseOver="hilite(3642)" onMouseOut="lolite()" onClick="logVariable('dirname')" href="../../_variables/dirname.html">$dirname</a> is a file, simply remove it
<a name="l3029"><span class="linenum">3029</span></a>                  <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a> = <a class="phpfunction" onClick="logFunction('unlink')" href="../../_functions/unlink.html" onMouseOver="phpfuncPopup(event,'unlink')">unlink</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3030"><span class="linenum">3030</span></a>              }
<a name="l3031"><span class="linenum">3031</span></a>  
<a name="l3032"><span class="linenum">3032</span></a>              <a class="phpfunction" onClick="logFunction('clearstatcache')" href="../../_functions/clearstatcache.html" onMouseOver="phpfuncPopup(event,'clearstatcache')">clearstatcache</a>();
<a name="l3033"><span class="linenum">3033</span></a>          }
<a name="l3034"><span class="linenum">3034</span></a>  
<a name="l3035"><span class="linenum">3035</span></a>          return <a class="var it37859" onMouseOver="hilite(37859)" onMouseOut="lolite()" onClick="logVariable('OK')" href="../../_variables/OK.html">$OK</a>;
<a name="l3036"><span class="linenum">3036</span></a>      }
<a name="l3037"><span class="linenum">3037</span></a>  
<a name="l3038"><span class="linenum">3038</span></a>      <span class="comment">/**</span>
<a name="l3039"><span class="linenum">3039</span></a>  <span class="comment">     * Returns an array with the names of folders in a specific path</span>
<a name="l3040"><span class="linenum">3040</span></a>  <span class="comment">     * Will return 'error' (string) if there were an error with reading directory content.</span>
<a name="l3041"><span class="linenum">3041</span></a>  <span class="comment">     *</span>
<a name="l3042"><span class="linenum">3042</span></a>  <span class="comment">     * @param string $path Path to list directories from</span>
<a name="l3043"><span class="linenum">3043</span></a>  <span class="comment">     * @return array Returns an array with the directory entries as values. If no path, the return value is nothing.</span>
<a name="l3044"><span class="linenum">3044</span></a>  <span class="comment">     */</span>
<a name="l3045"><span class="linenum">3045</span></a>  	public static function <a class="function" onClick="logFunction('get_dirs')" href="../../_functions/get_dirs.html" onMouseOver="funcPopup(event,'get_dirs')">get_dirs</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l3046"><span class="linenum">3046</span></a>          if (<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l3047"><span class="linenum">3047</span></a>              if (<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l3048"><span class="linenum">3048</span></a>                  <a class="var it1519" onMouseOver="hilite(1519)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a> = <a class="phpfunction" onClick="logFunction('scandir')" href="../../_functions/scandir.html" onMouseOver="phpfuncPopup(event,'scandir')">scandir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3049"><span class="linenum">3049</span></a>                  <a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a> = array();
<a name="l3050"><span class="linenum">3050</span></a>                  foreach (<a class="var it1519" onMouseOver="hilite(1519)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a> as <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>) {
<a name="l3051"><span class="linenum">3051</span></a>                      if (<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>) &amp;&amp; <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a> != '..' &amp;&amp; <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a> != '.') {
<a name="l3052"><span class="linenum">3052</span></a>                          <a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a>[] = <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>;
<a name="l3053"><span class="linenum">3053</span></a>                      }
<a name="l3054"><span class="linenum">3054</span></a>                  }
<a name="l3055"><span class="linenum">3055</span></a>              } else {
<a name="l3056"><span class="linenum">3056</span></a>                  <a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a> = 'error';
<a name="l3057"><span class="linenum">3057</span></a>              }
<a name="l3058"><span class="linenum">3058</span></a>          }
<a name="l3059"><span class="linenum">3059</span></a>          return <a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a>;
<a name="l3060"><span class="linenum">3060</span></a>      }
<a name="l3061"><span class="linenum">3061</span></a>  
<a name="l3062"><span class="linenum">3062</span></a>      <span class="comment">/**</span>
<a name="l3063"><span class="linenum">3063</span></a>  <span class="comment">     * Returns an array with the names of files in a specific path</span>
<a name="l3064"><span class="linenum">3064</span></a>  <span class="comment">     *</span>
<a name="l3065"><span class="linenum">3065</span></a>  <span class="comment">     * @param string $path Is the path to the file</span>
<a name="l3066"><span class="linenum">3066</span></a>  <span class="comment">     * @param string $extensionList is the comma list of extensions to read only (blank = all)</span>
<a name="l3067"><span class="linenum">3067</span></a>  <span class="comment">     * @param boolean $prependPath If set, then the path is prepended the file names. Otherwise only the file names are returned in the array</span>
<a name="l3068"><span class="linenum">3068</span></a>  <span class="comment">     * @param string $order is sorting: 1= sort alphabetically, 'mtime' = sort by modification time.</span>
<a name="l3069"><span class="linenum">3069</span></a>  <span class="comment">     *</span>
<a name="l3070"><span class="linenum">3070</span></a>  <span class="comment">     * @param string $excludePattern A comma separated list of file names to exclude, no wildcards</span>
<a name="l3071"><span class="linenum">3071</span></a>  <span class="comment">     * @return array Array of the files found</span>
<a name="l3072"><span class="linenum">3072</span></a>  <span class="comment">     */</span>
<a name="l3073"><span class="linenum">3073</span></a>  	public static function <a class="function" onClick="logFunction('getFilesInDir')" href="../../_functions/getfilesindir.html" onMouseOver="funcPopup(event,'getfilesindir')">getFilesInDir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it37860" onMouseOver="hilite(37860)" onMouseOut="lolite()" onClick="logVariable('extensionList')" href="../../_variables/extensionList.html">$extensionList</a> = '', <a class="var it37861" onMouseOver="hilite(37861)" onMouseOut="lolite()" onClick="logVariable('prependPath')" href="../../_variables/prependPath.html">$prependPath</a> = FALSE, <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../_variables/order.html">$order</a> = '', <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a> = '') {
<a name="l3074"><span class="linenum">3074</span></a>  
<a name="l3075"><span class="linenum">3075</span></a>  <span class="comment">            // Initialize variables:</span>
<a name="l3076"><span class="linenum">3076</span></a>          <a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a> = array();
<a name="l3077"><span class="linenum">3077</span></a>          <a class="var it29160" onMouseOver="hilite(29160)" onMouseOut="lolite()" onClick="logVariable('sortarray')" href="../../_variables/sortarray.html">$sortarray</a> = array();
<a name="l3078"><span class="linenum">3078</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, '/');
<a name="l3079"><span class="linenum">3079</span></a>  
<a name="l3080"><span class="linenum">3080</span></a>  <span class="comment">            // Find files+directories:</span>
<a name="l3081"><span class="linenum">3081</span></a>          if (@<a class="phpfunction" onClick="logFunction('is_dir')" href="../../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>)) {
<a name="l3082"><span class="linenum">3082</span></a>              <a class="var it37860" onMouseOver="hilite(37860)" onMouseOut="lolite()" onClick="logVariable('extensionList')" href="../../_variables/extensionList.html">$extensionList</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it37860" onMouseOver="hilite(37860)" onMouseOut="lolite()" onClick="logVariable('extensionList')" href="../../_variables/extensionList.html">$extensionList</a>);
<a name="l3083"><span class="linenum">3083</span></a>              <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a> = dir(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3084"><span class="linenum">3084</span></a>              if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>)) {
<a name="l3085"><span class="linenum">3085</span></a>                  while (<a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a> = <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>-&gt;<a class="function" onClick="logFunction('read')" href="../../_functions/read.html" onMouseOver="funcPopup(event,'read')">read</a>()) {
<a name="l3086"><span class="linenum">3086</span></a>                      if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>)) {
<a name="l3087"><span class="linenum">3087</span></a>                          <a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>);
<a name="l3088"><span class="linenum">3088</span></a>                          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = md5(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>); <span class="comment">// Don't change this ever - extensions may depend on the fact that the hash is an md5 of the path! (import/export extension)</span>
<a name="l3089"><span class="linenum">3089</span></a>                          if ((!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37860" onMouseOver="hilite(37860)" onMouseOut="lolite()" onClick="logVariable('extensionList')" href="../../_variables/extensionList.html">$extensionList</a>) || self::<a class="function" onClick="logFunction('inList')" href="../../_functions/inlist.html" onMouseOver="funcPopup(event,'inlist')">inList</a>(<a class="var it37860" onMouseOver="hilite(37860)" onMouseOut="lolite()" onClick="logVariable('extensionList')" href="../../_variables/extensionList.html">$extensionList</a>, <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it37849" onMouseOver="hilite(37849)" onMouseOut="lolite()" onClick="logVariable('fI')" href="../../_variables/fI.html">$fI</a>['extension']))) &amp;&amp; (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a>) || !<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^' . <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a> . '$/', <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>))) {
<a name="l3090"><span class="linenum">3090</span></a>                              <a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = (<a class="var it37861" onMouseOver="hilite(37861)" onMouseOut="lolite()" onClick="logVariable('prependPath')" href="../../_variables/prependPath.html">$prependPath</a> ? <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' : '') . <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>;
<a name="l3091"><span class="linenum">3091</span></a>                              if (<a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../_variables/order.html">$order</a> == 'mtime') {
<a name="l3092"><span class="linenum">3092</span></a>                                  <a class="var it29160" onMouseOver="hilite(29160)" onMouseOut="lolite()" onClick="logVariable('sortarray')" href="../../_variables/sortarray.html">$sortarray</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '/' . <a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>);
<a name="l3093"><span class="linenum">3093</span></a>                              }
<a name="l3094"><span class="linenum">3094</span></a>                              elseif (<a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../_variables/order.html">$order</a>) {
<a name="l3095"><span class="linenum">3095</span></a>                                  <a class="var it29160" onMouseOver="hilite(29160)" onMouseOut="lolite()" onClick="logVariable('sortarray')" href="../../_variables/sortarray.html">$sortarray</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it2510" onMouseOver="hilite(2510)" onMouseOut="lolite()" onClick="logVariable('entry')" href="../../_variables/entry.html">$entry</a>);
<a name="l3096"><span class="linenum">3096</span></a>                              }
<a name="l3097"><span class="linenum">3097</span></a>                          }
<a name="l3098"><span class="linenum">3098</span></a>                      }
<a name="l3099"><span class="linenum">3099</span></a>                  }
<a name="l3100"><span class="linenum">3100</span></a>                  <a class="var it775" onMouseOver="hilite(775)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../_variables/d.html">$d</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l3101"><span class="linenum">3101</span></a>              } else {
<a name="l3102"><span class="linenum">3102</span></a>                  return 'error opening path: &quot;' . <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . '&quot;';
<a name="l3103"><span class="linenum">3103</span></a>              }
<a name="l3104"><span class="linenum">3104</span></a>          }
<a name="l3105"><span class="linenum">3105</span></a>  
<a name="l3106"><span class="linenum">3106</span></a>  <span class="comment">            // Sort them:</span>
<a name="l3107"><span class="linenum">3107</span></a>          if (<a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../../_variables/order.html">$order</a>) {
<a name="l3108"><span class="linenum">3108</span></a>              <a class="phpfunction" onClick="logFunction('asort')" href="../../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it29160" onMouseOver="hilite(29160)" onMouseOut="lolite()" onClick="logVariable('sortarray')" href="../../_variables/sortarray.html">$sortarray</a>);
<a name="l3109"><span class="linenum">3109</span></a>              <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a> = array();
<a name="l3110"><span class="linenum">3110</span></a>              foreach (<a class="var it29160" onMouseOver="hilite(29160)" onMouseOut="lolite()" onClick="logVariable('sortarray')" href="../../_variables/sortarray.html">$sortarray</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l3111"><span class="linenum">3111</span></a>                  <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = <a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>];
<a name="l3112"><span class="linenum">3112</span></a>              }
<a name="l3113"><span class="linenum">3113</span></a>              <a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a> = <a class="var it37816" onMouseOver="hilite(37816)" onMouseOut="lolite()" onClick="logVariable('newArr')" href="../../_variables/newArr.html">$newArr</a>;
<a name="l3114"><span class="linenum">3114</span></a>          }
<a name="l3115"><span class="linenum">3115</span></a>  
<a name="l3116"><span class="linenum">3116</span></a>  <span class="comment">            // Return result</span>
<a name="l3117"><span class="linenum">3117</span></a>          <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a>);
<a name="l3118"><span class="linenum">3118</span></a>          return <a class="var it5889" onMouseOver="hilite(5889)" onMouseOut="lolite()" onClick="logVariable('filearray')" href="../../_variables/filearray.html">$filearray</a>;
<a name="l3119"><span class="linenum">3119</span></a>      }
<a name="l3120"><span class="linenum">3120</span></a>  
<a name="l3121"><span class="linenum">3121</span></a>      <span class="comment">/**</span>
<a name="l3122"><span class="linenum">3122</span></a>  <span class="comment">     * Recursively gather all files and folders of a path.</span>
<a name="l3123"><span class="linenum">3123</span></a>  <span class="comment">     *</span>
<a name="l3124"><span class="linenum">3124</span></a>  <span class="comment">     * @param array $fileArr Empty input array (will have files added to it)</span>
<a name="l3125"><span class="linenum">3125</span></a>  <span class="comment">     * @param string $path The path to read recursively from (absolute) (include trailing slash!)</span>
<a name="l3126"><span class="linenum">3126</span></a>  <span class="comment">     * @param string $extList Comma list of file extensions: Only files with extensions in this list (if applicable) will be selected.</span>
<a name="l3127"><span class="linenum">3127</span></a>  <span class="comment">     * @param boolean $regDirs If set, directories are also included in output.</span>
<a name="l3128"><span class="linenum">3128</span></a>  <span class="comment">     * @param integer $recursivityLevels The number of levels to dig down...</span>
<a name="l3129"><span class="linenum">3129</span></a>  <span class="comment">     * @param string $excludePattern regex pattern of files/directories to exclude</span>
<a name="l3130"><span class="linenum">3130</span></a>  <span class="comment">     * @return array An array with the found files/directories.</span>
<a name="l3131"><span class="linenum">3131</span></a>  <span class="comment">     */</span>
<a name="l3132"><span class="linenum">3132</span></a>  	public static function <a class="function" onClick="logFunction('getAllFilesAndFoldersInPath')" href="../../_functions/getallfilesandfoldersinpath.html" onMouseOver="funcPopup(event,'getallfilesandfoldersinpath')">getAllFilesAndFoldersInPath</a>(array <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it37864" onMouseOver="hilite(37864)" onMouseOut="lolite()" onClick="logVariable('extList')" href="../../_variables/extList.html">$extList</a> = '', <a class="var it37865" onMouseOver="hilite(37865)" onMouseOut="lolite()" onClick="logVariable('regDirs')" href="../../_variables/regDirs.html">$regDirs</a> = FALSE, <a class="var it37866" onMouseOver="hilite(37866)" onMouseOut="lolite()" onClick="logVariable('recursivityLevels')" href="../../_variables/recursivityLevels.html">$recursivityLevels</a> = 99, <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a> = '') {
<a name="l3133"><span class="linenum">3133</span></a>          if (<a class="var it37865" onMouseOver="hilite(37865)" onMouseOut="lolite()" onClick="logVariable('regDirs')" href="../../_variables/regDirs.html">$regDirs</a>) {
<a name="l3134"><span class="linenum">3134</span></a>              <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>[] = <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>;
<a name="l3135"><span class="linenum">3135</span></a>          }
<a name="l3136"><span class="linenum">3136</span></a>          <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>, self::<a class="function" onClick="logFunction('getFilesInDir')" href="../../_functions/getfilesindir.html" onMouseOver="funcPopup(event,'getfilesindir')">getFilesInDir</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it37864" onMouseOver="hilite(37864)" onMouseOut="lolite()" onClick="logVariable('extList')" href="../../_variables/extList.html">$extList</a>, 1, 1, <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a>));
<a name="l3137"><span class="linenum">3137</span></a>  
<a name="l3138"><span class="linenum">3138</span></a>          <a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a> = self::<a class="function" onClick="logFunction('get_dirs')" href="../../_functions/get_dirs.html" onMouseOver="funcPopup(event,'get_dirs')">get_dirs</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3139"><span class="linenum">3139</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a>) &amp;&amp; <a class="var it37866" onMouseOver="hilite(37866)" onMouseOut="lolite()" onClick="logVariable('recursivityLevels')" href="../../_variables/recursivityLevels.html">$recursivityLevels</a> &gt; 0) {
<a name="l3140"><span class="linenum">3140</span></a>              foreach (<a class="var it8618" onMouseOver="hilite(8618)" onMouseOut="lolite()" onClick="logVariable('dirs')" href="../../_variables/dirs.html">$dirs</a> as <a class="var it5976" onMouseOver="hilite(5976)" onMouseOut="lolite()" onClick="logVariable('subdirs')" href="../../_variables/subdirs.html">$subdirs</a>) {
<a name="l3141"><span class="linenum">3141</span></a>                  if ((string) <a class="var it5976" onMouseOver="hilite(5976)" onMouseOut="lolite()" onClick="logVariable('subdirs')" href="../../_variables/subdirs.html">$subdirs</a> != '' &amp;&amp; (!<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a>) || !<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^' . <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a> . '$/', <a class="var it5976" onMouseOver="hilite(5976)" onMouseOut="lolite()" onClick="logVariable('subdirs')" href="../../_variables/subdirs.html">$subdirs</a>))) {
<a name="l3142"><span class="linenum">3142</span></a>                      <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a> = self::<a class="function" onClick="logFunction('getAllFilesAndFoldersInPath')" href="../../_functions/getallfilesandfoldersinpath.html" onMouseOver="funcPopup(event,'getallfilesandfoldersinpath')">getAllFilesAndFoldersInPath</a>(<a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> . <a class="var it5976" onMouseOver="hilite(5976)" onMouseOut="lolite()" onClick="logVariable('subdirs')" href="../../_variables/subdirs.html">$subdirs</a> . '/', <a class="var it37864" onMouseOver="hilite(37864)" onMouseOut="lolite()" onClick="logVariable('extList')" href="../../_variables/extList.html">$extList</a>, <a class="var it37865" onMouseOver="hilite(37865)" onMouseOut="lolite()" onClick="logVariable('regDirs')" href="../../_variables/regDirs.html">$regDirs</a>, <a class="var it37866" onMouseOver="hilite(37866)" onMouseOut="lolite()" onClick="logVariable('recursivityLevels')" href="../../_variables/recursivityLevels.html">$recursivityLevels</a> - 1, <a class="var it37862" onMouseOver="hilite(37862)" onMouseOut="lolite()" onClick="logVariable('excludePattern')" href="../../_variables/excludePattern.html">$excludePattern</a>);
<a name="l3143"><span class="linenum">3143</span></a>                  }
<a name="l3144"><span class="linenum">3144</span></a>              }
<a name="l3145"><span class="linenum">3145</span></a>          }
<a name="l3146"><span class="linenum">3146</span></a>          return <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>;
<a name="l3147"><span class="linenum">3147</span></a>      }
<a name="l3148"><span class="linenum">3148</span></a>  
<a name="l3149"><span class="linenum">3149</span></a>      <span class="comment">/**</span>
<a name="l3150"><span class="linenum">3150</span></a>  <span class="comment">     * Removes the absolute part of all files/folders in fileArr</span>
<a name="l3151"><span class="linenum">3151</span></a>  <span class="comment">     *</span>
<a name="l3152"><span class="linenum">3152</span></a>  <span class="comment">     * @param array $fileArr: The file array to remove the prefix from</span>
<a name="l3153"><span class="linenum">3153</span></a>  <span class="comment">     * @param string $prefixToRemove: The prefix path to remove (if found as first part of string!)</span>
<a name="l3154"><span class="linenum">3154</span></a>  <span class="comment">     * @return array The input $fileArr processed.</span>
<a name="l3155"><span class="linenum">3155</span></a>  <span class="comment">     */</span>
<a name="l3156"><span class="linenum">3156</span></a>  	public static function <a class="function" onClick="logFunction('removePrefixPathFromList')" href="../../_functions/removeprefixpathfromlist.html" onMouseOver="funcPopup(event,'removeprefixpathfromlist')">removePrefixPathFromList</a>(array <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>, <a class="var it37867" onMouseOver="hilite(37867)" onMouseOut="lolite()" onClick="logVariable('prefixToRemove')" href="../../_variables/prefixToRemove.html">$prefixToRemove</a>) {
<a name="l3157"><span class="linenum">3157</span></a>          foreach (<a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; &amp;<a class="var it37868" onMouseOver="hilite(37868)" onMouseOut="lolite()" onClick="logVariable('absFileRef')" href="../../_variables/absFileRef.html">$absFileRef</a>) {
<a name="l3158"><span class="linenum">3158</span></a>              if (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37868" onMouseOver="hilite(37868)" onMouseOut="lolite()" onClick="logVariable('absFileRef')" href="../../_variables/absFileRef.html">$absFileRef</a>, <a class="var it37867" onMouseOver="hilite(37867)" onMouseOut="lolite()" onClick="logVariable('prefixToRemove')" href="../../_variables/prefixToRemove.html">$prefixToRemove</a>)) {
<a name="l3159"><span class="linenum">3159</span></a>                  <a class="var it37868" onMouseOver="hilite(37868)" onMouseOut="lolite()" onClick="logVariable('absFileRef')" href="../../_variables/absFileRef.html">$absFileRef</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37868" onMouseOver="hilite(37868)" onMouseOut="lolite()" onClick="logVariable('absFileRef')" href="../../_variables/absFileRef.html">$absFileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37867" onMouseOver="hilite(37867)" onMouseOut="lolite()" onClick="logVariable('prefixToRemove')" href="../../_variables/prefixToRemove.html">$prefixToRemove</a>));
<a name="l3160"><span class="linenum">3160</span></a>              } else {
<a name="l3161"><span class="linenum">3161</span></a>                  return 'ERROR: One or more of the files was NOT prefixed with the prefix-path!';
<a name="l3162"><span class="linenum">3162</span></a>              }
<a name="l3163"><span class="linenum">3163</span></a>          }
<a name="l3164"><span class="linenum">3164</span></a>          unset(<a class="var it37868" onMouseOver="hilite(37868)" onMouseOut="lolite()" onClick="logVariable('absFileRef')" href="../../_variables/absFileRef.html">$absFileRef</a>);
<a name="l3165"><span class="linenum">3165</span></a>          return <a class="var it37863" onMouseOver="hilite(37863)" onMouseOut="lolite()" onClick="logVariable('fileArr')" href="../../_variables/fileArr.html">$fileArr</a>;
<a name="l3166"><span class="linenum">3166</span></a>      }
<a name="l3167"><span class="linenum">3167</span></a>  
<a name="l3168"><span class="linenum">3168</span></a>      <span class="comment">/**</span>
<a name="l3169"><span class="linenum">3169</span></a>  <span class="comment">     * Fixes a path for windows-backslashes and reduces double-slashes to single slashes</span>
<a name="l3170"><span class="linenum">3170</span></a>  <span class="comment">     *</span>
<a name="l3171"><span class="linenum">3171</span></a>  <span class="comment">     * @param string $theFile File path to process</span>
<a name="l3172"><span class="linenum">3172</span></a>  <span class="comment">     * @return string</span>
<a name="l3173"><span class="linenum">3173</span></a>  <span class="comment">     */</span>
<a name="l3174"><span class="linenum">3174</span></a>  	public static function <a class="function" onClick="logFunction('fixWindowsFilePath')" href="../../_functions/fixwindowsfilepath.html" onMouseOver="funcPopup(event,'fixwindowsfilepath')">fixWindowsFilePath</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>) {
<a name="l3175"><span class="linenum">3175</span></a>          return <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('//', '/', <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\\', '/', <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>));
<a name="l3176"><span class="linenum">3176</span></a>      }
<a name="l3177"><span class="linenum">3177</span></a>  
<a name="l3178"><span class="linenum">3178</span></a>      <span class="comment">/**</span>
<a name="l3179"><span class="linenum">3179</span></a>  <span class="comment">     * Resolves &quot;../&quot; sections in the input path string.</span>
<a name="l3180"><span class="linenum">3180</span></a>  <span class="comment">     * For example &quot;fileadmin/directory/../other_directory/&quot; will be resolved to &quot;fileadmin/other_directory/&quot;</span>
<a name="l3181"><span class="linenum">3181</span></a>  <span class="comment">     *</span>
<a name="l3182"><span class="linenum">3182</span></a>  <span class="comment">     * @param string $pathStr File path in which &quot;/../&quot; is resolved</span>
<a name="l3183"><span class="linenum">3183</span></a>  <span class="comment">     * @return string</span>
<a name="l3184"><span class="linenum">3184</span></a>  <span class="comment">     */</span>
<a name="l3185"><span class="linenum">3185</span></a>  	public static function <a class="function" onClick="logFunction('resolveBackPath')" href="../../_functions/resolvebackpath.html" onMouseOver="funcPopup(event,'resolvebackpath')">resolveBackPath</a>(<a class="var it37869" onMouseOver="hilite(37869)" onMouseOut="lolite()" onClick="logVariable('pathStr')" href="../../_variables/pathStr.html">$pathStr</a>) {
<a name="l3186"><span class="linenum">3186</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it37869" onMouseOver="hilite(37869)" onMouseOut="lolite()" onClick="logVariable('pathStr')" href="../../_variables/pathStr.html">$pathStr</a>);
<a name="l3187"><span class="linenum">3187</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = array();
<a name="l3188"><span class="linenum">3188</span></a>          <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a> = 0;
<a name="l3189"><span class="linenum">3189</span></a>          foreach (<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> as <a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a>) {
<a name="l3190"><span class="linenum">3190</span></a>              if (<a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a> == '..') {
<a name="l3191"><span class="linenum">3191</span></a>                  if (<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>) {
<a name="l3192"><span class="linenum">3192</span></a>                      <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l3193"><span class="linenum">3193</span></a>                      <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>--;
<a name="l3194"><span class="linenum">3194</span></a>                  } else {
<a name="l3195"><span class="linenum">3195</span></a>                      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>[] = <a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a>;
<a name="l3196"><span class="linenum">3196</span></a>                  }
<a name="l3197"><span class="linenum">3197</span></a>              } else {
<a name="l3198"><span class="linenum">3198</span></a>                  <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>++;
<a name="l3199"><span class="linenum">3199</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>[] = <a class="var it37801" onMouseOver="hilite(37801)" onMouseOut="lolite()" onClick="logVariable('pV')" href="../../_variables/pV.html">$pV</a>;
<a name="l3200"><span class="linenum">3200</span></a>              }
<a name="l3201"><span class="linenum">3201</span></a>          }
<a name="l3202"><span class="linenum">3202</span></a>          return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l3203"><span class="linenum">3203</span></a>      }
<a name="l3204"><span class="linenum">3204</span></a>  
<a name="l3205"><span class="linenum">3205</span></a>      <span class="comment">/**</span>
<a name="l3206"><span class="linenum">3206</span></a>  <span class="comment">     * Prefixes a URL used with 'header-location' with 'http://...' depending on whether it has it already.</span>
<a name="l3207"><span class="linenum">3207</span></a>  <span class="comment">     * - If already having a scheme, nothing is prepended</span>
<a name="l3208"><span class="linenum">3208</span></a>  <span class="comment">     * - If having REQUEST_URI slash '/', then prefixing 'http://[host]' (relative to host)</span>
<a name="l3209"><span class="linenum">3209</span></a>  <span class="comment">     * - Otherwise prefixed with TYPO3_REQUEST_DIR (relative to current dir / TYPO3_REQUEST_DIR)</span>
<a name="l3210"><span class="linenum">3210</span></a>  <span class="comment">     *</span>
<a name="l3211"><span class="linenum">3211</span></a>  <span class="comment">     * @param string $path URL / path to prepend full URL addressing to.</span>
<a name="l3212"><span class="linenum">3212</span></a>  <span class="comment">     * @return string</span>
<a name="l3213"><span class="linenum">3213</span></a>  <span class="comment">     */</span>
<a name="l3214"><span class="linenum">3214</span></a>  	public static function <a class="function" onClick="logFunction('locationHeaderUrl')" href="../../_functions/locationheaderurl.html" onMouseOver="funcPopup(event,'locationheaderurl')">locationHeaderUrl</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l3215"><span class="linenum">3215</span></a>          <a class="var it37870" onMouseOver="hilite(37870)" onMouseOut="lolite()" onClick="logVariable('uI')" href="../../_variables/uI.html">$uI</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3216"><span class="linenum">3216</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, 0, 1) == '/') { // relative to HOST
<a name="l3217"><span class="linenum">3217</span></a>              <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST') . <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>;
<a name="l3218"><span class="linenum">3218</span></a>          } elseif (!<a class="var it37870" onMouseOver="hilite(37870)" onMouseOut="lolite()" onClick="logVariable('uI')" href="../../_variables/uI.html">$uI</a>['scheme']) { // No scheme either
<a name="l3219"><span class="linenum">3219</span></a>              <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_DIR') . <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>;
<a name="l3220"><span class="linenum">3220</span></a>          }
<a name="l3221"><span class="linenum">3221</span></a>          return <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>;
<a name="l3222"><span class="linenum">3222</span></a>      }
<a name="l3223"><span class="linenum">3223</span></a>  
<a name="l3224"><span class="linenum">3224</span></a>      <span class="comment">/**</span>
<a name="l3225"><span class="linenum">3225</span></a>  <span class="comment">     * Returns the maximum upload size for a file that is allowed. Measured in KB.</span>
<a name="l3226"><span class="linenum">3226</span></a>  <span class="comment">     * This might be handy to find out the real upload limit that is possible for this</span>
<a name="l3227"><span class="linenum">3227</span></a>  <span class="comment">     * TYPO3 installation. The first parameter can be used to set something that overrides</span>
<a name="l3228"><span class="linenum">3228</span></a>  <span class="comment">     * the maxFileSize, usually for the TCA values.</span>
<a name="l3229"><span class="linenum">3229</span></a>  <span class="comment">     *</span>
<a name="l3230"><span class="linenum">3230</span></a>  <span class="comment">     * @param integer $localLimit: the number of Kilobytes (!) that should be used as</span>
<a name="l3231"><span class="linenum">3231</span></a>  <span class="comment">     *                        the initial Limit, otherwise $GLOBALS['TYPO3_CONF_VARS']['BE']['maxFileSize'] will be used</span>
<a name="l3232"><span class="linenum">3232</span></a>  <span class="comment">     * @return integer the maximum size of uploads that are allowed (measured in kilobytes)</span>
<a name="l3233"><span class="linenum">3233</span></a>  <span class="comment">     */</span>
<a name="l3234"><span class="linenum">3234</span></a>  	public static function <a class="function" onClick="logFunction('getMaxUploadFileSize')" href="../../_functions/getmaxuploadfilesize.html" onMouseOver="funcPopup(event,'getmaxuploadfilesize')">getMaxUploadFileSize</a>(<a class="var it37871" onMouseOver="hilite(37871)" onMouseOut="lolite()" onClick="logVariable('localLimit')" href="../../_variables/localLimit.html">$localLimit</a> = 0) {
<a name="l3235"><span class="linenum">3235</span></a>  <span class="comment">            // don't allow more than the global max file size at all</span>
<a name="l3236"><span class="linenum">3236</span></a>          <a class="var it37872" onMouseOver="hilite(37872)" onMouseOut="lolite()" onClick="logVariable('t3Limit')" href="../../_variables/t3Limit.html">$t3Limit</a> = (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it37871" onMouseOver="hilite(37871)" onMouseOut="lolite()" onClick="logVariable('localLimit')" href="../../_variables/localLimit.html">$localLimit</a> &gt; 0 ? <a class="var it37871" onMouseOver="hilite(37871)" onMouseOut="lolite()" onClick="logVariable('localLimit')" href="../../_variables/localLimit.html">$localLimit</a> : <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['maxFileSize']));
<a name="l3237"><span class="linenum">3237</span></a>  <span class="comment">            // as TYPO3 is handling the file size in KB, multiply by 1024 to get bytes</span>
<a name="l3238"><span class="linenum">3238</span></a>          <a class="var it37872" onMouseOver="hilite(37872)" onMouseOut="lolite()" onClick="logVariable('t3Limit')" href="../../_variables/t3Limit.html">$t3Limit</a> = <a class="var it37872" onMouseOver="hilite(37872)" onMouseOut="lolite()" onClick="logVariable('t3Limit')" href="../../_variables/t3Limit.html">$t3Limit</a> * 1024;
<a name="l3239"><span class="linenum">3239</span></a>  
<a name="l3240"><span class="linenum">3240</span></a>  <span class="comment">            // check for PHP restrictions of the maximum size of one of the $_FILES</span>
<a name="l3241"><span class="linenum">3241</span></a>          <a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a> = self::<a class="function" onClick="logFunction('getBytesFromSizeMeasurement')" href="../../_functions/getbytesfromsizemeasurement.html" onMouseOver="funcPopup(event,'getbytesfromsizemeasurement')">getBytesFromSizeMeasurement</a>(<a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('upload_max_filesize'));
<a name="l3242"><span class="linenum">3242</span></a>  <span class="comment">            // check for PHP restrictions of the maximum $_POST size</span>
<a name="l3243"><span class="linenum">3243</span></a>          <a class="var it37874" onMouseOver="hilite(37874)" onMouseOut="lolite()" onClick="logVariable('phpPostLimit')" href="../../_variables/phpPostLimit.html">$phpPostLimit</a> = self::<a class="function" onClick="logFunction('getBytesFromSizeMeasurement')" href="../../_functions/getbytesfromsizemeasurement.html" onMouseOver="funcPopup(event,'getbytesfromsizemeasurement')">getBytesFromSizeMeasurement</a>(<a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('post_max_size'));
<a name="l3244"><span class="linenum">3244</span></a>  <span class="comment">            // if the total amount of post data is smaller (!) than the upload_max_filesize directive,</span>
<a name="l3245"><span class="linenum">3245</span></a>  <span class="comment">            // then this is the real limit in PHP</span>
<a name="l3246"><span class="linenum">3246</span></a>          <a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a> = (<a class="var it37874" onMouseOver="hilite(37874)" onMouseOut="lolite()" onClick="logVariable('phpPostLimit')" href="../../_variables/phpPostLimit.html">$phpPostLimit</a> &lt; <a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a> ? <a class="var it37874" onMouseOver="hilite(37874)" onMouseOut="lolite()" onClick="logVariable('phpPostLimit')" href="../../_variables/phpPostLimit.html">$phpPostLimit</a> : <a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a>);
<a name="l3247"><span class="linenum">3247</span></a>  
<a name="l3248"><span class="linenum">3248</span></a>  <span class="comment">            // is the allowed PHP limit (upload_max_filesize) lower than the TYPO3 limit?, also: revert back to KB</span>
<a name="l3249"><span class="linenum">3249</span></a>          return <a class="phpfunction" onClick="logFunction('floor')" href="../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(<a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a> &lt; <a class="var it37872" onMouseOver="hilite(37872)" onMouseOut="lolite()" onClick="logVariable('t3Limit')" href="../../_variables/t3Limit.html">$t3Limit</a> ? <a class="var it37873" onMouseOver="hilite(37873)" onMouseOut="lolite()" onClick="logVariable('phpUploadLimit')" href="../../_variables/phpUploadLimit.html">$phpUploadLimit</a> : <a class="var it37872" onMouseOver="hilite(37872)" onMouseOut="lolite()" onClick="logVariable('t3Limit')" href="../../_variables/t3Limit.html">$t3Limit</a>) / 1024;
<a name="l3250"><span class="linenum">3250</span></a>      }
<a name="l3251"><span class="linenum">3251</span></a>  
<a name="l3252"><span class="linenum">3252</span></a>      <span class="comment">/**</span>
<a name="l3253"><span class="linenum">3253</span></a>  <span class="comment">     * Gets the bytes value from a measurement string like &quot;100k&quot;.</span>
<a name="l3254"><span class="linenum">3254</span></a>  <span class="comment">     *</span>
<a name="l3255"><span class="linenum">3255</span></a>  <span class="comment">     * @param string $measurement: The measurement (e.g. &quot;100k&quot;)</span>
<a name="l3256"><span class="linenum">3256</span></a>  <span class="comment">     * @return integer The bytes value (e.g. 102400)</span>
<a name="l3257"><span class="linenum">3257</span></a>  <span class="comment">     */</span>
<a name="l3258"><span class="linenum">3258</span></a>  	public static function <a class="function" onClick="logFunction('getBytesFromSizeMeasurement')" href="../../_functions/getbytesfromsizemeasurement.html" onMouseOver="funcPopup(event,'getbytesfromsizemeasurement')">getBytesFromSizeMeasurement</a>(<a class="var it37875" onMouseOver="hilite(37875)" onMouseOut="lolite()" onClick="logVariable('measurement')" href="../../_variables/measurement.html">$measurement</a>) {
<a name="l3259"><span class="linenum">3259</span></a>          <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> = doubleval(<a class="var it37875" onMouseOver="hilite(37875)" onMouseOut="lolite()" onClick="logVariable('measurement')" href="../../_variables/measurement.html">$measurement</a>);
<a name="l3260"><span class="linenum">3260</span></a>          if (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it37875" onMouseOver="hilite(37875)" onMouseOut="lolite()" onClick="logVariable('measurement')" href="../../_variables/measurement.html">$measurement</a>, 'G')) {
<a name="l3261"><span class="linenum">3261</span></a>              <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> *= 1024 * 1024 * 1024;
<a name="l3262"><span class="linenum">3262</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it37875" onMouseOver="hilite(37875)" onMouseOut="lolite()" onClick="logVariable('measurement')" href="../../_variables/measurement.html">$measurement</a>, 'M')) {
<a name="l3263"><span class="linenum">3263</span></a>              <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> *= 1024 * 1024;
<a name="l3264"><span class="linenum">3264</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it37875" onMouseOver="hilite(37875)" onMouseOut="lolite()" onClick="logVariable('measurement')" href="../../_variables/measurement.html">$measurement</a>, 'K')) {
<a name="l3265"><span class="linenum">3265</span></a>              <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a> *= 1024;
<a name="l3266"><span class="linenum">3266</span></a>          }
<a name="l3267"><span class="linenum">3267</span></a>          return <a class="var it2904" onMouseOver="hilite(2904)" onMouseOut="lolite()" onClick="logVariable('bytes')" href="../../_variables/bytes.html">$bytes</a>;
<a name="l3268"><span class="linenum">3268</span></a>      }
<a name="l3269"><span class="linenum">3269</span></a>  
<a name="l3270"><span class="linenum">3270</span></a>      <span class="comment">/**</span>
<a name="l3271"><span class="linenum">3271</span></a>  <span class="comment">     * Retrieves the maximum path length that is valid in the current environment.</span>
<a name="l3272"><span class="linenum">3272</span></a>  <span class="comment">     *</span>
<a name="l3273"><span class="linenum">3273</span></a>  <span class="comment">     * @return integer The maximum available path length</span>
<a name="l3274"><span class="linenum">3274</span></a>  <span class="comment">     */</span>
<a name="l3275"><span class="linenum">3275</span></a>  	public static function <a class="function" onClick="logFunction('getMaximumPathLength')" href="../../_functions/getmaximumpathlength.html" onMouseOver="funcPopup(event,'getmaximumpathlength')">getMaximumPathLength</a>() {
<a name="l3276"><span class="linenum">3276</span></a>          return PHP_MAXPATHLEN;
<a name="l3277"><span class="linenum">3277</span></a>      }
<a name="l3278"><span class="linenum">3278</span></a>  
<a name="l3279"><span class="linenum">3279</span></a>  
<a name="l3280"><span class="linenum">3280</span></a>      <span class="comment">/**</span>
<a name="l3281"><span class="linenum">3281</span></a>  <span class="comment">     * Function for static version numbers on files, based on the filemtime</span>
<a name="l3282"><span class="linenum">3282</span></a>  <span class="comment">     *</span>
<a name="l3283"><span class="linenum">3283</span></a>  <span class="comment">     * This will make the filename automatically change when a file is</span>
<a name="l3284"><span class="linenum">3284</span></a>  <span class="comment">     * changed, and by that re-cached by the browser. If the file does not</span>
<a name="l3285"><span class="linenum">3285</span></a>  <span class="comment">     * exist physically the original file passed to the function is</span>
<a name="l3286"><span class="linenum">3286</span></a>  <span class="comment">     * returned without the timestamp.</span>
<a name="l3287"><span class="linenum">3287</span></a>  <span class="comment">     *</span>
<a name="l3288"><span class="linenum">3288</span></a>  <span class="comment">     * Behaviour is influenced by the setting</span>
<a name="l3289"><span class="linenum">3289</span></a>  <span class="comment">     * TYPO3_CONF_VARS[TYPO3_MODE][versionNumberInFilename]</span>
<a name="l3290"><span class="linenum">3290</span></a>  <span class="comment">     * = TRUE (BE) / &quot;embed&quot; (FE) : modify filename</span>
<a name="l3291"><span class="linenum">3291</span></a>  <span class="comment">     * = FALSE (BE) / &quot;querystring&quot; (FE) : add timestamp as parameter</span>
<a name="l3292"><span class="linenum">3292</span></a>  <span class="comment">     *</span>
<a name="l3293"><span class="linenum">3293</span></a>  <span class="comment">     * @param string $file Relative path to file including all potential query parameters (not htmlspecialchared yet)</span>
<a name="l3294"><span class="linenum">3294</span></a>  <span class="comment">     * @param boolean $forceQueryString If settings would suggest to embed in filename, this parameter allows us to force the versioning to occur in the query string. This is needed for scriptaculous.js which cannot have a different filename in order to load its modules (?load=...)</span>
<a name="l3295"><span class="linenum">3295</span></a>  <span class="comment">     * @return Relative path with version filename including the timestamp</span>
<a name="l3296"><span class="linenum">3296</span></a>  <span class="comment">     */</span>
<a name="l3297"><span class="linenum">3297</span></a>  	public static function <a class="function" onClick="logFunction('createVersionNumberedFilename')" href="../../_functions/createversionnumberedfilename.html" onMouseOver="funcPopup(event,'createversionnumberedfilename')">createVersionNumberedFilename</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it37876" onMouseOver="hilite(37876)" onMouseOut="lolite()" onClick="logVariable('forceQueryString')" href="../../_variables/forceQueryString.html">$forceQueryString</a> = FALSE) {
<a name="l3298"><span class="linenum">3298</span></a>          <a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('?', <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l3299"><span class="linenum">3299</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = self::<a class="function" onClick="logFunction('resolveBackPath')" href="../../_functions/resolvebackpath.html" onMouseOver="funcPopup(event,'resolvebackpath')">resolveBackPath</a>(self::<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(PATH_thisScript) . '/' . <a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a>[0]);
<a name="l3300"><span class="linenum">3300</span></a>  
<a name="l3301"><span class="linenum">3301</span></a>          if (TYPO3_MODE == 'FE') {
<a name="l3302"><span class="linenum">3302</span></a>              <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS'][TYPO3_MODE]['versionNumberInFilename']);
<a name="l3303"><span class="linenum">3303</span></a>              if (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> === 'embed') {
<a name="l3304"><span class="linenum">3304</span></a>                  <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> = TRUE;
<a name="l3305"><span class="linenum">3305</span></a>              } else {
<a name="l3306"><span class="linenum">3306</span></a>                  if (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> === 'querystring') {
<a name="l3307"><span class="linenum">3307</span></a>                      <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> = FALSE;
<a name="l3308"><span class="linenum">3308</span></a>                  } else {
<a name="l3309"><span class="linenum">3309</span></a>                      <a class="var it37878" onMouseOver="hilite(37878)" onMouseOut="lolite()" onClick="logVariable('doNothing')" href="../../_variables/doNothing.html">$doNothing</a> = TRUE;
<a name="l3310"><span class="linenum">3310</span></a>                  }
<a name="l3311"><span class="linenum">3311</span></a>              }
<a name="l3312"><span class="linenum">3312</span></a>          } else {
<a name="l3313"><span class="linenum">3313</span></a>              <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS'][TYPO3_MODE]['versionNumberInFilename'];
<a name="l3314"><span class="linenum">3314</span></a>          }
<a name="l3315"><span class="linenum">3315</span></a>  
<a name="l3316"><span class="linenum">3316</span></a>          if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) || <a class="var it37878" onMouseOver="hilite(37878)" onMouseOut="lolite()" onClick="logVariable('doNothing')" href="../../_variables/doNothing.html">$doNothing</a>) {
<a name="l3317"><span class="linenum">3317</span></a>  <span class="comment">                // File not found, return filename unaltered</span>
<a name="l3318"><span class="linenum">3318</span></a>              <a class="var it22699" onMouseOver="hilite(22699)" onMouseOut="lolite()" onClick="logVariable('fullName')" href="../../_variables/fullName.html">$fullName</a> = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>;
<a name="l3319"><span class="linenum">3319</span></a>  
<a name="l3320"><span class="linenum">3320</span></a>          } else {
<a name="l3321"><span class="linenum">3321</span></a>              if (!<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> || <a class="var it37876" onMouseOver="hilite(37876)" onMouseOut="lolite()" onClick="logVariable('forceQueryString')" href="../../_variables/forceQueryString.html">$forceQueryString</a>) {
<a name="l3322"><span class="linenum">3322</span></a>  <span class="comment">                    // If use of .htaccess rule is not configured,</span>
<a name="l3323"><span class="linenum">3323</span></a>  <span class="comment">                    // we use the default query-string method</span>
<a name="l3324"><span class="linenum">3324</span></a>                  if (<a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a>[1]) {
<a name="l3325"><span class="linenum">3325</span></a>                      <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../_variables/separator.html">$separator</a> = '&amp;';
<a name="l3326"><span class="linenum">3326</span></a>                  } else {
<a name="l3327"><span class="linenum">3327</span></a>                      <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../_variables/separator.html">$separator</a> = '?';
<a name="l3328"><span class="linenum">3328</span></a>                  }
<a name="l3329"><span class="linenum">3329</span></a>                  <a class="var it22699" onMouseOver="hilite(22699)" onMouseOut="lolite()" onClick="logVariable('fullName')" href="../../_variables/fullName.html">$fullName</a> = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> . <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../_variables/separator.html">$separator</a> . <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l3330"><span class="linenum">3330</span></a>  
<a name="l3331"><span class="linenum">3331</span></a>              } else {
<a name="l3332"><span class="linenum">3332</span></a>  <span class="comment">                    // Change the filename</span>
<a name="l3333"><span class="linenum">3333</span></a>                  <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a>[0]);
<a name="l3334"><span class="linenum">3334</span></a>                  <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../../_variables/extension.html">$extension</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l3335"><span class="linenum">3335</span></a>  
<a name="l3336"><span class="linenum">3336</span></a>                  <a class="phpfunction" onClick="logFunction('array_push')" href="../../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>), <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../../_variables/extension.html">$extension</a>);
<a name="l3337"><span class="linenum">3337</span></a>                  <a class="var it22699" onMouseOver="hilite(22699)" onMouseOut="lolite()" onClick="logVariable('fullName')" href="../../_variables/fullName.html">$fullName</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('.', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l3338"><span class="linenum">3338</span></a>  <span class="comment">                    // append potential query string</span>
<a name="l3339"><span class="linenum">3339</span></a>                  <a class="var it22699" onMouseOver="hilite(22699)" onMouseOut="lolite()" onClick="logVariable('fullName')" href="../../_variables/fullName.html">$fullName</a> .= <a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a>[1] ? '?' . <a class="var it37877" onMouseOver="hilite(37877)" onMouseOut="lolite()" onClick="logVariable('lookupFile')" href="../../_variables/lookupFile.html">$lookupFile</a>[1] : '';
<a name="l3340"><span class="linenum">3340</span></a>              }
<a name="l3341"><span class="linenum">3341</span></a>          }
<a name="l3342"><span class="linenum">3342</span></a>  
<a name="l3343"><span class="linenum">3343</span></a>          return <a class="var it22699" onMouseOver="hilite(22699)" onMouseOut="lolite()" onClick="logVariable('fullName')" href="../../_variables/fullName.html">$fullName</a>;
<a name="l3344"><span class="linenum">3344</span></a>      }
<a name="l3345"><span class="linenum">3345</span></a>  
<a name="l3346"><span class="linenum">3346</span></a>      <span class="comment">/*************************</span>
<a name="l3347"><span class="linenum">3347</span></a>  <span class="comment">     *</span>
<a name="l3348"><span class="linenum">3348</span></a>  <span class="comment">     * SYSTEM INFORMATION</span>
<a name="l3349"><span class="linenum">3349</span></a>  <span class="comment">     *</span>
<a name="l3350"><span class="linenum">3350</span></a>  <span class="comment">     *************************/</span>
<a name="l3351"><span class="linenum">3351</span></a>  
<a name="l3352"><span class="linenum">3352</span></a>      <span class="comment">/**</span>
<a name="l3353"><span class="linenum">3353</span></a>  <span class="comment">     * Returns the HOST+DIR-PATH of the current script (The URL, but without 'http://' and without script-filename)</span>
<a name="l3354"><span class="linenum">3354</span></a>  <span class="comment">     *</span>
<a name="l3355"><span class="linenum">3355</span></a>  <span class="comment">     * @return string</span>
<a name="l3356"><span class="linenum">3356</span></a>  <span class="comment">     */</span>
<a name="l3357"><span class="linenum">3357</span></a>  	public static function <a class="function" onClick="logFunction('getThisUrl')" href="../../_functions/getthisurl.html" onMouseOver="funcPopup(event,'getthisurl')">getThisUrl</a>() {
<a name="l3358"><span class="linenum">3358</span></a>          <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_SCRIPT')); <span class="comment">// Url of this script</span>
<a name="l3359"><span class="linenum">3359</span></a>          <a class="var it1519" onMouseOver="hilite(1519)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a> = self::<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['path']) . '/'; <span class="comment">// Strip file</span>
<a name="l3360"><span class="linenum">3360</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('//', '/', <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['host'] . (<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['port'] ? ':' . <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['port'] : '') . <a class="var it1519" onMouseOver="hilite(1519)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a>);
<a name="l3361"><span class="linenum">3361</span></a>          return <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>;
<a name="l3362"><span class="linenum">3362</span></a>      }
<a name="l3363"><span class="linenum">3363</span></a>  
<a name="l3364"><span class="linenum">3364</span></a>      <span class="comment">/**</span>
<a name="l3365"><span class="linenum">3365</span></a>  <span class="comment">     * Returns the link-url to the current script.</span>
<a name="l3366"><span class="linenum">3366</span></a>  <span class="comment">     * In $getParams you can set associative keys corresponding to the GET-vars you wish to add to the URL. If you set them empty, they will remove existing GET-vars from the current URL.</span>
<a name="l3367"><span class="linenum">3367</span></a>  <span class="comment">     * REMEMBER to always use htmlspecialchars() for content in href-properties to get ampersands converted to entities (XHTML requirement and XSS precaution)</span>
<a name="l3368"><span class="linenum">3368</span></a>  <span class="comment">     *</span>
<a name="l3369"><span class="linenum">3369</span></a>  <span class="comment">     * @param array $getParams Array of GET parameters to include</span>
<a name="l3370"><span class="linenum">3370</span></a>  <span class="comment">     * @return string</span>
<a name="l3371"><span class="linenum">3371</span></a>  <span class="comment">     */</span>
<a name="l3372"><span class="linenum">3372</span></a>  	public static function <a class="function" onClick="logFunction('linkThisScript')" href="../../_functions/linkthisscript.html" onMouseOver="funcPopup(event,'linkthisscript')">linkThisScript</a>(array <a class="var it37879" onMouseOver="hilite(37879)" onMouseOut="lolite()" onClick="logVariable('getParams')" href="../../_variables/getParams.html">$getParams</a> = array()) {
<a name="l3373"><span class="linenum">3373</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME');
<a name="l3374"><span class="linenum">3374</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('_GET')" href="../../_functions/_get.html" onMouseOver="funcPopup(event,'_get')">_GET</a>();
<a name="l3375"><span class="linenum">3375</span></a>  
<a name="l3376"><span class="linenum">3376</span></a>          foreach (<a class="var it37879" onMouseOver="hilite(37879)" onMouseOut="lolite()" onClick="logVariable('getParams')" href="../../_variables/getParams.html">$getParams</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l3377"><span class="linenum">3377</span></a>              if (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> !== '') {
<a name="l3378"><span class="linenum">3378</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l3379"><span class="linenum">3379</span></a>              } else {
<a name="l3380"><span class="linenum">3380</span></a>                  unset(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]);
<a name="l3381"><span class="linenum">3381</span></a>              }
<a name="l3382"><span class="linenum">3382</span></a>          }
<a name="l3383"><span class="linenum">3383</span></a>  
<a name="l3384"><span class="linenum">3384</span></a>          <a class="var it19824" onMouseOver="hilite(19824)" onMouseOut="lolite()" onClick="logVariable('pString')" href="../../_variables/pString.html">$pString</a> = self::<a class="function" onClick="logFunction('implodeArrayForUrl')" href="../../_functions/implodearrayforurl.html" onMouseOver="funcPopup(event,'implodearrayforurl')">implodeArrayForUrl</a>('', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l3385"><span class="linenum">3385</span></a>  
<a name="l3386"><span class="linenum">3386</span></a>          return <a class="var it19824" onMouseOver="hilite(19824)" onMouseOut="lolite()" onClick="logVariable('pString')" href="../../_variables/pString.html">$pString</a> ? <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> . '?' . <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^&amp;/', '', <a class="var it19824" onMouseOver="hilite(19824)" onMouseOut="lolite()" onClick="logVariable('pString')" href="../../_variables/pString.html">$pString</a>) : <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>;
<a name="l3387"><span class="linenum">3387</span></a>      }
<a name="l3388"><span class="linenum">3388</span></a>  
<a name="l3389"><span class="linenum">3389</span></a>      <span class="comment">/**</span>
<a name="l3390"><span class="linenum">3390</span></a>  <span class="comment">     * Takes a full URL, $url, possibly with a querystring and overlays the $getParams arrays values onto the quirystring, packs it all together and returns the URL again.</span>
<a name="l3391"><span class="linenum">3391</span></a>  <span class="comment">     * So basically it adds the parameters in $getParams to an existing URL, $url</span>
<a name="l3392"><span class="linenum">3392</span></a>  <span class="comment">     *</span>
<a name="l3393"><span class="linenum">3393</span></a>  <span class="comment">     * @param string $url URL string</span>
<a name="l3394"><span class="linenum">3394</span></a>  <span class="comment">     * @param array $getParams Array of key/value pairs for get parameters to add/overrule with. Can be multidimensional.</span>
<a name="l3395"><span class="linenum">3395</span></a>  <span class="comment">     * @return string Output URL with added getParams.</span>
<a name="l3396"><span class="linenum">3396</span></a>  <span class="comment">     */</span>
<a name="l3397"><span class="linenum">3397</span></a>  	public static function <a class="function" onClick="logFunction('linkThisUrl')" href="../../_functions/linkthisurl.html" onMouseOver="funcPopup(event,'linkthisurl')">linkThisUrl</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, array <a class="var it37879" onMouseOver="hilite(37879)" onMouseOut="lolite()" onClick="logVariable('getParams')" href="../../_variables/getParams.html">$getParams</a> = array()) {
<a name="l3398"><span class="linenum">3398</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l3399"><span class="linenum">3399</span></a>          <a class="var it37880" onMouseOver="hilite(37880)" onMouseOut="lolite()" onClick="logVariable('getP')" href="../../_variables/getP.html">$getP</a> = array();
<a name="l3400"><span class="linenum">3400</span></a>          if (<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>['query']) {
<a name="l3401"><span class="linenum">3401</span></a>              <a class="phpfunction" onClick="logFunction('parse_str')" href="../../_functions/parse_str.html" onMouseOver="phpfuncPopup(event,'parse_str')">parse_str</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>['query'], <a class="var it37880" onMouseOver="hilite(37880)" onMouseOut="lolite()" onClick="logVariable('getP')" href="../../_variables/getP.html">$getP</a>);
<a name="l3402"><span class="linenum">3402</span></a>          }
<a name="l3403"><span class="linenum">3403</span></a>          <a class="var it37880" onMouseOver="hilite(37880)" onMouseOut="lolite()" onClick="logVariable('getP')" href="../../_variables/getP.html">$getP</a> = self::<a class="function" onClick="logFunction('array_merge_recursive_overrule')" href="../../_functions/array_merge_recursive_overrule.html" onMouseOver="funcPopup(event,'array_merge_recursive_overrule')">array_merge_recursive_overrule</a>(<a class="var it37880" onMouseOver="hilite(37880)" onMouseOut="lolite()" onClick="logVariable('getP')" href="../../_variables/getP.html">$getP</a>, <a class="var it37879" onMouseOver="hilite(37879)" onMouseOut="lolite()" onClick="logVariable('getParams')" href="../../_variables/getParams.html">$getParams</a>);
<a name="l3404"><span class="linenum">3404</span></a>          <a class="var it37881" onMouseOver="hilite(37881)" onMouseOut="lolite()" onClick="logVariable('uP')" href="../../_variables/uP.html">$uP</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('?', <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l3405"><span class="linenum">3405</span></a>  
<a name="l3406"><span class="linenum">3406</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('implodeArrayForUrl')" href="../../_functions/implodearrayforurl.html" onMouseOver="funcPopup(event,'implodearrayforurl')">implodeArrayForUrl</a>('', <a class="var it37880" onMouseOver="hilite(37880)" onMouseOut="lolite()" onClick="logVariable('getP')" href="../../_variables/getP.html">$getP</a>);
<a name="l3407"><span class="linenum">3407</span></a>          <a class="var it37882" onMouseOver="hilite(37882)" onMouseOut="lolite()" onClick="logVariable('outurl')" href="../../_variables/outurl.html">$outurl</a> = <a class="var it37881" onMouseOver="hilite(37881)" onMouseOut="lolite()" onClick="logVariable('uP')" href="../../_variables/uP.html">$uP</a>[0] . (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> ? '?' . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 1) : '');
<a name="l3408"><span class="linenum">3408</span></a>  
<a name="l3409"><span class="linenum">3409</span></a>          return <a class="var it37882" onMouseOver="hilite(37882)" onMouseOut="lolite()" onClick="logVariable('outurl')" href="../../_variables/outurl.html">$outurl</a>;
<a name="l3410"><span class="linenum">3410</span></a>      }
<a name="l3411"><span class="linenum">3411</span></a>  
<a name="l3412"><span class="linenum">3412</span></a>      <span class="comment">/**</span>
<a name="l3413"><span class="linenum">3413</span></a>  <span class="comment">     * Abstraction method which returns System Environment Variables regardless of server OS, CGI/MODULE version etc. Basically this is SERVER variables for most of them.</span>
<a name="l3414"><span class="linenum">3414</span></a>  <span class="comment">     * This should be used instead of getEnv() and $_SERVER/ENV_VARS to get reliable values for all situations.</span>
<a name="l3415"><span class="linenum">3415</span></a>  <span class="comment">     *</span>
<a name="l3416"><span class="linenum">3416</span></a>  <span class="comment">     * @param string $getEnvName Name of the &quot;environment variable&quot;/&quot;server variable&quot; you wish to use. Valid values are SCRIPT_NAME, SCRIPT_FILENAME, REQUEST_URI, PATH_INFO, REMOTE_ADDR, REMOTE_HOST, HTTP_REFERER, HTTP_HOST, HTTP_USER_AGENT, HTTP_ACCEPT_LANGUAGE, QUERY_STRING, TYPO3_DOCUMENT_ROOT, TYPO3_HOST_ONLY, TYPO3_HOST_ONLY, TYPO3_REQUEST_HOST, TYPO3_REQUEST_URL, TYPO3_REQUEST_SCRIPT, TYPO3_REQUEST_DIR, TYPO3_SITE_URL, _ARRAY</span>
<a name="l3417"><span class="linenum">3417</span></a>  <span class="comment">     * @return string Value based on the input key, independent of server/os environment.</span>
<a name="l3418"><span class="linenum">3418</span></a>  <span class="comment">     */</span>
<a name="l3419"><span class="linenum">3419</span></a>  	public static function <a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>(<a class="var it37883" onMouseOver="hilite(37883)" onMouseOut="lolite()" onClick="logVariable('getEnvName')" href="../../_variables/getEnvName.html">$getEnvName</a>) {
<a name="l3420"><span class="linenum">3420</span></a>          <span class="comment">/*</span>
<a name="l3421"><span class="linenum">3421</span></a>  <span class="comment">            Conventions:</span>
<a name="l3422"><span class="linenum">3422</span></a>  <span class="comment">            output from parse_url():</span>
<a name="l3423"><span class="linenum">3423</span></a>  <span class="comment">            URL:    http://username:password@192.168.1.4:8080/typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/?arg1,arg2,arg3&amp;p1=parameter1&amp;p2[key]=value#link1</span>
<a name="l3424"><span class="linenum">3424</span></a>  <span class="comment">                [scheme] =&gt; 'http'</span>
<a name="l3425"><span class="linenum">3425</span></a>  <span class="comment">                [user] =&gt; 'username'</span>
<a name="l3426"><span class="linenum">3426</span></a>  <span class="comment">                [pass] =&gt; 'password'</span>
<a name="l3427"><span class="linenum">3427</span></a>  <span class="comment">                [host] =&gt; '192.168.1.4'</span>
<a name="l3428"><span class="linenum">3428</span></a>  <span class="comment">                [port] =&gt; '8080'</span>
<a name="l3429"><span class="linenum">3429</span></a>  <span class="comment">                [path] =&gt; '/typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/'</span>
<a name="l3430"><span class="linenum">3430</span></a>  <span class="comment">                [query] =&gt; 'arg1,arg2,arg3&amp;p1=parameter1&amp;p2[key]=value'</span>
<a name="l3431"><span class="linenum">3431</span></a>  <span class="comment">                [fragment] =&gt; 'link1'</span>
<a name="l3432"><span class="linenum">3432</span></a>  <span class="comment"></span>
<a name="l3433"><span class="linenum">3433</span></a>  <span class="comment">                Further definition: [path_script] = '/typo3/32/temp/phpcheck/index.php'</span>
<a name="l3434"><span class="linenum">3434</span></a>  <span class="comment">                                    [path_dir] = '/typo3/32/temp/phpcheck/'</span>
<a name="l3435"><span class="linenum">3435</span></a>  <span class="comment">                                    [path_info] = '/arg1/arg2/arg3/'</span>
<a name="l3436"><span class="linenum">3436</span></a>  <span class="comment">                                    [path] = [path_script/path_dir][path_info]</span>
<a name="l3437"><span class="linenum">3437</span></a>  <span class="comment"></span>
<a name="l3438"><span class="linenum">3438</span></a>  <span class="comment">            Keys supported:</span>
<a name="l3439"><span class="linenum">3439</span></a>  <span class="comment"></span>
<a name="l3440"><span class="linenum">3440</span></a>  <span class="comment">            URI______:</span>
<a name="l3441"><span class="linenum">3441</span></a>  <span class="comment">                REQUEST_URI        =    [path]?[query]        = /typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/?arg1,arg2,arg3&amp;p1=parameter1&amp;p2[key]=value</span>
<a name="l3442"><span class="linenum">3442</span></a>  <span class="comment">                HTTP_HOST        =    [host][:[port]]        = 192.168.1.4:8080</span>
<a name="l3443"><span class="linenum">3443</span></a>  <span class="comment">                SCRIPT_NAME        =    [path_script]++        = /typo3/32/temp/phpcheck/index.php        // NOTICE THAT SCRIPT_NAME will return the php-script name ALSO. [path_script] may not do that (eg. '/somedir/' may result in SCRIPT_NAME '/somedir/index.php')!</span>
<a name="l3444"><span class="linenum">3444</span></a>  <span class="comment">                PATH_INFO        =    [path_info]            = /arg1/arg2/arg3/</span>
<a name="l3445"><span class="linenum">3445</span></a>  <span class="comment">                QUERY_STRING    =    [query]                = arg1,arg2,arg3&amp;p1=parameter1&amp;p2[key]=value</span>
<a name="l3446"><span class="linenum">3446</span></a>  <span class="comment">                HTTP_REFERER    =    [scheme]://[host][:[port]][path]    = http://192.168.1.4:8080/typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/?arg1,arg2,arg3&amp;p1=parameter1&amp;p2[key]=value</span>
<a name="l3447"><span class="linenum">3447</span></a>  <span class="comment">                                        (Notice: NO username/password + NO fragment)</span>
<a name="l3448"><span class="linenum">3448</span></a>  <span class="comment"></span>
<a name="l3449"><span class="linenum">3449</span></a>  <span class="comment">            CLIENT____:</span>
<a name="l3450"><span class="linenum">3450</span></a>  <span class="comment">                REMOTE_ADDR        =    (client IP)</span>
<a name="l3451"><span class="linenum">3451</span></a>  <span class="comment">                REMOTE_HOST        =    (client host)</span>
<a name="l3452"><span class="linenum">3452</span></a>  <span class="comment">                HTTP_USER_AGENT    =    (client user agent)</span>
<a name="l3453"><span class="linenum">3453</span></a>  <span class="comment">                HTTP_ACCEPT_LANGUAGE    = (client accept language)</span>
<a name="l3454"><span class="linenum">3454</span></a>  <span class="comment"></span>
<a name="l3455"><span class="linenum">3455</span></a>  <span class="comment">            SERVER____:</span>
<a name="l3456"><span class="linenum">3456</span></a>  <span class="comment">                SCRIPT_FILENAME    =    Absolute filename of script        (Differs between windows/unix). On windows 'C:\\blabla\\blabl\\' will be converted to 'C:/blabla/blabl/'</span>
<a name="l3457"><span class="linenum">3457</span></a>  <span class="comment"></span>
<a name="l3458"><span class="linenum">3458</span></a>  <span class="comment">            Special extras:</span>
<a name="l3459"><span class="linenum">3459</span></a>  <span class="comment">                TYPO3_HOST_ONLY =        [host] = 192.168.1.4</span>
<a name="l3460"><span class="linenum">3460</span></a>  <span class="comment">                TYPO3_PORT =            [port] = 8080 (blank if 80, taken from host value)</span>
<a name="l3461"><span class="linenum">3461</span></a>  <span class="comment">                TYPO3_REQUEST_HOST =         [scheme]://[host][:[port]]</span>
<a name="l3462"><span class="linenum">3462</span></a>  <span class="comment">                TYPO3_REQUEST_URL =        [scheme]://[host][:[port]][path]?[query] (scheme will by default be &quot;http&quot; until we can detect something different)</span>
<a name="l3463"><span class="linenum">3463</span></a>  <span class="comment">                TYPO3_REQUEST_SCRIPT =      [scheme]://[host][:[port]][path_script]</span>
<a name="l3464"><span class="linenum">3464</span></a>  <span class="comment">                TYPO3_REQUEST_DIR =        [scheme]://[host][:[port]][path_dir]</span>
<a name="l3465"><span class="linenum">3465</span></a>  <span class="comment">                TYPO3_SITE_URL =         [scheme]://[host][:[port]][path_dir] of the TYPO3 website frontend</span>
<a name="l3466"><span class="linenum">3466</span></a>  <span class="comment">                TYPO3_SITE_PATH =         [path_dir] of the TYPO3 website frontend</span>
<a name="l3467"><span class="linenum">3467</span></a>  <span class="comment">                TYPO3_SITE_SCRIPT =         [script / Speaking URL] of the TYPO3 website</span>
<a name="l3468"><span class="linenum">3468</span></a>  <span class="comment">                TYPO3_DOCUMENT_ROOT =        Absolute path of root of documents: TYPO3_DOCUMENT_ROOT.SCRIPT_NAME = SCRIPT_FILENAME (typically)</span>
<a name="l3469"><span class="linenum">3469</span></a>  <span class="comment">                TYPO3_SSL =             Returns TRUE if this session uses SSL/TLS (https)</span>
<a name="l3470"><span class="linenum">3470</span></a>  <span class="comment">                TYPO3_PROXY =             Returns TRUE if this session runs over a well known proxy</span>
<a name="l3471"><span class="linenum">3471</span></a>  <span class="comment"></span>
<a name="l3472"><span class="linenum">3472</span></a>  <span class="comment">            Notice: [fragment] is apparently NEVER available to the script!</span>
<a name="l3473"><span class="linenum">3473</span></a>  <span class="comment"></span>
<a name="l3474"><span class="linenum">3474</span></a>  <span class="comment">            Testing suggestions:</span>
<a name="l3475"><span class="linenum">3475</span></a>  <span class="comment">            - Output all the values.</span>
<a name="l3476"><span class="linenum">3476</span></a>  <span class="comment">            - In the script, make a link to the script it self, maybe add some parameters and click the link a few times so HTTP_REFERER is seen</span>
<a name="l3477"><span class="linenum">3477</span></a>  <span class="comment">            - ALSO TRY the script from the ROOT of a site (like 'http://www.mytest.com/' and not 'http://www.mytest.com/test/' !!)</span>
<a name="l3478"><span class="linenum">3478</span></a>  <span class="comment">        */</span>
<a name="l3479"><span class="linenum">3479</span></a>  
<a name="l3480"><span class="linenum">3480</span></a>          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = '';
<a name="l3481"><span class="linenum">3481</span></a>  
<a name="l3482"><span class="linenum">3482</span></a>          switch ((string) <a class="var it37883" onMouseOver="hilite(37883)" onMouseOut="lolite()" onClick="logVariable('getEnvName')" href="../../_variables/getEnvName.html">$getEnvName</a>) {
<a name="l3483"><span class="linenum">3483</span></a>              case 'SCRIPT_NAME':
<a name="l3484"><span class="linenum">3484</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = (PHP_SAPI == 'fpm-fcgi' || PHP_SAPI == 'cgi' || PHP_SAPI == 'cgi-fcgi') &amp;&amp;
<a name="l3485"><span class="linenum">3485</span></a>                          (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_INFO'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_INFO'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO']) ?
<a name="l3486"><span class="linenum">3486</span></a>                          (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_INFO'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_INFO'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO']) :
<a name="l3487"><span class="linenum">3487</span></a>                          (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_SCRIPT_NAME'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_SCRIPT_NAME'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_NAME']);
<a name="l3488"><span class="linenum">3488</span></a>  <span class="comment">                    // add a prefix if TYPO3 is behind a proxy: ext-domain.com =&gt; int-server.com/prefix</span>
<a name="l3489"><span class="linenum">3489</span></a>                  if (self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'], <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP'])) {
<a name="l3490"><span class="linenum">3490</span></a>                      if (self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SSL') &amp;&amp; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefixSSL']) {
<a name="l3491"><span class="linenum">3491</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefixSSL'] . <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>;
<a name="l3492"><span class="linenum">3492</span></a>                      } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefix']) {
<a name="l3493"><span class="linenum">3493</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefix'] . <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>;
<a name="l3494"><span class="linenum">3494</span></a>                      }
<a name="l3495"><span class="linenum">3495</span></a>                  }
<a name="l3496"><span class="linenum">3496</span></a>                  break;
<a name="l3497"><span class="linenum">3497</span></a>              case 'SCRIPT_FILENAME':
<a name="l3498"><span class="linenum">3498</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('//', '/', <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\\', '/',
<a name="l3499"><span class="linenum">3499</span></a>                      (PHP_SAPI == 'fpm-fcgi' || PHP_SAPI == 'cgi' || PHP_SAPI == 'isapi' || PHP_SAPI == 'cgi-fcgi') &amp;&amp;
<a name="l3500"><span class="linenum">3500</span></a>                              (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_TRANSLATED'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_TRANSLATED'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['PATH_TRANSLATED']) ?
<a name="l3501"><span class="linenum">3501</span></a>                              (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_TRANSLATED'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_PATH_TRANSLATED'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['PATH_TRANSLATED']) :
<a name="l3502"><span class="linenum">3502</span></a>                              (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_SCRIPT_FILENAME'] ? <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['ORIG_SCRIPT_FILENAME'] : <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SCRIPT_FILENAME'])));
<a name="l3503"><span class="linenum">3503</span></a>  
<a name="l3504"><span class="linenum">3504</span></a>                  break;
<a name="l3505"><span class="linenum">3505</span></a>              case 'REQUEST_URI':
<a name="l3506"><span class="linenum">3506</span></a>  <span class="comment">                    // Typical application of REQUEST_URI is return urls, forms submitting to itself etc. Example: returnUrl='.rawurlencode(t3lib_div::getIndpEnv('REQUEST_URI'))</span>
<a name="l3507"><span class="linenum">3507</span></a>                  if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['requestURIvar']) { // This is for URL rewriters that store the original URI in a server <a class="function" onClick="logFunction('variable')" href="../../_functions/variable.html" onMouseOver="funcPopup(event,'variable')">variable</a> (eg ISAPI_Rewriter for IIS: HTTP_X_REWRITE_URL)
<a name="l3508"><span class="linenum">3508</span></a>                      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('|', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['requestURIvar']);
<a name="l3509"><span class="linenum">3509</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>][<a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>];
<a name="l3510"><span class="linenum">3510</span></a>                  } elseif (!<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI']) { // This is for ISS/CGI which does not have the REQUEST_URI available.
<a name="l3511"><span class="linenum">3511</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = '/' . <a class="phpfunction" onClick="logFunction('ltrim')" href="../../_functions/ltrim.html" onMouseOver="phpfuncPopup(event,'ltrim')">ltrim</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME'), '/') .
<a name="l3512"><span class="linenum">3512</span></a>                              (<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['QUERY_STRING'] ? '?' . <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['QUERY_STRING'] : '');
<a name="l3513"><span class="linenum">3513</span></a>                  } else {
<a name="l3514"><span class="linenum">3514</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REQUEST_URI'];
<a name="l3515"><span class="linenum">3515</span></a>                  }
<a name="l3516"><span class="linenum">3516</span></a>  <span class="comment">                    // add a prefix if TYPO3 is behind a proxy: ext-domain.com =&gt; int-server.com/prefix</span>
<a name="l3517"><span class="linenum">3517</span></a>                  if (self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'], <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP'])) {
<a name="l3518"><span class="linenum">3518</span></a>                      if (self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SSL') &amp;&amp; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefixSSL']) {
<a name="l3519"><span class="linenum">3519</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefixSSL'] . <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>;
<a name="l3520"><span class="linenum">3520</span></a>                      } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefix']) {
<a name="l3521"><span class="linenum">3521</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyPrefix'] . <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>;
<a name="l3522"><span class="linenum">3522</span></a>                      }
<a name="l3523"><span class="linenum">3523</span></a>                  }
<a name="l3524"><span class="linenum">3524</span></a>                  break;
<a name="l3525"><span class="linenum">3525</span></a>              case 'PATH_INFO':
<a name="l3526"><span class="linenum">3526</span></a>  <span class="comment">                    // $_SERVER['PATH_INFO']!=$_SERVER['SCRIPT_NAME'] is necessary because some servers (Windows/CGI) are seen to set PATH_INFO equal to script_name</span>
<a name="l3527"><span class="linenum">3527</span></a>  <span class="comment">                    // Further, there must be at least one '/' in the path - else the PATH_INFO value does not make sense.</span>
<a name="l3528"><span class="linenum">3528</span></a>  <span class="comment">                    // IF 'PATH_INFO' never works for our purpose in TYPO3 with CGI-servers, then 'PHP_SAPI=='cgi'' might be a better check. Right now strcmp($_SERVER['PATH_INFO'],t3lib_div::getIndpEnv('SCRIPT_NAME')) will always return FALSE for CGI-versions, but that is only as long as SCRIPT_NAME is set equal to PATH_INFO because of PHP_SAPI=='cgi' (see above)</span>
<a name="l3529"><span class="linenum">3529</span></a>  <span class="comment">                    //                if (strcmp($_SERVER['PATH_INFO'],self::getIndpEnv('SCRIPT_NAME')) &amp;&amp; count(explode('/',$_SERVER['PATH_INFO']))&gt;1)    {</span>
<a name="l3530"><span class="linenum">3530</span></a>                  if (PHP_SAPI != 'cgi' &amp;&amp; PHP_SAPI != 'cgi-fcgi' &amp;&amp; PHP_SAPI != 'fpm-fcgi') {
<a name="l3531"><span class="linenum">3531</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['PATH_INFO'];
<a name="l3532"><span class="linenum">3532</span></a>                  }
<a name="l3533"><span class="linenum">3533</span></a>                  break;
<a name="l3534"><span class="linenum">3534</span></a>              case 'TYPO3_REV_PROXY':
<a name="l3535"><span class="linenum">3535</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'], <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP']);
<a name="l3536"><span class="linenum">3536</span></a>                  break;
<a name="l3537"><span class="linenum">3537</span></a>              case 'REMOTE_ADDR':
<a name="l3538"><span class="linenum">3538</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'];
<a name="l3539"><span class="linenum">3539</span></a>                  if (self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'], <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP'])) {
<a name="l3540"><span class="linenum">3540</span></a>                      <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['HTTP_X_FORWARDED_FOR']);
<a name="l3541"><span class="linenum">3541</span></a>  <span class="comment">                        // choose which IP in list to use</span>
<a name="l3542"><span class="linenum">3542</span></a>                      if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>)) {
<a name="l3543"><span class="linenum">3543</span></a>                          switch (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyHeaderMultiValue']) {
<a name="l3544"><span class="linenum">3544</span></a>                              case 'last':
<a name="l3545"><span class="linenum">3545</span></a>                                  <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>);
<a name="l3546"><span class="linenum">3546</span></a>                                  break;
<a name="l3547"><span class="linenum">3547</span></a>                              case 'first':
<a name="l3548"><span class="linenum">3548</span></a>                                  <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>);
<a name="l3549"><span class="linenum">3549</span></a>                                  break;
<a name="l3550"><span class="linenum">3550</span></a>                              case 'none':
<a name="l3551"><span class="linenum">3551</span></a>                              default:
<a name="l3552"><span class="linenum">3552</span></a>                                  <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> = '';
<a name="l3553"><span class="linenum">3553</span></a>                                  break;
<a name="l3554"><span class="linenum">3554</span></a>                          }
<a name="l3555"><span class="linenum">3555</span></a>                      }
<a name="l3556"><span class="linenum">3556</span></a>                      if (self::<a class="function" onClick="logFunction('validIP')" href="../../_functions/validip.html" onMouseOver="funcPopup(event,'validip')">validIP</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>)) {
<a name="l3557"><span class="linenum">3557</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>;
<a name="l3558"><span class="linenum">3558</span></a>                      }
<a name="l3559"><span class="linenum">3559</span></a>                  }
<a name="l3560"><span class="linenum">3560</span></a>                  break;
<a name="l3561"><span class="linenum">3561</span></a>              case 'HTTP_HOST':
<a name="l3562"><span class="linenum">3562</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['HTTP_HOST'];
<a name="l3563"><span class="linenum">3563</span></a>                  if (self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['REMOTE_ADDR'], <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP'])) {
<a name="l3564"><span class="linenum">3564</span></a>                      <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['HTTP_X_FORWARDED_HOST']);
<a name="l3565"><span class="linenum">3565</span></a>  <span class="comment">                        // choose which host in list to use</span>
<a name="l3566"><span class="linenum">3566</span></a>                      if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>)) {
<a name="l3567"><span class="linenum">3567</span></a>                          switch (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyHeaderMultiValue']) {
<a name="l3568"><span class="linenum">3568</span></a>                              case 'last':
<a name="l3569"><span class="linenum">3569</span></a>                                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>);
<a name="l3570"><span class="linenum">3570</span></a>                                  break;
<a name="l3571"><span class="linenum">3571</span></a>                              case 'first':
<a name="l3572"><span class="linenum">3572</span></a>                                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>);
<a name="l3573"><span class="linenum">3573</span></a>                                  break;
<a name="l3574"><span class="linenum">3574</span></a>                              case 'none':
<a name="l3575"><span class="linenum">3575</span></a>                              default:
<a name="l3576"><span class="linenum">3576</span></a>                                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = '';
<a name="l3577"><span class="linenum">3577</span></a>                                  break;
<a name="l3578"><span class="linenum">3578</span></a>                          }
<a name="l3579"><span class="linenum">3579</span></a>                      }
<a name="l3580"><span class="linenum">3580</span></a>                      if (<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>) {
<a name="l3581"><span class="linenum">3581</span></a>                          <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>;
<a name="l3582"><span class="linenum">3582</span></a>                      }
<a name="l3583"><span class="linenum">3583</span></a>                  }
<a name="l3584"><span class="linenum">3584</span></a>                  if (!self::<a class="function" onClick="logFunction('isAllowedHostHeaderValue')" href="../../_functions/isallowedhostheadervalue.html" onMouseOver="funcPopup(event,'isallowedhostheadervalue')">isAllowedHostHeaderValue</a>(<a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>)) {
<a name="l3585"><span class="linenum">3585</span></a>                      throw new UnexpectedValueException(
<a name="l3586"><span class="linenum">3586</span></a>                          'The current host header value does not match the configured trusted hosts pattern! Check the pattern defined in <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>[\'TYPO3_CONF_VARS\'][\'SYS\'][\'trustedHostsPattern\'] and adapt it, if you want to allow the current host header \'' . <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> . '\' for your installation.',
<a name="l3587"><span class="linenum">3587</span></a>                          1396795884
<a name="l3588"><span class="linenum">3588</span></a>                      );
<a name="l3589"><span class="linenum">3589</span></a>                  }
<a name="l3590"><span class="linenum">3590</span></a>                  break;
<a name="l3591"><span class="linenum">3591</span></a>  <span class="comment">                // These are let through without modification</span>
<a name="l3592"><span class="linenum">3592</span></a>              case 'HTTP_REFERER':
<a name="l3593"><span class="linenum">3593</span></a>              case 'HTTP_USER_AGENT':
<a name="l3594"><span class="linenum">3594</span></a>              case 'HTTP_ACCEPT_ENCODING':
<a name="l3595"><span class="linenum">3595</span></a>              case 'HTTP_ACCEPT_LANGUAGE':
<a name="l3596"><span class="linenum">3596</span></a>              case 'REMOTE_HOST':
<a name="l3597"><span class="linenum">3597</span></a>              case 'QUERY_STRING':
<a name="l3598"><span class="linenum">3598</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>[<a class="var it37883" onMouseOver="hilite(37883)" onMouseOut="lolite()" onClick="logVariable('getEnvName')" href="../../_variables/getEnvName.html">$getEnvName</a>];
<a name="l3599"><span class="linenum">3599</span></a>                  break;
<a name="l3600"><span class="linenum">3600</span></a>              case 'TYPO3_DOCUMENT_ROOT':
<a name="l3601"><span class="linenum">3601</span></a>  <span class="comment">                    // Get the web root (it is not the root of the TYPO3 installation)</span>
<a name="l3602"><span class="linenum">3602</span></a>  <span class="comment">                    // The absolute path of the script can be calculated with TYPO3_DOCUMENT_ROOT + SCRIPT_FILENAME</span>
<a name="l3603"><span class="linenum">3603</span></a>  <span class="comment">                    // Some CGI-versions (LA13CGI) and mod-rewrite rules on MODULE versions will deliver a 'wrong' DOCUMENT_ROOT (according to our description). Further various aliases/mod_rewrite rules can disturb this as well.</span>
<a name="l3604"><span class="linenum">3604</span></a>  <span class="comment">                    // Therefore the DOCUMENT_ROOT is now always calculated as the SCRIPT_FILENAME minus the end part shared with SCRIPT_NAME.</span>
<a name="l3605"><span class="linenum">3605</span></a>                  <a class="var it37884" onMouseOver="hilite(37884)" onMouseOut="lolite()" onClick="logVariable('SFN')" href="../../_variables/SFN.html">$SFN</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_FILENAME');
<a name="l3606"><span class="linenum">3606</span></a>                  <a class="var it37885" onMouseOver="hilite(37885)" onMouseOut="lolite()" onClick="logVariable('SN_A')" href="../../_variables/SN_A.html">$SN_A</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('strrev')" href="../../_functions/strrev.html" onMouseOver="phpfuncPopup(event,'strrev')">strrev</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME')));
<a name="l3607"><span class="linenum">3607</span></a>                  <a class="var it37886" onMouseOver="hilite(37886)" onMouseOut="lolite()" onClick="logVariable('SFN_A')" href="../../_variables/SFN_A.html">$SFN_A</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('strrev')" href="../../_functions/strrev.html" onMouseOver="phpfuncPopup(event,'strrev')">strrev</a>(<a class="var it37884" onMouseOver="hilite(37884)" onMouseOut="lolite()" onClick="logVariable('SFN')" href="../../_variables/SFN.html">$SFN</a>));
<a name="l3608"><span class="linenum">3608</span></a>                  <a class="var it37887" onMouseOver="hilite(37887)" onMouseOut="lolite()" onClick="logVariable('acc')" href="../../_variables/acc.html">$acc</a> = array();
<a name="l3609"><span class="linenum">3609</span></a>                  foreach (<a class="var it37885" onMouseOver="hilite(37885)" onMouseOut="lolite()" onClick="logVariable('SN_A')" href="../../_variables/SN_A.html">$SN_A</a> as <a class="var it17590" onMouseOver="hilite(17590)" onMouseOut="lolite()" onClick="logVariable('kk')" href="../../_variables/kk.html">$kk</a> =&gt; <a class="var it26811" onMouseOver="hilite(26811)" onMouseOut="lolite()" onClick="logVariable('vv')" href="../../_variables/vv.html">$vv</a>) {
<a name="l3610"><span class="linenum">3610</span></a>                      if (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37886" onMouseOver="hilite(37886)" onMouseOut="lolite()" onClick="logVariable('SFN_A')" href="../../_variables/SFN_A.html">$SFN_A</a>[<a class="var it17590" onMouseOver="hilite(17590)" onMouseOut="lolite()" onClick="logVariable('kk')" href="../../_variables/kk.html">$kk</a>], <a class="var it26811" onMouseOver="hilite(26811)" onMouseOut="lolite()" onClick="logVariable('vv')" href="../../_variables/vv.html">$vv</a>)) {
<a name="l3611"><span class="linenum">3611</span></a>                          <a class="var it37887" onMouseOver="hilite(37887)" onMouseOut="lolite()" onClick="logVariable('acc')" href="../../_variables/acc.html">$acc</a>[] = <a class="var it26811" onMouseOver="hilite(26811)" onMouseOut="lolite()" onClick="logVariable('vv')" href="../../_variables/vv.html">$vv</a>;
<a name="l3612"><span class="linenum">3612</span></a>                      } else {
<a name="l3613"><span class="linenum">3613</span></a>                          break;
<a name="l3614"><span class="linenum">3614</span></a>                      }
<a name="l3615"><span class="linenum">3615</span></a>                  }
<a name="l3616"><span class="linenum">3616</span></a>                  <a class="var it37888" onMouseOver="hilite(37888)" onMouseOut="lolite()" onClick="logVariable('commonEnd')" href="../../_variables/commonEnd.html">$commonEnd</a> = <a class="phpfunction" onClick="logFunction('strrev')" href="../../_functions/strrev.html" onMouseOver="phpfuncPopup(event,'strrev')">strrev</a>(<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it37887" onMouseOver="hilite(37887)" onMouseOut="lolite()" onClick="logVariable('acc')" href="../../_variables/acc.html">$acc</a>));
<a name="l3617"><span class="linenum">3617</span></a>                  if (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37888" onMouseOver="hilite(37888)" onMouseOut="lolite()" onClick="logVariable('commonEnd')" href="../../_variables/commonEnd.html">$commonEnd</a>, '')) {
<a name="l3618"><span class="linenum">3618</span></a>                      <a class="var it37889" onMouseOver="hilite(37889)" onMouseOut="lolite()" onClick="logVariable('DR')" href="../../_variables/DR.html">$DR</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37884" onMouseOver="hilite(37884)" onMouseOut="lolite()" onClick="logVariable('SFN')" href="../../_variables/SFN.html">$SFN</a>, 0, -(<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37888" onMouseOver="hilite(37888)" onMouseOut="lolite()" onClick="logVariable('commonEnd')" href="../../_variables/commonEnd.html">$commonEnd</a>) + 1));
<a name="l3619"><span class="linenum">3619</span></a>                  }
<a name="l3620"><span class="linenum">3620</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it37889" onMouseOver="hilite(37889)" onMouseOut="lolite()" onClick="logVariable('DR')" href="../../_variables/DR.html">$DR</a>;
<a name="l3621"><span class="linenum">3621</span></a>                  break;
<a name="l3622"><span class="linenum">3622</span></a>              case 'TYPO3_HOST_ONLY':
<a name="l3623"><span class="linenum">3623</span></a>                  <a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('HTTP_HOST');
<a name="l3624"><span class="linenum">3624</span></a>                  <a class="var it37891" onMouseOver="hilite(37891)" onMouseOut="lolite()" onClick="logVariable('httpHostBracketPosition')" href="../../_variables/httpHostBracketPosition.html">$httpHostBracketPosition</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a>, ']');
<a name="l3625"><span class="linenum">3625</span></a>                  <a class="var it37892" onMouseOver="hilite(37892)" onMouseOut="lolite()" onClick="logVariable('httpHostParts')" href="../../_variables/httpHostParts.html">$httpHostParts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a>);
<a name="l3626"><span class="linenum">3626</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = (<a class="var it37891" onMouseOver="hilite(37891)" onMouseOut="lolite()" onClick="logVariable('httpHostBracketPosition')" href="../../_variables/httpHostBracketPosition.html">$httpHostBracketPosition</a> !== FALSE) ? <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a>, 0, (<a class="var it37891" onMouseOver="hilite(37891)" onMouseOut="lolite()" onClick="logVariable('httpHostBracketPosition')" href="../../_variables/httpHostBracketPosition.html">$httpHostBracketPosition</a> + 1)) : <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it37892" onMouseOver="hilite(37892)" onMouseOut="lolite()" onClick="logVariable('httpHostParts')" href="../../_variables/httpHostParts.html">$httpHostParts</a>);
<a name="l3627"><span class="linenum">3627</span></a>                  break;
<a name="l3628"><span class="linenum">3628</span></a>              case 'TYPO3_PORT':
<a name="l3629"><span class="linenum">3629</span></a>                  <a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('HTTP_HOST');
<a name="l3630"><span class="linenum">3630</span></a>                  <a class="var it37893" onMouseOver="hilite(37893)" onMouseOut="lolite()" onClick="logVariable('httpHostOnly')" href="../../_variables/httpHostOnly.html">$httpHostOnly</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_HOST_ONLY');
<a name="l3631"><span class="linenum">3631</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a>) &gt; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37893" onMouseOver="hilite(37893)" onMouseOut="lolite()" onClick="logVariable('httpHostOnly')" href="../../_variables/httpHostOnly.html">$httpHostOnly</a>)) ? <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37890" onMouseOver="hilite(37890)" onMouseOut="lolite()" onClick="logVariable('httpHost')" href="../../_variables/httpHost.html">$httpHost</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37893" onMouseOver="hilite(37893)" onMouseOut="lolite()" onClick="logVariable('httpHostOnly')" href="../../_variables/httpHostOnly.html">$httpHostOnly</a>) + 1) : '';
<a name="l3632"><span class="linenum">3632</span></a>                  break;
<a name="l3633"><span class="linenum">3633</span></a>              case 'TYPO3_REQUEST_HOST':
<a name="l3634"><span class="linenum">3634</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = (self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SSL') ? 'https://' : 'http://') .
<a name="l3635"><span class="linenum">3635</span></a>                          self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('HTTP_HOST');
<a name="l3636"><span class="linenum">3636</span></a>                  break;
<a name="l3637"><span class="linenum">3637</span></a>              case 'TYPO3_REQUEST_URL':
<a name="l3638"><span class="linenum">3638</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST') . self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('REQUEST_URI');
<a name="l3639"><span class="linenum">3639</span></a>                  break;
<a name="l3640"><span class="linenum">3640</span></a>              case 'TYPO3_REQUEST_SCRIPT':
<a name="l3641"><span class="linenum">3641</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST') . self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME');
<a name="l3642"><span class="linenum">3642</span></a>                  break;
<a name="l3643"><span class="linenum">3643</span></a>              case 'TYPO3_REQUEST_DIR':
<a name="l3644"><span class="linenum">3644</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST') . self::<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME')) . '/';
<a name="l3645"><span class="linenum">3645</span></a>                  break;
<a name="l3646"><span class="linenum">3646</span></a>              case 'TYPO3_SITE_URL':
<a name="l3647"><span class="linenum">3647</span></a>                  if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('PATH_thisScript') &amp;&amp; <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('PATH_site')) {
<a name="l3648"><span class="linenum">3648</span></a>                      <a class="var it37894" onMouseOver="hilite(37894)" onMouseOut="lolite()" onClick="logVariable('lPath')" href="../../_variables/lPath.html">$lPath</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(PATH_thisScript), <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site)) . '/';
<a name="l3649"><span class="linenum">3649</span></a>                      <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_DIR');
<a name="l3650"><span class="linenum">3650</span></a>                      <a class="var it23002" onMouseOver="hilite(23002)" onMouseOut="lolite()" onClick="logVariable('siteUrl')" href="../../_variables/siteUrl.html">$siteUrl</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, 0, -<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37894" onMouseOver="hilite(37894)" onMouseOut="lolite()" onClick="logVariable('lPath')" href="../../_variables/lPath.html">$lPath</a>));
<a name="l3651"><span class="linenum">3651</span></a>                      if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it23002" onMouseOver="hilite(23002)" onMouseOut="lolite()" onClick="logVariable('siteUrl')" href="../../_variables/siteUrl.html">$siteUrl</a>, -1) != '/') {
<a name="l3652"><span class="linenum">3652</span></a>                          <a class="var it23002" onMouseOver="hilite(23002)" onMouseOut="lolite()" onClick="logVariable('siteUrl')" href="../../_variables/siteUrl.html">$siteUrl</a> .= '/';
<a name="l3653"><span class="linenum">3653</span></a>                      }
<a name="l3654"><span class="linenum">3654</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it23002" onMouseOver="hilite(23002)" onMouseOut="lolite()" onClick="logVariable('siteUrl')" href="../../_variables/siteUrl.html">$siteUrl</a>;
<a name="l3655"><span class="linenum">3655</span></a>                  }
<a name="l3656"><span class="linenum">3656</span></a>                  break;
<a name="l3657"><span class="linenum">3657</span></a>              case 'TYPO3_SITE_PATH':
<a name="l3658"><span class="linenum">3658</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_URL'), <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_HOST')));
<a name="l3659"><span class="linenum">3659</span></a>                  break;
<a name="l3660"><span class="linenum">3660</span></a>              case 'TYPO3_SITE_SCRIPT':
<a name="l3661"><span class="linenum">3661</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_URL'), <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_URL')));
<a name="l3662"><span class="linenum">3662</span></a>                  break;
<a name="l3663"><span class="linenum">3663</span></a>              case 'TYPO3_SSL':
<a name="l3664"><span class="linenum">3664</span></a>                  <a class="var it37895" onMouseOver="hilite(37895)" onMouseOut="lolite()" onClick="logVariable('proxySSL')" href="../../_variables/proxySSL.html">$proxySSL</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxySSL']);
<a name="l3665"><span class="linenum">3665</span></a>                  if (<a class="var it37895" onMouseOver="hilite(37895)" onMouseOut="lolite()" onClick="logVariable('proxySSL')" href="../../_variables/proxySSL.html">$proxySSL</a> == '*') {
<a name="l3666"><span class="linenum">3666</span></a>                      <a class="var it37895" onMouseOver="hilite(37895)" onMouseOut="lolite()" onClick="logVariable('proxySSL')" href="../../_variables/proxySSL.html">$proxySSL</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['reverseProxyIP'];
<a name="l3667"><span class="linenum">3667</span></a>                  }
<a name="l3668"><span class="linenum">3668</span></a>                  if (self::<a class="function" onClick="logFunction('cmpIP')" href="../../_functions/cmpip.html" onMouseOver="funcPopup(event,'cmpip')">cmpIP</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('REMOTE_ADDR'), <a class="var it37895" onMouseOver="hilite(37895)" onMouseOut="lolite()" onClick="logVariable('proxySSL')" href="../../_variables/proxySSL.html">$proxySSL</a>)) {
<a name="l3669"><span class="linenum">3669</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = TRUE;
<a name="l3670"><span class="linenum">3670</span></a>                  } else {
<a name="l3671"><span class="linenum">3671</span></a>                      <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SSL_SESSION_ID'] || !<a class="phpfunction" onClick="logFunction('strcasecmp')" href="../../_functions/strcasecmp.html" onMouseOver="phpfuncPopup(event,'strcasecmp')">strcasecmp</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['HTTPS'], 'on') || !<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['HTTPS'], '1') ? TRUE : FALSE; <span class="comment">// see http://bugs.typo3.org/view.php?id=3909</span>
<a name="l3672"><span class="linenum">3672</span></a>                  }
<a name="l3673"><span class="linenum">3673</span></a>                  break;
<a name="l3674"><span class="linenum">3674</span></a>              case '_ARRAY':
<a name="l3675"><span class="linenum">3675</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = array();
<a name="l3676"><span class="linenum">3676</span></a>  <span class="comment">                    // Here, list ALL possible keys to this function for debug display.</span>
<a name="l3677"><span class="linenum">3677</span></a>                  <a class="var it37896" onMouseOver="hilite(37896)" onMouseOut="lolite()" onClick="logVariable('envTestVars')" href="../../_variables/envTestVars.html">$envTestVars</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', '
<a name="l3678"><span class="linenum">3678</span></a>                      HTTP_HOST,
<a name="l3679"><span class="linenum">3679</span></a>                      TYPO3_HOST_ONLY,
<a name="l3680"><span class="linenum">3680</span></a>                      TYPO3_PORT,
<a name="l3681"><span class="linenum">3681</span></a>                      PATH_INFO,
<a name="l3682"><span class="linenum">3682</span></a>                      QUERY_STRING,
<a name="l3683"><span class="linenum">3683</span></a>                      REQUEST_URI,
<a name="l3684"><span class="linenum">3684</span></a>                      HTTP_REFERER,
<a name="l3685"><span class="linenum">3685</span></a>                      TYPO3_REQUEST_HOST,
<a name="l3686"><span class="linenum">3686</span></a>                      TYPO3_REQUEST_URL,
<a name="l3687"><span class="linenum">3687</span></a>                      TYPO3_REQUEST_SCRIPT,
<a name="l3688"><span class="linenum">3688</span></a>                      TYPO3_REQUEST_DIR,
<a name="l3689"><span class="linenum">3689</span></a>                      TYPO3_SITE_URL,
<a name="l3690"><span class="linenum">3690</span></a>                      TYPO3_SITE_SCRIPT,
<a name="l3691"><span class="linenum">3691</span></a>                      TYPO3_SSL,
<a name="l3692"><span class="linenum">3692</span></a>                      TYPO3_REV_PROXY,
<a name="l3693"><span class="linenum">3693</span></a>                      SCRIPT_NAME,
<a name="l3694"><span class="linenum">3694</span></a>                      TYPO3_DOCUMENT_ROOT,
<a name="l3695"><span class="linenum">3695</span></a>                      SCRIPT_FILENAME,
<a name="l3696"><span class="linenum">3696</span></a>                      REMOTE_ADDR,
<a name="l3697"><span class="linenum">3697</span></a>                      REMOTE_HOST,
<a name="l3698"><span class="linenum">3698</span></a>                      HTTP_USER_AGENT,
<a name="l3699"><span class="linenum">3699</span></a>                      HTTP_ACCEPT_LANGUAGE', 1);
<a name="l3700"><span class="linenum">3700</span></a>                  foreach (<a class="var it37896" onMouseOver="hilite(37896)" onMouseOut="lolite()" onClick="logVariable('envTestVars')" href="../../_variables/envTestVars.html">$envTestVars</a> as <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l3701"><span class="linenum">3701</span></a>                      <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>] = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>);
<a name="l3702"><span class="linenum">3702</span></a>                  }
<a name="l3703"><span class="linenum">3703</span></a>                  <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>);
<a name="l3704"><span class="linenum">3704</span></a>                  <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a> = <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l3705"><span class="linenum">3705</span></a>                  break;
<a name="l3706"><span class="linenum">3706</span></a>          }
<a name="l3707"><span class="linenum">3707</span></a>          return <a class="var it11541" onMouseOver="hilite(11541)" onMouseOut="lolite()" onClick="logVariable('retVal')" href="../../_variables/retVal.html">$retVal</a>;
<a name="l3708"><span class="linenum">3708</span></a>      }
<a name="l3709"><span class="linenum">3709</span></a>  
<a name="l3710"><span class="linenum">3710</span></a>      <span class="comment">/**</span>
<a name="l3711"><span class="linenum">3711</span></a>  <span class="comment">     * Checks if the provided host header value matches the trusted hosts pattern.</span>
<a name="l3712"><span class="linenum">3712</span></a>  <span class="comment">     * If the pattern is not defined (which only can happen early in the bootstrap), deny any value.</span>
<a name="l3713"><span class="linenum">3713</span></a>  <span class="comment">     *</span>
<a name="l3714"><span class="linenum">3714</span></a>  <span class="comment">     * @param string $hostHeaderValue HTTP_HOST header value as sent during the request (may include port)</span>
<a name="l3715"><span class="linenum">3715</span></a>  <span class="comment">     * @return bool</span>
<a name="l3716"><span class="linenum">3716</span></a>  <span class="comment">     */</span>
<a name="l3717"><span class="linenum">3717</span></a>  	static public function <a class="function" onClick="logFunction('isAllowedHostHeaderValue')" href="../../_functions/isallowedhostheadervalue.html" onMouseOver="funcPopup(event,'isallowedhostheadervalue')">isAllowedHostHeaderValue</a>(<a class="var it37897" onMouseOver="hilite(37897)" onMouseOut="lolite()" onClick="logVariable('hostHeaderValue')" href="../../_variables/hostHeaderValue.html">$hostHeaderValue</a>) {
<a name="l3718"><span class="linenum">3718</span></a>          if (self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> === TRUE) {
<a name="l3719"><span class="linenum">3719</span></a>              return TRUE;
<a name="l3720"><span class="linenum">3720</span></a>          }
<a name="l3721"><span class="linenum">3721</span></a>  
<a name="l3722"><span class="linenum">3722</span></a>  <span class="comment">        // Allow all install tool requests</span>
<a name="l3723"><span class="linenum">3723</span></a>  <span class="comment">        // We accept this risk to have the install tool always available</span>
<a name="l3724"><span class="linenum">3724</span></a>  <span class="comment">        // Also CLI needs to be allowed as unfortunately AbstractUserAuthentication::getAuthInfoArray() accesses HTTP_HOST without reason on CLI</span>
<a name="l3725"><span class="linenum">3725</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('TYPO3_REQUESTTYPE') &amp;&amp; (TYPO3_REQUESTTYPE &amp; TYPO3_REQUESTTYPE_INSTALL) || (TYPO3_REQUESTTYPE &amp; TYPO3_REQUESTTYPE_CLI)) {
<a name="l3726"><span class="linenum">3726</span></a>              return self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = TRUE;
<a name="l3727"><span class="linenum">3727</span></a>          }
<a name="l3728"><span class="linenum">3728</span></a>  
<a name="l3729"><span class="linenum">3729</span></a>  <span class="comment">        // Deny the value if trusted host patterns is empty, which means we are early in the bootstrap</span>
<a name="l3730"><span class="linenum">3730</span></a>          if (empty(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['trustedHostsPattern'])) {
<a name="l3731"><span class="linenum">3731</span></a>              return FALSE;
<a name="l3732"><span class="linenum">3732</span></a>          }
<a name="l3733"><span class="linenum">3733</span></a>  
<a name="l3734"><span class="linenum">3734</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['trustedHostsPattern'] === self::ENV_TRUSTED_HOSTS_PATTERN_ALLOW_ALL) {
<a name="l3735"><span class="linenum">3735</span></a>              self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = TRUE;
<a name="l3736"><span class="linenum">3736</span></a>          } elseif (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['trustedHostsPattern'] === self::ENV_TRUSTED_HOSTS_PATTERN_SERVER_NAME) {
<a name="l3737"><span class="linenum">3737</span></a>  <span class="comment">            // Allow values that equal the server name</span>
<a name="l3738"><span class="linenum">3738</span></a>  <span class="comment">            // Note that this is only secure if name base virtual host are configured correctly in the webserver</span>
<a name="l3739"><span class="linenum">3739</span></a>              <a class="var it37898" onMouseOver="hilite(37898)" onMouseOut="lolite()" onClick="logVariable('defaultPort')" href="../../_variables/defaultPort.html">$defaultPort</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SSL') ? '443' : '80';
<a name="l3740"><span class="linenum">3740</span></a>              <a class="var it37899" onMouseOver="hilite(37899)" onMouseOut="lolite()" onClick="logVariable('parsedHostValue')" href="../../_variables/parsedHostValue.html">$parsedHostValue</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>('http://' . <a class="var it37897" onMouseOver="hilite(37897)" onMouseOut="lolite()" onClick="logVariable('hostHeaderValue')" href="../../_variables/hostHeaderValue.html">$hostHeaderValue</a>);
<a name="l3741"><span class="linenum">3741</span></a>              if (isset(<a class="var it37899" onMouseOver="hilite(37899)" onMouseOut="lolite()" onClick="logVariable('parsedHostValue')" href="../../_variables/parsedHostValue.html">$parsedHostValue</a>['port'])) {
<a name="l3742"><span class="linenum">3742</span></a>                  self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = (<a class="var it37899" onMouseOver="hilite(37899)" onMouseOut="lolite()" onClick="logVariable('parsedHostValue')" href="../../_variables/parsedHostValue.html">$parsedHostValue</a>['host'] === <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SERVER_NAME'] &amp;&amp; (string)<a class="var it37899" onMouseOver="hilite(37899)" onMouseOut="lolite()" onClick="logVariable('parsedHostValue')" href="../../_variables/parsedHostValue.html">$parsedHostValue</a>['port'] === <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SERVER_PORT']);
<a name="l3743"><span class="linenum">3743</span></a>              } else {
<a name="l3744"><span class="linenum">3744</span></a>                  self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = (<a class="var it37897" onMouseOver="hilite(37897)" onMouseOut="lolite()" onClick="logVariable('hostHeaderValue')" href="../../_variables/hostHeaderValue.html">$hostHeaderValue</a> === <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SERVER_NAME'] &amp;&amp; <a class="var it37898" onMouseOver="hilite(37898)" onMouseOut="lolite()" onClick="logVariable('defaultPort')" href="../../_variables/defaultPort.html">$defaultPort</a> === <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../../_variables/_SERVER.html">$_SERVER</a>['SERVER_PORT']);
<a name="l3745"><span class="linenum">3745</span></a>              }
<a name="l3746"><span class="linenum">3746</span></a>          } else {
<a name="l3747"><span class="linenum">3747</span></a>  <span class="comment">            // In case name based virtual hosts are not possible, we allow setting a trusted host pattern</span>
<a name="l3748"><span class="linenum">3748</span></a>  <span class="comment">            // See https://typo3.org/teams/security/security-bulletins/typo3-core/typo3-core-sa-2014-001/ for further details</span>
<a name="l3749"><span class="linenum">3749</span></a>              self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a> = (bool)<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['trustedHostsPattern'] . '$/', <a class="var it37897" onMouseOver="hilite(37897)" onMouseOut="lolite()" onClick="logVariable('hostHeaderValue')" href="../../_variables/hostHeaderValue.html">$hostHeaderValue</a>);
<a name="l3750"><span class="linenum">3750</span></a>          }
<a name="l3751"><span class="linenum">3751</span></a>  
<a name="l3752"><span class="linenum">3752</span></a>          return self::<a class="var it37705" onMouseOver="hilite(37705)" onMouseOut="lolite()" onClick="logVariable('allowHostHeaderValue')" href="../../_variables/allowHostHeaderValue.html">$allowHostHeaderValue</a>;
<a name="l3753"><span class="linenum">3753</span></a>      }
<a name="l3754"><span class="linenum">3754</span></a>  
<a name="l3755"><span class="linenum">3755</span></a>      <span class="comment">/**</span>
<a name="l3756"><span class="linenum">3756</span></a>  <span class="comment">     * Gets the unixtime as milliseconds.</span>
<a name="l3757"><span class="linenum">3757</span></a>  <span class="comment">     *</span>
<a name="l3758"><span class="linenum">3758</span></a>  <span class="comment">     * @return integer The unixtime as milliseconds</span>
<a name="l3759"><span class="linenum">3759</span></a>  <span class="comment">     */</span>
<a name="l3760"><span class="linenum">3760</span></a>  	public static function <a class="function" onClick="logFunction('milliseconds')" href="../../_functions/milliseconds.html" onMouseOver="funcPopup(event,'milliseconds')">milliseconds</a>() {
<a name="l3761"><span class="linenum">3761</span></a>          return <a class="phpfunction" onClick="logFunction('round')" href="../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>(TRUE) * 1000);
<a name="l3762"><span class="linenum">3762</span></a>      }
<a name="l3763"><span class="linenum">3763</span></a>  
<a name="l3764"><span class="linenum">3764</span></a>      <span class="comment">/**</span>
<a name="l3765"><span class="linenum">3765</span></a>  <span class="comment">     * Client Browser Information</span>
<a name="l3766"><span class="linenum">3766</span></a>  <span class="comment">     *</span>
<a name="l3767"><span class="linenum">3767</span></a>  <span class="comment">     * @param string $useragent Alternative User Agent string (if empty, t3lib_div::getIndpEnv('HTTP_USER_AGENT') is used)</span>
<a name="l3768"><span class="linenum">3768</span></a>  <span class="comment">     * @return array Parsed information about the HTTP_USER_AGENT in categories BROWSER, VERSION, SYSTEM and FORMSTYLE</span>
<a name="l3769"><span class="linenum">3769</span></a>  <span class="comment">     */</span>
<a name="l3770"><span class="linenum">3770</span></a>  	public static function <a class="function" onClick="logFunction('clientInfo')" href="../../_functions/clientinfo.html" onMouseOver="funcPopup(event,'clientinfo')">clientInfo</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a> = '') {
<a name="l3771"><span class="linenum">3771</span></a>          if (!<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>) {
<a name="l3772"><span class="linenum">3772</span></a>              <a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('HTTP_USER_AGENT');
<a name="l3773"><span class="linenum">3773</span></a>          }
<a name="l3774"><span class="linenum">3774</span></a>  
<a name="l3775"><span class="linenum">3775</span></a>          <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a> = array();
<a name="l3776"><span class="linenum">3776</span></a>  <span class="comment">            // Which browser?</span>
<a name="l3777"><span class="linenum">3777</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Konqueror') !== FALSE) {
<a name="l3778"><span class="linenum">3778</span></a>              <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] = 'konqu';
<a name="l3779"><span class="linenum">3779</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Opera') !== FALSE) {
<a name="l3780"><span class="linenum">3780</span></a>              <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] = 'opera';
<a name="l3781"><span class="linenum">3781</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'MSIE') !== FALSE) {
<a name="l3782"><span class="linenum">3782</span></a>              <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] = 'msie';
<a name="l3783"><span class="linenum">3783</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Mozilla') !== FALSE) {
<a name="l3784"><span class="linenum">3784</span></a>              <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] = 'net';
<a name="l3785"><span class="linenum">3785</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Flash') !== FALSE) {
<a name="l3786"><span class="linenum">3786</span></a>              <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] = 'flash';
<a name="l3787"><span class="linenum">3787</span></a>          }
<a name="l3788"><span class="linenum">3788</span></a>          if (<a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER']) {
<a name="l3789"><span class="linenum">3789</span></a>  <span class="comment">                // Browser version</span>
<a name="l3790"><span class="linenum">3790</span></a>              switch (<a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER']) {
<a name="l3791"><span class="linenum">3791</span></a>                  case 'net':
<a name="l3792"><span class="linenum">3792</span></a>                      <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 8));
<a name="l3793"><span class="linenum">3793</span></a>                      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape6/') !== FALSE) {
<a name="l3794"><span class="linenum">3794</span></a>                          <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape6/'), 10));
<a name="l3795"><span class="linenum">3795</span></a>                      } <span class="comment">// Will we ever know if this was a typo or intention...?! :-(</span>
<a name="l3796"><span class="linenum">3796</span></a>                      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape/6') !== FALSE) {
<a name="l3797"><span class="linenum">3797</span></a>                          <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape/6'), 10));
<a name="l3798"><span class="linenum">3798</span></a>                      }
<a name="l3799"><span class="linenum">3799</span></a>                      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape/7') !== FALSE) {
<a name="l3800"><span class="linenum">3800</span></a>                          <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Netscape/7'), 9));
<a name="l3801"><span class="linenum">3801</span></a>                      }
<a name="l3802"><span class="linenum">3802</span></a>                      break;
<a name="l3803"><span class="linenum">3803</span></a>                  case 'msie':
<a name="l3804"><span class="linenum">3804</span></a>                      <a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a> = <a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'MSIE');
<a name="l3805"><span class="linenum">3805</span></a>                      <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^[^0-9]*/', '', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a>, 4)));
<a name="l3806"><span class="linenum">3806</span></a>                      break;
<a name="l3807"><span class="linenum">3807</span></a>                  case 'opera':
<a name="l3808"><span class="linenum">3808</span></a>                      <a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a> = <a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Opera');
<a name="l3809"><span class="linenum">3809</span></a>                      <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^[^0-9]*/', '', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a>, 5)));
<a name="l3810"><span class="linenum">3810</span></a>                      break;
<a name="l3811"><span class="linenum">3811</span></a>                  case 'konqu':
<a name="l3812"><span class="linenum">3812</span></a>                      <a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a> = <a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Konqueror/');
<a name="l3813"><span class="linenum">3813</span></a>                      <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] = doubleval(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('tmp')" href="../../_variables/tmp.html">$tmp</a>, 10));
<a name="l3814"><span class="linenum">3814</span></a>                      break;
<a name="l3815"><span class="linenum">3815</span></a>              }
<a name="l3816"><span class="linenum">3816</span></a>  <span class="comment">            // Client system</span>
<a name="l3817"><span class="linenum">3817</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Win') !== FALSE) {
<a name="l3818"><span class="linenum">3818</span></a>                  <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['SYSTEM'] = 'win';
<a name="l3819"><span class="linenum">3819</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Mac') !== FALSE) {
<a name="l3820"><span class="linenum">3820</span></a>                  <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['SYSTEM'] = 'mac';
<a name="l3821"><span class="linenum">3821</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'Linux') !== FALSE || <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'X11') !== FALSE || <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, 'SGI') !== FALSE || <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, ' SunOS ') !== FALSE || <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1443" onMouseOver="hilite(1443)" onMouseOut="lolite()" onClick="logVariable('useragent')" href="../../_variables/useragent.html">$useragent</a>, ' HP-UX ') !== FALSE) {
<a name="l3822"><span class="linenum">3822</span></a>                  <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['SYSTEM'] = 'unix';
<a name="l3823"><span class="linenum">3823</span></a>              }
<a name="l3824"><span class="linenum">3824</span></a>          }
<a name="l3825"><span class="linenum">3825</span></a>  <span class="comment">        // Is TRUE if the browser supports css to format forms, especially the width</span>
<a name="l3826"><span class="linenum">3826</span></a>          <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['FORMSTYLE'] = (<a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] == 'msie' || (<a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] == 'net' &amp;&amp; <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['VERSION'] &gt;= 5) || <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] == 'opera' || <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>['BROWSER'] == 'konqu');
<a name="l3827"><span class="linenum">3827</span></a>  
<a name="l3828"><span class="linenum">3828</span></a>          return <a class="var it37900" onMouseOver="hilite(37900)" onMouseOut="lolite()" onClick="logVariable('bInfo')" href="../../_variables/bInfo.html">$bInfo</a>;
<a name="l3829"><span class="linenum">3829</span></a>      }
<a name="l3830"><span class="linenum">3830</span></a>  
<a name="l3831"><span class="linenum">3831</span></a>      <span class="comment">/**</span>
<a name="l3832"><span class="linenum">3832</span></a>  <span class="comment">     * Get the fully-qualified domain name of the host.</span>
<a name="l3833"><span class="linenum">3833</span></a>  <span class="comment">     *</span>
<a name="l3834"><span class="linenum">3834</span></a>  <span class="comment">     * @param boolean $requestHost Use request host (when not in CLI mode).</span>
<a name="l3835"><span class="linenum">3835</span></a>  <span class="comment">     * @return string The fully-qualified host name.</span>
<a name="l3836"><span class="linenum">3836</span></a>  <span class="comment">     */</span>
<a name="l3837"><span class="linenum">3837</span></a>  	public static function <a class="function" onClick="logFunction('getHostname')" href="../../_functions/gethostname.html" onMouseOver="funcPopup(event,'gethostname')">getHostname</a>(<a class="var it37901" onMouseOver="hilite(37901)" onMouseOut="lolite()" onClick="logVariable('requestHost')" href="../../_variables/requestHost.html">$requestHost</a> = TRUE) {
<a name="l3838"><span class="linenum">3838</span></a>          <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = '';
<a name="l3839"><span class="linenum">3839</span></a>  <span class="comment">            // If not called from the command-line, resolve on getIndpEnv()</span>
<a name="l3840"><span class="linenum">3840</span></a>  <span class="comment">            // Note that TYPO3_REQUESTTYPE is not used here as it may not yet be defined</span>
<a name="l3841"><span class="linenum">3841</span></a>          if (<a class="var it37901" onMouseOver="hilite(37901)" onMouseOut="lolite()" onClick="logVariable('requestHost')" href="../../_variables/requestHost.html">$requestHost</a> &amp;&amp; (!<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('TYPO3_cliMode') || !TYPO3_cliMode)) {
<a name="l3842"><span class="linenum">3842</span></a>              <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('HTTP_HOST');
<a name="l3843"><span class="linenum">3843</span></a>          }
<a name="l3844"><span class="linenum">3844</span></a>          if (!<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>) {
<a name="l3845"><span class="linenum">3845</span></a>  <span class="comment">                // will fail for PHP 4.1 and 4.2</span>
<a name="l3846"><span class="linenum">3846</span></a>              <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = @<a class="phpfunction" onClick="logFunction('php_uname')" href="../../_functions/php_uname.html" onMouseOver="phpfuncPopup(event,'php_uname')">php_uname</a>('n');
<a name="l3847"><span class="linenum">3847</span></a>  <span class="comment">                // 'n' is ignored in broken installations</span>
<a name="l3848"><span class="linenum">3848</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>, ' ')) {
<a name="l3849"><span class="linenum">3849</span></a>                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = '';
<a name="l3850"><span class="linenum">3850</span></a>              }
<a name="l3851"><span class="linenum">3851</span></a>          }
<a name="l3852"><span class="linenum">3852</span></a>  <span class="comment">            // we have not found a FQDN yet</span>
<a name="l3853"><span class="linenum">3853</span></a>          if (<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>, '.') === FALSE) {
<a name="l3854"><span class="linenum">3854</span></a>              <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> = <a class="phpfunction" onClick="logFunction('gethostbyname')" href="../../_functions/gethostbyname.html" onMouseOver="phpfuncPopup(event,'gethostbyname')">gethostbyname</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>);
<a name="l3855"><span class="linenum">3855</span></a>  <span class="comment">                // we got an IP address</span>
<a name="l3856"><span class="linenum">3856</span></a>              if (<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> != <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>) {
<a name="l3857"><span class="linenum">3857</span></a>                  <a class="var it37902" onMouseOver="hilite(37902)" onMouseOut="lolite()" onClick="logVariable('fqdn')" href="../../_variables/fqdn.html">$fqdn</a> = <a class="phpfunction" onClick="logFunction('gethostbyaddr')" href="../../_functions/gethostbyaddr.html" onMouseOver="phpfuncPopup(event,'gethostbyaddr')">gethostbyaddr</a>(<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a>);
<a name="l3858"><span class="linenum">3858</span></a>                  if (<a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('ip')" href="../../_variables/ip.html">$ip</a> != <a class="var it37902" onMouseOver="hilite(37902)" onMouseOut="lolite()" onClick="logVariable('fqdn')" href="../../_variables/fqdn.html">$fqdn</a>) {
<a name="l3859"><span class="linenum">3859</span></a>                      <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = <a class="var it37902" onMouseOver="hilite(37902)" onMouseOut="lolite()" onClick="logVariable('fqdn')" href="../../_variables/fqdn.html">$fqdn</a>;
<a name="l3860"><span class="linenum">3860</span></a>                  }
<a name="l3861"><span class="linenum">3861</span></a>              }
<a name="l3862"><span class="linenum">3862</span></a>          }
<a name="l3863"><span class="linenum">3863</span></a>          if (!<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>) {
<a name="l3864"><span class="linenum">3864</span></a>              <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = 'localhost.localdomain';
<a name="l3865"><span class="linenum">3865</span></a>          }
<a name="l3866"><span class="linenum">3866</span></a>  
<a name="l3867"><span class="linenum">3867</span></a>          return <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>;
<a name="l3868"><span class="linenum">3868</span></a>      }
<a name="l3869"><span class="linenum">3869</span></a>  
<a name="l3870"><span class="linenum">3870</span></a>  
<a name="l3871"><span class="linenum">3871</span></a>      <span class="comment">/*************************</span>
<a name="l3872"><span class="linenum">3872</span></a>  <span class="comment">     *</span>
<a name="l3873"><span class="linenum">3873</span></a>  <span class="comment">     * TYPO3 SPECIFIC FUNCTIONS</span>
<a name="l3874"><span class="linenum">3874</span></a>  <span class="comment">     *</span>
<a name="l3875"><span class="linenum">3875</span></a>  <span class="comment">     *************************/</span>
<a name="l3876"><span class="linenum">3876</span></a>  
<a name="l3877"><span class="linenum">3877</span></a>      <span class="comment">/**</span>
<a name="l3878"><span class="linenum">3878</span></a>  <span class="comment">     * Returns the absolute filename of a relative reference, resolves the &quot;EXT:&quot; prefix (way of referring to files inside extensions) and checks that the file is inside the PATH_site of the TYPO3 installation and implies a check with t3lib_div::validPathStr(). Returns FALSE if checks failed. Does not check if the file exists.</span>
<a name="l3879"><span class="linenum">3879</span></a>  <span class="comment">     *</span>
<a name="l3880"><span class="linenum">3880</span></a>  <span class="comment">     * @param string $filename The input filename/filepath to evaluate</span>
<a name="l3881"><span class="linenum">3881</span></a>  <span class="comment">     * @param boolean $onlyRelative If $onlyRelative is set (which it is by default), then only return values relative to the current PATH_site is accepted.</span>
<a name="l3882"><span class="linenum">3882</span></a>  <span class="comment">     * @param boolean $relToTYPO3_mainDir If $relToTYPO3_mainDir is set, then relative paths are relative to PATH_typo3 constant - otherwise (default) they are relative to PATH_site</span>
<a name="l3883"><span class="linenum">3883</span></a>  <span class="comment">     * @return string Returns the absolute filename of $filename IF valid, otherwise blank string.</span>
<a name="l3884"><span class="linenum">3884</span></a>  <span class="comment">     */</span>
<a name="l3885"><span class="linenum">3885</span></a>  	public static function <a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, <a class="var it37903" onMouseOver="hilite(37903)" onMouseOut="lolite()" onClick="logVariable('onlyRelative')" href="../../_variables/onlyRelative.html">$onlyRelative</a> = TRUE, <a class="var it37904" onMouseOver="hilite(37904)" onMouseOut="lolite()" onClick="logVariable('relToTYPO3_mainDir')" href="../../_variables/relToTYPO3_mainDir.html">$relToTYPO3_mainDir</a> = FALSE) {
<a name="l3886"><span class="linenum">3886</span></a>          if (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, '')) {
<a name="l3887"><span class="linenum">3887</span></a>              return '';
<a name="l3888"><span class="linenum">3888</span></a>          }
<a name="l3889"><span class="linenum">3889</span></a>  
<a name="l3890"><span class="linenum">3890</span></a>          if (<a class="var it37904" onMouseOver="hilite(37904)" onMouseOut="lolite()" onClick="logVariable('relToTYPO3_mainDir')" href="../../_variables/relToTYPO3_mainDir.html">$relToTYPO3_mainDir</a>) {
<a name="l3891"><span class="linenum">3891</span></a>              if (!<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('PATH_typo3')) {
<a name="l3892"><span class="linenum">3892</span></a>                  return '';
<a name="l3893"><span class="linenum">3893</span></a>              }
<a name="l3894"><span class="linenum">3894</span></a>              <a class="var it37905" onMouseOver="hilite(37905)" onMouseOut="lolite()" onClick="logVariable('relPathPrefix')" href="../../_variables/relPathPrefix.html">$relPathPrefix</a> = PATH_typo3;
<a name="l3895"><span class="linenum">3895</span></a>          } else {
<a name="l3896"><span class="linenum">3896</span></a>              <a class="var it37905" onMouseOver="hilite(37905)" onMouseOut="lolite()" onClick="logVariable('relPathPrefix')" href="../../_variables/relPathPrefix.html">$relPathPrefix</a> = PATH_site;
<a name="l3897"><span class="linenum">3897</span></a>          }
<a name="l3898"><span class="linenum">3898</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, 0, 4) == 'EXT:') { // extension
<a name="l3899"><span class="linenum">3899</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, <a class="var it14760" onMouseOver="hilite(14760)" onMouseOut="lolite()" onClick="logVariable('local')" href="../../_variables/local.html">$local</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, 4), 2);
<a name="l3900"><span class="linenum">3900</span></a>              <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = '';
<a name="l3901"><span class="linenum">3901</span></a>              if (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, '') &amp;&amp; t3lib_extMgm::<a class="function" onClick="logFunction('isLoaded')" href="../../_functions/isloaded.html" onMouseOver="funcPopup(event,'isloaded')">isLoaded</a>(<a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it14760" onMouseOver="hilite(14760)" onMouseOut="lolite()" onClick="logVariable('local')" href="../../_variables/local.html">$local</a>, '')) {
<a name="l3902"><span class="linenum">3902</span></a>                  <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = t3lib_extMgm::extPath(<a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>) . <a class="var it14760" onMouseOver="hilite(14760)" onMouseOut="lolite()" onClick="logVariable('local')" href="../../_variables/local.html">$local</a>;
<a name="l3903"><span class="linenum">3903</span></a>              }
<a name="l3904"><span class="linenum">3904</span></a>          } elseif (!self::<a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>)) { // relative. Prepended with <a class="var it37905" onMouseOver="hilite(37905)" onMouseOut="lolite()" onClick="logVariable('relPathPrefix')" href="../../_variables/relPathPrefix.html">$relPathPrefix</a>
<a name="l3905"><span class="linenum">3905</span></a>              <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = <a class="var it37905" onMouseOver="hilite(37905)" onMouseOut="lolite()" onClick="logVariable('relPathPrefix')" href="../../_variables/relPathPrefix.html">$relPathPrefix</a> . <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>;
<a name="l3906"><span class="linenum">3906</span></a>          } elseif (<a class="var it37903" onMouseOver="hilite(37903)" onMouseOut="lolite()" onClick="logVariable('onlyRelative')" href="../../_variables/onlyRelative.html">$onlyRelative</a> &amp;&amp; !self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, <a class="var it37905" onMouseOver="hilite(37905)" onMouseOut="lolite()" onClick="logVariable('relPathPrefix')" href="../../_variables/relPathPrefix.html">$relPathPrefix</a>)) { // absolute, but set to blank if not allowed
<a name="l3907"><span class="linenum">3907</span></a>              <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = '';
<a name="l3908"><span class="linenum">3908</span></a>          }
<a name="l3909"><span class="linenum">3909</span></a>          if (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, '') &amp;&amp; self::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>)) { // checks backpath.
<a name="l3910"><span class="linenum">3910</span></a>              return <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>;
<a name="l3911"><span class="linenum">3911</span></a>          }
<a name="l3912"><span class="linenum">3912</span></a>      }
<a name="l3913"><span class="linenum">3913</span></a>  
<a name="l3914"><span class="linenum">3914</span></a>      <span class="comment">/**</span>
<a name="l3915"><span class="linenum">3915</span></a>  <span class="comment">     * Checks for malicious file paths.</span>
<a name="l3916"><span class="linenum">3916</span></a>  <span class="comment">     *</span>
<a name="l3917"><span class="linenum">3917</span></a>  <span class="comment">     * Returns TRUE if no '//', '..', '\' or control characters are found in the $theFile.</span>
<a name="l3918"><span class="linenum">3918</span></a>  <span class="comment">     * This should make sure that the path is not pointing 'backwards' and further doesn't contain double/back slashes.</span>
<a name="l3919"><span class="linenum">3919</span></a>  <span class="comment">     * So it's compatible with the UNIX style path strings valid for TYPO3 internally.</span>
<a name="l3920"><span class="linenum">3920</span></a>  <span class="comment">     *</span>
<a name="l3921"><span class="linenum">3921</span></a>  <span class="comment">     * @param string $theFile File path to evaluate</span>
<a name="l3922"><span class="linenum">3922</span></a>  <span class="comment">     * @return boolean TRUE, $theFile is allowed path string, FALSE otherwise</span>
<a name="l3923"><span class="linenum">3923</span></a>  <span class="comment">     * @see http://php.net/manual/en/security.filesystem.nullbytes.php</span>
<a name="l3924"><span class="linenum">3924</span></a>  <span class="comment">     * @todo Possible improvement: Should it rawurldecode the string first to check if any of these characters is encoded?</span>
<a name="l3925"><span class="linenum">3925</span></a>  <span class="comment">     */</span>
<a name="l3926"><span class="linenum">3926</span></a>  	public static function <a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>) {
<a name="l3927"><span class="linenum">3927</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, '//') === FALSE &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>, '\\') === FALSE &amp;&amp; !<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('#(?:^\.\.|/\.\./|[[:cntrl:]])#u', <a class="var it37715" onMouseOver="hilite(37715)" onMouseOut="lolite()" onClick="logVariable('theFile')" href="../../_variables/theFile.html">$theFile</a>)) {
<a name="l3928"><span class="linenum">3928</span></a>              return TRUE;
<a name="l3929"><span class="linenum">3929</span></a>          }
<a name="l3930"><span class="linenum">3930</span></a>  
<a name="l3931"><span class="linenum">3931</span></a>          return FALSE;
<a name="l3932"><span class="linenum">3932</span></a>      }
<a name="l3933"><span class="linenum">3933</span></a>  
<a name="l3934"><span class="linenum">3934</span></a>      <span class="comment">/**</span>
<a name="l3935"><span class="linenum">3935</span></a>  <span class="comment">     * Checks if the $path is absolute or relative (detecting either '/' or 'x:/' as first part of string) and returns TRUE if so.</span>
<a name="l3936"><span class="linenum">3936</span></a>  <span class="comment">     *</span>
<a name="l3937"><span class="linenum">3937</span></a>  <span class="comment">     * @param string $path File path to evaluate</span>
<a name="l3938"><span class="linenum">3938</span></a>  <span class="comment">     * @return boolean</span>
<a name="l3939"><span class="linenum">3939</span></a>  <span class="comment">     */</span>
<a name="l3940"><span class="linenum">3940</span></a>  	public static function <a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l3941"><span class="linenum">3941</span></a>  <span class="comment">            // on Windows also a path starting with a drive letter is absolute: X:/</span>
<a name="l3942"><span class="linenum">3942</span></a>          if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> === 'WIN' &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, 1, 2) === ':/') {
<a name="l3943"><span class="linenum">3943</span></a>              return TRUE;
<a name="l3944"><span class="linenum">3944</span></a>          }
<a name="l3945"><span class="linenum">3945</span></a>  
<a name="l3946"><span class="linenum">3946</span></a>  <span class="comment">            // path starting with a / is always absolute, on every system</span>
<a name="l3947"><span class="linenum">3947</span></a>          return (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, 0, 1) === '/');
<a name="l3948"><span class="linenum">3948</span></a>      }
<a name="l3949"><span class="linenum">3949</span></a>  
<a name="l3950"><span class="linenum">3950</span></a>      <span class="comment">/**</span>
<a name="l3951"><span class="linenum">3951</span></a>  <span class="comment">     * Returns TRUE if the path is absolute, without backpath '..' and within the PATH_site OR within the lockRootPath</span>
<a name="l3952"><span class="linenum">3952</span></a>  <span class="comment">     *</span>
<a name="l3953"><span class="linenum">3953</span></a>  <span class="comment">     * @param string $path File path to evaluate</span>
<a name="l3954"><span class="linenum">3954</span></a>  <span class="comment">     * @return boolean</span>
<a name="l3955"><span class="linenum">3955</span></a>  <span class="comment">     */</span>
<a name="l3956"><span class="linenum">3956</span></a>  	public static function <a class="function" onClick="logFunction('isAllowedAbsPath')" href="../../_functions/isallowedabspath.html" onMouseOver="funcPopup(event,'isallowedabspath')">isAllowedAbsPath</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) {
<a name="l3957"><span class="linenum">3957</span></a>          if (self::<a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) &amp;&amp;
<a name="l3958"><span class="linenum">3958</span></a>                  self::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>) &amp;&amp;
<a name="l3959"><span class="linenum">3959</span></a>                  (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, PATH_site)
<a name="l3960"><span class="linenum">3960</span></a>                          ||
<a name="l3961"><span class="linenum">3961</span></a>                          (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['lockRootPath'] &amp;&amp; self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['lockRootPath']))
<a name="l3962"><span class="linenum">3962</span></a>                  )
<a name="l3963"><span class="linenum">3963</span></a>          ) {
<a name="l3964"><span class="linenum">3964</span></a>              return TRUE;
<a name="l3965"><span class="linenum">3965</span></a>          }
<a name="l3966"><span class="linenum">3966</span></a>      }
<a name="l3967"><span class="linenum">3967</span></a>  
<a name="l3968"><span class="linenum">3968</span></a>      <span class="comment">/**</span>
<a name="l3969"><span class="linenum">3969</span></a>  <span class="comment">     * Verifies the input filename against the 'fileDenyPattern'. Returns TRUE if OK.</span>
<a name="l3970"><span class="linenum">3970</span></a>  <span class="comment">     *</span>
<a name="l3971"><span class="linenum">3971</span></a>  <span class="comment">     * @param string $filename File path to evaluate</span>
<a name="l3972"><span class="linenum">3972</span></a>  <span class="comment">     * @return boolean</span>
<a name="l3973"><span class="linenum">3973</span></a>  <span class="comment">     */</span>
<a name="l3974"><span class="linenum">3974</span></a>  	public static function <a class="function" onClick="logFunction('verifyFilenameAgainstDenyPattern')" href="../../_functions/verifyfilenameagainstdenypattern.html" onMouseOver="funcPopup(event,'verifyfilenameagainstdenypattern')">verifyFilenameAgainstDenyPattern</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>) {
<a name="l3975"><span class="linenum">3975</span></a>  <span class="comment">            // Filenames are not allowed to contain control characters</span>
<a name="l3976"><span class="linenum">3976</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/[[:cntrl:]]/', <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>)) {
<a name="l3977"><span class="linenum">3977</span></a>              return FALSE;
<a name="l3978"><span class="linenum">3978</span></a>          }
<a name="l3979"><span class="linenum">3979</span></a>  
<a name="l3980"><span class="linenum">3980</span></a>          if (<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>, '') &amp;&amp; <a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['fileDenyPattern'], '')) {
<a name="l3981"><span class="linenum">3981</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['BE']['fileDenyPattern'] . '/i', <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>);
<a name="l3982"><span class="linenum">3982</span></a>              if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l3983"><span class="linenum">3983</span></a>                  return FALSE;
<a name="l3984"><span class="linenum">3984</span></a>              } <span class="comment">// so if a matching filename is found, return FALSE;</span>
<a name="l3985"><span class="linenum">3985</span></a>          }
<a name="l3986"><span class="linenum">3986</span></a>          return TRUE;
<a name="l3987"><span class="linenum">3987</span></a>      }
<a name="l3988"><span class="linenum">3988</span></a>  
<a name="l3989"><span class="linenum">3989</span></a>      <span class="comment">/**</span>
<a name="l3990"><span class="linenum">3990</span></a>  <span class="comment">     * Checks if a given string is a valid frame URL to be loaded in the</span>
<a name="l3991"><span class="linenum">3991</span></a>  <span class="comment">     * backend.</span>
<a name="l3992"><span class="linenum">3992</span></a>  <span class="comment">     *</span>
<a name="l3993"><span class="linenum">3993</span></a>  <span class="comment">     * @param string $url potential URL to check</span>
<a name="l3994"><span class="linenum">3994</span></a>  <span class="comment">     * @return string either $url if $url is considered to be harmless, or an</span>
<a name="l3995"><span class="linenum">3995</span></a>  <span class="comment">     *                empty string otherwise</span>
<a name="l3996"><span class="linenum">3996</span></a>  <span class="comment">     */</span>
<a name="l3997"><span class="linenum">3997</span></a>  	public static function <a class="function" onClick="logFunction('sanitizeLocalUrl')" href="../../_functions/sanitizelocalurl.html" onMouseOver="funcPopup(event,'sanitizelocalurl')">sanitizeLocalUrl</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = '') {
<a name="l3998"><span class="linenum">3998</span></a>          <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a> = '';
<a name="l3999"><span class="linenum">3999</span></a>          <a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a> = <a class="phpfunction" onClick="logFunction('rawurldecode')" href="../../_functions/rawurldecode.html" onMouseOver="phpfuncPopup(event,'rawurldecode')">rawurldecode</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l4000"><span class="linenum">4000</span></a>  
<a name="l4001"><span class="linenum">4001</span></a>          if (!empty(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>) &amp;&amp; self::<a class="function" onClick="logFunction('removeXSS')" href="../../_functions/removexss.html" onMouseOver="funcPopup(event,'removexss')">removeXSS</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>) === <a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>) {
<a name="l4002"><span class="linenum">4002</span></a>              <a class="var it37909" onMouseOver="hilite(37909)" onMouseOut="lolite()" onClick="logVariable('testAbsoluteUrl')" href="../../_variables/testAbsoluteUrl.html">$testAbsoluteUrl</a> = self::<a class="function" onClick="logFunction('resolveBackPath')" href="../../_functions/resolvebackpath.html" onMouseOver="funcPopup(event,'resolvebackpath')">resolveBackPath</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>);
<a name="l4003"><span class="linenum">4003</span></a>              <a class="var it37910" onMouseOver="hilite(37910)" onMouseOut="lolite()" onClick="logVariable('testRelativeUrl')" href="../../_variables/testRelativeUrl.html">$testRelativeUrl</a> = self::<a class="function" onClick="logFunction('resolveBackPath')" href="../../_functions/resolvebackpath.html" onMouseOver="funcPopup(event,'resolvebackpath')">resolveBackPath</a>(
<a name="l4004"><span class="linenum">4004</span></a>                  self::<a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('SCRIPT_NAME')) . '/' . <a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>
<a name="l4005"><span class="linenum">4005</span></a>              );
<a name="l4006"><span class="linenum">4006</span></a>  
<a name="l4007"><span class="linenum">4007</span></a>  <span class="comment">                // Pass if URL is on the current host:</span>
<a name="l4008"><span class="linenum">4008</span></a>              if (self::<a class="function" onClick="logFunction('isValidUrl')" href="../../_functions/isvalidurl.html" onMouseOver="funcPopup(event,'isvalidurl')">isValidUrl</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>)) {
<a name="l4009"><span class="linenum">4009</span></a>                  if (self::<a class="function" onClick="logFunction('isOnCurrentHost')" href="../../_functions/isoncurrenthost.html" onMouseOver="funcPopup(event,'isoncurrenthost')">isOnCurrentHost</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>, self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_URL')) === 0) {
<a name="l4010"><span class="linenum">4010</span></a>                      <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>;
<a name="l4011"><span class="linenum">4011</span></a>                  }
<a name="l4012"><span class="linenum">4012</span></a>  <span class="comment">                // Pass if URL is an absolute file path:</span>
<a name="l4013"><span class="linenum">4013</span></a>              } elseif (self::<a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>) &amp;&amp; self::<a class="function" onClick="logFunction('isAllowedAbsPath')" href="../../_functions/isallowedabspath.html" onMouseOver="funcPopup(event,'isallowedabspath')">isAllowedAbsPath</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>)) {
<a name="l4014"><span class="linenum">4014</span></a>                  <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>;
<a name="l4015"><span class="linenum">4015</span></a>  <span class="comment">                // Pass if URL is absolute and below TYPO3 base directory:</span>
<a name="l4016"><span class="linenum">4016</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37909" onMouseOver="hilite(37909)" onMouseOut="lolite()" onClick="logVariable('testAbsoluteUrl')" href="../../_variables/testAbsoluteUrl.html">$testAbsoluteUrl</a>, self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_PATH')) === 0 &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>, 0, 1) === '/') {
<a name="l4017"><span class="linenum">4017</span></a>                  <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>;
<a name="l4018"><span class="linenum">4018</span></a>  <span class="comment">                // Pass if URL is relative and below TYPO3 base directory:</span>
<a name="l4019"><span class="linenum">4019</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37910" onMouseOver="hilite(37910)" onMouseOut="lolite()" onClick="logVariable('testRelativeUrl')" href="../../_variables/testRelativeUrl.html">$testRelativeUrl</a>, self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_PATH')) === 0 &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37908" onMouseOver="hilite(37908)" onMouseOut="lolite()" onClick="logVariable('decodedUrl')" href="../../_variables/decodedUrl.html">$decodedUrl</a>, 0, 1) !== '/') {
<a name="l4020"><span class="linenum">4020</span></a>                  <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>;
<a name="l4021"><span class="linenum">4021</span></a>              }
<a name="l4022"><span class="linenum">4022</span></a>          }
<a name="l4023"><span class="linenum">4023</span></a>  
<a name="l4024"><span class="linenum">4024</span></a>          if (!empty(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>) &amp;&amp; empty(<a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a>)) {
<a name="l4025"><span class="linenum">4025</span></a>              self::<a class="phpfunction" onClick="logFunction('sysLog')" href="../../_functions/syslog.html" onMouseOver="phpfuncPopup(event,'syslog')">sysLog</a>('The URL &quot;' . <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> . '&quot; is not considered to be local and was denied.', 'Core', self::SYSLOG_SEVERITY_NOTICE);
<a name="l4026"><span class="linenum">4026</span></a>          }
<a name="l4027"><span class="linenum">4027</span></a>  
<a name="l4028"><span class="linenum">4028</span></a>          return <a class="var it37907" onMouseOver="hilite(37907)" onMouseOut="lolite()" onClick="logVariable('sanitizedUrl')" href="../../_variables/sanitizedUrl.html">$sanitizedUrl</a>;
<a name="l4029"><span class="linenum">4029</span></a>      }
<a name="l4030"><span class="linenum">4030</span></a>  
<a name="l4031"><span class="linenum">4031</span></a>      <span class="comment">/**</span>
<a name="l4032"><span class="linenum">4032</span></a>  <span class="comment">     * Moves $source file to $destination if uploaded, otherwise try to make a copy</span>
<a name="l4033"><span class="linenum">4033</span></a>  <span class="comment">     *</span>
<a name="l4034"><span class="linenum">4034</span></a>  <span class="comment">     * @param string $source Source file, absolute path</span>
<a name="l4035"><span class="linenum">4035</span></a>  <span class="comment">     * @param string $destination Destination file, absolute path</span>
<a name="l4036"><span class="linenum">4036</span></a>  <span class="comment">     * @return boolean Returns TRUE if the file was moved.</span>
<a name="l4037"><span class="linenum">4037</span></a>  <span class="comment">     * @coauthor Dennis Petersen &lt;fessor@software.dk&gt;</span>
<a name="l4038"><span class="linenum">4038</span></a>  <span class="comment">     * @see upload_to_tempfile()</span>
<a name="l4039"><span class="linenum">4039</span></a>  <span class="comment">     */</span>
<a name="l4040"><span class="linenum">4040</span></a>  	public static function <a class="function" onClick="logFunction('upload_copy_move')" href="../../_functions/upload_copy_move.html" onMouseOver="funcPopup(event,'upload_copy_move')">upload_copy_move</a>(<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>) {
<a name="l4041"><span class="linenum">4041</span></a>          if (<a class="phpfunction" onClick="logFunction('is_uploaded_file')" href="../../_functions/is_uploaded_file.html" onMouseOver="phpfuncPopup(event,'is_uploaded_file')">is_uploaded_file</a>(<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>)) {
<a name="l4042"><span class="linenum">4042</span></a>              <a class="var it37911" onMouseOver="hilite(37911)" onMouseOut="lolite()" onClick="logVariable('uploaded')" href="../../_variables/uploaded.html">$uploaded</a> = TRUE;
<a name="l4043"><span class="linenum">4043</span></a>  <span class="comment">                // Return the value of move_uploaded_file, and if FALSE the temporary $source is still around so the user can use unlink to delete it:</span>
<a name="l4044"><span class="linenum">4044</span></a>              <a class="var it37912" onMouseOver="hilite(37912)" onMouseOut="lolite()" onClick="logVariable('uploadedResult')" href="../../_variables/uploadedResult.html">$uploadedResult</a> = <a class="phpfunction" onClick="logFunction('move_uploaded_file')" href="../../_functions/move_uploaded_file.html" onMouseOver="phpfuncPopup(event,'move_uploaded_file')">move_uploaded_file</a>(<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>);
<a name="l4045"><span class="linenum">4045</span></a>          } else {
<a name="l4046"><span class="linenum">4046</span></a>              <a class="var it37911" onMouseOver="hilite(37911)" onMouseOut="lolite()" onClick="logVariable('uploaded')" href="../../_variables/uploaded.html">$uploaded</a> = FALSE;
<a name="l4047"><span class="linenum">4047</span></a>              @<a class="phpfunction" onClick="logFunction('copy')" href="../../_functions/copy.html" onMouseOver="phpfuncPopup(event,'copy')">copy</a>(<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>);
<a name="l4048"><span class="linenum">4048</span></a>          }
<a name="l4049"><span class="linenum">4049</span></a>  
<a name="l4050"><span class="linenum">4050</span></a>          self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>); <span class="comment">// Change the permissions of the file</span>
<a name="l4051"><span class="linenum">4051</span></a>  
<a name="l4052"><span class="linenum">4052</span></a>  <span class="comment">            // If here the file is copied and the temporary $source is still around, so when returning FALSE the user can try unlink to delete the $source</span>
<a name="l4053"><span class="linenum">4053</span></a>          return <a class="var it37911" onMouseOver="hilite(37911)" onMouseOut="lolite()" onClick="logVariable('uploaded')" href="../../_variables/uploaded.html">$uploaded</a> ? <a class="var it37912" onMouseOver="hilite(37912)" onMouseOut="lolite()" onClick="logVariable('uploadedResult')" href="../../_variables/uploadedResult.html">$uploadedResult</a> : FALSE;
<a name="l4054"><span class="linenum">4054</span></a>      }
<a name="l4055"><span class="linenum">4055</span></a>  
<a name="l4056"><span class="linenum">4056</span></a>      <span class="comment">/**</span>
<a name="l4057"><span class="linenum">4057</span></a>  <span class="comment">     * Will move an uploaded file (normally in &quot;/tmp/xxxxx&quot;) to a temporary filename in PATH_site.&quot;typo3temp/&quot; from where TYPO3 can use it.</span>
<a name="l4058"><span class="linenum">4058</span></a>  <span class="comment">     * Use this function to move uploaded files to where you can work on them.</span>
<a name="l4059"><span class="linenum">4059</span></a>  <span class="comment">     * REMEMBER to use t3lib_div::unlink_tempfile() afterwards - otherwise temp-files will build up! They are NOT automatically deleted in PATH_site.&quot;typo3temp/&quot;!</span>
<a name="l4060"><span class="linenum">4060</span></a>  <span class="comment">     *</span>
<a name="l4061"><span class="linenum">4061</span></a>  <span class="comment">     * @param string $uploadedFileName The temporary uploaded filename, eg. $_FILES['[upload field name here]']['tmp_name']</span>
<a name="l4062"><span class="linenum">4062</span></a>  <span class="comment">     * @return string If a new file was successfully created, return its filename, otherwise blank string.</span>
<a name="l4063"><span class="linenum">4063</span></a>  <span class="comment">     * @see unlink_tempfile(), upload_copy_move()</span>
<a name="l4064"><span class="linenum">4064</span></a>  <span class="comment">     */</span>
<a name="l4065"><span class="linenum">4065</span></a>  	public static function <a class="function" onClick="logFunction('upload_to_tempfile')" href="../../_functions/upload_to_tempfile.html" onMouseOver="funcPopup(event,'upload_to_tempfile')">upload_to_tempfile</a>(<a class="var it37913" onMouseOver="hilite(37913)" onMouseOut="lolite()" onClick="logVariable('uploadedFileName')" href="../../_variables/uploadedFileName.html">$uploadedFileName</a>) {
<a name="l4066"><span class="linenum">4066</span></a>          if (<a class="phpfunction" onClick="logFunction('is_uploaded_file')" href="../../_functions/is_uploaded_file.html" onMouseOver="phpfuncPopup(event,'is_uploaded_file')">is_uploaded_file</a>(<a class="var it37913" onMouseOver="hilite(37913)" onMouseOut="lolite()" onClick="logVariable('uploadedFileName')" href="../../_variables/uploadedFileName.html">$uploadedFileName</a>)) {
<a name="l4067"><span class="linenum">4067</span></a>              <a class="var it1317" onMouseOver="hilite(1317)" onMouseOut="lolite()" onClick="logVariable('tempFile')" href="../../_variables/tempFile.html">$tempFile</a> = self::<a class="phpfunction" onClick="logFunction('tempnam')" href="../../_functions/tempnam.html" onMouseOver="phpfuncPopup(event,'tempnam')">tempnam</a>('upload_temp_');
<a name="l4068"><span class="linenum">4068</span></a>              <a class="phpfunction" onClick="logFunction('move_uploaded_file')" href="../../_functions/move_uploaded_file.html" onMouseOver="phpfuncPopup(event,'move_uploaded_file')">move_uploaded_file</a>(<a class="var it37913" onMouseOver="hilite(37913)" onMouseOut="lolite()" onClick="logVariable('uploadedFileName')" href="../../_variables/uploadedFileName.html">$uploadedFileName</a>, <a class="var it1317" onMouseOver="hilite(1317)" onMouseOut="lolite()" onClick="logVariable('tempFile')" href="../../_variables/tempFile.html">$tempFile</a>);
<a name="l4069"><span class="linenum">4069</span></a>              return @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it1317" onMouseOver="hilite(1317)" onMouseOut="lolite()" onClick="logVariable('tempFile')" href="../../_variables/tempFile.html">$tempFile</a>) ? <a class="var it1317" onMouseOver="hilite(1317)" onMouseOut="lolite()" onClick="logVariable('tempFile')" href="../../_variables/tempFile.html">$tempFile</a> : '';
<a name="l4070"><span class="linenum">4070</span></a>          }
<a name="l4071"><span class="linenum">4071</span></a>      }
<a name="l4072"><span class="linenum">4072</span></a>  
<a name="l4073"><span class="linenum">4073</span></a>      <span class="comment">/**</span>
<a name="l4074"><span class="linenum">4074</span></a>  <span class="comment">     * Deletes (unlink) a temporary filename in 'PATH_site.&quot;typo3temp/&quot;' given as input.</span>
<a name="l4075"><span class="linenum">4075</span></a>  <span class="comment">     * The function will check that the file exists, is in PATH_site.&quot;typo3temp/&quot; and does not contain back-spaces (&quot;../&quot;) so it should be pretty safe.</span>
<a name="l4076"><span class="linenum">4076</span></a>  <span class="comment">     * Use this after upload_to_tempfile() or tempnam() from this class!</span>
<a name="l4077"><span class="linenum">4077</span></a>  <span class="comment">     *</span>
<a name="l4078"><span class="linenum">4078</span></a>  <span class="comment">     * @param string $uploadedTempFileName Filepath for a file in PATH_site.&quot;typo3temp/&quot;. Must be absolute.</span>
<a name="l4079"><span class="linenum">4079</span></a>  <span class="comment">     * @return boolean Returns TRUE if the file was unlink()'ed</span>
<a name="l4080"><span class="linenum">4080</span></a>  <span class="comment">     * @see upload_to_tempfile(), tempnam()</span>
<a name="l4081"><span class="linenum">4081</span></a>  <span class="comment">     */</span>
<a name="l4082"><span class="linenum">4082</span></a>  	public static function <a class="function" onClick="logFunction('unlink_tempfile')" href="../../_functions/unlink_tempfile.html" onMouseOver="funcPopup(event,'unlink_tempfile')">unlink_tempfile</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>) {
<a name="l4083"><span class="linenum">4083</span></a>          if (<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>) {
<a name="l4084"><span class="linenum">4084</span></a>              <a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a> = self::<a class="function" onClick="logFunction('fixWindowsFilePath')" href="../../_functions/fixwindowsfilepath.html" onMouseOver="funcPopup(event,'fixwindowsfilepath')">fixWindowsFilePath</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>);
<a name="l4085"><span class="linenum">4085</span></a>              if (self::<a class="function" onClick="logFunction('validPathStr')" href="../../_functions/validpathstr.html" onMouseOver="funcPopup(event,'validpathstr')">validPathStr</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>) &amp;&amp; self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>, PATH_site . 'typo3temp/') &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>)) {
<a name="l4086"><span class="linenum">4086</span></a>                  if (<a class="phpfunction" onClick="logFunction('unlink')" href="../../_functions/unlink.html" onMouseOver="phpfuncPopup(event,'unlink')">unlink</a>(<a class="var it37914" onMouseOver="hilite(37914)" onMouseOut="lolite()" onClick="logVariable('uploadedTempFileName')" href="../../_variables/uploadedTempFileName.html">$uploadedTempFileName</a>)) {
<a name="l4087"><span class="linenum">4087</span></a>                      return TRUE;
<a name="l4088"><span class="linenum">4088</span></a>                  }
<a name="l4089"><span class="linenum">4089</span></a>              }
<a name="l4090"><span class="linenum">4090</span></a>          }
<a name="l4091"><span class="linenum">4091</span></a>      }
<a name="l4092"><span class="linenum">4092</span></a>  
<a name="l4093"><span class="linenum">4093</span></a>      <span class="comment">/**</span>
<a name="l4094"><span class="linenum">4094</span></a>  <span class="comment">     * Create temporary filename (Create file with unique file name)</span>
<a name="l4095"><span class="linenum">4095</span></a>  <span class="comment">     * This function should be used for getting temporary file names - will make your applications safe for open_basedir = on</span>
<a name="l4096"><span class="linenum">4096</span></a>  <span class="comment">     * REMEMBER to delete the temporary files after use! This is done by t3lib_div::unlink_tempfile()</span>
<a name="l4097"><span class="linenum">4097</span></a>  <span class="comment">     *</span>
<a name="l4098"><span class="linenum">4098</span></a>  <span class="comment">     * @param string $filePrefix Prefix to temp file (which will have no extension btw)</span>
<a name="l4099"><span class="linenum">4099</span></a>  <span class="comment">     * @return string result from PHP function tempnam() with PATH_site . 'typo3temp/' set for temp path.</span>
<a name="l4100"><span class="linenum">4100</span></a>  <span class="comment">     * @see unlink_tempfile(), upload_to_tempfile()</span>
<a name="l4101"><span class="linenum">4101</span></a>  <span class="comment">     */</span>
<a name="l4102"><span class="linenum">4102</span></a>  	public static function <a class="function" onClick="logFunction('tempnam')" href="../../_functions/tempnam.html" onMouseOver="funcPopup(event,'tempnam')">tempnam</a>(<a class="var it37915" onMouseOver="hilite(37915)" onMouseOut="lolite()" onClick="logVariable('filePrefix')" href="../../_variables/filePrefix.html">$filePrefix</a>) {
<a name="l4103"><span class="linenum">4103</span></a>          return <a class="phpfunction" onClick="logFunction('tempnam')" href="../../_functions/tempnam.html" onMouseOver="phpfuncPopup(event,'tempnam')">tempnam</a>(PATH_site . 'typo3temp/', <a class="var it37915" onMouseOver="hilite(37915)" onMouseOut="lolite()" onClick="logVariable('filePrefix')" href="../../_variables/filePrefix.html">$filePrefix</a>);
<a name="l4104"><span class="linenum">4104</span></a>      }
<a name="l4105"><span class="linenum">4105</span></a>  
<a name="l4106"><span class="linenum">4106</span></a>      <span class="comment">/**</span>
<a name="l4107"><span class="linenum">4107</span></a>  <span class="comment">     * Standard authentication code (used in Direct Mail, checkJumpUrl and setfixed links computations)</span>
<a name="l4108"><span class="linenum">4108</span></a>  <span class="comment">     *</span>
<a name="l4109"><span class="linenum">4109</span></a>  <span class="comment">     * @param mixed $uid_or_record Uid (integer) or record (array)</span>
<a name="l4110"><span class="linenum">4110</span></a>  <span class="comment">     * @param string $fields List of fields from the record if that is given.</span>
<a name="l4111"><span class="linenum">4111</span></a>  <span class="comment">     * @param integer $codeLength Length of returned authentication code.</span>
<a name="l4112"><span class="linenum">4112</span></a>  <span class="comment">     * @return string MD5 hash of 8 chars.</span>
<a name="l4113"><span class="linenum">4113</span></a>  <span class="comment">     */</span>
<a name="l4114"><span class="linenum">4114</span></a>  	public static function <a class="function" onClick="logFunction('stdAuthCode')" href="../../_functions/stdauthcode.html" onMouseOver="funcPopup(event,'stdauthcode')">stdAuthCode</a>(<a class="var it37916" onMouseOver="hilite(37916)" onMouseOut="lolite()" onClick="logVariable('uid_or_record')" href="../../_variables/uid_or_record.html">$uid_or_record</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = '', <a class="var it37917" onMouseOver="hilite(37917)" onMouseOut="lolite()" onClick="logVariable('codeLength')" href="../../_variables/codeLength.html">$codeLength</a> = 8) {
<a name="l4115"><span class="linenum">4115</span></a>  
<a name="l4116"><span class="linenum">4116</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37916" onMouseOver="hilite(37916)" onMouseOut="lolite()" onClick="logVariable('uid_or_record')" href="../../_variables/uid_or_record.html">$uid_or_record</a>)) {
<a name="l4117"><span class="linenum">4117</span></a>              <a class="var it37918" onMouseOver="hilite(37918)" onMouseOut="lolite()" onClick="logVariable('recCopy_temp')" href="../../_variables/recCopy_temp.html">$recCopy_temp</a> = array();
<a name="l4118"><span class="linenum">4118</span></a>              if (<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>) {
<a name="l4119"><span class="linenum">4119</span></a>                  <a class="var it37919" onMouseOver="hilite(37919)" onMouseOut="lolite()" onClick="logVariable('fieldArr')" href="../../_variables/fieldArr.html">$fieldArr</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, 1);
<a name="l4120"><span class="linenum">4120</span></a>                  foreach (<a class="var it37919" onMouseOver="hilite(37919)" onMouseOut="lolite()" onClick="logVariable('fieldArr')" href="../../_variables/fieldArr.html">$fieldArr</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l4121"><span class="linenum">4121</span></a>                      <a class="var it37918" onMouseOver="hilite(37918)" onMouseOut="lolite()" onClick="logVariable('recCopy_temp')" href="../../_variables/recCopy_temp.html">$recCopy_temp</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>] = <a class="var it37916" onMouseOver="hilite(37916)" onMouseOut="lolite()" onClick="logVariable('uid_or_record')" href="../../_variables/uid_or_record.html">$uid_or_record</a>[<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>];
<a name="l4122"><span class="linenum">4122</span></a>                  }
<a name="l4123"><span class="linenum">4123</span></a>              } else {
<a name="l4124"><span class="linenum">4124</span></a>                  <a class="var it37918" onMouseOver="hilite(37918)" onMouseOut="lolite()" onClick="logVariable('recCopy_temp')" href="../../_variables/recCopy_temp.html">$recCopy_temp</a> = <a class="var it37916" onMouseOver="hilite(37916)" onMouseOut="lolite()" onClick="logVariable('uid_or_record')" href="../../_variables/uid_or_record.html">$uid_or_record</a>;
<a name="l4125"><span class="linenum">4125</span></a>              }
<a name="l4126"><span class="linenum">4126</span></a>              <a class="var it37920" onMouseOver="hilite(37920)" onMouseOut="lolite()" onClick="logVariable('preKey')" href="../../_variables/preKey.html">$preKey</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('|', <a class="var it37918" onMouseOver="hilite(37918)" onMouseOut="lolite()" onClick="logVariable('recCopy_temp')" href="../../_variables/recCopy_temp.html">$recCopy_temp</a>);
<a name="l4127"><span class="linenum">4127</span></a>          } else {
<a name="l4128"><span class="linenum">4128</span></a>              <a class="var it37920" onMouseOver="hilite(37920)" onMouseOut="lolite()" onClick="logVariable('preKey')" href="../../_variables/preKey.html">$preKey</a> = <a class="var it37916" onMouseOver="hilite(37916)" onMouseOut="lolite()" onClick="logVariable('uid_or_record')" href="../../_variables/uid_or_record.html">$uid_or_record</a>;
<a name="l4129"><span class="linenum">4129</span></a>          }
<a name="l4130"><span class="linenum">4130</span></a>  
<a name="l4131"><span class="linenum">4131</span></a>          <a class="var it37921" onMouseOver="hilite(37921)" onMouseOut="lolite()" onClick="logVariable('authCode')" href="../../_variables/authCode.html">$authCode</a> = <a class="var it37920" onMouseOver="hilite(37920)" onMouseOut="lolite()" onClick="logVariable('preKey')" href="../../_variables/preKey.html">$preKey</a> . '||' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['encryptionKey'];
<a name="l4132"><span class="linenum">4132</span></a>          <a class="var it37921" onMouseOver="hilite(37921)" onMouseOut="lolite()" onClick="logVariable('authCode')" href="../../_variables/authCode.html">$authCode</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(md5(<a class="var it37921" onMouseOver="hilite(37921)" onMouseOut="lolite()" onClick="logVariable('authCode')" href="../../_variables/authCode.html">$authCode</a>), 0, <a class="var it37917" onMouseOver="hilite(37917)" onMouseOut="lolite()" onClick="logVariable('codeLength')" href="../../_variables/codeLength.html">$codeLength</a>);
<a name="l4133"><span class="linenum">4133</span></a>          return <a class="var it37921" onMouseOver="hilite(37921)" onMouseOut="lolite()" onClick="logVariable('authCode')" href="../../_variables/authCode.html">$authCode</a>;
<a name="l4134"><span class="linenum">4134</span></a>      }
<a name="l4135"><span class="linenum">4135</span></a>  
<a name="l4136"><span class="linenum">4136</span></a>      <span class="comment">/**</span>
<a name="l4137"><span class="linenum">4137</span></a>  <span class="comment">     * Splits the input query-parameters into an array with certain parameters filtered out.</span>
<a name="l4138"><span class="linenum">4138</span></a>  <span class="comment">     * Used to create the cHash value</span>
<a name="l4139"><span class="linenum">4139</span></a>  <span class="comment">     *</span>
<a name="l4140"><span class="linenum">4140</span></a>  <span class="comment">     * @param string $addQueryParams Query-parameters: &quot;&amp;xxx=yyy&amp;zzz=uuu&quot;</span>
<a name="l4141"><span class="linenum">4141</span></a>  <span class="comment">     * @return array Array with key/value pairs of query-parameters WITHOUT a certain list of variable names (like id, type, no_cache etc.) and WITH a variable, encryptionKey, specific for this server/installation</span>
<a name="l4142"><span class="linenum">4142</span></a>  <span class="comment">     * @see tslib_fe::makeCacheHash(), tslib_cObj::typoLink(), t3lib_div::calculateCHash()</span>
<a name="l4143"><span class="linenum">4143</span></a>  <span class="comment">     * @deprecated since TYPO3 4.7 - will be removed in TYPO3 6.1 - use t3lib_cacheHash instead</span>
<a name="l4144"><span class="linenum">4144</span></a>  <span class="comment">     */</span>
<a name="l4145"><span class="linenum">4145</span></a>  	public static function <a class="function" onClick="logFunction('cHashParams')" href="../../_functions/chashparams.html" onMouseOver="funcPopup(event,'chashparams')">cHashParams</a>(<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>) {
<a name="l4146"><span class="linenum">4146</span></a>          t3lib_div::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l4147"><span class="linenum">4147</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('&amp;', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>, 1)); <span class="comment">// Splitting parameters up</span>
<a name="l4148"><span class="linenum">4148</span></a>  <span class="comment">        /* @var $cacheHash t3lib_cacheHash */</span>
<a name="l4149"><span class="linenum">4149</span></a>          <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cacheHash');
<a name="l4150"><span class="linenum">4150</span></a>          <a class="var it37924" onMouseOver="hilite(37924)" onMouseOut="lolite()" onClick="logVariable('pA')" href="../../_variables/pA.html">$pA</a> = <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a>-&gt;getRelevantParameters(<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>);
<a name="l4151"><span class="linenum">4151</span></a>  
<a name="l4152"><span class="linenum">4152</span></a>  <span class="comment">            // Hook: Allows to manipulate the parameters which are taken to build the chash:</span>
<a name="l4153"><span class="linenum">4153</span></a>          if (isset(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['cHashParamsHook'])) {
<a name="l4154"><span class="linenum">4154</span></a>              <a class="var it37925" onMouseOver="hilite(37925)" onMouseOut="lolite()" onClick="logVariable('cHashParamsHook')" href="../../_variables/cHashParamsHook.html">$cHashParamsHook</a> =&amp; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['cHashParamsHook'];
<a name="l4155"><span class="linenum">4155</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37925" onMouseOver="hilite(37925)" onMouseOut="lolite()" onClick="logVariable('cHashParamsHook')" href="../../_variables/cHashParamsHook.html">$cHashParamsHook</a>)) {
<a name="l4156"><span class="linenum">4156</span></a>                  <a class="var it37926" onMouseOver="hilite(37926)" onMouseOut="lolite()" onClick="logVariable('hookParameters')" href="../../_variables/hookParameters.html">$hookParameters</a> = array(
<a name="l4157"><span class="linenum">4157</span></a>                      'addQueryParams' =&gt; &amp;<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>,
<a name="l4158"><span class="linenum">4158</span></a>                      'params' =&gt; &amp;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>,
<a name="l4159"><span class="linenum">4159</span></a>                      'pA' =&gt; &amp;<a class="var it37924" onMouseOver="hilite(37924)" onMouseOut="lolite()" onClick="logVariable('pA')" href="../../_variables/pA.html">$pA</a>,
<a name="l4160"><span class="linenum">4160</span></a>                  );
<a name="l4161"><span class="linenum">4161</span></a>                  <a class="var it37927" onMouseOver="hilite(37927)" onMouseOut="lolite()" onClick="logVariable('hookReference')" href="../../_variables/hookReference.html">$hookReference</a> = NULL;
<a name="l4162"><span class="linenum">4162</span></a>                  foreach (<a class="var it37925" onMouseOver="hilite(37925)" onMouseOut="lolite()" onClick="logVariable('cHashParamsHook')" href="../../_variables/cHashParamsHook.html">$cHashParamsHook</a> as <a class="var it37928" onMouseOver="hilite(37928)" onMouseOut="lolite()" onClick="logVariable('hookFunction')" href="../../_variables/hookFunction.html">$hookFunction</a>) {
<a name="l4163"><span class="linenum">4163</span></a>                      self::<a class="function" onClick="logFunction('callUserFunction')" href="../../_functions/calluserfunction.html" onMouseOver="funcPopup(event,'calluserfunction')">callUserFunction</a>(<a class="var it37928" onMouseOver="hilite(37928)" onMouseOut="lolite()" onClick="logVariable('hookFunction')" href="../../_variables/hookFunction.html">$hookFunction</a>, <a class="var it37926" onMouseOver="hilite(37926)" onMouseOut="lolite()" onClick="logVariable('hookParameters')" href="../../_variables/hookParameters.html">$hookParameters</a>, <a class="var it37927" onMouseOver="hilite(37927)" onMouseOut="lolite()" onClick="logVariable('hookReference')" href="../../_variables/hookReference.html">$hookReference</a>);
<a name="l4164"><span class="linenum">4164</span></a>                  }
<a name="l4165"><span class="linenum">4165</span></a>              }
<a name="l4166"><span class="linenum">4166</span></a>          }
<a name="l4167"><span class="linenum">4167</span></a>  
<a name="l4168"><span class="linenum">4168</span></a>          return <a class="var it37924" onMouseOver="hilite(37924)" onMouseOut="lolite()" onClick="logVariable('pA')" href="../../_variables/pA.html">$pA</a>;
<a name="l4169"><span class="linenum">4169</span></a>      }
<a name="l4170"><span class="linenum">4170</span></a>  
<a name="l4171"><span class="linenum">4171</span></a>      <span class="comment">/**</span>
<a name="l4172"><span class="linenum">4172</span></a>  <span class="comment">     * Returns the cHash based on provided query parameters and added values from internal call</span>
<a name="l4173"><span class="linenum">4173</span></a>  <span class="comment">     *</span>
<a name="l4174"><span class="linenum">4174</span></a>  <span class="comment">     * @param string $addQueryParams Query-parameters: &quot;&amp;xxx=yyy&amp;zzz=uuu&quot;</span>
<a name="l4175"><span class="linenum">4175</span></a>  <span class="comment">     * @return string Hash of all the values</span>
<a name="l4176"><span class="linenum">4176</span></a>  <span class="comment">     * @see t3lib_div::cHashParams(), t3lib_div::calculateCHash()</span>
<a name="l4177"><span class="linenum">4177</span></a>  <span class="comment">     * @deprecated since TYPO3 4.7 - will be removed in TYPO3 6.1 - use t3lib_cacheHash instead</span>
<a name="l4178"><span class="linenum">4178</span></a>  <span class="comment">     */</span>
<a name="l4179"><span class="linenum">4179</span></a>  	public static function <a class="function" onClick="logFunction('generateCHash')" href="../../_functions/generatechash.html" onMouseOver="funcPopup(event,'generatechash')">generateCHash</a>(<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>) {
<a name="l4180"><span class="linenum">4180</span></a>          t3lib_div::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l4181"><span class="linenum">4181</span></a>  <span class="comment">        /* @var $cacheHash t3lib_cacheHash */</span>
<a name="l4182"><span class="linenum">4182</span></a>          <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cacheHash');
<a name="l4183"><span class="linenum">4183</span></a>          return <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a>-&gt;generateForParameters(<a class="var it37922" onMouseOver="hilite(37922)" onMouseOut="lolite()" onClick="logVariable('addQueryParams')" href="../../_variables/addQueryParams.html">$addQueryParams</a>);
<a name="l4184"><span class="linenum">4184</span></a>      }
<a name="l4185"><span class="linenum">4185</span></a>  
<a name="l4186"><span class="linenum">4186</span></a>      <span class="comment">/**</span>
<a name="l4187"><span class="linenum">4187</span></a>  <span class="comment">     * Calculates the cHash based on the provided parameters</span>
<a name="l4188"><span class="linenum">4188</span></a>  <span class="comment">     *</span>
<a name="l4189"><span class="linenum">4189</span></a>  <span class="comment">     * @param array $params Array of key-value pairs</span>
<a name="l4190"><span class="linenum">4190</span></a>  <span class="comment">     * @return string Hash of all the values</span>
<a name="l4191"><span class="linenum">4191</span></a>  <span class="comment">     * @deprecated since TYPO3 4.7 - will be removed in TYPO3 6.1 - use t3lib_cacheHash instead</span>
<a name="l4192"><span class="linenum">4192</span></a>  <span class="comment">     */</span>
<a name="l4193"><span class="linenum">4193</span></a>  	public static function <a class="function" onClick="logFunction('calculateCHash')" href="../../_functions/calculatechash.html" onMouseOver="funcPopup(event,'calculatechash')">calculateCHash</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) {
<a name="l4194"><span class="linenum">4194</span></a>          t3lib_div::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l4195"><span class="linenum">4195</span></a>  <span class="comment">        /* @var $cacheHash t3lib_cacheHash */</span>
<a name="l4196"><span class="linenum">4196</span></a>          <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cacheHash');
<a name="l4197"><span class="linenum">4197</span></a>          return <a class="var it37923" onMouseOver="hilite(37923)" onMouseOut="lolite()" onClick="logVariable('cacheHash')" href="../../_variables/cacheHash.html">$cacheHash</a>-&gt;calculateCacheHash(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l4198"><span class="linenum">4198</span></a>      }
<a name="l4199"><span class="linenum">4199</span></a>  
<a name="l4200"><span class="linenum">4200</span></a>      <span class="comment">/**</span>
<a name="l4201"><span class="linenum">4201</span></a>  <span class="comment">     * Responds on input localization setting value whether the page it comes from should be hidden if no translation exists or not.</span>
<a name="l4202"><span class="linenum">4202</span></a>  <span class="comment">     *</span>
<a name="l4203"><span class="linenum">4203</span></a>  <span class="comment">     * @param integer $l18n_cfg_fieldValue Value from &quot;l18n_cfg&quot; field of a page record</span>
<a name="l4204"><span class="linenum">4204</span></a>  <span class="comment">     * @return boolean TRUE if the page should be hidden</span>
<a name="l4205"><span class="linenum">4205</span></a>  <span class="comment">     */</span>
<a name="l4206"><span class="linenum">4206</span></a>  	public static function <a class="function" onClick="logFunction('hideIfNotTranslated')" href="../../_functions/hideifnottranslated.html" onMouseOver="funcPopup(event,'hideifnottranslated')">hideIfNotTranslated</a>(<a class="var it37929" onMouseOver="hilite(37929)" onMouseOut="lolite()" onClick="logVariable('l18n_cfg_fieldValue')" href="../../_variables/l18n_cfg_fieldValue.html">$l18n_cfg_fieldValue</a>) {
<a name="l4207"><span class="linenum">4207</span></a>          if (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['FE']['hidePagesIfNotTranslatedByDefault']) {
<a name="l4208"><span class="linenum">4208</span></a>              return <a class="var it37929" onMouseOver="hilite(37929)" onMouseOut="lolite()" onClick="logVariable('l18n_cfg_fieldValue')" href="../../_variables/l18n_cfg_fieldValue.html">$l18n_cfg_fieldValue</a> &amp; 2 ? FALSE : TRUE;
<a name="l4209"><span class="linenum">4209</span></a>          } else {
<a name="l4210"><span class="linenum">4210</span></a>              return <a class="var it37929" onMouseOver="hilite(37929)" onMouseOut="lolite()" onClick="logVariable('l18n_cfg_fieldValue')" href="../../_variables/l18n_cfg_fieldValue.html">$l18n_cfg_fieldValue</a> &amp; 2 ? TRUE : FALSE;
<a name="l4211"><span class="linenum">4211</span></a>          }
<a name="l4212"><span class="linenum">4212</span></a>      }
<a name="l4213"><span class="linenum">4213</span></a>  
<a name="l4214"><span class="linenum">4214</span></a>      <span class="comment">/**</span>
<a name="l4215"><span class="linenum">4215</span></a>  <span class="comment">     * Returns true if the &quot;l18n_cfg&quot; field value is not set to hide</span>
<a name="l4216"><span class="linenum">4216</span></a>  <span class="comment">     * pages in the default language</span>
<a name="l4217"><span class="linenum">4217</span></a>  <span class="comment">     *</span>
<a name="l4218"><span class="linenum">4218</span></a>  <span class="comment">     * @param int $localizationConfiguration</span>
<a name="l4219"><span class="linenum">4219</span></a>  <span class="comment">     * @return boolean</span>
<a name="l4220"><span class="linenum">4220</span></a>  <span class="comment">     */</span>
<a name="l4221"><span class="linenum">4221</span></a>  	public static function <a class="function" onClick="logFunction('hideIfDefaultLanguage')" href="../../_functions/hideifdefaultlanguage.html" onMouseOver="funcPopup(event,'hideifdefaultlanguage')">hideIfDefaultLanguage</a>(<a class="var it37930" onMouseOver="hilite(37930)" onMouseOut="lolite()" onClick="logVariable('localizationConfiguration')" href="../../_variables/localizationConfiguration.html">$localizationConfiguration</a>) {
<a name="l4222"><span class="linenum">4222</span></a>          return (<a class="var it37930" onMouseOver="hilite(37930)" onMouseOut="lolite()" onClick="logVariable('localizationConfiguration')" href="../../_variables/localizationConfiguration.html">$localizationConfiguration</a> &amp; 1);
<a name="l4223"><span class="linenum">4223</span></a>      }
<a name="l4224"><span class="linenum">4224</span></a>  
<a name="l4225"><span class="linenum">4225</span></a>      <span class="comment">/**</span>
<a name="l4226"><span class="linenum">4226</span></a>  <span class="comment">     * Includes a locallang file and returns the $LOCAL_LANG array found inside.</span>
<a name="l4227"><span class="linenum">4227</span></a>  <span class="comment">     *</span>
<a name="l4228"><span class="linenum">4228</span></a>  <span class="comment">     * @param string $fileRef Input is a file-reference (see t3lib_div::getFileAbsFileName). That file is expected to be a 'locallang.php' file containing a $LOCAL_LANG array (will be included!) or a 'locallang.xml' file conataining a valid XML TYPO3 language structure.</span>
<a name="l4229"><span class="linenum">4229</span></a>  <span class="comment">     * @param string $langKey Language key</span>
<a name="l4230"><span class="linenum">4230</span></a>  <span class="comment">     * @param string $charset Character set (option); if not set, determined by the language key</span>
<a name="l4231"><span class="linenum">4231</span></a>  <span class="comment">     * @param integer $errorMode Error mode (when file could not be found): 0 - syslog entry, 1 - do nothing, 2 - throw an exception</span>
<a name="l4232"><span class="linenum">4232</span></a>  <span class="comment">     * @return array Value of $LOCAL_LANG found in the included file. If that array is found it will returned.</span>
<a name="l4233"><span class="linenum">4233</span></a>  <span class="comment">     *                         Otherwise an empty array and it is FALSE in error case.</span>
<a name="l4234"><span class="linenum">4234</span></a>  <span class="comment">     */</span>
<a name="l4235"><span class="linenum">4235</span></a>  	public static function <a class="function" onClick="logFunction('readLLfile')" href="../../_functions/readllfile.html" onMouseOver="funcPopup(event,'readllfile')">readLLfile</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = '', <a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> = 0) {
<a name="l4236"><span class="linenum">4236</span></a>  <span class="comment">        /** @var $languageFactory t3lib_l10n_Factory */</span>
<a name="l4237"><span class="linenum">4237</span></a>          <a class="var it37934" onMouseOver="hilite(37934)" onMouseOut="lolite()" onClick="logVariable('languageFactory')" href="../../_variables/languageFactory.html">$languageFactory</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_l10n_Factory');
<a name="l4238"><span class="linenum">4238</span></a>          return <a class="var it37934" onMouseOver="hilite(37934)" onMouseOut="lolite()" onClick="logVariable('languageFactory')" href="../../_variables/languageFactory.html">$languageFactory</a>-&gt;<a class="function" onClick="logFunction('getParsedData')" href="../../_functions/getparseddata.html" onMouseOver="funcPopup(event,'getparseddata')">getParsedData</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>, <a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a>);
<a name="l4239"><span class="linenum">4239</span></a>      }
<a name="l4240"><span class="linenum">4240</span></a>  
<a name="l4241"><span class="linenum">4241</span></a>      <span class="comment">/**</span>
<a name="l4242"><span class="linenum">4242</span></a>  <span class="comment">     * Includes a locallang-php file and returns the $LOCAL_LANG array</span>
<a name="l4243"><span class="linenum">4243</span></a>  <span class="comment">     * Works only when the frontend or backend has been initialized with a charset conversion object. See first code lines.</span>
<a name="l4244"><span class="linenum">4244</span></a>  <span class="comment">     *</span>
<a name="l4245"><span class="linenum">4245</span></a>  <span class="comment">     * @param string $fileRef Absolute reference to locallang-PHP file</span>
<a name="l4246"><span class="linenum">4246</span></a>  <span class="comment">     * @param string $langKey TYPO3 language key, eg. &quot;dk&quot; or &quot;de&quot; or &quot;default&quot;</span>
<a name="l4247"><span class="linenum">4247</span></a>  <span class="comment">     * @param string $charset Character set (optional)</span>
<a name="l4248"><span class="linenum">4248</span></a>  <span class="comment">     * @return array LOCAL_LANG array in return.</span>
<a name="l4249"><span class="linenum">4249</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - use t3lib_l10n_parser_Llphp::getParsedData() from now on</span>
<a name="l4250"><span class="linenum">4250</span></a>  <span class="comment">     */</span>
<a name="l4251"><span class="linenum">4251</span></a>  	public static function <a class="function" onClick="logFunction('readLLPHPfile')" href="../../_functions/readllphpfile.html" onMouseOver="funcPopup(event,'readllphpfile')">readLLPHPfile</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = '') {
<a name="l4252"><span class="linenum">4252</span></a>          t3lib_div::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l4253"><span class="linenum">4253</span></a>  
<a name="l4254"><span class="linenum">4254</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG'])) {
<a name="l4255"><span class="linenum">4255</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG']-&gt;csConvObj;
<a name="l4256"><span class="linenum">4256</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE'])) {
<a name="l4257"><span class="linenum">4257</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;csConvObj;
<a name="l4258"><span class="linenum">4258</span></a>          } else {
<a name="l4259"><span class="linenum">4259</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cs');
<a name="l4260"><span class="linenum">4260</span></a>          }
<a name="l4261"><span class="linenum">4261</span></a>  
<a name="l4262"><span class="linenum">4262</span></a>          if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>) &amp;&amp; <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>) {
<a name="l4263"><span class="linenum">4263</span></a>  
<a name="l4264"><span class="linenum">4264</span></a>  <span class="comment">                // Set charsets:</span>
<a name="l4265"><span class="linenum">4265</span></a>              <a class="var it37935" onMouseOver="hilite(37935)" onMouseOut="lolite()" onClick="logVariable('sourceCharset')" href="../../_variables/sourceCharset.html">$sourceCharset</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('parse_charset')" href="../../_functions/parse_charset.html" onMouseOver="funcPopup(event,'parse_charset')">parse_charset</a>(<a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a onClick="logVariable('charSetArray')" class="var it45922" onMouseOver="hilite(45922)" onMouseOut="lolite()" href="../../_variables/charSetArray.html">charSetArray</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] ? <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a onClick="logVariable('charSetArray')" class="var it45922" onMouseOver="hilite(45922)" onMouseOut="lolite()" href="../../_variables/charSetArray.html">charSetArray</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] : 'utf-8');
<a name="l4266"><span class="linenum">4266</span></a>              if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l4267"><span class="linenum">4267</span></a>                  <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('parse_charset')" href="../../_functions/parse_charset.html" onMouseOver="funcPopup(event,'parse_charset')">parse_charset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l4268"><span class="linenum">4268</span></a>              } else {
<a name="l4269"><span class="linenum">4269</span></a>                  <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> = 'utf-8';
<a name="l4270"><span class="linenum">4270</span></a>              }
<a name="l4271"><span class="linenum">4271</span></a>  
<a name="l4272"><span class="linenum">4272</span></a>  <span class="comment">                // Cache file name:</span>
<a name="l4273"><span class="linenum">4273</span></a>              <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site)) . '|' . <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('d-m-Y H:i:s', <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>)) . '|version=2.3';
<a name="l4274"><span class="linenum">4274</span></a>              <a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a> = PATH_site . 'typo3temp/llxml/' .
<a name="l4275"><span class="linenum">4275</span></a>                      <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('basename')" href="../../_functions/basename.html" onMouseOver="phpfuncPopup(event,'basename')">basename</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>), 10, 15) .
<a name="l4276"><span class="linenum">4276</span></a>                      '_' . self::<a class="function" onClick="logFunction('shortMD5')" href="../../_functions/shortmd5.html" onMouseOver="funcPopup(event,'shortmd5')">shortMD5</a>(<a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>) . '.' . <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> . '.' . <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> . '.cache';
<a name="l4277"><span class="linenum">4277</span></a>  <span class="comment">                // Check if cache file exists...</span>
<a name="l4278"><span class="linenum">4278</span></a>              if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>)) { // ... if it doesn't, create content and write it:
<a name="l4279"><span class="linenum">4279</span></a>                  <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> = NULL;
<a name="l4280"><span class="linenum">4280</span></a>  <span class="comment">                    // Get PHP data</span>
<a name="l4281"><span class="linenum">4281</span></a>                  include(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>);
<a name="l4282"><span class="linenum">4282</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>)) {
<a name="l4283"><span class="linenum">4283</span></a>                      <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site));
<a name="l4284"><span class="linenum">4284</span></a>                      throw new RuntimeException(
<a name="l4285"><span class="linenum">4285</span></a>                          'TYPO3 Fatal Error: &quot;' . <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> . '&quot; is no TYPO3 language file!',
<a name="l4286"><span class="linenum">4286</span></a>                          1270853900
<a name="l4287"><span class="linenum">4287</span></a>                      );
<a name="l4288"><span class="linenum">4288</span></a>                  }
<a name="l4289"><span class="linenum">4289</span></a>  
<a name="l4290"><span class="linenum">4290</span></a>  <span class="comment">                    // converting the default language (English)</span>
<a name="l4291"><span class="linenum">4291</span></a>  <span class="comment">                    // this needs to be done for a few accented loan words and extension names</span>
<a name="l4292"><span class="linenum">4292</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default']) &amp;&amp; <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> != 'utf-8') {
<a name="l4293"><span class="linenum">4293</span></a>                      foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default'] as &amp;<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>) {
<a name="l4294"><span class="linenum">4294</span></a>                          <a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('conv')" href="../../_functions/conv.html" onMouseOver="funcPopup(event,'conv')">conv</a>(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>, 'utf-8', <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>);
<a name="l4295"><span class="linenum">4295</span></a>                      }
<a name="l4296"><span class="linenum">4296</span></a>                      unset(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>);
<a name="l4297"><span class="linenum">4297</span></a>                  }
<a name="l4298"><span class="linenum">4298</span></a>  
<a name="l4299"><span class="linenum">4299</span></a>                  if (<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> != 'default' &amp;&amp; <a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]) &amp;&amp; <a class="var it37935" onMouseOver="hilite(37935)" onMouseOut="lolite()" onClick="logVariable('sourceCharset')" href="../../_variables/sourceCharset.html">$sourceCharset</a> != <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>) {
<a name="l4300"><span class="linenum">4300</span></a>                      foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] as &amp;<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>) {
<a name="l4301"><span class="linenum">4301</span></a>                          <a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('conv')" href="../../_functions/conv.html" onMouseOver="funcPopup(event,'conv')">conv</a>(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>, <a class="var it37935" onMouseOver="hilite(37935)" onMouseOut="lolite()" onClick="logVariable('sourceCharset')" href="../../_variables/sourceCharset.html">$sourceCharset</a>, <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>);
<a name="l4302"><span class="linenum">4302</span></a>                      }
<a name="l4303"><span class="linenum">4303</span></a>                      unset(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>);
<a name="l4304"><span class="linenum">4304</span></a>                  }
<a name="l4305"><span class="linenum">4305</span></a>  
<a name="l4306"><span class="linenum">4306</span></a>  <span class="comment">                    // Cache the content now:</span>
<a name="l4307"><span class="linenum">4307</span></a>                  <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = array('origFile' =&gt; <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>, 'LOCAL_LANG' =&gt; array('default' =&gt; <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default'], <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> =&gt; <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]));
<a name="l4308"><span class="linenum">4308</span></a>                  <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> = self::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>));
<a name="l4309"><span class="linenum">4309</span></a>                  if (<a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>) {
<a name="l4310"><span class="linenum">4310</span></a>                      throw new RuntimeException(
<a name="l4311"><span class="linenum">4311</span></a>                          'TYPO3 Fatal Error: &quot;' . <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>,
<a name="l4312"><span class="linenum">4312</span></a>                          1270853901
<a name="l4313"><span class="linenum">4313</span></a>                      );
<a name="l4314"><span class="linenum">4314</span></a>                  }
<a name="l4315"><span class="linenum">4315</span></a>              } else {
<a name="l4316"><span class="linenum">4316</span></a>  <span class="comment">                    // Get content from cache:</span>
<a name="l4317"><span class="linenum">4317</span></a>                  <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>));
<a name="l4318"><span class="linenum">4318</span></a>                  <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> = <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>['LOCAL_LANG'];
<a name="l4319"><span class="linenum">4319</span></a>              }
<a name="l4320"><span class="linenum">4320</span></a>  
<a name="l4321"><span class="linenum">4321</span></a>              return <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>;
<a name="l4322"><span class="linenum">4322</span></a>          }
<a name="l4323"><span class="linenum">4323</span></a>      }
<a name="l4324"><span class="linenum">4324</span></a>  
<a name="l4325"><span class="linenum">4325</span></a>      <span class="comment">/**</span>
<a name="l4326"><span class="linenum">4326</span></a>  <span class="comment">     * Includes a locallang-xml file and returns the $LOCAL_LANG array</span>
<a name="l4327"><span class="linenum">4327</span></a>  <span class="comment">     * Works only when the frontend or backend has been initialized with a charset conversion object. See first code lines.</span>
<a name="l4328"><span class="linenum">4328</span></a>  <span class="comment">     *</span>
<a name="l4329"><span class="linenum">4329</span></a>  <span class="comment">     * @param string $fileRef Absolute reference to locallang-XML file</span>
<a name="l4330"><span class="linenum">4330</span></a>  <span class="comment">     * @param string $langKey TYPO3 language key, eg. &quot;dk&quot; or &quot;de&quot; or &quot;default&quot;</span>
<a name="l4331"><span class="linenum">4331</span></a>  <span class="comment">     * @param string $charset Character set (optional)</span>
<a name="l4332"><span class="linenum">4332</span></a>  <span class="comment">     * @return array LOCAL_LANG array in return.</span>
<a name="l4333"><span class="linenum">4333</span></a>  <span class="comment">     * @deprecated since TYPO3 4.6, will be removed in TYPO3 6.0 - use t3lib_l10n_parser_Llxml::getParsedData() from now on</span>
<a name="l4334"><span class="linenum">4334</span></a>  <span class="comment">     */</span>
<a name="l4335"><span class="linenum">4335</span></a>  	public static function <a class="function" onClick="logFunction('readLLXMLfile')" href="../../_functions/readllxmlfile.html" onMouseOver="funcPopup(event,'readllxmlfile')">readLLXMLfile</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = '') {
<a name="l4336"><span class="linenum">4336</span></a>          t3lib_div::<a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>();
<a name="l4337"><span class="linenum">4337</span></a>  
<a name="l4338"><span class="linenum">4338</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG'])) {
<a name="l4339"><span class="linenum">4339</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['LANG']-&gt;csConvObj;
<a name="l4340"><span class="linenum">4340</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE'])) {
<a name="l4341"><span class="linenum">4341</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TSFE']-&gt;csConvObj;
<a name="l4342"><span class="linenum">4342</span></a>          } else {
<a name="l4343"><span class="linenum">4343</span></a>              <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_cs');
<a name="l4344"><span class="linenum">4344</span></a>          }
<a name="l4345"><span class="linenum">4345</span></a>  
<a name="l4346"><span class="linenum">4346</span></a>          <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> = NULL;
<a name="l4347"><span class="linenum">4347</span></a>          if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>) &amp;&amp; <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>) {
<a name="l4348"><span class="linenum">4348</span></a>  
<a name="l4349"><span class="linenum">4349</span></a>  <span class="comment">                // Set charset:</span>
<a name="l4350"><span class="linenum">4350</span></a>              if (<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l4351"><span class="linenum">4351</span></a>                  <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="function" onClick="logFunction('parse_charset')" href="../../_functions/parse_charset.html" onMouseOver="funcPopup(event,'parse_charset')">parse_charset</a>(<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l4352"><span class="linenum">4352</span></a>              } else {
<a name="l4353"><span class="linenum">4353</span></a>                  <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> = 'utf-8';
<a name="l4354"><span class="linenum">4354</span></a>              }
<a name="l4355"><span class="linenum">4355</span></a>  
<a name="l4356"><span class="linenum">4356</span></a>  <span class="comment">                // Cache file name:</span>
<a name="l4357"><span class="linenum">4357</span></a>              <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site)) . '|' . <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('d-m-Y H:i:s', <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>)) . '|version=2.3';
<a name="l4358"><span class="linenum">4358</span></a>              <a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a> = PATH_site . 'typo3temp/llxml/' .
<a name="l4359"><span class="linenum">4359</span></a>                      <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('basename')" href="../../_functions/basename.html" onMouseOver="phpfuncPopup(event,'basename')">basename</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>), 10, 15) .
<a name="l4360"><span class="linenum">4360</span></a>                      '_' . self::<a class="function" onClick="logFunction('shortMD5')" href="../../_functions/shortmd5.html" onMouseOver="funcPopup(event,'shortmd5')">shortMD5</a>(<a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>) . '.' . <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> . '.' . <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> . '.cache';
<a name="l4361"><span class="linenum">4361</span></a>  
<a name="l4362"><span class="linenum">4362</span></a>  <span class="comment">                // Check if cache file exists...</span>
<a name="l4363"><span class="linenum">4363</span></a>              if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>)) { // ... if it doesn't, create content and write it:
<a name="l4364"><span class="linenum">4364</span></a>  
<a name="l4365"><span class="linenum">4365</span></a>  <span class="comment">                    // Read XML, parse it.</span>
<a name="l4366"><span class="linenum">4366</span></a>                  <a class="var it37942" onMouseOver="hilite(37942)" onMouseOut="lolite()" onClick="logVariable('xmlString')" href="../../_variables/xmlString.html">$xmlString</a> = self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>);
<a name="l4367"><span class="linenum">4367</span></a>                  <a class="var it37943" onMouseOver="hilite(37943)" onMouseOut="lolite()" onClick="logVariable('xmlContent')" href="../../_variables/xmlContent.html">$xmlContent</a> = self::<a class="function" onClick="logFunction('xml2array')" href="../../_functions/xml2array.html" onMouseOver="funcPopup(event,'xml2array')">xml2array</a>(<a class="var it37942" onMouseOver="hilite(37942)" onMouseOut="lolite()" onClick="logVariable('xmlString')" href="../../_variables/xmlString.html">$xmlString</a>);
<a name="l4368"><span class="linenum">4368</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37943" onMouseOver="hilite(37943)" onMouseOut="lolite()" onClick="logVariable('xmlContent')" href="../../_variables/xmlContent.html">$xmlContent</a>)) {
<a name="l4369"><span class="linenum">4369</span></a>                      <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site));
<a name="l4370"><span class="linenum">4370</span></a>                      throw new RuntimeException(
<a name="l4371"><span class="linenum">4371</span></a>                          'TYPO3 Fatal Error: The file &quot;' . <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> . '&quot; is no TYPO3 language file!',
<a name="l4372"><span class="linenum">4372</span></a>                          1270853902
<a name="l4373"><span class="linenum">4373</span></a>                      );
<a name="l4374"><span class="linenum">4374</span></a>                  }
<a name="l4375"><span class="linenum">4375</span></a>  
<a name="l4376"><span class="linenum">4376</span></a>  <span class="comment">                    // Set default LOCAL_LANG array content:</span>
<a name="l4377"><span class="linenum">4377</span></a>                  <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> = array();
<a name="l4378"><span class="linenum">4378</span></a>                  <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default'] = <a class="var it37943" onMouseOver="hilite(37943)" onMouseOut="lolite()" onClick="logVariable('xmlContent')" href="../../_variables/xmlContent.html">$xmlContent</a>['data']['default'];
<a name="l4379"><span class="linenum">4379</span></a>  
<a name="l4380"><span class="linenum">4380</span></a>  <span class="comment">                    // converting the default language (English)</span>
<a name="l4381"><span class="linenum">4381</span></a>  <span class="comment">                    // this needs to be done for a few accented loan words and extension names</span>
<a name="l4382"><span class="linenum">4382</span></a>  <span class="comment">                    // NOTE: no conversion is done when in UTF-8 mode!</span>
<a name="l4383"><span class="linenum">4383</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default']) &amp;&amp; <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> != 'utf-8') {
<a name="l4384"><span class="linenum">4384</span></a>                      foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default'] as &amp;<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>) {
<a name="l4385"><span class="linenum">4385</span></a>                          <a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>, <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>);
<a name="l4386"><span class="linenum">4386</span></a>                      }
<a name="l4387"><span class="linenum">4387</span></a>                      unset(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>);
<a name="l4388"><span class="linenum">4388</span></a>                  }
<a name="l4389"><span class="linenum">4389</span></a>  
<a name="l4390"><span class="linenum">4390</span></a>  <span class="comment">                    // converting other languages to their &quot;native&quot; charsets</span>
<a name="l4391"><span class="linenum">4391</span></a>  <span class="comment">                    // NOTE: no conversion is done when in UTF-8 mode!</span>
<a name="l4392"><span class="linenum">4392</span></a>                  if (<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> != 'default') {
<a name="l4393"><span class="linenum">4393</span></a>  
<a name="l4394"><span class="linenum">4394</span></a>  <span class="comment">                        // If no entry is found for the language key, then force a value depending on meta-data setting. By default an automated filename will be used:</span>
<a name="l4395"><span class="linenum">4395</span></a>                      <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] = self::<a class="function" onClick="logFunction('llXmlAutoFileName')" href="../../_functions/llxmlautofilename.html" onMouseOver="funcPopup(event,'llxmlautofilename')">llXmlAutoFileName</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>);
<a name="l4396"><span class="linenum">4396</span></a>                      <a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]);
<a name="l4397"><span class="linenum">4397</span></a>                      if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>) &amp;&amp; isset(<a class="var it37943" onMouseOver="hilite(37943)" onMouseOut="lolite()" onClick="logVariable('xmlContent')" href="../../_variables/xmlContent.html">$xmlContent</a>['data'][<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>])) {
<a name="l4398"><span class="linenum">4398</span></a>                          <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] = <a class="var it37943" onMouseOver="hilite(37943)" onMouseOut="lolite()" onClick="logVariable('xmlContent')" href="../../_variables/xmlContent.html">$xmlContent</a>['data'][<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>];
<a name="l4399"><span class="linenum">4399</span></a>                      }
<a name="l4400"><span class="linenum">4400</span></a>  
<a name="l4401"><span class="linenum">4401</span></a>  <span class="comment">                        // Checking if charset should be converted.</span>
<a name="l4402"><span class="linenum">4402</span></a>                      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]) &amp;&amp; <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> != 'utf-8') {
<a name="l4403"><span class="linenum">4403</span></a>                          foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] as &amp;<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>) {
<a name="l4404"><span class="linenum">4404</span></a>                              <a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>, <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>);
<a name="l4405"><span class="linenum">4405</span></a>                          }
<a name="l4406"><span class="linenum">4406</span></a>                          unset(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>);
<a name="l4407"><span class="linenum">4407</span></a>                      }
<a name="l4408"><span class="linenum">4408</span></a>                  }
<a name="l4409"><span class="linenum">4409</span></a>  
<a name="l4410"><span class="linenum">4410</span></a>  <span class="comment">                    // Cache the content now:</span>
<a name="l4411"><span class="linenum">4411</span></a>                  <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = array('origFile' =&gt; <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>, 'LOCAL_LANG' =&gt; array('default' =&gt; <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>['default'], <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> =&gt; <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]));
<a name="l4412"><span class="linenum">4412</span></a>                  <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> = self::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>));
<a name="l4413"><span class="linenum">4413</span></a>                  if (<a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>) {
<a name="l4414"><span class="linenum">4414</span></a>                      throw new RuntimeException(
<a name="l4415"><span class="linenum">4415</span></a>                          'TYPO3 Fatal Error: ' . <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>,
<a name="l4416"><span class="linenum">4416</span></a>                          1270853903
<a name="l4417"><span class="linenum">4417</span></a>                      );
<a name="l4418"><span class="linenum">4418</span></a>                  }
<a name="l4419"><span class="linenum">4419</span></a>              } else {
<a name="l4420"><span class="linenum">4420</span></a>  <span class="comment">                    // Get content from cache:</span>
<a name="l4421"><span class="linenum">4421</span></a>                  <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>));
<a name="l4422"><span class="linenum">4422</span></a>                  <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> = <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>['LOCAL_LANG'];
<a name="l4423"><span class="linenum">4423</span></a>              }
<a name="l4424"><span class="linenum">4424</span></a>  
<a name="l4425"><span class="linenum">4425</span></a>  <span class="comment">                // Checking for EXTERNAL file for non-default language:</span>
<a name="l4426"><span class="linenum">4426</span></a>              if (<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> != 'default' &amp;&amp; <a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]) &amp;&amp; <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>])) {
<a name="l4427"><span class="linenum">4427</span></a>  
<a name="l4428"><span class="linenum">4428</span></a>  <span class="comment">                    // Look for localized file:</span>
<a name="l4429"><span class="linenum">4429</span></a>                  <a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]);
<a name="l4430"><span class="linenum">4430</span></a>                  if (<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>)) {
<a name="l4431"><span class="linenum">4431</span></a>  
<a name="l4432"><span class="linenum">4432</span></a>  <span class="comment">                        // Cache file name:</span>
<a name="l4433"><span class="linenum">4433</span></a>                      <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site)) . '|' . <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('d-m-Y H:i:s', <a class="phpfunction" onClick="logFunction('filemtime')" href="../../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>)) . '|version=2.3';
<a name="l4434"><span class="linenum">4434</span></a>                      <a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a> = PATH_site . 'typo3temp/llxml/EXT_' .
<a name="l4435"><span class="linenum">4435</span></a>                              <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('basename')" href="../../_functions/basename.html" onMouseOver="phpfuncPopup(event,'basename')">basename</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>), 10, 15) .
<a name="l4436"><span class="linenum">4436</span></a>                              '_' . self::<a class="function" onClick="logFunction('shortMD5')" href="../../_functions/shortmd5.html" onMouseOver="funcPopup(event,'shortmd5')">shortMD5</a>(<a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>) . '.' . <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a> . '.' . <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> . '.cache';
<a name="l4437"><span class="linenum">4437</span></a>  
<a name="l4438"><span class="linenum">4438</span></a>  <span class="comment">                        // Check if cache file exists...</span>
<a name="l4439"><span class="linenum">4439</span></a>                      if (!@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>)) { // ... if it doesn't, create content and write it:
<a name="l4440"><span class="linenum">4440</span></a>  
<a name="l4441"><span class="linenum">4441</span></a>  <span class="comment">                            // Read and parse XML content:</span>
<a name="l4442"><span class="linenum">4442</span></a>                          <a class="var it37945" onMouseOver="hilite(37945)" onMouseOut="lolite()" onClick="logVariable('local_xmlString')" href="../../_variables/local_xmlString.html">$local_xmlString</a> = self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>);
<a name="l4443"><span class="linenum">4443</span></a>                          <a class="var it37946" onMouseOver="hilite(37946)" onMouseOut="lolite()" onClick="logVariable('local_xmlContent')" href="../../_variables/local_xmlContent.html">$local_xmlContent</a> = self::<a class="function" onClick="logFunction('xml2array')" href="../../_functions/xml2array.html" onMouseOver="funcPopup(event,'xml2array')">xml2array</a>(<a class="var it37945" onMouseOver="hilite(37945)" onMouseOut="lolite()" onClick="logVariable('local_xmlString')" href="../../_variables/local_xmlString.html">$local_xmlString</a>);
<a name="l4444"><span class="linenum">4444</span></a>                          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37946" onMouseOver="hilite(37946)" onMouseOut="lolite()" onClick="logVariable('local_xmlContent')" href="../../_variables/local_xmlContent.html">$local_xmlContent</a>)) {
<a name="l4445"><span class="linenum">4445</span></a>                              <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37944" onMouseOver="hilite(37944)" onMouseOut="lolite()" onClick="logVariable('localized_file')" href="../../_variables/localized_file.html">$localized_file</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site));
<a name="l4446"><span class="linenum">4446</span></a>                              throw new RuntimeException(
<a name="l4447"><span class="linenum">4447</span></a>                                  'TYPO3 Fatal Error: The file &quot;' . <a class="var it1315" onMouseOver="hilite(1315)" onMouseOut="lolite()" onClick="logVariable('fileName')" href="../../_variables/fileName.html">$fileName</a> . '&quot; is no TYPO3 language file!',
<a name="l4448"><span class="linenum">4448</span></a>                                  1270853904
<a name="l4449"><span class="linenum">4449</span></a>                              );
<a name="l4450"><span class="linenum">4450</span></a>                          }
<a name="l4451"><span class="linenum">4451</span></a>                          <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] = <a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37946" onMouseOver="hilite(37946)" onMouseOut="lolite()" onClick="logVariable('local_xmlContent')" href="../../_variables/local_xmlContent.html">$local_xmlContent</a>['data'][<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]) ? <a class="var it37946" onMouseOver="hilite(37946)" onMouseOut="lolite()" onClick="logVariable('local_xmlContent')" href="../../_variables/local_xmlContent.html">$local_xmlContent</a>['data'][<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] : array();
<a name="l4452"><span class="linenum">4452</span></a>  
<a name="l4453"><span class="linenum">4453</span></a>  <span class="comment">                            // Checking if charset should be converted.</span>
<a name="l4454"><span class="linenum">4454</span></a>                          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]) &amp;&amp; <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a> != 'utf-8') {
<a name="l4455"><span class="linenum">4455</span></a>                              foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] as &amp;<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>) {
<a name="l4456"><span class="linenum">4456</span></a>                                  <a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a> = <a class="var it37722" onMouseOver="hilite(37722)" onMouseOut="lolite()" onClick="logVariable('csConvObj')" href="../../_variables/csConvObj.html">$csConvObj</a>-&gt;<a class="phpfunction" onClick="logFunction('utf8_decode')" href="../../_functions/utf8_decode.html" onMouseOver="phpfuncPopup(event,'utf8_decode')">utf8_decode</a>(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>, <a class="var it37936" onMouseOver="hilite(37936)" onMouseOut="lolite()" onClick="logVariable('targetCharset')" href="../../_variables/targetCharset.html">$targetCharset</a>);
<a name="l4457"><span class="linenum">4457</span></a>                              }
<a name="l4458"><span class="linenum">4458</span></a>                              unset(<a class="var it37940" onMouseOver="hilite(37940)" onMouseOut="lolite()" onClick="logVariable('labelValue')" href="../../_variables/labelValue.html">$labelValue</a>);
<a name="l4459"><span class="linenum">4459</span></a>                          }
<a name="l4460"><span class="linenum">4460</span></a>  
<a name="l4461"><span class="linenum">4461</span></a>  <span class="comment">                            // Cache the content now:</span>
<a name="l4462"><span class="linenum">4462</span></a>                          <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = array('extlang' =&gt; <a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>, 'origFile' =&gt; <a class="var it37937" onMouseOver="hilite(37937)" onMouseOut="lolite()" onClick="logVariable('hashSource')" href="../../_variables/hashSource.html">$hashSource</a>, 'EXT_DATA' =&gt; <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>]);
<a name="l4463"><span class="linenum">4463</span></a>                          <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a> = self::<a class="function" onClick="logFunction('writeFileToTypo3tempDir')" href="../../_functions/writefiletotypo3tempdir.html" onMouseOver="funcPopup(event,'writefiletotypo3tempdir')">writeFileToTypo3tempDir</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>, <a class="phpfunction" onClick="logFunction('serialize')" href="../../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>));
<a name="l4464"><span class="linenum">4464</span></a>                          if (<a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>) {
<a name="l4465"><span class="linenum">4465</span></a>                              throw new RuntimeException(
<a name="l4466"><span class="linenum">4466</span></a>                                  'TYPO3 Fatal Error: ' . <a class="var it799" onMouseOver="hilite(799)" onMouseOut="lolite()" onClick="logVariable('res')" href="../../_variables/res.html">$res</a>,
<a name="l4467"><span class="linenum">4467</span></a>                                  1270853905
<a name="l4468"><span class="linenum">4468</span></a>                              );
<a name="l4469"><span class="linenum">4469</span></a>                          }
<a name="l4470"><span class="linenum">4470</span></a>                      } else {
<a name="l4471"><span class="linenum">4471</span></a>  <span class="comment">                            // Get content from cache:</span>
<a name="l4472"><span class="linenum">4472</span></a>                          <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it37938" onMouseOver="hilite(37938)" onMouseOut="lolite()" onClick="logVariable('cacheFileName')" href="../../_variables/cacheFileName.html">$cacheFileName</a>));
<a name="l4473"><span class="linenum">4473</span></a>                          <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] = <a class="var it37941" onMouseOver="hilite(37941)" onMouseOut="lolite()" onClick="logVariable('serContent')" href="../../_variables/serContent.html">$serContent</a>['EXT_DATA'];
<a name="l4474"><span class="linenum">4474</span></a>                      }
<a name="l4475"><span class="linenum">4475</span></a>                  } else {
<a name="l4476"><span class="linenum">4476</span></a>                      <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>[<a class="var it37932" onMouseOver="hilite(37932)" onMouseOut="lolite()" onClick="logVariable('langKey')" href="../../_variables/langKey.html">$langKey</a>] = array();
<a name="l4477"><span class="linenum">4477</span></a>                  }
<a name="l4478"><span class="linenum">4478</span></a>              }
<a name="l4479"><span class="linenum">4479</span></a>  
<a name="l4480"><span class="linenum">4480</span></a>  <span class="comment">                // Convert the $LOCAL_LANG array to XLIFF structure</span>
<a name="l4481"><span class="linenum">4481</span></a>              foreach (<a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a> as &amp;<a class="var it37947" onMouseOver="hilite(37947)" onMouseOut="lolite()" onClick="logVariable('keysLabels')" href="../../_variables/keysLabels.html">$keysLabels</a>) {
<a name="l4482"><span class="linenum">4482</span></a>                  foreach (<a class="var it37947" onMouseOver="hilite(37947)" onMouseOut="lolite()" onClick="logVariable('keysLabels')" href="../../_variables/keysLabels.html">$keysLabels</a> as &amp;<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>) {
<a name="l4483"><span class="linenum">4483</span></a>                      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a> = array(0 =&gt; array(
<a name="l4484"><span class="linenum">4484</span></a>                          'target' =&gt; <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>,
<a name="l4485"><span class="linenum">4485</span></a>                      ));
<a name="l4486"><span class="linenum">4486</span></a>                  }
<a name="l4487"><span class="linenum">4487</span></a>                  unset(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>);
<a name="l4488"><span class="linenum">4488</span></a>              }
<a name="l4489"><span class="linenum">4489</span></a>              unset(<a class="var it37947" onMouseOver="hilite(37947)" onMouseOut="lolite()" onClick="logVariable('keysLabels')" href="../../_variables/keysLabels.html">$keysLabels</a>);
<a name="l4490"><span class="linenum">4490</span></a>  
<a name="l4491"><span class="linenum">4491</span></a>              return <a class="var it37939" onMouseOver="hilite(37939)" onMouseOut="lolite()" onClick="logVariable('LOCAL_LANG')" href="../../_variables/LOCAL_LANG.html">$LOCAL_LANG</a>;
<a name="l4492"><span class="linenum">4492</span></a>          }
<a name="l4493"><span class="linenum">4493</span></a>      }
<a name="l4494"><span class="linenum">4494</span></a>  
<a name="l4495"><span class="linenum">4495</span></a>      <span class="comment">/**</span>
<a name="l4496"><span class="linenum">4496</span></a>  <span class="comment">     * Returns auto-filename for locallang-XML localizations.</span>
<a name="l4497"><span class="linenum">4497</span></a>  <span class="comment">     *</span>
<a name="l4498"><span class="linenum">4498</span></a>  <span class="comment">     * @param string $fileRef Absolute file reference to locallang-XML file. Must be inside system/global/local extension</span>
<a name="l4499"><span class="linenum">4499</span></a>  <span class="comment">     * @param string $language Language key</span>
<a name="l4500"><span class="linenum">4500</span></a>  <span class="comment">     * @param boolean $sameLocation if TRUE, then locallang-XML localization file name will be returned with same directory as $fileRef</span>
<a name="l4501"><span class="linenum">4501</span></a>  <span class="comment">     * @return string Returns the filename reference for the language unless error occurred (or local mode is used) in which case it will be NULL</span>
<a name="l4502"><span class="linenum">4502</span></a>  <span class="comment">     */</span>
<a name="l4503"><span class="linenum">4503</span></a>  	public static function <a class="function" onClick="logFunction('llXmlAutoFileName')" href="../../_functions/llxmlautofilename.html" onMouseOver="funcPopup(event,'llxmlautofilename')">llXmlAutoFileName</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a>, <a class="var it37948" onMouseOver="hilite(37948)" onMouseOut="lolite()" onClick="logVariable('sameLocation')" href="../../_variables/sameLocation.html">$sameLocation</a> = FALSE) {
<a name="l4504"><span class="linenum">4504</span></a>          if (<a class="var it37948" onMouseOver="hilite(37948)" onMouseOut="lolite()" onClick="logVariable('sameLocation')" href="../../_variables/sameLocation.html">$sameLocation</a>) {
<a name="l4505"><span class="linenum">4505</span></a>              <a class="var it3200" onMouseOver="hilite(3200)" onMouseOut="lolite()" onClick="logVariable('location')" href="../../_variables/location.html">$location</a> = 'EXT:';
<a name="l4506"><span class="linenum">4506</span></a>          } else {
<a name="l4507"><span class="linenum">4507</span></a>              <a class="var it3200" onMouseOver="hilite(3200)" onMouseOut="lolite()" onClick="logVariable('location')" href="../../_variables/location.html">$location</a> = 'typo3conf/l10n/' . <a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a> . '/'; <span class="comment">// Default location of translations</span>
<a name="l4508"><span class="linenum">4508</span></a>          }
<a name="l4509"><span class="linenum">4509</span></a>  
<a name="l4510"><span class="linenum">4510</span></a>  <span class="comment">            // Analyse file reference:</span>
<a name="l4511"><span class="linenum">4511</span></a>          if (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, PATH_typo3 . 'sysext/')) { // Is system:
<a name="l4512"><span class="linenum">4512</span></a>              <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a> = PATH_typo3 . 'sysext/';
<a name="l4513"><span class="linenum">4513</span></a>  <span class="comment">            #$location = 'EXT:csh_'.$language.'/';    // For system extensions translations are found in &quot;csh_*&quot; extensions (language packs)</span>
<a name="l4514"><span class="linenum">4514</span></a>          } elseif (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, PATH_typo3 . 'ext/')) { // Is global:
<a name="l4515"><span class="linenum">4515</span></a>              <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a> = PATH_typo3 . 'ext/';
<a name="l4516"><span class="linenum">4516</span></a>          } elseif (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, PATH_typo3conf . 'ext/')) { // Is local:
<a name="l4517"><span class="linenum">4517</span></a>              <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a> = PATH_typo3conf . 'ext/';
<a name="l4518"><span class="linenum">4518</span></a>          } elseif (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, PATH_site . 'typo3_src/tests/')) { // Is test:
<a name="l4519"><span class="linenum">4519</span></a>              <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a> = PATH_site . 'typo3_src/tests/';
<a name="l4520"><span class="linenum">4520</span></a>              <a class="var it3200" onMouseOver="hilite(3200)" onMouseOut="lolite()" onClick="logVariable('location')" href="../../_variables/location.html">$location</a> = <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a>;
<a name="l4521"><span class="linenum">4521</span></a>          } else {
<a name="l4522"><span class="linenum">4522</span></a>              <a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a> = '';
<a name="l4523"><span class="linenum">4523</span></a>          }
<a name="l4524"><span class="linenum">4524</span></a>  
<a name="l4525"><span class="linenum">4525</span></a>          if (<a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a>) {
<a name="l4526"><span class="linenum">4526</span></a>  
<a name="l4527"><span class="linenum">4527</span></a>  <span class="comment">                // Divide file reference into extension key, directory (if any) and base name:</span>
<a name="l4528"><span class="linenum">4528</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it37950" onMouseOver="hilite(37950)" onMouseOut="lolite()" onClick="logVariable('file_extKey')" href="../../_variables/file_extKey.html">$file_extKey</a>, <a class="var it37951" onMouseOver="hilite(37951)" onMouseOut="lolite()" onClick="logVariable('file_extPath')" href="../../_variables/file_extPath.html">$file_extPath</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37949" onMouseOver="hilite(37949)" onMouseOut="lolite()" onClick="logVariable('validatedPrefix')" href="../../_variables/validatedPrefix.html">$validatedPrefix</a>)), 2);
<a name="l4529"><span class="linenum">4529</span></a>              <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a> = self::<a class="function" onClick="logFunction('revExplode')" href="../../_functions/revexplode.html" onMouseOver="funcPopup(event,'revexplode')">revExplode</a>('/', <a class="var it37951" onMouseOver="hilite(37951)" onMouseOut="lolite()" onClick="logVariable('file_extPath')" href="../../_variables/file_extPath.html">$file_extPath</a>, 2);
<a name="l4530"><span class="linenum">4530</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>) == 1) {
<a name="l4531"><span class="linenum">4531</span></a>                  <a class="phpfunction" onClick="logFunction('array_unshift')" href="../../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>, '');
<a name="l4532"><span class="linenum">4532</span></a>              } <span class="comment">// Add empty first-entry if not there.</span>
<a name="l4533"><span class="linenum">4533</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it37951" onMouseOver="hilite(37951)" onMouseOut="lolite()" onClick="logVariable('file_extPath')" href="../../_variables/file_extPath.html">$file_extPath</a>, <a class="var it37952" onMouseOver="hilite(37952)" onMouseOut="lolite()" onClick="logVariable('file_fileName')" href="../../_variables/file_fileName.html">$file_fileName</a>) = <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>;
<a name="l4534"><span class="linenum">4534</span></a>  
<a name="l4535"><span class="linenum">4535</span></a>  <span class="comment">                // If $fileRef is already prefix with &quot;[language key]&quot; then we should return it as this</span>
<a name="l4536"><span class="linenum">4536</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37952" onMouseOver="hilite(37952)" onMouseOut="lolite()" onClick="logVariable('file_fileName')" href="../../_variables/file_fileName.html">$file_fileName</a>, 0, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a>) + 1) === <a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a> . '.') {
<a name="l4537"><span class="linenum">4537</span></a>                  return <a class="var it37931" onMouseOver="hilite(37931)" onMouseOut="lolite()" onClick="logVariable('fileRef')" href="../../_variables/fileRef.html">$fileRef</a>;
<a name="l4538"><span class="linenum">4538</span></a>              }
<a name="l4539"><span class="linenum">4539</span></a>  
<a name="l4540"><span class="linenum">4540</span></a>  <span class="comment">                // The filename is prefixed with &quot;[language key].&quot; because it prevents the llxmltranslate tool from detecting it.</span>
<a name="l4541"><span class="linenum">4541</span></a>              return <a class="var it3200" onMouseOver="hilite(3200)" onMouseOut="lolite()" onClick="logVariable('location')" href="../../_variables/location.html">$location</a> .
<a name="l4542"><span class="linenum">4542</span></a>                      <a class="var it37950" onMouseOver="hilite(37950)" onMouseOut="lolite()" onClick="logVariable('file_extKey')" href="../../_variables/file_extKey.html">$file_extKey</a> . '/' .
<a name="l4543"><span class="linenum">4543</span></a>                      (<a class="var it37951" onMouseOver="hilite(37951)" onMouseOut="lolite()" onClick="logVariable('file_extPath')" href="../../_variables/file_extPath.html">$file_extPath</a> ? <a class="var it37951" onMouseOver="hilite(37951)" onMouseOut="lolite()" onClick="logVariable('file_extPath')" href="../../_variables/file_extPath.html">$file_extPath</a> . '/' : '') .
<a name="l4544"><span class="linenum">4544</span></a>                      <a class="var it129" onMouseOver="hilite(129)" onMouseOut="lolite()" onClick="logVariable('language')" href="../../_variables/language.html">$language</a> . '.' . <a class="var it37952" onMouseOver="hilite(37952)" onMouseOut="lolite()" onClick="logVariable('file_fileName')" href="../../_variables/file_fileName.html">$file_fileName</a>;
<a name="l4545"><span class="linenum">4545</span></a>          } else {
<a name="l4546"><span class="linenum">4546</span></a>              return NULL;
<a name="l4547"><span class="linenum">4547</span></a>          }
<a name="l4548"><span class="linenum">4548</span></a>      }
<a name="l4549"><span class="linenum">4549</span></a>  
<a name="l4550"><span class="linenum">4550</span></a>  
<a name="l4551"><span class="linenum">4551</span></a>      <span class="comment">/**</span>
<a name="l4552"><span class="linenum">4552</span></a>  <span class="comment">     * Loads the $GLOBALS['TCA'] (Table Configuration Array) for the $table</span>
<a name="l4553"><span class="linenum">4553</span></a>  <span class="comment">     *</span>
<a name="l4554"><span class="linenum">4554</span></a>  <span class="comment">     * Requirements:</span>
<a name="l4555"><span class="linenum">4555</span></a>  <span class="comment">     * 1) must be configured table (the ctrl-section configured),</span>
<a name="l4556"><span class="linenum">4556</span></a>  <span class="comment">     * 2) columns must not be an array (which it is always if whole table loaded), and</span>
<a name="l4557"><span class="linenum">4557</span></a>  <span class="comment">     * 3) there is a value for dynamicConfigFile (filename in typo3conf)</span>
<a name="l4558"><span class="linenum">4558</span></a>  <span class="comment">     *</span>
<a name="l4559"><span class="linenum">4559</span></a>  <span class="comment">     * Note: For the frontend this loads only 'ctrl' and 'feInterface' parts.</span>
<a name="l4560"><span class="linenum">4560</span></a>  <span class="comment">     * For complete TCA use $GLOBALS['TSFE']-&gt;includeTCA() instead.</span>
<a name="l4561"><span class="linenum">4561</span></a>  <span class="comment">     *</span>
<a name="l4562"><span class="linenum">4562</span></a>  <span class="comment">     * @param string $table Table name for which to load the full TCA array part into $GLOBALS['TCA']</span>
<a name="l4563"><span class="linenum">4563</span></a>  <span class="comment">     * @return void</span>
<a name="l4564"><span class="linenum">4564</span></a>  <span class="comment">     */</span>
<a name="l4565"><span class="linenum">4565</span></a>  	public static function <a class="function" onClick="logFunction('loadTCA')" href="../../_functions/loadtca.html" onMouseOver="funcPopup(event,'loadtca')">loadTCA</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l4566"><span class="linenum">4566</span></a>  <span class="comment">            //needed for inclusion of the dynamic config files.</span>
<a name="l4567"><span class="linenum">4567</span></a>          global <a class="var it37953" onMouseOver="hilite(37953)" onMouseOut="lolite()" onClick="logVariable('TCA')" href="../../_variables/TCA.html">$TCA</a>;
<a name="l4568"><span class="linenum">4568</span></a>          if (isset(<a class="var it37953" onMouseOver="hilite(37953)" onMouseOut="lolite()" onClick="logVariable('TCA')" href="../../_variables/TCA.html">$TCA</a>[<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>])) {
<a name="l4569"><span class="linenum">4569</span></a>              <a class="var it37954" onMouseOver="hilite(37954)" onMouseOut="lolite()" onClick="logVariable('tca')" href="../../_variables/tca.html">$tca</a> = &amp;<a class="var it37953" onMouseOver="hilite(37953)" onMouseOut="lolite()" onClick="logVariable('TCA')" href="../../_variables/TCA.html">$TCA</a>[<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>];
<a name="l4570"><span class="linenum">4570</span></a>              if (!<a class="var it37954" onMouseOver="hilite(37954)" onMouseOut="lolite()" onClick="logVariable('tca')" href="../../_variables/tca.html">$tca</a>['columns']) {
<a name="l4571"><span class="linenum">4571</span></a>                  <a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a> = <a class="var it37954" onMouseOver="hilite(37954)" onMouseOut="lolite()" onClick="logVariable('tca')" href="../../_variables/tca.html">$tca</a>['ctrl']['dynamicConfigFile'];
<a name="l4572"><span class="linenum">4572</span></a>                  if (<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>) {
<a name="l4573"><span class="linenum">4573</span></a>                      if (!<a class="phpfunction" onClick="logFunction('strcmp')" href="../../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>, 0, 6), 'T3LIB:')) {
<a name="l4574"><span class="linenum">4574</span></a>                          include(PATH_t3lib . 'stddb/' . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>, 6));
<a name="l4575"><span class="linenum">4575</span></a>                      } elseif (self::<a class="function" onClick="logFunction('isAbsPath')" href="../../_functions/isabspath.html" onMouseOver="funcPopup(event,'isabspath')">isAbsPath</a>(<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>) &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>)) { // Absolute path...
<a name="l4576"><span class="linenum">4576</span></a>                          include(<a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>);
<a name="l4577"><span class="linenum">4577</span></a>                      } else {
<a name="l4578"><span class="linenum">4578</span></a>                          include(PATH_typo3conf . <a class="var it37955" onMouseOver="hilite(37955)" onMouseOut="lolite()" onClick="logVariable('dcf')" href="../../_variables/dcf.html">$dcf</a>);
<a name="l4579"><span class="linenum">4579</span></a>                      }
<a name="l4580"><span class="linenum">4580</span></a>                  }
<a name="l4581"><span class="linenum">4581</span></a>              }
<a name="l4582"><span class="linenum">4582</span></a>          }
<a name="l4583"><span class="linenum">4583</span></a>      }
<a name="l4584"><span class="linenum">4584</span></a>  
<a name="l4585"><span class="linenum">4585</span></a>      <span class="comment">/**</span>
<a name="l4586"><span class="linenum">4586</span></a>  <span class="comment">     * Looks for a sheet-definition in the input data structure array. If found it will return the data structure for the sheet given as $sheet (if found).</span>
<a name="l4587"><span class="linenum">4587</span></a>  <span class="comment">     * If the sheet definition is in an external file that file is parsed and the data structure inside of that is returned.</span>
<a name="l4588"><span class="linenum">4588</span></a>  <span class="comment">     *</span>
<a name="l4589"><span class="linenum">4589</span></a>  <span class="comment">     * @param array $dataStructArray Input data structure, possibly with a sheet-definition and references to external data source files.</span>
<a name="l4590"><span class="linenum">4590</span></a>  <span class="comment">     * @param string $sheet The sheet to return, preferably.</span>
<a name="l4591"><span class="linenum">4591</span></a>  <span class="comment">     * @return array An array with two num. keys: key0: The data structure is returned in this key (array) UNLESS an error occurred in which case an error string is returned (string). key1: The used sheet key value!</span>
<a name="l4592"><span class="linenum">4592</span></a>  <span class="comment">     */</span>
<a name="l4593"><span class="linenum">4593</span></a>  	public static function <a class="function" onClick="logFunction('resolveSheetDefInDS')" href="../../_functions/resolvesheetdefinds.html" onMouseOver="funcPopup(event,'resolvesheetdefinds')">resolveSheetDefInDS</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>, <a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a> = 'sDEF') {
<a name="l4594"><span class="linenum">4594</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>)) {
<a name="l4595"><span class="linenum">4595</span></a>              return 'Data structure must be an array';
<a name="l4596"><span class="linenum">4596</span></a>          }
<a name="l4597"><span class="linenum">4597</span></a>  
<a name="l4598"><span class="linenum">4598</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>['sheets'])) {
<a name="l4599"><span class="linenum">4599</span></a>              <a class="var it37957" onMouseOver="hilite(37957)" onMouseOut="lolite()" onClick="logVariable('singleSheet')" href="../../_variables/singleSheet.html">$singleSheet</a> = FALSE;
<a name="l4600"><span class="linenum">4600</span></a>              if (!isset(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>['sheets'][<a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a>])) {
<a name="l4601"><span class="linenum">4601</span></a>                  <a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a> = 'sDEF';
<a name="l4602"><span class="linenum">4602</span></a>              }
<a name="l4603"><span class="linenum">4603</span></a>              <a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a> = <a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>['sheets'][<a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a>];
<a name="l4604"><span class="linenum">4604</span></a>  
<a name="l4605"><span class="linenum">4605</span></a>  <span class="comment">                // If not an array, but still set, then regard it as a relative reference to a file:</span>
<a name="l4606"><span class="linenum">4606</span></a>              if (<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a> &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a>)) {
<a name="l4607"><span class="linenum">4607</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a>);
<a name="l4608"><span class="linenum">4608</span></a>                  if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> &amp;&amp; @<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>)) {
<a name="l4609"><span class="linenum">4609</span></a>                      <a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a> = self::<a class="function" onClick="logFunction('xml2array')" href="../../_functions/xml2array.html" onMouseOver="funcPopup(event,'xml2array')">xml2array</a>(self::<a class="function" onClick="logFunction('getUrl')" href="../../_functions/geturl.html" onMouseOver="funcPopup(event,'geturl')">getUrl</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>));
<a name="l4610"><span class="linenum">4610</span></a>                  }
<a name="l4611"><span class="linenum">4611</span></a>              }
<a name="l4612"><span class="linenum">4612</span></a>          } else {
<a name="l4613"><span class="linenum">4613</span></a>              <a class="var it37957" onMouseOver="hilite(37957)" onMouseOut="lolite()" onClick="logVariable('singleSheet')" href="../../_variables/singleSheet.html">$singleSheet</a> = TRUE;
<a name="l4614"><span class="linenum">4614</span></a>              <a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a> = <a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>;
<a name="l4615"><span class="linenum">4615</span></a>              if (isset(<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a>['meta'])) {
<a name="l4616"><span class="linenum">4616</span></a>                  unset(<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a>['meta']);
<a name="l4617"><span class="linenum">4617</span></a>              } <span class="comment">// Meta data should not appear there.</span>
<a name="l4618"><span class="linenum">4618</span></a>              <a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a> = 'sDEF'; <span class="comment">// Default sheet</span>
<a name="l4619"><span class="linenum">4619</span></a>          }
<a name="l4620"><span class="linenum">4620</span></a>          return array(<a class="var it37958" onMouseOver="hilite(37958)" onMouseOut="lolite()" onClick="logVariable('dataStruct')" href="../../_variables/dataStruct.html">$dataStruct</a>, <a class="var it1954" onMouseOver="hilite(1954)" onMouseOut="lolite()" onClick="logVariable('sheet')" href="../../_variables/sheet.html">$sheet</a>, <a class="var it37957" onMouseOver="hilite(37957)" onMouseOut="lolite()" onClick="logVariable('singleSheet')" href="../../_variables/singleSheet.html">$singleSheet</a>);
<a name="l4621"><span class="linenum">4621</span></a>      }
<a name="l4622"><span class="linenum">4622</span></a>  
<a name="l4623"><span class="linenum">4623</span></a>      <span class="comment">/**</span>
<a name="l4624"><span class="linenum">4624</span></a>  <span class="comment">     * Resolves ALL sheet definitions in dataStructArray</span>
<a name="l4625"><span class="linenum">4625</span></a>  <span class="comment">     * If no sheet is found, then the default &quot;sDEF&quot; will be created with the dataStructure inside.</span>
<a name="l4626"><span class="linenum">4626</span></a>  <span class="comment">     *</span>
<a name="l4627"><span class="linenum">4627</span></a>  <span class="comment">     * @param array $dataStructArray Input data structure, possibly with a sheet-definition and references to external data source files.</span>
<a name="l4628"><span class="linenum">4628</span></a>  <span class="comment">     * @return array Output data structure with all sheets resolved as arrays.</span>
<a name="l4629"><span class="linenum">4629</span></a>  <span class="comment">     */</span>
<a name="l4630"><span class="linenum">4630</span></a>  	public static function <a class="function" onClick="logFunction('resolveAllSheetsInDS')" href="../../_functions/resolveallsheetsinds.html" onMouseOver="funcPopup(event,'resolveallsheetsinds')">resolveAllSheetsInDS</a>(array <a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>) {
<a name="l4631"><span class="linenum">4631</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>['sheets'])) {
<a name="l4632"><span class="linenum">4632</span></a>              <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = array('sheets' =&gt; array());
<a name="l4633"><span class="linenum">4633</span></a>              foreach (<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>['sheets'] as <a class="var it1589" onMouseOver="hilite(1589)" onMouseOut="lolite()" onClick="logVariable('sheetId')" href="../../_variables/sheetId.html">$sheetId</a> =&gt; <a class="var it37959" onMouseOver="hilite(37959)" onMouseOut="lolite()" onClick="logVariable('sDat')" href="../../_variables/sDat.html">$sDat</a>) {
<a name="l4634"><span class="linenum">4634</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it27030" onMouseOver="hilite(27030)" onMouseOut="lolite()" onClick="logVariable('ds')" href="../../_variables/ds.html">$ds</a>, <a class="var it37960" onMouseOver="hilite(37960)" onMouseOut="lolite()" onClick="logVariable('aS')" href="../../_variables/aS.html">$aS</a>) = self::<a class="function" onClick="logFunction('resolveSheetDefInDS')" href="../../_functions/resolvesheetdefinds.html" onMouseOver="funcPopup(event,'resolvesheetdefinds')">resolveSheetDefInDS</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>, <a class="var it1589" onMouseOver="hilite(1589)" onMouseOut="lolite()" onClick="logVariable('sheetId')" href="../../_variables/sheetId.html">$sheetId</a>);
<a name="l4635"><span class="linenum">4635</span></a>                  if (<a class="var it1589" onMouseOver="hilite(1589)" onMouseOut="lolite()" onClick="logVariable('sheetId')" href="../../_variables/sheetId.html">$sheetId</a> == <a class="var it37960" onMouseOver="hilite(37960)" onMouseOut="lolite()" onClick="logVariable('aS')" href="../../_variables/aS.html">$aS</a>) {
<a name="l4636"><span class="linenum">4636</span></a>                      <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>['sheets'][<a class="var it37960" onMouseOver="hilite(37960)" onMouseOut="lolite()" onClick="logVariable('aS')" href="../../_variables/aS.html">$aS</a>] = <a class="var it27030" onMouseOver="hilite(27030)" onMouseOut="lolite()" onClick="logVariable('ds')" href="../../_variables/ds.html">$ds</a>;
<a name="l4637"><span class="linenum">4637</span></a>                  }
<a name="l4638"><span class="linenum">4638</span></a>              }
<a name="l4639"><span class="linenum">4639</span></a>          } else {
<a name="l4640"><span class="linenum">4640</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it27030" onMouseOver="hilite(27030)" onMouseOut="lolite()" onClick="logVariable('ds')" href="../../_variables/ds.html">$ds</a>) = self::<a class="function" onClick="logFunction('resolveSheetDefInDS')" href="../../_functions/resolvesheetdefinds.html" onMouseOver="funcPopup(event,'resolvesheetdefinds')">resolveSheetDefInDS</a>(<a class="var it37956" onMouseOver="hilite(37956)" onMouseOut="lolite()" onClick="logVariable('dataStructArray')" href="../../_variables/dataStructArray.html">$dataStructArray</a>);
<a name="l4641"><span class="linenum">4641</span></a>              <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a> = array('sheets' =&gt; array('sDEF' =&gt; <a class="var it27030" onMouseOver="hilite(27030)" onMouseOut="lolite()" onClick="logVariable('ds')" href="../../_variables/ds.html">$ds</a>));
<a name="l4642"><span class="linenum">4642</span></a>          }
<a name="l4643"><span class="linenum">4643</span></a>          return <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../_variables/out.html">$out</a>;
<a name="l4644"><span class="linenum">4644</span></a>      }
<a name="l4645"><span class="linenum">4645</span></a>  
<a name="l4646"><span class="linenum">4646</span></a>      <span class="comment">/**</span>
<a name="l4647"><span class="linenum">4647</span></a>  <span class="comment">     * Calls a user-defined function/method in class</span>
<a name="l4648"><span class="linenum">4648</span></a>  <span class="comment">     * Such a function/method should look like this: &quot;function proc(&amp;$params, &amp;$ref)    {...}&quot;</span>
<a name="l4649"><span class="linenum">4649</span></a>  <span class="comment">     *</span>
<a name="l4650"><span class="linenum">4650</span></a>  <span class="comment">     * @param string $funcName Function/Method reference, '[file-reference&quot;:&quot;][&quot;&amp;&quot;]class/function[&quot;-&gt;&quot;method-name]'. You can prefix this reference with &quot;[file-reference]:&quot; and t3lib_div::getFileAbsFileName() will then be used to resolve the filename and subsequently include it by &quot;require_once()&quot; which means you don't have to worry about including the class file either! Example: &quot;EXT:realurl/class.tx_realurl.php:&amp;tx_realurl-&gt;encodeSpURL&quot;. Finally; you can prefix the class name with &quot;&amp;&quot; if you want to reuse a former instance of the same object call (&quot;singleton&quot;).</span>
<a name="l4651"><span class="linenum">4651</span></a>  <span class="comment">     * @param mixed $params Parameters to be pass along (typically an array) (REFERENCE!)</span>
<a name="l4652"><span class="linenum">4652</span></a>  <span class="comment">     * @param mixed $ref Reference to be passed along (typically &quot;$this&quot; - being a reference to the calling object) (REFERENCE!)</span>
<a name="l4653"><span class="linenum">4653</span></a>  <span class="comment">     * @param string $checkPrefix Alternative allowed prefix of class or function name</span>
<a name="l4654"><span class="linenum">4654</span></a>  <span class="comment">     * @param integer $errorMode Error mode (when class/function could not be found): 0 - call debug(), 1 - do nothing, 2 - raise an exception (allows to call a user function that may return FALSE)</span>
<a name="l4655"><span class="linenum">4655</span></a>  <span class="comment">     * @return mixed Content from method/function call or FALSE if the class/method/function was not found</span>
<a name="l4656"><span class="linenum">4656</span></a>  <span class="comment">     * @see getUserObj()</span>
<a name="l4657"><span class="linenum">4657</span></a>  <span class="comment">     */</span>
<a name="l4658"><span class="linenum">4658</span></a>  	public static function <a class="function" onClick="logFunction('callUserFunction')" href="../../_functions/calluserfunction.html" onMouseOver="funcPopup(event,'calluserfunction')">callUserFunction</a>(<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>, &amp;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, &amp;<a class="var it233" onMouseOver="hilite(233)" onMouseOut="lolite()" onClick="logVariable('ref')" href="../../_variables/ref.html">$ref</a>, <a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a> = 'user_', <a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> = 0) {
<a name="l4659"><span class="linenum">4659</span></a>          <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = FALSE;
<a name="l4660"><span class="linenum">4660</span></a>  
<a name="l4661"><span class="linenum">4661</span></a>  <span class="comment">            // Check persistent object and if found, call directly and exit.</span>
<a name="l4662"><span class="linenum">4662</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction'][<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>])) {
<a name="l4663"><span class="linenum">4663</span></a>              return <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(
<a name="l4664"><span class="linenum">4664</span></a>                  array(&amp;<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction'][<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>]['obj'],
<a name="l4665"><span class="linenum">4665</span></a>                      <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction'][<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>]['method']),
<a name="l4666"><span class="linenum">4666</span></a>                  array(&amp;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, &amp;<a class="var it233" onMouseOver="hilite(233)" onMouseOut="lolite()" onClick="logVariable('ref')" href="../../_variables/ref.html">$ref</a>)
<a name="l4667"><span class="linenum">4667</span></a>              );
<a name="l4668"><span class="linenum">4668</span></a>          }
<a name="l4669"><span class="linenum">4669</span></a>  
<a name="l4670"><span class="linenum">4670</span></a>  <span class="comment">            // Check file-reference prefix; if found, require_once() the file (should be library of code)</span>
<a name="l4671"><span class="linenum">4671</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>, ':') !== FALSE) {
<a name="l4672"><span class="linenum">4672</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>) = self::<a class="function" onClick="logFunction('revExplode')" href="../../_functions/revexplode.html" onMouseOver="funcPopup(event,'revexplode')">revExplode</a>(':', <a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>, 2);
<a name="l4673"><span class="linenum">4673</span></a>              <a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l4674"><span class="linenum">4674</span></a>              if (<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>) {
<a name="l4675"><span class="linenum">4675</span></a>                  self::<a class="function" onClick="logFunction('requireOnce')" href="../../_functions/requireonce.html" onMouseOver="funcPopup(event,'requireonce')">requireOnce</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>);
<a name="l4676"><span class="linenum">4676</span></a>              }
<a name="l4677"><span class="linenum">4677</span></a>          } else {
<a name="l4678"><span class="linenum">4678</span></a>              <a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a> = <a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>;
<a name="l4679"><span class="linenum">4679</span></a>          }
<a name="l4680"><span class="linenum">4680</span></a>  
<a name="l4681"><span class="linenum">4681</span></a>  <span class="comment">            // Check for persistent object token, &quot;&amp;&quot;</span>
<a name="l4682"><span class="linenum">4682</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>, 0, 1) == '&amp;') {
<a name="l4683"><span class="linenum">4683</span></a>              <a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>, 1);
<a name="l4684"><span class="linenum">4684</span></a>              <a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a> = TRUE;
<a name="l4685"><span class="linenum">4685</span></a>          } else {
<a name="l4686"><span class="linenum">4686</span></a>              <a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a> = FALSE;
<a name="l4687"><span class="linenum">4687</span></a>          }
<a name="l4688"><span class="linenum">4688</span></a>  
<a name="l4689"><span class="linenum">4689</span></a>  <span class="comment">            // Check prefix is valid:</span>
<a name="l4690"><span class="linenum">4690</span></a>          if (<a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a> &amp;&amp; !self::<a class="function" onClick="logFunction('hasValidClassPrefix')" href="../../_functions/hasvalidclassprefix.html" onMouseOver="funcPopup(event,'hasvalidclassprefix')">hasValidClassPrefix</a>(<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>, array(<a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a>))) {
<a name="l4691"><span class="linenum">4691</span></a>              <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> = &quot;Function/class '<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>' was not prepended with '<a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a>'&quot;;
<a name="l4692"><span class="linenum">4692</span></a>              if (<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> == 2) {
<a name="l4693"><span class="linenum">4693</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 1294585864);
<a name="l4694"><span class="linenum">4694</span></a>              } elseif (!<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a>) {
<a name="l4695"><span class="linenum">4695</span></a>                  <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 't3lib_div::callUserFunction');
<a name="l4696"><span class="linenum">4696</span></a>              }
<a name="l4697"><span class="linenum">4697</span></a>              return FALSE;
<a name="l4698"><span class="linenum">4698</span></a>          }
<a name="l4699"><span class="linenum">4699</span></a>  
<a name="l4700"><span class="linenum">4700</span></a>  <span class="comment">            // Call function or method:</span>
<a name="l4701"><span class="linenum">4701</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('-&gt;', <a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>);
<a name="l4702"><span class="linenum">4702</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>) == 2) { // Class
<a name="l4703"><span class="linenum">4703</span></a>  
<a name="l4704"><span class="linenum">4704</span></a>  <span class="comment">                // Check if class/method exists:</span>
<a name="l4705"><span class="linenum">4705</span></a>              if (<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0])) {
<a name="l4706"><span class="linenum">4706</span></a>  
<a name="l4707"><span class="linenum">4707</span></a>  <span class="comment">                    // Get/Create object of class:</span>
<a name="l4708"><span class="linenum">4708</span></a>                  if (<a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a>) { // Get reference to current instance of class:
<a name="l4709"><span class="linenum">4709</span></a>                      if (!<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction_classPool'][<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0]])) {
<a name="l4710"><span class="linenum">4710</span></a>                          <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction_classPool'][<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0]] = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0]);
<a name="l4711"><span class="linenum">4711</span></a>                      }
<a name="l4712"><span class="linenum">4712</span></a>                      <a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction_classPool'][<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0]];
<a name="l4713"><span class="linenum">4713</span></a>                  } else { // Create <span class="keyword">new </span><a class="class" onClick="logClass('object')" href="../../_classes/object.html" onMouseOver="classPopup(event,'object')">object</a>:
<a name="l4714"><span class="linenum">4714</span></a>                      <a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0]);
<a name="l4715"><span class="linenum">4715</span></a>                  }
<a name="l4716"><span class="linenum">4716</span></a>  
<a name="l4717"><span class="linenum">4717</span></a>                  if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a>, <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1])) {
<a name="l4718"><span class="linenum">4718</span></a>  
<a name="l4719"><span class="linenum">4719</span></a>  <span class="comment">                        // If persistent object should be created, set reference:</span>
<a name="l4720"><span class="linenum">4720</span></a>                      if (<a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a>) {
<a name="l4721"><span class="linenum">4721</span></a>                          <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['callUserFunction'][<a class="var it19420" onMouseOver="hilite(19420)" onMouseOut="lolite()" onClick="logVariable('funcName')" href="../../_variables/funcName.html">$funcName</a>] = array(
<a name="l4722"><span class="linenum">4722</span></a>                              'method' =&gt; <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1],
<a name="l4723"><span class="linenum">4723</span></a>                              'obj' =&gt; &amp;<a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a>
<a name="l4724"><span class="linenum">4724</span></a>                          );
<a name="l4725"><span class="linenum">4725</span></a>                      }
<a name="l4726"><span class="linenum">4726</span></a>  <span class="comment">                        // Call method:</span>
<a name="l4727"><span class="linenum">4727</span></a>                      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(
<a name="l4728"><span class="linenum">4728</span></a>                          array(&amp;<a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a>, <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1]),
<a name="l4729"><span class="linenum">4729</span></a>                          array(&amp;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, &amp;<a class="var it233" onMouseOver="hilite(233)" onMouseOut="lolite()" onClick="logVariable('ref')" href="../../_variables/ref.html">$ref</a>)
<a name="l4730"><span class="linenum">4730</span></a>                      );
<a name="l4731"><span class="linenum">4731</span></a>                  } else {
<a name="l4732"><span class="linenum">4732</span></a>                      <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> = &quot;No method name '&quot; . <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1] . &quot;' in class &quot; . <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0];
<a name="l4733"><span class="linenum">4733</span></a>                      if (<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> == 2) {
<a name="l4734"><span class="linenum">4734</span></a>                          throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 1294585865);
<a name="l4735"><span class="linenum">4735</span></a>                      } elseif (!<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a>) {
<a name="l4736"><span class="linenum">4736</span></a>                          <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 't3lib_div::callUserFunction');
<a name="l4737"><span class="linenum">4737</span></a>                      }
<a name="l4738"><span class="linenum">4738</span></a>                  }
<a name="l4739"><span class="linenum">4739</span></a>              } else {
<a name="l4740"><span class="linenum">4740</span></a>                  <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> = 'No class named ' . <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0];
<a name="l4741"><span class="linenum">4741</span></a>                  if (<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> == 2) {
<a name="l4742"><span class="linenum">4742</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 1294585866);
<a name="l4743"><span class="linenum">4743</span></a>                  } elseif (!<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a>) {
<a name="l4744"><span class="linenum">4744</span></a>                      <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 't3lib_div::callUserFunction');
<a name="l4745"><span class="linenum">4745</span></a>                  }
<a name="l4746"><span class="linenum">4746</span></a>              }
<a name="l4747"><span class="linenum">4747</span></a>          } else { // Function
<a name="l4748"><span class="linenum">4748</span></a>              if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>)) {
<a name="l4749"><span class="linenum">4749</span></a>                  <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(<a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>, array(&amp;<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, &amp;<a class="var it233" onMouseOver="hilite(233)" onMouseOut="lolite()" onClick="logVariable('ref')" href="../../_variables/ref.html">$ref</a>));
<a name="l4750"><span class="linenum">4750</span></a>              } else {
<a name="l4751"><span class="linenum">4751</span></a>                  <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> = 'No function named: ' . <a class="var it37962" onMouseOver="hilite(37962)" onMouseOut="lolite()" onClick="logVariable('funcRef')" href="../../_variables/funcRef.html">$funcRef</a>;
<a name="l4752"><span class="linenum">4752</span></a>                  if (<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a> == 2) {
<a name="l4753"><span class="linenum">4753</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 1294585867);
<a name="l4754"><span class="linenum">4754</span></a>                  } elseif (!<a class="var it37933" onMouseOver="hilite(37933)" onMouseOut="lolite()" onClick="logVariable('errorMode')" href="../../_variables/errorMode.html">$errorMode</a>) {
<a name="l4755"><span class="linenum">4755</span></a>                      <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(<a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a>, 't3lib_div::callUserFunction');
<a name="l4756"><span class="linenum">4756</span></a>                  }
<a name="l4757"><span class="linenum">4757</span></a>              }
<a name="l4758"><span class="linenum">4758</span></a>          }
<a name="l4759"><span class="linenum">4759</span></a>          return <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>;
<a name="l4760"><span class="linenum">4760</span></a>      }
<a name="l4761"><span class="linenum">4761</span></a>  
<a name="l4762"><span class="linenum">4762</span></a>      <span class="comment">/**</span>
<a name="l4763"><span class="linenum">4763</span></a>  <span class="comment">     * Creates and returns reference to a user defined object.</span>
<a name="l4764"><span class="linenum">4764</span></a>  <span class="comment">     * This function can return an object reference if you like. Just prefix the function call with &quot;&amp;&quot;: &quot;$objRef = &amp;t3lib_div::getUserObj('EXT:myext/class.tx_myext_myclass.php:&amp;tx_myext_myclass');&quot;. This will work ONLY if you prefix the class name with &quot;&amp;&quot; as well. See description of function arguments.</span>
<a name="l4765"><span class="linenum">4765</span></a>  <span class="comment">     *</span>
<a name="l4766"><span class="linenum">4766</span></a>  <span class="comment">     * @param string $classRef Class reference, '[file-reference&quot;:&quot;][&quot;&amp;&quot;]class-name'. You can prefix the class name with &quot;[file-reference]:&quot; and t3lib_div::getFileAbsFileName() will then be used to resolve the filename and subsequently include it by &quot;require_once()&quot; which means you don't have to worry about including the class file either! Example: &quot;EXT:realurl/class.tx_realurl.php:&amp;tx_realurl&quot;. Finally; for the class name you can prefix it with &quot;&amp;&quot; and you will reuse the previous instance of the object identified by the full reference string (meaning; if you ask for the same $classRef later in another place in the code you will get a reference to the first created one!).</span>
<a name="l4767"><span class="linenum">4767</span></a>  <span class="comment">     * @param string $checkPrefix Required prefix of class name. By default &quot;tx_&quot; and &quot;Tx_&quot; are allowed.</span>
<a name="l4768"><span class="linenum">4768</span></a>  <span class="comment">     * @param boolean $silent If set, no debug() error message is shown if class/function is not present.</span>
<a name="l4769"><span class="linenum">4769</span></a>  <span class="comment">     * @return object The instance of the class asked for. Instance is created with t3lib_div::makeInstance</span>
<a name="l4770"><span class="linenum">4770</span></a>  <span class="comment">     * @see callUserFunction()</span>
<a name="l4771"><span class="linenum">4771</span></a>  <span class="comment">     */</span>
<a name="l4772"><span class="linenum">4772</span></a>  	public static function <a class="function" onClick="logFunction('getUserObj')" href="../../_functions/getuserobj.html" onMouseOver="funcPopup(event,'getuserobj')">getUserObj</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>, <a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a> = 'user_', <a class="var it8504" onMouseOver="hilite(8504)" onMouseOut="lolite()" onClick="logVariable('silent')" href="../../_variables/silent.html">$silent</a> = FALSE) {
<a name="l4773"><span class="linenum">4773</span></a>  <span class="comment">            // Check persistent object and if found, call directly and exit.</span>
<a name="l4774"><span class="linenum">4774</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['getUserObj'][<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>])) {
<a name="l4775"><span class="linenum">4775</span></a>              return <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['getUserObj'][<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>];
<a name="l4776"><span class="linenum">4776</span></a>          } else {
<a name="l4777"><span class="linenum">4777</span></a>  
<a name="l4778"><span class="linenum">4778</span></a>  <span class="comment">                // Check file-reference prefix; if found, require_once() the file (should be library of code)</span>
<a name="l4779"><span class="linenum">4779</span></a>              if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>, ':') !== FALSE) {
<a name="l4780"><span class="linenum">4780</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>) = self::<a class="function" onClick="logFunction('revExplode')" href="../../_functions/revexplode.html" onMouseOver="funcPopup(event,'revexplode')">revExplode</a>(':', <a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>, 2);
<a name="l4781"><span class="linenum">4781</span></a>                  <a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l4782"><span class="linenum">4782</span></a>                  if (<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>) {
<a name="l4783"><span class="linenum">4783</span></a>                      self::<a class="function" onClick="logFunction('requireOnce')" href="../../_functions/requireonce.html" onMouseOver="funcPopup(event,'requireonce')">requireOnce</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>);
<a name="l4784"><span class="linenum">4784</span></a>                  }
<a name="l4785"><span class="linenum">4785</span></a>              } else {
<a name="l4786"><span class="linenum">4786</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = <a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>;
<a name="l4787"><span class="linenum">4787</span></a>              }
<a name="l4788"><span class="linenum">4788</span></a>  
<a name="l4789"><span class="linenum">4789</span></a>  <span class="comment">                // Check for persistent object token, &quot;&amp;&quot;</span>
<a name="l4790"><span class="linenum">4790</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>, 0, 1) == '&amp;') {
<a name="l4791"><span class="linenum">4791</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>, 1);
<a name="l4792"><span class="linenum">4792</span></a>                  <a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a> = TRUE;
<a name="l4793"><span class="linenum">4793</span></a>              } else {
<a name="l4794"><span class="linenum">4794</span></a>                  <a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a> = FALSE;
<a name="l4795"><span class="linenum">4795</span></a>              }
<a name="l4796"><span class="linenum">4796</span></a>  
<a name="l4797"><span class="linenum">4797</span></a>  <span class="comment">                // Check prefix is valid:</span>
<a name="l4798"><span class="linenum">4798</span></a>              if (<a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a> &amp;&amp; !self::<a class="function" onClick="logFunction('hasValidClassPrefix')" href="../../_functions/hasvalidclassprefix.html" onMouseOver="funcPopup(event,'hasvalidclassprefix')">hasValidClassPrefix</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>, array(<a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a>))) {
<a name="l4799"><span class="linenum">4799</span></a>                  if (!<a class="var it8504" onMouseOver="hilite(8504)" onMouseOut="lolite()" onClick="logVariable('silent')" href="../../_variables/silent.html">$silent</a>) {
<a name="l4800"><span class="linenum">4800</span></a>                      <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(&quot;Class '&quot; . <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> . &quot;' was not prepended with '&quot; . <a class="var it37961" onMouseOver="hilite(37961)" onMouseOut="lolite()" onClick="logVariable('checkPrefix')" href="../../_variables/checkPrefix.html">$checkPrefix</a> . &quot;'&quot;, 't3lib_div::getUserObj');
<a name="l4801"><span class="linenum">4801</span></a>                  }
<a name="l4802"><span class="linenum">4802</span></a>                  return FALSE;
<a name="l4803"><span class="linenum">4803</span></a>              }
<a name="l4804"><span class="linenum">4804</span></a>  
<a name="l4805"><span class="linenum">4805</span></a>  <span class="comment">                // Check if class exists:</span>
<a name="l4806"><span class="linenum">4806</span></a>              if (<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>)) {
<a name="l4807"><span class="linenum">4807</span></a>                  <a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>);
<a name="l4808"><span class="linenum">4808</span></a>  
<a name="l4809"><span class="linenum">4809</span></a>  <span class="comment">                    // If persistent object should be created, set reference:</span>
<a name="l4810"><span class="linenum">4810</span></a>                  if (<a class="var it37964" onMouseOver="hilite(37964)" onMouseOut="lolite()" onClick="logVariable('storePersistentObject')" href="../../_variables/storePersistentObject.html">$storePersistentObject</a>) {
<a name="l4811"><span class="linenum">4811</span></a>                      <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['getUserObj'][<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>] = <a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a>;
<a name="l4812"><span class="linenum">4812</span></a>                  }
<a name="l4813"><span class="linenum">4813</span></a>  
<a name="l4814"><span class="linenum">4814</span></a>                  return <a class="var it37966" onMouseOver="hilite(37966)" onMouseOut="lolite()" onClick="logVariable('classObj')" href="../../_variables/classObj.html">$classObj</a>;
<a name="l4815"><span class="linenum">4815</span></a>              } else {
<a name="l4816"><span class="linenum">4816</span></a>                  if (!<a class="var it8504" onMouseOver="hilite(8504)" onMouseOut="lolite()" onClick="logVariable('silent')" href="../../_variables/silent.html">$silent</a>) {
<a name="l4817"><span class="linenum">4817</span></a>                      <a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(&quot;&lt;strong&gt;ERROR:&lt;/strong&gt; No class named: &quot; . <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>, 't3lib_div::getUserObj');
<a name="l4818"><span class="linenum">4818</span></a>                  }
<a name="l4819"><span class="linenum">4819</span></a>              }
<a name="l4820"><span class="linenum">4820</span></a>          }
<a name="l4821"><span class="linenum">4821</span></a>      }
<a name="l4822"><span class="linenum">4822</span></a>  
<a name="l4823"><span class="linenum">4823</span></a>      <span class="comment">/**</span>
<a name="l4824"><span class="linenum">4824</span></a>  <span class="comment">     * Checks if a class or function has a valid prefix: tx_, Tx_ or custom, e.g. user_</span>
<a name="l4825"><span class="linenum">4825</span></a>  <span class="comment">     *</span>
<a name="l4826"><span class="linenum">4826</span></a>  <span class="comment">     * @param string $classRef The class or function to check</span>
<a name="l4827"><span class="linenum">4827</span></a>  <span class="comment">     * @param array $additionalPrefixes Additional allowed prefixes, mostly this will be user_</span>
<a name="l4828"><span class="linenum">4828</span></a>  <span class="comment">     * @return bool TRUE if name is allowed</span>
<a name="l4829"><span class="linenum">4829</span></a>  <span class="comment">     */</span>
<a name="l4830"><span class="linenum">4830</span></a>  	public static function <a class="function" onClick="logFunction('hasValidClassPrefix')" href="../../_functions/hasvalidclassprefix.html" onMouseOver="funcPopup(event,'hasvalidclassprefix')">hasValidClassPrefix</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>, array <a class="var it37968" onMouseOver="hilite(37968)" onMouseOut="lolite()" onClick="logVariable('additionalPrefixes')" href="../../_variables/additionalPrefixes.html">$additionalPrefixes</a> = array()) {
<a name="l4831"><span class="linenum">4831</span></a>          if (empty(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>)) {
<a name="l4832"><span class="linenum">4832</span></a>              return FALSE;
<a name="l4833"><span class="linenum">4833</span></a>          }
<a name="l4834"><span class="linenum">4834</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>)) {
<a name="l4835"><span class="linenum">4835</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>('<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a> has to be of type string', 1313917992);
<a name="l4836"><span class="linenum">4836</span></a>          }
<a name="l4837"><span class="linenum">4837</span></a>          <a class="var it37969" onMouseOver="hilite(37969)" onMouseOut="lolite()" onClick="logVariable('hasValidPrefix')" href="../../_variables/hasValidPrefix.html">$hasValidPrefix</a> = FALSE;
<a name="l4838"><span class="linenum">4838</span></a>          <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a> = self::<a class="function" onClick="logFunction('getValidClassPrefixes')" href="../../_functions/getvalidclassprefixes.html" onMouseOver="funcPopup(event,'getvalidclassprefixes')">getValidClassPrefixes</a>();
<a name="l4839"><span class="linenum">4839</span></a>          <a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>);
<a name="l4840"><span class="linenum">4840</span></a>  
<a name="l4841"><span class="linenum">4841</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it37968" onMouseOver="hilite(37968)" onMouseOut="lolite()" onClick="logVariable('additionalPrefixes')" href="../../_variables/additionalPrefixes.html">$additionalPrefixes</a>)) {
<a name="l4842"><span class="linenum">4842</span></a>              <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a>, <a class="var it37968" onMouseOver="hilite(37968)" onMouseOut="lolite()" onClick="logVariable('additionalPrefixes')" href="../../_variables/additionalPrefixes.html">$additionalPrefixes</a>);
<a name="l4843"><span class="linenum">4843</span></a>          }
<a name="l4844"><span class="linenum">4844</span></a>          foreach (<a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a> as <a class="var it37971" onMouseOver="hilite(37971)" onMouseOut="lolite()" onClick="logVariable('prefixToCheck')" href="../../_variables/prefixToCheck.html">$prefixToCheck</a>) {
<a name="l4845"><span class="linenum">4845</span></a>              if (self::<a class="function" onClick="logFunction('isFirstPartOfStr')" href="../../_functions/isfirstpartofstr.html" onMouseOver="funcPopup(event,'isfirstpartofstr')">isFirstPartOfStr</a>(<a class="var it37967" onMouseOver="hilite(37967)" onMouseOut="lolite()" onClick="logVariable('classRef')" href="../../_variables/classRef.html">$classRef</a>, <a class="var it37971" onMouseOver="hilite(37971)" onMouseOut="lolite()" onClick="logVariable('prefixToCheck')" href="../../_variables/prefixToCheck.html">$prefixToCheck</a>) || <a class="var it37971" onMouseOver="hilite(37971)" onMouseOut="lolite()" onClick="logVariable('prefixToCheck')" href="../../_variables/prefixToCheck.html">$prefixToCheck</a> === '') {
<a name="l4846"><span class="linenum">4846</span></a>                  <a class="var it37969" onMouseOver="hilite(37969)" onMouseOut="lolite()" onClick="logVariable('hasValidPrefix')" href="../../_variables/hasValidPrefix.html">$hasValidPrefix</a> = TRUE;
<a name="l4847"><span class="linenum">4847</span></a>                  break;
<a name="l4848"><span class="linenum">4848</span></a>              }
<a name="l4849"><span class="linenum">4849</span></a>          }
<a name="l4850"><span class="linenum">4850</span></a>  
<a name="l4851"><span class="linenum">4851</span></a>          return <a class="var it37969" onMouseOver="hilite(37969)" onMouseOut="lolite()" onClick="logVariable('hasValidPrefix')" href="../../_variables/hasValidPrefix.html">$hasValidPrefix</a>;
<a name="l4852"><span class="linenum">4852</span></a>      }
<a name="l4853"><span class="linenum">4853</span></a>  
<a name="l4854"><span class="linenum">4854</span></a>      <span class="comment">/**</span>
<a name="l4855"><span class="linenum">4855</span></a>  <span class="comment">     * Returns all valid class prefixes.</span>
<a name="l4856"><span class="linenum">4856</span></a>  <span class="comment">     *</span>
<a name="l4857"><span class="linenum">4857</span></a>  <span class="comment">     * @return array Array of valid prefixed of class names</span>
<a name="l4858"><span class="linenum">4858</span></a>  <span class="comment">     */</span>
<a name="l4859"><span class="linenum">4859</span></a>  	public static function <a class="function" onClick="logFunction('getValidClassPrefixes')" href="../../_functions/getvalidclassprefixes.html" onMouseOver="funcPopup(event,'getvalidclassprefixes')">getValidClassPrefixes</a>() {
<a name="l4860"><span class="linenum">4860</span></a>          <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a> = array('tx_', 'Tx_', 'user_', 'User_');
<a name="l4861"><span class="linenum">4861</span></a>          if (
<a name="l4862"><span class="linenum">4862</span></a>              isset(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['additionalAllowedClassPrefixes'])
<a name="l4863"><span class="linenum">4863</span></a>              &amp;&amp; <a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['additionalAllowedClassPrefixes'])
<a name="l4864"><span class="linenum">4864</span></a>          ) {
<a name="l4865"><span class="linenum">4865</span></a>              <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(
<a name="l4866"><span class="linenum">4866</span></a>                  <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a>,
<a name="l4867"><span class="linenum">4867</span></a>                  t3lib_div::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['additionalAllowedClassPrefixes'])
<a name="l4868"><span class="linenum">4868</span></a>              );
<a name="l4869"><span class="linenum">4869</span></a>          }
<a name="l4870"><span class="linenum">4870</span></a>          return <a class="var it37970" onMouseOver="hilite(37970)" onMouseOut="lolite()" onClick="logVariable('validPrefixes')" href="../../_variables/validPrefixes.html">$validPrefixes</a>;
<a name="l4871"><span class="linenum">4871</span></a>      }
<a name="l4872"><span class="linenum">4872</span></a>  
<a name="l4873"><span class="linenum">4873</span></a>      <span class="comment">/**</span>
<a name="l4874"><span class="linenum">4874</span></a>  <span class="comment">     * Creates an instance of a class taking into account the class-extensions</span>
<a name="l4875"><span class="linenum">4875</span></a>  <span class="comment">     * API of TYPO3. USE THIS method instead of the PHP &quot;new&quot; keyword.</span>
<a name="l4876"><span class="linenum">4876</span></a>  <span class="comment">     * Eg. &quot;$obj = new myclass;&quot; should be &quot;$obj = t3lib_div::makeInstance(&quot;myclass&quot;)&quot; instead!</span>
<a name="l4877"><span class="linenum">4877</span></a>  <span class="comment">     *</span>
<a name="l4878"><span class="linenum">4878</span></a>  <span class="comment">     * You can also pass arguments for a constructor:</span>
<a name="l4879"><span class="linenum">4879</span></a>  <span class="comment">     *         t3lib_div::makeInstance('myClass', $arg1, $arg2, ..., $argN)</span>
<a name="l4880"><span class="linenum">4880</span></a>  <span class="comment">     *</span>
<a name="l4881"><span class="linenum">4881</span></a>  <span class="comment">     * @throws InvalidArgumentException if classname is an empty string</span>
<a name="l4882"><span class="linenum">4882</span></a>  <span class="comment">     * @param string $className</span>
<a name="l4883"><span class="linenum">4883</span></a>  <span class="comment">     *             name of the class to instantiate, must not be empty</span>
<a name="l4884"><span class="linenum">4884</span></a>  <span class="comment">     * @return object the created instance</span>
<a name="l4885"><span class="linenum">4885</span></a>  <span class="comment">     */</span>
<a name="l4886"><span class="linenum">4886</span></a>  	public static function <a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>) {
<a name="l4887"><span class="linenum">4887</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>) || empty(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>)) {
<a name="l4888"><span class="linenum">4888</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>('<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a> must be a non empty string.', 1288965219);
<a name="l4889"><span class="linenum">4889</span></a>          }
<a name="l4890"><span class="linenum">4890</span></a>  
<a name="l4891"><span class="linenum">4891</span></a>  <span class="comment">            // Determine final class name which must be instantiated, this takes XCLASS handling</span>
<a name="l4892"><span class="linenum">4892</span></a>  <span class="comment">            // into account. Cache in a local array to save some cycles for consecutive calls.</span>
<a name="l4893"><span class="linenum">4893</span></a>          if (!isset(self::<a class="var it37708" onMouseOver="hilite(37708)" onMouseOut="lolite()" onClick="logVariable('finalClassNameRegister')" href="../../_variables/finalClassNameRegister.html">$finalClassNameRegister</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>])) {
<a name="l4894"><span class="linenum">4894</span></a>              self::<a class="var it37708" onMouseOver="hilite(37708)" onMouseOut="lolite()" onClick="logVariable('finalClassNameRegister')" href="../../_variables/finalClassNameRegister.html">$finalClassNameRegister</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>] = self::<a class="function" onClick="logFunction('getClassName')" href="../../_functions/getclassname.html" onMouseOver="funcPopup(event,'getclassname')">getClassName</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>);
<a name="l4895"><span class="linenum">4895</span></a>          }
<a name="l4896"><span class="linenum">4896</span></a>          <a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a> = self::<a class="var it37708" onMouseOver="hilite(37708)" onMouseOut="lolite()" onClick="logVariable('finalClassNameRegister')" href="../../_variables/finalClassNameRegister.html">$finalClassNameRegister</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>];
<a name="l4897"><span class="linenum">4897</span></a>  
<a name="l4898"><span class="linenum">4898</span></a>  <span class="comment">            // Return singleton instance if it is already registered</span>
<a name="l4899"><span class="linenum">4899</span></a>          if (isset(self::<a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>])) {
<a name="l4900"><span class="linenum">4900</span></a>              return self::<a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>];
<a name="l4901"><span class="linenum">4901</span></a>          }
<a name="l4902"><span class="linenum">4902</span></a>  
<a name="l4903"><span class="linenum">4903</span></a>  <span class="comment">            // Return instance if it has been injected by addInstance()</span>
<a name="l4904"><span class="linenum">4904</span></a>          if (isset(self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>])
<a name="l4905"><span class="linenum">4905</span></a>              &amp;&amp; !empty(self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>])
<a name="l4906"><span class="linenum">4906</span></a>          ) {
<a name="l4907"><span class="linenum">4907</span></a>              return <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>]);
<a name="l4908"><span class="linenum">4908</span></a>          }
<a name="l4909"><span class="linenum">4909</span></a>  
<a name="l4910"><span class="linenum">4910</span></a>  <span class="comment">            // Create new instance and call constructor with parameters</span>
<a name="l4911"><span class="linenum">4911</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = static::<a class="function" onClick="logFunction('instantiateClass')" href="../../_functions/instantiateclass.html" onMouseOver="funcPopup(event,'instantiateclass')">instantiateClass</a>(<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>, <a class="phpfunction" onClick="logFunction('func_get_args')" href="../../_functions/func_get_args.html" onMouseOver="phpfuncPopup(event,'func_get_args')">func_get_args</a>());
<a name="l4912"><span class="linenum">4912</span></a>  
<a name="l4913"><span class="linenum">4913</span></a>  <span class="comment">            // Register new singleton instance</span>
<a name="l4914"><span class="linenum">4914</span></a>          if (<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> instanceof t3lib_Singleton) {
<a name="l4915"><span class="linenum">4915</span></a>              self::<a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a>[<a class="var it37972" onMouseOver="hilite(37972)" onMouseOut="lolite()" onClick="logVariable('finalClassName')" href="../../_variables/finalClassName.html">$finalClassName</a>] = <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l4916"><span class="linenum">4916</span></a>          }
<a name="l4917"><span class="linenum">4917</span></a>  
<a name="l4918"><span class="linenum">4918</span></a>          return <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l4919"><span class="linenum">4919</span></a>      }
<a name="l4920"><span class="linenum">4920</span></a>  
<a name="l4921"><span class="linenum">4921</span></a>      <span class="comment">/**</span>
<a name="l4922"><span class="linenum">4922</span></a>  <span class="comment">     * Speed optimized alternative to ReflectionClass::newInstanceArgs()</span>
<a name="l4923"><span class="linenum">4923</span></a>  <span class="comment">     *</span>
<a name="l4924"><span class="linenum">4924</span></a>  <span class="comment">     * @param string $className Name of the class to instantiate</span>
<a name="l4925"><span class="linenum">4925</span></a>  <span class="comment">     * @param array $arguments Arguments passed to self::makeInstance() thus the first one with index 0 holds the requested class name</span>
<a name="l4926"><span class="linenum">4926</span></a>  <span class="comment">     * @return mixed</span>
<a name="l4927"><span class="linenum">4927</span></a>  <span class="comment">     */</span>
<a name="l4928"><span class="linenum">4928</span></a>  	protected static function <a class="function" onClick="logFunction('instantiateClass')" href="../../_functions/instantiateclass.html" onMouseOver="funcPopup(event,'instantiateclass')">instantiateClass</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>) {
<a name="l4929"><span class="linenum">4929</span></a>          switch (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>)) {
<a name="l4930"><span class="linenum">4930</span></a>              case 1:
<a name="l4931"><span class="linenum">4931</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>();
<a name="l4932"><span class="linenum">4932</span></a>                  break;
<a name="l4933"><span class="linenum">4933</span></a>              case 2:
<a name="l4934"><span class="linenum">4934</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1]);
<a name="l4935"><span class="linenum">4935</span></a>                  break;
<a name="l4936"><span class="linenum">4936</span></a>              case 3:
<a name="l4937"><span class="linenum">4937</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2]);
<a name="l4938"><span class="linenum">4938</span></a>                  break;
<a name="l4939"><span class="linenum">4939</span></a>              case 4:
<a name="l4940"><span class="linenum">4940</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3]);
<a name="l4941"><span class="linenum">4941</span></a>                  break;
<a name="l4942"><span class="linenum">4942</span></a>              case 5:
<a name="l4943"><span class="linenum">4943</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[4]);
<a name="l4944"><span class="linenum">4944</span></a>                  break;
<a name="l4945"><span class="linenum">4945</span></a>              case 6:
<a name="l4946"><span class="linenum">4946</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[4], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[5]);
<a name="l4947"><span class="linenum">4947</span></a>                  break;
<a name="l4948"><span class="linenum">4948</span></a>              case 7:
<a name="l4949"><span class="linenum">4949</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[4], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[5], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[6]);
<a name="l4950"><span class="linenum">4950</span></a>                  break;
<a name="l4951"><span class="linenum">4951</span></a>              case 8:
<a name="l4952"><span class="linenum">4952</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[4], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[5], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[6], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[7]);
<a name="l4953"><span class="linenum">4953</span></a>                  break;
<a name="l4954"><span class="linenum">4954</span></a>              case 9:
<a name="l4955"><span class="linenum">4955</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = new <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[1], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[2], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[3], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[4], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[5], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[6], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[7], <a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>[8]);
<a name="l4956"><span class="linenum">4956</span></a>                  break;
<a name="l4957"><span class="linenum">4957</span></a>              default:
<a name="l4958"><span class="linenum">4958</span></a>  <span class="comment">                // The default case for classes with constructors that have more than 8 arguments.</span>
<a name="l4959"><span class="linenum">4959</span></a>  <span class="comment">                // This will fail when one of the arguments shall be passed by reference.</span>
<a name="l4960"><span class="linenum">4960</span></a>  <span class="comment">                // In case we really need to support this edge case, we can implement the solution from here: https://review.typo3.org/26344</span>
<a name="l4961"><span class="linenum">4961</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = new ReflectionClass(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>);
<a name="l4962"><span class="linenum">4962</span></a>                  <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>);
<a name="l4963"><span class="linenum">4963</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>-&gt;newInstanceArgs(<a class="var it3451" onMouseOver="hilite(3451)" onMouseOut="lolite()" onClick="logVariable('arguments')" href="../../_variables/arguments.html">$arguments</a>);
<a name="l4964"><span class="linenum">4964</span></a>                  return <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l4965"><span class="linenum">4965</span></a>          }
<a name="l4966"><span class="linenum">4966</span></a>          return <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l4967"><span class="linenum">4967</span></a>      }
<a name="l4968"><span class="linenum">4968</span></a>  
<a name="l4969"><span class="linenum">4969</span></a>      <span class="comment">/**</span>
<a name="l4970"><span class="linenum">4970</span></a>  <span class="comment">     * Returns the class name for a new instance, taking into account the</span>
<a name="l4971"><span class="linenum">4971</span></a>  <span class="comment">     * class-extension API.</span>
<a name="l4972"><span class="linenum">4972</span></a>  <span class="comment">     *</span>
<a name="l4973"><span class="linenum">4973</span></a>  <span class="comment">     * @param string $className Base class name to evaluate</span>
<a name="l4974"><span class="linenum">4974</span></a>  <span class="comment">     * @return string Final class name to instantiate with &quot;new [classname]&quot;</span>
<a name="l4975"><span class="linenum">4975</span></a>  <span class="comment">     */</span>
<a name="l4976"><span class="linenum">4976</span></a>  	protected static function <a class="function" onClick="logFunction('getClassName')" href="../../_functions/getclassname.html" onMouseOver="funcPopup(event,'getclassname')">getClassName</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>) {
<a name="l4977"><span class="linenum">4977</span></a>          if (<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>)) {
<a name="l4978"><span class="linenum">4978</span></a>              while (<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>('ux_' . <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, FALSE)) {
<a name="l4979"><span class="linenum">4979</span></a>                  <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a> = 'ux_' . <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>;
<a name="l4980"><span class="linenum">4980</span></a>              }
<a name="l4981"><span class="linenum">4981</span></a>          }
<a name="l4982"><span class="linenum">4982</span></a>  
<a name="l4983"><span class="linenum">4983</span></a>          return <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>;
<a name="l4984"><span class="linenum">4984</span></a>      }
<a name="l4985"><span class="linenum">4985</span></a>  
<a name="l4986"><span class="linenum">4986</span></a>      <span class="comment">/**</span>
<a name="l4987"><span class="linenum">4987</span></a>  <span class="comment">     * Sets the instance of a singleton class to be returned by makeInstance.</span>
<a name="l4988"><span class="linenum">4988</span></a>  <span class="comment">     *</span>
<a name="l4989"><span class="linenum">4989</span></a>  <span class="comment">     * If this function is called multiple times for the same $className,</span>
<a name="l4990"><span class="linenum">4990</span></a>  <span class="comment">     * makeInstance will return the last set instance.</span>
<a name="l4991"><span class="linenum">4991</span></a>  <span class="comment">     *</span>
<a name="l4992"><span class="linenum">4992</span></a>  <span class="comment">     * Warning: This is a helper method for unit tests. Do not call this directly in production code!</span>
<a name="l4993"><span class="linenum">4993</span></a>  <span class="comment">     *</span>
<a name="l4994"><span class="linenum">4994</span></a>  <span class="comment">     * @see makeInstance</span>
<a name="l4995"><span class="linenum">4995</span></a>  <span class="comment">     * @param string $className</span>
<a name="l4996"><span class="linenum">4996</span></a>  <span class="comment">     *        the name of the class to set, must not be empty</span>
<a name="l4997"><span class="linenum">4997</span></a>  <span class="comment">     * @param t3lib_Singleton $instance</span>
<a name="l4998"><span class="linenum">4998</span></a>  <span class="comment">     *        the instance to set, must be an instance of $className</span>
<a name="l4999"><span class="linenum">4999</span></a>  <span class="comment">     * @return void</span>
<a name="l5000"><span class="linenum">5000</span></a>  <span class="comment">     */</span>
<a name="l5001"><span class="linenum">5001</span></a>  	public static function <a class="function" onClick="logFunction('setSingletonInstance')" href="../../_functions/setsingletoninstance.html" onMouseOver="funcPopup(event,'setsingletoninstance')">setSingletonInstance</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, t3lib_Singleton <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>) {
<a name="l5002"><span class="linenum">5002</span></a>          self::<a class="function" onClick="logFunction('checkInstanceClassName')" href="../../_functions/checkinstanceclassname.html" onMouseOver="funcPopup(event,'checkinstanceclassname')">checkInstanceClassName</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>);
<a name="l5003"><span class="linenum">5003</span></a>          self::<a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>] = <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l5004"><span class="linenum">5004</span></a>      }
<a name="l5005"><span class="linenum">5005</span></a>  
<a name="l5006"><span class="linenum">5006</span></a>      <span class="comment">/**</span>
<a name="l5007"><span class="linenum">5007</span></a>  <span class="comment">     * Sets the instance of a non-singleton class to be returned by makeInstance.</span>
<a name="l5008"><span class="linenum">5008</span></a>  <span class="comment">     *</span>
<a name="l5009"><span class="linenum">5009</span></a>  <span class="comment">     * If this function is called multiple times for the same $className,</span>
<a name="l5010"><span class="linenum">5010</span></a>  <span class="comment">     * makeInstance will return the instances in the order in which they have</span>
<a name="l5011"><span class="linenum">5011</span></a>  <span class="comment">     * been added (FIFO).</span>
<a name="l5012"><span class="linenum">5012</span></a>  <span class="comment">     *</span>
<a name="l5013"><span class="linenum">5013</span></a>  <span class="comment">     * Warning: This is a helper method for unit tests. Do not call this directly in production code!</span>
<a name="l5014"><span class="linenum">5014</span></a>  <span class="comment">     *</span>
<a name="l5015"><span class="linenum">5015</span></a>  <span class="comment">     * @see makeInstance</span>
<a name="l5016"><span class="linenum">5016</span></a>  <span class="comment">     * @throws InvalidArgumentException if class extends t3lib_Singleton</span>
<a name="l5017"><span class="linenum">5017</span></a>  <span class="comment">     * @param string $className</span>
<a name="l5018"><span class="linenum">5018</span></a>  <span class="comment">     *        the name of the class to set, must not be empty</span>
<a name="l5019"><span class="linenum">5019</span></a>  <span class="comment">     * @param object $instance</span>
<a name="l5020"><span class="linenum">5020</span></a>  <span class="comment">     *        the instance to set, must be an instance of $className</span>
<a name="l5021"><span class="linenum">5021</span></a>  <span class="comment">     * @return void</span>
<a name="l5022"><span class="linenum">5022</span></a>  <span class="comment">     */</span>
<a name="l5023"><span class="linenum">5023</span></a>  	public static function <a class="function" onClick="logFunction('addInstance')" href="../../_functions/addinstance.html" onMouseOver="funcPopup(event,'addinstance')">addInstance</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>) {
<a name="l5024"><span class="linenum">5024</span></a>          self::<a class="function" onClick="logFunction('checkInstanceClassName')" href="../../_functions/checkinstanceclassname.html" onMouseOver="funcPopup(event,'checkinstanceclassname')">checkInstanceClassName</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>);
<a name="l5025"><span class="linenum">5025</span></a>  
<a name="l5026"><span class="linenum">5026</span></a>          if (<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> instanceof t3lib_Singleton) {
<a name="l5027"><span class="linenum">5027</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(
<a name="l5028"><span class="linenum">5028</span></a>                  '<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> must not be an instance of t3lib_Singleton. ' .
<a name="l5029"><span class="linenum">5029</span></a>                      'For setting singletons, please use setSingletonInstance.',
<a name="l5030"><span class="linenum">5030</span></a>                  1288969325
<a name="l5031"><span class="linenum">5031</span></a>              );
<a name="l5032"><span class="linenum">5032</span></a>          }
<a name="l5033"><span class="linenum">5033</span></a>  
<a name="l5034"><span class="linenum">5034</span></a>          if (!isset(self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>])) {
<a name="l5035"><span class="linenum">5035</span></a>              self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>] = array();
<a name="l5036"><span class="linenum">5036</span></a>          }
<a name="l5037"><span class="linenum">5037</span></a>          self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a>[<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>][] = <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l5038"><span class="linenum">5038</span></a>      }
<a name="l5039"><span class="linenum">5039</span></a>  
<a name="l5040"><span class="linenum">5040</span></a>      <span class="comment">/**</span>
<a name="l5041"><span class="linenum">5041</span></a>  <span class="comment">     * Checks that $className is non-empty and that $instance is an instance of</span>
<a name="l5042"><span class="linenum">5042</span></a>  <span class="comment">     * $className.</span>
<a name="l5043"><span class="linenum">5043</span></a>  <span class="comment">     *</span>
<a name="l5044"><span class="linenum">5044</span></a>  <span class="comment">     * @throws InvalidArgumentException if $className is empty or if $instance is no instance of $className</span>
<a name="l5045"><span class="linenum">5045</span></a>  <span class="comment">     * @param string $className a class name</span>
<a name="l5046"><span class="linenum">5046</span></a>  <span class="comment">     * @param object $instance an object</span>
<a name="l5047"><span class="linenum">5047</span></a>  <span class="comment">     * @return void</span>
<a name="l5048"><span class="linenum">5048</span></a>  <span class="comment">     */</span>
<a name="l5049"><span class="linenum">5049</span></a>  	protected static function <a class="function" onClick="logFunction('checkInstanceClassName')" href="../../_functions/checkinstanceclassname.html" onMouseOver="funcPopup(event,'checkinstanceclassname')">checkInstanceClassName</a>(<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>) {
<a name="l5050"><span class="linenum">5050</span></a>          if (<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a> === '') {
<a name="l5051"><span class="linenum">5051</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>('<a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a> must not be empty.', 1288967479);
<a name="l5052"><span class="linenum">5052</span></a>          }
<a name="l5053"><span class="linenum">5053</span></a>          if (!(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> instanceof <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a>)) {
<a name="l5054"><span class="linenum">5054</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('InvalidArgumentException')" href="../../_classes/invalidargumentexception.html" onMouseOver="classPopup(event,'invalidargumentexception')">InvalidArgumentException</a>(
<a name="l5055"><span class="linenum">5055</span></a>                  '<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> must be an instance of ' . <a class="var it6269" onMouseOver="hilite(6269)" onMouseOut="lolite()" onClick="logVariable('className')" href="../../_variables/className.html">$className</a> . ', but actually is an instance of ' . <a class="phpfunction" onClick="logFunction('get_class')" href="../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>) . '.',
<a name="l5056"><span class="linenum">5056</span></a>                  1288967686
<a name="l5057"><span class="linenum">5057</span></a>              );
<a name="l5058"><span class="linenum">5058</span></a>          }
<a name="l5059"><span class="linenum">5059</span></a>      }
<a name="l5060"><span class="linenum">5060</span></a>  
<a name="l5061"><span class="linenum">5061</span></a>      <span class="comment">/**</span>
<a name="l5062"><span class="linenum">5062</span></a>  <span class="comment">     * Purge all instances returned by makeInstance.</span>
<a name="l5063"><span class="linenum">5063</span></a>  <span class="comment">     *</span>
<a name="l5064"><span class="linenum">5064</span></a>  <span class="comment">     * This function is most useful when called from tearDown in a test case</span>
<a name="l5065"><span class="linenum">5065</span></a>  <span class="comment">     * to drop any instances that have been created by the tests.</span>
<a name="l5066"><span class="linenum">5066</span></a>  <span class="comment">     *</span>
<a name="l5067"><span class="linenum">5067</span></a>  <span class="comment">     * Warning: This is a helper method for unit tests. Do not call this directly in production code!</span>
<a name="l5068"><span class="linenum">5068</span></a>  <span class="comment">     *</span>
<a name="l5069"><span class="linenum">5069</span></a>  <span class="comment">     * @see makeInstance</span>
<a name="l5070"><span class="linenum">5070</span></a>  <span class="comment">     * @return void</span>
<a name="l5071"><span class="linenum">5071</span></a>  <span class="comment">     */</span>
<a name="l5072"><span class="linenum">5072</span></a>  	public static function <a class="function" onClick="logFunction('purgeInstances')" href="../../_functions/purgeinstances.html" onMouseOver="funcPopup(event,'purgeinstances')">purgeInstances</a>() {
<a name="l5073"><span class="linenum">5073</span></a>          self::<a class="var it37706" onMouseOver="hilite(37706)" onMouseOut="lolite()" onClick="logVariable('singletonInstances')" href="../../_variables/singletonInstances.html">$singletonInstances</a> = array();
<a name="l5074"><span class="linenum">5074</span></a>          self::<a class="var it37707" onMouseOver="hilite(37707)" onMouseOut="lolite()" onClick="logVariable('nonSingletonInstances')" href="../../_variables/nonSingletonInstances.html">$nonSingletonInstances</a> = array();
<a name="l5075"><span class="linenum">5075</span></a>      }
<a name="l5076"><span class="linenum">5076</span></a>  
<a name="l5077"><span class="linenum">5077</span></a>      <span class="comment">/**</span>
<a name="l5078"><span class="linenum">5078</span></a>  <span class="comment">     * Find the best service and check if it works.</span>
<a name="l5079"><span class="linenum">5079</span></a>  <span class="comment">     * Returns object of the service class.</span>
<a name="l5080"><span class="linenum">5080</span></a>  <span class="comment">     *</span>
<a name="l5081"><span class="linenum">5081</span></a>  <span class="comment">     * @param string $serviceType Type of service (service key).</span>
<a name="l5082"><span class="linenum">5082</span></a>  <span class="comment">     * @param string $serviceSubType Sub type like file extensions or similar. Defined by the service.</span>
<a name="l5083"><span class="linenum">5083</span></a>  <span class="comment">     * @param mixed $excludeServiceKeys List of service keys which should be excluded in the search for a service. Array or comma list.</span>
<a name="l5084"><span class="linenum">5084</span></a>  <span class="comment">     * @return object The service object or an array with error info's.</span>
<a name="l5085"><span class="linenum">5085</span></a>  <span class="comment">     */</span>
<a name="l5086"><span class="linenum">5086</span></a>  	public static function <a class="function" onClick="logFunction('makeInstanceService')" href="../../_functions/makeinstanceservice.html" onMouseOver="funcPopup(event,'makeinstanceservice')">makeInstanceService</a>(<a class="var it37973" onMouseOver="hilite(37973)" onMouseOut="lolite()" onClick="logVariable('serviceType')" href="../../_variables/serviceType.html">$serviceType</a>, <a class="var it37974" onMouseOver="hilite(37974)" onMouseOut="lolite()" onClick="logVariable('serviceSubType')" href="../../_variables/serviceSubType.html">$serviceSubType</a> = '', <a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a> = array()) {
<a name="l5087"><span class="linenum">5087</span></a>          <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = FALSE;
<a name="l5088"><span class="linenum">5088</span></a>  
<a name="l5089"><span class="linenum">5089</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a>)) {
<a name="l5090"><span class="linenum">5090</span></a>              <a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a>, 1);
<a name="l5091"><span class="linenum">5091</span></a>          }
<a name="l5092"><span class="linenum">5092</span></a>  
<a name="l5093"><span class="linenum">5093</span></a>          <a class="var it37976" onMouseOver="hilite(37976)" onMouseOut="lolite()" onClick="logVariable('requestInfo')" href="../../_variables/requestInfo.html">$requestInfo</a> = array(
<a name="l5094"><span class="linenum">5094</span></a>              'requestedServiceType' =&gt; <a class="var it37973" onMouseOver="hilite(37973)" onMouseOut="lolite()" onClick="logVariable('serviceType')" href="../../_variables/serviceType.html">$serviceType</a>,
<a name="l5095"><span class="linenum">5095</span></a>              'requestedServiceSubType' =&gt; <a class="var it37974" onMouseOver="hilite(37974)" onMouseOut="lolite()" onClick="logVariable('serviceSubType')" href="../../_variables/serviceSubType.html">$serviceSubType</a>,
<a name="l5096"><span class="linenum">5096</span></a>              'requestedExcludeServiceKeys' =&gt; <a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a>,
<a name="l5097"><span class="linenum">5097</span></a>          );
<a name="l5098"><span class="linenum">5098</span></a>  
<a name="l5099"><span class="linenum">5099</span></a>          while (<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = t3lib_extMgm::findService(<a class="var it37973" onMouseOver="hilite(37973)" onMouseOut="lolite()" onClick="logVariable('serviceType')" href="../../_variables/serviceType.html">$serviceType</a>, <a class="var it37974" onMouseOver="hilite(37974)" onMouseOut="lolite()" onClick="logVariable('serviceSubType')" href="../../_variables/serviceSubType.html">$serviceSubType</a>, <a class="var it37975" onMouseOver="hilite(37975)" onMouseOut="lolite()" onClick="logVariable('excludeServiceKeys')" href="../../_variables/excludeServiceKeys.html">$excludeServiceKeys</a>)) {
<a name="l5100"><span class="linenum">5100</span></a>  
<a name="l5101"><span class="linenum">5101</span></a>  <span class="comment">                // provide information about requested service to service object</span>
<a name="l5102"><span class="linenum">5102</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>, <a class="var it37976" onMouseOver="hilite(37976)" onMouseOut="lolite()" onClick="logVariable('requestInfo')" href="../../_variables/requestInfo.html">$requestInfo</a>);
<a name="l5103"><span class="linenum">5103</span></a>  
<a name="l5104"><span class="linenum">5104</span></a>  <span class="comment">                // Check persistent object and if found, call directly and exit.</span>
<a name="l5105"><span class="linenum">5105</span></a>              if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['makeInstanceService'][<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']])) {
<a name="l5106"><span class="linenum">5106</span></a>  
<a name="l5107"><span class="linenum">5107</span></a>  <span class="comment">                    // update request info in persistent object</span>
<a name="l5108"><span class="linenum">5108</span></a>                  <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['makeInstanceService'][<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']]-&gt;info = <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l5109"><span class="linenum">5109</span></a>  
<a name="l5110"><span class="linenum">5110</span></a>  <span class="comment">                    // reset service and return object</span>
<a name="l5111"><span class="linenum">5111</span></a>                  <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['makeInstanceService'][<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']]-&gt;<a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>();
<a name="l5112"><span class="linenum">5112</span></a>                  return <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['makeInstanceService'][<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']];
<a name="l5113"><span class="linenum">5113</span></a>  
<a name="l5114"><span class="linenum">5114</span></a>  <span class="comment">                // include file and create object</span>
<a name="l5115"><span class="linenum">5115</span></a>              } else {
<a name="l5116"><span class="linenum">5116</span></a>                  <a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a> = self::<a class="function" onClick="logFunction('getFileAbsFileName')" href="../../_functions/getfileabsfilename.html" onMouseOver="funcPopup(event,'getfileabsfilename')">getFileAbsFileName</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['classFile']);
<a name="l5117"><span class="linenum">5117</span></a>                  if (@<a class="phpfunction" onClick="logFunction('is_file')" href="../../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>)) {
<a name="l5118"><span class="linenum">5118</span></a>                      self::<a class="function" onClick="logFunction('requireOnce')" href="../../_functions/requireonce.html" onMouseOver="funcPopup(event,'requireonce')">requireOnce</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>);
<a name="l5119"><span class="linenum">5119</span></a>                      <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a> = self::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']);
<a name="l5120"><span class="linenum">5120</span></a>                      if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>)) {
<a name="l5121"><span class="linenum">5121</span></a>                          if (!@<a class="phpfunction" onClick="logFunction('is_callable')" href="../../_functions/is_callable.html" onMouseOver="phpfuncPopup(event,'is_callable')">is_callable</a>(array(<a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>, 'init'))) {
<a name="l5122"><span class="linenum">5122</span></a>  <span class="comment">                                // use silent logging??? I don't think so.</span>
<a name="l5123"><span class="linenum">5123</span></a>                              die ('Broken service:' . t3lib_utility_Debug::<a class="function" onClick="logFunction('viewArray')" href="../../_functions/viewarray.html" onMouseOver="funcPopup(event,'viewarray')">viewArray</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>));
<a name="l5124"><span class="linenum">5124</span></a>                          }
<a name="l5125"><span class="linenum">5125</span></a>                          <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>-&gt;<a onClick="logVariable('info')" class="var it43038" onMouseOver="hilite(43038)" onMouseOut="lolite()" href="../../_variables/info.html">info</a> = <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l5126"><span class="linenum">5126</span></a>                          if (<a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>-&gt;<a class="function" onClick="logFunction('init')" href="../../_functions/init.html" onMouseOver="funcPopup(event,'init')">init</a>()) { // service available?
<a name="l5127"><span class="linenum">5127</span></a>  
<a name="l5128"><span class="linenum">5128</span></a>  <span class="comment">                                // create persistent object</span>
<a name="l5129"><span class="linenum">5129</span></a>                              <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['T3_VAR']['makeInstanceService'][<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['className']] = <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>;
<a name="l5130"><span class="linenum">5130</span></a>  
<a name="l5131"><span class="linenum">5131</span></a>  <span class="comment">                                // needed to delete temp files</span>
<a name="l5132"><span class="linenum">5132</span></a>                              <a class="phpfunction" onClick="logFunction('register_shutdown_function')" href="../../_functions/register_shutdown_function.html" onMouseOver="phpfuncPopup(event,'register_shutdown_function')">register_shutdown_function</a>(array(&amp;<a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>, '__destruct'));
<a name="l5133"><span class="linenum">5133</span></a>  
<a name="l5134"><span class="linenum">5134</span></a>                              return <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>; <span class="comment">// object is passed as reference by function definition</span>
<a name="l5135"><span class="linenum">5135</span></a>                          }
<a name="l5136"><span class="linenum">5136</span></a>                          <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>-&gt;getLastErrorArray();
<a name="l5137"><span class="linenum">5137</span></a>                          unset(<a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>);
<a name="l5138"><span class="linenum">5138</span></a>                      }
<a name="l5139"><span class="linenum">5139</span></a>                  }
<a name="l5140"><span class="linenum">5140</span></a>              }
<a name="l5141"><span class="linenum">5141</span></a>  <span class="comment">                // deactivate the service</span>
<a name="l5142"><span class="linenum">5142</span></a>              t3lib_extMgm::deactivateService(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['serviceType'], <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['serviceKey']);
<a name="l5143"><span class="linenum">5143</span></a>          }
<a name="l5144"><span class="linenum">5144</span></a>          return <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>;
<a name="l5145"><span class="linenum">5145</span></a>      }
<a name="l5146"><span class="linenum">5146</span></a>  
<a name="l5147"><span class="linenum">5147</span></a>      <span class="comment">/**</span>
<a name="l5148"><span class="linenum">5148</span></a>  <span class="comment">     * Require a class for TYPO3</span>
<a name="l5149"><span class="linenum">5149</span></a>  <span class="comment">     * Useful to require classes from inside other classes (not global scope). A limited set of global variables are available (see function)</span>
<a name="l5150"><span class="linenum">5150</span></a>  <span class="comment">     *</span>
<a name="l5151"><span class="linenum">5151</span></a>  <span class="comment">     * @param string $requireFile: Path of the file to be included</span>
<a name="l5152"><span class="linenum">5152</span></a>  <span class="comment">     * @return void</span>
<a name="l5153"><span class="linenum">5153</span></a>  <span class="comment">     */</span>
<a name="l5154"><span class="linenum">5154</span></a>  	public static function <a class="function" onClick="logFunction('requireOnce')" href="../../_functions/requireonce.html" onMouseOver="funcPopup(event,'requireonce')">requireOnce</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>) {
<a name="l5155"><span class="linenum">5155</span></a>  <span class="comment">            // Needed for require_once</span>
<a name="l5156"><span class="linenum">5156</span></a>          global <a class="var it37977" onMouseOver="hilite(37977)" onMouseOut="lolite()" onClick="logVariable('T3_SERVICES')" href="../../_variables/T3_SERVICES.html">$T3_SERVICES</a>, <a class="var it37978" onMouseOver="hilite(37978)" onMouseOut="lolite()" onClick="logVariable('T3_VAR')" href="../../_variables/T3_VAR.html">$T3_VAR</a>, <a class="var it37979" onMouseOver="hilite(37979)" onMouseOut="lolite()" onClick="logVariable('TYPO3_CONF_VARS')" href="../../_variables/TYPO3_CONF_VARS.html">$TYPO3_CONF_VARS</a>;
<a name="l5157"><span class="linenum">5157</span></a>  
<a name="l5158"><span class="linenum">5158</span></a>          require_once (<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>);
<a name="l5159"><span class="linenum">5159</span></a>      }
<a name="l5160"><span class="linenum">5160</span></a>  
<a name="l5161"><span class="linenum">5161</span></a>      <span class="comment">/**</span>
<a name="l5162"><span class="linenum">5162</span></a>  <span class="comment">     * Requires a class for TYPO3</span>
<a name="l5163"><span class="linenum">5163</span></a>  <span class="comment">     * Useful to require classes from inside other classes (not global scope).</span>
<a name="l5164"><span class="linenum">5164</span></a>  <span class="comment">     * A limited set of global variables are available (see function)</span>
<a name="l5165"><span class="linenum">5165</span></a>  <span class="comment">     *</span>
<a name="l5166"><span class="linenum">5166</span></a>  <span class="comment">     * @param string $requireFile: Path of the file to be included</span>
<a name="l5167"><span class="linenum">5167</span></a>  <span class="comment">     * @return void</span>
<a name="l5168"><span class="linenum">5168</span></a>  <span class="comment">     */</span>
<a name="l5169"><span class="linenum">5169</span></a>  	public static function <a class="function" onClick="logFunction('requireFile')" href="../../_functions/requirefile.html" onMouseOver="funcPopup(event,'requirefile')">requireFile</a>(<a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>) {
<a name="l5170"><span class="linenum">5170</span></a>  <span class="comment">            // Needed for require</span>
<a name="l5171"><span class="linenum">5171</span></a>          global <a class="var it37977" onMouseOver="hilite(37977)" onMouseOut="lolite()" onClick="logVariable('T3_SERVICES')" href="../../_variables/T3_SERVICES.html">$T3_SERVICES</a>, <a class="var it37978" onMouseOver="hilite(37978)" onMouseOut="lolite()" onClick="logVariable('T3_VAR')" href="../../_variables/T3_VAR.html">$T3_VAR</a>, <a class="var it37979" onMouseOver="hilite(37979)" onMouseOut="lolite()" onClick="logVariable('TYPO3_CONF_VARS')" href="../../_variables/TYPO3_CONF_VARS.html">$TYPO3_CONF_VARS</a>;
<a name="l5172"><span class="linenum">5172</span></a>          require <a class="var it37963" onMouseOver="hilite(37963)" onMouseOut="lolite()" onClick="logVariable('requireFile')" href="../../_variables/requireFile.html">$requireFile</a>;
<a name="l5173"><span class="linenum">5173</span></a>      }
<a name="l5174"><span class="linenum">5174</span></a>  
<a name="l5175"><span class="linenum">5175</span></a>      <span class="comment">/**</span>
<a name="l5176"><span class="linenum">5176</span></a>  <span class="comment">     * Simple substitute for the PHP function mail() which allows you to specify encoding and character set</span>
<a name="l5177"><span class="linenum">5177</span></a>  <span class="comment">     * The fifth parameter ($encoding) will allow you to specify 'base64' encryption for the output (set $encoding=base64)</span>
<a name="l5178"><span class="linenum">5178</span></a>  <span class="comment">     * Further the output has the charset set to UTF-8 by default.</span>
<a name="l5179"><span class="linenum">5179</span></a>  <span class="comment">     *</span>
<a name="l5180"><span class="linenum">5180</span></a>  <span class="comment">     * @param string $email Email address to send to. (see PHP function mail())</span>
<a name="l5181"><span class="linenum">5181</span></a>  <span class="comment">     * @param string $subject Subject line, non-encoded. (see PHP function mail())</span>
<a name="l5182"><span class="linenum">5182</span></a>  <span class="comment">     * @param string $message Message content, non-encoded. (see PHP function mail())</span>
<a name="l5183"><span class="linenum">5183</span></a>  <span class="comment">     * @param string $headers Headers, separated by LF</span>
<a name="l5184"><span class="linenum">5184</span></a>  <span class="comment">     * @param string $encoding Encoding type: &quot;base64&quot;, &quot;quoted-printable&quot;, &quot;8bit&quot;. Default value is &quot;quoted-printable&quot;.</span>
<a name="l5185"><span class="linenum">5185</span></a>  <span class="comment">     * @param string $charset Charset used in encoding-headers (only if $encoding is set to a valid value which produces such a header)</span>
<a name="l5186"><span class="linenum">5186</span></a>  <span class="comment">     * @param boolean $dontEncodeHeader If set, the header content will not be encoded.</span>
<a name="l5187"><span class="linenum">5187</span></a>  <span class="comment">     * @return boolean TRUE if mail was accepted for delivery, FALSE otherwise</span>
<a name="l5188"><span class="linenum">5188</span></a>  <span class="comment">     */</span>
<a name="l5189"><span class="linenum">5189</span></a>  	public static function <a class="function" onClick="logFunction('plainMailEncoded')" href="../../_functions/plainmailencoded.html" onMouseOver="funcPopup(event,'plainmailencoded')">plainMailEncoded</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>, <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a>, <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>, <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = '', <a class="var it479" onMouseOver="hilite(479)" onMouseOut="lolite()" onClick="logVariable('encoding')" href="../../_variables/encoding.html">$encoding</a> = 'quoted-printable', <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = '', <a class="var it37980" onMouseOver="hilite(37980)" onMouseOut="lolite()" onClick="logVariable('dontEncodeHeader')" href="../../_variables/dontEncodeHeader.html">$dontEncodeHeader</a> = FALSE) {
<a name="l5190"><span class="linenum">5190</span></a>          if (!<a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>) {
<a name="l5191"><span class="linenum">5191</span></a>              <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = 'utf-8';
<a name="l5192"><span class="linenum">5192</span></a>          }
<a name="l5193"><span class="linenum">5193</span></a>  
<a name="l5194"><span class="linenum">5194</span></a>          <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a> = self::<a class="function" onClick="logFunction('normalizeMailAddress')" href="../../_functions/normalizemailaddress.html" onMouseOver="funcPopup(event,'normalizemailaddress')">normalizeMailAddress</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>);
<a name="l5195"><span class="linenum">5195</span></a>          if (!<a class="var it37980" onMouseOver="hilite(37980)" onMouseOut="lolite()" onClick="logVariable('dontEncodeHeader')" href="../../_variables/dontEncodeHeader.html">$dontEncodeHeader</a>) {
<a name="l5196"><span class="linenum">5196</span></a>  <span class="comment">                // Mail headers must be ASCII, therefore we convert the whole header to either base64 or quoted_printable</span>
<a name="l5197"><span class="linenum">5197</span></a>              <a class="var it37981" onMouseOver="hilite(37981)" onMouseOut="lolite()" onClick="logVariable('newHeaders')" href="../../_variables/newHeaders.html">$newHeaders</a> = array();
<a name="l5198"><span class="linenum">5198</span></a>              foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(LF, <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>) as <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>) { // Split the header in lines and convert each line separately
<a name="l5199"><span class="linenum">5199</span></a>                  <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(': ', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, 2); <span class="comment">// Field tags must not be encoded</span>
<a name="l5200"><span class="linenum">5200</span></a>                  if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>) == 2) {
<a name="l5201"><span class="linenum">5201</span></a>                      if (0 == <a class="phpfunction" onClick="logFunction('strcasecmp')" href="../../_functions/strcasecmp.html" onMouseOver="phpfuncPopup(event,'strcasecmp')">strcasecmp</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[0], 'from')) {
<a name="l5202"><span class="linenum">5202</span></a>                          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1] = self::<a class="function" onClick="logFunction('normalizeMailAddress')" href="../../_functions/normalizemailaddress.html" onMouseOver="funcPopup(event,'normalizemailaddress')">normalizeMailAddress</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1]);
<a name="l5203"><span class="linenum">5203</span></a>                      }
<a name="l5204"><span class="linenum">5204</span></a>                      <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1] = self::<a class="function" onClick="logFunction('encodeHeader')" href="../../_functions/encodeheader.html" onMouseOver="funcPopup(event,'encodeheader')">encodeHeader</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>[1], <a class="var it479" onMouseOver="hilite(479)" onMouseOut="lolite()" onClick="logVariable('encoding')" href="../../_variables/encoding.html">$encoding</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l5205"><span class="linenum">5205</span></a>                      <a class="var it37981" onMouseOver="hilite(37981)" onMouseOut="lolite()" onClick="logVariable('newHeaders')" href="../../_variables/newHeaders.html">$newHeaders</a>[] = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(': ', <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>);
<a name="l5206"><span class="linenum">5206</span></a>                  } else {
<a name="l5207"><span class="linenum">5207</span></a>                      <a class="var it37981" onMouseOver="hilite(37981)" onMouseOut="lolite()" onClick="logVariable('newHeaders')" href="../../_variables/newHeaders.html">$newHeaders</a>[] = <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>; <span class="comment">// Should never happen - is such a mail header valid? Anyway, just add the unchanged line...</span>
<a name="l5208"><span class="linenum">5208</span></a>                  }
<a name="l5209"><span class="linenum">5209</span></a>              }
<a name="l5210"><span class="linenum">5210</span></a>              <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(LF, <a class="var it37981" onMouseOver="hilite(37981)" onMouseOut="lolite()" onClick="logVariable('newHeaders')" href="../../_variables/newHeaders.html">$newHeaders</a>);
<a name="l5211"><span class="linenum">5211</span></a>              unset(<a class="var it37981" onMouseOver="hilite(37981)" onMouseOut="lolite()" onClick="logVariable('newHeaders')" href="../../_variables/newHeaders.html">$newHeaders</a>);
<a name="l5212"><span class="linenum">5212</span></a>  
<a name="l5213"><span class="linenum">5213</span></a>              <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a> = self::<a class="function" onClick="logFunction('encodeHeader')" href="../../_functions/encodeheader.html" onMouseOver="funcPopup(event,'encodeheader')">encodeHeader</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>, <a class="var it479" onMouseOver="hilite(479)" onMouseOut="lolite()" onClick="logVariable('encoding')" href="../../_variables/encoding.html">$encoding</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>); <span class="comment">// Email address must not be encoded, but it could be appended by a name which should be so (e.g. &quot;Kasper Skårhøj &lt;kasperYYYY@typo3.com&gt;&quot;)</span>
<a name="l5214"><span class="linenum">5214</span></a>              <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a> = self::<a class="function" onClick="logFunction('encodeHeader')" href="../../_functions/encodeheader.html" onMouseOver="funcPopup(event,'encodeheader')">encodeHeader</a>(<a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a>, <a class="var it479" onMouseOver="hilite(479)" onMouseOut="lolite()" onClick="logVariable('encoding')" href="../../_variables/encoding.html">$encoding</a>, <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a>);
<a name="l5215"><span class="linenum">5215</span></a>          }
<a name="l5216"><span class="linenum">5216</span></a>  
<a name="l5217"><span class="linenum">5217</span></a>          switch ((string) <a class="var it479" onMouseOver="hilite(479)" onMouseOut="lolite()" onClick="logVariable('encoding')" href="../../_variables/encoding.html">$encoding</a>) {
<a name="l5218"><span class="linenum">5218</span></a>              case 'base64':
<a name="l5219"><span class="linenum">5219</span></a>                  <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>) . LF .
<a name="l5220"><span class="linenum">5220</span></a>                          'Mime-Version: 1.0' . LF .
<a name="l5221"><span class="linenum">5221</span></a>                          'Content-Type: text/plain; charset=&quot;' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '&quot;' . LF .
<a name="l5222"><span class="linenum">5222</span></a>                          'Content-Transfer-Encoding: base64';
<a name="l5223"><span class="linenum">5223</span></a>  
<a name="l5224"><span class="linenum">5224</span></a>                  <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('chunk_split')" href="../../_functions/chunk_split.html" onMouseOver="phpfuncPopup(event,'chunk_split')">chunk_split</a>(<a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> . LF))) . LF; <span class="comment">// Adding LF because I think MS outlook 2002 wants it... may be removed later again.</span>
<a name="l5225"><span class="linenum">5225</span></a>                  break;
<a name="l5226"><span class="linenum">5226</span></a>              case '8bit':
<a name="l5227"><span class="linenum">5227</span></a>                  <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>) . LF .
<a name="l5228"><span class="linenum">5228</span></a>                          'Mime-Version: 1.0' . LF .
<a name="l5229"><span class="linenum">5229</span></a>                          'Content-Type: text/plain; charset=' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . LF .
<a name="l5230"><span class="linenum">5230</span></a>                          'Content-Transfer-Encoding: 8bit';
<a name="l5231"><span class="linenum">5231</span></a>                  break;
<a name="l5232"><span class="linenum">5232</span></a>              case 'quoted-printable':
<a name="l5233"><span class="linenum">5233</span></a>              default:
<a name="l5234"><span class="linenum">5234</span></a>                  <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>) . LF .
<a name="l5235"><span class="linenum">5235</span></a>                          'Mime-Version: 1.0' . LF .
<a name="l5236"><span class="linenum">5236</span></a>                          'Content-Type: text/plain; charset=' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . LF .
<a name="l5237"><span class="linenum">5237</span></a>                          'Content-Transfer-Encoding: quoted-printable';
<a name="l5238"><span class="linenum">5238</span></a>  
<a name="l5239"><span class="linenum">5239</span></a>                  <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = self::<a class="function" onClick="logFunction('quoted_printable')" href="../../_functions/quoted_printable.html" onMouseOver="funcPopup(event,'quoted_printable')">quoted_printable</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>);
<a name="l5240"><span class="linenum">5240</span></a>                  break;
<a name="l5241"><span class="linenum">5241</span></a>          }
<a name="l5242"><span class="linenum">5242</span></a>  
<a name="l5243"><span class="linenum">5243</span></a>  <span class="comment">            // Headers must be separated by CRLF according to RFC 2822, not just LF.</span>
<a name="l5244"><span class="linenum">5244</span></a>  <span class="comment">            // But many servers (Gmail, for example) behave incorrectly and want only LF.</span>
<a name="l5245"><span class="linenum">5245</span></a>  <span class="comment">            // So we stick to LF in all cases.</span>
<a name="l5246"><span class="linenum">5246</span></a>          <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(LF, self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(LF, <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>, TRUE))); <span class="comment">// Make sure no empty lines are there.</span>
<a name="l5247"><span class="linenum">5247</span></a>  
<a name="l5248"><span class="linenum">5248</span></a>          return t3lib_utility_Mail::<a class="phpfunction" onClick="logFunction('mail')" href="../../_functions/mail.html" onMouseOver="phpfuncPopup(event,'mail')">mail</a>(<a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('email')" href="../../_variables/email.html">$email</a>, <a class="var it1792" onMouseOver="hilite(1792)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../../_variables/subject.html">$subject</a>, <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>, <a class="var it1021" onMouseOver="hilite(1021)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../_variables/headers.html">$headers</a>);
<a name="l5249"><span class="linenum">5249</span></a>      }
<a name="l5250"><span class="linenum">5250</span></a>  
<a name="l5251"><span class="linenum">5251</span></a>      <span class="comment">/**</span>
<a name="l5252"><span class="linenum">5252</span></a>  <span class="comment">     * Implementation of quoted-printable encode.</span>
<a name="l5253"><span class="linenum">5253</span></a>  <span class="comment">     * See RFC 1521, section 5.1 Quoted-Printable Content-Transfer-Encoding</span>
<a name="l5254"><span class="linenum">5254</span></a>  <span class="comment">     *</span>
<a name="l5255"><span class="linenum">5255</span></a>  <span class="comment">     * @param string $string Content to encode</span>
<a name="l5256"><span class="linenum">5256</span></a>  <span class="comment">     * @param integer $maxlen Length of the lines, default is 76</span>
<a name="l5257"><span class="linenum">5257</span></a>  <span class="comment">     * @return string The QP encoded string</span>
<a name="l5258"><span class="linenum">5258</span></a>  <span class="comment">     */</span>
<a name="l5259"><span class="linenum">5259</span></a>  	public static function <a class="function" onClick="logFunction('quoted_printable')" href="../../_functions/quoted_printable.html" onMouseOver="funcPopup(event,'quoted_printable')">quoted_printable</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>, <a class="var it14056" onMouseOver="hilite(14056)" onMouseOut="lolite()" onClick="logVariable('maxlen')" href="../../_variables/maxlen.html">$maxlen</a> = 76) {
<a name="l5260"><span class="linenum">5260</span></a>  <span class="comment">            // Make sure the string contains only Unix line breaks</span>
<a name="l5261"><span class="linenum">5261</span></a>          <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>, LF, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>); <span class="comment">// Replace Windows breaks (\r\n)</span>
<a name="l5262"><span class="linenum">5262</span></a>          <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(CR, LF, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>); <span class="comment">// Replace Mac breaks (\r)</span>
<a name="l5263"><span class="linenum">5263</span></a>  
<a name="l5264"><span class="linenum">5264</span></a>          <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a> = LF; <span class="comment">// Default line break for Unix systems.</span>
<a name="l5265"><span class="linenum">5265</span></a>          if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> == 'WIN') {
<a name="l5266"><span class="linenum">5266</span></a>              <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a> = <a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>; <span class="comment">// Line break for Windows. This is needed because PHP on Windows systems send mails via SMTP instead of using sendmail, and thus the line break needs to be \r\n.</span>
<a name="l5267"><span class="linenum">5267</span></a>          }
<a name="l5268"><span class="linenum">5268</span></a>  
<a name="l5269"><span class="linenum">5269</span></a>          <a class="var it10110" onMouseOver="hilite(10110)" onMouseOut="lolite()" onClick="logVariable('newString')" href="../../_variables/newString.html">$newString</a> = '';
<a name="l5270"><span class="linenum">5270</span></a>          <a class="var it37982" onMouseOver="hilite(37982)" onMouseOut="lolite()" onClick="logVariable('theLines')" href="../../_variables/theLines.html">$theLines</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(LF, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../../_variables/string.html">$string</a>); <span class="comment">// Split lines</span>
<a name="l5271"><span class="linenum">5271</span></a>          foreach (<a class="var it37982" onMouseOver="hilite(37982)" onMouseOut="lolite()" onClick="logVariable('theLines')" href="../../_variables/theLines.html">$theLines</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l5272"><span class="linenum">5272</span></a>              <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> = '';
<a name="l5273"><span class="linenum">5273</span></a>              <a class="var it37984" onMouseOver="hilite(37984)" onMouseOut="lolite()" onClick="logVariable('theValLen')" href="../../_variables/theValLen.html">$theValLen</a> = <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l5274"><span class="linenum">5274</span></a>              <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = 0;
<a name="l5275"><span class="linenum">5275</span></a>              for (<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> = 0; <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> &lt; <a class="var it37984" onMouseOver="hilite(37984)" onMouseOut="lolite()" onClick="logVariable('theValLen')" href="../../_variables/theValLen.html">$theValLen</a>; <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>++) { // Walk through each character of this line
<a name="l5276"><span class="linenum">5276</span></a>                  <a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>, <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>, 1);
<a name="l5277"><span class="linenum">5277</span></a>                  <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>);
<a name="l5278"><span class="linenum">5278</span></a>                  if (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &gt; (<a class="var it14056" onMouseOver="hilite(14056)" onMouseOut="lolite()" onClick="logVariable('maxlen')" href="../../_variables/maxlen.html">$maxlen</a> - 4) || (<a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> &gt; (<a class="var it14056" onMouseOver="hilite(14056)" onMouseOut="lolite()" onClick="logVariable('maxlen')" href="../../_variables/maxlen.html">$maxlen</a> - 14) &amp;&amp; <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> == 32)) {
<a name="l5279"><span class="linenum">5279</span></a>                      <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> .= '=' . <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a>; <span class="comment">// Add a line break</span>
<a name="l5280"><span class="linenum">5280</span></a>                      <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> = 0; <span class="comment">// Reset the length counter</span>
<a name="l5281"><span class="linenum">5281</span></a>                  }
<a name="l5282"><span class="linenum">5282</span></a>                  if ((<a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> &gt;= 33 &amp;&amp; <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> &lt;= 60) || (<a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> &gt;= 62 &amp;&amp; <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> &lt;= 126) || <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> == 9 || <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a> == 32) {
<a name="l5283"><span class="linenum">5283</span></a>                      <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> .= <a class="var it476" onMouseOver="hilite(476)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../_variables/char.html">$char</a>; <span class="comment">// This character is ok, add it to the message</span>
<a name="l5284"><span class="linenum">5284</span></a>                      <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a>++;
<a name="l5285"><span class="linenum">5285</span></a>                  } else {
<a name="l5286"><span class="linenum">5286</span></a>                      <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> .= sprintf('=%02X', <a class="var it37985" onMouseOver="hilite(37985)" onMouseOut="lolite()" onClick="logVariable('ordVal')" href="../../_variables/ordVal.html">$ordVal</a>); <span class="comment">// Special character, needs to be encoded</span>
<a name="l5287"><span class="linenum">5287</span></a>                      <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('len')" href="../../_variables/len.html">$len</a> += 3;
<a name="l5288"><span class="linenum">5288</span></a>                  }
<a name="l5289"><span class="linenum">5289</span></a>              }
<a name="l5290"><span class="linenum">5290</span></a>              <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/' . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(32) . '$/', '=20', <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a>); <span class="comment">// Replaces a possible SPACE-character at the end of a line</span>
<a name="l5291"><span class="linenum">5291</span></a>              <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/' . <a class="constant" onClick="logConstant('TAB')" href="../../_constants/TAB.html" onMouseOver="constPopup(event,'TAB')">TAB</a> . '$/', '=09', <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a>); <span class="comment">// Replaces a possible TAB-character at the end of a line</span>
<a name="l5292"><span class="linenum">5292</span></a>              <a class="var it10110" onMouseOver="hilite(10110)" onMouseOut="lolite()" onClick="logVariable('newString')" href="../../_variables/newString.html">$newString</a> .= <a class="var it37983" onMouseOver="hilite(37983)" onMouseOut="lolite()" onClick="logVariable('newVal')" href="../../_variables/newVal.html">$newVal</a> . <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a>;
<a name="l5293"><span class="linenum">5293</span></a>          }
<a name="l5294"><span class="linenum">5294</span></a>          return <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/' . <a class="var it17084" onMouseOver="hilite(17084)" onMouseOut="lolite()" onClick="logVariable('linebreak')" href="../../_variables/linebreak.html">$linebreak</a> . '$/', '', <a class="var it10110" onMouseOver="hilite(10110)" onMouseOut="lolite()" onClick="logVariable('newString')" href="../../_variables/newString.html">$newString</a>); <span class="comment">// Remove last newline</span>
<a name="l5295"><span class="linenum">5295</span></a>      }
<a name="l5296"><span class="linenum">5296</span></a>  
<a name="l5297"><span class="linenum">5297</span></a>      <span class="comment">/**</span>
<a name="l5298"><span class="linenum">5298</span></a>  <span class="comment">     * Encode header lines</span>
<a name="l5299"><span class="linenum">5299</span></a>  <span class="comment">     * Email headers must be ASCII, therefore they will be encoded to quoted_printable (default) or base64.</span>
<a name="l5300"><span class="linenum">5300</span></a>  <span class="comment">     *</span>
<a name="l5301"><span class="linenum">5301</span></a>  <span class="comment">     * @param string $line Content to encode</span>
<a name="l5302"><span class="linenum">5302</span></a>  <span class="comment">     * @param string $enc Encoding type: &quot;base64&quot; or &quot;quoted-printable&quot;. Default value is &quot;quoted-printable&quot;.</span>
<a name="l5303"><span class="linenum">5303</span></a>  <span class="comment">     * @param string $charset Charset used for encoding</span>
<a name="l5304"><span class="linenum">5304</span></a>  <span class="comment">     * @return string The encoded string</span>
<a name="l5305"><span class="linenum">5305</span></a>  <span class="comment">     */</span>
<a name="l5306"><span class="linenum">5306</span></a>  	public static function <a class="function" onClick="logFunction('encodeHeader')" href="../../_functions/encodeheader.html" onMouseOver="funcPopup(event,'encodeheader')">encodeHeader</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, <a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a> = 'quoted-printable', <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> = 'utf-8') {
<a name="l5307"><span class="linenum">5307</span></a>  <span class="comment">            // Avoid problems if &quot;###&quot; is found in $line (would conflict with the placeholder which is used below)</span>
<a name="l5308"><span class="linenum">5308</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, '###') !== FALSE) {
<a name="l5309"><span class="linenum">5309</span></a>              return <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l5310"><span class="linenum">5310</span></a>          }
<a name="l5311"><span class="linenum">5311</span></a>  <span class="comment">            // Check if any non-ASCII characters are found - otherwise encoding is not needed</span>
<a name="l5312"><span class="linenum">5312</span></a>          if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/[^' . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(32) . '-' . <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(127) . ']/', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>)) {
<a name="l5313"><span class="linenum">5313</span></a>              return <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l5314"><span class="linenum">5314</span></a>          }
<a name="l5315"><span class="linenum">5315</span></a>  <span class="comment">            // Wrap email addresses in a special marker</span>
<a name="l5316"><span class="linenum">5316</span></a>          <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/([^ ]+@[^ ]+)/', '###<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>###', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>);
<a name="l5317"><span class="linenum">5317</span></a>  
<a name="l5318"><span class="linenum">5318</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a> = <a class="phpfunction" onClick="logFunction('preg_split')" href="../../_functions/preg_split.html" onMouseOver="phpfuncPopup(event,'preg_split')">preg_split</a>('/(.?###.+###.?|\(|\))/', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, -1, PREG_SPLIT_NO_EMPTY);
<a name="l5319"><span class="linenum">5319</span></a>          foreach (<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a> as <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>) {
<a name="l5320"><span class="linenum">5320</span></a>              <a class="var it37986" onMouseOver="hilite(37986)" onMouseOut="lolite()" onClick="logVariable('oldPart')" href="../../_variables/oldPart.html">$oldPart</a> = <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>;
<a name="l5321"><span class="linenum">5321</span></a>              <a class="var it37987" onMouseOver="hilite(37987)" onMouseOut="lolite()" onClick="logVariable('partWasQuoted')" href="../../_variables/partWasQuoted.html">$partWasQuoted</a> = (<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>{0} == '&quot;');
<a name="l5322"><span class="linenum">5322</span></a>              <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>, '&quot;');
<a name="l5323"><span class="linenum">5323</span></a>              switch ((string) <a class="var it739" onMouseOver="hilite(739)" onMouseOut="lolite()" onClick="logVariable('enc')" href="../../_variables/enc.html">$enc</a>) {
<a name="l5324"><span class="linenum">5324</span></a>                  case 'base64':
<a name="l5325"><span class="linenum">5325</span></a>                      <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> = '=?' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '?B?' . <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>) . '?=';
<a name="l5326"><span class="linenum">5326</span></a>                      break;
<a name="l5327"><span class="linenum">5327</span></a>                  case 'quoted-printable':
<a name="l5328"><span class="linenum">5328</span></a>                  default:
<a name="l5329"><span class="linenum">5329</span></a>                      <a class="var it37988" onMouseOver="hilite(37988)" onMouseOut="lolite()" onClick="logVariable('qpValue')" href="../../_variables/qpValue.html">$qpValue</a> = self::<a class="function" onClick="logFunction('quoted_printable')" href="../../_functions/quoted_printable.html" onMouseOver="funcPopup(event,'quoted_printable')">quoted_printable</a>(<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>, 1000);
<a name="l5330"><span class="linenum">5330</span></a>                      if (<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> != <a class="var it37988" onMouseOver="hilite(37988)" onMouseOut="lolite()" onClick="logVariable('qpValue')" href="../../_variables/qpValue.html">$qpValue</a>) {
<a name="l5331"><span class="linenum">5331</span></a>  <span class="comment">                            // Encoded words in the header should not contain non-encoded:</span>
<a name="l5332"><span class="linenum">5332</span></a>  <span class="comment">                            // * spaces. &quot;_&quot; is a shortcut for &quot;=20&quot;. See RFC 2047 for details.</span>
<a name="l5333"><span class="linenum">5333</span></a>  <span class="comment">                            // * question mark. See RFC 1342 (http://tools.ietf.org/html/rfc1342)</span>
<a name="l5334"><span class="linenum">5334</span></a>                          <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a> = array(' ', '?');
<a name="l5335"><span class="linenum">5335</span></a>                          <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a> = array('_', '=3F');
<a name="l5336"><span class="linenum">5336</span></a>                          <a class="var it37988" onMouseOver="hilite(37988)" onMouseOut="lolite()" onClick="logVariable('qpValue')" href="../../_variables/qpValue.html">$qpValue</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>, <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>, <a class="var it37988" onMouseOver="hilite(37988)" onMouseOut="lolite()" onClick="logVariable('qpValue')" href="../../_variables/qpValue.html">$qpValue</a>);
<a name="l5337"><span class="linenum">5337</span></a>                          <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> = '=?' . <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('charset')" href="../../_variables/charset.html">$charset</a> . '?Q?' . <a class="var it37988" onMouseOver="hilite(37988)" onMouseOut="lolite()" onClick="logVariable('qpValue')" href="../../_variables/qpValue.html">$qpValue</a> . '?=';
<a name="l5338"><span class="linenum">5338</span></a>                      }
<a name="l5339"><span class="linenum">5339</span></a>                      break;
<a name="l5340"><span class="linenum">5340</span></a>              }
<a name="l5341"><span class="linenum">5341</span></a>              if (<a class="var it37987" onMouseOver="hilite(37987)" onMouseOut="lolite()" onClick="logVariable('partWasQuoted')" href="../../_variables/partWasQuoted.html">$partWasQuoted</a>) {
<a name="l5342"><span class="linenum">5342</span></a>                  <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> = '&quot;' . <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> . '&quot;';
<a name="l5343"><span class="linenum">5343</span></a>              }
<a name="l5344"><span class="linenum">5344</span></a>              <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it37986" onMouseOver="hilite(37986)" onMouseOut="lolite()" onClick="logVariable('oldPart')" href="../../_variables/oldPart.html">$oldPart</a>, <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>, <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>);
<a name="l5345"><span class="linenum">5345</span></a>          }
<a name="l5346"><span class="linenum">5346</span></a>          <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/###(.+?)###/', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>); <span class="comment">// Remove the wrappers</span>
<a name="l5347"><span class="linenum">5347</span></a>  
<a name="l5348"><span class="linenum">5348</span></a>          return <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l5349"><span class="linenum">5349</span></a>      }
<a name="l5350"><span class="linenum">5350</span></a>  
<a name="l5351"><span class="linenum">5351</span></a>      <span class="comment">/**</span>
<a name="l5352"><span class="linenum">5352</span></a>  <span class="comment">     * Takes a clear-text message body for a plain text email, finds all 'http://' links and if they are longer than 76 chars they are converted to a shorter URL with a hash parameter. The real parameter is stored in the database and the hash-parameter/URL will be redirected to the real parameter when the link is clicked.</span>
<a name="l5353"><span class="linenum">5353</span></a>  <span class="comment">     * This function is about preserving long links in messages.</span>
<a name="l5354"><span class="linenum">5354</span></a>  <span class="comment">     *</span>
<a name="l5355"><span class="linenum">5355</span></a>  <span class="comment">     * @param string $message Message content</span>
<a name="l5356"><span class="linenum">5356</span></a>  <span class="comment">     * @param string $urlmode URL mode; &quot;76&quot; or &quot;all&quot;</span>
<a name="l5357"><span class="linenum">5357</span></a>  <span class="comment">     * @param string $index_script_url URL of index script (see makeRedirectUrl())</span>
<a name="l5358"><span class="linenum">5358</span></a>  <span class="comment">     * @return string Processed message content</span>
<a name="l5359"><span class="linenum">5359</span></a>  <span class="comment">     * @see makeRedirectUrl()</span>
<a name="l5360"><span class="linenum">5360</span></a>  <span class="comment">     */</span>
<a name="l5361"><span class="linenum">5361</span></a>  	public static function <a class="function" onClick="logFunction('substUrlsInPlainText')" href="../../_functions/substurlsinplaintext.html" onMouseOver="funcPopup(event,'substurlsinplaintext')">substUrlsInPlainText</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>, <a class="var it37989" onMouseOver="hilite(37989)" onMouseOut="lolite()" onClick="logVariable('urlmode')" href="../../_variables/urlmode.html">$urlmode</a> = '76', <a class="var it37990" onMouseOver="hilite(37990)" onMouseOut="lolite()" onClick="logVariable('index_script_url')" href="../../_variables/index_script_url.html">$index_script_url</a> = '') {
<a name="l5362"><span class="linenum">5362</span></a>          <a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> = FALSE;
<a name="l5363"><span class="linenum">5363</span></a>  
<a name="l5364"><span class="linenum">5364</span></a>          switch ((string) <a class="var it37989" onMouseOver="hilite(37989)" onMouseOut="lolite()" onClick="logVariable('urlmode')" href="../../_variables/urlmode.html">$urlmode</a>) {
<a name="l5365"><span class="linenum">5365</span></a>              case '':
<a name="l5366"><span class="linenum">5366</span></a>                  <a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> = FALSE;
<a name="l5367"><span class="linenum">5367</span></a>                  break;
<a name="l5368"><span class="linenum">5368</span></a>              case 'all':
<a name="l5369"><span class="linenum">5369</span></a>                  <a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> = 0;
<a name="l5370"><span class="linenum">5370</span></a>                  break;
<a name="l5371"><span class="linenum">5371</span></a>              case '76':
<a name="l5372"><span class="linenum">5372</span></a>              default:
<a name="l5373"><span class="linenum">5373</span></a>                  <a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> = (int) <a class="var it37989" onMouseOver="hilite(37989)" onMouseOut="lolite()" onClick="logVariable('urlmode')" href="../../_variables/urlmode.html">$urlmode</a>;
<a name="l5374"><span class="linenum">5374</span></a>          }
<a name="l5375"><span class="linenum">5375</span></a>  
<a name="l5376"><span class="linenum">5376</span></a>          if (<a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> === FALSE) {
<a name="l5377"><span class="linenum">5377</span></a>  <span class="comment">                // no processing</span>
<a name="l5378"><span class="linenum">5378</span></a>              <a class="var it37992" onMouseOver="hilite(37992)" onMouseOut="lolite()" onClick="logVariable('messageSubstituted')" href="../../_variables/messageSubstituted.html">$messageSubstituted</a> = <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>;
<a name="l5379"><span class="linenum">5379</span></a>          } else {
<a name="l5380"><span class="linenum">5380</span></a>              <a class="var it37992" onMouseOver="hilite(37992)" onMouseOut="lolite()" onClick="logVariable('messageSubstituted')" href="../../_variables/messageSubstituted.html">$messageSubstituted</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(
<a name="l5381"><span class="linenum">5381</span></a>                  '/(http|https):\/\/.+(?=[\]\.\?]*([\! \'&quot;()&lt;&gt;]+|$))/eiU',
<a name="l5382"><span class="linenum">5382</span></a>                  'self::<a class="function" onClick="logFunction('makeRedirectUrl')" href="../../_functions/makeredirecturl.html" onMouseOver="funcPopup(event,'makeredirecturl')">makeRedirectUrl</a>(&quot;\\0&quot;,' . <a class="var it37991" onMouseOver="hilite(37991)" onMouseOut="lolite()" onClick="logVariable('lengthLimit')" href="../../_variables/lengthLimit.html">$lengthLimit</a> . ',&quot;' . <a class="var it37990" onMouseOver="hilite(37990)" onMouseOut="lolite()" onClick="logVariable('index_script_url')" href="../../_variables/index_script_url.html">$index_script_url</a> . '&quot;)',
<a name="l5383"><span class="linenum">5383</span></a>                  <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>
<a name="l5384"><span class="linenum">5384</span></a>              );
<a name="l5385"><span class="linenum">5385</span></a>          }
<a name="l5386"><span class="linenum">5386</span></a>  
<a name="l5387"><span class="linenum">5387</span></a>          return <a class="var it37992" onMouseOver="hilite(37992)" onMouseOut="lolite()" onClick="logVariable('messageSubstituted')" href="../../_variables/messageSubstituted.html">$messageSubstituted</a>;
<a name="l5388"><span class="linenum">5388</span></a>      }
<a name="l5389"><span class="linenum">5389</span></a>  
<a name="l5390"><span class="linenum">5390</span></a>      <span class="comment">/**</span>
<a name="l5391"><span class="linenum">5391</span></a>  <span class="comment">     * Sub-function for substUrlsInPlainText() above.</span>
<a name="l5392"><span class="linenum">5392</span></a>  <span class="comment">     *</span>
<a name="l5393"><span class="linenum">5393</span></a>  <span class="comment">     * @param string $inUrl Input URL</span>
<a name="l5394"><span class="linenum">5394</span></a>  <span class="comment">     * @param integer $l URL string length limit</span>
<a name="l5395"><span class="linenum">5395</span></a>  <span class="comment">     * @param string $index_script_url URL of &quot;index script&quot; - the prefix of the &quot;?RDCT=...&quot; parameter. If not supplied it will default to t3lib_div::getIndpEnv('TYPO3_REQUEST_DIR').'index.php'</span>
<a name="l5396"><span class="linenum">5396</span></a>  <span class="comment">     * @return string Processed URL</span>
<a name="l5397"><span class="linenum">5397</span></a>  <span class="comment">     */</span>
<a name="l5398"><span class="linenum">5398</span></a>  	public static function <a class="function" onClick="logFunction('makeRedirectUrl')" href="../../_functions/makeredirecturl.html" onMouseOver="funcPopup(event,'makeredirecturl')">makeRedirectUrl</a>(<a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a>, <a class="var it1058" onMouseOver="hilite(1058)" onMouseOut="lolite()" onClick="logVariable('l')" href="../../_variables/l.html">$l</a> = 0, <a class="var it37990" onMouseOver="hilite(37990)" onMouseOut="lolite()" onClick="logVariable('index_script_url')" href="../../_variables/index_script_url.html">$index_script_url</a> = '') {
<a name="l5399"><span class="linenum">5399</span></a>          if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a>) &gt; <a class="var it1058" onMouseOver="hilite(1058)" onMouseOut="lolite()" onClick="logVariable('l')" href="../../_variables/l.html">$l</a>) {
<a name="l5400"><span class="linenum">5400</span></a>              <a class="var it3167" onMouseOver="hilite(3167)" onMouseOut="lolite()" onClick="logVariable('md5')" href="../../_variables/md5.html">$md5</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(md5(<a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a>), 0, 20);
<a name="l5401"><span class="linenum">5401</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_DB']-&gt;exec_SELECTcountRows(
<a name="l5402"><span class="linenum">5402</span></a>                  '*',
<a name="l5403"><span class="linenum">5403</span></a>                  'cache_md5params',
<a name="l5404"><span class="linenum">5404</span></a>                      'md5hash=' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_DB']-&gt;fullQuoteStr(<a class="var it3167" onMouseOver="hilite(3167)" onMouseOut="lolite()" onClick="logVariable('md5')" href="../../_variables/md5.html">$md5</a>, 'cache_md5params')
<a name="l5405"><span class="linenum">5405</span></a>              );
<a name="l5406"><span class="linenum">5406</span></a>              if (!<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l5407"><span class="linenum">5407</span></a>                  <a class="var it37994" onMouseOver="hilite(37994)" onMouseOut="lolite()" onClick="logVariable('insertFields')" href="../../_variables/insertFields.html">$insertFields</a> = array(
<a name="l5408"><span class="linenum">5408</span></a>                      'md5hash' =&gt; <a class="var it3167" onMouseOver="hilite(3167)" onMouseOut="lolite()" onClick="logVariable('md5')" href="../../_variables/md5.html">$md5</a>,
<a name="l5409"><span class="linenum">5409</span></a>                      'tstamp' =&gt; <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['EXEC_TIME'],
<a name="l5410"><span class="linenum">5410</span></a>                      'type' =&gt; 2,
<a name="l5411"><span class="linenum">5411</span></a>                      'params' =&gt; <a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a>
<a name="l5412"><span class="linenum">5412</span></a>                  );
<a name="l5413"><span class="linenum">5413</span></a>  
<a name="l5414"><span class="linenum">5414</span></a>                  <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_DB']-&gt;exec_INSERTquery('cache_md5params', <a class="var it37994" onMouseOver="hilite(37994)" onMouseOut="lolite()" onClick="logVariable('insertFields')" href="../../_variables/insertFields.html">$insertFields</a>);
<a name="l5415"><span class="linenum">5415</span></a>              }
<a name="l5416"><span class="linenum">5416</span></a>              <a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a> = (<a class="var it37990" onMouseOver="hilite(37990)" onMouseOut="lolite()" onClick="logVariable('index_script_url')" href="../../_variables/index_script_url.html">$index_script_url</a> ? <a class="var it37990" onMouseOver="hilite(37990)" onMouseOut="lolite()" onClick="logVariable('index_script_url')" href="../../_variables/index_script_url.html">$index_script_url</a> : self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_REQUEST_DIR') . '<a class="filename" href="../../index.php.html">index.php</a>') .
<a name="l5417"><span class="linenum">5417</span></a>                      '?RDCT=' . <a class="var it3167" onMouseOver="hilite(3167)" onMouseOut="lolite()" onClick="logVariable('md5')" href="../../_variables/md5.html">$md5</a>;
<a name="l5418"><span class="linenum">5418</span></a>          }
<a name="l5419"><span class="linenum">5419</span></a>  
<a name="l5420"><span class="linenum">5420</span></a>          return <a class="var it37993" onMouseOver="hilite(37993)" onMouseOut="lolite()" onClick="logVariable('inUrl')" href="../../_variables/inUrl.html">$inUrl</a>;
<a name="l5421"><span class="linenum">5421</span></a>      }
<a name="l5422"><span class="linenum">5422</span></a>  
<a name="l5423"><span class="linenum">5423</span></a>      <span class="comment">/**</span>
<a name="l5424"><span class="linenum">5424</span></a>  <span class="comment">     * Function to compensate for FreeType2 96 dpi</span>
<a name="l5425"><span class="linenum">5425</span></a>  <span class="comment">     *</span>
<a name="l5426"><span class="linenum">5426</span></a>  <span class="comment">     * @param integer $font_size Fontsize for freetype function call</span>
<a name="l5427"><span class="linenum">5427</span></a>  <span class="comment">     * @return integer Compensated fontsize based on $GLOBALS['TYPO3_CONF_VARS']['GFX']['TTFdpi']</span>
<a name="l5428"><span class="linenum">5428</span></a>  <span class="comment">     */</span>
<a name="l5429"><span class="linenum">5429</span></a>  	public static function <a class="function" onClick="logFunction('freetypeDpiComp')" href="../../_functions/freetypedpicomp.html" onMouseOver="funcPopup(event,'freetypedpicomp')">freetypeDpiComp</a>(<a class="var it17825" onMouseOver="hilite(17825)" onMouseOut="lolite()" onClick="logVariable('font_size')" href="../../_variables/font_size.html">$font_size</a>) {
<a name="l5430"><span class="linenum">5430</span></a>          <a class="var it13572" onMouseOver="hilite(13572)" onMouseOut="lolite()" onClick="logVariable('dpi')" href="../../_variables/dpi.html">$dpi</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['GFX']['TTFdpi']);
<a name="l5431"><span class="linenum">5431</span></a>          if (<a class="var it13572" onMouseOver="hilite(13572)" onMouseOut="lolite()" onClick="logVariable('dpi')" href="../../_variables/dpi.html">$dpi</a> != 72) {
<a name="l5432"><span class="linenum">5432</span></a>              <a class="var it17825" onMouseOver="hilite(17825)" onMouseOut="lolite()" onClick="logVariable('font_size')" href="../../_variables/font_size.html">$font_size</a> = <a class="var it17825" onMouseOver="hilite(17825)" onMouseOut="lolite()" onClick="logVariable('font_size')" href="../../_variables/font_size.html">$font_size</a> / <a class="var it13572" onMouseOver="hilite(13572)" onMouseOut="lolite()" onClick="logVariable('dpi')" href="../../_variables/dpi.html">$dpi</a> * 72;
<a name="l5433"><span class="linenum">5433</span></a>          }
<a name="l5434"><span class="linenum">5434</span></a>          return <a class="var it17825" onMouseOver="hilite(17825)" onMouseOut="lolite()" onClick="logVariable('font_size')" href="../../_variables/font_size.html">$font_size</a>;
<a name="l5435"><span class="linenum">5435</span></a>      }
<a name="l5436"><span class="linenum">5436</span></a>  
<a name="l5437"><span class="linenum">5437</span></a>      <span class="comment">/**</span>
<a name="l5438"><span class="linenum">5438</span></a>  <span class="comment">     * Initialize the system log.</span>
<a name="l5439"><span class="linenum">5439</span></a>  <span class="comment">     *</span>
<a name="l5440"><span class="linenum">5440</span></a>  <span class="comment">     * @return void</span>
<a name="l5441"><span class="linenum">5441</span></a>  <span class="comment">     * @see sysLog()</span>
<a name="l5442"><span class="linenum">5442</span></a>  <span class="comment">     */</span>
<a name="l5443"><span class="linenum">5443</span></a>  	public static function <a class="function" onClick="logFunction('initSysLog')" href="../../_functions/initsyslog.html" onMouseOver="funcPopup(event,'initsyslog')">initSysLog</a>() {
<a name="l5444"><span class="linenum">5444</span></a>  <span class="comment">            // for CLI logging name is &lt;fqdn-hostname&gt;:&lt;TYPO3-path&gt;</span>
<a name="l5445"><span class="linenum">5445</span></a>  <span class="comment">            // Note that TYPO3_REQUESTTYPE is not used here as it may not yet be defined</span>
<a name="l5446"><span class="linenum">5446</span></a>          if (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('TYPO3_cliMode') &amp;&amp; TYPO3_cliMode) {
<a name="l5447"><span class="linenum">5447</span></a>              <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogHost'] = self::<a class="function" onClick="logFunction('getHostname')" href="../../_functions/gethostname.html" onMouseOver="funcPopup(event,'gethostname')">getHostname</a>(<a class="var it37901" onMouseOver="hilite(37901)" onMouseOut="lolite()" onClick="logVariable('requestHost')" href="../../_variables/requestHost.html">$requestHost</a> = FALSE) . ':' . PATH_site;
<a name="l5448"><span class="linenum">5448</span></a>          }
<a name="l5449"><span class="linenum">5449</span></a>  <span class="comment">            // for Web logging name is &lt;protocol&gt;://&lt;request-hostame&gt;/&lt;site-path&gt;</span>
<a name="l5450"><span class="linenum">5450</span></a>          else {
<a name="l5451"><span class="linenum">5451</span></a>              <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogHost'] = self::<a class="function" onClick="logFunction('getIndpEnv')" href="../../_functions/getindpenv.html" onMouseOver="funcPopup(event,'getindpenv')">getIndpEnv</a>('TYPO3_SITE_URL');
<a name="l5452"><span class="linenum">5452</span></a>          }
<a name="l5453"><span class="linenum">5453</span></a>  
<a name="l5454"><span class="linenum">5454</span></a>  <span class="comment">            // init custom logging</span>
<a name="l5455"><span class="linenum">5455</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLog'])) {
<a name="l5456"><span class="linenum">5456</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('initLog' =&gt; TRUE);
<a name="l5457"><span class="linenum">5457</span></a>              <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a> = FALSE;
<a name="l5458"><span class="linenum">5458</span></a>              foreach (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLog'] as <a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>) {
<a name="l5459"><span class="linenum">5459</span></a>                  self::<a class="function" onClick="logFunction('callUserFunction')" href="../../_functions/calluserfunction.html" onMouseOver="funcPopup(event,'calluserfunction')">callUserFunction</a>(<a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a>);
<a name="l5460"><span class="linenum">5460</span></a>              }
<a name="l5461"><span class="linenum">5461</span></a>          }
<a name="l5462"><span class="linenum">5462</span></a>  
<a name="l5463"><span class="linenum">5463</span></a>  <span class="comment">            // init TYPO3 logging</span>
<a name="l5464"><span class="linenum">5464</span></a>          foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(';', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLog'], 2) as <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>) {
<a name="l5465"><span class="linenum">5465</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>, 3);
<a name="l5466"><span class="linenum">5466</span></a>  
<a name="l5467"><span class="linenum">5467</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'syslog') {
<a name="l5468"><span class="linenum">5468</span></a>                  if (<a class="constant" onClick="logConstant('TYPO3_OS')" href="../../_constants/TYPO3_OS.html" onMouseOver="constPopup(event,'TYPO3_OS')">TYPO3_OS</a> == 'WIN') {
<a name="l5469"><span class="linenum">5469</span></a>                      <a class="var it6104" onMouseOver="hilite(6104)" onMouseOut="lolite()" onClick="logVariable('facility')" href="../../_variables/facility.html">$facility</a> = LOG_USER;
<a name="l5470"><span class="linenum">5470</span></a>                  } else {
<a name="l5471"><span class="linenum">5471</span></a>                      <a class="var it6104" onMouseOver="hilite(6104)" onMouseOut="lolite()" onClick="logVariable('facility')" href="../../_variables/facility.html">$facility</a> = <a class="phpfunction" onClick="logFunction('constant')" href="../../_functions/constant.html" onMouseOver="phpfuncPopup(event,'constant')">constant</a>('LOG_' . <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>));
<a name="l5472"><span class="linenum">5472</span></a>                  }
<a name="l5473"><span class="linenum">5473</span></a>                  <a class="phpfunction" onClick="logFunction('openlog')" href="../../_functions/openlog.html" onMouseOver="phpfuncPopup(event,'openlog')">openlog</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogHost'], LOG_ODELAY, <a class="var it6104" onMouseOver="hilite(6104)" onMouseOut="lolite()" onClick="logVariable('facility')" href="../../_variables/facility.html">$facility</a>);
<a name="l5474"><span class="linenum">5474</span></a>              }
<a name="l5475"><span class="linenum">5475</span></a>          }
<a name="l5476"><span class="linenum">5476</span></a>  
<a name="l5477"><span class="linenum">5477</span></a>          <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLogLevel'] = t3lib_utility_Math::forceIntegerInRange(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLogLevel'], 0, 4);
<a name="l5478"><span class="linenum">5478</span></a>          <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogInit'] = TRUE;
<a name="l5479"><span class="linenum">5479</span></a>      }
<a name="l5480"><span class="linenum">5480</span></a>  
<a name="l5481"><span class="linenum">5481</span></a>      <span class="comment">/**</span>
<a name="l5482"><span class="linenum">5482</span></a>  <span class="comment">     * Logs message to the system log.</span>
<a name="l5483"><span class="linenum">5483</span></a>  <span class="comment">     * This should be implemented around the source code, including the Core and both frontend and backend, logging serious errors.</span>
<a name="l5484"><span class="linenum">5484</span></a>  <span class="comment">     * If you want to implement the sysLog in your applications, simply add lines like:</span>
<a name="l5485"><span class="linenum">5485</span></a>  <span class="comment">     *         t3lib_div::sysLog('[write message in English here]', 'extension_key', 'severity');</span>
<a name="l5486"><span class="linenum">5486</span></a>  <span class="comment">     *</span>
<a name="l5487"><span class="linenum">5487</span></a>  <span class="comment">     * @param string $msg Message (in English).</span>
<a name="l5488"><span class="linenum">5488</span></a>  <span class="comment">     * @param string $extKey Extension key (from which extension you are calling the log) or &quot;Core&quot;</span>
<a name="l5489"><span class="linenum">5489</span></a>  <span class="comment">     * @param integer $severity Severity: 0 is info, 1 is notice, 2 is warning, 3 is error, 4 is fatal error</span>
<a name="l5490"><span class="linenum">5490</span></a>  <span class="comment">     * @return void</span>
<a name="l5491"><span class="linenum">5491</span></a>  <span class="comment">     */</span>
<a name="l5492"><span class="linenum">5492</span></a>  	public static function <a class="function" onClick="logFunction('sysLog')" href="../../_functions/syslog.html" onMouseOver="funcPopup(event,'syslog')">sysLog</a>(<a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a> = 0) {
<a name="l5493"><span class="linenum">5493</span></a>          <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a> = t3lib_utility_Math::forceIntegerInRange(<a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>, 0, 4);
<a name="l5494"><span class="linenum">5494</span></a>  
<a name="l5495"><span class="linenum">5495</span></a>  <span class="comment">            // is message worth logging?</span>
<a name="l5496"><span class="linenum">5496</span></a>          if (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLogLevel']) &gt; <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>) {
<a name="l5497"><span class="linenum">5497</span></a>              return;
<a name="l5498"><span class="linenum">5498</span></a>          }
<a name="l5499"><span class="linenum">5499</span></a>  
<a name="l5500"><span class="linenum">5500</span></a>  <span class="comment">            // initialize logging</span>
<a name="l5501"><span class="linenum">5501</span></a>          if (!<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogInit']) {
<a name="l5502"><span class="linenum">5502</span></a>              self::<a class="function" onClick="logFunction('initSysLog')" href="../../_functions/initsyslog.html" onMouseOver="funcPopup(event,'initsyslog')">initSysLog</a>();
<a name="l5503"><span class="linenum">5503</span></a>          }
<a name="l5504"><span class="linenum">5504</span></a>  
<a name="l5505"><span class="linenum">5505</span></a>  <span class="comment">            // do custom logging</span>
<a name="l5506"><span class="linenum">5506</span></a>          if (isset(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLog']) &amp;&amp;
<a name="l5507"><span class="linenum">5507</span></a>                  <a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLog'])) {
<a name="l5508"><span class="linenum">5508</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('msg' =&gt; <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, 'extKey' =&gt; <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, 'backTrace' =&gt; <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>(), 'severity' =&gt; <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>);
<a name="l5509"><span class="linenum">5509</span></a>              <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a> = FALSE;
<a name="l5510"><span class="linenum">5510</span></a>              foreach (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLog'] as <a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>) {
<a name="l5511"><span class="linenum">5511</span></a>                  self::<a class="function" onClick="logFunction('callUserFunction')" href="../../_functions/calluserfunction.html" onMouseOver="funcPopup(event,'calluserfunction')">callUserFunction</a>(<a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a>);
<a name="l5512"><span class="linenum">5512</span></a>              }
<a name="l5513"><span class="linenum">5513</span></a>          }
<a name="l5514"><span class="linenum">5514</span></a>  
<a name="l5515"><span class="linenum">5515</span></a>  <span class="comment">            // TYPO3 logging enabled?</span>
<a name="l5516"><span class="linenum">5516</span></a>          if (!<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLog']) {
<a name="l5517"><span class="linenum">5517</span></a>              return;
<a name="l5518"><span class="linenum">5518</span></a>          }
<a name="l5519"><span class="linenum">5519</span></a>  
<a name="l5520"><span class="linenum">5520</span></a>          <a class="var it37005" onMouseOver="hilite(37005)" onMouseOut="lolite()" onClick="logVariable('dateFormat')" href="../../_variables/dateFormat.html">$dateFormat</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['ddmmyy'];
<a name="l5521"><span class="linenum">5521</span></a>          <a class="var it37997" onMouseOver="hilite(37997)" onMouseOut="lolite()" onClick="logVariable('timeFormat')" href="../../_variables/timeFormat.html">$timeFormat</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['hhmm'];
<a name="l5522"><span class="linenum">5522</span></a>  
<a name="l5523"><span class="linenum">5523</span></a>  <span class="comment">            // use all configured logging options</span>
<a name="l5524"><span class="linenum">5524</span></a>          foreach (<a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(';', <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['systemLog'], 2) as <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>) {
<a name="l5525"><span class="linenum">5525</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>, <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>, 4);
<a name="l5526"><span class="linenum">5526</span></a>  
<a name="l5527"><span class="linenum">5527</span></a>  <span class="comment">                // is message worth logging for this log type?</span>
<a name="l5528"><span class="linenum">5528</span></a>              if (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>) &gt; <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>) {
<a name="l5529"><span class="linenum">5529</span></a>                  continue;
<a name="l5530"><span class="linenum">5530</span></a>              }
<a name="l5531"><span class="linenum">5531</span></a>  
<a name="l5532"><span class="linenum">5532</span></a>              <a class="var it37998" onMouseOver="hilite(37998)" onMouseOut="lolite()" onClick="logVariable('msgLine')" href="../../_variables/msgLine.html">$msgLine</a> = ' - ' . <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a> . ': ' . <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>;
<a name="l5533"><span class="linenum">5533</span></a>  
<a name="l5534"><span class="linenum">5534</span></a>  <span class="comment">                // write message to a file</span>
<a name="l5535"><span class="linenum">5535</span></a>              if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'file') {
<a name="l5536"><span class="linenum">5536</span></a>                  <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_lock', <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['lockingMode']);
<a name="l5537"><span class="linenum">5537</span></a>  <span class="comment">                /** @var t3lib_lock $lockObject */</span>
<a name="l5538"><span class="linenum">5538</span></a>                  <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;setEnableLogging(FALSE);
<a name="l5539"><span class="linenum">5539</span></a>                  <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;<a class="function" onClick="logFunction('acquire')" href="../../_functions/acquire.html" onMouseOver="funcPopup(event,'acquire')">acquire</a>();
<a name="l5540"><span class="linenum">5540</span></a>                  <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>, 'a');
<a name="l5541"><span class="linenum">5541</span></a>                  if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l5542"><span class="linenum">5542</span></a>                      <a class="phpfunction" onClick="logFunction('fwrite')" href="../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(<a class="var it37005" onMouseOver="hilite(37005)" onMouseOut="lolite()" onClick="logVariable('dateFormat')" href="../../_variables/dateFormat.html">$dateFormat</a> . ' ' . <a class="var it37997" onMouseOver="hilite(37997)" onMouseOut="lolite()" onClick="logVariable('timeFormat')" href="../../_variables/timeFormat.html">$timeFormat</a>) . <a class="var it37998" onMouseOver="hilite(37998)" onMouseOut="lolite()" onClick="logVariable('msgLine')" href="../../_variables/msgLine.html">$msgLine</a> . LF);
<a name="l5543"><span class="linenum">5543</span></a>                      <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l5544"><span class="linenum">5544</span></a>                      self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>);
<a name="l5545"><span class="linenum">5545</span></a>                  }
<a name="l5546"><span class="linenum">5546</span></a>                  <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;<a class="function" onClick="logFunction('release')" href="../../_functions/release.html" onMouseOver="funcPopup(event,'release')">release</a>();
<a name="l5547"><span class="linenum">5547</span></a>              }
<a name="l5548"><span class="linenum">5548</span></a>  <span class="comment">                // send message per mail</span>
<a name="l5549"><span class="linenum">5549</span></a>              elseif (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'mail') {
<a name="l5550"><span class="linenum">5550</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>, <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>);
<a name="l5551"><span class="linenum">5551</span></a>                  if (!t3lib_div::<a class="function" onClick="logFunction('validEmail')" href="../../_functions/validemail.html" onMouseOver="funcPopup(event,'validemail')">validEmail</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>)) {
<a name="l5552"><span class="linenum">5552</span></a>                      <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> = t3lib_utility_Mail::getSystemFrom();
<a name="l5553"><span class="linenum">5553</span></a>                  }
<a name="l5554"><span class="linenum">5554</span></a>  <span class="comment">                /** @var $mail t3lib_mail_Message */</span>
<a name="l5555"><span class="linenum">5555</span></a>                  <a class="var it10902" onMouseOver="hilite(10902)" onMouseOut="lolite()" onClick="logVariable('mail')" href="../../_variables/mail.html">$mail</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_mail_Message');
<a name="l5556"><span class="linenum">5556</span></a>                  <a class="var it10902" onMouseOver="hilite(10902)" onMouseOut="lolite()" onClick="logVariable('mail')" href="../../_variables/mail.html">$mail</a>-&gt;setTo(<a class="var it115" onMouseOver="hilite(115)" onMouseOut="lolite()" onClick="logVariable('to')" href="../../_variables/to.html">$to</a>)
<a name="l5557"><span class="linenum">5557</span></a>                          -&gt;<a class="function" onClick="logFunction('setFrom')" href="../../_functions/setfrom.html" onMouseOver="funcPopup(event,'setfrom')">setFrom</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>)
<a name="l5558"><span class="linenum">5558</span></a>                          -&gt;<a class="function" onClick="logFunction('setSubject')" href="../../_functions/setsubject.html" onMouseOver="funcPopup(event,'setsubject')">setSubject</a>('Warning - error in TYPO3 installation')
<a name="l5559"><span class="linenum">5559</span></a>                          -&gt;<a class="function" onClick="logFunction('setBody')" href="../../_functions/setbody.html" onMouseOver="funcPopup(event,'setbody')">setBody</a>('Host: ' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogHost'] . LF .
<a name="l5560"><span class="linenum">5560</span></a>                                  'Extension: ' . <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a> . LF .
<a name="l5561"><span class="linenum">5561</span></a>                                  'Severity: ' . <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a> . LF .
<a name="l5562"><span class="linenum">5562</span></a>                                  LF . <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>
<a name="l5563"><span class="linenum">5563</span></a>                  );
<a name="l5564"><span class="linenum">5564</span></a>                  <a class="var it10902" onMouseOver="hilite(10902)" onMouseOut="lolite()" onClick="logVariable('mail')" href="../../_variables/mail.html">$mail</a>-&gt;<a class="function" onClick="logFunction('send')" href="../../_functions/send.html" onMouseOver="funcPopup(event,'send')">send</a>();
<a name="l5565"><span class="linenum">5565</span></a>              }
<a name="l5566"><span class="linenum">5566</span></a>  <span class="comment">                // use the PHP error log</span>
<a name="l5567"><span class="linenum">5567</span></a>              elseif (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'error_log') {
<a name="l5568"><span class="linenum">5568</span></a>                  <a class="phpfunction" onClick="logFunction('error_log')" href="../../_functions/error_log.html" onMouseOver="phpfuncPopup(event,'error_log')">error_log</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['systemLogHost'] . <a class="var it37998" onMouseOver="hilite(37998)" onMouseOut="lolite()" onClick="logVariable('msgLine')" href="../../_variables/msgLine.html">$msgLine</a>, 0);
<a name="l5569"><span class="linenum">5569</span></a>              }
<a name="l5570"><span class="linenum">5570</span></a>  <span class="comment">                // use the system log</span>
<a name="l5571"><span class="linenum">5571</span></a>              elseif (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == 'syslog') {
<a name="l5572"><span class="linenum">5572</span></a>                  <a class="var it1795" onMouseOver="hilite(1795)" onMouseOut="lolite()" onClick="logVariable('priority')" href="../../_variables/priority.html">$priority</a> = array(LOG_INFO, LOG_NOTICE, LOG_WARNING, LOG_ERR, LOG_CRIT);
<a name="l5573"><span class="linenum">5573</span></a>                  <a class="phpfunction" onClick="logFunction('syslog')" href="../../_functions/syslog.html" onMouseOver="phpfuncPopup(event,'syslog')">syslog</a>(<a class="var it1795" onMouseOver="hilite(1795)" onMouseOut="lolite()" onClick="logVariable('priority')" href="../../_variables/priority.html">$priority</a>[(int) <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>], <a class="var it37998" onMouseOver="hilite(37998)" onMouseOut="lolite()" onClick="logVariable('msgLine')" href="../../_variables/msgLine.html">$msgLine</a>);
<a name="l5574"><span class="linenum">5574</span></a>              }
<a name="l5575"><span class="linenum">5575</span></a>          }
<a name="l5576"><span class="linenum">5576</span></a>      }
<a name="l5577"><span class="linenum">5577</span></a>  
<a name="l5578"><span class="linenum">5578</span></a>      <span class="comment">/**</span>
<a name="l5579"><span class="linenum">5579</span></a>  <span class="comment">     * Logs message to the development log.</span>
<a name="l5580"><span class="linenum">5580</span></a>  <span class="comment">     * This should be implemented around the source code, both frontend and backend, logging everything from the flow through an application, messages, results from comparisons to fatal errors.</span>
<a name="l5581"><span class="linenum">5581</span></a>  <span class="comment">     * The result is meant to make sense to developers during development or debugging of a site.</span>
<a name="l5582"><span class="linenum">5582</span></a>  <span class="comment">     * The idea is that this function is only a wrapper for external extensions which can set a hook which will be allowed to handle the logging of the information to any format they might wish and with any kind of filter they would like.</span>
<a name="l5583"><span class="linenum">5583</span></a>  <span class="comment">     * If you want to implement the devLog in your applications, simply add lines like:</span>
<a name="l5584"><span class="linenum">5584</span></a>  <span class="comment">     *         if (TYPO3_DLOG)    t3lib_div::devLog('[write message in english here]', 'extension key');</span>
<a name="l5585"><span class="linenum">5585</span></a>  <span class="comment">     *</span>
<a name="l5586"><span class="linenum">5586</span></a>  <span class="comment">     * @param string $msg Message (in english).</span>
<a name="l5587"><span class="linenum">5587</span></a>  <span class="comment">     * @param string $extKey Extension key (from which extension you are calling the log)</span>
<a name="l5588"><span class="linenum">5588</span></a>  <span class="comment">     * @param integer $severity Severity: 0 is info, 1 is notice, 2 is warning, 3 is fatal error, -1 is &quot;OK&quot; message</span>
<a name="l5589"><span class="linenum">5589</span></a>  <span class="comment">     * @param mixed $dataVar Additional data you want to pass to the logger.</span>
<a name="l5590"><span class="linenum">5590</span></a>  <span class="comment">     * @return void</span>
<a name="l5591"><span class="linenum">5591</span></a>  <span class="comment">     */</span>
<a name="l5592"><span class="linenum">5592</span></a>  	public static function <a class="function" onClick="logFunction('devLog')" href="../../_functions/devlog.html" onMouseOver="funcPopup(event,'devlog')">devLog</a>(<a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a> = 0, <a class="var it38000" onMouseOver="hilite(38000)" onMouseOut="lolite()" onClick="logVariable('dataVar')" href="../../_variables/dataVar.html">$dataVar</a> = FALSE) {
<a name="l5593"><span class="linenum">5593</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['devLog'])) {
<a name="l5594"><span class="linenum">5594</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('msg' =&gt; <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, 'extKey' =&gt; <a class="var it37906" onMouseOver="hilite(37906)" onMouseOut="lolite()" onClick="logVariable('extKey')" href="../../_variables/extKey.html">$extKey</a>, 'severity' =&gt; <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('severity')" href="../../_variables/severity.html">$severity</a>, 'dataVar' =&gt; <a class="var it38000" onMouseOver="hilite(38000)" onMouseOut="lolite()" onClick="logVariable('dataVar')" href="../../_variables/dataVar.html">$dataVar</a>);
<a name="l5595"><span class="linenum">5595</span></a>              <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a> = FALSE;
<a name="l5596"><span class="linenum">5596</span></a>              foreach (<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/class.t3lib_div.php']['devLog'] as <a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>) {
<a name="l5597"><span class="linenum">5597</span></a>                  self::<a class="function" onClick="logFunction('callUserFunction')" href="../../_functions/calluserfunction.html" onMouseOver="funcPopup(event,'calluserfunction')">callUserFunction</a>(<a class="var it37996" onMouseOver="hilite(37996)" onMouseOut="lolite()" onClick="logVariable('hookMethod')" href="../../_variables/hookMethod.html">$hookMethod</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it37995" onMouseOver="hilite(37995)" onMouseOut="lolite()" onClick="logVariable('fakeThis')" href="../../_variables/fakeThis.html">$fakeThis</a>);
<a name="l5598"><span class="linenum">5598</span></a>              }
<a name="l5599"><span class="linenum">5599</span></a>          }
<a name="l5600"><span class="linenum">5600</span></a>      }
<a name="l5601"><span class="linenum">5601</span></a>  
<a name="l5602"><span class="linenum">5602</span></a>      <span class="comment">/**</span>
<a name="l5603"><span class="linenum">5603</span></a>  <span class="comment">     * Writes a message to the deprecation log.</span>
<a name="l5604"><span class="linenum">5604</span></a>  <span class="comment">     *</span>
<a name="l5605"><span class="linenum">5605</span></a>  <span class="comment">     * @param string $msg Message (in English).</span>
<a name="l5606"><span class="linenum">5606</span></a>  <span class="comment">     * @return void</span>
<a name="l5607"><span class="linenum">5607</span></a>  <span class="comment">     */</span>
<a name="l5608"><span class="linenum">5608</span></a>  	public static function <a class="function" onClick="logFunction('deprecationLog')" href="../../_functions/deprecationlog.html" onMouseOver="funcPopup(event,'deprecationlog')">deprecationLog</a>(<a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>) {
<a name="l5609"><span class="linenum">5609</span></a>          if (!<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['enableDeprecationLog']) {
<a name="l5610"><span class="linenum">5610</span></a>              return;
<a name="l5611"><span class="linenum">5611</span></a>          }
<a name="l5612"><span class="linenum">5612</span></a>  
<a name="l5613"><span class="linenum">5613</span></a>          <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a> = <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['enableDeprecationLog'];
<a name="l5614"><span class="linenum">5614</span></a>          <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['ddmmyy'] . ' ' . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['hhmm'] . ': ');
<a name="l5615"><span class="linenum">5615</span></a>  
<a name="l5616"><span class="linenum">5616</span></a>  <span class="comment">            // legacy values (no strict comparison, $log can be boolean, string or int)</span>
<a name="l5617"><span class="linenum">5617</span></a>          if (<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a> === TRUE || <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a> == '1') {
<a name="l5618"><span class="linenum">5618</span></a>              <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a> = 'file';
<a name="l5619"><span class="linenum">5619</span></a>          }
<a name="l5620"><span class="linenum">5620</span></a>  
<a name="l5621"><span class="linenum">5621</span></a>          if (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>, 'file') !== FALSE) {
<a name="l5622"><span class="linenum">5622</span></a>  <span class="comment">                // In case lock is acquired before autoloader was defined:</span>
<a name="l5623"><span class="linenum">5623</span></a>              if (<a class="phpfunction" onClick="logFunction('class_exists')" href="../../_functions/class_exists.html" onMouseOver="phpfuncPopup(event,'class_exists')">class_exists</a>('t3lib_lock') === FALSE) {
<a name="l5624"><span class="linenum">5624</span></a>                  require_once PATH_t3lib . 'class.t3lib_lock.php';
<a name="l5625"><span class="linenum">5625</span></a>              }
<a name="l5626"><span class="linenum">5626</span></a>  <span class="comment">                // write a longer message to the deprecation log</span>
<a name="l5627"><span class="linenum">5627</span></a>              <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a> = self::<a class="function" onClick="logFunction('getDeprecationLogFileName')" href="../../_functions/getdeprecationlogfilename.html" onMouseOver="funcPopup(event,'getdeprecationlogfilename')">getDeprecationLogFileName</a>();
<a name="l5628"><span class="linenum">5628</span></a>              <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_lock', <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>, <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['lockingMode']);
<a name="l5629"><span class="linenum">5629</span></a>  <span class="comment">            /** @var t3lib_lock $lockObject */</span>
<a name="l5630"><span class="linenum">5630</span></a>              <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;setEnableLogging(FALSE);
<a name="l5631"><span class="linenum">5631</span></a>              <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;<a class="function" onClick="logFunction('acquire')" href="../../_functions/acquire.html" onMouseOver="funcPopup(event,'acquire')">acquire</a>();
<a name="l5632"><span class="linenum">5632</span></a>              <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = @<a class="function" onClick="logFunction('fopen')" href="../../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>, 'a');
<a name="l5633"><span class="linenum">5633</span></a>              if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l5634"><span class="linenum">5634</span></a>                  @<a class="phpfunction" onClick="logFunction('fwrite')" href="../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> . <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> . LF);
<a name="l5635"><span class="linenum">5635</span></a>                  @<a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l5636"><span class="linenum">5636</span></a>                  self::<a class="function" onClick="logFunction('fixPermissions')" href="../../_functions/fixpermissions.html" onMouseOver="funcPopup(event,'fixpermissions')">fixPermissions</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../../_variables/destination.html">$destination</a>);
<a name="l5637"><span class="linenum">5637</span></a>              }
<a name="l5638"><span class="linenum">5638</span></a>              <a class="var it37999" onMouseOver="hilite(37999)" onMouseOut="lolite()" onClick="logVariable('lockObject')" href="../../_variables/lockObject.html">$lockObject</a>-&gt;<a class="function" onClick="logFunction('release')" href="../../_functions/release.html" onMouseOver="funcPopup(event,'release')">release</a>();
<a name="l5639"><span class="linenum">5639</span></a>          }
<a name="l5640"><span class="linenum">5640</span></a>  
<a name="l5641"><span class="linenum">5641</span></a>          if (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>, 'devlog') !== FALSE) {
<a name="l5642"><span class="linenum">5642</span></a>  <span class="comment">                // copy message also to the developer log</span>
<a name="l5643"><span class="linenum">5643</span></a>              self::<a class="function" onClick="logFunction('devLog')" href="../../_functions/devlog.html" onMouseOver="funcPopup(event,'devlog')">devLog</a>(<a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, 'Core', self::SYSLOG_SEVERITY_WARNING);
<a name="l5644"><span class="linenum">5644</span></a>          }
<a name="l5645"><span class="linenum">5645</span></a>  
<a name="l5646"><span class="linenum">5646</span></a>  <span class="comment">            // do not use console in login screen</span>
<a name="l5647"><span class="linenum">5647</span></a>          if (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>, 'console') !== FALSE &amp;&amp; isset(<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['BE_USER']-&gt;user['uid'])) {
<a name="l5648"><span class="linenum">5648</span></a>              t3lib_utility_Debug::<a class="function" onClick="logFunction('debug')" href="../../_functions/debug.html" onMouseOver="funcPopup(event,'debug')">debug</a>(<a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>, <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a>, 'Deprecation Log');
<a name="l5649"><span class="linenum">5649</span></a>          }
<a name="l5650"><span class="linenum">5650</span></a>      }
<a name="l5651"><span class="linenum">5651</span></a>  
<a name="l5652"><span class="linenum">5652</span></a>      <span class="comment">/**</span>
<a name="l5653"><span class="linenum">5653</span></a>  <span class="comment">     * Gets the absolute path to the deprecation log file.</span>
<a name="l5654"><span class="linenum">5654</span></a>  <span class="comment">     *</span>
<a name="l5655"><span class="linenum">5655</span></a>  <span class="comment">     * @return string absolute path to the deprecation log file</span>
<a name="l5656"><span class="linenum">5656</span></a>  <span class="comment">     */</span>
<a name="l5657"><span class="linenum">5657</span></a>  	public static function <a class="function" onClick="logFunction('getDeprecationLogFileName')" href="../../_functions/getdeprecationlogfilename.html" onMouseOver="funcPopup(event,'getdeprecationlogfilename')">getDeprecationLogFileName</a>() {
<a name="l5658"><span class="linenum">5658</span></a>          return PATH_typo3conf .
<a name="l5659"><span class="linenum">5659</span></a>                  'deprecation_' .
<a name="l5660"><span class="linenum">5660</span></a>                  self::<a class="function" onClick="logFunction('shortMD5')" href="../../_functions/shortmd5.html" onMouseOver="funcPopup(event,'shortmd5')">shortMD5</a>(
<a name="l5661"><span class="linenum">5661</span></a>                      PATH_site . <a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['encryptionKey']
<a name="l5662"><span class="linenum">5662</span></a>                  ) .
<a name="l5663"><span class="linenum">5663</span></a>                  '.log';
<a name="l5664"><span class="linenum">5664</span></a>      }
<a name="l5665"><span class="linenum">5665</span></a>  
<a name="l5666"><span class="linenum">5666</span></a>      <span class="comment">/**</span>
<a name="l5667"><span class="linenum">5667</span></a>  <span class="comment">     * Logs a call to a deprecated function.</span>
<a name="l5668"><span class="linenum">5668</span></a>  <span class="comment">     * The log message will be taken from the annotation.</span>
<a name="l5669"><span class="linenum">5669</span></a>  <span class="comment">     * @return void</span>
<a name="l5670"><span class="linenum">5670</span></a>  <span class="comment">     */</span>
<a name="l5671"><span class="linenum">5671</span></a>  	public static function <a class="function" onClick="logFunction('logDeprecatedFunction')" href="../../_functions/logdeprecatedfunction.html" onMouseOver="funcPopup(event,'logdeprecatedfunction')">logDeprecatedFunction</a>() {
<a name="l5672"><span class="linenum">5672</span></a>          if (!<a class="var it2008" onMouseOver="hilite(2008)" onMouseOut="lolite()" onClick="logVariable('GLOBALS')" href="../../_variables/GLOBALS.html">$GLOBALS</a>['TYPO3_CONF_VARS']['SYS']['enableDeprecationLog']) {
<a name="l5673"><span class="linenum">5673</span></a>              return;
<a name="l5674"><span class="linenum">5674</span></a>          }
<a name="l5675"><span class="linenum">5675</span></a>  
<a name="l5676"><span class="linenum">5676</span></a>  <span class="comment">            // This require_once is needed for deprecation calls</span>
<a name="l5677"><span class="linenum">5677</span></a>  <span class="comment">            // thrown early during bootstrap, if the autoloader is</span>
<a name="l5678"><span class="linenum">5678</span></a>  <span class="comment">            // not instantiated yet. This can happen for example if</span>
<a name="l5679"><span class="linenum">5679</span></a>  <span class="comment">            // ext_localconf triggers a deprecation.</span>
<a name="l5680"><span class="linenum">5680</span></a>          <span class="keyword">require_once</span> <a class="filename" href="../../lib/typo3/class.t3lib_utility_debug.php.html" onMouseOver="reqPopup(event, 'class.t3lib_utility_debug.php', '../../lib/typo3/class.t3lib_utility_debug.php')"> __DIR__.'/class.t3lib_utility_debug.php'</a>;
<a name="l5681"><span class="linenum">5681</span></a>  
<a name="l5682"><span class="linenum">5682</span></a>          <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a> = <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>();
<a name="l5683"><span class="linenum">5683</span></a>  
<a name="l5684"><span class="linenum">5684</span></a>          if (<a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['type']) {
<a name="l5685"><span class="linenum">5685</span></a>              <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a> = new ReflectionMethod(<a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['class'], <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['function']);
<a name="l5686"><span class="linenum">5686</span></a>          } else {
<a name="l5687"><span class="linenum">5687</span></a>              <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a> = new ReflectionFunction(<a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['function']);
<a name="l5688"><span class="linenum">5688</span></a>          }
<a name="l5689"><span class="linenum">5689</span></a>  
<a name="l5690"><span class="linenum">5690</span></a>          <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = '';
<a name="l5691"><span class="linenum">5691</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/@deprecated\s+(.*)/', <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a>-&gt;getDocComment(), <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>)) {
<a name="l5692"><span class="linenum">5692</span></a>              <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = <a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>[1];
<a name="l5693"><span class="linenum">5693</span></a>          }
<a name="l5694"><span class="linenum">5694</span></a>  
<a name="l5695"><span class="linenum">5695</span></a>  <span class="comment">            // trigger PHP error with a short message: &lt;function&gt; is deprecated (called from &lt;source&gt;, defined in &lt;source&gt;)</span>
<a name="l5696"><span class="linenum">5696</span></a>          <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> = 'Function ' . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['function'];
<a name="l5697"><span class="linenum">5697</span></a>          if (<a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['class']) {
<a name="l5698"><span class="linenum">5698</span></a>              <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> .= ' of class ' . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['class'];
<a name="l5699"><span class="linenum">5699</span></a>          }
<a name="l5700"><span class="linenum">5700</span></a>          <a class="var it37965" onMouseOver="hilite(37965)" onMouseOut="lolite()" onClick="logVariable('errorMsg')" href="../../_variables/errorMsg.html">$errorMsg</a> .= ' is deprecated (called from ' . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['file'] . '#' . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['line'] . ', defined in ' . <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a>-&gt;<a class="function" onClick="logFunction('getFileName')" href="../../_functions/getfilename.html" onMouseOver="funcPopup(event,'getfilename')">getFileName</a>() . '#' . <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a>-&gt;getStartLine() . ')';
<a name="l5701"><span class="linenum">5701</span></a>  
<a name="l5702"><span class="linenum">5702</span></a>  <span class="comment">            // write a longer message to the deprecation log: &lt;function&gt; &lt;annotion&gt; - &lt;trace&gt; (&lt;source&gt;)</span>
<a name="l5703"><span class="linenum">5703</span></a>          <a class="var it38001" onMouseOver="hilite(38001)" onMouseOut="lolite()" onClick="logVariable('logMsg')" href="../../_variables/logMsg.html">$logMsg</a> = <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['class'] . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['type'] . <a class="var it9417" onMouseOver="hilite(9417)" onMouseOut="lolite()" onClick="logVariable('trail')" href="../../_variables/trail.html">$trail</a>[1]['function'];
<a name="l5704"><span class="linenum">5704</span></a>          <a class="var it38001" onMouseOver="hilite(38001)" onMouseOut="lolite()" onClick="logVariable('logMsg')" href="../../_variables/logMsg.html">$logMsg</a> .= '() - ' . <a class="var it2085" onMouseOver="hilite(2085)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>.' - ' . t3lib_utility_Debug::<a class="function" onClick="logFunction('debugTrail')" href="../../_functions/debugtrail.html" onMouseOver="funcPopup(event,'debugtrail')">debugTrail</a>();
<a name="l5705"><span class="linenum">5705</span></a>          <a class="var it38001" onMouseOver="hilite(38001)" onMouseOut="lolite()" onClick="logVariable('logMsg')" href="../../_variables/logMsg.html">$logMsg</a> .= ' (' . <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a>-&gt;<a class="function" onClick="logFunction('getFileName')" href="../../_functions/getfilename.html" onMouseOver="funcPopup(event,'getfilename')">getFileName</a>(), <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(PATH_site)) . '#' . <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../../_variables/function.html">$function</a>-&gt;getStartLine() . ')';
<a name="l5706"><span class="linenum">5706</span></a>          self::<a class="function" onClick="logFunction('deprecationLog')" href="../../_functions/deprecationlog.html" onMouseOver="funcPopup(event,'deprecationlog')">deprecationLog</a>(<a class="var it38001" onMouseOver="hilite(38001)" onMouseOut="lolite()" onClick="logVariable('logMsg')" href="../../_variables/logMsg.html">$logMsg</a>);
<a name="l5707"><span class="linenum">5707</span></a>      }
<a name="l5708"><span class="linenum">5708</span></a>  
<a name="l5709"><span class="linenum">5709</span></a>      <span class="comment">/**</span>
<a name="l5710"><span class="linenum">5710</span></a>  <span class="comment">     * Converts a one dimensional array to a one line string which can be used for logging or debugging output</span>
<a name="l5711"><span class="linenum">5711</span></a>  <span class="comment">     * Example: &quot;loginType: FE; refInfo: Array; HTTP_HOST: www.example.org; REMOTE_ADDR: 192.168.1.5; REMOTE_HOST:; security_level:; showHiddenRecords: 0;&quot;</span>
<a name="l5712"><span class="linenum">5712</span></a>  <span class="comment">     *</span>
<a name="l5713"><span class="linenum">5713</span></a>  <span class="comment">     * @param array $arr Data array which should be outputted</span>
<a name="l5714"><span class="linenum">5714</span></a>  <span class="comment">     * @param mixed $valueList List of keys which should be listed in the output string. Pass a comma list or an array. An empty list outputs the whole array.</span>
<a name="l5715"><span class="linenum">5715</span></a>  <span class="comment">     * @param integer $valueLength Long string values are shortened to this length. Default: 20</span>
<a name="l5716"><span class="linenum">5716</span></a>  <span class="comment">     * @return string Output string with key names and their value as string</span>
<a name="l5717"><span class="linenum">5717</span></a>  <span class="comment">     */</span>
<a name="l5718"><span class="linenum">5718</span></a>  	public static function <a class="function" onClick="logFunction('arrayToLogString')" href="../../_functions/arraytologstring.html" onMouseOver="funcPopup(event,'arraytologstring')">arrayToLogString</a>(array <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>, <a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a> = array(), <a class="var it38002" onMouseOver="hilite(38002)" onMouseOut="lolite()" onClick="logVariable('valueLength')" href="../../_variables/valueLength.html">$valueLength</a> = 20) {
<a name="l5719"><span class="linenum">5719</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = '';
<a name="l5720"><span class="linenum">5720</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a>)) {
<a name="l5721"><span class="linenum">5721</span></a>              <a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a> = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(',', <a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a>, 1);
<a name="l5722"><span class="linenum">5722</span></a>          }
<a name="l5723"><span class="linenum">5723</span></a>          <a class="var it38003" onMouseOver="hilite(38003)" onMouseOut="lolite()" onClick="logVariable('valListCnt')" href="../../_variables/valListCnt.html">$valListCnt</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a>);
<a name="l5724"><span class="linenum">5724</span></a>          foreach (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l5725"><span class="linenum">5725</span></a>              if (!<a class="var it38003" onMouseOver="hilite(38003)" onMouseOut="lolite()" onClick="logVariable('valListCnt')" href="../../_variables/valListCnt.html">$valListCnt</a> || <a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it16538" onMouseOver="hilite(16538)" onMouseOut="lolite()" onClick="logVariable('valueList')" href="../../_variables/valueList.html">$valueList</a>)) {
<a name="l5726"><span class="linenum">5726</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= (string) <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> . <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(': ' . self::<a class="function" onClick="logFunction('fixed_lgd_cs')" href="../../_functions/fixed_lgd_cs.html" onMouseOver="funcPopup(event,'fixed_lgd_cs')">fixed_lgd_cs</a>(<a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(LF, '|', (string) <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>), <a class="var it38002" onMouseOver="hilite(38002)" onMouseOut="lolite()" onClick="logVariable('valueLength')" href="../../_variables/valueLength.html">$valueLength</a>)) . '; ';
<a name="l5727"><span class="linenum">5727</span></a>              }
<a name="l5728"><span class="linenum">5728</span></a>          }
<a name="l5729"><span class="linenum">5729</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l5730"><span class="linenum">5730</span></a>      }
<a name="l5731"><span class="linenum">5731</span></a>  
<a name="l5732"><span class="linenum">5732</span></a>      <span class="comment">/**</span>
<a name="l5733"><span class="linenum">5733</span></a>  <span class="comment">     * Compile the command for running ImageMagick/GraphicsMagick.</span>
<a name="l5734"><span class="linenum">5734</span></a>  <span class="comment">     *</span>
<a name="l5735"><span class="linenum">5735</span></a>  <span class="comment">     * @param string $command Command to be run: identify, convert or combine/composite</span>
<a name="l5736"><span class="linenum">5736</span></a>  <span class="comment">     * @param string $parameters The parameters string</span>
<a name="l5737"><span class="linenum">5737</span></a>  <span class="comment">     * @param string $path Override the default path (e.g. used by the install tool)</span>
<a name="l5738"><span class="linenum">5738</span></a>  <span class="comment">     * @return string Compiled command that deals with IM6 &amp; GraphicsMagick</span>
<a name="l5739"><span class="linenum">5739</span></a>  <span class="comment">     */</span>
<a name="l5740"><span class="linenum">5740</span></a>  	public static function <a class="function" onClick="logFunction('imageMagickCommand')" href="../../_functions/imagemagickcommand.html" onMouseOver="funcPopup(event,'imagemagickcommand')">imageMagickCommand</a>(<a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a>, <a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../_variables/parameters.html">$parameters</a>, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a> = '') {
<a name="l5741"><span class="linenum">5741</span></a>          return t3lib_utility_Command::<a class="function" onClick="logFunction('imageMagickCommand')" href="../../_functions/imagemagickcommand.html" onMouseOver="funcPopup(event,'imagemagickcommand')">imageMagickCommand</a>(<a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a>, <a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../_variables/parameters.html">$parameters</a>, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../_variables/path.html">$path</a>);
<a name="l5742"><span class="linenum">5742</span></a>      }
<a name="l5743"><span class="linenum">5743</span></a>  
<a name="l5744"><span class="linenum">5744</span></a>      <span class="comment">/**</span>
<a name="l5745"><span class="linenum">5745</span></a>  <span class="comment">     * Explode a string (normally a list of filenames) with whitespaces by considering quotes in that string. This is mostly needed by the imageMagickCommand function above.</span>
<a name="l5746"><span class="linenum">5746</span></a>  <span class="comment">     *</span>
<a name="l5747"><span class="linenum">5747</span></a>  <span class="comment">     * @param string $parameters The whole parameters string</span>
<a name="l5748"><span class="linenum">5748</span></a>  <span class="comment">     * @param boolean $unQuote If set, the elements of the resulting array are unquoted.</span>
<a name="l5749"><span class="linenum">5749</span></a>  <span class="comment">     * @return array Exploded parameters</span>
<a name="l5750"><span class="linenum">5750</span></a>  <span class="comment">     */</span>
<a name="l5751"><span class="linenum">5751</span></a>  	public static function <a class="function" onClick="logFunction('unQuoteFilenames')" href="../../_functions/unquotefilenames.html" onMouseOver="funcPopup(event,'unquotefilenames')">unQuoteFilenames</a>(<a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../_variables/parameters.html">$parameters</a>, <a class="var it38004" onMouseOver="hilite(38004)" onMouseOut="lolite()" onClick="logVariable('unQuote')" href="../../_variables/unQuote.html">$unQuote</a> = FALSE) {
<a name="l5752"><span class="linenum">5752</span></a>          <a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../_variables/parameters.html">$parameters</a>));
<a name="l5753"><span class="linenum">5753</span></a>  
<a name="l5754"><span class="linenum">5754</span></a>          <a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a> = -1; <span class="comment">// Whenever a quote character (&quot;) is found, $quoteActive is set to the element number inside of $params. A value of -1 means that there are not open quotes at the current position.</span>
<a name="l5755"><span class="linenum">5755</span></a>          foreach (<a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l5756"><span class="linenum">5756</span></a>              if (<a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a> &gt; -1) {
<a name="l5757"><span class="linenum">5757</span></a>                  <a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a>[<a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a>] .= ' ' . <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>;
<a name="l5758"><span class="linenum">5758</span></a>                  unset(<a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]);
<a name="l5759"><span class="linenum">5759</span></a>                  if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, -1) === <a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a>[<a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a>][0]) {
<a name="l5760"><span class="linenum">5760</span></a>                      <a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a> = -1;
<a name="l5761"><span class="linenum">5761</span></a>                  }
<a name="l5762"><span class="linenum">5762</span></a>              } elseif (!<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>)) {
<a name="l5763"><span class="linenum">5763</span></a>                  unset(<a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]); <span class="comment">// Remove empty elements</span>
<a name="l5764"><span class="linenum">5764</span></a>  
<a name="l5765"><span class="linenum">5765</span></a>              } elseif (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^([&quot;\'])/', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>, -1) !== <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>[0]) {
<a name="l5766"><span class="linenum">5766</span></a>                  <a class="var it38006" onMouseOver="hilite(38006)" onMouseOut="lolite()" onClick="logVariable('quoteActive')" href="../../_variables/quoteActive.html">$quoteActive</a> = <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>;
<a name="l5767"><span class="linenum">5767</span></a>              }
<a name="l5768"><span class="linenum">5768</span></a>          }
<a name="l5769"><span class="linenum">5769</span></a>  
<a name="l5770"><span class="linenum">5770</span></a>          if (<a class="var it38004" onMouseOver="hilite(38004)" onMouseOut="lolite()" onClick="logVariable('unQuote')" href="../../_variables/unQuote.html">$unQuote</a>) {
<a name="l5771"><span class="linenum">5771</span></a>              foreach (<a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; &amp;<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>) {
<a name="l5772"><span class="linenum">5772</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(^&quot;|&quot;$)/', '', <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l5773"><span class="linenum">5773</span></a>                  <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(^\'|\'$)/', '', <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l5774"><span class="linenum">5774</span></a>  
<a name="l5775"><span class="linenum">5775</span></a>              }
<a name="l5776"><span class="linenum">5776</span></a>              unset(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('val')" href="../../_variables/val.html">$val</a>);
<a name="l5777"><span class="linenum">5777</span></a>          }
<a name="l5778"><span class="linenum">5778</span></a>  <span class="comment">            // return reindexed array</span>
<a name="l5779"><span class="linenum">5779</span></a>          return <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it38005" onMouseOver="hilite(38005)" onMouseOut="lolite()" onClick="logVariable('paramsArr')" href="../../_variables/paramsArr.html">$paramsArr</a>);
<a name="l5780"><span class="linenum">5780</span></a>      }
<a name="l5781"><span class="linenum">5781</span></a>  
<a name="l5782"><span class="linenum">5782</span></a>  
<a name="l5783"><span class="linenum">5783</span></a>      <span class="comment">/**</span>
<a name="l5784"><span class="linenum">5784</span></a>  <span class="comment">     * Quotes a string for usage as JS parameter.</span>
<a name="l5785"><span class="linenum">5785</span></a>  <span class="comment">     *</span>
<a name="l5786"><span class="linenum">5786</span></a>  <span class="comment">     * @param string $value the string to encode, may be empty</span>
<a name="l5787"><span class="linenum">5787</span></a>  <span class="comment">     *</span>
<a name="l5788"><span class="linenum">5788</span></a>  <span class="comment">     * @return string the encoded value already quoted (with single quotes),</span>
<a name="l5789"><span class="linenum">5789</span></a>  <span class="comment">     *                will not be empty</span>
<a name="l5790"><span class="linenum">5790</span></a>  <span class="comment">     */</span>
<a name="l5791"><span class="linenum">5791</span></a>  	public static function <a class="function" onClick="logFunction('quoteJSvalue')" href="../../_functions/quotejsvalue.html" onMouseOver="funcPopup(event,'quotejsvalue')">quoteJSvalue</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l5792"><span class="linenum">5792</span></a>          <a class="var it38007" onMouseOver="hilite(38007)" onMouseOut="lolite()" onClick="logVariable('escapedValue')" href="../../_variables/escapedValue.html">$escapedValue</a> = t3lib_div::<a class="function" onClick="logFunction('makeInstance')" href="../../_functions/makeinstance.html" onMouseOver="funcPopup(event,'makeinstance')">makeInstance</a>('t3lib_codec_JavaScriptEncoder')-&gt;<a class="function" onClick="logFunction('encode')" href="../../_functions/encode.html" onMouseOver="funcPopup(event,'encode')">encode</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l5793"><span class="linenum">5793</span></a>          return '\'' . <a class="var it38007" onMouseOver="hilite(38007)" onMouseOut="lolite()" onClick="logVariable('escapedValue')" href="../../_variables/escapedValue.html">$escapedValue</a> . '\'';
<a name="l5794"><span class="linenum">5794</span></a>      }
<a name="l5795"><span class="linenum">5795</span></a>  
<a name="l5796"><span class="linenum">5796</span></a>  
<a name="l5797"><span class="linenum">5797</span></a>      <span class="comment">/**</span>
<a name="l5798"><span class="linenum">5798</span></a>  <span class="comment">     * Ends and cleans all output buffers</span>
<a name="l5799"><span class="linenum">5799</span></a>  <span class="comment">     *</span>
<a name="l5800"><span class="linenum">5800</span></a>  <span class="comment">     * @return void</span>
<a name="l5801"><span class="linenum">5801</span></a>  <span class="comment">     */</span>
<a name="l5802"><span class="linenum">5802</span></a>  	public static function <a class="function" onClick="logFunction('cleanOutputBuffers')" href="../../_functions/cleanoutputbuffers.html" onMouseOver="funcPopup(event,'cleanoutputbuffers')">cleanOutputBuffers</a>() {
<a name="l5803"><span class="linenum">5803</span></a>          while (<a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>()) {
<a name="l5804"><span class="linenum">5804</span></a>              ;
<a name="l5805"><span class="linenum">5805</span></a>          }
<a name="l5806"><span class="linenum">5806</span></a>          <a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-Encoding: None', TRUE);
<a name="l5807"><span class="linenum">5807</span></a>      }
<a name="l5808"><span class="linenum">5808</span></a>  
<a name="l5809"><span class="linenum">5809</span></a>  
<a name="l5810"><span class="linenum">5810</span></a>      <span class="comment">/**</span>
<a name="l5811"><span class="linenum">5811</span></a>  <span class="comment">     * Ends and flushes all output buffers</span>
<a name="l5812"><span class="linenum">5812</span></a>  <span class="comment">     *</span>
<a name="l5813"><span class="linenum">5813</span></a>  <span class="comment">     * @return void</span>
<a name="l5814"><span class="linenum">5814</span></a>  <span class="comment">     */</span>
<a name="l5815"><span class="linenum">5815</span></a>  	public static function <a class="function" onClick="logFunction('flushOutputBuffers')" href="../../_functions/flushoutputbuffers.html" onMouseOver="funcPopup(event,'flushoutputbuffers')">flushOutputBuffers</a>() {
<a name="l5816"><span class="linenum">5816</span></a>          <a class="var it38008" onMouseOver="hilite(38008)" onMouseOut="lolite()" onClick="logVariable('obContent')" href="../../_variables/obContent.html">$obContent</a> = '';
<a name="l5817"><span class="linenum">5817</span></a>  
<a name="l5818"><span class="linenum">5818</span></a>          while (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a> = <a class="phpfunction" onClick="logFunction('ob_get_clean')" href="../../_functions/ob_get_clean.html" onMouseOver="phpfuncPopup(event,'ob_get_clean')">ob_get_clean</a>()) {
<a name="l5819"><span class="linenum">5819</span></a>              <a class="var it38008" onMouseOver="hilite(38008)" onMouseOut="lolite()" onClick="logVariable('obContent')" href="../../_variables/obContent.html">$obContent</a> .= <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>;
<a name="l5820"><span class="linenum">5820</span></a>          }
<a name="l5821"><span class="linenum">5821</span></a>  
<a name="l5822"><span class="linenum">5822</span></a>  <span class="comment">            // if previously a &quot;Content-Encoding: whatever&quot; has been set, we have to unset it</span>
<a name="l5823"><span class="linenum">5823</span></a>          if (!<a class="phpfunction" onClick="logFunction('headers_sent')" href="../../_functions/headers_sent.html" onMouseOver="phpfuncPopup(event,'headers_sent')">headers_sent</a>()) {
<a name="l5824"><span class="linenum">5824</span></a>              <a class="var it38009" onMouseOver="hilite(38009)" onMouseOut="lolite()" onClick="logVariable('headersList')" href="../../_variables/headersList.html">$headersList</a> = <a class="phpfunction" onClick="logFunction('headers_list')" href="../../_functions/headers_list.html" onMouseOver="phpfuncPopup(event,'headers_list')">headers_list</a>();
<a name="l5825"><span class="linenum">5825</span></a>              foreach (<a class="var it38009" onMouseOver="hilite(38009)" onMouseOut="lolite()" onClick="logVariable('headersList')" href="../../_variables/headersList.html">$headersList</a> as <a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../_variables/header.html">$header</a>) {
<a name="l5826"><span class="linenum">5826</span></a>  <span class="comment">                    // split it up at the :</span>
<a name="l5827"><span class="linenum">5827</span></a>                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) = self::<a class="function" onClick="logFunction('trimExplode')" href="../../_functions/trimexplode.html" onMouseOver="funcPopup(event,'trimexplode')">trimExplode</a>(':', <a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../_variables/header.html">$header</a>, TRUE);
<a name="l5828"><span class="linenum">5828</span></a>  <span class="comment">                    // check if we have a Content-Encoding other than 'None'</span>
<a name="l5829"><span class="linenum">5829</span></a>                  if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>) === 'content-encoding' &amp;&amp; <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) !== 'none') {
<a name="l5830"><span class="linenum">5830</span></a>                      <a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>('Content-Encoding: None');
<a name="l5831"><span class="linenum">5831</span></a>                      break;
<a name="l5832"><span class="linenum">5832</span></a>                  }
<a name="l5833"><span class="linenum">5833</span></a>              }
<a name="l5834"><span class="linenum">5834</span></a>          }
<a name="l5835"><span class="linenum">5835</span></a>          echo <a class="var it38008" onMouseOver="hilite(38008)" onMouseOut="lolite()" onClick="logVariable('obContent')" href="../../_variables/obContent.html">$obContent</a>;
<a name="l5836"><span class="linenum">5836</span></a>      }
<a name="l5837"><span class="linenum">5837</span></a>  }
<a name="l5838"><span class="linenum">5838</span></a>  
<a name="l5839"><span class="linenum">5839</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'split_tag_attributes': ['split_tag_attributes', 'Returns an array with the \'components\' from an attribute list from an HTML tag. The result is normally analyzed by get_tag_attributes Removes tag-name if found ', [['lib/typo3','class.t3lib_div.php',2030]], 1],
'getallfilesandfoldersinpath': ['getallfilesandfoldersinpath', 'Recursively gather all files and folders of a path. ', [['lib/typo3','class.t3lib_div.php',3121]], 1],
'parse_charset': ['parse_charset', 'Normalize - changes input character set to lowercase letters. ', [['lib/typo3','class.t3lib_cs.php',516],['lib/classes','text.php',116]], 15],
'locationheaderurl': ['locationheaderurl', 'Prefixes a URL used with \'header-location\' with \'http://...\' depending on whether it has it already. - If already having a scheme, nothing is prepended - If having REQUEST_URI slash \'/\', then prefixing \'http://[host]\' (relative to host) - Otherwise prefixed with TYPO3_REQUEST_DIR (relative to current dir / TYPO3_REQUEST_DIR) ', [['lib/typo3','class.t3lib_div.php',3205]], 0],
'inarray': ['inarray', 'Check if an string item exists in an array. Please note that the order of function parameters is reverse compared to the PHP function in_array()!!! ', [['lib/typo3','class.t3lib_div.php',1540]], 58],
'cleanoutputbuffers': ['cleanoutputbuffers', 'Ends and cleans all output buffers ', [['lib/typo3','class.t3lib_div.php',5797]], 0],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'validpathstr': ['validpathstr', 'Checks for malicious file paths. ', [['lib/typo3','class.t3lib_div.php',3914]], 8],
'redirect': ['redirect', '', [['enrol/lti/ims-blti','blti.php',230],['lib','weblib.php',2659]], 999],
'arraydiffassocrecursive': ['arraydiffassocrecursive', 'Filters keys off from first array that also exist in second array. Comparison is done by keys. This method is a recursive version of php array_diff_assoc() ', [['lib/typo3','class.t3lib_div.php',1912]], 1],
'logdeprecatedfunction': ['logdeprecatedfunction', 'Logs a call to a deprecated function. The log message will be taken from the annotation. ', [['lib/typo3','class.t3lib_div.php',5666]], 12],
'process': ['process', '', [['lib/yuilib/3.17.2/datatable-base','datatable-base.js',370],['backup/moodle2','backup_xml_transformer.class.php',60],['lib/yuilib/3.17.2/datatable-table','datatable-table.js',412],['backup/util/ui','restore_ui.class.php',124],['backup/util/helper','restore_decode_content.class.php',63],['lib','csslib.php',589],['lib/minify/lib/Minify','HTML.php',85],['lib/google/src/Google/Service','MapsEngine.php',1827],['lib/google/src/Google/Service','MapsEngine.php',2436],['lib/google/src/Google/Service','MapsEngine.php',2741],['lib/google/src/Google/Service','MapsEngine.php',3004],['backup/moodle2','backup_custom_fields.php',113],['lib/minify/lib/Minify/CSS','Compressor.php',23],['backup/util/structure','backup_attribute.class.php',34],['course','dnduploadlib.php',449],['message/tests','inbound_test.php',641],['backup/util/interfaces','processable.class.php',35],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16782],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16881],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17049],['backup/util/ui','base_ui.class.php',119],['lib/yuilib/3.17.2/datatable-table','datatable-table-debug.js',412],['backup/util/structure','backup_nested_element.class.php',66],['backup/util/xml/parser','progressive_parser.class.php',145],['lib/pear/HTML','QuickForm.php',1596],['backup/converter/moodle1','lib.php',781],['lib/minify/lib/Minify','ImportProcessor.php',25],['backup/util/plan','restore_structure_step.class.php',117],['backup/util/structure','backup_final_element.class.php',34],['backup/util/structure','backup_optigroup.class.php',59],['backup/util/loggers','base_logger.class.php',115],['lib/google/src/Google/Http','MediaFileUpload.php',222],['lib/yuilib/3.17.2/datatable-core','datatable-core-debug.js',663],['lib/yuilib/3.17.2/datatable-core','datatable-core-debug.js',758],['backup/util/ui','backup_ui_stage.class.php',89],['backup/util/ui','backup_ui_stage.class.php',244],['backup/util/ui','backup_ui_stage.class.php',397],['backup/util/ui','backup_ui_stage.class.php',526],['grade/report/singleview/classes/local/screen','screen.php',260],['lib/minify/lib/Minify','CommentPreserver.php',29],['admin/tool/log/classes/log','manager.php',76],['grade/report/singleview/classes/local/screen','user.php',316],['lib/yuilib/3.17.2/datatable-base','datatable-base-debug.js',370],['backup/util/structure','backup_optigroup_element.class.php',110],['backup/util/helper','restore_log_rule.class.php',100],['grade/report/singleview/classes/local/screen','grade.php',301],['lib/classes/message/inbound','address_manager.php',285],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',79],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',348],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',768],['lib/yuilib/3.17.2/datatable-core','datatable-core.js',663],['lib/yuilib/3.17.2/datatable-core','datatable-core.js',756],['enrol/manual','locallib.php',184],['enrol/manual','locallib.php',344],['lib/jabber/XMPP','XMLStream.php',431],['backup/util/xml/tests','writer_test.php',320],['backup/util/ui','restore_ui_stage.class.php',285],['backup/util/ui','restore_ui_stage.class.php',469],['backup/util/ui','restore_ui_stage.class.php',602],['backup/util/ui','restore_ui_stage.class.php',714],['backup/util/ui','restore_ui_stage.class.php',862],['backup/util/ui','restore_ui_stage.class.php',968],['backup/converter/moodle1','handlerlib.php',562]], 350],
'removedotsfromts': ['removedotsfromts', 'Removes dots "." from end of a key identifier of TypoScript styled array. array(\'key.\' => array(\'property.\' => \'value\')) --> array(\'key\' => array(\'property\' => \'value\')) ', [['lib/typo3','class.t3lib_div.php',1952]], 1],
'sanitizelocalurl': ['sanitizelocalurl', 'Checks if a given string is a valid frame URL to be loaded in the backend. ', [['lib/typo3','class.t3lib_div.php',3989]], 0],
'strtoupper': ['strtoupper', 'Strtoupper multibyte wrapper function with HTML entities handling. ', [['lib/html2text','Html2Text.php',599],['lib/phpexcel/PHPExcel/Shared','String.php',592],['lib/html2text','lib.php',62],['lib/classes','text.php',351],['lib/typo3','class.t3lib_div.php',1323]], 565],
'_post': ['_post', 'Returns the global $_POST array (or value from) normalized to contain un-escaped values. ALWAYS use this API function to acquire the $_POST variables! ', [['lib/typo3','class.t3lib_div.php',168]], 0],
'xml2tree': ['xml2tree', 'Parses XML input into a PHP array with associative keys ', [['lib/typo3','class.t3lib_div.php',2121]], 0],
'rmfromlist': ['rmfromlist', 'Removes an item from a comma-separated list of items. ', [['lib/typo3','class.t3lib_div.php',816]], 0],
'isallowedhostheadervalue': ['isallowedhostheadervalue', 'Checks if the provided host header value matches the trusted hosts pattern. If the pattern is not defined (which only can happen early in the bootstrap), deny any value. ', [['lib/typo3','class.t3lib_div.php',3710]], 1],
'validipv4': ['validipv4', 'Validate a given IP address to the IPv4 address format. ', [['lib/typo3','class.t3lib_div.php',698]], 1],
'quotejsvalue': ['quotejsvalue', 'Quotes a string for usage as JS parameter. ', [['lib/typo3','class.t3lib_div.php',5783]], 0],
'wrapjs': ['wrapjs', 'Wraps JavaScript code XHTML ready with <script>-tags Automatic re-indenting of the JS code is done by using the first line as indent reference. This is nice for indenting JS code with PHP code on the same level. ', [['lib/typo3','class.t3lib_div.php',2090]], 2],
'modifyhtmlcolor': ['modifyhtmlcolor', 'Modifies a HTML Hex color by adding/subtracting $R,$G and $B integers ', [['lib/typo3','class.t3lib_div.php',1048]], 1],
'instantiateclass': ['instantiateclass', 'Speed optimized alternative to ReflectionClass::newInstanceArgs() ', [['lib/typo3','class.t3lib_div.php',4921]], 1],
'removexss': ['removexss', 'Wrapper for the RemoveXSS function. Removes potential XSS code from an input string. ', [['lib/typo3','class.t3lib_div.php',239]], 1],
'createdirectorypath': ['createdirectorypath', 'Creates directories for the specified paths if they do not exist. This functions sets proper permission mask but does not set proper user and group. ', [['lib/typo3','class.t3lib_div.php',2970]], 1],
'variable': ['variable', 'Generate Mustache Template variable interpolation PHP source. ', [['lib/mustache/src/Mustache','Compiler.php',505],['lib/lessphp/Tree','Ruleset.php',309],['lib/lessphp/Tree','Directive.php',79],['lib/lessphp/Tree','Media.php',75]], 8],
'stdauthcode': ['stdauthcode', 'Standard authentication code (used in Direct Mail, checkJumpUrl and setfixed links computations) ', [['lib/typo3','class.t3lib_div.php',4106]], 0],
'resolvebackpath': ['resolvebackpath', 'Resolves "../" sections in the input path string. For example "fileadmin/directory/../other_directory/" will be resolved to "fileadmin/other_directory/" ', [['lib/typo3','class.t3lib_div.php',3178]], 3],
'getuserobj': ['getuserobj', 'Creates and returns reference to a user defined object. This function can return an object reference if you like. Just prefix the function call with "&": "$objRef = &t3lib_div::getUserObj(\'EXT:myext/class.tx_myext_myclass.php:&tx_myext_myclass\');". This will work ONLY if you prefix the class name with "&" as well. See description of function arguments. ', [['lib/typo3','class.t3lib_div.php',4762]], 0],
'implodeattributes': ['implodeattributes', 'Implodes attributes in the array $arr for an attribute list in eg. and HTML tag (with quotes) ', [['lib/typo3','class.t3lib_div.php',2063]], 0],
'generaterandombytesfallback': ['generaterandombytesfallback', 'Generate pseudo random bytes as last resort ', [['lib/typo3','class.t3lib_div.php',1446]], 1],
'removearrayentrybyvalue': ['removearrayentrybyvalue', 'Removes the value $cmpValue from the $array if found there. Returns the modified array ', [['lib/typo3','class.t3lib_div.php',1646]], 1],
'hmac': ['hmac', 'Calculate an MD5 HMAC hash. Works like hash_hmac(\'md5\', $data, $key) in case that function is not available ', [['lib/phpmailer','class.smtp.php',523],['lib/typo3','class.t3lib_div.php',943]], 1],
'getclassname': ['getclassname', 'Returns the class name for a new instance, taking into account the class-extension API. ', [['lib/typo3','class.t3lib_div.php',4969]], 422],
'deprecationlog': ['deprecationlog', 'Writes a message to the deprecation log. ', [['lib/typo3','class.t3lib_div.php',5602]], 1],
'freetypedpicomp': ['freetypedpicomp', 'Function to compensate for FreeType2 96 dpi ', [['lib/typo3','class.t3lib_div.php',5423]], 0],
'getthisurl': ['getthisurl', 'Returns the HOST+DIR-PATH of the current script (The URL, but without \'http://\' and without script-filename) ', [['lib/typo3','class.t3lib_div.php',3352]], 0],
'getvalidclassprefixes': ['getvalidclassprefixes', 'Returns all valid class prefixes. ', [['lib/typo3','class.t3lib_div.php',4854]], 1],
'requireonce': ['requireonce', 'Require a class for TYPO3 Useful to require classes from inside other classes (not global scope). A limited set of global variables are available (see function) ', [['lib/typo3','class.t3lib_div.php',5147]], 3],
'generatechash': ['generatechash', 'Returns the cHash based on provided query parameters and added values from internal call ', [['lib/typo3','class.t3lib_div.php',4171]], 0],
'get_dirs': ['get_dirs', 'Returns an array with the names of folders in a specific path Will return \'error\' (string) if there were an error with reading directory content. ', [['lib/typo3','class.t3lib_div.php',3038]], 1],
'getdeprecationlogfilename': ['getdeprecationlogfilename', 'Gets the absolute path to the deprecation log file. ', [['lib/typo3','class.t3lib_div.php',5652]], 1],
'getfileabsfilename': ['getfileabsfilename', 'Returns the absolute filename of a relative reference, resolves the "EXT:" prefix (way of referring to files inside extensions) and checks that the file is inside the PATH_site of the TYPO3 installation and implies a check with t3lib_div::validPathStr(). Returns FALSE if checks failed. Does not check if the file exists. ', [['lib/typo3','class.t3lib_div.php',3877]], 12],
'getrandomhexstring': ['getrandomhexstring', 'Returns a hex representation of a random byte string. ', [['lib/typo3','class.t3lib_div.php',1463]], 0],
'implodearrayforurl': ['implodearrayforurl', 'Implodes a multidim-array into GET-parameters (eg. &param[key][key2]=value2&param[key][key3]=value3) ', [['lib/typo3','class.t3lib_div.php',1711]], 3],
'resolveallsheetsinds': ['resolveallsheetsinds', 'Resolves ALL sheet definitions in dataStructArray If no sheet is found, then the default "sDEF" will be created with the dataStructure inside. ', [['lib/typo3','class.t3lib_div.php',4623]], 0],
'normalizemailaddress': ['normalizemailaddress', 'Changes from/to arguments for mail() function to work in any environment. ', [['lib/typo3','class.t3lib_div.php',1296]], 2],
'testint': ['testint', 'Tests if the input can be interpreted as integer. ', [['lib/typo3','class.t3lib_div.php',1081]], 0],
'unquotefilenames': ['unquotefilenames', 'Explode a string (normally a list of filenames) with whitespaces by considering quotes in that string. This is mostly needed by the imageMagickCommand function above. ', [['lib/typo3','class.t3lib_div.php',5744]], 0],
'init': ['init', 'Init method. ', [['lib/classes/event','competency_plan_unlinked.php',90],['lib/classes/session','file.php',53],['lib/classes/event','grouping_group_assigned.php',66],['admin/tool/xmldb/actions/view_table_sql','view_table_sql.class.php',33],['lib/classes/event','enrol_instance_deleted.php',88],['report/log/classes/event','user_report_viewed.php',44],['mod/quiz/classes/event','attempt_reviewed.php',44],['lib/classes/event','tag_unflagged.php',46],['mod/workshop/allocation/scheduled','lib.php',52],['lib/classes/event','role_unassigned.php',47],['mod/assign/classes/event','grading_form_viewed.php',74],['question/classes/bank','edit_action_column.php',29],['blocks/blog_menu','block_blog_menu.php',32],['mod/workshop/classes/event','submission_deleted.php',44],['admin/tool/xmldb/actions/view_table_php','view_table_php.class.php',33],['mod/forum/classes/event','discussion_updated.php',44],['lib/classes/event','course_module_instance_list_viewed.php',49],['lib/classes/event','course_created.php',46],['mod/assign/classes/event','extension_granted.php',86],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','attributes.js',1],['blocks/course_overview','block_course_overview.php',38],['admin/tool/xmldb/actions/delete_index','delete_index.class.php',32],['lib/classes/event','course_deleted.php',47],['lib/minify/lib','FirePHP.php',221],['lib/lessphp','Environment.php',56],['mod/forum/classes/event','readtracking_enabled.php',44],['mod/wiki/classes/event','page_created.php',37],['lib/classes/event','competency_viewed.php',88],['mod/choice/classes/event','answer_updated.php',90],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','row.js',3],['lib/minify/lib','JSMinPlus.php',1753],['lib/classes/event','search_indexed.php',39],['lib/classes/event','badge_criteria_updated.php',44],['mod/wiki/classes/event','page_version_deleted.php',43],['lib/classes/event','competency_user_competency_rated_in_plan.php',107],['lib/classes/event','webservice_token_sent.php',65],['mod/glossary/classes/event','entry_deleted.php',45],['lib/classes/event','competency_template_viewed.php',90],['mod/feedback/classes','responses_anon_table.php',42],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',57],['admin/tool/langimport/classes/event','langpack_removed.php',61],['mod/glossary/classes/event','category_deleted.php',37],['mod/lti/classes/event','unknown_service_api_called.php',64],['lib/classes/event','badge_deleted.php',40],['mod/quiz/classes/event','user_override_updated.php',45],['lib/classes/event','message_contact_added.php',39],['lib/classes/event','cohort_member_added.php',38],['lib/classes/event','blog_entry_updated.php',42],['admin/tool/xmldb/actions/move_updown_table','move_updown_table.class.php',32],['mod/assign/classes/event','workflow_state_updated.php',97],['blocks/completionstatus','block_completionstatus.php',36],['mod/forum/classes/event','assessable_uploaded.php',104],['mod/assign/classes/event','submission_created.php',49],['lib/classes/event','group_deleted.php',83],['lib/classes/event','role_allow_assign_updated.php',39],['lib/simplepie/library','SimplePie.php',1198],['blocks/globalsearch','block_globalsearch.php',36],['lib/tests','blocklib_test.php',564],['lib/tests/fixtures','stats_events.php',32],['lib/tests/fixtures','stats_events.php',39],['lib/tests/fixtures','stats_events.php',46],['lib/tests/fixtures','stats_events.php',53],['mod/lesson/classes/event','highscore_added.php',50],['mod/forum/classes/event','discussion_pinned.php',35],['lib/classes/event','webservice_function_called.php',76],['lib/classes/event','competency_plan_reopened.php',93],['mod/lesson/classes/event','essay_attempt_viewed.php',39],['mod/wiki/classes/event','page_locks_deleted.php',43],['lib/classes/event','webservice_service_deleted.php',77],['mod/forum/classes/event','discussion_subscription_created.php',45],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',242],['admin/tool/log/store/database/tests/fixtures','event.php',39],['mod/workshop/classes/event','assessable_uploaded.php',112],['lib','csslib.php',1493],['lib','csslib.php',1579],['lib','csslib.php',2462],['lib','csslib.php',2572],['lib','csslib.php',2593],['lib','csslib.php',2732],['lib','csslib.php',2762],['lib','csslib.php',2792],['lib','csslib.php',2822],['lib','csslib.php',2852],['lib','csslib.php',3186],['lib','csslib.php',3266],['lib','csslib.php',3309],['lib','csslib.php',3352],['lib','csslib.php',3395],['lib','csslib.php',3438],['lib','csslib.php',3525],['lib','csslib.php',3578],['lib','csslib.php',3608],['lib','csslib.php',3638],['lib','csslib.php',3668],['lib','csslib.php',3698],['lib','csslib.php',3728],['lib','csslib.php',3758],['lib','csslib.php',3788],['lib','csslib.php',3818],['lib','csslib.php',3848],['lib','csslib.php',3878],['lib','csslib.php',3908],['lib','csslib.php',3938],['lib','csslib.php',4243],['lib','csslib.php',4277],['lib','csslib.php',4328],['lib','csslib.php',4381],['lib','csslib.php',4413],['lib','csslib.php',4464],['lib','csslib.php',4515],['lib','csslib.php',4566],['lib','csslib.php',4596],['lib','csslib.php',4626],['lib','csslib.php',4656],['lib','csslib.php',4791],['lib','csslib.php',4821],['lib','csslib.php',4851],['lib','csslib.php',4881],['lib','csslib.php',4910],['lib','csslib.php',4945],['lib','csslib.php',4977],['lib/classes/event','user_loggedout.php',44],['lib/classes/event','webservice_token_created.php',83],['lib/classes/event','tag_collection_updated.php',39],['mod/data/classes/event','field_deleted.php',46],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',44],['mod/book/classes/event','chapter_created.php',100],['lib/classes/event','email_failed.php',48],['admin/tool/xmldb/actions/view_structure_sql','view_structure_sql.class.php',33],['blocks/calendar_upcoming','block_calendar_upcoming.php',26],['mod/survey/classes/event','report_downloaded.php',46],['mod/workshop/classes/event','phase_switched.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','table.js',295],['admin/tool/xmldb/actions/edit_key_save','edit_key_save.class.php',33],['blocks/private_files','block_private_files.php',28],['mod/page/classes/event','course_module_viewed.php',38],['lib/classes/event','course_reset_started.php',71],['mod/workshop/classes/event','assessment_evaluated.php',45],['lib/classes/event','blog_association_created.php',46],['backup/converter','convertlib.php',211],['report/outline/classes/event','activity_report_viewed.php',38],['lib/classes/event','competency_plan_updated.php',93],['mod/choice/classes/event','answer_submitted.php',90],['blocks/admin_bookmarks','block_admin_bookmarks.php',41],['admin/tool/xmldb/actions/view_field_xml','view_field_xml.class.php',32],['blocks/myprofile','block_myprofile.php',40],['mod/lesson/classes/event','lesson_ended.php',40],['lib/classes/event','role_allow_switch_updated.php',39],['lib/classes/session','memcache.php',88],['lib/classes/event','competency_user_competency_rated_in_course.php',107],['question/classes/bank','question_text_row.php',29],['lib/classes/event','tag_created.php',46],['report/participation/classes/event','report_viewed.php',48],['lib/classes/event','role_capabilities_updated.php',42],['blocks/mentees','block_mentees.php',27],['lib','csvlib.class.php',216],['mod/survey/classes/event','response_submitted.php',45],['lib/classes/event','badge_archived.php',38],['mod/workshop/classes/event','assessment_reevaluated.php',45],['mod/assign/classes/event','submission_locked.php',87],['admin/tool/xmldb/actions/view_table_xml','view_table_xml.class.php',32],['report/outline/classes/event','report_viewed.php',44],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/style/js','props.js',57],['lib/classes/event','user_deleted.php',48],['lib/classes/event','mnet_access_control_updated.php',48],['mod/lesson/classes/event','essay_assessed.php',46],['blocks/html','block_html.php',27],['mod/book/tool/print/classes/event','book_printed.php',94],['mod/feedback/classes','responses_table.php',82],['lib/classes/event','grouping_deleted.php',90],['blocks/section_links','block_section_links.php',34],['lib/classes/event','course_viewed.php',46],['mod/forum/classes/event','user_report_viewed.php',45],['admin/tool/xmldb/actions/check_bigints','check_bigints.class.php',32],['admin/tool/xmldb/actions/check_defaults','check_defaults.class.php',34],['admin/tool/xmldb/actions/edit_xml_file_save','edit_xml_file_save.class.php',32],['admin/tool/xmldb/actions/move_updown_index','move_updown_index.class.php',32],['mod/quiz/classes/event','attempt_summary_viewed.php',45],['lib/classes/event','webservice_service_user_added.php',77],['mod/forum/classes/event','discussion_unpinned.php',35],['lib/classes/event','grouping_group_unassigned.php',66],['blocks/lp','block_lp.php',45],['mod/assign/submission/file/classes/event','submission_updated.php',45],['mod/quiz/report','attemptsreport.php',67],['mod/chat/classes/event','message_sent.php',77],['mod/chat/classes/event','course_module_viewed.php',38],['lib/classes/event','role_assigned.php',47],['blocks/site_main_menu','block_site_main_menu.php',26],['blocks/social_activities','block_social_activities.php',26],['lib/htmlpurifier/HTMLPurifier/ChildDef','StrictBlockquote.php',97],['mod/glossary/classes/event','entry_viewed.php',39],['mod/data/classes/event','record_created.php',45],['admin/tool/xmldb/actions/main_view','main_view.class.php',35],['lib/classes/event','course_category_deleted.php',50],['mod/quiz/classes/event','course_module_viewed.php',39],['lib/classes/event','role_deleted.php',46],['blocks/tag_flickr','block_tag_flickr.php',30],['mod/wiki/classes/event','page_version_viewed.php',43],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',38],['mod/data/classes/event','course_module_viewed.php',40],['auth/cas/CAS/CAS/PGTStorage','File.php',150],['mod/choice/classes/event','course_module_viewed.php',38],['admin/tool/log/store/standard/tests/fixtures','event.php',39],['admin/tool/monitor/classes/event','rule_created.php',39],['admin/tool/xmldb/actions/check_oracle_semantics','check_oracle_semantics.class.php',37],['question/classes/bank','checkbox_column.php',28],['lib/classes/event','competency_user_competency_plan_viewed.php',100],['lib/adodb/drivers','adodb-pdo.inc.php',651],['mod/forum/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_updated.php',44],['mod/choice/classes/event','report_viewed.php',44],['mod/lesson/classes/event','group_override_deleted.php',45],['mod/wiki/classes/event','page_map_viewed.php',43],['blocks/mnet_hosts','block_mnet_hosts.php',26],['admin/tool/log/store/legacy/tests/fixtures','event.php',39],['admin/tool/xmldb/actions/new_index','new_index.class.php',32],['admin/tool/xmldb/actions/get_db_directories','get_db_directories.class.php',33],['mod/lesson/classes/event','question_answered.php',45],['mod/choice/classes/event','report_downloaded.php',46],['lib/classes/event','competency_user_evidence_created.php',91],['lib/classes/event','course_module_completion_updated.php',45],['admin/tool/xmldb/actions/delete_xml_file','delete_xml_file.class.php',32],['backup/util/xml/output','file_xml_output.class.php',44],['question/engine','states.php',64],['lib/classes/event','note_updated.php',47],['lib/classes/event','note_created.php',47],['lib/classes/event','competency_framework_created.php',90],['lib/classes/event','course_resources_list_viewed.php',41],['lib/classes/event','tag_updated.php',49],['mod/forum/classes/event','subscribers_viewed.php',45],['question/classes/bank','column_base.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',94],['mod/quiz/classes/question/bank','add_action_column.php',40],['blocks/quiz_results','block_quiz_results.php',40],['lib/classes/event','user_enrolment_deleted.php',45],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',38],['admin/tool/xmldb/actions/unload_xml_file','unload_xml_file.class.php',32],['lib/classes/event','webservice_service_updated.php',77],['mod/lesson/classes/event','group_override_created.php',46],['admin/tool/xmldb/actions/view_index_xml','view_index_xml.class.php',32],['admin/tool/xmldb/actions/generate_documentation','generate_documentation.class.php',32],['mod/scorm/classes/event','attempt_deleted.php',44],['admin/tool/xmldb/actions/new_field','new_field.class.php',32],['lib/classes/event','competency_user_competency_review_request_cancelled.php',90],['lib/classes/event','webservice_service_created.php',83],['mod/workshop/allocation/random','lib.php',56],['mod/wiki/classes/event','page_version_restored.php',43],['mod/forum/classes/event','discussion_deleted.php',45],['lib/classes/event','competency_framework_updated.php',91],['mod/lesson/classes/event','lesson_restarted.php',39],['mod/wiki/classes/event','page_updated.php',43],['mod/assign/classes/event','marker_updated.php',98],['admin/tool/xmldb/actions/new_key','new_key.class.php',32],['admin/tool/xmldb/actions/check_indexes','check_indexes.class.php',34],['admin/tool/xmldb/actions/new_table_from_mysql','new_table_from_mysql.class.php',33],['lib/classes/event','course_module_updated.php',48],['admin/tool/xmldb/actions/delete_field','delete_field.class.php',32],['lib/classes/event','competency_template_deleted.php',82],['blocks/settings','block_settings.php',46],['mod/assign/classes/event','submission_confirmation_form_viewed.php',71],['report/questioninstances/classes/event','report_viewed.php',44],['lib/classes/event','message_contact_blocked.php',39],['lib/classes/event','competency_template_updated.php',93],['lib/classes/event','badge_disabled.php',38],['mod/assign/classes/event','grading_table_viewed.php',71],['lib/classes/event','badge_enabled.php',38],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','del.js',1],['mod/quiz/classes/event','edit_page_viewed.php',45],['blocks/activity_modules','block_activity_modules.php',29],['mod/scorm/classes/event','tracks_viewed.php',46],['mod/wiki/classes/event','page_diff_viewed.php',44],['lib/tcpdf/include/barcodes','qrcode.php',854],['lib/classes/event','assessable_submitted.php',46],['lib/classes/event','grouping_created.php',83],['mod/assign/submission/onlinetext/classes/event','submission_created.php',45],['lib/classes/event','calendar_event_deleted.php',47],['lib/classes/event','group_updated.php',83],['mod/book/classes/event','chapter_updated.php',100],['lib/classes/event','grade_deleted.php',50],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',38],['lib/classes/event','user_loggedin.php',91],['mod/forum/classes/event','subscription_created.php',44],['lib/classes/event','tag_collection_created.php',39],['grade/report/overview/classes/event','grade_report_viewed.php',39],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',71],['mod/quiz/classes/event','group_override_updated.php',45],['lib/classes/event','competency_plan_created.php',90],['mod/glossary/classes/event','entry_disapproved.php',37],['lib/classes/event','message_viewed.php',45],['lib/classes/event','comment_created.php',47],['lib/classes/event','course_content_deleted.php',45],['blocks/glossary_random','block_glossary_random.php',38],['mod/feedback/classes/event','response_deleted.php',48],['lib/classes/event','competency_evidence_created.php',125],['lib/classes/event','comment_deleted.php',47],['lib/classes/event','competency_user_competency_review_requested.php',90],['mod/quiz/classes/event','attempt_abandoned.php',44],['admin/tool/xmldb/actions/delete_table','delete_table.class.php',32],['mod/scorm/classes/event','user_report_viewed.php',45],['mod/quiz/classes/event','attempt_becameoverdue.php',47],['mod/quiz/classes/event','group_override_created.php',46],['mod/book/tool/print/classes/event','chapter_printed.php',97],['mod/data/classes/event','record_deleted.php',45],['admin/tool/xmldb/actions/view_structure_xml','view_structure_xml.class.php',32],['lib/classes/event','competency_user_competency_viewed.php',99],['lib/classes/event','dashboard_viewed.php',40],['mod/lesson/classes/event','question_viewed.php',45],['lib/classes/event','user_profile_viewed.php',47],['mod/lesson/classes/event','user_override_deleted.php',44],['mod/data/preset/imagegallery','jstemplate.js',4],['grade','lib.php',128],['lib/classes/event','cohort_member_removed.php',39],['mod/lesson/classes/event','lesson_started.php',39],['blocks/news_items','block_news_items.php',33],['mod/lesson/classes/event','page_updated.php',64],['mod/resource/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_viewed.php',44],['lib/editor/tinymce/plugins/moodlemedia/tinymce/js','media.js',13],['lib/classes/event','competency_deleted.php',96],['admin/tool/xmldb/actions/revert_changes','revert_changes.class.php',32],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',565],['mod/assign/feedback/offline','importgradeslib.php',91],['mod/glossary/classes/event','entry_created.php',43],['lib/classes/event','dashboard_reset.php',40],['admin/tool/xmldb/actions/edit_index_save','edit_index_save.class.php',33],['lib/classes','component.php',119],['admin/tool/xmldb/actions/view_structure_php','view_structure_php.class.php',33],['mod/wiki/classes/event','page_history_viewed.php',37],['blocks/blog_tags','block_blog_tags.php',32],['lib/classes/event','competency_plan_review_request_cancelled.php',93],['lib/classes/event','competency_plan_deleted.php',82],['blocks/feedback','block_feedback.php',31],['mod/quiz/classes/event','attempt_viewed.php',45],['lib/adodb','adodb.inc.php',3102],['lib/adodb','adodb.inc.php',3266],['mod/data/classes/event','field_updated.php',46],['lib/classes/event','grouping_updated.php',83],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','about.js',3],['backup/converter/moodle1','lib.php',111],['lib/classes/event','question_category_created.php',39],['grade/report/user/classes/event','grade_report_viewed.php',39],['lib/classes/event','user_login_failed.php',45],['mod/scorm/classes/event','report_viewed.php',45],['mod/chat/classes/event','sessions_viewed.php',83],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',38],['mod/quiz/classes/event','user_override_deleted.php',44],['portfolio/mahara','lib.php',53],['mod/quiz/classes/event','attempt_submitted.php',44],['mod/lesson/classes/event','group_override_updated.php',45],['mod/workshop/classes/event','submission_created.php',44],['mod/assign/classes/event','submission_updated.php',49],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',242],['comment','lib.php',241],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',101],['lib/classes/event','competency_updated.php',88],['lib/classes/event','note_deleted.php',47],['mod/lesson/classes/event','page_moved.php',47],['admin/tool/xmldb/actions/edit_key','edit_key.class.php',32],['mod/book/classes/event','course_module_viewed.php',57],['mod/workshop/allocation/manual','lib.php',55],['lib/classes/event','course_completed.php',64],['lib/classes/event','tag_added.php',49],['lib/classes/event','competency_created.php',88],['mod/lesson/classes/event','highscores_viewed.php',42],['lib/classes/event','message_contact_unblocked.php',39],['admin/tool/xmldb/actions/template','template.class.php',31],['admin/tool/xmldb/actions/view_key_xml','view_key_xml.class.php',32],['blocks/search_forums','block_search_forums.php',26],['lib/classes/event','user_enrolment_created.php',44],['admin/tool/xmldb/actions/generate_all_documentation','generate_all_documentation.class.php',33],['lib/classes/event','course_module_created.php',48],['lib/classes/event','webservice_service_user_removed.php',77],['report/log/classes/event','report_viewed.php',48],['mod/assign/submission/file/classes/event','assessable_uploaded.php',113],['mod/imscp/classes/event','course_module_viewed.php',40],['lib/classes/event','group_member_added.php',96],['mod/forum/classes/event','discussion_viewed.php',39],['mod/assign/classes/event','submission_viewed.php',67],['mod/lti/classes/event','course_module_viewed.php',39],['mod/workshop/classes/event','submission_reassessed.php',46],['mod/feedback/classes/event','course_module_viewed.php',44],['admin/tool/xmldb/actions/load_xml_file','load_xml_file.class.php',32],['admin/tool/log/store/database/classes/log','store.php',62],['mod/workshop/classes/event','assessment_evaluations_reset.php',45],['mod/assign/classes/event','statement_accepted.php',86],['mod/assign/classes/event','feedback_viewed.php',67],['admin/tool/xmldb/actions/edit_field_save','edit_field_save.class.php',33],['mod/forum/classes/event','discussion_moved.php',45],['lib/classes/event','competency_user_evidence_deleted.php',82],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',71],['mod/lesson/classes/event','lesson_resumed.php',39],['lib/editor/tinymce/tiny_mce/3.5.11/themes/advanced/js','color_picker.js',63],['blocks/navigation','block_navigation.php',55],['blocks/comments','block_comments.php',32],['lib/classes/event','comments_viewed.php',41],['mod/data/classes/event','template_viewed.php',45],['mod/wiki/classes/event','page_deleted.php',43],['mod/quiz/classes/event','report_viewed.php',46],['admin/tool/xmldb/actions/save_xml_file','save_xml_file.class.php',37],['admin/tool/xmldb/actions','XMLDBCheckAction.class.php',38],['mod/workshop/allocation','lib.php',40],['admin/tool/xmldb/actions/edit_table','edit_table.class.php',36],['mod/scorm/classes/event','sco_launched.php',45],['mod/glossary/classes/event','entry_updated.php',43],['mod/lesson/classes/event','user_override_created.php',44],['mod/glossary/classes/event','category_updated.php',37],['lib/classes/event','course_updated.php',49],['mod/feedback/classes/event','response_submitted.php',48],['lib/classes/event','blog_entry_deleted.php',43],['mod/book/classes/event','chapter_deleted.php',97],['report/completion/classes/event','report_viewed.php',39],['lib/classes/event','recent_activity_viewed.php',39],['mod/quiz/classes/event','question_manually_graded.php',46],['mod/assign/classes/event','submission_status_updated.php',88],['lib/classes/event','user_enrolment_updated.php',44],['admin/tool/xmldb/actions/delete_key','delete_key.class.php',32],['admin/tool/log/classes/log','manager.php',39],['lib/google/src/Google/Service','Spectrum.php',131],['lib/classes/event','tag_deleted.php',46],['report/completion/classes/event','user_report_viewed.php',39],['report/stats/classes/event','report_viewed.php',46],['lib/classes/event','calendar_event_created.php',47],['mod/survey/classes/event','course_module_viewed.php',45],['blocks/badges','block_badges.php',35],['mod/assign/classes/event','submission_duplicated.php',86],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/advlink/js','advlink.js',22],['lib/classes/event','competency_framework_deleted.php',82],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','abbr.js',1],['lib/classes/event','course_section_updated.php',45],['lib/classes/event','message_sent.php',74],['lib/classes/event','calendar_subscription_deleted.php',45],['blocks/blog_recent','block_blog_recent.php',33],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','ins.js',1],['lib/classes/event','course_category_updated.php',42],['admin/tool/xmldb/actions/create_xml_file','create_xml_file.class.php',31],['lib/classes/event','user_password_updated.php',62],['mod/forum/classes/event','subscription_deleted.php',44],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',71],['lib/classes/event','user_loggedinas.php',46],['lib/classes/event','competency_template_created.php',90],['blocks/selfcompletion','block_selfcompletion.php',37],['lib/classes/event','user_created.php',39],['blocks/community','block_community.php',28],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',38],['report/loglive/classes/event','report_viewed.php',38],['admin/tool/monitor/classes/event','subscription_created.php',39],['lib/classes/session','memcached.php',118],['mod/book/classes/event','chapter_viewed.php',97],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','acronym.js',1],['lib/classes/event','badge_awarded.php',45],['lib/classes/event','calendar_subscription_created.php',46],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table/js','cell.js',5],['lib/classes/event','enrol_instance_created.php',87],['mod/folder/classes/event','course_module_viewed.php',39],['lib/classes/event','user_list_viewed.php',47],['mod/forum/classes/event','post_deleted.php',46],['mod/quiz/classes/event','group_override_deleted.php',45],['lib/classes/event','badge_created.php',38],['blocks/recent_activity','block_recent_activity.php',43],['lib/classes/event','competency_framework_viewed.php',87],['lib/classes/event','tag_collection_deleted.php',39],['mod/glossary/classes/event','course_module_viewed.php',44],['admin/tool/xmldb/actions/edit_xml_file','edit_xml_file.class.php',35],['lib/classes/event','group_member_removed.php',87],['lib/classes/event','grade_report_viewed.php',42],['mod/scorm/classes/event','course_module_viewed.php',38],['lib/classes/event','calendar_event_updated.php',47],['lib/classes/event','user_updated.php',39],['mod/lesson/classes/event','page_created.php',45],['grade/report/singleview/classes/local/screen','select.php',41],['lib/classes/event','assessable_uploaded.php',53],['grade/report/singleview/classes/local/screen','user.php',94],['mod/assign/classes/event','submission_form_viewed.php',74],['mod/url/classes/event','course_module_viewed.php',39],['auth/cas/CAS/CAS/PGTStorage','Db.php',174],['lib/adodb/drivers','adodb-oci8.inc.php',1564],['lib/classes/session','database.php',65],['question/classes/bank/search','category_condition.php',79],['lib/classes/event','course_completion_updated.php',39],['lib/classes/event','competency_plan_review_started.php',93],['lib/classes/event','course_user_report_viewed.php',46],['mod/folder/classes/event','all_files_downloaded.php',39],['mod/workshop/classes/event','assessments_reset.php',44],['mod/data/classes/event','template_updated.php',46],['mod/assign/classes/event','identities_revealed.php',84],['question/classes/bank','copy_action_column.php',30],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',31],['lib/classes/event','notes_viewed.php',41],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',38],['lib/classes/event','competency_plan_viewed.php',90],['mod/data/classes/event','record_updated.php',45],['lib/classes/event','competency_plan_unapproved.php',93],['mod/lesson/classes/event','content_page_viewed.php',39],['admin/tool/monitor/classes/event','subscription_deleted.php',39],['mod/assign/classes/event','assessable_submitted.php',118],['grade/report/singleview/classes/local/screen','grade.php',126],['admin/tool/xmldb/actions/move_updown_field','move_updown_field.class.php',32],['mod/quiz/classes/event','attempt_started.php',43],['blocks/tag_youtube','block_tag_youtube.php',34],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',242],['mod/wiki/classes/event','course_module_viewed.php',38],['lib/classes/event','competency_user_competency_rated.php',100],['mod/forum/classes/event','post_updated.php',46],['admin/tool/xmldb/actions/edit_table_save','edit_table_save.class.php',32],['lib/classes/event','course_module_deleted.php',47],['lib/classes/event','competency_plan_review_requested.php',93],['lib/classes/event','user_graded.php',85],['lib/classes/event','webservice_login_failed.php',80],['blocks/course_summary','block_course_summary.php',32],['mod/forum/classes/event','post_created.php',46],['mod/assign/classes/event','submission_status_viewed.php',71],['mod/scorm/classes/event','cmielement_submitted.php',46],['lib/classes/event','enrol_instance_updated.php',88],['admin/tool/capability/classes/event','report_viewed.php',36],['mod/data/classes/event','field_created.php',47],['admin/tool/xmldb/actions/edit_index','edit_index.class.php',32],['mod/folder/classes/event','folder_updated.php',39],['lib/classes/event','badge_updated.php',38],['lib/tests/fixtures','event_fixtures.php',42],['lib/tests/fixtures','event_fixtures.php',117],['lib/tests/fixtures','event_fixtures.php',124],['lib/tests/fixtures','event_fixtures.php',131],['lib/tests/fixtures','event_fixtures.php',139],['lib/tests/fixtures','event_fixtures.php',147],['lib/tests/fixtures','event_fixtures.php',155],['lib/tests/fixtures','event_fixtures.php',162],['lib/tests/fixtures','event_fixtures.php',170],['lib/tests/fixtures','event_fixtures.php',178],['lib/tests/fixtures','event_fixtures.php',186],['lib/tests/fixtures','event_fixtures.php',193],['lib/tests/fixtures','event_fixtures.php',201],['lib/tests/fixtures','event_fixtures.php',216],['lib/tests/fixtures','event_fixtures.php',225],['lib/tests/fixtures','event_fixtures.php',238],['lib/tests/fixtures','event_fixtures.php',267],['lib/tests/fixtures','event_fixtures.php',304],['lib/tests/fixtures','event_fixtures.php',315],['lib/tests/fixtures','event_fixtures.php',338],['lib/tests/fixtures','event_fixtures.php',345],['mod/lesson/classes/event','course_module_viewed.php',40],['admin/tool/xmldb/actions/edit_field','edit_field.class.php',32],['admin/tool/xmldb/actions/move_updown_key','move_updown_key.class.php',32],['lib','graphlib.php',158],['mod/survey/classes/event','report_viewed.php',46],['grade/report/singleview/tests/fixtures','screen.php',38],['blocks/tags','block_tags.php',26],['mod/quiz/classes/event','attempt_deleted.php',44],['blocks/participants','block_participants.php',26],['mod/glossary/classes/event','entry_approved.php',37],['mod/wiki/classes/event','comments_viewed.php',38],['mod/wiki/classes/event','page_viewed.php',46],['mod/assign/submission/onlinetext/classes/event','submission_updated.php',45],['mod/forum/classes/event','readtracking_disabled.php',44],['mod/assign/submission/file/classes/event','submission_created.php',45],['admin/tool/langimport/classes/event','langpack_imported.php',61],['lib/classes/event','competency_plan_review_stopped.php',93],['admin/tool/langimport/classes/event','langpack_updated.php',61],['blocks/online_users','block_online_users.php',33],['admin/tool/xmldb/actions/load_xml_files','load_xml_files.class.php',32],['lib/classes/event','unknown_logged.php',39],['lib/classes/event','competency_user_competency_viewed_in_plan.php',104],['lib/classes/event','competency_user_competency_viewed_in_course.php',103],['mod/glossary/classes/event','category_created.php',37],['lib/portfolio','plugin.php',476],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/xhtmlxtras/js','cite.js',1],['mnet','environment.php',20],['blocks/login','block_login.php',26],['report/stats/classes/event','user_report_viewed.php',38],['lib/classes/event','dashboards_reset.php',40],['lib/classes/event','calendar_subscription_updated.php',46],['lib/classes/event','cohort_updated.php',38],['admin/tool/monitor/classes/event','rule_updated.php',39],['mod/lesson/classes/event','page_deleted.php',45],['lib/classes/event','course_section_deleted.php',46],['admin/tool/monitor/classes/event','subscription_criteria_met.php',45],['admin/tool/xmldb/actions/new_table','new_table.class.php',32],['lib/classes/event','mnet_access_control_created.php',48],['mod/forum/classes/event','discussion_created.php',44],['lib/classes/event','blog_entries_viewed.php',53],['mod/quiz/classes/event','attempt_preview_started.php',45],['lib/classes/event','content_viewed.php',56],['lib/classes/event','competency_user_evidence_updated.php',91],['blocks/activity_results','block_activity_results.php',51],['blocks/calendar_month','block_calendar_month.php',26],['backup/util/xml/output','memory_xml_output.class.php',51],['mod/assign/classes/event','submission_graded.php',87],['admin/tool/xmldb/actions/view_reserved_words','view_reserved_words.class.php',35],['mod/assign/classes/event','all_submissions_downloaded.php',84],['lib/classes/event','course_restored.php',49],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',173],['lib/classes/event','group_created.php',83],['lib/classes/event','badge_criteria_deleted.php',43],['lib/classes/event','tag_flagged.php',46],['lib/classes/event','competency_plan_completed.php',93],['mod/lesson/classes/event','user_override_updated.php',45],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullpage/js','fullpage.js',162],['lib/classes/event','role_allow_override_updated.php',39],['admin/tool/xmldb/actions/check_foreign_keys','check_foreign_keys.class.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',45],['lib/classes/event','cohort_deleted.php',38],['blocks/course_list','block_course_list.php',29],['lib/classes/event','badge_criteria_created.php',43],['blocks/messages','block_messages.php',26],['mod/workshop/classes/event','course_module_viewed.php',42],['admin/tool/xmldb/actions/view_xml','view_xml.class.php',32],['lib/classes/event','blog_entry_created.php',44],['blocks/rss_client','block_rss_client.php',36],['mod/scorm/classes/event','interactions_viewed.php',45],['mod/workshop/classes/event','submission_assessed.php',45],['lib/classes/event','badge_duplicated.php',38],['lib/classes/event','course_category_created.php',39],['lib/classes/event','cohort_created.php',38],['lib/classes/event','tag_removed.php',49],['lib/classes/event','competency_plan_approved.php',93],['mod/choice/classes/event','answer_deleted.php',74],['lib/classes/event','competency_user_competency_review_started.php',90],['lib/classes/event','course_reset_ended.php',71],['mod/quiz/classes/event','user_override_created.php',44],['admin/tool/xmldb/actions','XMLDBAction.class.php',63],['mod/forum/classes/event','course_searched.php',45],['lib/classes/event','message_contact_removed.php',39],['admin/tool/monitor/classes/event','rule_deleted.php',39],['lib/classes/event','message_deleted.php',83],['mod/assign/classes/event','submission_unlocked.php',87],['lib/classes/event','competency_user_competency_review_stopped.php',90],['lib/classes/event','course_module_viewed.php',40],['question/classes/bank','delete_action_column.php',30]], 470],
'getfilesindir': ['getfilesindir', 'Returns an array with the names of files in a specific path ', [['lib/typo3','class.t3lib_div.php',3062]], 1],
'isbrokenemailenvironment': ['isbrokenemailenvironment', 'Checks if current e-mail sending method does not accept recipient/sender name in a call to PHP mail() function. Windows version of mail() and mini_sendmail program are known not to process such input correctly and they cause SMTP errors. This function will return TRUE if current mail sending method has problem with recipient name in recipient/sender argument for mail(). ', [['lib/typo3','class.t3lib_div.php',1280]], 1],
'plainmailencoded': ['plainmailencoded', 'Simple substitute for the PHP function mail() which allows you to specify encoding and character set The fifth parameter ($encoding) will allow you to specify \'base64\' encryption for the output (set $encoding=base64) Further the output has the charset set to UTF-8 by default. ', [['lib/typo3','class.t3lib_div.php',5175]], 0],
'cmpipv6': ['cmpipv6', 'Match IPv6 address with a list of IPv6 prefixes ', [['lib/typo3','class.t3lib_div.php',477]], 1],
'setbody': ['setbody', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2804],['lib/google/src/Google/Service','Books.php',5047],['lib/google/src/Google/Service','Gmail.php',1900],['auth/cas/CAS/CAS/ProxiedService/Http','Post.php',107],['lib/google/src/Google/Service','Directory.php',5087],['lib/google/src/Google/Service','Fusiontables.php',2399],['lib/horde/framework/Horde/Mime','Mail.php',189]], 46],
'llxmlautofilename': ['llxmlautofilename', 'Returns auto-filename for locallang-XML localizations. ', [['lib/typo3','class.t3lib_div.php',4495]], 1],
'isallowedabspath': ['isallowedabspath', 'Returns TRUE if the path is absolute, without backpath \'..\' and within the PATH_site OR within the lockRootPath ', [['lib/typo3','class.t3lib_div.php',3950]], 2],
'intexplode': ['intexplode', 'Explodes a $string delimited by $delim and passes each item in the array through intval(). Corresponds to t3lib_div::trimExplode(), but with conversion to integers for all values. ', [['lib/typo3','class.t3lib_div.php',1571]], 0],
'intval_positive': ['intval_positive', 'Returns the $integer if greater than zero, otherwise returns zero. ', [['lib/typo3','class.t3lib_div.php',877]], 0],
'cmpipv4': ['cmpipv4', 'Match IPv4 number with list of numbers with wildcard ', [['lib/typo3','class.t3lib_div.php',429]], 1],
'validip': ['validip', 'Validate a given IP address. ', [['lib/typo3','class.t3lib_div.php',686]], 1],
'ipv6hex2bin': ['ipv6hex2bin', 'Transform a regular IPv6 address from hex-representation into binary ', [['lib/typo3','class.t3lib_div.php',532]], 2],
'setfrom': ['setfrom', 'Set the From and FromName properties. ', [['lib/phpmailer','class.phpmailer.php',981]], 3],
'strtolower': ['strtolower', 'Convert a UTF-8 encoded string to lower case ', [['lib/phpexcel/PHPExcel/Shared','String.php',606],['lib/classes','text.php',330],['lib/typo3','class.t3lib_div.php',1336]], 817],
'calcparenthesis': ['calcparenthesis', 'Calculates the input with parenthesis levels ', [['lib/typo3','class.t3lib_div.php',1187]], 0],
'xml2arrayprocess': ['xml2arrayprocess', 'Converts an XML string to a PHP array. This is the reverse function of array2xml() ', [['lib/typo3','class.t3lib_div.php',2389]], 1],
'generaterandombytesurandom': ['generaterandombytesurandom', 'Read random bytes from /dev/urandom if it is accessible ', [['lib/typo3','class.t3lib_div.php',1426]], 1],
'unlink_tempfile': ['unlink_tempfile', 'Deletes (unlink) a temporary filename in \'PATH_site."typo3temp/"\' given as input. The function will check that the file exists, is in PATH_site."typo3temp/" and does not contain back-spaces ("../") so it should be pretty safe. Use this after upload_to_tempfile() or tempnam() from this class! ', [['lib/typo3','class.t3lib_div.php',4073]], 0],
'imagemagickcommand': ['imagemagickcommand', 'Compile the command for running ImageMagick/GraphicsMagick. ', [['lib/typo3','class.t3lib_div.php',5732]], 4],
'checkinstanceclassname': ['checkinstanceclassname', 'Checks that $className is non-empty and that $instance is an instance of $className. ', [['lib/typo3','class.t3lib_div.php',5040]], 2],
'modifyhtmlcolorall': ['modifyhtmlcolorall', 'Modifies a HTML Hex color by adding/subtracting $all integer from all R/G/B channels ', [['lib/typo3','class.t3lib_div.php',1069]], 0],
'milliseconds': ['milliseconds', 'Gets the unixtime as milliseconds. ', [['lib/typo3','class.t3lib_div.php',3755]], 0],
'generaterandombytes': ['generaterandombytes', 'Returns a string of highly randomized bytes (over the full 8-bit range). ', [['lib/typo3','class.t3lib_div.php',1349]], 1],
'png_to_gif_by_imagemagick': ['png_to_gif_by_imagemagick', 'Converts a png file to gif. This converts a png file to gif IF the FLAG $GLOBALS[\'TYPO3_CONF_VARS\'][\'FE\'][\'png_to_gif\'] is set TRUE. ', [['lib/typo3','class.t3lib_div.php',311]], 0],
'xmlrecompilefromstructvalarray': ['xmlrecompilefromstructvalarray', 'This implodes an array of XML parts (made with xml_parse_into_struct()) into XML again. ', [['lib/typo3','class.t3lib_div.php',2499]], 1],
'read': ['read', 'Read data from incoming POP3 stream. ', [['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Pop3.php',54],['auth/cas/CAS/CAS/PGTStorage','File.php',222],['competency/classes','persistent.php',354],['lib/horde/framework/Horde','Secret.php',79],['lib/spout/src/Spout/Reader/Wrapper','XMLReader.php',114],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',341],['auth/cas/CAS/CAS/PGTStorage','Db.php',384],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',203],['lib/jabber/XMPP','XMLStream.php',660],['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Socket.php',110]], 170],
'revexplode': ['revexplode', 'Reverse explode which explodes the string counting from behind. Thus t3lib_div::revExplode(\':\',\'my:words:here\',2) will return array(\'my:words\',\'here\') ', [['lib/typo3','class.t3lib_div.php',1588]], 4],
'array_merge_recursive_overrule': ['array_merge_recursive_overrule', 'Merges two arrays recursively and "binary safe" (integer keys are overridden as well), overruling similar values in the first array ($arr0) with the values of the second array ($arr1) In case of identical keys, ie. keeping the values of the second. ', [['lib/typo3','class.t3lib_div.php',1860]], 5],
'validipv6': ['validipv6', 'Validate a given IP address to the IPv6 address format. ', [['lib/typo3','class.t3lib_div.php',710]], 3],
'isoncurrenthost': ['isoncurrenthost', 'Checks if a given URL matches the host that currently handles this HTTP request. Scheme, hostname and (optional) port of the given URL are compared. ', [['lib/typo3','class.t3lib_div.php',793]], 1],
'intinrange': ['intinrange', 'Forces the integer $theInt into the boundaries of $min and $max. If the $theInt is \'FALSE\' then the $zeroValue is applied. ', [['lib/typo3','class.t3lib_div.php',862]], 0],
'keepitemsinarray': ['keepitemsinarray', 'Filters an array to reduce its elements to match the condition. The values in $keepItems can be optionally evaluated by a custom callback function. ', [['lib/typo3','class.t3lib_div.php',1664]], 0],
'viewarray': ['viewarray', 'Returns HTML-code, which is a visual representation of a multidimensional array use t3lib_div::print_array() in order to print an array Returns FALSE if $array_in is not an array ', [['lib/typo3','class.t3lib_utility_debug.php',317]], 4],
'arraytologstring': ['arraytologstring', 'Converts a one dimensional array to a one line string which can be used for logging or debugging output Example: "loginType: FE; refInfo: Array; HTTP_HOST: www.example.org; REMOTE_ADDR: 192.168.1.5; REMOTE_HOST:; security_level:; showHiddenRecords: 0;" ', [['lib/typo3','class.t3lib_div.php',5709]], 0],
'formatfortextarea': ['formatfortextarea', 'Formats a string for output between <textarea>-tags All content outputted in a textarea form should be passed through this function Not only is the content htmlspecialchar\'ed on output but there is also a single newline added in the top. The newline is necessary because browsers will ignore the first newline after <textarea> if that is the first character. Therefore better set it! ', [['lib/typo3','class.t3lib_div.php',1311]], 0],
'minifyjavascript': ['minifyjavascript', 'Minifies JavaScript ', [['lib/typo3','class.t3lib_div.php',2559]], 0],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'read_png_gif': ['read_png_gif', 'Returns filename of the png/gif version of the input file (which can be png or gif). If input file type does not match the wanted output type a conversion is made and temp-filename returned. ', [['lib/typo3','class.t3lib_div.php',337]], 0],
'expandlist': ['expandlist', 'Expand a comma-separated list of integers with ranges (eg 1,3-5,7 becomes 1,3,4,5,7). Ranges are limited to 1000 values per range. ', [['lib/typo3','class.t3lib_div.php',833]], 0],
'calcpriority': ['calcpriority', 'Calculates the input by +,-,*,/,%,^ with priority to + and - ', [['lib/typo3','class.t3lib_div.php',1173]], 0],
'clientinfo': ['clientinfo', 'Client Browser Information ', [['lib/typo3','class.t3lib_div.php',3764]], 0],
'addinstance': ['addinstance', 'Sets the instance of a non-singleton class to be returned by makeInstance. ', [['lib/typo3','class.t3lib_div.php',5006],['lib/google/src/Google/Service','Compute.php',7683]], 1],
'getbytesfromsizemeasurement': ['getbytesfromsizemeasurement', 'Gets the bytes value from a measurement string like "100k". ', [['lib/typo3','class.t3lib_div.php',3252]], 2],
'addslashesonarray': ['addslashesonarray', 'AddSlash array This function traverses a multidimensional array and adds slashes to the values. NOTE that the input array is and argument by reference.!! Twin-function to stripSlashesOnArray ', [['lib/typo3','class.t3lib_div.php',1783]], 3],
'stripslashesonarray': ['stripslashesonarray', 'StripSlash array This function traverses a multidimensional array and strips slashes to the values. NOTE that the input array is and argument by reference.!! Twin-function to addSlashesOnArray ', [['lib/typo3','class.t3lib_div.php',1804]], 6],
'getindpenv': ['getindpenv', 'Abstraction method which returns System Environment Variables regardless of server OS, CGI/MODULE version etc. Basically this is SERVER variables for most of them. This should be used instead of getEnv() and $_SERVER/ENV_VARS to get reliable values for all situations. ', [['lib/typo3','class.t3lib_div.php',3412]], 37],
'verifyfilenameagainstdenypattern': ['verifyfilenameagainstdenypattern', 'Verifies the input filename against the \'fileDenyPattern\'. Returns TRUE if OK. ', [['lib/typo3','class.t3lib_div.php',3968]], 0],
'_getset': ['_getset', 'Writes input value to $_GET. ', [['lib/typo3','class.t3lib_div.php',188]], 0],
'formatsize': ['formatsize', 'Formats the input integer $sizeInBytes as bytes/kilobytes/megabytes (-/K/M) ', [['lib/typo3','class.t3lib_div.php',1105]], 0],
'xmlgetheaderattribs': ['xmlgetheaderattribs', 'Extracts the attributes (typically encoding and version) of an XML prologue (header). ', [['lib/typo3','class.t3lib_div.php',2546]], 0],
'createversionnumberedfilename': ['createversionnumberedfilename', 'Function for static version numbers on files, based on the filemtime ', [['lib/typo3','class.t3lib_div.php',3280]], 0],
'rawurlencodejs': ['rawurlencodejs', 'Version of rawurlencode() where all spaces (%20) are re-converted to space-characters. Useful when passing text to JavaScript where you simply url-encode it to get around problems with syntax-errors, linebreaks etc. ', [['lib/typo3','class.t3lib_div.php',1240]], 0],
'acquire': ['acquire', 'Prevent parallel test execution - this can not work in Moodle because we modify database and dataroot. ', [['lib/testing/classes','test_lock.php',43]], 6],
'xml2array': ['xml2array', 'Converts an XML string to a PHP array. This is the reverse function of array2xml() This is a wrapper for xml2arrayProcess that adds a two-level cache ', [['lib/typo3','class.t3lib_div.php',2355]], 5],
'debugtrail': ['debugtrail', 'Displays the "path" of the function call stack in a string, using debug_backtrace ', [['lib/typo3','class.t3lib_utility_debug.php',216]], 1],
'hideifdefaultlanguage': ['hideifdefaultlanguage', 'Returns true if the "l18n_cfg" field value is not set to hide pages in the default language ', [['lib/typo3','class.t3lib_div.php',4214]], 0],
'quoted_printable': ['quoted_printable', 'Implementation of quoted-printable encode. See RFC 1521, section 5.1 Quoted-Printable Content-Transfer-Encoding ', [['lib/typo3','class.t3lib_div.php',5251]], 2],
'setsingletoninstance': ['setsingletoninstance', 'Sets the instance of a singleton class to be returned by makeInstance. ', [['lib/typo3','class.t3lib_div.php',4986]], 0],
'syslog': ['syslog', 'Logs message to the system log. This should be implemented around the source code, including the Core and both frontend and backend, logging serious errors. If you want to implement the sysLog in your applications, simply add lines like: t3lib_div::sysLog(\'[write message in English here]\', \'extension_key\', \'severity\'); ', [['lib/typo3','class.t3lib_div.php',5481]], 2],
'conv': ['conv', 'Convert from one charset to another charset. ', [['lib/typo3','class.t3lib_cs.php',588]], 8],
'breaklinesforemail': ['breaklinesforemail', 'Breaks up a single line of text for emails ', [['lib/typo3','class.t3lib_div.php',393]], 1],
'tempnam': ['tempnam', 'Create temporary filename (Create file with unique file name) This function should be used for getting temporary file names - will make your applications safe for open_basedir = on REMEMBER to delete the temporary files after use! This is done by t3lib_div::unlink_tempfile() ', [['lib/typo3','class.t3lib_div.php',4093]], 31],
'slasharray': ['slasharray', 'Either slashes ($cmd=add) or strips ($cmd=strip) array $arr depending on $cmd ', [['lib/typo3','class.t3lib_div.php',1825]], 0],
'explodeurl2array': ['explodeurl2array', 'Explodes a string with GETvars (eg. "&id=1&type=2&ext[mykey]=3") into an array ', [['lib/typo3','class.t3lib_div.php',1737]], 0],
'getmaxuploadfilesize': ['getmaxuploadfilesize', 'Returns the maximum upload size for a file that is allowed. Measured in KB. This might be handy to find out the real upload limit that is possible for this TYPO3 installation. The first parameter can be used to set something that overrides the maxFileSize, usually for the TCA values. ', [['lib/typo3','class.t3lib_div.php',3224]], 0],
'array2xml': ['array2xml', 'Deprecated to call directly (unless you are aware of using XML prologues)! Use "array2xml_cs" instead (which adds an XML-prologue) ', [['lib/typo3','class.t3lib_div.php',2219]], 2],
'makeredirecturl': ['makeredirecturl', 'Sub-function for substUrlsInPlainText() above. ', [['lib/typo3','class.t3lib_div.php',5390]], 1],
'calculatechash': ['calculatechash', 'Calculates the cHash based on the provided parameters ', [['lib/typo3','class.t3lib_div.php',4186]], 0],
'substurlsinplaintext': ['substurlsinplaintext', 'Takes a clear-text message body for a plain text email, finds all \'http://\' links and if they are longer than 76 chars they are converted to a shorter URL with a hash parameter. The real parameter is stored in the database and the hash-parameter/URL will be redirected to the real parameter when the link is clicked. This function is about preserving long links in messages. ', [['lib/typo3','class.t3lib_div.php',5351]], 0],
'purgeinstances': ['purgeinstances', 'Purge all instances returned by makeInstance. ', [['lib/typo3','class.t3lib_div.php',5061]], 0],
'mkdir': ['mkdir', 'Wrapper function for mkdir. Sets folder permissions according to $GLOBALS[\'TYPO3_CONF_VARS\'][\'BE\'][\'folderCreateMask\'] and group ownership according to $GLOBALS[\'TYPO3_CONF_VARS\'][\'BE\'][\'createGroup\'] ', [['lib/typo3','class.t3lib_div.php',2916]], 64],
'splitcalc': ['splitcalc', 'This splits a string by the chars in $operators (typical /+-*) and returns an array with them in ', [['lib/typo3','class.t3lib_div.php',1151]], 0],
'upload_copy_move': ['upload_copy_move', 'Moves $source file to $destination if uploaded, otherwise try to make a copy ', [['lib/typo3','class.t3lib_div.php',4031]], 0],
'upload_to_tempfile': ['upload_to_tempfile', 'Will move an uploaded file (normally in "/tmp/xxxxx") to a temporary filename in PATH_site."typo3temp/" from where TYPO3 can use it. Use this function to move uploaded files to where you can work on them. REMEMBER to use t3lib_div::unlink_tempfile() afterwards - otherwise temp-files will build up! They are NOT automatically deleted in PATH_site."typo3temp/"! ', [['lib/typo3','class.t3lib_div.php',4056]], 0],
'rawurlencodefp': ['rawurlencodefp', 'rawurlencode which preserves "/" chars Useful when file paths should keep the "/" chars, but have all other special chars encoded. ', [['lib/typo3','class.t3lib_div.php',1251]], 0],
'mkdir_deep': ['mkdir_deep', 'Creates a directory - including parent directories if necessary and sets permissions on newly created directories. ', [['lib/typo3','class.t3lib_div.php',2932]], 1],
'isvalidurl': ['isvalidurl', 'Check if the URL exist. ', [['lib/tcpdf/include','tcpdf_static.php',164],['lib/typo3','class.t3lib_div.php',1520]], 2],
'fopen': ['fopen', 'Return a stream handle to this stream. ', [['lib/horde/framework/Horde/Support','CombineStream.php',41],['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',15],['lib/horde/framework/Horde/Support','StringStream.php',41]], 221],
'set': ['set', 'Sets an item in the cache given its key and data value. ', [['cache/stores/static','lib.php',265],['cache','disabledlib.php',81],['search/classes','document.php',241],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',331],['lib/google/src/Google/Cache','Memcache.php',113],['lib','filelib.php',3656],['lib/adodb','adodb-active-record.inc.php',646],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',85],['lib/google/src/Google/Cache','File.php',93],['cache/classes','dummystore.php',170],['cache/classes','loaders.php',496],['cache/classes','loaders.php',1350],['cache/classes','loaders.php',1797],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',47],['lib/horde/framework/Horde','Variables.php',189],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',39],['competency/classes','persistent.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',203],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',51],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',41],['lib/google/src/Google/Service','ShoppingContent.php',1643],['lib','navigationlib.php',5131],['lib/google/src/Google/Service','Clouddebugger.php',445],['lib/htmlpurifier/HTMLPurifier','Config.php',289],['lib/portfolio','exporter.php',154],['grade/report/singleview/classes/local/ui','finalgrade.php',129],['cache/stores/memcache','lib.php',358],['lib/adodb','adodb-active-recordx.inc.php',676],['cache/classes','interfaces.php',68],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',167],['lib/horde/framework/Horde/Imap/Client','Cache.php',127],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',60],['grade/report/singleview/classes/local/ui','exclude.php',90],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',24],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',114],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',41],['lib/portfolio','caller.php',187],['cache/stores/session','lib.php',290],['cache/stores/mongodb','lib.php',305],['lib/google/src/Google/Cache','Null.php',44],['grade/report/singleview/classes/local/ui','override.php',95],['cache/stores/file','lib.php',426],['lib/phpmailer','class.phpmailer.php',3554],['grade/report/singleview/classes/local/ui','feedback.php',102],['cache/stores/memcached','lib.php',354],['lib/portfolio','plugin.php',647],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',31],['lib/google/src/Google/Service','YouTube.php',4048],['lib/google/src/Google/Service','YouTube.php',4458],['lib/google/src/Google/Cache','Apc.php',82],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',162],['lib/pear/Net/GeoIP','Location.php',125]], 4904],
'cmpfqdn': ['cmpfqdn', 'Match fully qualified domain name with list of strings with wildcard ', [['lib/typo3','class.t3lib_div.php',722]], 1],
'minify': ['minify', '', [['lib/minify/lib','JSMinPlus.php',198],['lib/minify/lib/Minify','HTML.php',25],['lib/minify/lib/Minify','CSS.php',19],['lib/minify/lib/Minify/JS','ClosureCompiler.php',73],['lib/minify/lib/Minify','Lines.php',16],['lib/minify/lib','CSSmin.php',210],['lib/minify/lib/Minify','Packer.php',31],['lib/minify/lib/Minify','CSSmin.php',17],['lib/minify/lib/Minify','ClosureCompiler.php',63]], 3],
'isloaded': ['isloaded', 'This function returns true/false, if the xmldb_object has been loaded ', [['lib/xmldb','xmldb_object.php',70]], 41],
'csvvalues': ['csvvalues', 'Takes a row and returns a CSV string of the values with $delim (default is ,) and $quote (default is ") as separator chars. ', [['lib/typo3','class.t3lib_div.php',1935]], 0],
'getmaximumpathlength': ['getmaximumpathlength', 'Retrieves the maximum path length that is valid in the current environment. ', [['lib/typo3','class.t3lib_div.php',3270]], 0],
'geturl': ['geturl', '', [['lib/google/src/Google/Service','AdSense.php',2465],['lib/google/src/Google/Service','AdSense.php',2664],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',57],['lib/google/src/Google/Service','Partners.php',1331],['lib/google/src/Google/Service','Partners.php',1428],['lib/google/src/Google/Service','AndroidPublisher.php',2916],['lib/google/src/Google/Service','Appengine.php',615],['lib/google/src/Google/Service','AdExchangeBuyer.php',1772],['lib/google/src/Google/Service','AdExchangeBuyer.php',2907],['lib/google/src/Google/Service','AdExchangeBuyer.php',2942],['lib/google/src/Google/Service','AdExchangeBuyer.php',2977],['lib/google/src/Google/Service','Books.php',3744],['lib/google/src/Google/Service','Books.php',3846],['lib/google/src/Google/Service','Books.php',3899],['lib/google/src/Google/Service','Books.php',4091],['lib/google/src/Google/Service','Books.php',4117],['lib/google/src/Google/Service','Books.php',4170],['lib/google/src/Google/Service','Books.php',4196],['lib/google/src/Google/Service','Books.php',5479],['lib/google/src/Google/Service','Analytics.php',5813],['lib/google/src/Google/Service','Analytics.php',7321],['lib/google/src/Google/Service','Analytics.php',7356],['lib/google/src/Google/Service','DeploymentManager.php',1071],['lib/google/src/Google/Service','Blogger.php',1826],['lib/google/src/Google/Service','Blogger.php',2218],['lib/google/src/Google/Service','Blogger.php',2235],['lib/google/src/Google/Service','Blogger.php',2459],['lib/google/src/Google/Service','Blogger.php',2504],['lib/google/src/Google/Service','Blogger.php',2521],['lib/google/src/Google/Service','Blogger.php',2832],['lib/google/src/Google/Service','Blogger.php',2877],['lib/google/src/Google/Service','Blogger.php',2894],['lib/google/src/Google/Service','Blogger.php',2928],['lib/google/src/Google/Service','Blogger.php',3274],['lib/google/src/Google/Service','Customsearch.php',448],['lib/google/src/Google/Service','Customsearch.php',1173],['lib/google/src/Google/Service','Clouddebugger.php',921],['lib/google/src/Google/Service','Games.php',3564],['lib/google/src/Google/Service','Games.php',6713],['lib/google/src/Google/Service','Doubleclicksearch.php',1115],['lib/google/src/Google/Service','Appsactivity.php',478],['lib/google/src/Google/Service','Drive.php',5771],['lib/google/src/Google/Service','AdSenseHost.php',1523],['lib/google/src/Google/Service','AdSenseHost.php',1703],['lib/google/src/Google/Service','Plus.php',835],['lib/google/src/Google/Service','Plus.php',910],['lib/google/src/Google/Service','Plus.php',970],['lib/google/src/Google/Service','Plus.php',1208],['lib/google/src/Google/Service','Plus.php',1265],['lib/google/src/Google/Service','Plus.php',1325],['lib/google/src/Google/Service','Plus.php',1436],['lib/google/src/Google/Service','Plus.php',1462],['lib/google/src/Google/Service','Plus.php',1498],['lib/google/src/Google/Service','Plus.php',1542],['lib/google/src/Google/Service','Plus.php',1586],['lib/google/src/Google/Service','Plus.php',1622],['lib/google/src/Google/Service','Plus.php',1894],['lib/google/src/Google/Service','Plus.php',1954],['lib/google/src/Google/Service','Plus.php',2079],['lib/google/src/Google/Service','Plus.php',2635],['lib/google/src/Google/Service','Plus.php',3151],['lib/google/src/Google/Service','Plus.php',3283],['lib/google/src/Google/Service','Plus.php',3343],['lib/google/src/Google/Service','AndroidEnterprise.php',3007],['auth/cas/CAS/CAS','Client.php',3467],['lib/google/src/Google/Service','Calendar.php',3450],['lib/google/src/Google/Service','PlusDomains.php',1126],['lib/google/src/Google/Service','PlusDomains.php',1201],['lib/google/src/Google/Service','PlusDomains.php',1261],['lib/google/src/Google/Service','PlusDomains.php',1509],['lib/google/src/Google/Service','PlusDomains.php',1566],['lib/google/src/Google/Service','PlusDomains.php',1626],['lib/google/src/Google/Service','PlusDomains.php',1747],['lib/google/src/Google/Service','PlusDomains.php',1773],['lib/google/src/Google/Service','PlusDomains.php',1809],['lib/google/src/Google/Service','PlusDomains.php',1853],['lib/google/src/Google/Service','PlusDomains.php',1878],['lib/google/src/Google/Service','PlusDomains.php',1914],['lib/google/src/Google/Service','PlusDomains.php',1950],['lib/google/src/Google/Service','PlusDomains.php',2555],['lib/google/src/Google/Service','PlusDomains.php',2615],['lib/google/src/Google/Service','PlusDomains.php',2740],['lib/google/src/Google/Service','PlusDomains.php',2942],['lib/google/src/Google/Service','PlusDomains.php',3011],['lib/google/src/Google/Service','PlusDomains.php',3028],['lib/google/src/Google/Service','PlusDomains.php',3370],['lib/google/src/Google/Service','PlusDomains.php',3476],['lib/google/src/Google/Service','PlusDomains.php',3536],['lib/google/src/Google/Service','PlusDomains.php',3917],['lib/typo3','class.t3lib_div.php',2587],['lib/google/src/Google/Service','Storagetransfer.php',615],['lib/google/src/Google/Service','GamesConfiguration.php',827],['lib/google/src/Google/Service','YouTube.php',5722],['lib/google/src/Google/Service','YouTube.php',11014],['lib/google/src/Google/Http','Request.php',256],['lib/google/src/Google/Service','Dfareporting.php',14018],['lib/google/src/Google/Service','Dfareporting.php',14446],['lib/google/src/Google/Service','Dfareporting.php',15863],['lib/google/src/Google/Service','Dfareporting.php',21024]], 47],
'generaterandombytesopenssl': ['generaterandombytesopenssl', 'Generate random bytes using openssl if available ', [['lib/typo3','class.t3lib_div.php',1398]], 1],
'generaterandombytesmcrypt': ['generaterandombytesmcrypt', 'Generate random bytes using mcrypt if available ', [['lib/typo3','class.t3lib_div.php',1412]], 2],
'slashjs': ['slashjs', 'This function is used to escape any \' -characters when transferring text to JavaScript! ', [['lib/typo3','class.t3lib_div.php',1225]], 0],
'crop': ['crop', 'Truncates a string and pre-/appends a string. Unit tested by Kasper ', [['lib/typo3','class.t3lib_cs.php',1572]], 3],
'encodeheader': ['encodeheader', 'Use internal moodles own core_text to encode mimeheaders. Fall back to phpmailers inbuilt functions if not ', [['lib/phpmailer','moodle_phpmailer.php',87],['lib/typo3','class.t3lib_div.php',5297],['lib/phpmailer','class.phpmailer.php',2641]], 20],
'fixpermissions': ['fixpermissions', 'Sets the file system mode and group ownership of a file or a folder. ', [['lib/typo3','class.t3lib_div.php',2799]], 12],
'underscoredtolowercamelcase': ['underscoredtolowercamelcase', 'Returns a given string with underscores as lowerCamelCase. Example: Converts minimal_value to minimalValue ', [['lib/typo3','class.t3lib_div.php',1485]], 0],
'hideifnottranslated': ['hideifnottranslated', 'Responds on input localization setting value whether the page it comes from should be hidden if no translation exists or not. ', [['lib/typo3','class.t3lib_div.php',4200]], 0],
'requirefile': ['requirefile', 'If a file exists, require it from the file system. ', [['lib/spout/src/Spout/Autoloader','Psr4Autoloader.php',136],['lib/typo3','class.t3lib_div.php',5161]], 1],
'int_from_ver': ['int_from_ver', 'Returns an integer from a three part version number, eg \'4.12.3\' -> 4012003 ', [['lib/typo3','class.t3lib_div.php',889]], 0],
'initsyslog': ['initsyslog', 'Initialize the system log. ', [['lib/typo3','class.t3lib_div.php',5437]], 1],
'_gp': ['_gp', 'Returns the \'GLOBAL\' value of incoming data from POST or GET, with priority to POST (that is equalent to \'GP\' order) Strips slashes from all output, both strings and arrays. To enhancement security in your scripts, please consider using t3lib_div::_GET or t3lib_div::_POST if you already know by which method your data is arriving to the scripts! ', [['lib/typo3','class.t3lib_div.php',108]], 1],
'cmpip': ['cmpip', 'Match IP number with list of numbers with wildcard Dispatcher method for switching into specialised IPv4 and IPv6 methods. ', [['lib/typo3','class.t3lib_div.php',407]], 6],
'gethostname': ['gethostname', 'Get the fully-qualified domain name of the host. ', [['lib/typo3','class.t3lib_div.php',3831]], 4],
'remaparraykeys': ['remaparraykeys', 'Rename Array keys with a given mapping table ', [['lib/typo3','class.t3lib_div.php',1842]], 0],
'_gpmerged': ['_gpmerged', 'Returns the global arrays $_GET and $_POST merged with $_POST taking precedence. ', [['lib/typo3','class.t3lib_div.php',132]], 0],
'debug': ['debug', '', [['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',151],['lib/typo3','class.t3lib_utility_debug.php',57],['lib/xmldb','xmldb_object.php',334],['lib/editor/tinymce/plugins/spellchecker/includes','general.php',63],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',111],['lib/simplepie/library/SimplePie','Misc.php',2192],['lib/google/src/Google/Logger','Abstract.php',250],['lib/mustache/src/Mustache','Logger.php',110],['lib/classes/update','code_manager.php',393]], 107],
'send': ['send', 'Send the request to the server - decode and return the response ', [['mnet/xmlrpc','client.php',128],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',126],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',116],['auth/cas/CAS/CAS/Request','RequestInterface.php',136],['lib/horde/framework/Horde/Mail/Transport','Mock.php',91],['auth/cas/CAS/CAS/Request','MultiRequestInterface.php',75],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',179],['lib/horde/framework/Horde/Mime','Part.php',1679],['auth/cas/CAS/CAS/Request','AbstractRequest.php',223],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',65],['backup/util/xml/output','file_xml_output.class.php',66],['lib/jabber/XMPP','BOSH.php',150],['lib/horde/framework/Horde/Mail/Transport','Null.php',54],['lib','excellib.class.php',132],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',158],['auth/cas/CAS/CAS/ProxiedService','Http.php',62],['lib/google/src/Google/Service','Gmail.php',816],['lib/google/src/Google/Service','Gmail.php',1145],['lib','odslib.class.php',84],['auth/cas/CAS/CAS/Request','CurlMultiRequest.php',99],['lib/horde/framework/Horde/Mime','Mail.php',372],['mod/lti/classes/local/ltiservice','response.php',205],['lib/horde/framework/Horde/Mail/Transport','Mail.php',60],['lib/phpmailer','class.phpmailer.php',1168],['backup/util/xml/output','memory_xml_output.class.php',59],['lib/jabber/XMPP','XMLStream.php',677],['lib/pear/Auth','RADIUS.php',380],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',89]], 193],
'lcfirst': ['lcfirst', 'Converts the first char of a string to lowercase if it is a latin character (A-Z). Example: Converts "Hello World" to "hello World" ', [['lib/typo3','class.t3lib_div.php',1509]], 1],
'md5int': ['md5int', 'Makes a positive integer hash out of the first 7 chars from the md5 hash of the input ', [['lib/typo3','class.t3lib_div.php',922]], 0],
'loadtca': ['loadtca', 'Loads the $GLOBALS[\'TCA\'] (Table Configuration Array) for the $table ', [['lib/typo3','class.t3lib_div.php',4551]], 0],
'release': ['release', 'Release this lock ', [['lib/classes/lock','lock.php',93],['lib/testing/classes','test_lock.php',82]], 42],
'camelcasetolowercaseunderscored': ['camelcasetolowercaseunderscored', 'Returns a given CamelCasedString as an lowercase string with underscores. Example: Converts BlogExample to blog_example, and minimalValue to minimal_value ', [['lib/typo3','class.t3lib_div.php',1498]], 0],
'compat_version': ['compat_version', 'Returns TRUE if the current TYPO3 version (or compatibility version) is compatible to the input version Notice that this function compares branches, not versions (4.0.1 would be > 4.0.0 although they use the same compat_version) ', [['lib/typo3','class.t3lib_div.php',904]], 0],
'writefile': ['writefile', 'Write cache file. ', [['lib/mustache/src/Mustache/Cache','FilesystemCache.php',119],['lib/typo3','class.t3lib_div.php',2769]], 2],
'gif_compress': ['gif_compress', 'Compressing a GIF file if not already LZW compressed. This function is a workaround for the fact that ImageMagick and/or GD does not compress GIF-files to their minimun size (that is RLE or no compression used) ', [['lib/typo3','class.t3lib_div.php',262]], 0],
'isabspath': ['isabspath', 'Checks if the $path is absolute or relative (detecting either \'/\' or \'x:/\' as first part of string) and returns TRUE if so. ', [['lib/typo3','class.t3lib_div.php',3934]], 5],
'uniquelist': ['uniquelist', 'Takes comma-separated lists and arrays and removes all duplicates If a value in the list is trim(empty), the value is ignored. ', [['lib/typo3','class.t3lib_div.php',974]], 2],
'dirname': ['dirname', 'Provides one cross-platform dirname function for handling parser paths, see MDL-24381 ', [['backup/util/xml/parser','progressive_parser.class.php',168],['backup/cc/cc_lib','cc_utils.php',334],['lib/typo3','class.t3lib_div.php',1028]], 335],
'isfirstpartofstr': ['isfirstpartofstr', 'Returns TRUE if the first part of $str matches the string $partStr ', [['lib/typo3','class.t3lib_div.php',1094]], 11],
'htmlspecialchars_decode': ['htmlspecialchars_decode', 'Inverse version of htmlspecialchars() ', [['lib/typo3','class.t3lib_div.php',1201]], 16],
'array2xml_cs': ['array2xml_cs', 'Turns PHP array into XML. See array2xml() ', [['lib/typo3','class.t3lib_div.php',2199]], 0],
'fputs': ['fputs', 'Wrapper around global function fputs() ', [['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',41]], 41],
'get_tag_attributes': ['get_tag_attributes', 'Returns an array with all attributes of the input HTML tag as key/value pairs. Attributes are only lowercase a-z $tag is either a whole tag (eg \'<TAG OPTION ATTRIB=VALUE>\') or the parameter list (ex \' OPTION ATTRIB=VALUE>\') If an attribute is empty, then the value for the key is empty. You can check if it existed with isset() ', [['lib/typo3','class.t3lib_div.php',1996]], 1],
'removeprefixpathfromlist': ['removeprefixpathfromlist', 'Removes the absolute part of all files/folders in fileArr ', [['lib/typo3','class.t3lib_div.php',3149]], 0],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 1072],
'compileselectedgetvarsfromarray': ['compileselectedgetvarsfromarray', 'Returns an array with selected keys from incoming data. (Better read source code if you want to find out...) ', [['lib/typo3','class.t3lib_div.php',1761]], 0],
'resolvesheetdefinds': ['resolvesheetdefinds', 'Looks for a sheet-definition in the input data structure array. If found it will return the data structure for the sheet given as $sheet (if found). If the sheet definition is in an external file that file is parsed and the data structure inside of that is returned. ', [['lib/typo3','class.t3lib_div.php',4585]], 2],
'compressipv6': ['compressipv6', 'Compress an IPv6 address to the shortest notation ', [['lib/typo3','class.t3lib_div.php',645]], 1],
'readllfile': ['readllfile', 'Includes a locallang file and returns the $LOCAL_LANG array found inside. ', [['lib/typo3','class.t3lib_div.php',4225]], 0],
'shortmd5': ['shortmd5', 'Returns the first 10 positions of the MD5-hash		(changed from 6 to 10 recently) ', [['lib/typo3','class.t3lib_div.php',932]], 4],
'rmdir': ['rmdir', 'Wrapper function for rmdir, allowing recursive deletion of folders and files ', [['lib/typo3','class.t3lib_div.php',3000]], 17],
'ipv6bin2hex': ['ipv6bin2hex', 'Transform an IPv6 address from binary to hex-representation ', [['lib/typo3','class.t3lib_div.php',551]], 0],
'naturalkeysortrecursive': ['naturalkeysortrecursive', 'Sorts an array by key recursive - uses natural sort order (aAbB-zZ) ', [['lib/typo3','class.t3lib_div.php',1972]], 1],
'_get': ['_get', 'Returns the global $_GET array (or value from) normalized to contain un-escaped values. ALWAYS use this API function to acquire the GET variables! ', [['lib/typo3','class.t3lib_div.php',148]], 99],
'readllxmlfile': ['readllxmlfile', 'Includes a locallang-xml file and returns the $LOCAL_LANG array Works only when the frontend or backend has been initialized with a charset conversion object. See first code lines. ', [['lib/typo3','class.t3lib_div.php',4325]], 0],
'getfilename': ['getfilename', 'Helper function for getting a Mustache template file name. Uses the leading component to restrict us specific directories. ', [['lib/classes/output','mustache_filesystem_loader.php',45],['lib/google/src/Google/Service','MapsEngine.php',4932],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',108],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',111],['lib/google/src/Google/Service','ShoppingContent.php',3842],['lib/google/src/Google/Service','Genomics.php',2749],['lib/google/src/Google/Service','Gmail.php',1912],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',49],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',271],['lib/google/src/Google/Service','YouTube.php',11974],['lib/google/src/Google/Service','Dfareporting.php',13519],['lib/google/src/Google/Service','Dfareporting.php',19198]], 22],
'getmessage': ['getmessage', '', [['lib/google/src/Google/Service','Freebase.php',441],['lib/google/src/Google/Service','AdSense.php',2970],['lib/google/src/Google/Service','Replicapool.php',1165],['lib/google/src/Google/Service','Replicapool.php',1257],['lib/google/src/Google/Service','Computeaccounts.php',1368],['lib/google/src/Google/Service','Computeaccounts.php',1460],['lib/google/src/Google/Service','Appengine.php',1604],['lib/google/src/Google/Service','Books.php',3579],['lib/google/src/Google/Service','Books.php',4429],['lib/google/src/Google/Service','Script.php',360],['lib/google/src/Google/Service','DeploymentManager.php',1116],['lib/google/src/Google/Service','DeploymentManager.php',1604],['lib/google/src/Google/Service','DeploymentManager.php',1641],['lib/google/src/Google/Service','DeploymentManager.php',1823],['lib/google/src/Google/Service','DeploymentManager.php',1860],['lib/google/src/Google/Service','Dataflow.php',2656],['lib/google/src/Google/Service','CloudUserAccounts.php',1807],['lib/google/src/Google/Service','CloudUserAccounts.php',1899],['lib/google/src/Google/Service','Replicapoolupdater.php',617],['lib/google/src/Google/Service','Replicapoolupdater.php',926],['lib/google/src/Google/Service','Replicapoolupdater.php',1018],['lib/google/src/Google/Service','Replicapoolupdater.php',1252],['lib/google/src/Google/Service','Bigquery.php',1367],['lib/google/src/Google/Service','ShoppingContent.php',4125],['lib/google/src/Google/Service','ShoppingContent.php',4527],['lib/google/src/Google/Service','ShoppingContent.php',4572],['lib/google/src/Google/Service','Genomics.php',3622],['lib/google/src/Google/Service','Reports.php',1106],['lib/google/src/Google/Service','Gmail.php',1371],['lib/google/src/Google/Service','Gmail.php',1467],['lib/google/src/Google/Service','Gmail.php',1495],['lib/google/src/Google/Service','Gmail.php',1513],['lib/google/src/Google/Service','Gmail.php',1531],['lib/google/src/Google/Service','Autoscaler.php',1079],['lib/google/src/Google/Service','Autoscaler.php',1171],['lib/google/src/Google/Service','AdExchangeSeller.php',1043],['lib/google/src/Google/Service','IdentityToolkit.php',1266],['lib/pear','PEAR.php',941],['lib/google/src/Google/Service','Storagetransfer.php',948],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Resourceviews.php',894],['lib/google/src/Google/Service','Resourceviews.php',986],['lib/google/src/Google/Service','SQLAdmin.php',3029],['lib/google/src/Google/Service','Compute.php',8752],['lib/google/src/Google/Service','Compute.php',9200],['lib/google/src/Google/Service','Compute.php',10292],['lib/google/src/Google/Service','Compute.php',10384],['lib/google/src/Google/Service','Compute.php',10890],['lib/google/src/Google/Service','Compute.php',12525],['lib/google/src/Google/Service','Compute.php',12771],['lib/google/src/Google/Service','Compute.php',13249],['lib/google/src/Google/Service','Compute.php',13652],['lib/google/src/Google/Service','Compute.php',13804],['lib/google/src/Google/Service','Compute.php',14396],['lib/google/src/Google/Service','Compute.php',14488],['lib/google/src/Google/Service','Compute.php',14580],['lib/google/src/Google/Service','Compute.php',15235],['lib/google/src/Google/Service','Compute.php',16249],['lib/google/src/Google/Service','Compute.php',16675],['lib/google/src/Google/Service','Compute.php',17005],['lib/google/src/Google/Service','Compute.php',17723],['lib/google/src/Google/Service','Pubsub.php',711],['lib/google/src/Google/Service','Pubsub.php',748],['lib/google/src/Google/Service','Dfareporting.php',19533]], 489],
'readllphpfile': ['readllphpfile', 'Includes a locallang-php file and returns the $LOCAL_LANG array Works only when the frontend or backend has been initialized with a charset conversion object. See first code lines. ', [['lib/typo3','class.t3lib_div.php',4241]], 0],
'hasvalidclassprefix': ['hasvalidclassprefix', 'Checks if a class or function has a valid prefix: tx_, Tx_ or custom, e.g. user_ ', [['lib/typo3','class.t3lib_div.php',4823]], 2],
'fixwindowsfilepath': ['fixwindowsfilepath', 'Fixes a path for windows-backslashes and reduces double-slashes to single slashes ', [['lib/typo3','class.t3lib_div.php',3168]], 1],
'linkthisurl': ['linkthisurl', 'Takes a full URL, $url, possibly with a querystring and overlays the $getParams arrays values onto the quirystring, packs it all together and returns the URL again. So basically it adds the parameters in $getParams to an existing URL, $url ', [['lib/typo3','class.t3lib_div.php',3389]], 0],
'split_fileref': ['split_fileref', 'Splits a reference to a file in 5 parts ', [['lib/typo3','class.t3lib_div.php',999]], 0],
'fixed_lgd_cs': ['fixed_lgd_cs', 'Truncates a string with appended/prepended "..." and takes current character set into consideration. ', [['lib/typo3','class.t3lib_div.php',372]], 1],
'chashparams': ['chashparams', 'Splits the input query-parameters into an array with certain parameters filtered out. Used to create the cHash value ', [['lib/typo3','class.t3lib_div.php',4136]], 0],
'underscoredtouppercamelcase': ['underscoredtouppercamelcase', 'Returns a given string with underscores as UpperCamelCase. Example: Converts blog_example to BlogExample ', [['lib/typo3','class.t3lib_div.php',1473]], 0],
'trimexplode': ['trimexplode', 'Explodes a string and trims all values for whitespace in the ends. If $onlyNonEmptyValues is set, then all blank (\'\') values are removed. ', [['lib/typo3','class.t3lib_div.php',1603]], 20],
'setsubject': ['setsubject', 'Set Subject ', [['lib/phpexcel/PHPExcel','DocumentProperties.php',296],['lib/tcpdf','tcpdf.php',2871],['lib/google/src/Google/Service','Directory.php',5143]], 9],
'gethash': ['gethash', 'This function returns the hash of one xmldb_object ', [['lib/xmldb','xmldb_object.php',94]], 70],
'convertmicrotime': ['convertmicrotime', 'Returns microtime input to milliseconds ', [['lib/typo3','class.t3lib_div.php',1140]], 0],
'flushoutputbuffers': ['flushoutputbuffers', 'Ends and flushes all output buffers ', [['lib/typo3','class.t3lib_div.php',5810]], 0],
'normalizeipv6': ['normalizeipv6', 'Normalize an IPv6 address to full length ', [['lib/typo3','class.t3lib_div.php',575]], 4],
'array_merge': ['array_merge', 'An array_merge function where the keys are NOT renumbered as they happen to be with the real php-array_merge function. It is "binary safe" in the sense that integer keys are overridden as well. ', [['lib/typo3','class.t3lib_div.php',1901]], 2944],
'devlog': ['devlog', 'Logs message to the development log. This should be implemented around the source code, both frontend and backend, logging everything from the flow through an application, messages, results from comparisons to fatal errors. The result is meant to make sense to developers during development or debugging of a site. The idea is that this function is only a wrapper for external extensions which can set a hook which will be allowed to handle the logging of the information to any format they might wish and with any kind of filter they would like. If you want to implement the devLog in your applications, simply add lines like: if (TYPO3_DLOG)	t3lib_div::devLog(\'[write message in english here]\', \'extension key\'); ', [['lib/typo3','class.t3lib_div.php',5578]], 2],
'getparseddata': ['getparseddata', 'Return an array of parsed PDF document objects. ', [['lib/tcpdf','tcpdf_parser.php',151]], 1],
'calluserfunction': ['calluserfunction', 'Calls a user-defined function/method in class Such a function/method should look like this: "function proc(&$params, &$ref)	{...}" ', [['lib/typo3','class.t3lib_div.php',4646]], 4],
'writefiletotypo3tempdir': ['writefiletotypo3tempdir', 'Writes $content to a filename in the typo3temp/ folder (and possibly one or two subfolders...) Accepts an additional subdirectory in the file path! ', [['lib/typo3','class.t3lib_div.php',2856]], 8],
'linkthisscript': ['linkthisscript', 'Returns the link-url to the current script. In $getParams you can set associative keys corresponding to the GET-vars you wish to add to the URL. If you set them empty, they will remove existing GET-vars from the current URL. REMEMBER to always use htmlspecialchars() for content in href-properties to get ampersands converted to entities (XHTML requirement and XSS precaution) ', [['lib/typo3','class.t3lib_div.php',3364]], 0],
'makeinstance': ['makeinstance', 'Creates an instance of a class taking into account the class-extensions API of TYPO3. USE THIS method instead of the PHP "new" keyword. Eg. "$obj = new myclass;" should be "$obj = t3lib_div::makeInstance("myclass")" instead! ', [['lib/typo3','class.t3lib_div.php',4873]], 17],
'validemail': ['validemail', 'Checking syntax of input email address ', [['lib/typo3','class.t3lib_div.php',1262]], 1],
'encode': ['encode', 'NOT IMPLEMENTED ', [['mod/assign/feedback/editpdf/fpdi/filters','FilterLZW.php',153],['lib/horde/framework/Horde/Mail','Rfc822.php',188],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2314],['lib/horde/framework/Horde','Mime.php',119],['lib/lessphp/SourceMap','Base64VLQ.php',107],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',476],['lib/minify/lib/HTTP','Encoder.php',236],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCII85.php',95],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',49],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCIIHexDecode.php',32]], 84],
'makeinstanceservice': ['makeinstanceservice', 'Find the best service and check if it works. Returns object of the service class. ', [['lib/typo3','class.t3lib_div.php',5077]], 0],
'dehscentities': ['dehscentities', 'Re-converts HTML entities if they have been converted by htmlspecialchars() ', [['lib/typo3','class.t3lib_div.php',1215]], 0],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'inlist': ['inlist', 'Check for item in list Check if an item exists in a comma-separated list of items. ', [['lib/typo3','class.t3lib_div.php',804]], 1],
'headers_sent': ['headers_sent', '', [], 13],
'ini_get': ['ini_get', '', [], 121],
'imagegif': ['imagegif', '', [], 6],
'array_reverse': ['array_reverse', '', [], 130],
'unpack': ['unpack', '', [], 65],
'register_shutdown_function': ['register_shutdown_function', '', [], 14],
'fread': ['fread', '', [], 167],
'extension_loaded': ['extension_loaded', '', [], 93],
'gettype': ['gettype', '', [], 266],
'xml_parser_create': ['xml_parser_create', '', [], 13],
'rawurldecode': ['rawurldecode', '', [], 28],
'gethostbyaddr': ['gethostbyaddr', '', [], 6],
'function_exists': ['function_exists', '', [], 419],
'ltrim': ['ltrim', '', [], 92],
'date': ['date', '', [], 693],
'stream_context_create': ['stream_context_create', '', [], 13],
'htmlspecialchars': ['htmlspecialchars', '', [], 215],
'hexdec': ['hexdec', '', [], 72],
'rawurlencode': ['rawurlencode', '', [], 76],
'curl_init': ['curl_init', '', [], 18],
'floor': ['floor', '', [], 514],
'call_user_func': ['call_user_func', '', [], 113],
'round': ['round', '', [], 1002],
'rtrim': ['rtrim', '', [], 165],
'basename': ['basename', '', [], 153],
'array_merge': ['array_merge', '', [], 2944],
'call_user_func_array': ['call_user_func_array', '', [], 94],
'scandir': ['scandir', '', [], 13],
'array_unshift': ['array_unshift', '', [], 115],
'strcspn': ['strcspn', '', [], 36],
'utf8_decode': ['utf8_decode', '', [], 13],
'class_exists': ['class_exists', '', [], 279],
'fsockopen': ['fsockopen', '', [], 9],
'ucwords': ['ucwords', '', [], 12],
'array_slice': ['array_slice', '', [], 165],
'debug_backtrace': ['debug_backtrace', '', [], 30],
'strtoupper': ['strtoupper', '', [], 565],
'rmdir': ['rmdir', '', [], 17],
'is_callable': ['is_callable', '', [], 54],
'defined': ['defined', '', [], 4731],
'microtime': ['microtime', '', [], 109],
'ord': ['ord', '', [], 439],
'strstr': ['strstr', '', [], 54],
'getmypid': ['getmypid', '', [], 8],
'func_get_args': ['func_get_args', '', [], 147],
'strcmp': ['strcmp', '', [], 82],
'reset': ['reset', '', [], 1213],
'array_key_exists': ['array_key_exists', '', [], 1445],
'move_uploaded_file': ['move_uploaded_file', '', [], 3],
'sha1': ['sha1', '', [], 186],
'chunk_split': ['chunk_split', '', [], 12],
'chr': ['chr', '', [], 816],
'xml_error_string': ['xml_error_string', '', [], 15],
'chgrp': ['chgrp', '', [], 1],
'base_convert': ['base_convert', '', [], 4],
'preg_replace': ['preg_replace', '', [], 917],
'php_uname': ['php_uname', '', [], 11],
'is_dir': ['is_dir', '', [], 211],
'headers_list': ['headers_list', '', [], 1],
'copy': ['copy', '', [], 49],
'constant': ['constant', '', [], 17],
'curl_setopt': ['curl_setopt', '', [], 143],
'tempnam': ['tempnam', '', [], 31],
'serialize': ['serialize', '', [], 282],
'preg_match': ['preg_match', '', [], 1286],
'opendir': ['opendir', '', [], 35],
'stream_get_contents': ['stream_get_contents', '', [], 23],
'array_unique': ['array_unique', '', [], 171],
'is_file': ['is_file', '', [], 106],
'filemtime': ['filemtime', '', [], 70],
'is_uploaded_file': ['is_uploaded_file', '', [], 5],
'parse_str': ['parse_str', '', [], 11],
'pow': ['pow', '', [], 295],
'strtr': ['strtr', '', [], 63],
'str_replace': ['str_replace', '', [], 1648],
'fclose': ['fclose', '', [], 275],
'mt_rand': ['mt_rand', '', [], 47],
'xml_parser_free': ['xml_parser_free', '', [], 20],
'fwrite': ['fwrite', '', [], 227],
'header': ['header', '', [], 1355],
'addslashes': ['addslashes', '', [], 28],
'curl_errno': ['curl_errno', '', [], 14],
'syslog': ['syslog', '', [], 2],
'mcrypt_create_iv': ['mcrypt_create_iv', '', [], 5],
'octdec': ['octdec', '', [], 12],
'ob_end_clean': ['ob_end_clean', '', [], 76],
'base64_decode': ['base64_decode', '', [], 92],
'unserialize': ['unserialize', '', [], 192],
'curl_exec': ['curl_exec', '', [], 19],
'number_format': ['number_format', '', [], 37],
'key': ['key', '', [], 204],
'asort': ['asort', '', [], 114],
'curl_close': ['curl_close', '', [], 18],
'error_log': ['error_log', '', [], 90],
'array_map': ['array_map', '', [], 169],
'memory_get_usage': ['memory_get_usage', '', [], 16],
'closedir': ['closedir', '', [], 24],
'uksort': ['uksort', '', [], 15],
'curl_error': ['curl_error', '', [], 9],
'imagecreatefromgif': ['imagecreatefromgif', '', [], 3],
'xml_get_current_line_number': ['xml_get_current_line_number', '', [], 15],
'base64_encode': ['base64_encode', '', [], 134],
'xml_get_error_code': ['xml_get_error_code', '', [], 17],
'array_values': ['array_values', '', [], 342],
'trim': ['trim', '', [], 1948],
'file_exists': ['file_exists', '', [], 867],
'count': ['count', '', [], 4095],
'mkdir': ['mkdir', '', [], 64],
'define': ['define', '', [], 2373],
'uniqid': ['uniqid', '', [], 86],
'ip2long': ['ip2long', '', [], 13],
'clearstatcache': ['clearstatcache', '', [], 29],
'method_exists': ['method_exists', '', [], 265],
'strpos': ['strpos', '', [], 1604],
'array_pop': ['array_pop', '', [], 483],
'openlog': ['openlog', '', [], 1],
'is_array': ['is_array', '', [], 1608],
'preg_split': ['preg_split', '', [], 146],
'implode': ['implode', '', [], 1281],
'stripos': ['stripos', '', [], 88],
'decbin': ['decbin', '', [], 16],
'bin2hex': ['bin2hex', '', [], 19],
'file_get_contents': ['file_get_contents', '', [], 228],
'get_class': ['get_class', '', [], 305],
'pack': ['pack', '', [], 195],
'explode': ['explode', '', [], 1572],
'chmod': ['chmod', '', [], 50],
'is_string': ['is_string', '', [], 536],
'intval': ['intval', '', [], 455],
'feof': ['feof', '', [], 52],
'max': ['max', '', [], 1266],
'str_pad': ['str_pad', '', [], 78],
'strtolower': ['strtolower', '', [], 817],
'unlink': ['unlink', '', [], 256],
'str_repeat': ['str_repeat', '', [], 156],
'curl_getinfo': ['curl_getinfo', '', [], 11],
'in_array': ['in_array', '', [], 1234],
'strrev': ['strrev', '', [], 40],
'strcasecmp': ['strcasecmp', '', [], 46],
'parse_url': ['parse_url', '', [], 55],
'strrpos': ['strrpos', '', [], 75],
'gethostbyname': ['gethostbyname', '', [], 4],
'is_object': ['is_object', '', [], 544],
'strncmp': ['strncmp', '', [], 66],
'array_push': ['array_push', '', [], 240],
'xml_parser_set_option': ['xml_parser_set_option', '', [], 20],
'end': ['end', '', [], 433],
'rename': ['rename', '', [], 48],
'fgets': ['fgets', '', [], 44],
'dirname': ['dirname', '', [], 335],
'ob_get_clean': ['ob_get_clean', '', [], 29],
'imagedestroy': ['imagedestroy', '', [], 19],
'dechex': ['dechex', '', [], 48],
'stripslashes': ['stripslashes', '', [], 17],
'xml_parse_into_struct': ['xml_parse_into_struct', '', [], 5],
'array_shift': ['array_shift', '', [], 700],
'exec': ['exec', '', [], 346],
'substr': ['substr', '', [], 2823],
'mail': ['mail', '', [], 23],
'pathinfo': ['pathinfo', '', [], 68]};
CLASS_DATA={
'invalidargumentexception': ['invalidargumentexception', 'Class InvalidArgumentException ', [['lib/spout/src/Spout/Common/Exception','InvalidArgumentException.php',5]], 52],
'object': ['object', 'Simple class. It is usually used instead of stdClass because it looks more familiar to Java developers ;-) Do not use for type checking of function parameters. Please use stdClass instead. ', [['lib','setuplib.php',55]], 72]};
CONST_DATA={
'TAB': ['TAB', '', [['lib/typo3','class.t3lib_div.php',29]], 69],
'CRLF': ['CRLF', '', [['lib/typo3','class.t3lib_div.php',35]], 33],
'TYPO3_OS': ['TYPO3_OS', '', [['lib/classes','text.php',100]], 8]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
