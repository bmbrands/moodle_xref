<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/phpmailer/class.smtp.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/phpmailer';
filename='class.smtp.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/phpmailer/</a> -> <a href="class.smtp.php.html">class.smtp.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="class.smtp.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="class.smtp.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * PHPMailer RFC821 SMTP email transport class.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * PHP Version 5</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * @package PHPMailer</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * @link https://github.com/PHPMailer/PHPMailer/ The PHPMailer GitHub project</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * @author Marcus Bointon (Synchro/coolbru) &lt;phpmailer@synchromedia.co.uk&gt;</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @author Jim Jagielski (jimjag) &lt;jimjag@gmail.com&gt;</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * @author Andy Prevost (codeworxtech) &lt;codeworxtech@users.sourceforge.net&gt;</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @author Brent R. Matzelle (original founder)</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @copyright 2014 Marcus Bointon</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * @copyright 2010 - 2012 Jim Jagielski</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @copyright 2004 - 2009 Andy Prevost</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/lesser.html GNU Lesser General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> * @note This program is distributed in the hope that it will be useful - WITHOUT</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> */</span>
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">/**</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * PHPMailer RFC821 SMTP email transport class.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * Implements RFC 821 SMTP commands and provides some utility methods for sending mail to an SMTP server.</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @package PHPMailer</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @author Chris Ryan</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @author Marcus Bointon &lt;phpmailer@synchromedia.co.uk&gt;</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('SMTP')" href="../../_classes/smtp.html" onMouseOver="classPopup(event,'smtp')">SMTP</a>
<a name="l28"><span class="linenum">  28</span></a>  {
<a name="l29"><span class="linenum">  29</span></a>      <span class="comment">/**</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">     * The PHPMailer SMTP version number.</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * @var string</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     */</span>
<a name="l33"><span class="linenum">  33</span></a>      const VERSION = '5.2.14';
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>      <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">     * SMTP line break constant.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * @var string</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     */</span>
<a name="l39"><span class="linenum">  39</span></a>      const <a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a> = &quot;\r\n&quot;;
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>      <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * The SMTP port to use if one is not specified.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @var integer</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      const DEFAULT_SMTP_PORT = 25;
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>      <span class="comment">/**</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * The maximum line length allowed by RFC 2822 section 2.1.1</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * @var integer</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     */</span>
<a name="l51"><span class="linenum">  51</span></a>      const MAX_LINE_LENGTH = 998;
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      <span class="comment">/**</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * Debug level for no output</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     */</span>
<a name="l56"><span class="linenum">  56</span></a>      const DEBUG_OFF = 0;
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>      <span class="comment">/**</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * Debug level to show client -&gt; server messages</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     */</span>
<a name="l61"><span class="linenum">  61</span></a>      const DEBUG_CLIENT = 1;
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>      <span class="comment">/**</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * Debug level to show client -&gt; server and server -&gt; client messages</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     */</span>
<a name="l66"><span class="linenum">  66</span></a>      const DEBUG_SERVER = 2;
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>      <span class="comment">/**</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * Debug level to show connection status, client -&gt; server and server -&gt; client messages</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     */</span>
<a name="l71"><span class="linenum">  71</span></a>      const DEBUG_CONNECTION = 3;
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>      <span class="comment">/**</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * Debug level to show all messages</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     */</span>
<a name="l76"><span class="linenum">  76</span></a>      const DEBUG_LOWLEVEL = 4;
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>      <span class="comment">/**</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     * The PHPMailer SMTP Version number.</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * @var string</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * @deprecated Use the `VERSION` constant instead</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * @see SMTP::VERSION</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     */</span>
<a name="l84"><span class="linenum">  84</span></a>      public <a class="var it12332" onMouseOver="hilite(12332)" onMouseOut="lolite()" onClick="logVariable('Version')" href="../../_variables/Version.html">$Version</a> = '5.2.14';
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>      <span class="comment">/**</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * SMTP server port number.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * @var integer</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * @deprecated This is only ever used as a default value, so use the `DEFAULT_SMTP_PORT` constant instead</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * @see SMTP::DEFAULT_SMTP_PORT</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     */</span>
<a name="l92"><span class="linenum">  92</span></a>      public <a class="var it18492" onMouseOver="hilite(18492)" onMouseOut="lolite()" onClick="logVariable('SMTP_PORT')" href="../../_variables/SMTP_PORT.html">$SMTP_PORT</a> = 25;
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>      <span class="comment">/**</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * SMTP reply line ending.</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     * @var string</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @deprecated Use the `CRLF` constant instead</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * @see SMTP::CRLF</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     */</span>
<a name="l100"><span class="linenum"> 100</span></a>      public <a class="var it18493" onMouseOver="hilite(18493)" onMouseOut="lolite()" onClick="logVariable('CRLF')" href="../../_variables/CRLF.html">$CRLF</a> = &quot;\r\n&quot;;
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>      <span class="comment">/**</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     * Debug output level.</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * Options:</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     * * self::DEBUG_OFF (`0`) No debug output, default</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * * self::DEBUG_CLIENT (`1`) Client commands</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * * self::DEBUG_SERVER (`2`) Client commands and server responses</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * * self::DEBUG_CONNECTION (`3`) As DEBUG_SERVER plus connection status</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * * self::DEBUG_LOWLEVEL (`4`) Low-level data output, all messages</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @var integer</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     */</span>
<a name="l112"><span class="linenum"> 112</span></a>      public <a class="var it18494" onMouseOver="hilite(18494)" onMouseOut="lolite()" onClick="logVariable('do_debug')" href="../../_variables/do_debug.html">$do_debug</a> = self::DEBUG_OFF;
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>      <span class="comment">/**</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * How to handle debug output.</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * Options:</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     * * `echo` Output plain-text as-is, appropriate for CLI</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     * * `html` Output escaped, line breaks converted to `&lt;br&gt;`, appropriate for browser output</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * * `error_log` Output to error log as configured in php.ini</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     *</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * Alternatively, you can provide a callable expecting two params: a message string and the debug level:</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * &lt;code&gt;</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * $smtp-&gt;Debugoutput = function($str, $level) {echo &quot;debug level $level; message: $str&quot;;};</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * &lt;/code&gt;</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @var string|callable</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     */</span>
<a name="l127"><span class="linenum"> 127</span></a>      public <a class="var it18495" onMouseOver="hilite(18495)" onMouseOut="lolite()" onClick="logVariable('Debugoutput')" href="../../_variables/Debugoutput.html">$Debugoutput</a> = 'echo';
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <span class="comment">/**</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * Whether to use VERP.</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @link http://en.wikipedia.org/wiki/Variable_envelope_return_path</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @link http://www.postfix.org/VERP_README.html Info on VERP</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @var boolean</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     */</span>
<a name="l135"><span class="linenum"> 135</span></a>      public <a class="var it14189" onMouseOver="hilite(14189)" onMouseOut="lolite()" onClick="logVariable('do_verp')" href="../../_variables/do_verp.html">$do_verp</a> = false;
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>      <span class="comment">/**</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * The timeout value for connection, in seconds.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * Default of 5 minutes (300sec) is from RFC2821 section 4.5.3.2</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * This needs to be quite high to function correctly with hosts using greetdelay as an anti-spam measure.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * @link http://tools.ietf.org/html/rfc2821#section-4.5.3.2</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * @var integer</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     */</span>
<a name="l144"><span class="linenum"> 144</span></a>      public <a class="var it18496" onMouseOver="hilite(18496)" onMouseOut="lolite()" onClick="logVariable('Timeout')" href="../../_variables/Timeout.html">$Timeout</a> = 300;
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <span class="comment">/**</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * How long to wait for commands to complete, in seconds.</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * Default of 5 minutes (300sec) is from RFC2821 section 4.5.3.2</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * @var integer</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     */</span>
<a name="l151"><span class="linenum"> 151</span></a>      public <a class="var it18497" onMouseOver="hilite(18497)" onMouseOut="lolite()" onClick="logVariable('Timelimit')" href="../../_variables/Timelimit.html">$Timelimit</a> = 300;
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * The socket for the server connection.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * @var resource</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     */</span>
<a name="l157"><span class="linenum"> 157</span></a>      protected <a class="var it18498" onMouseOver="hilite(18498)" onMouseOut="lolite()" onClick="logVariable('smtp_conn')" href="../../_variables/smtp_conn.html">$smtp_conn</a>;
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>      <span class="comment">/**</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * Error information, if any, for the last SMTP command.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @var array</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     */</span>
<a name="l163"><span class="linenum"> 163</span></a>      protected <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = array(
<a name="l164"><span class="linenum"> 164</span></a>          'error' =&gt; '',
<a name="l165"><span class="linenum"> 165</span></a>          'detail' =&gt; '',
<a name="l166"><span class="linenum"> 166</span></a>          'smtp_code' =&gt; '',
<a name="l167"><span class="linenum"> 167</span></a>          'smtp_code_ex' =&gt; ''
<a name="l168"><span class="linenum"> 168</span></a>      );
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>      <span class="comment">/**</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * The reply the server sent to us for HELO.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * If null, no HELO string has yet been received.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @var string|null</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     */</span>
<a name="l175"><span class="linenum"> 175</span></a>      protected <a class="var it18499" onMouseOver="hilite(18499)" onMouseOut="lolite()" onClick="logVariable('helo_rply')" href="../../_variables/helo_rply.html">$helo_rply</a> = null;
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>      <span class="comment">/**</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * The set of SMTP extensions sent in reply to EHLO command.</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     * Indexes of the array are extension names.</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * Value at index 'HELO' or 'EHLO' (according to command that was sent)</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * represents the server name. In case of HELO it is the only element of the array.</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * Other values can be boolean TRUE or an array containing extension options.</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * If null, no HELO/EHLO string has yet been received.</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     * @var array|null</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     */</span>
<a name="l186"><span class="linenum"> 186</span></a>      protected <a class="var it18500" onMouseOver="hilite(18500)" onMouseOut="lolite()" onClick="logVariable('server_caps')" href="../../_variables/server_caps.html">$server_caps</a> = null;
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>      <span class="comment">/**</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * The most recent reply received from the server.</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * @var string</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     */</span>
<a name="l192"><span class="linenum"> 192</span></a>      protected <a class="var it18501" onMouseOver="hilite(18501)" onMouseOut="lolite()" onClick="logVariable('last_reply')" href="../../_variables/last_reply.html">$last_reply</a> = '';
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * Output debugging info via a user-selected method.</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @see SMTP::$Debugoutput</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @see SMTP::$do_debug</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * @param string $str Debug string to output</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @param integer $level The debug level of this message; see DEBUG_* constants</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * @return void</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     */</span>
<a name="l202"><span class="linenum"> 202</span></a>      protected function <a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = 0)
<a name="l203"><span class="linenum"> 203</span></a>      {
<a name="l204"><span class="linenum"> 204</span></a>          if (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> &gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_debug.html">do_debug</a>) {
<a name="l205"><span class="linenum"> 205</span></a>              return;
<a name="l206"><span class="linenum"> 206</span></a>          }
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">        //Avoid clash with built-in function names</span>
<a name="l208"><span class="linenum"> 208</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a>, array('error_log', 'html', 'echo')) and <a class="phpfunction" onClick="logFunction('is_callable')" href="../../_functions/is_callable.html" onMouseOver="phpfuncPopup(event,'is_callable')">is_callable</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a>)) {
<a name="l209"><span class="linenum"> 209</span></a>              <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_debug.html">do_debug</a>);
<a name="l210"><span class="linenum"> 210</span></a>              return;
<a name="l211"><span class="linenum"> 211</span></a>          }
<a name="l212"><span class="linenum"> 212</span></a>          switch (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a>) {
<a name="l213"><span class="linenum"> 213</span></a>              case 'error_log':
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">                //Don't output, just log</span>
<a name="l215"><span class="linenum"> 215</span></a>                  <a class="phpfunction" onClick="logFunction('error_log')" href="../../_functions/error_log.html" onMouseOver="phpfuncPopup(event,'error_log')">error_log</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l216"><span class="linenum"> 216</span></a>                  break;
<a name="l217"><span class="linenum"> 217</span></a>              case 'html':
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">                //Cleans up output a bit for a better looking, HTML-safe output</span>
<a name="l219"><span class="linenum"> 219</span></a>                  echo <a class="phpfunction" onClick="logFunction('htmlentities')" href="../../_functions/htmlentities.html" onMouseOver="phpfuncPopup(event,'htmlentities')">htmlentities</a>(
<a name="l220"><span class="linenum"> 220</span></a>                      <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/[\r\n]+/', '', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>),
<a name="l221"><span class="linenum"> 221</span></a>                      ENT_QUOTES,
<a name="l222"><span class="linenum"> 222</span></a>                      'UTF-8'
<a name="l223"><span class="linenum"> 223</span></a>                  )
<a name="l224"><span class="linenum"> 224</span></a>                  . &quot;&lt;br&gt;\n&quot;;
<a name="l225"><span class="linenum"> 225</span></a>                  break;
<a name="l226"><span class="linenum"> 226</span></a>              case 'echo':
<a name="l227"><span class="linenum"> 227</span></a>              default:
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">                //Normalize line breaks</span>
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(\r\n|\r|\n)/ms', &quot;\n&quot;, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>);
<a name="l230"><span class="linenum"> 230</span></a>                  echo <a class="phpfunction" onClick="logFunction('gmdate')" href="../../_functions/gmdate.html" onMouseOver="phpfuncPopup(event,'gmdate')">gmdate</a>('Y-m-d H:i:s') . &quot;\t&quot; . <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(
<a name="l231"><span class="linenum"> 231</span></a>                      &quot;\n&quot;,
<a name="l232"><span class="linenum"> 232</span></a>                      &quot;\n                   \t                  &quot;,
<a name="l233"><span class="linenum"> 233</span></a>                      <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>)
<a name="l234"><span class="linenum"> 234</span></a>                  ).&quot;\n&quot;;
<a name="l235"><span class="linenum"> 235</span></a>          }
<a name="l236"><span class="linenum"> 236</span></a>      }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * Connect to an SMTP server.</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @param string $host SMTP server IP or host name</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * @param integer $port The port number to connect to</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * @param integer $timeout How long to wait for the connection to open</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * @param array $options An array of options for stream_context_create()</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     * @access public</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * @return boolean</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     */</span>
<a name="l247"><span class="linenum"> 247</span></a>      public function <a class="function" onClick="logFunction('connect')" href="../../_functions/connect.html" onMouseOver="funcPopup(event,'connect')">connect</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>, <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> = null, <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a> = 30, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a> = array())
<a name="l248"><span class="linenum"> 248</span></a>      {
<a name="l249"><span class="linenum"> 249</span></a>          static <a class="var it18502" onMouseOver="hilite(18502)" onMouseOut="lolite()" onClick="logVariable('streamok')" href="../../_variables/streamok.html">$streamok</a>;
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">        //This is enabled by default since 5.0.0 but some providers disable it</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">        //Check this once and cache the result</span>
<a name="l252"><span class="linenum"> 252</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it18502" onMouseOver="hilite(18502)" onMouseOut="lolite()" onClick="logVariable('streamok')" href="../../_variables/streamok.html">$streamok</a>)) {
<a name="l253"><span class="linenum"> 253</span></a>              <a class="var it18502" onMouseOver="hilite(18502)" onMouseOut="lolite()" onClick="logVariable('streamok')" href="../../_variables/streamok.html">$streamok</a> = <a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('stream_socket_client');
<a name="l254"><span class="linenum"> 254</span></a>          }
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">        // Clear errors to avoid confusion</span>
<a name="l256"><span class="linenum"> 256</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('');
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">        // Make sure we are __not__ connected</span>
<a name="l258"><span class="linenum"> 258</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('connected')" href="../../_functions/connected.html" onMouseOver="funcPopup(event,'connected')">connected</a>()) {
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">            // Already connected, generate error</span>
<a name="l260"><span class="linenum"> 260</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('Already connected to a server');
<a name="l261"><span class="linenum"> 261</span></a>              return false;
<a name="l262"><span class="linenum"> 262</span></a>          }
<a name="l263"><span class="linenum"> 263</span></a>          if (empty(<a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a>)) {
<a name="l264"><span class="linenum"> 264</span></a>              <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a> = self::DEFAULT_SMTP_PORT;
<a name="l265"><span class="linenum"> 265</span></a>          }
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">        // Connect to the SMTP server</span>
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l268"><span class="linenum"> 268</span></a>              &quot;Connection: opening to <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>:<a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a>, timeout=<a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>, options=&quot;.<a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>, true),
<a name="l269"><span class="linenum"> 269</span></a>              self::DEBUG_CONNECTION
<a name="l270"><span class="linenum"> 270</span></a>          );
<a name="l271"><span class="linenum"> 271</span></a>          <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a> = 0;
<a name="l272"><span class="linenum"> 272</span></a>          <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a> = '';
<a name="l273"><span class="linenum"> 273</span></a>          if (<a class="var it18502" onMouseOver="hilite(18502)" onMouseOut="lolite()" onClick="logVariable('streamok')" href="../../_variables/streamok.html">$streamok</a>) {
<a name="l274"><span class="linenum"> 274</span></a>              <a class="var it18503" onMouseOver="hilite(18503)" onMouseOut="lolite()" onClick="logVariable('socket_context')" href="../../_variables/socket_context.html">$socket_context</a> = <a class="phpfunction" onClick="logFunction('stream_context_create')" href="../../_functions/stream_context_create.html" onMouseOver="phpfuncPopup(event,'stream_context_create')">stream_context_create</a>(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">            //Suppress errors; connection failures are handled at a higher level</span>
<a name="l276"><span class="linenum"> 276</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a> = @<a class="phpfunction" onClick="logFunction('stream_socket_client')" href="../../_functions/stream_socket_client.html" onMouseOver="phpfuncPopup(event,'stream_socket_client')">stream_socket_client</a>(
<a name="l277"><span class="linenum"> 277</span></a>                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> . &quot;:&quot; . <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a>,
<a name="l278"><span class="linenum"> 278</span></a>                  <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a>,
<a name="l279"><span class="linenum"> 279</span></a>                  <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a>,
<a name="l280"><span class="linenum"> 280</span></a>                  <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>,
<a name="l281"><span class="linenum"> 281</span></a>                  STREAM_CLIENT_CONNECT,
<a name="l282"><span class="linenum"> 282</span></a>                  <a class="var it18503" onMouseOver="hilite(18503)" onMouseOut="lolite()" onClick="logVariable('socket_context')" href="../../_variables/socket_context.html">$socket_context</a>
<a name="l283"><span class="linenum"> 283</span></a>              );
<a name="l284"><span class="linenum"> 284</span></a>          } else {
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">            //Fall back to fsockopen which should work in more places, but is missing some features</span>
<a name="l286"><span class="linenum"> 286</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l287"><span class="linenum"> 287</span></a>                  &quot;Connection: stream_socket_client not available, falling back to fsockopen&quot;,
<a name="l288"><span class="linenum"> 288</span></a>                  self::DEBUG_CONNECTION
<a name="l289"><span class="linenum"> 289</span></a>              );
<a name="l290"><span class="linenum"> 290</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a> = <a class="phpfunction" onClick="logFunction('fsockopen')" href="../../_functions/fsockopen.html" onMouseOver="phpfuncPopup(event,'fsockopen')">fsockopen</a>(
<a name="l291"><span class="linenum"> 291</span></a>                  <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>,
<a name="l292"><span class="linenum"> 292</span></a>                  <a class="var it1408" onMouseOver="hilite(1408)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../_variables/port.html">$port</a>,
<a name="l293"><span class="linenum"> 293</span></a>                  <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a>,
<a name="l294"><span class="linenum"> 294</span></a>                  <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a>,
<a name="l295"><span class="linenum"> 295</span></a>                  <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>
<a name="l296"><span class="linenum"> 296</span></a>              );
<a name="l297"><span class="linenum"> 297</span></a>          }
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">        // Verify we connected properly</span>
<a name="l299"><span class="linenum"> 299</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_resource')" href="../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>)) {
<a name="l300"><span class="linenum"> 300</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(
<a name="l301"><span class="linenum"> 301</span></a>                  'Failed to connect to server',
<a name="l302"><span class="linenum"> 302</span></a>                  <a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a>,
<a name="l303"><span class="linenum"> 303</span></a>                  <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a>
<a name="l304"><span class="linenum"> 304</span></a>              );
<a name="l305"><span class="linenum"> 305</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l306"><span class="linenum"> 306</span></a>                  'SMTP ERROR: ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>['error']
<a name="l307"><span class="linenum"> 307</span></a>                  . &quot;: <a class="var it499" onMouseOver="hilite(499)" onMouseOut="lolite()" onClick="logVariable('errstr')" href="../../_variables/errstr.html">$errstr</a> (<a class="var it498" onMouseOver="hilite(498)" onMouseOut="lolite()" onClick="logVariable('errno')" href="../../_variables/errno.html">$errno</a>)&quot;,
<a name="l308"><span class="linenum"> 308</span></a>                  self::DEBUG_CLIENT
<a name="l309"><span class="linenum"> 309</span></a>              );
<a name="l310"><span class="linenum"> 310</span></a>              return false;
<a name="l311"><span class="linenum"> 311</span></a>          }
<a name="l312"><span class="linenum"> 312</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('Connection: opened', self::DEBUG_CONNECTION);
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">        // SMTP server can take longer to respond, give longer timeout for first read</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">        // Windows does not have support for this timeout function</span>
<a name="l315"><span class="linenum"> 315</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(PHP_OS, 0, 3) != 'WIN') {
<a name="l316"><span class="linenum"> 316</span></a>              <a class="var it536" onMouseOver="hilite(536)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../_variables/max.html">$max</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('max_execution_time');
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">            // Don't bother if unlimited</span>
<a name="l318"><span class="linenum"> 318</span></a>              if (<a class="var it536" onMouseOver="hilite(536)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../_variables/max.html">$max</a> != 0 &amp;&amp; <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a> &gt; <a class="var it536" onMouseOver="hilite(536)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../_variables/max.html">$max</a>) {
<a name="l319"><span class="linenum"> 319</span></a>                  @<a class="phpfunction" onClick="logFunction('set_time_limit')" href="../../_functions/set_time_limit.html" onMouseOver="phpfuncPopup(event,'set_time_limit')">set_time_limit</a>(<a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>);
<a name="l320"><span class="linenum"> 320</span></a>              }
<a name="l321"><span class="linenum"> 321</span></a>              <a class="phpfunction" onClick="logFunction('stream_set_timeout')" href="../../_functions/stream_set_timeout.html" onMouseOver="phpfuncPopup(event,'stream_set_timeout')">stream_set_timeout</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>, <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>, 0);
<a name="l322"><span class="linenum"> 322</span></a>          }
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">        // Get any announcement</span>
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it18504" onMouseOver="hilite(18504)" onMouseOut="lolite()" onClick="logVariable('announce')" href="../../_variables/announce.html">$announce</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>();
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('SERVER -&gt; CLIENT: ' . <a class="var it18504" onMouseOver="hilite(18504)" onMouseOut="lolite()" onClick="logVariable('announce')" href="../../_variables/announce.html">$announce</a>, self::DEBUG_SERVER);
<a name="l326"><span class="linenum"> 326</span></a>          return true;
<a name="l327"><span class="linenum"> 327</span></a>      }
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>      <span class="comment">/**</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     * Initiate a TLS (encrypted) session.</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     * @access public</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     * @return boolean</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     */</span>
<a name="l334"><span class="linenum"> 334</span></a>      public function <a class="function" onClick="logFunction('startTLS')" href="../../_functions/starttls.html" onMouseOver="funcPopup(event,'starttls')">startTLS</a>()
<a name="l335"><span class="linenum"> 335</span></a>      {
<a name="l336"><span class="linenum"> 336</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('STARTTLS', 'STARTTLS', 220)) {
<a name="l337"><span class="linenum"> 337</span></a>              return false;
<a name="l338"><span class="linenum"> 338</span></a>          }
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">        // Begin encrypted connection</span>
<a name="l340"><span class="linenum"> 340</span></a>          if (!stream_socket_enable_crypto(
<a name="l341"><span class="linenum"> 341</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>,
<a name="l342"><span class="linenum"> 342</span></a>              true,
<a name="l343"><span class="linenum"> 343</span></a>              STREAM_CRYPTO_METHOD_TLS_CLIENT
<a name="l344"><span class="linenum"> 344</span></a>          )) {
<a name="l345"><span class="linenum"> 345</span></a>              return false;
<a name="l346"><span class="linenum"> 346</span></a>          }
<a name="l347"><span class="linenum"> 347</span></a>          return true;
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      <span class="comment">/**</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     * Perform SMTP authentication.</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * Must be run after hello().</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * @see hello()</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     * @param string $username The user name</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     * @param string $password The password</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * @param string $authtype The auth type (PLAIN, LOGIN, NTLM, CRAM-MD5, XOAUTH2)</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     * @param string $realm The auth realm for NTLM</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     * @param string $workstation The auth workstation for NTLM</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     * @param null|OAuth $OAuth An optional OAuth instance (@see PHPMailerOAuth)</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">     * @return bool True if successfully authenticated.* @access public</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     */</span>
<a name="l362"><span class="linenum"> 362</span></a>      public function <a class="function" onClick="logFunction('authenticate')" href="../../_functions/authenticate.html" onMouseOver="funcPopup(event,'authenticate')">authenticate</a>(
<a name="l363"><span class="linenum"> 363</span></a>          <a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../../_variables/username.html">$username</a>,
<a name="l364"><span class="linenum"> 364</span></a>          <a class="var it201" onMouseOver="hilite(201)" onMouseOut="lolite()" onClick="logVariable('password')" href="../../_variables/password.html">$password</a>,
<a name="l365"><span class="linenum"> 365</span></a>          <a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a> = null,
<a name="l366"><span class="linenum"> 366</span></a>          <a class="var it18505" onMouseOver="hilite(18505)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../_variables/realm.html">$realm</a> = '',
<a name="l367"><span class="linenum"> 367</span></a>          <a class="var it18506" onMouseOver="hilite(18506)" onMouseOut="lolite()" onClick="logVariable('workstation')" href="../../_variables/workstation.html">$workstation</a> = '',
<a name="l368"><span class="linenum"> 368</span></a>          <a class="var it18507" onMouseOver="hilite(18507)" onMouseOut="lolite()" onClick="logVariable('OAuth')" href="../../_variables/OAuth.html">$OAuth</a> = null
<a name="l369"><span class="linenum"> 369</span></a>      ) {
<a name="l370"><span class="linenum"> 370</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>) {
<a name="l371"><span class="linenum"> 371</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('Authentication is not allowed before HELO/EHLO');
<a name="l372"><span class="linenum"> 372</span></a>              return false;
<a name="l373"><span class="linenum"> 373</span></a>          }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('EHLO', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>)) {
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">        // SMTP extensions are available. Let's try to find a proper authentication method</span>
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('AUTH', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>)) {
<a name="l379"><span class="linenum"> 379</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('Authentication is not allowed at this stage');
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">                // 'at this stage' means that auth may be allowed after the stage changes</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">                // e.g. after STARTTLS</span>
<a name="l382"><span class="linenum"> 382</span></a>                  return false;
<a name="l383"><span class="linenum"> 383</span></a>              }
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>              self::<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('Auth method requested: ' . (<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a> ? <a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a> : 'UNKNOWN'), self::DEBUG_LOWLEVEL);
<a name="l386"><span class="linenum"> 386</span></a>              self::<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l387"><span class="linenum"> 387</span></a>                  'Auth methods available on the server: ' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>['AUTH']),
<a name="l388"><span class="linenum"> 388</span></a>                  self::DEBUG_LOWLEVEL
<a name="l389"><span class="linenum"> 389</span></a>              );
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>              if (empty(<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>)) {
<a name="l392"><span class="linenum"> 392</span></a>                  foreach (array('LOGIN', 'CRAM-MD5', 'NTLM', 'PLAIN', 'XOAUTH2') as <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l393"><span class="linenum"> 393</span></a>                      if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>['AUTH'])) {
<a name="l394"><span class="linenum"> 394</span></a>                          <a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a> = <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>;
<a name="l395"><span class="linenum"> 395</span></a>                          break;
<a name="l396"><span class="linenum"> 396</span></a>                      }
<a name="l397"><span class="linenum"> 397</span></a>                  }
<a name="l398"><span class="linenum"> 398</span></a>                  if (empty(<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>)) {
<a name="l399"><span class="linenum"> 399</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('No supported authentication methods found');
<a name="l400"><span class="linenum"> 400</span></a>                      return false;
<a name="l401"><span class="linenum"> 401</span></a>                  }
<a name="l402"><span class="linenum"> 402</span></a>                  self::<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('Auth method selected: '.<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>, self::DEBUG_LOWLEVEL);
<a name="l403"><span class="linenum"> 403</span></a>              }
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>['AUTH'])) {
<a name="l406"><span class="linenum"> 406</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(&quot;The requested authentication method \&quot;<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>\&quot; is not supported by the server&quot;);
<a name="l407"><span class="linenum"> 407</span></a>                  return false;
<a name="l408"><span class="linenum"> 408</span></a>              }
<a name="l409"><span class="linenum"> 409</span></a>          } elseif (empty(<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>)) {
<a name="l410"><span class="linenum"> 410</span></a>              <a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a> = 'LOGIN';
<a name="l411"><span class="linenum"> 411</span></a>          }
<a name="l412"><span class="linenum"> 412</span></a>          switch (<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>) {
<a name="l413"><span class="linenum"> 413</span></a>              case 'PLAIN':
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">                // Start authentication</span>
<a name="l415"><span class="linenum"> 415</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('AUTH', 'AUTH PLAIN', 334)) {
<a name="l416"><span class="linenum"> 416</span></a>                      return false;
<a name="l417"><span class="linenum"> 417</span></a>                  }
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">                // Send encoded username and password</span>
<a name="l419"><span class="linenum"> 419</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(
<a name="l420"><span class="linenum"> 420</span></a>                      'User &amp; Password',
<a name="l421"><span class="linenum"> 421</span></a>                      <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(&quot;\0&quot; . <a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../../_variables/username.html">$username</a> . &quot;\0&quot; . <a class="var it201" onMouseOver="hilite(201)" onMouseOut="lolite()" onClick="logVariable('password')" href="../../_variables/password.html">$password</a>),
<a name="l422"><span class="linenum"> 422</span></a>                      235
<a name="l423"><span class="linenum"> 423</span></a>                  )
<a name="l424"><span class="linenum"> 424</span></a>                  ) {
<a name="l425"><span class="linenum"> 425</span></a>                      return false;
<a name="l426"><span class="linenum"> 426</span></a>                  }
<a name="l427"><span class="linenum"> 427</span></a>                  break;
<a name="l428"><span class="linenum"> 428</span></a>              case 'LOGIN':
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">                // Start authentication</span>
<a name="l430"><span class="linenum"> 430</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('AUTH', 'AUTH LOGIN', 334)) {
<a name="l431"><span class="linenum"> 431</span></a>                      return false;
<a name="l432"><span class="linenum"> 432</span></a>                  }
<a name="l433"><span class="linenum"> 433</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(&quot;Username&quot;, <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../../_variables/username.html">$username</a>), 334)) {
<a name="l434"><span class="linenum"> 434</span></a>                      return false;
<a name="l435"><span class="linenum"> 435</span></a>                  }
<a name="l436"><span class="linenum"> 436</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(&quot;Password&quot;, <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it201" onMouseOver="hilite(201)" onMouseOut="lolite()" onClick="logVariable('password')" href="../../_variables/password.html">$password</a>), 235)) {
<a name="l437"><span class="linenum"> 437</span></a>                      return false;
<a name="l438"><span class="linenum"> 438</span></a>                  }
<a name="l439"><span class="linenum"> 439</span></a>                  break;
<a name="l440"><span class="linenum"> 440</span></a>              case 'XOAUTH2':
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">                //If the OAuth Instance is not set. Can be a case when PHPMailer is used</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">                //instead of PHPMailerOAuth</span>
<a name="l443"><span class="linenum"> 443</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it18507" onMouseOver="hilite(18507)" onMouseOut="lolite()" onClick="logVariable('OAuth')" href="../../_variables/OAuth.html">$OAuth</a>)) {
<a name="l444"><span class="linenum"> 444</span></a>                      return false;
<a name="l445"><span class="linenum"> 445</span></a>                  }
<a name="l446"><span class="linenum"> 446</span></a>                  <a class="var it3203" onMouseOver="hilite(3203)" onMouseOut="lolite()" onClick="logVariable('oauth')" href="../../_variables/oauth.html">$oauth</a> = <a class="var it18507" onMouseOver="hilite(18507)" onMouseOut="lolite()" onClick="logVariable('OAuth')" href="../../_variables/OAuth.html">$OAuth</a>-&gt;getOauth64();
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">                // Start authentication</span>
<a name="l449"><span class="linenum"> 449</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('AUTH', 'AUTH XOAUTH2 ' . <a class="var it3203" onMouseOver="hilite(3203)" onMouseOut="lolite()" onClick="logVariable('oauth')" href="../../_variables/oauth.html">$oauth</a>, 235)) {
<a name="l450"><span class="linenum"> 450</span></a>                      return false;
<a name="l451"><span class="linenum"> 451</span></a>                  }
<a name="l452"><span class="linenum"> 452</span></a>                  break;
<a name="l453"><span class="linenum"> 453</span></a>              case 'NTLM':
<a name="l454"><span class="linenum"> 454</span></a>                  <span class="comment">/*</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">                 * ntlm_sasl_client.php</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">                 * Bundled with Permission</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">                 *</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">                 * How to telnet in windows:</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">                 * http://technet.microsoft.com/en-us/library/aa995718%28EXCHG.65%29.aspx</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">                 * PROTOCOL Docs http://curl.haxx.se/rfc/ntlm.html#ntlmSmtpAuthentication</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">                 */</span>
<a name="l462"><span class="linenum"> 462</span></a>                  require_once 'extras/ntlm_sasl_client.php';
<a name="l463"><span class="linenum"> 463</span></a>                  <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a> = new stdClass;
<a name="l464"><span class="linenum"> 464</span></a>                  <a class="var it18508" onMouseOver="hilite(18508)" onMouseOut="lolite()" onClick="logVariable('ntlm_client')" href="../../_variables/ntlm_client.html">$ntlm_client</a> = new ntlm_sasl_client_class;
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">                //Check that functions are available</span>
<a name="l466"><span class="linenum"> 466</span></a>                  if (!<a class="var it18508" onMouseOver="hilite(18508)" onMouseOut="lolite()" onClick="logVariable('ntlm_client')" href="../../_variables/ntlm_client.html">$ntlm_client</a>-&gt;<a class="function" onClick="logFunction('Initialize')" href="../../_functions/initialize.html" onMouseOver="funcPopup(event,'initialize')">Initialize</a>(<a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>)) {
<a name="l467"><span class="linenum"> 467</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(<a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../_variables/temp.html">$temp</a>-&gt;<a onClick="logVariable('error')" class="var it43878" onMouseOver="hilite(43878)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>);
<a name="l468"><span class="linenum"> 468</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l469"><span class="linenum"> 469</span></a>                          'You need to enable some modules in your php.ini file: '
<a name="l470"><span class="linenum"> 470</span></a>                          . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>['error'],
<a name="l471"><span class="linenum"> 471</span></a>                          self::DEBUG_CLIENT
<a name="l472"><span class="linenum"> 472</span></a>                      );
<a name="l473"><span class="linenum"> 473</span></a>                      return false;
<a name="l474"><span class="linenum"> 474</span></a>                  }
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">                //msg1</span>
<a name="l476"><span class="linenum"> 476</span></a>                  <a class="var it18509" onMouseOver="hilite(18509)" onMouseOut="lolite()" onClick="logVariable('msg1')" href="../../_variables/msg1.html">$msg1</a> = <a class="var it18508" onMouseOver="hilite(18508)" onMouseOut="lolite()" onClick="logVariable('ntlm_client')" href="../../_variables/ntlm_client.html">$ntlm_client</a>-&gt;TypeMsg1(<a class="var it18505" onMouseOver="hilite(18505)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../_variables/realm.html">$realm</a>, <a class="var it18506" onMouseOver="hilite(18506)" onMouseOut="lolite()" onClick="logVariable('workstation')" href="../../_variables/workstation.html">$workstation</a>); <span class="comment">//msg1</span>
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(
<a name="l479"><span class="linenum"> 479</span></a>                      'AUTH NTLM',
<a name="l480"><span class="linenum"> 480</span></a>                      'AUTH NTLM ' . <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it18509" onMouseOver="hilite(18509)" onMouseOut="lolite()" onClick="logVariable('msg1')" href="../../_variables/msg1.html">$msg1</a>),
<a name="l481"><span class="linenum"> 481</span></a>                      334
<a name="l482"><span class="linenum"> 482</span></a>                  )
<a name="l483"><span class="linenum"> 483</span></a>                  ) {
<a name="l484"><span class="linenum"> 484</span></a>                      return false;
<a name="l485"><span class="linenum"> 485</span></a>                  }
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">                //Though 0 based, there is a white space after the 3 digit number</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">                //msg2</span>
<a name="l488"><span class="linenum"> 488</span></a>                  <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, 3);
<a name="l489"><span class="linenum"> 489</span></a>                  <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a> = <a class="phpfunction" onClick="logFunction('base64_decode')" href="../../_functions/base64_decode.html" onMouseOver="phpfuncPopup(event,'base64_decode')">base64_decode</a>(<a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a>);
<a name="l490"><span class="linenum"> 490</span></a>                  <a class="var it18510" onMouseOver="hilite(18510)" onMouseOut="lolite()" onClick="logVariable('ntlm_res')" href="../../_variables/ntlm_res.html">$ntlm_res</a> = <a class="var it18508" onMouseOver="hilite(18508)" onMouseOut="lolite()" onClick="logVariable('ntlm_client')" href="../../_variables/ntlm_client.html">$ntlm_client</a>-&gt;NTLMResponse(
<a name="l491"><span class="linenum"> 491</span></a>                      <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a>, 24, 8),
<a name="l492"><span class="linenum"> 492</span></a>                      <a class="var it201" onMouseOver="hilite(201)" onMouseOut="lolite()" onClick="logVariable('password')" href="../../_variables/password.html">$password</a>
<a name="l493"><span class="linenum"> 493</span></a>                  );
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">                //msg3</span>
<a name="l495"><span class="linenum"> 495</span></a>                  <a class="var it18511" onMouseOver="hilite(18511)" onMouseOut="lolite()" onClick="logVariable('msg3')" href="../../_variables/msg3.html">$msg3</a> = <a class="var it18508" onMouseOver="hilite(18508)" onMouseOut="lolite()" onClick="logVariable('ntlm_client')" href="../../_variables/ntlm_client.html">$ntlm_client</a>-&gt;TypeMsg3(
<a name="l496"><span class="linenum"> 496</span></a>                      <a class="var it18510" onMouseOver="hilite(18510)" onMouseOut="lolite()" onClick="logVariable('ntlm_res')" href="../../_variables/ntlm_res.html">$ntlm_res</a>,
<a name="l497"><span class="linenum"> 497</span></a>                      <a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../../_variables/username.html">$username</a>,
<a name="l498"><span class="linenum"> 498</span></a>                      <a class="var it18505" onMouseOver="hilite(18505)" onMouseOut="lolite()" onClick="logVariable('realm')" href="../../_variables/realm.html">$realm</a>,
<a name="l499"><span class="linenum"> 499</span></a>                      <a class="var it18506" onMouseOver="hilite(18506)" onMouseOut="lolite()" onClick="logVariable('workstation')" href="../../_variables/workstation.html">$workstation</a>
<a name="l500"><span class="linenum"> 500</span></a>                  );
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">                // send encoded username</span>
<a name="l502"><span class="linenum"> 502</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('Username', <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it18511" onMouseOver="hilite(18511)" onMouseOut="lolite()" onClick="logVariable('msg3')" href="../../_variables/msg3.html">$msg3</a>), 235);
<a name="l503"><span class="linenum"> 503</span></a>              case 'CRAM-MD5':
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">                // Start authentication</span>
<a name="l505"><span class="linenum"> 505</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('AUTH CRAM-MD5', 'AUTH CRAM-MD5', 334)) {
<a name="l506"><span class="linenum"> 506</span></a>                      return false;
<a name="l507"><span class="linenum"> 507</span></a>                  }
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">                // Get the challenge</span>
<a name="l509"><span class="linenum"> 509</span></a>                  <a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a> = <a class="phpfunction" onClick="logFunction('base64_decode')" href="../../_functions/base64_decode.html" onMouseOver="phpfuncPopup(event,'base64_decode')">base64_decode</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, 4));
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">                // Build the response</span>
<a name="l512"><span class="linenum"> 512</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a> = <a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../../_variables/username.html">$username</a> . ' ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('hmac')" href="../../_functions/hmac.html" onMouseOver="funcPopup(event,'hmac')">hmac</a>(<a class="var it205" onMouseOver="hilite(205)" onMouseOut="lolite()" onClick="logVariable('challenge')" href="../../_variables/challenge.html">$challenge</a>, <a class="var it201" onMouseOver="hilite(201)" onMouseOut="lolite()" onClick="logVariable('password')" href="../../_variables/password.html">$password</a>);
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">                // send encoded credentials</span>
<a name="l515"><span class="linenum"> 515</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('Username', <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../_variables/response.html">$response</a>), 235);
<a name="l516"><span class="linenum"> 516</span></a>              default:
<a name="l517"><span class="linenum"> 517</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(&quot;Authentication method \&quot;<a class="var it198" onMouseOver="hilite(198)" onMouseOut="lolite()" onClick="logVariable('authtype')" href="../../_variables/authtype.html">$authtype</a>\&quot; is not supported&quot;);
<a name="l518"><span class="linenum"> 518</span></a>                  return false;
<a name="l519"><span class="linenum"> 519</span></a>          }
<a name="l520"><span class="linenum"> 520</span></a>          return true;
<a name="l521"><span class="linenum"> 521</span></a>      }
<a name="l522"><span class="linenum"> 522</span></a>  
<a name="l523"><span class="linenum"> 523</span></a>      <span class="comment">/**</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment">     * Calculate an MD5 HMAC hash.</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment">     * Works like hash_hmac('md5', $data, $key)</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">     * in case that function is not available</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">     * @param string $data The data to hash</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">     * @param string $key  The key to hash with</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     * @access protected</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     * @return string</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     */</span>
<a name="l532"><span class="linenum"> 532</span></a>      protected function <a class="function" onClick="logFunction('hmac')" href="../../_functions/hmac.html" onMouseOver="funcPopup(event,'hmac')">hmac</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>)
<a name="l533"><span class="linenum"> 533</span></a>      {
<a name="l534"><span class="linenum"> 534</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('hash_hmac')) {
<a name="l535"><span class="linenum"> 535</span></a>              return hash_hmac('md5', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>);
<a name="l536"><span class="linenum"> 536</span></a>          }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">        // The following borrowed from</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">        // http://php.net/manual/en/function.mhash.php#27225</span>
<a name="l540"><span class="linenum"> 540</span></a>  
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">        // RFC 2104 HMAC implementation for php.</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">        // Creates an md5 HMAC.</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">        // Eliminates the need to install mhash to compute a HMAC</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">        // by Lance Rushing</span>
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>          <a class="var it18512" onMouseOver="hilite(18512)" onMouseOut="lolite()" onClick="logVariable('bytelen')" href="../../_variables/bytelen.html">$bytelen</a> = 64; <span class="comment">// byte length for md5</span>
<a name="l547"><span class="linenum"> 547</span></a>          if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>) &gt; <a class="var it18512" onMouseOver="hilite(18512)" onMouseOut="lolite()" onClick="logVariable('bytelen')" href="../../_variables/bytelen.html">$bytelen</a>) {
<a name="l548"><span class="linenum"> 548</span></a>              <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('pack')" href="../../_functions/pack.html" onMouseOver="phpfuncPopup(event,'pack')">pack</a>('H*', md5(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>));
<a name="l549"><span class="linenum"> 549</span></a>          }
<a name="l550"><span class="linenum"> 550</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it18512" onMouseOver="hilite(18512)" onMouseOut="lolite()" onClick="logVariable('bytelen')" href="../../_variables/bytelen.html">$bytelen</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x00));
<a name="l551"><span class="linenum"> 551</span></a>          <a class="var it18513" onMouseOver="hilite(18513)" onMouseOut="lolite()" onClick="logVariable('ipad')" href="../../_variables/ipad.html">$ipad</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>('', <a class="var it18512" onMouseOver="hilite(18512)" onMouseOut="lolite()" onClick="logVariable('bytelen')" href="../../_variables/bytelen.html">$bytelen</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x36));
<a name="l552"><span class="linenum"> 552</span></a>          <a class="var it18514" onMouseOver="hilite(18514)" onMouseOut="lolite()" onClick="logVariable('opad')" href="../../_variables/opad.html">$opad</a> = <a class="phpfunction" onClick="logFunction('str_pad')" href="../../_functions/str_pad.html" onMouseOver="phpfuncPopup(event,'str_pad')">str_pad</a>('', <a class="var it18512" onMouseOver="hilite(18512)" onMouseOut="lolite()" onClick="logVariable('bytelen')" href="../../_variables/bytelen.html">$bytelen</a>, <a class="phpfunction" onClick="logFunction('chr')" href="../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(0x5c));
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it18515" onMouseOver="hilite(18515)" onMouseOut="lolite()" onClick="logVariable('k_ipad')" href="../../_variables/k_ipad.html">$k_ipad</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> ^ <a class="var it18513" onMouseOver="hilite(18513)" onMouseOut="lolite()" onClick="logVariable('ipad')" href="../../_variables/ipad.html">$ipad</a>;
<a name="l554"><span class="linenum"> 554</span></a>          <a class="var it18516" onMouseOver="hilite(18516)" onMouseOut="lolite()" onClick="logVariable('k_opad')" href="../../_variables/k_opad.html">$k_opad</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> ^ <a class="var it18514" onMouseOver="hilite(18514)" onMouseOut="lolite()" onClick="logVariable('opad')" href="../../_variables/opad.html">$opad</a>;
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>          return md5(<a class="var it18516" onMouseOver="hilite(18516)" onMouseOut="lolite()" onClick="logVariable('k_opad')" href="../../_variables/k_opad.html">$k_opad</a> . <a class="phpfunction" onClick="logFunction('pack')" href="../../_functions/pack.html" onMouseOver="phpfuncPopup(event,'pack')">pack</a>('H*', md5(<a class="var it18515" onMouseOver="hilite(18515)" onMouseOut="lolite()" onClick="logVariable('k_ipad')" href="../../_variables/k_ipad.html">$k_ipad</a> . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>)));
<a name="l557"><span class="linenum"> 557</span></a>      }
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>      <span class="comment">/**</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">     * Check connection state.</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">     * @access public</span>
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment">     * @return boolean True if connected.</span>
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment">     */</span>
<a name="l564"><span class="linenum"> 564</span></a>      public function <a class="function" onClick="logFunction('connected')" href="../../_functions/connected.html" onMouseOver="funcPopup(event,'connected')">connected</a>()
<a name="l565"><span class="linenum"> 565</span></a>      {
<a name="l566"><span class="linenum"> 566</span></a>          if (<a class="phpfunction" onClick="logFunction('is_resource')" href="../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>)) {
<a name="l567"><span class="linenum"> 567</span></a>              <a class="var it18517" onMouseOver="hilite(18517)" onMouseOut="lolite()" onClick="logVariable('sock_status')" href="../../_variables/sock_status.html">$sock_status</a> = <a class="phpfunction" onClick="logFunction('stream_get_meta_data')" href="../../_functions/stream_get_meta_data.html" onMouseOver="phpfuncPopup(event,'stream_get_meta_data')">stream_get_meta_data</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>);
<a name="l568"><span class="linenum"> 568</span></a>              if (<a class="var it18517" onMouseOver="hilite(18517)" onMouseOut="lolite()" onClick="logVariable('sock_status')" href="../../_variables/sock_status.html">$sock_status</a>['eof']) {
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">                // The socket is valid but we are not connected</span>
<a name="l570"><span class="linenum"> 570</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l571"><span class="linenum"> 571</span></a>                      'SMTP NOTICE: EOF caught while checking if connected',
<a name="l572"><span class="linenum"> 572</span></a>                      self::DEBUG_CLIENT
<a name="l573"><span class="linenum"> 573</span></a>                  );
<a name="l574"><span class="linenum"> 574</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l575"><span class="linenum"> 575</span></a>                  return false;
<a name="l576"><span class="linenum"> 576</span></a>              }
<a name="l577"><span class="linenum"> 577</span></a>              return true; <span class="comment">// everything looks good</span>
<a name="l578"><span class="linenum"> 578</span></a>          }
<a name="l579"><span class="linenum"> 579</span></a>          return false;
<a name="l580"><span class="linenum"> 580</span></a>      }
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>      <span class="comment">/**</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     * Close the socket and clean up the state of the class.</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * Don't use this function without first trying to use QUIT.</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @see quit()</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     * @access public</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     * @return void</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     */</span>
<a name="l589"><span class="linenum"> 589</span></a>      public function <a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>()
<a name="l590"><span class="linenum"> 590</span></a>      {
<a name="l591"><span class="linenum"> 591</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('');
<a name="l592"><span class="linenum"> 592</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a> = null;
<a name="l593"><span class="linenum"> 593</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('helo_rply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/helo_rply.html">helo_rply</a> = null;
<a name="l594"><span class="linenum"> 594</span></a>          if (<a class="phpfunction" onClick="logFunction('is_resource')" href="../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>)) {
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">            // close the connection and cleanup</span>
<a name="l596"><span class="linenum"> 596</span></a>              <a class="phpfunction" onClick="logFunction('fclose')" href="../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>);
<a name="l597"><span class="linenum"> 597</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a> = null; <span class="comment">//Makes for cleaner serialization</span>
<a name="l598"><span class="linenum"> 598</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('Connection: closed', self::DEBUG_CONNECTION);
<a name="l599"><span class="linenum"> 599</span></a>          }
<a name="l600"><span class="linenum"> 600</span></a>      }
<a name="l601"><span class="linenum"> 601</span></a>  
<a name="l602"><span class="linenum"> 602</span></a>      <span class="comment">/**</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     * Send an SMTP DATA command.</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     * Issues a data command and sends the msg_data to the server,</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">     * finializing the mail transaction. $msg_data is the message</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">     * that is to be send with the headers. Each header needs to be</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment">     * on a single line followed by a &lt;CRLF&gt; with the message headers</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">     * and the message body being separated by and additional &lt;CRLF&gt;.</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">     * Implements rfc 821: DATA &lt;CRLF&gt;</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * @param string $msg_data Message data to send</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     * @access public</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     * @return boolean</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     */</span>
<a name="l614"><span class="linenum"> 614</span></a>      public function <a class="function" onClick="logFunction('data')" href="../../_functions/data.html" onMouseOver="funcPopup(event,'data')">data</a>(<a class="var it18518" onMouseOver="hilite(18518)" onMouseOut="lolite()" onClick="logVariable('msg_data')" href="../../_variables/msg_data.html">$msg_data</a>)
<a name="l615"><span class="linenum"> 615</span></a>      {
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">        //This will use the standard timelimit</span>
<a name="l617"><span class="linenum"> 617</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('DATA', 'DATA', 354)) {
<a name="l618"><span class="linenum"> 618</span></a>              return false;
<a name="l619"><span class="linenum"> 619</span></a>          }
<a name="l620"><span class="linenum"> 620</span></a>  
<a name="l621"><span class="linenum"> 621</span></a>          <span class="comment">/* The server is ready to accept data!</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">         * According to rfc821 we should not send more than 1000 characters on a single line (including the CRLF)</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">         * so we will break the data up into lines by \r and/or \n then if needed we will break each of those into</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">         * smaller lines to fit within the limit.</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">         * We will also look for lines that start with a '.' and prepend an additional '.'.</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">         * NOTE: this does not count towards line-length limit.</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">         */</span>
<a name="l628"><span class="linenum"> 628</span></a>  
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">        // Normalize line breaks before exploding</span>
<a name="l630"><span class="linenum"> 630</span></a>          <a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(&quot;\n&quot;, <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(array(&quot;\r\n&quot;, &quot;\r&quot;), &quot;\n&quot;, <a class="var it18518" onMouseOver="hilite(18518)" onMouseOut="lolite()" onClick="logVariable('msg_data')" href="../../_variables/msg_data.html">$msg_data</a>));
<a name="l631"><span class="linenum"> 631</span></a>  
<a name="l632"><span class="linenum"> 632</span></a>          <span class="comment">/* To distinguish between a complete RFC822 message and a plain message body, we check if the first field</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">         * of the first line (':' separated) does not contain a space then it _should_ be a header and we will</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">         * process all lines before a blank line as headers.</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">         */</span>
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>          <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a>[0], 0, <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a>[0], ':'));
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it18519" onMouseOver="hilite(18519)" onMouseOut="lolite()" onClick="logVariable('in_headers')" href="../../_variables/in_headers.html">$in_headers</a> = false;
<a name="l639"><span class="linenum"> 639</span></a>          if (!empty(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, ' ') === false) {
<a name="l640"><span class="linenum"> 640</span></a>              <a class="var it18519" onMouseOver="hilite(18519)" onMouseOut="lolite()" onClick="logVariable('in_headers')" href="../../_variables/in_headers.html">$in_headers</a> = true;
<a name="l641"><span class="linenum"> 641</span></a>          }
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>          foreach (<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> as <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>) {
<a name="l644"><span class="linenum"> 644</span></a>              <a class="var it18520" onMouseOver="hilite(18520)" onMouseOut="lolite()" onClick="logVariable('lines_out')" href="../../_variables/lines_out.html">$lines_out</a> = array();
<a name="l645"><span class="linenum"> 645</span></a>              if (<a class="var it18519" onMouseOver="hilite(18519)" onMouseOut="lolite()" onClick="logVariable('in_headers')" href="../../_variables/in_headers.html">$in_headers</a> and <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> == '') {
<a name="l646"><span class="linenum"> 646</span></a>                  <a class="var it18519" onMouseOver="hilite(18519)" onMouseOut="lolite()" onClick="logVariable('in_headers')" href="../../_variables/in_headers.html">$in_headers</a> = false;
<a name="l647"><span class="linenum"> 647</span></a>              }
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">            //Break this line up into several smaller lines if it's too long</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">            //Micro-optimisation: isset($str[$len]) is faster than (strlen($str) &gt; $len),</span>
<a name="l650"><span class="linenum"> 650</span></a>              while (isset(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>[self::MAX_LINE_LENGTH])) {
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">                //Working backwards, try to find a space within the last MAX_LINE_LENGTH chars of the line to break on</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">                //so as to avoid breaking in the middle of a word</span>
<a name="l653"><span class="linenum"> 653</span></a>                  <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, 0, self::MAX_LINE_LENGTH), ' ');
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">                //Deliberately matches both false and 0</span>
<a name="l655"><span class="linenum"> 655</span></a>                  if (!<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>) {
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">                    //No nice break found, add a hard break</span>
<a name="l657"><span class="linenum"> 657</span></a>                      <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> = self::MAX_LINE_LENGTH - 1;
<a name="l658"><span class="linenum"> 658</span></a>                      <a class="var it18520" onMouseOver="hilite(18520)" onMouseOut="lolite()" onClick="logVariable('lines_out')" href="../../_variables/lines_out.html">$lines_out</a>[] = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, 0, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>);
<a name="l659"><span class="linenum"> 659</span></a>                      <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>);
<a name="l660"><span class="linenum"> 660</span></a>                  } else {
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">                    //Break at the found point</span>
<a name="l662"><span class="linenum"> 662</span></a>                      <a class="var it18520" onMouseOver="hilite(18520)" onMouseOut="lolite()" onClick="logVariable('lines_out')" href="../../_variables/lines_out.html">$lines_out</a>[] = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, 0, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a>);
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">                    //Move along by the amount we dealt with</span>
<a name="l664"><span class="linenum"> 664</span></a>                      <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>, <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('pos')" href="../../_variables/pos.html">$pos</a> + 1);
<a name="l665"><span class="linenum"> 665</span></a>                  }
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">                //If processing headers add a LWSP-char to the front of new line RFC822 section 3.1.1</span>
<a name="l667"><span class="linenum"> 667</span></a>                  if (<a class="var it18519" onMouseOver="hilite(18519)" onMouseOut="lolite()" onClick="logVariable('in_headers')" href="../../_variables/in_headers.html">$in_headers</a>) {
<a name="l668"><span class="linenum"> 668</span></a>                      <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a> = &quot;\t&quot; . <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l669"><span class="linenum"> 669</span></a>                  }
<a name="l670"><span class="linenum"> 670</span></a>              }
<a name="l671"><span class="linenum"> 671</span></a>              <a class="var it18520" onMouseOver="hilite(18520)" onMouseOut="lolite()" onClick="logVariable('lines_out')" href="../../_variables/lines_out.html">$lines_out</a>[] = <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('line')" href="../../_variables/line.html">$line</a>;
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">            //Send the lines to the server</span>
<a name="l674"><span class="linenum"> 674</span></a>              foreach (<a class="var it18520" onMouseOver="hilite(18520)" onMouseOut="lolite()" onClick="logVariable('lines_out')" href="../../_variables/lines_out.html">$lines_out</a> as <a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a>) {
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">                //RFC2821 section 4.5.2</span>
<a name="l676"><span class="linenum"> 676</span></a>                  if (!empty(<a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a>) and <a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a>[0] == '.') {
<a name="l677"><span class="linenum"> 677</span></a>                      <a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a> = '.' . <a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a>;
<a name="l678"><span class="linenum"> 678</span></a>                  }
<a name="l679"><span class="linenum"> 679</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('client_send')" href="../../_functions/client_send.html" onMouseOver="funcPopup(event,'client_send')">client_send</a>(<a class="var it18521" onMouseOver="hilite(18521)" onMouseOut="lolite()" onClick="logVariable('line_out')" href="../../_variables/line_out.html">$line_out</a> . self::<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>);
<a name="l680"><span class="linenum"> 680</span></a>              }
<a name="l681"><span class="linenum"> 681</span></a>          }
<a name="l682"><span class="linenum"> 682</span></a>  
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">        //Message data has been sent, complete the command</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">        //Increase timelimit for end of DATA command</span>
<a name="l685"><span class="linenum"> 685</span></a>          <a class="var it18522" onMouseOver="hilite(18522)" onMouseOut="lolite()" onClick="logVariable('savetimelimit')" href="../../_variables/savetimelimit.html">$savetimelimit</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a>;
<a name="l686"><span class="linenum"> 686</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a> * 2;
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('DATA END', '.', 250);
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">        //Restore timelimit</span>
<a name="l689"><span class="linenum"> 689</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a> = <a class="var it18522" onMouseOver="hilite(18522)" onMouseOut="lolite()" onClick="logVariable('savetimelimit')" href="../../_variables/savetimelimit.html">$savetimelimit</a>;
<a name="l690"><span class="linenum"> 690</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l691"><span class="linenum"> 691</span></a>      }
<a name="l692"><span class="linenum"> 692</span></a>  
<a name="l693"><span class="linenum"> 693</span></a>      <span class="comment">/**</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     * Send an SMTP HELO or EHLO command.</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     * Used to identify the sending server to the receiving server.</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     * This makes sure that client and server are in a known state.</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">     * Implements RFC 821: HELO &lt;SP&gt; &lt;domain&gt; &lt;CRLF&gt;</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     * and RFC 2821 EHLO.</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment">     * @param string $host The host name or IP to connect to</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">     * @access public</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">     * @return boolean</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">     */</span>
<a name="l703"><span class="linenum"> 703</span></a>      public function <a class="function" onClick="logFunction('hello')" href="../../_functions/hello.html" onMouseOver="funcPopup(event,'hello')">hello</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a> = '')
<a name="l704"><span class="linenum"> 704</span></a>      {
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">        //Try extended hello first (RFC 2821)</span>
<a name="l706"><span class="linenum"> 706</span></a>          return (boolean)(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendHello')" href="../../_functions/sendhello.html" onMouseOver="funcPopup(event,'sendhello')">sendHello</a>('EHLO', <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>) or <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendHello')" href="../../_functions/sendhello.html" onMouseOver="funcPopup(event,'sendhello')">sendHello</a>('HELO', <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>));
<a name="l707"><span class="linenum"> 707</span></a>      }
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>      <span class="comment">/**</span>
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">     * Send an SMTP HELO or EHLO command.</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">     * Low-level implementation used by hello()</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     * @see hello()</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * @param string $hello The HELO string</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * @param string $host The hostname to say we are</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @access protected</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @return boolean</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     */</span>
<a name="l718"><span class="linenum"> 718</span></a>      protected function <a class="function" onClick="logFunction('sendHello')" href="../../_functions/sendhello.html" onMouseOver="funcPopup(event,'sendhello')">sendHello</a>(<a class="var it18523" onMouseOver="hilite(18523)" onMouseOut="lolite()" onClick="logVariable('hello')" href="../../_variables/hello.html">$hello</a>, <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>)
<a name="l719"><span class="linenum"> 719</span></a>      {
<a name="l720"><span class="linenum"> 720</span></a>          <a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(<a class="var it18523" onMouseOver="hilite(18523)" onMouseOut="lolite()" onClick="logVariable('hello')" href="../../_variables/hello.html">$hello</a>, <a class="var it18523" onMouseOver="hilite(18523)" onMouseOut="lolite()" onClick="logVariable('hello')" href="../../_variables/hello.html">$hello</a> . ' ' . <a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../_variables/host.html">$host</a>, 250);
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('helo_rply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/helo_rply.html">helo_rply</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>;
<a name="l722"><span class="linenum"> 722</span></a>          if (<a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a>) {
<a name="l723"><span class="linenum"> 723</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('parseHelloFields')" href="../../_functions/parsehellofields.html" onMouseOver="funcPopup(event,'parsehellofields')">parseHelloFields</a>(<a class="var it18523" onMouseOver="hilite(18523)" onMouseOut="lolite()" onClick="logVariable('hello')" href="../../_variables/hello.html">$hello</a>);
<a name="l724"><span class="linenum"> 724</span></a>          } else {
<a name="l725"><span class="linenum"> 725</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a> = null;
<a name="l726"><span class="linenum"> 726</span></a>          }
<a name="l727"><span class="linenum"> 727</span></a>          return <a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a>;
<a name="l728"><span class="linenum"> 728</span></a>      }
<a name="l729"><span class="linenum"> 729</span></a>  
<a name="l730"><span class="linenum"> 730</span></a>      <span class="comment">/**</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">     * Parse a reply to HELO/EHLO command to discover server extensions.</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">     * In case of HELO, the only parameter that can be discovered is a server name.</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">     * @access protected</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">     * @param string $type - 'HELO' or 'EHLO'</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     */</span>
<a name="l736"><span class="linenum"> 736</span></a>      protected function <a class="function" onClick="logFunction('parseHelloFields')" href="../../_functions/parsehellofields.html" onMouseOver="funcPopup(event,'parsehellofields')">parseHelloFields</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>)
<a name="l737"><span class="linenum"> 737</span></a>      {
<a name="l738"><span class="linenum"> 738</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a> = array();
<a name="l739"><span class="linenum"> 739</span></a>          <a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(&quot;\n&quot;, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>);
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>          foreach (<a class="var it255" onMouseOver="hilite(255)" onMouseOut="lolite()" onClick="logVariable('lines')" href="../../_variables/lines.html">$lines</a> as <a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a> =&gt; <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>) {
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">            //First 4 chars contain response code followed by - or space</span>
<a name="l743"><span class="linenum"> 743</span></a>              <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>, 4));
<a name="l744"><span class="linenum"> 744</span></a>              if (empty(<a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>)) {
<a name="l745"><span class="linenum"> 745</span></a>                  continue;
<a name="l746"><span class="linenum"> 746</span></a>              }
<a name="l747"><span class="linenum"> 747</span></a>              <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l748"><span class="linenum"> 748</span></a>              if (!empty(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>)) {
<a name="l749"><span class="linenum"> 749</span></a>                  if (!<a class="var it2074" onMouseOver="hilite(2074)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../_variables/n.html">$n</a>) {
<a name="l750"><span class="linenum"> 750</span></a>                      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l751"><span class="linenum"> 751</span></a>                      <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>[0];
<a name="l752"><span class="linenum"> 752</span></a>                  } else {
<a name="l753"><span class="linenum"> 753</span></a>                      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>);
<a name="l754"><span class="linenum"> 754</span></a>                      switch (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l755"><span class="linenum"> 755</span></a>                          case 'SIZE':
<a name="l756"><span class="linenum"> 756</span></a>                              <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = (<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> ? <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>[0] : 0);
<a name="l757"><span class="linenum"> 757</span></a>                              break;
<a name="l758"><span class="linenum"> 758</span></a>                          case 'AUTH':
<a name="l759"><span class="linenum"> 759</span></a>                              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>)) {
<a name="l760"><span class="linenum"> 760</span></a>                                  <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = array();
<a name="l761"><span class="linenum"> 761</span></a>                              }
<a name="l762"><span class="linenum"> 762</span></a>                              break;
<a name="l763"><span class="linenum"> 763</span></a>                          default:
<a name="l764"><span class="linenum"> 764</span></a>                              <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = true;
<a name="l765"><span class="linenum"> 765</span></a>                      }
<a name="l766"><span class="linenum"> 766</span></a>                  }
<a name="l767"><span class="linenum"> 767</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>] = <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>;
<a name="l768"><span class="linenum"> 768</span></a>              }
<a name="l769"><span class="linenum"> 769</span></a>          }
<a name="l770"><span class="linenum"> 770</span></a>      }
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>      <span class="comment">/**</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     * Send an SMTP MAIL command.</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">     * Starts a mail transaction from the email address specified in</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * $from. Returns true if successful or false otherwise. If True</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * the mail transaction is started and then one or more recipient</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     * commands may be called followed by a data command.</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * Implements rfc 821: MAIL &lt;SP&gt; FROM:&lt;reverse-path&gt; &lt;CRLF&gt;</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * @param string $from Source address of this message</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * @access public</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @return boolean</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     */</span>
<a name="l783"><span class="linenum"> 783</span></a>      public function <a class="function" onClick="logFunction('mail')" href="../../_functions/mail.html" onMouseOver="funcPopup(event,'mail')">mail</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>)
<a name="l784"><span class="linenum"> 784</span></a>      {
<a name="l785"><span class="linenum"> 785</span></a>          <a class="var it18524" onMouseOver="hilite(18524)" onMouseOut="lolite()" onClick="logVariable('useVerp')" href="../../_variables/useVerp.html">$useVerp</a> = (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_verp')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_verp.html">do_verp</a> ? ' XVERP' : '');
<a name="l786"><span class="linenum"> 786</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(
<a name="l787"><span class="linenum"> 787</span></a>              'MAIL FROM',
<a name="l788"><span class="linenum"> 788</span></a>              'MAIL FROM:&lt;' . <a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a> . '&gt;' . <a class="var it18524" onMouseOver="hilite(18524)" onMouseOut="lolite()" onClick="logVariable('useVerp')" href="../../_variables/useVerp.html">$useVerp</a>,
<a name="l789"><span class="linenum"> 789</span></a>              250
<a name="l790"><span class="linenum"> 790</span></a>          );
<a name="l791"><span class="linenum"> 791</span></a>      }
<a name="l792"><span class="linenum"> 792</span></a>  
<a name="l793"><span class="linenum"> 793</span></a>      <span class="comment">/**</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * Send an SMTP QUIT command.</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     * Closes the socket if there is no error or the $close_on_error argument is true.</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">     * Implements from rfc 821: QUIT &lt;CRLF&gt;</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">     * @param boolean $close_on_error Should the connection close if an error occurs?</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     * @access public</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     * @return boolean</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     */</span>
<a name="l801"><span class="linenum"> 801</span></a>      public function <a class="function" onClick="logFunction('quit')" href="../../_functions/quit.html" onMouseOver="funcPopup(event,'quit')">quit</a>(<a class="var it18525" onMouseOver="hilite(18525)" onMouseOut="lolite()" onClick="logVariable('close_on_error')" href="../../_variables/close_on_error.html">$close_on_error</a> = true)
<a name="l802"><span class="linenum"> 802</span></a>      {
<a name="l803"><span class="linenum"> 803</span></a>          <a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('QUIT', 'QUIT', 221);
<a name="l804"><span class="linenum"> 804</span></a>          <a class="var it210" onMouseOver="hilite(210)" onMouseOut="lolite()" onClick="logVariable('err')" href="../../_variables/err.html">$err</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>; <span class="comment">//Save any error</span>
<a name="l805"><span class="linenum"> 805</span></a>          if (<a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a> or <a class="var it18525" onMouseOver="hilite(18525)" onMouseOut="lolite()" onClick="logVariable('close_on_error')" href="../../_variables/close_on_error.html">$close_on_error</a>) {
<a name="l806"><span class="linenum"> 806</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l807"><span class="linenum"> 807</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a> = <a class="var it210" onMouseOver="hilite(210)" onMouseOut="lolite()" onClick="logVariable('err')" href="../../_variables/err.html">$err</a>; <span class="comment">//Restore any error from the quit command</span>
<a name="l808"><span class="linenum"> 808</span></a>          }
<a name="l809"><span class="linenum"> 809</span></a>          return <a class="var it16015" onMouseOver="hilite(16015)" onMouseOut="lolite()" onClick="logVariable('noerror')" href="../../_variables/noerror.html">$noerror</a>;
<a name="l810"><span class="linenum"> 810</span></a>      }
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>      <span class="comment">/**</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">     * Send an SMTP RCPT command.</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">     * Sets the TO argument to $toaddr.</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">     * Returns true if the recipient was accepted false if it was rejected.</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">     * Implements from rfc 821: RCPT &lt;SP&gt; TO:&lt;forward-path&gt; &lt;CRLF&gt;</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">     * @param string $address The address the message is being sent to</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">     * @access public</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * @return boolean</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     */</span>
<a name="l821"><span class="linenum"> 821</span></a>      public function <a class="function" onClick="logFunction('recipient')" href="../../_functions/recipient.html" onMouseOver="funcPopup(event,'recipient')">recipient</a>(<a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a>)
<a name="l822"><span class="linenum"> 822</span></a>      {
<a name="l823"><span class="linenum"> 823</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(
<a name="l824"><span class="linenum"> 824</span></a>              'RCPT TO',
<a name="l825"><span class="linenum"> 825</span></a>              'RCPT TO:&lt;' . <a class="var it5665" onMouseOver="hilite(5665)" onMouseOut="lolite()" onClick="logVariable('address')" href="../../_variables/address.html">$address</a> . '&gt;',
<a name="l826"><span class="linenum"> 826</span></a>              array(250, 251)
<a name="l827"><span class="linenum"> 827</span></a>          );
<a name="l828"><span class="linenum"> 828</span></a>      }
<a name="l829"><span class="linenum"> 829</span></a>  
<a name="l830"><span class="linenum"> 830</span></a>      <span class="comment">/**</span>
<a name="l831"><span class="linenum"> 831</span></a>  <span class="comment">     * Send an SMTP RSET command.</span>
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">     * Abort any transaction that is currently in progress.</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">     * Implements rfc 821: RSET &lt;CRLF&gt;</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     * @access public</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">     * @return boolean True on success.</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     */</span>
<a name="l837"><span class="linenum"> 837</span></a>      public function <a class="function" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="funcPopup(event,'reset')">reset</a>()
<a name="l838"><span class="linenum"> 838</span></a>      {
<a name="l839"><span class="linenum"> 839</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('RSET', 'RSET', 250);
<a name="l840"><span class="linenum"> 840</span></a>      }
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>      <span class="comment">/**</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">     * Send a command to an SMTP server and check its return code.</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment">     * @param string $command The command name - not sent to the server</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment">     * @param string $commandstring The actual command to send</span>
<a name="l846"><span class="linenum"> 846</span></a>  <span class="comment">     * @param integer|array $expect One or more expected integer success codes</span>
<a name="l847"><span class="linenum"> 847</span></a>  <span class="comment">     * @access protected</span>
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment">     * @return boolean True on success.</span>
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">     */</span>
<a name="l850"><span class="linenum"> 850</span></a>      protected function <a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>(<a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a>, <a class="var it18526" onMouseOver="hilite(18526)" onMouseOut="lolite()" onClick="logVariable('commandstring')" href="../../_variables/commandstring.html">$commandstring</a>, <a class="var it18527" onMouseOver="hilite(18527)" onMouseOut="lolite()" onClick="logVariable('expect')" href="../../_variables/expect.html">$expect</a>)
<a name="l851"><span class="linenum"> 851</span></a>      {
<a name="l852"><span class="linenum"> 852</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('connected')" href="../../_functions/connected.html" onMouseOver="funcPopup(event,'connected')">connected</a>()) {
<a name="l853"><span class="linenum"> 853</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(&quot;Called <a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a> without being connected&quot;);
<a name="l854"><span class="linenum"> 854</span></a>              return false;
<a name="l855"><span class="linenum"> 855</span></a>          }
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">        //Reject line breaks in all commands</span>
<a name="l857"><span class="linenum"> 857</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it18526" onMouseOver="hilite(18526)" onMouseOut="lolite()" onClick="logVariable('commandstring')" href="../../_variables/commandstring.html">$commandstring</a>, &quot;\n&quot;) !== false or <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it18526" onMouseOver="hilite(18526)" onMouseOut="lolite()" onClick="logVariable('commandstring')" href="../../_variables/commandstring.html">$commandstring</a>, &quot;\r&quot;) !== false) {
<a name="l858"><span class="linenum"> 858</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(&quot;Command '<a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a>' contained line breaks&quot;);
<a name="l859"><span class="linenum"> 859</span></a>              return false;
<a name="l860"><span class="linenum"> 860</span></a>          }
<a name="l861"><span class="linenum"> 861</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('client_send')" href="../../_functions/client_send.html" onMouseOver="funcPopup(event,'client_send')">client_send</a>(<a class="var it18526" onMouseOver="hilite(18526)" onMouseOut="lolite()" onClick="logVariable('commandstring')" href="../../_variables/commandstring.html">$commandstring</a> . self::<a class="constant" onClick="logConstant('CRLF')" href="../../_constants/CRLF.html" onMouseOver="constPopup(event,'CRLF')">CRLF</a>);
<a name="l862"><span class="linenum"> 862</span></a>  
<a name="l863"><span class="linenum"> 863</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>();
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">        // Fetch SMTP code and possible error code explanation</span>
<a name="l865"><span class="linenum"> 865</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a> = array();
<a name="l866"><span class="linenum"> 866</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(&quot;/^([0-9]{3})[ -](?:([0-9]\\.[0-9]\\.[0-9]) )?/&quot;, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l867"><span class="linenum"> 867</span></a>              <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../_variables/code.html">$code</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l868"><span class="linenum"> 868</span></a>              <a class="var it18528" onMouseOver="hilite(18528)" onMouseOut="lolite()" onClick="logVariable('code_ex')" href="../../_variables/code_ex.html">$code_ex</a> = (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>) &gt; 2 ? <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2] : null);
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">            // Cut off error code from each response line</span>
<a name="l870"><span class="linenum"> 870</span></a>              <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(
<a name="l871"><span class="linenum"> 871</span></a>                  &quot;/{<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../_variables/code.html">$code</a>}[ -]&quot;.(<a class="var it18528" onMouseOver="hilite(18528)" onMouseOut="lolite()" onClick="logVariable('code_ex')" href="../../_variables/code_ex.html">$code_ex</a> ? <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('.', '\\.', <a class="var it18528" onMouseOver="hilite(18528)" onMouseOut="lolite()" onClick="logVariable('code_ex')" href="../../_variables/code_ex.html">$code_ex</a>).' ' : '').&quot;/m&quot;,
<a name="l872"><span class="linenum"> 872</span></a>                  '',
<a name="l873"><span class="linenum"> 873</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;last_reply
<a name="l874"><span class="linenum"> 874</span></a>              );
<a name="l875"><span class="linenum"> 875</span></a>          } else {
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">            // Fall back to simple parsing if regex fails</span>
<a name="l877"><span class="linenum"> 877</span></a>              <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../_variables/code.html">$code</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, 0, 3);
<a name="l878"><span class="linenum"> 878</span></a>              <a class="var it18528" onMouseOver="hilite(18528)" onMouseOut="lolite()" onClick="logVariable('code_ex')" href="../../_variables/code_ex.html">$code_ex</a> = null;
<a name="l879"><span class="linenum"> 879</span></a>              <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, 4);
<a name="l880"><span class="linenum"> 880</span></a>          }
<a name="l881"><span class="linenum"> 881</span></a>  
<a name="l882"><span class="linenum"> 882</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('SERVER -&gt; CLIENT: ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>, self::DEBUG_SERVER);
<a name="l883"><span class="linenum"> 883</span></a>  
<a name="l884"><span class="linenum"> 884</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../_variables/code.html">$code</a>, (array)<a class="var it18527" onMouseOver="hilite(18527)" onMouseOut="lolite()" onClick="logVariable('expect')" href="../../_variables/expect.html">$expect</a>)) {
<a name="l885"><span class="linenum"> 885</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(
<a name="l886"><span class="linenum"> 886</span></a>                  &quot;<a class="var it2979" onMouseOver="hilite(2979)" onMouseOut="lolite()" onClick="logVariable('command')" href="../../_variables/command.html">$command</a> command failed&quot;,
<a name="l887"><span class="linenum"> 887</span></a>                  <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>,
<a name="l888"><span class="linenum"> 888</span></a>                  <a class="var it1960" onMouseOver="hilite(1960)" onMouseOut="lolite()" onClick="logVariable('code')" href="../../_variables/code.html">$code</a>,
<a name="l889"><span class="linenum"> 889</span></a>                  <a class="var it18528" onMouseOver="hilite(18528)" onMouseOut="lolite()" onClick="logVariable('code_ex')" href="../../_variables/code_ex.html">$code_ex</a>
<a name="l890"><span class="linenum"> 890</span></a>              );
<a name="l891"><span class="linenum"> 891</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l892"><span class="linenum"> 892</span></a>                  'SMTP ERROR: ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>['error'] . ': ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>,
<a name="l893"><span class="linenum"> 893</span></a>                  self::DEBUG_CLIENT
<a name="l894"><span class="linenum"> 894</span></a>              );
<a name="l895"><span class="linenum"> 895</span></a>              return false;
<a name="l896"><span class="linenum"> 896</span></a>          }
<a name="l897"><span class="linenum"> 897</span></a>  
<a name="l898"><span class="linenum"> 898</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('');
<a name="l899"><span class="linenum"> 899</span></a>          return true;
<a name="l900"><span class="linenum"> 900</span></a>      }
<a name="l901"><span class="linenum"> 901</span></a>  
<a name="l902"><span class="linenum"> 902</span></a>      <span class="comment">/**</span>
<a name="l903"><span class="linenum"> 903</span></a>  <span class="comment">     * Send an SMTP SAML command.</span>
<a name="l904"><span class="linenum"> 904</span></a>  <span class="comment">     * Starts a mail transaction from the email address specified in $from.</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     * Returns true if successful or false otherwise. If True</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     * the mail transaction is started and then one or more recipient</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * commands may be called followed by a data command. This command</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * will send the message to the users terminal if they are logged</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     * in and send them an email.</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     * Implements rfc 821: SAML &lt;SP&gt; FROM:&lt;reverse-path&gt; &lt;CRLF&gt;</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     * @param string $from The address the message is from</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">     * @access public</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">     * @return boolean</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment">     */</span>
<a name="l915"><span class="linenum"> 915</span></a>      public function <a class="function" onClick="logFunction('sendAndMail')" href="../../_functions/sendandmail.html" onMouseOver="funcPopup(event,'sendandmail')">sendAndMail</a>(<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>)
<a name="l916"><span class="linenum"> 916</span></a>      {
<a name="l917"><span class="linenum"> 917</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('SAML', &quot;SAML FROM:<a class="var it114" onMouseOver="hilite(114)" onMouseOut="lolite()" onClick="logVariable('from')" href="../../_variables/from.html">$from</a>&quot;, 250);
<a name="l918"><span class="linenum"> 918</span></a>      }
<a name="l919"><span class="linenum"> 919</span></a>  
<a name="l920"><span class="linenum"> 920</span></a>      <span class="comment">/**</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment">     * Send an SMTP VRFY command.</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">     * @param string $name The name to verify</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">     * @access public</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">     * @return boolean</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment">     */</span>
<a name="l926"><span class="linenum"> 926</span></a>      public function <a class="function" onClick="logFunction('verify')" href="../../_functions/verify.html" onMouseOver="funcPopup(event,'verify')">verify</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)
<a name="l927"><span class="linenum"> 927</span></a>      {
<a name="l928"><span class="linenum"> 928</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('VRFY', &quot;VRFY <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>&quot;, array(250, 251));
<a name="l929"><span class="linenum"> 929</span></a>      }
<a name="l930"><span class="linenum"> 930</span></a>  
<a name="l931"><span class="linenum"> 931</span></a>      <span class="comment">/**</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     * Send an SMTP NOOP command.</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     * Used to keep keep-alives alive, doesn't actually do anything</span>
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">     * @access public</span>
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">     * @return boolean</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment">     */</span>
<a name="l937"><span class="linenum"> 937</span></a>      public function <a class="function" onClick="logFunction('noop')" href="../../_functions/noop.html" onMouseOver="funcPopup(event,'noop')">noop</a>()
<a name="l938"><span class="linenum"> 938</span></a>      {
<a name="l939"><span class="linenum"> 939</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sendCommand')" href="../../_functions/sendcommand.html" onMouseOver="funcPopup(event,'sendcommand')">sendCommand</a>('NOOP', 'NOOP', 250);
<a name="l940"><span class="linenum"> 940</span></a>      }
<a name="l941"><span class="linenum"> 941</span></a>  
<a name="l942"><span class="linenum"> 942</span></a>      <span class="comment">/**</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     * Send an SMTP TURN command.</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     * This is an optional command for SMTP that this class does not support.</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">     * This method is here to make the RFC821 Definition complete for this class</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     * and _may_ be implemented in future</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     * Implements from rfc 821: TURN &lt;CRLF&gt;</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     * @access public</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     * @return boolean</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment">     */</span>
<a name="l951"><span class="linenum"> 951</span></a>      public function <a class="function" onClick="logFunction('turn')" href="../../_functions/turn.html" onMouseOver="funcPopup(event,'turn')">turn</a>()
<a name="l952"><span class="linenum"> 952</span></a>      {
<a name="l953"><span class="linenum"> 953</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('The SMTP TURN command is not implemented');
<a name="l954"><span class="linenum"> 954</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>('SMTP NOTICE: ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>['error'], self::DEBUG_CLIENT);
<a name="l955"><span class="linenum"> 955</span></a>          return false;
<a name="l956"><span class="linenum"> 956</span></a>      }
<a name="l957"><span class="linenum"> 957</span></a>  
<a name="l958"><span class="linenum"> 958</span></a>      <span class="comment">/**</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     * Send raw data to the server.</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * @param string $data The data to send</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * @access public</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     * @return integer|boolean The number of bytes sent to the server or false on error</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">     */</span>
<a name="l964"><span class="linenum"> 964</span></a>      public function <a class="function" onClick="logFunction('client_send')" href="../../_functions/client_send.html" onMouseOver="funcPopup(event,'client_send')">client_send</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>)
<a name="l965"><span class="linenum"> 965</span></a>      {
<a name="l966"><span class="linenum"> 966</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(&quot;CLIENT -&gt; SERVER: <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>&quot;, self::DEBUG_CLIENT);
<a name="l967"><span class="linenum"> 967</span></a>          return <a class="phpfunction" onClick="logFunction('fwrite')" href="../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l968"><span class="linenum"> 968</span></a>      }
<a name="l969"><span class="linenum"> 969</span></a>  
<a name="l970"><span class="linenum"> 970</span></a>      <span class="comment">/**</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">     * Get the latest error.</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * @access public</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     * @return array</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     */</span>
<a name="l975"><span class="linenum"> 975</span></a>      public function <a class="function" onClick="logFunction('getError')" href="../../_functions/geterror.html" onMouseOver="funcPopup(event,'geterror')">getError</a>()
<a name="l976"><span class="linenum"> 976</span></a>      {
<a name="l977"><span class="linenum"> 977</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>;
<a name="l978"><span class="linenum"> 978</span></a>      }
<a name="l979"><span class="linenum"> 979</span></a>  
<a name="l980"><span class="linenum"> 980</span></a>      <span class="comment">/**</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment">     * Get SMTP extensions available on the server</span>
<a name="l982"><span class="linenum"> 982</span></a>  <span class="comment">     * @access public</span>
<a name="l983"><span class="linenum"> 983</span></a>  <span class="comment">     * @return array|null</span>
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment">     */</span>
<a name="l985"><span class="linenum"> 985</span></a>      public function <a class="function" onClick="logFunction('getServerExtList')" href="../../_functions/getserverextlist.html" onMouseOver="funcPopup(event,'getserverextlist')">getServerExtList</a>()
<a name="l986"><span class="linenum"> 986</span></a>      {
<a name="l987"><span class="linenum"> 987</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>;
<a name="l988"><span class="linenum"> 988</span></a>      }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>      <span class="comment">/**</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">     * A multipurpose method</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * The method works in three ways, dependent on argument value and current state</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     *   1. HELO/EHLO was not sent - returns null and set up $this-&gt;error</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     *   2. HELO was sent</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     *     $name = 'HELO': returns server name</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     *     $name = 'EHLO': returns boolean false</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     *     $name = any string: returns null and set up $this-&gt;error</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     *   3. EHLO was sent</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     *     $name = 'HELO'|'EHLO': returns server name</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">     *     $name = any string: if extension $name exists, returns boolean True</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">     *       or its options. Otherwise returns boolean False</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment">     * In other words, one can use this method to detect 3 conditions:</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment">     *  - null returned: handshake was not or we don't know about ext (refer to $this-&gt;error)</span>
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment">     *  - false returned: the requested feature exactly not exists</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">     *  - positive value returned: the requested feature exists</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">     * @param string $name Name of SMTP extension or 'HELO'|'EHLO'</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     * @return mixed</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     */</span>
<a name="l1009"><span class="linenum">1009</span></a>      public function <a class="function" onClick="logFunction('getServerExt')" href="../../_functions/getserverext.html" onMouseOver="funcPopup(event,'getserverext')">getServerExt</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)
<a name="l1010"><span class="linenum">1010</span></a>      {
<a name="l1011"><span class="linenum">1011</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>) {
<a name="l1012"><span class="linenum">1012</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('No HELO/EHLO was sent');
<a name="l1013"><span class="linenum">1013</span></a>              return null;
<a name="l1014"><span class="linenum">1014</span></a>          }
<a name="l1015"><span class="linenum">1015</span></a>  
<a name="l1016"><span class="linenum">1016</span></a>  <span class="comment">        // the tight logic knot ;)</span>
<a name="l1017"><span class="linenum">1017</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>)) {
<a name="l1018"><span class="linenum">1018</span></a>              if (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> == 'HELO') {
<a name="l1019"><span class="linenum">1019</span></a>                  return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>['EHLO'];
<a name="l1020"><span class="linenum">1020</span></a>              }
<a name="l1021"><span class="linenum">1021</span></a>              if (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> == 'EHLO' || <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>('EHLO', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>)) {
<a name="l1022"><span class="linenum">1022</span></a>                  return false;
<a name="l1023"><span class="linenum">1023</span></a>              }
<a name="l1024"><span class="linenum">1024</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>('HELO handshake was used. Client knows nothing about server extensions');
<a name="l1025"><span class="linenum">1025</span></a>              return null;
<a name="l1026"><span class="linenum">1026</span></a>          }
<a name="l1027"><span class="linenum">1027</span></a>  
<a name="l1028"><span class="linenum">1028</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('server_caps')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/server_caps.html">server_caps</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>];
<a name="l1029"><span class="linenum">1029</span></a>      }
<a name="l1030"><span class="linenum">1030</span></a>  
<a name="l1031"><span class="linenum">1031</span></a>      <span class="comment">/**</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">     * Get the last reply from the server.</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * @access public</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     * @return string</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     */</span>
<a name="l1036"><span class="linenum">1036</span></a>      public function <a class="function" onClick="logFunction('getLastReply')" href="../../_functions/getlastreply.html" onMouseOver="funcPopup(event,'getlastreply')">getLastReply</a>()
<a name="l1037"><span class="linenum">1037</span></a>      {
<a name="l1038"><span class="linenum">1038</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_reply')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_reply.html">last_reply</a>;
<a name="l1039"><span class="linenum">1039</span></a>      }
<a name="l1040"><span class="linenum">1040</span></a>  
<a name="l1041"><span class="linenum">1041</span></a>      <span class="comment">/**</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">     * Read the SMTP server's response.</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">     * Either before eof or socket timeout occurs on the operation.</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">     * With SMTP we can tell if we have more lines to read if the</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment">     * 4th character is '-' symbol. If it is a space then we don't</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment">     * need to read anything else.</span>
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">     * @access protected</span>
<a name="l1048"><span class="linenum">1048</span></a>  <span class="comment">     * @return string</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">     */</span>
<a name="l1050"><span class="linenum">1050</span></a>      protected function <a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>()
<a name="l1051"><span class="linenum">1051</span></a>      {
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">        // If the connection is bad, give up straight away</span>
<a name="l1053"><span class="linenum">1053</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_resource')" href="../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>)) {
<a name="l1054"><span class="linenum">1054</span></a>              return '';
<a name="l1055"><span class="linenum">1055</span></a>          }
<a name="l1056"><span class="linenum">1056</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = '';
<a name="l1057"><span class="linenum">1057</span></a>          <a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../_variables/endtime.html">$endtime</a> = 0;
<a name="l1058"><span class="linenum">1058</span></a>          <a class="phpfunction" onClick="logFunction('stream_set_timeout')" href="../../_functions/stream_set_timeout.html" onMouseOver="phpfuncPopup(event,'stream_set_timeout')">stream_set_timeout</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timeout')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timeout.html">Timeout</a>);
<a name="l1059"><span class="linenum">1059</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a> &gt; 0) {
<a name="l1060"><span class="linenum">1060</span></a>              <a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../_variables/endtime.html">$endtime</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() + <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a>;
<a name="l1061"><span class="linenum">1061</span></a>          }
<a name="l1062"><span class="linenum">1062</span></a>          while (<a class="phpfunction" onClick="logFunction('is_resource')" href="../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('feof')" href="../../_functions/feof.html" onMouseOver="phpfuncPopup(event,'feof')">feof</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>)) {
<a name="l1063"><span class="linenum">1063</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = @<a class="phpfunction" onClick="logFunction('fgets')" href="../../_functions/fgets.html" onMouseOver="phpfuncPopup(event,'fgets')">fgets</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>, 515);
<a name="l1064"><span class="linenum">1064</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(&quot;SMTP -&gt; <a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>(): \<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> is \&quot;<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>\&quot;&quot;, self::DEBUG_LOWLEVEL);
<a name="l1065"><span class="linenum">1065</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(&quot;SMTP -&gt; <a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>(): \<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> is  \&quot;<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>\&quot;&quot;, self::DEBUG_LOWLEVEL);
<a name="l1066"><span class="linenum">1066</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> .= <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment">            // If 4th character is a space, we are done reading, break the loop, micro-optimisation over strlen</span>
<a name="l1068"><span class="linenum">1068</span></a>              if ((isset(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>[3]) and <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>[3] == ' ')) {
<a name="l1069"><span class="linenum">1069</span></a>                  break;
<a name="l1070"><span class="linenum">1070</span></a>              }
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment">            // Timed-out? Log and break</span>
<a name="l1072"><span class="linenum">1072</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <a class="phpfunction" onClick="logFunction('stream_get_meta_data')" href="../../_functions/stream_get_meta_data.html" onMouseOver="phpfuncPopup(event,'stream_get_meta_data')">stream_get_meta_data</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('smtp_conn')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/smtp_conn.html">smtp_conn</a>);
<a name="l1073"><span class="linenum">1073</span></a>              if (<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['timed_out']) {
<a name="l1074"><span class="linenum">1074</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l1075"><span class="linenum">1075</span></a>                      'SMTP -&gt; <a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>(): timed-<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a> (' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timeout')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timeout.html">Timeout</a> . ' sec)',
<a name="l1076"><span class="linenum">1076</span></a>                      self::DEBUG_LOWLEVEL
<a name="l1077"><span class="linenum">1077</span></a>                  );
<a name="l1078"><span class="linenum">1078</span></a>                  break;
<a name="l1079"><span class="linenum">1079</span></a>              }
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">            // Now check if reads took too long</span>
<a name="l1081"><span class="linenum">1081</span></a>              if (<a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../_variables/endtime.html">$endtime</a> and <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() &gt; <a class="var it6252" onMouseOver="hilite(6252)" onMouseOut="lolite()" onClick="logVariable('endtime')" href="../../_variables/endtime.html">$endtime</a>) {
<a name="l1082"><span class="linenum">1082</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edebug')" href="../../_functions/edebug.html" onMouseOver="funcPopup(event,'edebug')">edebug</a>(
<a name="l1083"><span class="linenum">1083</span></a>                      'SMTP -&gt; <a class="function" onClick="logFunction('get_lines')" href="../../_functions/get_lines.html" onMouseOver="funcPopup(event,'get_lines')">get_lines</a>(): timelimit reached ('.
<a name="l1084"><span class="linenum">1084</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timelimit')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timelimit.html">Timelimit</a> . ' sec)',
<a name="l1085"><span class="linenum">1085</span></a>                      self::DEBUG_LOWLEVEL
<a name="l1086"><span class="linenum">1086</span></a>                  );
<a name="l1087"><span class="linenum">1087</span></a>                  break;
<a name="l1088"><span class="linenum">1088</span></a>              }
<a name="l1089"><span class="linenum">1089</span></a>          }
<a name="l1090"><span class="linenum">1090</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>;
<a name="l1091"><span class="linenum">1091</span></a>      }
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>      <span class="comment">/**</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment">     * Enable or disable VERP address generation.</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">     * @param boolean $enabled</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment">     */</span>
<a name="l1097"><span class="linenum">1097</span></a>      public function <a class="function" onClick="logFunction('setVerp')" href="../../_functions/setverp.html" onMouseOver="funcPopup(event,'setverp')">setVerp</a>(<a class="var it2082" onMouseOver="hilite(2082)" onMouseOut="lolite()" onClick="logVariable('enabled')" href="../../_variables/enabled.html">$enabled</a> = false)
<a name="l1098"><span class="linenum">1098</span></a>      {
<a name="l1099"><span class="linenum">1099</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_verp')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_verp.html">do_verp</a> = <a class="var it2082" onMouseOver="hilite(2082)" onMouseOut="lolite()" onClick="logVariable('enabled')" href="../../_variables/enabled.html">$enabled</a>;
<a name="l1100"><span class="linenum">1100</span></a>      }
<a name="l1101"><span class="linenum">1101</span></a>  
<a name="l1102"><span class="linenum">1102</span></a>      <span class="comment">/**</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * Get VERP address generation mode.</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     * @return boolean</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">     */</span>
<a name="l1106"><span class="linenum">1106</span></a>      public function <a class="function" onClick="logFunction('getVerp')" href="../../_functions/getverp.html" onMouseOver="funcPopup(event,'getverp')">getVerp</a>()
<a name="l1107"><span class="linenum">1107</span></a>      {
<a name="l1108"><span class="linenum">1108</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_verp')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_verp.html">do_verp</a>;
<a name="l1109"><span class="linenum">1109</span></a>      }
<a name="l1110"><span class="linenum">1110</span></a>  
<a name="l1111"><span class="linenum">1111</span></a>      <span class="comment">/**</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">     * Set error messages and codes.</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment">     * @param string $message The error message</span>
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">     * @param string $detail Further detail on the error</span>
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment">     * @param string $smtp_code An associated SMTP error code</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment">     * @param string $smtp_code_ex Extended SMTP code</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment">     */</span>
<a name="l1118"><span class="linenum">1118</span></a>      protected function <a class="function" onClick="logFunction('setError')" href="../../_functions/seterror.html" onMouseOver="funcPopup(event,'seterror')">setError</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>, <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = '', <a class="var it18529" onMouseOver="hilite(18529)" onMouseOut="lolite()" onClick="logVariable('smtp_code')" href="../../_variables/smtp_code.html">$smtp_code</a> = '', <a class="var it18530" onMouseOver="hilite(18530)" onMouseOut="lolite()" onClick="logVariable('smtp_code_ex')" href="../../_variables/smtp_code_ex.html">$smtp_code_ex</a> = '')
<a name="l1119"><span class="linenum">1119</span></a>      {
<a name="l1120"><span class="linenum">1120</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/error.html">error</a> = array(
<a name="l1121"><span class="linenum">1121</span></a>              'error' =&gt; <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>,
<a name="l1122"><span class="linenum">1122</span></a>              'detail' =&gt; <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>,
<a name="l1123"><span class="linenum">1123</span></a>              'smtp_code' =&gt; <a class="var it18529" onMouseOver="hilite(18529)" onMouseOut="lolite()" onClick="logVariable('smtp_code')" href="../../_variables/smtp_code.html">$smtp_code</a>,
<a name="l1124"><span class="linenum">1124</span></a>              'smtp_code_ex' =&gt; <a class="var it18530" onMouseOver="hilite(18530)" onMouseOut="lolite()" onClick="logVariable('smtp_code_ex')" href="../../_variables/smtp_code_ex.html">$smtp_code_ex</a>
<a name="l1125"><span class="linenum">1125</span></a>          );
<a name="l1126"><span class="linenum">1126</span></a>      }
<a name="l1127"><span class="linenum">1127</span></a>  
<a name="l1128"><span class="linenum">1128</span></a>      <span class="comment">/**</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     * Set debug output method.</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment">     * @param string|callable $method The name of the mechanism to use for debugging output, or a callable to handle it.</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment">     */</span>
<a name="l1132"><span class="linenum">1132</span></a>      public function <a class="function" onClick="logFunction('setDebugOutput')" href="../../_functions/setdebugoutput.html" onMouseOver="funcPopup(event,'setdebugoutput')">setDebugOutput</a>(<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a> = 'echo')
<a name="l1133"><span class="linenum">1133</span></a>      {
<a name="l1134"><span class="linenum">1134</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a> = <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>;
<a name="l1135"><span class="linenum">1135</span></a>      }
<a name="l1136"><span class="linenum">1136</span></a>  
<a name="l1137"><span class="linenum">1137</span></a>      <span class="comment">/**</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment">     * Get debug output method.</span>
<a name="l1139"><span class="linenum">1139</span></a>  <span class="comment">     * @return string</span>
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment">     */</span>
<a name="l1141"><span class="linenum">1141</span></a>      public function <a class="function" onClick="logFunction('getDebugOutput')" href="../../_functions/getdebugoutput.html" onMouseOver="funcPopup(event,'getdebugoutput')">getDebugOutput</a>()
<a name="l1142"><span class="linenum">1142</span></a>      {
<a name="l1143"><span class="linenum">1143</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Debugoutput')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Debugoutput.html">Debugoutput</a>;
<a name="l1144"><span class="linenum">1144</span></a>      }
<a name="l1145"><span class="linenum">1145</span></a>  
<a name="l1146"><span class="linenum">1146</span></a>      <span class="comment">/**</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * Set debug output level.</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * @param integer $level</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     */</span>
<a name="l1150"><span class="linenum">1150</span></a>      public function <a class="function" onClick="logFunction('setDebugLevel')" href="../../_functions/setdebuglevel.html" onMouseOver="funcPopup(event,'setdebuglevel')">setDebugLevel</a>(<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = 0)
<a name="l1151"><span class="linenum">1151</span></a>      {
<a name="l1152"><span class="linenum">1152</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_debug.html">do_debug</a> = <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>;
<a name="l1153"><span class="linenum">1153</span></a>      }
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>      <span class="comment">/**</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment">     * Get debug output level.</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment">     * @return integer</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">     */</span>
<a name="l1159"><span class="linenum">1159</span></a>      public function <a class="function" onClick="logFunction('getDebugLevel')" href="../../_functions/getdebuglevel.html" onMouseOver="funcPopup(event,'getdebuglevel')">getDebugLevel</a>()
<a name="l1160"><span class="linenum">1160</span></a>      {
<a name="l1161"><span class="linenum">1161</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('do_debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/do_debug.html">do_debug</a>;
<a name="l1162"><span class="linenum">1162</span></a>      }
<a name="l1163"><span class="linenum">1163</span></a>  
<a name="l1164"><span class="linenum">1164</span></a>      <span class="comment">/**</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">     * Set SMTP timeout.</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">     * @param integer $timeout</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     */</span>
<a name="l1168"><span class="linenum">1168</span></a>      public function <a class="function" onClick="logFunction('setTimeout')" href="../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(<a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a> = 0)
<a name="l1169"><span class="linenum">1169</span></a>      {
<a name="l1170"><span class="linenum">1170</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timeout')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timeout.html">Timeout</a> = <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>;
<a name="l1171"><span class="linenum">1171</span></a>      }
<a name="l1172"><span class="linenum">1172</span></a>  
<a name="l1173"><span class="linenum">1173</span></a>      <span class="comment">/**</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">     * Get SMTP timeout.</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment">     * @return integer</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">     */</span>
<a name="l1177"><span class="linenum">1177</span></a>      public function <a class="function" onClick="logFunction('getTimeout')" href="../../_functions/gettimeout.html" onMouseOver="funcPopup(event,'gettimeout')">getTimeout</a>()
<a name="l1178"><span class="linenum">1178</span></a>      {
<a name="l1179"><span class="linenum">1179</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Timeout')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/Timeout.html">Timeout</a>;
<a name="l1180"><span class="linenum">1180</span></a>      }
<a name="l1181"><span class="linenum">1181</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'sendandmail': ['sendandmail', 'Send an SMTP SAML command. Starts a mail transaction from the email address specified in $from. Returns true if successful or false otherwise. If True the mail transaction is started and then one or more recipient commands may be called followed by a data command. This command will send the message to the users terminal if they are logged in and send them an email. Implements rfc 821: SAML <SP> FROM:<reverse-path> <CRLF> ', [['lib/phpmailer','class.smtp.php',902]], 0],
'authenticate': ['authenticate', 'Perform SMTP authentication. Must be run after hello(). ', [['lib/phpmailer','class.smtp.php',350],['lib/google/src/Google','Client.php',115],['lib/google/src/Google/Auth','OAuth2.php',86],['lib/jabber/XMPP','XMPP_Old.php',67]], 6],
'quit': ['quit', 'Send an SMTP QUIT command. Closes the socket if there is no error or the $close_on_error argument is true. Implements from rfc 821: QUIT <CRLF> ', [['lib/phpmailer','class.smtp.php',793]], 6],
'setverp': ['setverp', 'Enable or disable VERP address generation. ', [['lib/phpmailer','class.smtp.php',1093]], 1],
'getdebuglevel': ['getdebuglevel', 'Get debug output level. ', [['lib/phpmailer','class.smtp.php',1155]], 0],
'getserverextlist': ['getserverextlist', 'Get SMTP extensions available on the server ', [['lib/phpmailer','class.smtp.php',980]], 0],
'sendcommand': ['sendcommand', 'Send a command to an SMTP server and check its return code. ', [['lib/phpmailer','class.smtp.php',842]], 21],
'geterror': ['geterror', '', [['lib/google/src/Google/Service','Replicapool.php',967],['lib/google/src/Google/Service','Computeaccounts.php',1170],['lib/google/src/Google/Service','Appengine.php',1259],['lib/google/src/Google/Service','Script.php',266],['lib/google/src/Google/Service','DeploymentManager.php',1406],['lib/google/src/Google/Service','DeploymentManager.php',1721],['lib/phpmailer','class.smtp.php',970],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',387],['lib/google/src/Google/Service','CloudUserAccounts.php',1609],['lib/google/src/Google/Service','Replicapoolupdater.php',547],['lib/google/src/Google/Service','Replicapoolupdater.php',728],['lib/google/src/Google/Service','Replicapoolupdater.php',1102],['lib/google/src/Google/Service','Genomics.php',2192],['lib/google/src/Google/Service','Games.php',6271],['lib/xmldb','xmldb_object.php',126],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',108],['lib/google/src/Google/Service','Autoscaler.php',881],['lib/google/src/Google/Service','IdentityToolkit.php',1232],['lib/google/src/Google/Service','Storagetransfer.php',834],['lib/google/src/Google/Service','Resourceviews.php',696],['lib/google/src/Google/Service','SQLAdmin.php',1682],['lib/google/src/Google/Service','SQLAdmin.php',2890],['lib/google/src/Google/Service','Compute.php',14140],['lib/pear/Auth','RADIUS.php',179],['admin/tool/xmldb/actions','XMLDBAction.class.php',85]], 20],
'get_lines': ['get_lines', 'Read the SMTP server\'s response. Either before eof or socket timeout occurs on the operation. With SMTP we can tell if we have more lines to read if the 4th character is \'-\' symbol. If it is a space then we don\'t need to read anything else. ', [['lib/phpmailer','class.smtp.php',1041]], 7],
'starttls': ['starttls', 'Start a TLS connection. ', [['lib/horde/framework/Horde/Socket','Client.php',118],['lib/phpmailer','class.smtp.php',329]], 3],
'recipient': ['recipient', 'Send an SMTP RCPT command. Sets the TO argument to $toaddr. Returns true if the recipient was accepted false if it was rejected. Implements from rfc 821: RCPT <SP> TO:<forward-path> <CRLF> ', [['lib/phpmailer','class.smtp.php',812]], 2],
'sendhello': ['sendhello', 'Send an SMTP HELO or EHLO command. Low-level implementation used by hello() ', [['lib/phpmailer','class.smtp.php',709]], 2],
'connected': ['connected', 'Check connection state. ', [['lib/phpmailer','class.smtp.php',559]], 4],
'connect': ['connect', 'Connect to db Must be called before other methods. ', [['lib/dml','pdo_moodle_database.php',51],['lib/dml','oci_native_moodle_database.php',122],['lib/google/src/Google/Cache','Memcache.php',159],['lib/adodb/drivers','adodb-text.inc.php',120],['lib/phpmailer','class.smtp.php',238],['lib/jabber/XMPP','BOSH.php',51],['lib/adodb','adodb-pear.inc.php',118],['lib/dml','pgsql_native_moodle_database.php',105],['lib/dml','mssql_native_moodle_database.php',137],['lib/dml','mysqli_native_moodle_database.php',404],['lib/adodb','adodb.inc.php',621],['lib/adodb','adodb-memcache.lib.inc.php',61],['lib/dml','sqlsrv_native_moodle_database.php',157],['lib/dml/tests','dml_test.php',5532],['lib/jabber/XMPP','XMLStream.php',288]], 56],
'setdebuglevel': ['setdebuglevel', 'Set debug output level. ', [['lib/phpmailer','class.smtp.php',1146]], 1],
'noop': ['noop', 'Send an SMTP NOOP command. Used to keep keep-alives alive, doesn\'t actually do anything ', [['lib/phpmailer','class.smtp.php',931],['lib/horde/framework/Horde/Imap/Client','Base.php',624],['lib/tests/performance','filtersettingsperformancetester.php',132]], 8],
'getlastreply': ['getlastreply', 'Get the last reply from the server. ', [['lib/phpmailer','class.smtp.php',1031]], 1],
'data': ['data', 'Send an SMTP DATA command. Issues a data command and sends the msg_data to the server, finializing the mail transaction. $msg_data is the message that is to be send with the headers. Each header needs to be on a single line followed by a <CRLF> with the message headers and the message body being separated by and additional <CRLF>. Implements rfc 821: DATA <CRLF> ', [['lib/phpmailer','class.smtp.php',602],['lib/jquery','jquery-3.1.0.js',3959]], 437],
'hmac': ['hmac', 'Calculate an MD5 HMAC hash. Works like hash_hmac(\'md5\', $data, $key) in case that function is not available ', [['lib/phpmailer','class.smtp.php',523],['lib/typo3','class.t3lib_div.php',943]], 1],
'turn': ['turn', 'Send an SMTP TURN command. This is an optional command for SMTP that this class does not support. This method is here to make the RFC821 Definition complete for this class and _may_ be implemented in future Implements from rfc 821: TURN <CRLF> ', [['lib/phpmailer','class.smtp.php',942]], 0],
'getdebugoutput': ['getdebugoutput', 'Get debug output method. ', [['lib/phpmailer','class.smtp.php',1137]], 0],
'gettimeout': ['gettimeout', 'Get the maximum request time in seconds. ', [['lib/google/src/Google/IO','Stream.php',209],['lib/google/src/Google/Service','Appengine.php',1022],['lib/phpmailer','class.smtp.php',1173],['lib/google/src/Google/IO','Curl.php',168],['lib/google','curlio.php',172]], 1],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google/src/Google/IO','Stream.php',200],['lib/google/src/Google/Service','Appengine.php',1018],['lib/phpmailer','class.smtp.php',1164],['lib/google/src/Google/IO','Curl.php',154],['lib/google','curlio.php',156]], 707],
'verify': ['verify', 'Verifies the signature on data. ', [['lib/google/src/Google/Verifier','Pem.php',57],['lib/form','recaptcha.php',132],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',74],['lib/phpmailer','class.smtp.php',920],['lib/horde/framework/Horde/Imap/Client/Data/Format','Number.php',34],['lib/horde/framework/Horde/Imap/Client/Data/Format','Atom.php',36],['lib/google/src/Google/Service','AdSenseHost.php',983]], 8],
'hello': ['hello', 'Send an SMTP HELO or EHLO command. Used to identify the sending server to the receiving server. This makes sure that client and server are in a known state. Implements RFC 821: HELO <SP> <domain> <CRLF> and RFC 2821 EHLO. ', [['lib/phpmailer','class.smtp.php',693]], 2],
'getverp': ['getverp', 'Get VERP address generation mode. ', [['lib/phpmailer','class.smtp.php',1102]], 0],
'reset': ['reset', 'Resets the achievement with the given ID for the currently authenticated player. This method is only accessible to whitelisted tester accounts for your application. (achievements.reset) ', [['lib/google/src/Google/Service','GamesManagement.php',350],['lib/google/src/Google/Service','GamesManagement.php',471],['lib/google/src/Google/Service','GamesManagement.php',608],['lib/google/src/Google/Service','GamesManagement.php',692],['lib/google/src/Google/Service','GamesManagement.php',732],['lib/google/src/Google/Service','GamesManagement.php',819],['mod/forum/tests/generator','lib.php',54],['lib/testing/generator','component_generator_base.php',53],['lib/testing/generator','module_generator.php',45],['mod/book/tests/generator','lib.php',43],['competency/tests/generator','lib.php',78],['lib/adodb','adodb-active-record.inc.php',817],['mod/survey/tests/generator','lib.php',38],['notes/tests/generator','lib.php',43],['lib/lessphp/Tree','DefaultFunc.php',31],['lib/phpmailer','class.smtp.php',830],['lib/testing/generator','repository_generator.php',45],['question/tests/generator','lib.php',34],['lib/jabber/XMPP','BOSH.php',158],['lib/testing/generator','data_generator.php',84],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',71],['admin/tool/uploadcourse/classes','course.php',867],['mod/lesson/tests/generator','lib.php',43],['mod/glossary/tests/generator','lib.php',48],['lib/testing/generator','block_generator.php',42],['mod/chat/tests/generator','lib.php',43],['backup/cc/cc_lib','cc_utils.php',417],['backup/cc/cc_lib','cc_utils.php',458],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',167],['lib/mustache/src/Mustache','Tokenizer.php',212],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',44],['admin/tool/uploadcourse/classes','processor.php',362],['lib/lessphp','Parser.php',100],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',76],['lib/tests/fixtures','event_fixtures.php',69],['backup/cc','validator.php',64],['lib/jabber/XMPP','XMLStream.php',730],['cache/classes','factory.php',156],['mod/wiki/tests/generator','lib.php',43],['lib/google/src/Google/Service','Compute.php',6455]], 1213],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'parsehellofields': ['parsehellofields', 'Parse a reply to HELO/EHLO command to discover server extensions. In case of HELO, the only parameter that can be discovered is a server name. ', [['lib/phpmailer','class.smtp.php',730]], 1],
'edebug': ['edebug', 'Output debugging info via a user-selected method. ', [['lib/phpmailer','class.smtp.php',194],['lib/phpmailer','class.phpmailer.php',682]], 27],
'client_send': ['client_send', 'Send raw data to the server. ', [['lib/phpmailer','class.smtp.php',958]], 2],
'seterror': ['seterror', '', [['lib/google/src/Google/Service','Replicapool.php',963],['lib/google/src/Google/Service','Computeaccounts.php',1166],['lib/google/src/Google/Service','Appengine.php',1255],['lib/google/src/Google/Service','Script.php',262],['lib/google/src/Google/Service','DeploymentManager.php',1402],['lib/google/src/Google/Service','DeploymentManager.php',1717],['lib/phpmailer','class.smtp.php',1111],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',397],['lib/google/src/Google/Service','CloudUserAccounts.php',1605],['lib/google/src/Google/Service','Replicapoolupdater.php',543],['lib/google/src/Google/Service','Replicapoolupdater.php',724],['lib/google/src/Google/Service','Replicapoolupdater.php',1098],['lib/google/src/Google/Service','Genomics.php',2188],['lib/google/src/Google/Service','Games.php',6267],['lib/google/src/Google/Service','Autoscaler.php',877],['lib/google/src/Google/Service','IdentityToolkit.php',1228],['lib/google/src/Google/Service','Storagetransfer.php',830],['lib/phpmailer','class.phpmailer.php',3122],['lib/google/src/Google/Service','Resourceviews.php',692],['lib/google/src/Google/Service','SQLAdmin.php',1678],['lib/google/src/Google/Service','SQLAdmin.php',2886],['lib/google/src/Google/Service','Compute.php',14136]], 36],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'setdebugoutput': ['setdebugoutput', 'Set debug output method. ', [['lib/phpmailer','class.smtp.php',1128]], 1],
'getserverext': ['getserverext', 'A multipurpose method The method works in three ways, dependent on argument value and current state 1. HELO/EHLO was not sent - returns null and set up $this->error 2. HELO was sent $name = \'HELO\': returns server name $name = \'EHLO\': returns boolean false $name = any string: returns null and set up $this->error 3. EHLO was sent $name = \'HELO\'|\'EHLO\': returns server name $name = any string: if extension $name exists, returns boolean True or its options. Otherwise returns boolean False In other words, one can use this method to detect 3 conditions: - null returned: handshake was not or we don\'t know about ext (refer to $this->error) - false returned: the requested feature exactly not exists - positive value returned: the requested feature exists ', [['lib/phpmailer','class.smtp.php',990]], 1],
'mail': ['mail', 'Send an SMTP MAIL command. Starts a mail transaction from the email address specified in $from. Returns true if successful or false otherwise. If True the mail transaction is started and then one or more recipient commands may be called followed by a data command. Implements rfc 821: MAIL <SP> FROM:<reverse-path> <CRLF> ', [['lib/phpmailer','class.smtp.php',772]], 23],
'initialize': ['initialize', 'Initialize ', [['lib/pear/Net/GeoIP','DMA.php',60],['lib/classes','shutdown_manager.php',40],['lib/phpexcel/PHPExcel','CachedObjectStorageFactory.php',161],['question','category_class.php',207],['lib/typo3','class.t3lib_l10n_locales.php',147],['mod/scorm/datamodels','scorm_13.js',281]], 18],
'time': ['time', '', [], 1959],
'fsockopen': ['fsockopen', '', [], 9],
'count': ['count', '', [], 4095],
'trim': ['trim', '', [], 1948],
'implode': ['implode', '', [], 1281],
'is_array': ['is_array', '', [], 1608],
'is_callable': ['is_callable', '', [], 54],
'stream_get_meta_data': ['stream_get_meta_data', '', [], 4],
'strpos': ['strpos', '', [], 1604],
'stream_context_create': ['stream_context_create', '', [], 13],
'function_exists': ['function_exists', '', [], 419],
'stream_socket_client': ['stream_socket_client', '', [], 4],
'error_log': ['error_log', '', [], 90],
'ini_get': ['ini_get', '', [], 121],
'stream_set_timeout': ['stream_set_timeout', '', [], 5],
'base64_encode': ['base64_encode', '', [], 134],
'is_null': ['is_null', '', [], 2003],
'call_user_func': ['call_user_func', '', [], 113],
'is_resource': ['is_resource', '', [], 59],
'preg_match': ['preg_match', '', [], 1286],
'strrpos': ['strrpos', '', [], 75],
'in_array': ['in_array', '', [], 1234],
'base64_decode': ['base64_decode', '', [], 92],
'substr': ['substr', '', [], 2823],
'array_shift': ['array_shift', '', [], 700],
'fclose': ['fclose', '', [], 275],
'set_time_limit': ['set_time_limit', '', [], 13],
'fwrite': ['fwrite', '', [], 227],
'htmlentities': ['htmlentities', '', [], 47],
'fgets': ['fgets', '', [], 44],
'str_replace': ['str_replace', '', [], 1648],
'var_export': ['var_export', '', [], 71],
'explode': ['explode', '', [], 1572],
'pack': ['pack', '', [], 195],
'array_key_exists': ['array_key_exists', '', [], 1445],
'gmdate': ['gmdate', '', [], 116],
'str_pad': ['str_pad', '', [], 78],
'preg_replace': ['preg_replace', '', [], 917],
'feof': ['feof', '', [], 52],
'chr': ['chr', '', [], 816]};
CLASS_DATA={
'smtp': ['smtp', 'PHPMailer RFC821 SMTP email transport class. Implements RFC 821 SMTP commands and provides some utility methods for sending mail to an SMTP server. ', [['lib/phpmailer','class.smtp.php',20]], 3]};
CONST_DATA={
'CRLF': ['CRLF', '', [['lib/typo3','class.t3lib_div.php',35]], 33]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
