<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of listlib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='listlib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="listlib.php.source.html">listlib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="listlib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>Classes for displaying and editing a nested list of items. Handles functionality for :</b></p>
<table>
<tr><td align="right">Copyright: </td><td>Jamie Pratt</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>627 lines (23 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 24 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#to_html">to_html</a>()<br>
&nbsp;&nbsp;<a href="#find_item">find_item</a>()<br>
&nbsp;&nbsp;<a href="#add_item">add_item</a>()<br>
&nbsp;&nbsp;<a href="#set_parent">set_parent</a>()<br>
&nbsp;&nbsp;<a href="#list_from_records">list_from_records</a>()<br>
&nbsp;&nbsp;<a href="#display_page_numbers">display_page_numbers</a>()<br>
&nbsp;&nbsp;<a href="#get_items_peers">get_items_peers</a>()<br>
&nbsp;&nbsp;<a href="#get_child_ids">get_child_ids</a>()<br>
&nbsp;&nbsp;<a href="#move_item_up_down">move_item_up_down</a>()<br>
&nbsp;&nbsp;<a href="#reorder_peers">reorder_peers</a>()<br>
&nbsp;&nbsp;<a href="#move_item_left">move_item_left</a>()<br>
&nbsp;&nbsp;<a href="#move_item_right">move_item_right</a>()<br>
&nbsp;&nbsp;<a href="#process_actions">process_actions</a>()<br>
&nbsp;&nbsp;<a href="#item_is_first_on_page">item_is_first_on_page</a>()<br>
&nbsp;&nbsp;<a href="#item_is_last_on_page">item_is_last_on_page</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#item_html">item_html</a>()<br>
&nbsp;&nbsp;<a href="#to_html">to_html</a>()<br>
&nbsp;&nbsp;<a href="#set_icon_html">set_icon_html</a>()<br>
&nbsp;&nbsp;<a href="#image_icon">image_icon</a>()<br>
&nbsp;&nbsp;<a href="#image_spacer">image_spacer</a>()<br>
&nbsp;&nbsp;<a href="#create_children">create_children</a>()<br>
&nbsp;&nbsp;<a href="#set_parent">set_parent</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'listlib.php.source.html#l82')" href="listlib.php.source.html#l82">__construct</a>(<a href="../_variables/type.html">$type</a>='ul', <a href="../_variables/attributes.html">$attributes</a>='', <a href="../_variables/editable.html">$editable</a> = false, <a href="../_variables/pageurl.html">$pageurl</a>=null, <a href="../_variables/page.html">$page</a> = 0, <a href="../_variables/pageparamname.html">$pageparamname</a> = 'page', <a href="../_variables/itemsperpage.html">$itemsperpage</a> = 20)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> string $type<br>
<b>param:</b> string $attributes<br>
<b>param:</b> boolean $editable<br>
<b>param:</b> moodle_url $pageurl url for this page<br>
<b>param:</b> integer $page if 0 no pagination. (These three params only used in top level list.)<br>
<b>param:</b> string $pageparamname name of url param that is used for passing page no<br>
<b>param:</b> integer $itemsperpage no of top level items.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="to_html" onClick="logFunction('to_html', 'listlib.php.source.html#l110')" href="listlib.php.source.html#l110">to_html</a>(<a href="../_variables/indent.html">$indent</a>=0, <a href="../_variables/extraargs.html">$extraargs</a>=array()&nbsp;&nbsp;
<a href="../_functions/to_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns html string.<BR>
</b><BR><b>param:</b> integer $indent depth of indentation.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_item" onClick="logFunction('find_item', 'listlib.php.source.html#l150')" href="listlib.php.source.html#l150">find_item</a>(<a href="../_variables/id.html">$id</a>, <a href="../_variables/suppresserror.html">$suppresserror</a> = false)&nbsp;&nbsp;
<a href="../_functions/find_item.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recurse down the tree and find an item by it's id.<BR>
</b><BR><b>param:</b> integer $id<br>
<b>param:</b> boolean $suppresserror error if not item found?<br>
<b>return:</b> list_item *copy* or null if item is not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_item" onClick="logFunction('add_item', 'listlib.php.source.html#l179')" href="listlib.php.source.html#l179">add_item</a>(<a href="../_variables/item.html">$item</a>)&nbsp;&nbsp;
<a href="../_functions/add_item.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_parent" onClick="logFunction('set_parent', 'listlib.php.source.html#l183')" href="listlib.php.source.html#l183">set_parent</a>(<a href="../_variables/parent.html">$parent</a>)&nbsp;&nbsp;
<a href="../_functions/set_parent.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_from_records" onClick="logFunction('list_from_records', 'listlib.php.source.html#l187')" href="listlib.php.source.html#l187">list_from_records</a>(<a href="../_variables/paged.html">$paged</a> = false, <a href="../_variables/offset.html">$offset</a> = 0)&nbsp;&nbsp;
<a href="../_functions/list_from_records.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Produces a hierarchical tree of list items from a flat array of records.<BR>
'parent' field is expected to point to a parent record.<BR>
records are already sorted.<BR>
If the parent field doesn't point to another record in the array then this is<BR>
a top level list<BR>
</b><BR><b>param:</b> integer $offset how many list toplevel items are there in lists before this one<br>
<b>return:</b> array(boolean, integer) whether there is more than one page, $offset + how many toplevel items where there in this list.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="display_page_numbers" onClick="logFunction('display_page_numbers', 'listlib.php.source.html#l252')" href="listlib.php.source.html#l252">display_page_numbers</a>()&nbsp;&nbsp;
<a href="../_functions/display_page_numbers.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>display list of page numbers for navigation<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_items_peers" onClick="logFunction('get_items_peers', 'listlib.php.source.html#l275')" href="listlib.php.source.html#l275">get_items_peers</a>(<a href="../_variables/itemid.html">$itemid</a>)&nbsp;&nbsp;
<a href="../_functions/get_items_peers.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of ids of peers of an item.<BR>
</b><BR><b>param:</b> int itemid - if given, restrict records to those with this parent id.<br>
<b>return:</b> array peer ids<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_child_ids" onClick="logFunction('get_child_ids', 'listlib.php.source.html#l287')" href="listlib.php.source.html#l287">get_child_ids</a>()&nbsp;&nbsp;
<a href="../_functions/get_child_ids.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of ids of child items.<BR>
</b><BR><b>return:</b> array peer ids<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_item_up_down" onClick="logFunction('move_item_up_down', 'listlib.php.source.html#l300')" href="listlib.php.source.html#l300">move_item_up_down</a>(<a href="../_variables/direction.html">$direction</a>, <a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/move_item_up_down.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move a record up or down<BR>
</b><BR><b>param:</b> string $direction up / down<br>
<b>param:</b> integer $id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reorder_peers" onClick="logFunction('reorder_peers', 'listlib.php.source.html#l333')" href="listlib.php.source.html#l333">reorder_peers</a>(<a href="../_variables/peers.html">$peers</a>)&nbsp;&nbsp;
<a href="../_functions/reorder_peers.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_item_left" onClick="logFunction('move_item_left', 'listlib.php.source.html#l344')" href="listlib.php.source.html#l344">move_item_left</a>(<a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/move_item_left.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> integer $id an item index.<br>
<b>return:</b> object the item that used to be the parent of the item moved.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_item_right" onClick="logFunction('move_item_right', 'listlib.php.source.html#l365')" href="listlib.php.source.html#l365">move_item_right</a>(<a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/move_item_right.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Make item with id $id the child of the peer that is just above it in the sort order.<BR>
</b><BR><b>param:</b> integer $id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_actions" onClick="logFunction('process_actions', 'listlib.php.source.html#l390')" href="listlib.php.source.html#l390">process_actions</a>(<a href="../_variables/left.html">$left</a>, <a href="../_variables/right.html">$right</a>, <a href="../_variables/moveup.html">$moveup</a>, <a href="../_variables/movedown.html">$movedown</a>)&nbsp;&nbsp;
<a href="../_functions/process_actions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>process any actions.<BR>
</b><BR><b>param:</b> integer $left id of item to move left<br>
<b>param:</b> integer $right id of item to move right<br>
<b>param:</b> integer $moveup id of item to move up<br>
<b>param:</b> integer $movedown id of item to move down<br>
<b>return:</b> unknown<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="item_is_first_on_page" onClick="logFunction('item_is_first_on_page', 'listlib.php.source.html#l444')" href="listlib.php.source.html#l444">item_is_first_on_page</a>(<a href="../_variables/itemid.html">$itemid</a>)&nbsp;&nbsp;
<a href="../_functions/item_is_first_on_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> integer $itemid an item id.<br>
<b>return:</b> boolean Is the item with the given id the first top-level item on<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="item_is_last_on_page" onClick="logFunction('item_is_last_on_page', 'listlib.php.source.html#l454')" href="listlib.php.source.html#l454">item_is_last_on_page</a>(<a href="../_variables/itemid.html">$itemid</a>)&nbsp;&nbsp;
<a href="../_functions/item_is_last_on_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> integer $itemid an item id.<br>
<b>return:</b> boolean Is the item with the given id the last top-level item on<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'listlib.php.source.html#l485')" href="listlib.php.source.html#l485">__construct</a>(<a href="../_variables/item.html">$item</a>, <a href="../_variables/parent.html">$parent</a>, <a href="../_variables/attributes.html">$attributes</a> = '', <a href="../_variables/display.html">$display</a> = true)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> mixed $item fragment of html for list item or record<br>
<b>param:</b> object $parent reference to parent of this item<br>
<b>param:</b> string $attributes attributes for li tag<br>
<b>param:</b> boolean $display whether this item is displayed. Some items may be loaded so we have a complete<br>
<b>return:</b> list_item<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="item_html" onClick="logFunction('item_html', 'listlib.php.source.html#l508')" href="listlib.php.source.html#l508">item_html</a>(<a href="../_variables/extraargs.html">$extraargs</a> = array()&nbsp;&nbsp;
<a href="../_functions/item_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output the html just for this item. Called by to_html which adds html for children.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="to_html" onClick="logFunction('to_html', 'listlib.php.source.html#l523')" href="listlib.php.source.html#l523">to_html</a>(<a href="../_variables/indent.html">$indent</a> = 0, <a href="../_variables/extraargs.html">$extraargs</a> = array()&nbsp;&nbsp;
<a href="../_functions/to_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns html<BR>
</b><BR><b>param:</b> integer $indent<br>
<b>param:</b> array $extraargs any extra data that is needed to print the list item<br>
<b>return:</b> string html<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_icon_html" onClick="logFunction('set_icon_html', 'listlib.php.source.html#l545')" href="listlib.php.source.html#l545">set_icon_html</a>(<a href="../_variables/first.html">$first</a>, <a href="../_variables/last.html">$last</a>, <a href="../_variables/lastitem.html">$lastitem</a>)&nbsp;&nbsp;
<a href="../_functions/set_icon_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="image_icon" onClick="logFunction('image_icon', 'listlib.php.source.html#l595')" href="listlib.php.source.html#l595">image_icon</a>(<a href="../_variables/action.html">$action</a>, <a href="../_variables/url.html">$url</a>, <a href="../_variables/icon.html">$icon</a>)&nbsp;&nbsp;
<a href="../_functions/image_icon.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="image_spacer" onClick="logFunction('image_spacer', 'listlib.php.source.html#l601')" href="listlib.php.source.html#l601">image_spacer</a>()&nbsp;&nbsp;
<a href="../_functions/image_spacer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_children" onClick="logFunction('create_children', 'listlib.php.source.html#l606')" href="listlib.php.source.html#l606">create_children</a>(&amp;<a href="../_variables/records.html">$records</a>, &amp;<a href="../_variables/children.html">$children</a>, <a href="../_variables/thisrecordid.html">$thisrecordid</a>)&nbsp;&nbsp;
<a href="../_functions/create_children.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recurse down tree creating list_items, called from moodle_list::list_from_records<BR>
</b><BR><b>param:</b> array $records<br>
<b>param:</b> array $children<br>
<b>param:</b> integer $thisrecordid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_parent" onClick="logFunction('set_parent', 'listlib.php.source.html#l624')" href="listlib.php.source.html#l624">set_parent</a>(<a href="../_variables/parent.html">$parent</a>)&nbsp;&nbsp;
<a href="../_functions/set_parent.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
