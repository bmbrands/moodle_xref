<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of moodlelib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='moodlelib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="moodlelib.php.source.html">moodlelib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="moodlelib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>moodlelib.php - Moodle main library Main library file of miscellaneous general-purpose Moodle functions. Other main libraries: - weblib.php&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- functions that produce web output - datalib.php&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- functions that access the database</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  http://dougiamas.com</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>9777 lines (348 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 3 classes</h3>
<div class="inset">
<p><b>emoticon_manager::</b> (63 methods):<br>
&nbsp;&nbsp;<a href="#get_emoticons">get_emoticons</a>()<br>
&nbsp;&nbsp;<a href="#prepare_renderable_emoticon">prepare_renderable_emoticon</a>()<br>
&nbsp;&nbsp;<a href="#encode_stored_config">encode_stored_config</a>()<br>
&nbsp;&nbsp;<a href="#decode_stored_config">decode_stored_config</a>()<br>
&nbsp;&nbsp;<a href="#default_emoticons">default_emoticons</a>()<br>
&nbsp;&nbsp;<a href="#prepare_emoticon_object">prepare_emoticon_object</a>()<br>
&nbsp;&nbsp;<a href="#rc4encrypt">rc4encrypt</a>()<br>
&nbsp;&nbsp;<a href="#rc4decrypt">rc4decrypt</a>()<br>
&nbsp;&nbsp;<a href="#endecrypt">endecrypt</a>()<br>
&nbsp;&nbsp;<a href="#is_valid_plugin_name">is_valid_plugin_name</a>()<br>
&nbsp;&nbsp;<a href="#get_plugin_list_with_function">get_plugin_list_with_function</a>()<br>
&nbsp;&nbsp;<a href="#get_plugins_with_function">get_plugins_with_function</a>()<br>
&nbsp;&nbsp;<a href="#get_list_of_plugins">get_list_of_plugins</a>()<br>
&nbsp;&nbsp;<a href="#plugin_callback">plugin_callback</a>()<br>
&nbsp;&nbsp;<a href="#component_callback">component_callback</a>()<br>
&nbsp;&nbsp;<a href="#component_callback_exists">component_callback_exists</a>()<br>
&nbsp;&nbsp;<a href="#plugin_supports">plugin_supports</a>()<br>
&nbsp;&nbsp;<a href="#check_php_version">check_php_version</a>()<br>
&nbsp;&nbsp;<a href="#moodle_needs_upgrading">moodle_needs_upgrading</a>()<br>
&nbsp;&nbsp;<a href="#moodle_major_version">moodle_major_version</a>()<br>
&nbsp;&nbsp;<a href="#moodle_setlocale">moodle_setlocale</a>()<br>
&nbsp;&nbsp;<a href="#count_words">count_words</a>()<br>
&nbsp;&nbsp;<a href="#count_letters">count_letters</a>()<br>
&nbsp;&nbsp;<a href="#random_string">random_string</a>()<br>
&nbsp;&nbsp;<a href="#complex_random_string">complex_random_string</a>()<br>
&nbsp;&nbsp;<a href="#random_bytes_emulate">random_bytes_emulate</a>()<br>
&nbsp;&nbsp;<a href="#shorten_text">shorten_text</a>()<br>
&nbsp;&nbsp;<a href="#getweek">getweek</a>()<br>
&nbsp;&nbsp;<a href="#generate_password">generate_password</a>()<br>
&nbsp;&nbsp;<a href="#format_float">format_float</a>()<br>
&nbsp;&nbsp;<a href="#unformat_float">unformat_float</a>()<br>
&nbsp;&nbsp;<a href="#swapshuffle">swapshuffle</a>()<br>
&nbsp;&nbsp;<a href="#swapshuffle_assoc">swapshuffle_assoc</a>()<br>
&nbsp;&nbsp;<a href="#draw_rand_array">draw_rand_array</a>()<br>
&nbsp;&nbsp;<a href="#microtime_diff">microtime_diff</a>()<br>
&nbsp;&nbsp;<a href="#make_menu_from_list">make_menu_from_list</a>()<br>
&nbsp;&nbsp;<a href="#make_grades_menu">make_grades_menu</a>()<br>
&nbsp;&nbsp;<a href="#make_unique_id_code">make_unique_id_code</a>()<br>
&nbsp;&nbsp;<a href="#address_in_subnet">address_in_subnet</a>()<br>
&nbsp;&nbsp;<a href="#mtrace">mtrace</a>()<br>
&nbsp;&nbsp;<a href="#cleardoubleslashes">cleardoubleslashes</a>()<br>
&nbsp;&nbsp;<a href="#remoteip_in_list">remoteip_in_list</a>()<br>
&nbsp;&nbsp;<a href="#getremoteaddr">getremoteaddr</a>()<br>
&nbsp;&nbsp;<a href="#cleanremoteaddr">cleanremoteaddr</a>()<br>
&nbsp;&nbsp;<a href="#fullclone">fullclone</a>()<br>
&nbsp;&nbsp;<a href="#message_popup_window">message_popup_window</a>()<br>
&nbsp;&nbsp;<a href="#bounded_number">bounded_number</a>()<br>
&nbsp;&nbsp;<a href="#array_is_nested">array_is_nested</a>()<br>
&nbsp;&nbsp;<a href="#get_performance_info">get_performance_info</a>()<br>
&nbsp;&nbsp;<a href="#remove_dir">remove_dir</a>()<br>
&nbsp;&nbsp;<a href="#object_property_exists">object_property_exists</a>()<br>
&nbsp;&nbsp;<a href="#convert_to_array">convert_to_array</a>()<br>
&nbsp;&nbsp;<a href="#custom_script_path">custom_script_path</a>()<br>
&nbsp;&nbsp;<a href="#is_mnet_remote_user">is_mnet_remote_user</a>()<br>
&nbsp;&nbsp;<a href="#setup_lang_from_browser">setup_lang_from_browser</a>()<br>
&nbsp;&nbsp;<a href="#is_proxybypass">is_proxybypass</a>()<br>
&nbsp;&nbsp;<a href="#is_newnav">is_newnav</a>()<br>
&nbsp;&nbsp;<a href="#in_object_vars">in_object_vars</a>()<br>
&nbsp;&nbsp;<a href="#object_array_unique">object_array_unique</a>()<br>
&nbsp;&nbsp;<a href="#is_primary_admin">is_primary_admin</a>()<br>
&nbsp;&nbsp;<a href="#get_site_identifier">get_site_identifier</a>()<br>
&nbsp;&nbsp;<a href="#check_consecutive_identical_characters">check_consecutive_identical_characters</a>()<br>
&nbsp;&nbsp;<a href="#partial">partial</a>()<br>
</p>
<p><b>partial::</b> (8 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#method">method</a>()<br>
&nbsp;&nbsp;<a href="#get_mnet_environment">get_mnet_environment</a>()<br>
&nbsp;&nbsp;<a href="#get_mnet_remote_client">get_mnet_remote_client</a>()<br>
&nbsp;&nbsp;<a href="#set_mnet_remote_client">set_mnet_remote_client</a>()<br>
&nbsp;&nbsp;<a href="#mnet_get_idp_jump_url">mnet_get_idp_jump_url</a>()<br>
&nbsp;&nbsp;<a href="#get_home_page">get_home_page</a>()<br>
&nbsp;&nbsp;<a href="#get_course_display_name_for_list">get_course_display_name_for_list</a>()<br>
</p>
<p><b>lang_string::</b> (6 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_string">get_string</a>()<br>
&nbsp;&nbsp;<a href="#out">out</a>()<br>
&nbsp;&nbsp;<a href="#__tostring">__toString</a>()<br>
&nbsp;&nbsp;<a href="#__set_state">__set_state</a>()<br>
&nbsp;&nbsp;<a href="#__sleep">__sleep</a>()<br>
</p>
</div>
<h3>Defines 6 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#required_param">required_param</a>()<br>
&nbsp;&nbsp;<a href="#required_param_array">required_param_array</a>()<br>
&nbsp;&nbsp;<a href="#optional_param">optional_param</a>()<br>
&nbsp;&nbsp;<a href="#optional_param_array">optional_param_array</a>()<br>
&nbsp;&nbsp;<a href="#validate_param">validate_param</a>()<br>
&nbsp;&nbsp;<a href="#clean_param_array">clean_param_array</a>()<br>
&nbsp;&nbsp;<a href="#clean_param">clean_param</a>()<br>
&nbsp;&nbsp;<a href="#fix_utf8">fix_utf8</a>()<br>
&nbsp;&nbsp;<a href="#is_number">is_number</a>()<br>
&nbsp;&nbsp;<a href="#get_host_from_url">get_host_from_url</a>()<br>
&nbsp;&nbsp;<a href="#html_is_blank">html_is_blank</a>()<br>
&nbsp;&nbsp;<a href="#set_config">set_config</a>()<br>
&nbsp;&nbsp;<a href="#get_config">get_config</a>()<br>
&nbsp;&nbsp;<a href="#unset_config">unset_config</a>()<br>
&nbsp;&nbsp;<a href="#unset_all_config_for_plugin">unset_all_config_for_plugin</a>()<br>
&nbsp;&nbsp;<a href="#get_users_from_config">get_users_from_config</a>()<br>
&nbsp;&nbsp;<a href="#purge_all_caches">purge_all_caches</a>()<br>
&nbsp;&nbsp;<a href="#get_cache_flags">get_cache_flags</a>()<br>
&nbsp;&nbsp;<a href="#get_cache_flag">get_cache_flag</a>()<br>
&nbsp;&nbsp;<a href="#set_cache_flag">set_cache_flag</a>()<br>
&nbsp;&nbsp;<a href="#unset_cache_flag">unset_cache_flag</a>()<br>
&nbsp;&nbsp;<a href="#gc_cache_flags">gc_cache_flags</a>()<br>
&nbsp;&nbsp;<a href="#check_user_preferences_loaded">check_user_preferences_loaded</a>()<br>
&nbsp;&nbsp;<a href="#mark_user_preferences_changed">mark_user_preferences_changed</a>()<br>
&nbsp;&nbsp;<a href="#set_user_preference">set_user_preference</a>()<br>
&nbsp;&nbsp;<a href="#set_user_preferences">set_user_preferences</a>()<br>
&nbsp;&nbsp;<a href="#unset_user_preference">unset_user_preference</a>()<br>
&nbsp;&nbsp;<a href="#get_user_preferences">get_user_preferences</a>()<br>
&nbsp;&nbsp;<a href="#make_timestamp">make_timestamp</a>()<br>
&nbsp;&nbsp;<a href="#format_time">format_time</a>()<br>
&nbsp;&nbsp;<a href="#userdate">userdate</a>()<br>
&nbsp;&nbsp;<a href="#date_format_string">date_format_string</a>()<br>
&nbsp;&nbsp;<a href="#usergetdate">usergetdate</a>()<br>
&nbsp;&nbsp;<a href="#usertime">usertime</a>()<br>
&nbsp;&nbsp;<a href="#usergetmidnight">usergetmidnight</a>()<br>
&nbsp;&nbsp;<a href="#usertimezone">usertimezone</a>()<br>
&nbsp;&nbsp;<a href="#get_user_timezone">get_user_timezone</a>()<br>
&nbsp;&nbsp;<a href="#dst_offset_on">dst_offset_on</a>()<br>
&nbsp;&nbsp;<a href="#find_day_in_month">find_day_in_month</a>()<br>
&nbsp;&nbsp;<a href="#days_in_month">days_in_month</a>()<br>
&nbsp;&nbsp;<a href="#dayofweek">dayofweek</a>()<br>
&nbsp;&nbsp;<a href="#get_login_url">get_login_url</a>()<br>
&nbsp;&nbsp;<a href="#require_login">require_login</a>()<br>
&nbsp;&nbsp;<a href="#require_logout">require_logout</a>()<br>
&nbsp;&nbsp;<a href="#require_course_login">require_course_login</a>()<br>
&nbsp;&nbsp;<a href="#require_user_key_login">require_user_key_login</a>()<br>
&nbsp;&nbsp;<a href="#create_user_key">create_user_key</a>()<br>
&nbsp;&nbsp;<a href="#delete_user_key">delete_user_key</a>()<br>
&nbsp;&nbsp;<a href="#get_user_key">get_user_key</a>()<br>
&nbsp;&nbsp;<a href="#update_user_login_times">update_user_login_times</a>()<br>
&nbsp;&nbsp;<a href="#user_not_fully_set_up">user_not_fully_set_up</a>()<br>
&nbsp;&nbsp;<a href="#over_bounce_threshold">over_bounce_threshold</a>()<br>
&nbsp;&nbsp;<a href="#set_send_count">set_send_count</a>()<br>
&nbsp;&nbsp;<a href="#set_bounce_count">set_bounce_count</a>()<br>
&nbsp;&nbsp;<a href="#ismoving">ismoving</a>()<br>
&nbsp;&nbsp;<a href="#fullname">fullname</a>()<br>
&nbsp;&nbsp;<a href="#get_all_user_name_fields">get_all_user_name_fields</a>()<br>
&nbsp;&nbsp;<a href="#username_load_fields_from_object">username_load_fields_from_object</a>()<br>
&nbsp;&nbsp;<a href="#order_in_string">order_in_string</a>()<br>
&nbsp;&nbsp;<a href="#get_extra_user_fields">get_extra_user_fields</a>()<br>
&nbsp;&nbsp;<a href="#get_extra_user_fields_sql">get_extra_user_fields_sql</a>()<br>
&nbsp;&nbsp;<a href="#get_user_field_name">get_user_field_name</a>()<br>
&nbsp;&nbsp;<a href="#exists_auth_plugin">exists_auth_plugin</a>()<br>
&nbsp;&nbsp;<a href="#is_enabled_auth">is_enabled_auth</a>()<br>
&nbsp;&nbsp;<a href="#get_auth_plugin">get_auth_plugin</a>()<br>
&nbsp;&nbsp;<a href="#get_enabled_auth_plugins">get_enabled_auth_plugins</a>()<br>
&nbsp;&nbsp;<a href="#is_internal_auth">is_internal_auth</a>()<br>
&nbsp;&nbsp;<a href="#is_restored_user">is_restored_user</a>()<br>
&nbsp;&nbsp;<a href="#get_user_fieldnames">get_user_fieldnames</a>()<br>
&nbsp;&nbsp;<a href="#create_user_record">create_user_record</a>()<br>
&nbsp;&nbsp;<a href="#update_user_record">update_user_record</a>()<br>
&nbsp;&nbsp;<a href="#update_user_record_by_id">update_user_record_by_id</a>()<br>
&nbsp;&nbsp;<a href="#truncate_userinfo">truncate_userinfo</a>()<br>
&nbsp;&nbsp;<a href="#delete_user">delete_user</a>()<br>
&nbsp;&nbsp;<a href="#guest_user">guest_user</a>()<br>
&nbsp;&nbsp;<a href="#authenticate_user_login">authenticate_user_login</a>()<br>
&nbsp;&nbsp;<a href="#complete_user_login">complete_user_login</a>()<br>
&nbsp;&nbsp;<a href="#password_is_legacy_hash">password_is_legacy_hash</a>()<br>
&nbsp;&nbsp;<a href="#validate_internal_user_password">validate_internal_user_password</a>()<br>
&nbsp;&nbsp;<a href="#hash_internal_user_password">hash_internal_user_password</a>()<br>
&nbsp;&nbsp;<a href="#update_internal_user_password">update_internal_user_password</a>()<br>
&nbsp;&nbsp;<a href="#get_complete_user_data">get_complete_user_data</a>()<br>
&nbsp;&nbsp;<a href="#check_password_policy">check_password_policy</a>()<br>
&nbsp;&nbsp;<a href="#set_login_session_preferences">set_login_session_preferences</a>()<br>
&nbsp;&nbsp;<a href="#delete_course">delete_course</a>()<br>
&nbsp;&nbsp;<a href="#remove_course_contents">remove_course_contents</a>()<br>
&nbsp;&nbsp;<a href="#shift_course_mod_dates">shift_course_mod_dates</a>()<br>
&nbsp;&nbsp;<a href="#reset_course_userdata">reset_course_userdata</a>()<br>
&nbsp;&nbsp;<a href="#generate_email_processing_address">generate_email_processing_address</a>()<br>
&nbsp;&nbsp;<a href="#moodle_process_email">moodle_process_email</a>()<br>
&nbsp;&nbsp;<a href="#get_mailer">get_mailer</a>()<br>
&nbsp;&nbsp;<a href="#email_should_be_diverted">email_should_be_diverted</a>()<br>
&nbsp;&nbsp;<a href="#generate_email_messageid">generate_email_messageid</a>()<br>
&nbsp;&nbsp;<a href="#email_to_user">email_to_user</a>()<br>
&nbsp;&nbsp;<a href="#generate_email_signoff">generate_email_signoff</a>()<br>
&nbsp;&nbsp;<a href="#setnew_password_and_mail">setnew_password_and_mail</a>()<br>
&nbsp;&nbsp;<a href="#reset_password_and_mail">reset_password_and_mail</a>()<br>
&nbsp;&nbsp;<a href="#send_confirmation_email">send_confirmation_email</a>()<br>
&nbsp;&nbsp;<a href="#send_password_change_confirmation_email">send_password_change_confirmation_email</a>()<br>
&nbsp;&nbsp;<a href="#send_password_change_info">send_password_change_info</a>()<br>
&nbsp;&nbsp;<a href="#email_is_not_allowed">email_is_not_allowed</a>()<br>
&nbsp;&nbsp;<a href="#get_file_storage">get_file_storage</a>()<br>
&nbsp;&nbsp;<a href="#get_file_browser">get_file_browser</a>()<br>
&nbsp;&nbsp;<a href="#get_file_packer">get_file_packer</a>()<br>
&nbsp;&nbsp;<a href="#valid_uploaded_file">valid_uploaded_file</a>()<br>
&nbsp;&nbsp;<a href="#get_max_upload_file_size">get_max_upload_file_size</a>()<br>
&nbsp;&nbsp;<a href="#get_user_max_upload_file_size">get_user_max_upload_file_size</a>()<br>
&nbsp;&nbsp;<a href="#get_max_upload_sizes">get_max_upload_sizes</a>()<br>
&nbsp;&nbsp;<a href="#get_directory_list">get_directory_list</a>()<br>
&nbsp;&nbsp;<a href="#get_directory_size">get_directory_size</a>()<br>
&nbsp;&nbsp;<a href="#display_size">display_size</a>()<br>
&nbsp;&nbsp;<a href="#clean_filename">clean_filename</a>()<br>
&nbsp;&nbsp;<a href="#current_language">current_language</a>()<br>
&nbsp;&nbsp;<a href="#get_parent_language">get_parent_language</a>()<br>
&nbsp;&nbsp;<a href="#force_current_language">force_current_language</a>()<br>
&nbsp;&nbsp;<a href="#get_string_manager">get_string_manager</a>()<br>
&nbsp;&nbsp;<a href="#get_string">get_string</a>()<br>
&nbsp;&nbsp;<a href="#get_strings">get_strings</a>()<br>
&nbsp;&nbsp;<a href="#print_string">print_string</a>()<br>
&nbsp;&nbsp;<a href="#get_list_of_charsets">get_list_of_charsets</a>()<br>
&nbsp;&nbsp;<a href="#get_list_of_themes">get_list_of_themes</a>()<br>
&nbsp;&nbsp;<a href="#get_emoticon_manager">get_emoticon_manager</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="emoticon_manager"><b>emoticon_manager</b></a>&nbsp;&nbsp;- <a href="../_classes/emoticon_manager.html"><small>X-Ref</small></a>
</p>
<b>Provides core support for plugins that have to deal with emoticons (like HTML editor or emoticon filter).<BR>
</b><br>
Whenever this manager mentiones 'emoticon object', the following data<BR>
structure is expected: stdClass with properties text, imagename, imagecomponent,<BR>
altidentifier and altcomponent<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_emoticons" onClick="logFunction('get_emoticons', 'moodlelib.php.source.html#l6984')" href="moodlelib.php.source.html#l6984">get_emoticons</a>()&nbsp;&nbsp;
<a href="../_functions/get_emoticons.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the currently enabled emoticons<BR>
</b><BR><b>return:</b> array of emoticon objects<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepare_renderable_emoticon" onClick="logFunction('prepare_renderable_emoticon', 'moodlelib.php.source.html#l7007')" href="moodlelib.php.source.html#l7007">prepare_renderable_emoticon</a>(stdClass <a href="../_variables/emoticon.html">$emoticon</a>, array <a href="../_variables/attributes.html">$attributes</a> = array()&nbsp;&nbsp;
<a href="../_functions/prepare_renderable_emoticon.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts emoticon object into renderable pix_emoticon object<BR>
</b><BR><b>param:</b> stdClass $emoticon emoticon object<br>
<b>param:</b> array $attributes explicit HTML attributes to set<br>
<b>return:</b> pix_emoticon<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="encode_stored_config" onClick="logFunction('encode_stored_config', 'moodlelib.php.source.html#l7024')" href="moodlelib.php.source.html#l7024">encode_stored_config</a>(array <a href="../_variables/emoticons.html">$emoticons</a>)&nbsp;&nbsp;
<a href="../_functions/encode_stored_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Encodes the array of emoticon objects into a string storable in config table<BR>
</b><BR><b>param:</b> array $emoticons array of emtocion objects<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decode_stored_config" onClick="logFunction('decode_stored_config', 'moodlelib.php.source.html#l7035')" href="moodlelib.php.source.html#l7035">decode_stored_config</a>(<a href="../_variables/encoded.html">$encoded</a>)&nbsp;&nbsp;
<a href="../_functions/decode_stored_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Decodes the string into an array of emoticon objects<BR>
</b><BR><b>param:</b> string $encoded<br>
<b>return:</b> string|null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_emoticons" onClick="logFunction('default_emoticons', 'moodlelib.php.source.html#l7050')" href="moodlelib.php.source.html#l7050">default_emoticons</a>()&nbsp;&nbsp;
<a href="../_functions/default_emoticons.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns default set of emoticons supported by Moodle<BR>
</b><BR><b>return:</b> array of sdtClasses<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepare_emoticon_object" onClick="logFunction('prepare_emoticon_object', 'moodlelib.php.source.html#l7090')" href="moodlelib.php.source.html#l7090">prepare_emoticon_object</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/imagename.html">$imagename</a>, <a href="../_variables/altidentifier.html">$altidentifier</a> = null,<a href="../_variables/altcomponent.html">$altcomponent</a> = 'core_pix', <a href="../_variables/imagecomponent.html">$imagecomponent</a> = 'core')&nbsp;&nbsp;
<a href="../_functions/prepare_emoticon_object.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper method preparing the stdClass with the emoticon properties<BR>
</b><BR><b>param:</b> string|array $text or array of strings<br>
<b>param:</b> string $imagename to be used by {@link pix_emoticon}<br>
<b>param:</b> string $altidentifier alternative string identifier, null for no alt<br>
<b>param:</b> string $altcomponent where the alternative string is defined<br>
<b>param:</b> string $imagecomponent to be used by {@link pix_emoticon}<br>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="rc4encrypt" onClick="logFunction('rc4encrypt', 'moodlelib.php.source.html#l7114')" href="moodlelib.php.source.html#l7114">rc4encrypt</a>(<a href="../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../_functions/rc4encrypt.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>rc4encrypt<BR>
</b><BR><b>param:</b> string $data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data to encrypt.<br>
<b>return:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The now encrypted data.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="rc4decrypt" onClick="logFunction('rc4decrypt', 'moodlelib.php.source.html#l7124')" href="moodlelib.php.source.html#l7124">rc4decrypt</a>(<a href="../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../_functions/rc4decrypt.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>rc4decrypt<BR>
</b><BR><b>param:</b> string $data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Data to decrypt.<br>
<b>return:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The now decrypted data.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="endecrypt" onClick="logFunction('endecrypt', 'moodlelib.php.source.html#l7134')" href="moodlelib.php.source.html#l7134">endecrypt</a>(<a href="../_variables/pwd.html">$pwd</a>, <a href="../_variables/data.html">$data</a>, <a href="../_variables/case.html">$case</a>)&nbsp;&nbsp;
<a href="../_functions/endecrypt.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Based on a class by Mukul Sabharwal [mukulsabharwal @ yahoo.com]<BR>
</b><BR><b>param:</b> string $pwd The password to use when encrypting or decrypting<br>
<b>param:</b> string $data The data to be decrypted/encrypted<br>
<b>param:</b> string $case Either 'de' for decrypt or '' for encrypt<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_valid_plugin_name" onClick="logFunction('is_valid_plugin_name', 'moodlelib.php.source.html#l7195')" href="moodlelib.php.source.html#l7195">is_valid_plugin_name</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/is_valid_plugin_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method validates a plug name. It is much faster than calling clean_param.<BR>
</b><BR><b>param:</b> string $name a string that might be a plugin name.<br>
<b>return:</b> bool if this string is a valid plugin name.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_plugin_list_with_function" onClick="logFunction('get_plugin_list_with_function', 'moodlelib.php.source.html#l7206')" href="moodlelib.php.source.html#l7206">get_plugin_list_with_function</a>(<a href="../_variables/plugintype.html">$plugintype</a>, <a href="../_variables/function.html">$function</a>, <a href="../_variables/file.html">$file</a> = 'lib.php')&nbsp;&nbsp;
<a href="../_functions/get_plugin_list_with_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a list of all the plugins of a given type that define a certain API function<BR>
in a certain file. The plugin component names and function names are returned.<BR>
</b><BR><b>param:</b> string $plugintype the type of plugin, e.g. 'mod' or 'report'.<br>
<b>param:</b> string $function the part of the name of the function after the<br>
<b>param:</b> string $file the name of file within the plugin that defines the<br>
<b>return:</b> array with frankenstyle plugin names as keys (e.g. 'report_courselist', 'mod_forum')<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_plugins_with_function" onClick="logFunction('get_plugins_with_function', 'moodlelib.php.source.html#l7249')" href="moodlelib.php.source.html#l7249">get_plugins_with_function</a>(<a href="../_variables/function.html">$function</a>, <a href="../_variables/file.html">$file</a> = 'lib.php', <a href="../_variables/include.html">$include</a> = true)&nbsp;&nbsp;
<a href="../_functions/get_plugins_with_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a list of all the plugins that define a certain API function in a certain file.<BR>
</b><BR><b>param:</b> string $function the part of the name of the function after the<br>
<b>param:</b> string $file the name of file within the plugin that defines the<br>
<b>param:</b> bool $include Whether to include the files that contain the functions or not.<br>
<b>return:</b> array with [plugintype][plugin] = functionname<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_list_of_plugins" onClick="logFunction('get_list_of_plugins', 'moodlelib.php.source.html#l7336')" href="moodlelib.php.source.html#l7336">get_list_of_plugins</a>(<a href="../_variables/directory.html">$directory</a>='mod', <a href="../_variables/exclude.html">$exclude</a>='', <a href="../_variables/basedir.html">$basedir</a>='')&nbsp;&nbsp;
<a href="../_functions/get_list_of_plugins.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Lists plugin-like directories within specified directory<BR>
</b><BR>This function was originally used for standard Moodle plugins, please use<BR>
new core_component::get_plugin_list() now.<BR>
<BR>
This function is used for general directory listing and backwards compatility.<BR>
<BR>
<b>param:</b> string $directory relative directory from root<br>
<b>param:</b> string $exclude dir name to exclude from the list (defaults to none)<br>
<b>param:</b> string $basedir full path to the base dir where $plugin resides (defaults to $CFG-&gt;dirroot)<br>
<b>return:</b> array Sorted array of directory names found under the requested parameters<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plugin_callback" onClick="logFunction('plugin_callback', 'moodlelib.php.source.html#l7396')" href="moodlelib.php.source.html#l7396">plugin_callback</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/name.html">$name</a>, <a href="../_variables/feature.html">$feature</a>, <a href="../_variables/action.html">$action</a>, <a href="../_variables/params.html">$params</a> = null, <a href="../_variables/default.html">$default</a> = null)&nbsp;&nbsp;
<a href="../_functions/plugin_callback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invoke plugin's callback functions<BR>
</b><BR><b>param:</b> string $type plugin type e.g. 'mod'<br>
<b>param:</b> string $name plugin name<br>
<b>param:</b> string $feature feature name<br>
<b>param:</b> string $action feature's action<br>
<b>param:</b> array $params parameters of callback function, should be an array<br>
<b>param:</b> mixed $default default value if callback function hasn't been defined, or if it retursn null.<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="component_callback" onClick="logFunction('component_callback', 'moodlelib.php.source.html#l7413')" href="moodlelib.php.source.html#l7413">component_callback</a>(<a href="../_variables/component.html">$component</a>, <a href="../_variables/function.html">$function</a>, array <a href="../_variables/params.html">$params</a> = array()&nbsp;&nbsp;
<a href="../_functions/component_callback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invoke component's callback functions<BR>
</b><BR><b>param:</b> string $component frankenstyle component name, e.g. 'mod_quiz'<br>
<b>param:</b> string $function the rest of the function name, e.g. 'cron' will end up calling 'mod_quiz_cron'<br>
<b>param:</b> array $params parameters of callback function<br>
<b>param:</b> mixed $default default value if callback function hasn't been defined, or if it retursn null.<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="component_callback_exists" onClick="logFunction('component_callback_exists', 'moodlelib.php.source.html#l7438')" href="moodlelib.php.source.html#l7438">component_callback_exists</a>(<a href="../_variables/component.html">$component</a>, <a href="../_variables/function.html">$function</a>)&nbsp;&nbsp;
<a href="../_functions/component_callback_exists.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine if a component callback exists and return the function name to call. Note that this<BR>
function will include the required library files so that the functioname returned can be<BR>
called directly.<BR>
</b><BR><b>param:</b> string $component frankenstyle component name, e.g. 'mod_quiz'<br>
<b>param:</b> string $function the rest of the function name, e.g. 'cron' will end up calling 'mod_quiz_cron'<br>
<b>return:</b> mixed Complete function name to call if the callback exists or false if it doesn't.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plugin_supports" onClick="logFunction('plugin_supports', 'moodlelib.php.source.html#l7486')" href="moodlelib.php.source.html#l7486">plugin_supports</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/name.html">$name</a>, <a href="../_variables/feature.html">$feature</a>, <a href="../_variables/default.html">$default</a> = null)&nbsp;&nbsp;
<a href="../_functions/plugin_supports.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether a plugin supports a specified feature.<BR>
</b><BR><b>param:</b> string $type Plugin type e.g. 'mod'<br>
<b>param:</b> string $name Plugin name e.g. 'forum'<br>
<b>param:</b> string $feature Feature code (FEATURE_xx constant)<br>
<b>param:</b> mixed $default default value if feature support unknown<br>
<b>return:</b> mixed Feature result (false if not supported, null if feature is unknown,<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_php_version" onClick="logFunction('check_php_version', 'moodlelib.php.source.html#l7549')" href="moodlelib.php.source.html#l7549">check_php_version</a>(<a href="../_variables/version.html">$version</a>='5.2.4')&nbsp;&nbsp;
<a href="../_functions/check_php_version.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if the current version of PHP is greater that the specified one.<BR>
</b><BR><b>param:</b> string $version The version of php being tested.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="moodle_needs_upgrading" onClick="logFunction('moodle_needs_upgrading', 'moodlelib.php.source.html#l7561')" href="moodlelib.php.source.html#l7561">moodle_needs_upgrading</a>()&nbsp;&nbsp;
<a href="../_functions/moodle_needs_upgrading.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine if moodle installation requires update.<BR>
</b><BR>Checks version numbers of main code and all plugins to see<BR>
if there are any mismatches.<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="moodle_major_version" onClick="logFunction('moodle_major_version', 'moodlelib.php.source.html#l7589')" href="moodlelib.php.source.html#l7589">moodle_major_version</a>(<a href="../_variables/fromdisk.html">$fromdisk</a> = false)&nbsp;&nbsp;
<a href="../_functions/moodle_major_version.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the major version of this site<BR>
</b><BR>Moodle version numbers consist of three numbers separated by a dot, for<BR>
example 1.9.11 or 2.0.2. The first two numbers, like 1.9 or 2.0, represent so<BR>
called major version. This function extracts the major version from either<BR>
$CFG-&gt;release (default) or eventually from the $release variable defined in<BR>
the main version.php.<BR>
<BR>
<b>param:</b> bool $fromdisk should the version if source code files be used<br>
<b>return:</b> string|false the major version like '2.3', false if could not be determined<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="moodle_setlocale" onClick="logFunction('moodle_setlocale', 'moodlelib.php.source.html#l7627')" href="moodlelib.php.source.html#l7627">moodle_setlocale</a>(<a href="../_variables/locale.html">$locale</a>='')&nbsp;&nbsp;
<a href="../_functions/moodle_setlocale.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the system locale<BR>
</b><BR><b>param:</b> string $locale Can be used to force a locale<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_words" onClick="logFunction('count_words', 'moodlelib.php.source.html#l7697')" href="moodlelib.php.source.html#l7697">count_words</a>(<a href="../_variables/string.html">$string</a>)&nbsp;&nbsp;
<a href="../_functions/count_words.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count words in a string.<BR>
</b><BR>Words are defined as things between whitespace.<BR>
<BR>
<b>param:</b> string $string The text to be searched for words.<br>
<b>return:</b> int The count of words in the specified string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_letters" onClick="logFunction('count_letters', 'moodlelib.php.source.html#l7720')" href="moodlelib.php.source.html#l7720">count_letters</a>(<a href="../_variables/string.html">$string</a>)&nbsp;&nbsp;
<a href="../_functions/count_letters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count letters in a string.<BR>
</b><BR>Letters are defined as chars not in tags and different from whitespace.<BR>
<BR>
<b>param:</b> string $string The text to be searched for letters.<br>
<b>return:</b> int The count of letters in the specified text.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="random_string" onClick="logFunction('random_string', 'moodlelib.php.source.html#l7736')" href="moodlelib.php.source.html#l7736">random_string</a>(<a href="../_variables/length.html">$length</a>=15)&nbsp;&nbsp;
<a href="../_functions/random_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate and return a random string of the specified length.<BR>
</b><BR><b>param:</b> int $length The length of the string to be created.<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="complex_random_string" onClick="logFunction('complex_random_string', 'moodlelib.php.source.html#l7756')" href="moodlelib.php.source.html#l7756">complex_random_string</a>(<a href="../_variables/length.html">$length</a>=null)&nbsp;&nbsp;
<a href="../_functions/complex_random_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a complex random string (useful for md5 salts)<BR>
</b><BR>This function is based on the above {@link random_string()} however it uses a<BR>
larger pool of characters and generates a string between 24 and 32 characters<BR>
<BR>
<b>param:</b> int $length Optional if set generates a string to exactly this length<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="random_bytes_emulate" onClick="logFunction('random_bytes_emulate', 'moodlelib.php.source.html#l7781')" href="moodlelib.php.source.html#l7781">random_bytes_emulate</a>(<a href="../_variables/length.html">$length</a>)&nbsp;&nbsp;
<a href="../_functions/random_bytes_emulate.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Try to generates cryptographically secure pseudo-random bytes.<BR>
</b><BR>Note this is achieved by fallbacking between:<BR>
- PHP 7 random_bytes().<BR>
- OpenSSL openssl_random_pseudo_bytes().<BR>
- In house random generator getting its entropy from various, hard to guess, pseudo-random sources.<BR>
<BR>
<b>param:</b> int $length requested length in bytes<br>
<b>return:</b> string binary data<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="shorten_text" onClick="logFunction('shorten_text', 'moodlelib.php.source.html#l7822')" href="moodlelib.php.source.html#l7822">shorten_text</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/ideal.html">$ideal</a>=30, <a href="../_variables/exact.html">$exact</a> = false, <a href="../_variables/ending.html">$ending</a>='...')&nbsp;&nbsp;
<a href="../_functions/shorten_text.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given some text (which may contain HTML) and an ideal length,<BR>
this function truncates the text neatly on a word boundary if possible<BR>
</b><BR><b>param:</b> string $text text to be shortened<br>
<b>param:</b> int $ideal ideal string length<br>
<b>param:</b> boolean $exact if false, $text will not be cut mid-word<br>
<b>param:</b> string $ending The string to append if the passed string is truncated<br>
<b>return:</b> string $truncate shortened string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getweek" onClick="logFunction('getweek', 'moodlelib.php.source.html#l7980')" href="moodlelib.php.source.html#l7980">getweek</a>(<a href="../_variables/startdate.html">$startdate</a>, <a href="../_variables/thedate.html">$thedate</a>)&nbsp;&nbsp;
<a href="../_functions/getweek.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given dates in seconds, how many weeks is the date from startdate<BR>
The first week is 1, the second 2 etc ...<BR>
</b><BR><b>param:</b> int $startdate Timestamp for the start date<br>
<b>param:</b> int $thedate Timestamp for the end date<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_password" onClick="logFunction('generate_password', 'moodlelib.php.source.html#l7996')" href="moodlelib.php.source.html#l7996">generate_password</a>(<a href="../_variables/maxlen.html">$maxlen</a>=10)&nbsp;&nbsp;
<a href="../_functions/generate_password.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a randomly generated password of length $maxlen.&nbsp;&nbsp;inspired by<BR>
</b><BR>{@link http://www.phpbuilder.com/columns/jesus19990502.php3} and<BR>
{@link http://es2.php.net/manual/en/function.str-shuffle.php#73254}<BR>
<BR>
<b>param:</b> int $maxlen&nbsp;&nbsp;The maximum size of the password being generated.<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_float" onClick="logFunction('format_float', 'moodlelib.php.source.html#l8061')" href="moodlelib.php.source.html#l8061">format_float</a>(<a href="../_variables/float.html">$float</a>, <a href="../_variables/decimalpoints.html">$decimalpoints</a>=1, <a href="../_variables/localized.html">$localized</a>=true, <a href="../_variables/stripzeros.html">$stripzeros</a>=false)&nbsp;&nbsp;
<a href="../_functions/format_float.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a float, prints it nicely.<BR>
Localized floats must not be used in calculations!<BR>
</b><BR>The stripzeros feature is intended for making numbers look nicer in small<BR>
areas where it is not necessary to indicate the degree of accuracy by showing<BR>
ending zeros. If you turn it on with $decimalpoints set to 3, for example,<BR>
then it will display '5.4' instead of '5.400' or '5' instead of '5.000'.<BR>
<BR>
<b>param:</b> float $float The float to print<br>
<b>param:</b> int $decimalpoints The number of decimal places to print.<br>
<b>param:</b> bool $localized use localized decimal separator<br>
<b>param:</b> bool $stripzeros If true, removes final zeros after decimal point<br>
<b>return:</b> string locale float<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unformat_float" onClick="logFunction('unformat_float', 'moodlelib.php.source.html#l8093')" href="moodlelib.php.source.html#l8093">unformat_float</a>(<a href="../_variables/localefloat.html">$localefloat</a>, <a href="../_variables/strict.html">$strict</a> = false)&nbsp;&nbsp;
<a href="../_functions/unformat_float.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts locale specific floating point/comma number back to standard PHP float value<BR>
Do NOT try to do any math operations before this conversion on any user submitted floats!<BR>
</b><BR><b>param:</b> string $localefloat locale aware float representation<br>
<b>param:</b> bool $strict If true, then check the input and return false if it is not a valid number.<br>
<b>return:</b> mixed float|bool - false or the parsed float.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="swapshuffle" onClick="logFunction('swapshuffle', 'moodlelib.php.source.html#l8118')" href="moodlelib.php.source.html#l8118">swapshuffle</a>(<a href="../_variables/array.html">$array</a>)&nbsp;&nbsp;
<a href="../_functions/swapshuffle.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a simple array, this shuffles it up just like shuffle()<BR>
Unlike PHP's shuffle() this function works on any machine.<BR>
</b><BR><b>param:</b> array $array The array to be rearranged<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="swapshuffle_assoc" onClick="logFunction('swapshuffle_assoc', 'moodlelib.php.source.html#l8137')" href="moodlelib.php.source.html#l8137">swapshuffle_assoc</a>(<a href="../_variables/array.html">$array</a>)&nbsp;&nbsp;
<a href="../_functions/swapshuffle_assoc.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Like {@link swapshuffle()}, but works on associative arrays<BR>
</b><BR><b>param:</b> array $array The associative array to be rearranged<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="draw_rand_array" onClick="logFunction('draw_rand_array', 'moodlelib.php.source.html#l8154')" href="moodlelib.php.source.html#l8154">draw_rand_array</a>(<a href="../_variables/array.html">$array</a>, <a href="../_variables/draws.html">$draws</a>)&nbsp;&nbsp;
<a href="../_functions/draw_rand_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an arbitrary array, and a number of draws,<BR>
this function returns an array with that amount<BR>
of items.&nbsp;&nbsp;The indexes are retained.<BR>
</b><BR><b>param:</b> array $array<br>
<b>param:</b> int $draws<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="microtime_diff" onClick="logFunction('microtime_diff', 'moodlelib.php.source.html#l8190')" href="moodlelib.php.source.html#l8190">microtime_diff</a>(<a href="../_variables/a.html">$a</a>, <a href="../_variables/b.html">$b</a>)&nbsp;&nbsp;
<a href="../_functions/microtime_diff.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculate the difference between two microtimes<BR>
</b><BR><b>param:</b> string $a The first Microtime<br>
<b>param:</b> string $b The second Microtime<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_menu_from_list" onClick="logFunction('make_menu_from_list', 'moodlelib.php.source.html#l8203')" href="moodlelib.php.source.html#l8203">make_menu_from_list</a>(<a href="../_variables/list.html">$list</a>, <a href="../_variables/separator.html">$separator</a>=',')&nbsp;&nbsp;
<a href="../_functions/make_menu_from_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a list (eg a,b,c,d,e) this function returns<BR>
an array of 1-&gt;a, 2-&gt;b, 3-&gt;c etc<BR>
</b><BR><b>param:</b> string $list The string to explode into array bits<br>
<b>param:</b> string $separator The separator used within the list string<br>
<b>return:</b> array The now assembled array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_grades_menu" onClick="logFunction('make_grades_menu', 'moodlelib.php.source.html#l8220')" href="moodlelib.php.source.html#l8220">make_grades_menu</a>(<a href="../_variables/gradingtype.html">$gradingtype</a>)&nbsp;&nbsp;
<a href="../_functions/make_grades_menu.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates an array that represents all the current grades that<BR>
can be chosen using the given grading type.<BR>
</b><BR>Negative numbers<BR>
are scales, zero is no grade, and positive numbers are maximum<BR>
grades.<BR>
<BR>
<b>param:</b> int $gradingtype<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_unique_id_code" onClick="logFunction('make_unique_id_code', 'moodlelib.php.source.html#l8250')" href="moodlelib.php.source.html#l8250">make_unique_id_code</a>(<a href="../_variables/extra.html">$extra</a> = '')&nbsp;&nbsp;
<a href="../_functions/make_unique_id_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>make_unique_id_code<BR>
</b><BR><b>param:</b> string $extra Extra string to append to the end of the code<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="address_in_subnet" onClick="logFunction('address_in_subnet', 'moodlelib.php.source.html#l8284')" href="moodlelib.php.source.html#l8284">address_in_subnet</a>(<a href="../_variables/addr.html">$addr</a>, <a href="../_variables/subnetstr.html">$subnetstr</a>)&nbsp;&nbsp;
<a href="../_functions/address_in_subnet.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to check the passed address is within the passed subnet<BR>
</b><BR>The parameter is a comma separated string of subnet definitions.<BR>
Subnet strings can be in one of three formats:<BR>
1: xxx.xxx.xxx.xxx/nn or xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx/nnn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(number of bits in net mask)<BR>
2: xxx.xxx.xxx.xxx-yyy or&nbsp;&nbsp;xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx::xxxx-yyyy (a range of IP addresses in the last group)<BR>
3: xxx.xxx or xxx.xxx. or xxx:xxx:xxxx or xxx:xxx:xxxx.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(incomplete address, a bit non-technical ;-)<BR>
Code for type 1 modified from user posted comments by mediator at<BR>
{@link http://au.php.net/manual/en/function.ip2long.php}<BR>
<BR>
<b>param:</b> string $addr&nbsp;&nbsp;&nbsp;&nbsp;The address you are checking<br>
<b>param:</b> string $subnetstr&nbsp;&nbsp;&nbsp;&nbsp;The string of subnet addresses<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mtrace" onClick="logFunction('mtrace', 'moodlelib.php.source.html#l8509')" href="moodlelib.php.source.html#l8509">mtrace</a>(<a href="../_variables/string.html">$string</a>, <a href="../_variables/eol.html">$eol</a>=&quot;\n&quot;, <a href="../_variables/sleep.html">$sleep</a>=0)&nbsp;&nbsp;
<a href="../_functions/mtrace.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>For outputting debugging info<BR>
</b><BR><b>param:</b> string $string The string to write<br>
<b>param:</b> string $eol The end of line char(s) to use<br>
<b>param:</b> string $sleep Period to make the application sleep<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cleardoubleslashes" onClick="logFunction('cleardoubleslashes', 'moodlelib.php.source.html#l8533')" href="moodlelib.php.source.html#l8533">cleardoubleslashes</a>(<a href="../_variables/path.html">$path</a>)&nbsp;&nbsp;
<a href="../_functions/cleardoubleslashes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Replace 1 or more slashes or backslashes to 1 slash<BR>
</b><BR><b>param:</b> string $path The path to strip<br>
<b>return:</b> string the path with double slashes removed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remoteip_in_list" onClick="logFunction('remoteip_in_list', 'moodlelib.php.source.html#l8543')" href="moodlelib.php.source.html#l8543">remoteip_in_list</a>(<a href="../_variables/list.html">$list</a>)&nbsp;&nbsp;
<a href="../_functions/remoteip_in_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Is current ip in give list?<BR>
</b><BR><b>param:</b> string $list<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getremoteaddr" onClick="logFunction('getremoteaddr', 'moodlelib.php.source.html#l8569')" href="moodlelib.php.source.html#l8569">getremoteaddr</a>(<a href="../_variables/default.html">$default</a>='0.0.0.0')&nbsp;&nbsp;
<a href="../_functions/getremoteaddr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns most reliable client address<BR>
</b><BR><b>param:</b> string $default If an address can't be determined, then return this<br>
<b>return:</b> string The remote IP address<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cleanremoteaddr" onClick="logFunction('cleanremoteaddr', 'moodlelib.php.source.html#l8621')" href="moodlelib.php.source.html#l8621">cleanremoteaddr</a>(<a href="../_variables/addr.html">$addr</a>, <a href="../_variables/compress.html">$compress</a>=false)&nbsp;&nbsp;
<a href="../_functions/cleanremoteaddr.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cleans an ip address. Internal addresses are now allowed.<BR>
(Originally local addresses were not allowed.)<BR>
</b><BR><b>param:</b> string $addr IPv4 or IPv6 address<br>
<b>param:</b> bool $compress use IPv6 address compression<br>
<b>return:</b> string normalised ip address string, null if error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fullclone" onClick="logFunction('fullclone', 'moodlelib.php.source.html#l8726')" href="moodlelib.php.source.html#l8726">fullclone</a>(<a href="../_variables/thing.html">$thing</a>)&nbsp;&nbsp;
<a href="../_functions/fullclone.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will make a complete copy of anything it's given,<BR>
regardless of whether it's an object or not.<BR>
</b><BR><b>param:</b> mixed $thing Something you want cloned<br>
<b>return:</b> mixed What ever it is you passed it<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="message_popup_window" onClick="logFunction('message_popup_window', 'moodlelib.php.source.html#l8737')" href="moodlelib.php.source.html#l8737">message_popup_window</a>()&nbsp;&nbsp;
<a href="../_functions/message_popup_window.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If new messages are waiting for the current user, then insert<BR>
JavaScript to pop up the messaging window into the page<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="bounded_number" onClick="logFunction('bounded_number', 'moodlelib.php.source.html#l8834')" href="moodlelib.php.source.html#l8834">bounded_number</a>(<a href="../_variables/min.html">$min</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/max.html">$max</a>)&nbsp;&nbsp;
<a href="../_functions/bounded_number.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used to make sure that $min &lt;= $value &lt;= $max<BR>
</b><BR>Make sure that value is between min, and max<BR>
<BR>
<b>param:</b> int $min The minimum value<br>
<b>param:</b> int $value The value to check<br>
<b>param:</b> int $max The maximum value<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="array_is_nested" onClick="logFunction('array_is_nested', 'moodlelib.php.source.html#l8854')" href="moodlelib.php.source.html#l8854">array_is_nested</a>(<a href="../_variables/array.html">$array</a>)&nbsp;&nbsp;
<a href="../_functions/array_is_nested.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if there is a nested array within the passed array<BR>
</b><BR><b>param:</b> array $array<br>
<b>return:</b> bool true if there is a nested array false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_performance_info" onClick="logFunction('get_performance_info', 'moodlelib.php.source.html#l8869')" href="moodlelib.php.source.html#l8869">get_performance_info</a>()&nbsp;&nbsp;
<a href="../_functions/get_performance_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>get_performance_info() pairs up with init_performance_info()<BR>
loaded in setup.php. Returns an array with 'html' and 'txt'<BR>
values ready for use, and each of the individual stats provided<BR>
separately as well.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_dir" onClick="logFunction('remove_dir', 'moodlelib.php.source.html#l9041')" href="moodlelib.php.source.html#l9041">remove_dir</a>(<a href="../_variables/dir.html">$dir</a>, <a href="../_variables/contentonly.html">$contentonly</a>=false)&nbsp;&nbsp;
<a href="../_functions/remove_dir.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete directory or only its content<BR>
</b><BR><b>param:</b> string $dir directory path<br>
<b>param:</b> bool $contentonly<br>
<b>return:</b> bool success, true also if dir does not exist<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="object_property_exists" onClick="logFunction('object_property_exists', 'moodlelib.php.source.html#l9076')" href="moodlelib.php.source.html#l9076">object_property_exists</a>( <a href="../_variables/obj.html">$obj</a>, <a href="../_variables/property.html">$property</a> )&nbsp;&nbsp;
<a href="../_functions/object_property_exists.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Detect if an object or a class contains a given property<BR>
will take an actual object or the name of a class<BR>
</b><BR><b>param:</b> mix $obj Name of class or real object to test<br>
<b>param:</b> string $property name of property to find<br>
<b>return:</b> bool true if property exists<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="convert_to_array" onClick="logFunction('convert_to_array', 'moodlelib.php.source.html#l9093')" href="moodlelib.php.source.html#l9093">convert_to_array</a>(<a href="../_variables/var.html">$var</a>)&nbsp;&nbsp;
<a href="../_functions/convert_to_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts an object into an associative array<BR>
</b><BR>This function converts an object into an associative array by iterating<BR>
over its public properties. Because this function uses the foreach<BR>
construct, Iterators are respected. It works recursively on arrays of objects.<BR>
Arrays and simple values are returned as is.<BR>
<BR>
If class has magic properties, it can implement IteratorAggregate<BR>
and return all available properties in getIterator()<BR>
<BR>
<b>param:</b> mixed $var<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="custom_script_path" onClick="logFunction('custom_script_path', 'moodlelib.php.source.html#l9123')" href="moodlelib.php.source.html#l9123">custom_script_path</a>()&nbsp;&nbsp;
<a href="../_functions/custom_script_path.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Detect a custom script replacement in the data directory that will<BR>
replace an existing moodle script<BR>
</b><BR><b>return:</b> string|bool full path name if a custom script exists, false if no custom script exists<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_mnet_remote_user" onClick="logFunction('is_mnet_remote_user', 'moodlelib.php.source.html#l9147')" href="moodlelib.php.source.html#l9147">is_mnet_remote_user</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/is_mnet_remote_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether or not the user object is a remote MNET user. This function<BR>
is in moodlelib because it does not rely on loading any of the MNET code.<BR>
</b><BR><b>param:</b> object $user A valid user object<br>
<b>return:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if the user is from a remote Moodle.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setup_lang_from_browser" onClick="logFunction('setup_lang_from_browser', 'moodlelib.php.source.html#l9167')" href="moodlelib.php.source.html#l9167">setup_lang_from_browser</a>()&nbsp;&nbsp;
<a href="../_functions/setup_lang_from_browser.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will search for browser prefereed languages, setting Moodle<BR>
to use the best one available if $SESSION-&gt;lang is undefined<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_proxybypass" onClick="logFunction('is_proxybypass', 'moodlelib.php.source.html#l9216')" href="moodlelib.php.source.html#l9216">is_proxybypass</a>( <a href="../_variables/url.html">$url</a> )&nbsp;&nbsp;
<a href="../_functions/is_proxybypass.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if $url matches anything in proxybypass list<BR>
</b><BR>Any errors just result in the proxy being used (least bad)<BR>
<BR>
<b>param:</b> string $url url to check<br>
<b>return:</b> boolean true if we should bypass the proxy<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_newnav" onClick="logFunction('is_newnav', 'moodlelib.php.source.html#l9263')" href="moodlelib.php.source.html#l9263">is_newnav</a>(<a href="../_variables/navigation.html">$navigation</a>)&nbsp;&nbsp;
<a href="../_functions/is_newnav.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if the passed navigation is of the new style<BR>
</b><BR><b>param:</b> mixed $navigation<br>
<b>return:</b> bool true for yes false for no<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="in_object_vars" onClick="logFunction('in_object_vars', 'moodlelib.php.source.html#l9277')" href="moodlelib.php.source.html#l9277">in_object_vars</a>(<a href="../_variables/var.html">$var</a>, <a href="../_variables/object.html">$object</a>)&nbsp;&nbsp;
<a href="../_functions/in_object_vars.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the given variable name is defined as a variable within the given object.<BR>
</b><BR>This will NOT work with stdClass objects, which have no class variables.<BR>
<BR>
<b>param:</b> string $var The variable name<br>
<b>param:</b> object $object The object to check<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="object_array_unique" onClick="logFunction('object_array_unique', 'moodlelib.php.source.html#l9292')" href="moodlelib.php.source.html#l9292">object_array_unique</a>(<a href="../_variables/array.html">$array</a>, <a href="../_variables/keepkeyassoc.html">$keepkeyassoc</a> = true)&nbsp;&nbsp;
<a href="../_functions/object_array_unique.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array without repeated objects.<BR>
This function is similar to array_unique, but for arrays that have objects as values<BR>
</b><BR><b>param:</b> array $array<br>
<b>param:</b> bool $keepkeyassoc<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_primary_admin" onClick="logFunction('is_primary_admin', 'moodlelib.php.source.html#l9324')" href="moodlelib.php.source.html#l9324">is_primary_admin</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/is_primary_admin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Is a userid the primary administrator?<BR>
</b><BR><b>param:</b> int $userid int id of user to check<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_site_identifier" onClick="logFunction('get_site_identifier', 'moodlelib.php.source.html#l9340')" href="moodlelib.php.source.html#l9340">get_site_identifier</a>()&nbsp;&nbsp;
<a href="../_functions/get_site_identifier.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the site identifier<BR>
</b><BR><b>return:</b> string $CFG-&gt;siteidentifier, first making sure it is properly initialised.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_consecutive_identical_characters" onClick="logFunction('check_consecutive_identical_characters', 'moodlelib.php.source.html#l9355')" href="moodlelib.php.source.html#l9355">check_consecutive_identical_characters</a>(<a href="../_variables/password.html">$password</a>, <a href="../_variables/maxchars.html">$maxchars</a>)&nbsp;&nbsp;
<a href="../_functions/check_consecutive_identical_characters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check whether the given password has no more than the specified<BR>
number of consecutive identical characters.<BR>
</b><BR><b>param:</b> string $password&nbsp;&nbsp;&nbsp;password to be checked against the password policy<br>
<b>param:</b> integer $maxchars&nbsp;&nbsp;maximum number of consecutive identical characters<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="partial" onClick="logFunction('partial', 'moodlelib.php.source.html#l9390')" href="moodlelib.php.source.html#l9390">partial</a>()&nbsp;&nbsp;
<a href="../_functions/partial.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to do partial function binding.<BR>
so we can use it for preg_replace_callback, for example<BR>
this works with php functions, user functions, static methods and class methods<BR>
it returns you a callback that you can pass on like so:<BR>
</b><BR>$callback = partial('somefunction', $arg1, $arg2);<BR>
or<BR>
$callback = partial(array('someclass', 'somestaticmethod'), $arg1, $arg2);<BR>
or even<BR>
$obj = new someclass();<BR>
$callback = partial(array($obj, 'somemethod'), $arg1, $arg2);<BR>
<BR>
and then the arguments that are passed through at calltime are appended to the argument list.<BR>
<BR>
<b>param:</b> mixed $function a php callback<br>
<b>param:</b> mixed $arg1,... $argv arguments to partially bind with<br>
<b>return:</b> array Array callback<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="partial"><b>partial</b></a>&nbsp;&nbsp;- <a href="../_classes/partial.html"><small>X-Ref</small></a>
</p>
<b>Used to manage function binding.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'moodlelib.php.source.html#l9421')" href="moodlelib.php.source.html#l9421">__construct</a>(<a href="../_variables/func.html">$func</a>, <a href="../_variables/args.html">$args</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $func<br>
<b>param:</b> array $args<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="method" onClick="logFunction('method', 'moodlelib.php.source.html#l9430')" href="moodlelib.php.source.html#l9430">method</a>()&nbsp;&nbsp;
<a href="../_functions/method.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calls the callback function.<BR>
</b><BR><b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_mnet_environment" onClick="logFunction('get_mnet_environment', 'moodlelib.php.source.html#l9446')" href="moodlelib.php.source.html#l9446">get_mnet_environment</a>()&nbsp;&nbsp;
<a href="../_functions/get_mnet_environment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>helper function to load up and initialise the mnet environment<BR>
this must be called before you use mnet functions.<BR>
</b><BR><b>return:</b> mnet_environment the equivalent of old $MNET global<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_mnet_remote_client" onClick="logFunction('get_mnet_remote_client', 'moodlelib.php.source.html#l9463')" href="moodlelib.php.source.html#l9463">get_mnet_remote_client</a>()&nbsp;&nbsp;
<a href="../_functions/get_mnet_remote_client.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>during xmlrpc server code execution, any code wishing to access<BR>
information about the remote peer must use this to get it.<BR>
</b><BR><b>return:</b> mnet_remote_client the equivalent of old $MNETREMOTE_CLIENT global<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_mnet_remote_client" onClick="logFunction('set_mnet_remote_client', 'moodlelib.php.source.html#l9481')" href="moodlelib.php.source.html#l9481">set_mnet_remote_client</a>(<a href="../_variables/client.html">$client</a>)&nbsp;&nbsp;
<a href="../_functions/set_mnet_remote_client.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>during the xmlrpc server code execution, this will be called<BR>
to setup the object returned by {@link get_mnet_remote_client}<BR>
</b><BR><b>param:</b> mnet_remote_client $client the client to set up<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mnet_get_idp_jump_url" onClick="logFunction('mnet_get_idp_jump_url', 'moodlelib.php.source.html#l9496')" href="moodlelib.php.source.html#l9496">mnet_get_idp_jump_url</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/mnet_get_idp_jump_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>return the jump url for a given remote user<BR>
this is used for rewriting forum post links in emails, etc<BR>
</b><BR><b>param:</b> stdclass $user the user to get the idp url for<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_home_page" onClick="logFunction('get_home_page', 'moodlelib.php.source.html#l9514')" href="moodlelib.php.source.html#l9514">get_home_page</a>()&nbsp;&nbsp;
<a href="../_functions/get_home_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the homepage to use for the current user<BR>
</b><BR><b>return:</b> int One of HOMEPAGE_*<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_display_name_for_list" onClick="logFunction('get_course_display_name_for_list', 'moodlelib.php.source.html#l9532')" href="moodlelib.php.source.html#l9532">get_course_display_name_for_list</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/get_course_display_name_for_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the name of a course to be displayed when showing a list of courses.<BR>
By default this is just $course-&gt;fullname but user can configure it. The<BR>
result of this function should be passed through print_string.<BR>
</b><BR><b>param:</b> stdClass|course_in_list $course Moodle course object<br>
<b>return:</b> string Display name of course (either fullname or short + fullname)<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="lang_string"><b>lang_string</b></a>&nbsp;&nbsp;- <a href="../_classes/lang_string.html"><small>X-Ref</small></a>
</p>
<b>The lang_string class<BR>
</b><br>
This special class is used to create an object representation of a string request.<BR>
It is special because processing doesn't occur until the object is first used.<BR>
The class was created especially to aid performance in areas where strings were<BR>
required to be generated but were not necessarily used.<BR>
As an example the admin tree when generated uses over 1500 strings, of which<BR>
normally only 1/3 are ever actually printed at any time.<BR>
The performance advantage is achieved by not actually processing strings that<BR>
arn't being used, as such reducing the processing required for the page.<BR>
<BR>
How to use the lang_string class?<BR>
There are two methods of using the lang_string class, first through the<BR>
forth argument of the get_string function, and secondly directly.<BR>
The following are examples of both.<BR>
1. Through get_string calls e.g.<BR>
$string = get_string($identifier, $component, $a, true);<BR>
$string = get_string('yes', 'moodle', null, true);<BR>
2. Direct instantiation<BR>
$string = new lang_string($identifier, $component, $a, $lang);<BR>
$string = new lang_string('yes');<BR>
<BR>
How do I use a lang_string object?<BR>
The lang_string object makes use of a magic __toString method so that you<BR>
are able to use the object exactly as you would use a string in most cases.<BR>
This means you are able to collect it into a variable and then directly<BR>
echo it, or concatenate it into another string, or similar.<BR>
The other thing you can do is manually get the string by calling the<BR>
lang_strings out method e.g.<BR>
$string = new lang_string('yes');<BR>
$string-&gt;out();<BR>
Also worth noting is that the out method can take one argument, $lang which<BR>
allows the developer to change the language on the fly.<BR>
<BR>
When should I use a lang_string object?<BR>
The lang_string object is designed to be used in any situation where a<BR>
string may not be needed, but needs to be generated.<BR>
The admin tree is a good example of where lang_string objects should be<BR>
used.<BR>
A more practical example would be any class that requries strings that may<BR>
not be printed (after all classes get renderer by renderers and who knows<BR>
what they will do ;))<BR>
<BR>
When should I not use a lang_string object?<BR>
Don't use lang_strings when you are going to use a string immediately.<BR>
There is no need as it will be processed immediately and there will be no<BR>
advantage, and in fact perhaps a negative hit as a class has to be<BR>
instantiated for a lang_string object, however get_string won't require<BR>
that.<BR>
<BR>
Limitations:<BR>
1. You cannot use a lang_string object as an array offset. Doing so will<BR>
result in PHP throwing an error. (You can use it as an object property!)<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'moodlelib.php.source.html#l9632')" href="moodlelib.php.source.html#l9632">__construct</a>(<a href="../_variables/identifier.html">$identifier</a>, <a href="../_variables/component.html">$component</a> = '', <a href="../_variables/a.html">$a</a> = null, <a href="../_variables/lang.html">$lang</a> = null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs a lang_string object<BR>
</b><BR>This function should do as little processing as possible to ensure the best<BR>
performance for strings that won't be used.<BR>
<BR>
<b>param:</b> string $identifier The strings identifier<br>
<b>param:</b> string $component The strings component<br>
<b>param:</b> stdClass|array $a Any arguments the string requires<br>
<b>param:</b> string $lang The language to use when processing the string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_string" onClick="logFunction('get_string', 'moodlelib.php.source.html#l9695')" href="moodlelib.php.source.html#l9695">get_string</a>()&nbsp;&nbsp;
<a href="../_functions/get_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Processes the string.<BR>
</b><BR>This function actually processes the string, stores it in the string property<BR>
and then returns it.<BR>
You will notice that this function is VERY similar to the get_string method.<BR>
That is because it is pretty much doing the same thing.<BR>
However as this function is an upgrade it isn't as tolerant to backwards<BR>
compatibility.<BR>
<BR>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="out" onClick="logFunction('out', 'moodlelib.php.source.html#l9729')" href="moodlelib.php.source.html#l9729">out</a>(<a href="../_variables/lang.html">$lang</a> = null)&nbsp;&nbsp;
<a href="../_functions/out.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the string<BR>
</b><BR><b>param:</b> string $lang The langauge to use when processing the string<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__tostring" onClick="logFunction('__tostring', 'moodlelib.php.source.html#l9747')" href="moodlelib.php.source.html#l9747">__toString</a>()&nbsp;&nbsp;
<a href="../_functions/__tostring.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic __toString method for printing a string<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__set_state" onClick="logFunction('__set_state', 'moodlelib.php.source.html#l9756')" href="moodlelib.php.source.html#l9756">__set_state</a>()&nbsp;&nbsp;
<a href="../_functions/__set_state.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic __set_state method used for var_export<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__sleep" onClick="logFunction('__sleep', 'moodlelib.php.source.html#l9765')" href="moodlelib.php.source.html#l9765">__sleep</a>()&nbsp;&nbsp;
<a href="../_functions/__sleep.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepares the lang_string for sleep and stores only the forcedstring and<BR>
string properties... the string cannot be regenerated so we need to ensure<BR>
it is generated for this.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="required_param" onClick="logFunction('required_param', 'moodlelib.php.source.html#l525')" href="moodlelib.php.source.html#l525">required_param</a>(<a href="../_variables/parname.html">$parname</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/required_param.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a particular value for the named variable, taken from<BR>
POST or GET.&nbsp;&nbsp;If the parameter doesn't exist then an error is<BR>
thrown because we require this variable.<BR>
</b><BR>This function should be used to initialise all required values<BR>
in a script that are based on parameters.&nbsp;&nbsp;Usually it will be<BR>
used like this:<BR>
$id = required_param('id', PARAM_INT);<BR>
<BR>
Please note the $type parameter is now required and the value can not be array.<BR>
<BR>
<b>param:</b> string $parname the name of the page parameter we want<br>
<b>param:</b> string $type expected type of parameter<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="required_param_array" onClick="logFunction('required_param_array', 'moodlelib.php.source.html#l564')" href="moodlelib.php.source.html#l564">required_param_array</a>(<a href="../_variables/parname.html">$parname</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/required_param_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a particular array value for the named variable, taken from<BR>
POST or GET.&nbsp;&nbsp;If the parameter doesn't exist then an error is<BR>
thrown because we require this variable.<BR>
</b><BR>This function should be used to initialise all required values<BR>
in a script that are based on parameters.&nbsp;&nbsp;Usually it will be<BR>
used like this:<BR>
$ids = required_param_array('ids', PARAM_INT);<BR>
<BR>
Note: arrays of arrays are not supported, only alphanumeric keys with _ and - are supported<BR>
<BR>
<b>param:</b> string $parname the name of the page parameter we want<br>
<b>param:</b> string $type expected type of parameter<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="optional_param" onClick="logFunction('optional_param', 'moodlelib.php.source.html#l609')" href="moodlelib.php.source.html#l609">optional_param</a>(<a href="../_variables/parname.html">$parname</a>, <a href="../_variables/default.html">$default</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/optional_param.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a particular value for the named variable, taken from<BR>
POST or GET, otherwise returning a given default.<BR>
</b><BR>This function should be used to initialise all optional values<BR>
in a script that are based on parameters.&nbsp;&nbsp;Usually it will be<BR>
used like this:<BR>
$name = optional_param('name', 'Fred', PARAM_TEXT);<BR>
<BR>
Please note the $type parameter is now required and the value can not be array.<BR>
<BR>
<b>param:</b> string $parname the name of the page parameter we want<br>
<b>param:</b> mixed&nbsp;&nbsp;$default the default value to return if nothing is found<br>
<b>param:</b> string $type expected type of parameter<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="optional_param_array" onClick="logFunction('optional_param_array', 'moodlelib.php.source.html#l649')" href="moodlelib.php.source.html#l649">optional_param_array</a>(<a href="../_variables/parname.html">$parname</a>, <a href="../_variables/default.html">$default</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/optional_param_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a particular array value for the named variable, taken from<BR>
POST or GET, otherwise returning a given default.<BR>
</b><BR>This function should be used to initialise all optional values<BR>
in a script that are based on parameters.&nbsp;&nbsp;Usually it will be<BR>
used like this:<BR>
$ids = optional_param('id', array(), PARAM_INT);<BR>
<BR>
Note: arrays of arrays are not supported, only alphanumeric keys with _ and - are supported<BR>
<BR>
<b>param:</b> string $parname the name of the page parameter we want<br>
<b>param:</b> mixed $default the default value to return if nothing is found<br>
<b>param:</b> string $type expected type of parameter<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_param" onClick="logFunction('validate_param', 'moodlelib.php.source.html#l696')" href="moodlelib.php.source.html#l696">validate_param</a>(<a href="../_variables/param.html">$param</a>, <a href="../_variables/type.html">$type</a>, <a href="../_variables/allownull.html">$allownull</a>=NULL_NOT_ALLOWED, <a href="../_variables/debuginfo.html">$debuginfo</a>='')&nbsp;&nbsp;
<a href="../_functions/validate_param.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Strict validation of parameter values, the values are only converted<BR>
to requested PHP type. Internally it is using clean_param, the values<BR>
before and after cleaning must be equal - otherwise<BR>
an invalid_parameter_exception is thrown.<BR>
Objects and classes are not accepted.<BR>
</b><BR><b>param:</b> mixed $param<br>
<b>param:</b> string $type PARAM_ constant<br>
<b>param:</b> bool $allownull are nulls valid value?<br>
<b>param:</b> string $debuginfo optional debug information<br>
<b>return:</b> mixed the $param value converted to PHP type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clean_param_array" onClick="logFunction('clean_param_array', 'moodlelib.php.source.html#l739')" href="moodlelib.php.source.html#l739">clean_param_array</a>(array <a href="../_variables/param.html">$param</a> = null, <a href="../_variables/type.html">$type</a>, <a href="../_variables/recursive.html">$recursive</a> = false)&nbsp;&nbsp;
<a href="../_functions/clean_param_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Makes sure array contains only the allowed types, this function does not validate array key names!<BR>
</b><BR>&lt;code&gt;<BR>
$options = clean_param($options, PARAM_INT);<BR>
&lt;/code&gt;<BR>
<BR>
<b>param:</b> array $param the variable array we are cleaning<br>
<b>param:</b> string $type expected format of param after cleaning.<br>
<b>param:</b> bool $recursive clean recursive arrays<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clean_param" onClick="logFunction('clean_param', 'moodlelib.php.source.html#l769')" href="moodlelib.php.source.html#l769">clean_param</a>(<a href="../_variables/param.html">$param</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/clean_param.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used by {@link optional_param()} and {@link required_param()} to<BR>
clean the variables and/or cast to specific types, based on<BR>
an options field.<BR>
&lt;code&gt;<BR>
$course-&gt;format = clean_param($course-&gt;format, PARAM_ALPHA);<BR>
$selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT);<BR>
&lt;/code&gt;<BR>
</b><BR><b>param:</b> mixed $param the variable we are cleaning<br>
<b>param:</b> string $type expected format of param after cleaning.<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fix_utf8" onClick="logFunction('fix_utf8', 'moodlelib.php.source.html#l1227')" href="moodlelib.php.source.html#l1227">fix_utf8</a>(<a href="../_variables/value.html">$value</a>)&nbsp;&nbsp;
<a href="../_functions/fix_utf8.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Makes sure the data is using valid utf8, invalid characters are discarded.<BR>
</b><BR>Note: this function is not intended for full objects with methods and private properties.<BR>
<BR>
<b>param:</b> mixed $value<br>
<b>return:</b> mixed with proper utf-8 encoding<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_number" onClick="logFunction('is_number', 'moodlelib.php.source.html#l1291')" href="moodlelib.php.source.html#l1291">is_number</a>(<a href="../_variables/value.html">$value</a>)&nbsp;&nbsp;
<a href="../_functions/is_number.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return true if given value is integer or string with integer value<BR>
</b><BR><b>param:</b> mixed $value String or Int<br>
<b>return:</b> bool true if number, false if not<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_host_from_url" onClick="logFunction('get_host_from_url', 'moodlelib.php.source.html#l1307')" href="moodlelib.php.source.html#l1307">get_host_from_url</a>(<a href="../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../_functions/get_host_from_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns host part from url.<BR>
</b><BR><b>param:</b> string $url full url<br>
<b>return:</b> string host, null if not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="html_is_blank" onClick="logFunction('html_is_blank', 'moodlelib.php.source.html#l1321')" href="moodlelib.php.source.html#l1321">html_is_blank</a>(<a href="../_variables/string.html">$string</a>)&nbsp;&nbsp;
<a href="../_functions/html_is_blank.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Tests whether anything was returned by text editor<BR>
</b><BR>This function is useful for testing whether something you got back from<BR>
the HTML editor actually contains anything. Sometimes the HTML editor<BR>
appear to be empty, but actually you get back a &lt;br&gt; tag or something.<BR>
<BR>
<b>param:</b> string $string a string containing HTML.<br>
<b>return:</b> boolean does the string contain any actual content - that is text,<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_config" onClick="logFunction('set_config', 'moodlelib.php.source.html#l1336')" href="moodlelib.php.source.html#l1336">set_config</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/plugin.html">$plugin</a>=null)&nbsp;&nbsp;
<a href="../_functions/set_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set a key in global configuration<BR>
</b><BR>Set a key/value pair in both this session's {@link $CFG} global variable<BR>
and in the 'config' database table for future sessions.<BR>
<BR>
Can also be used to update keys for plugin-scoped configs in config_plugin table.<BR>
In that case it doesn't affect $CFG.<BR>
<BR>
A NULL value will delete the entry.<BR>
<BR>
NOTE: this function is called from lib/db/upgrade.php<BR>
<BR>
<b>param:</b> string $name the key to set<br>
<b>param:</b> string $value the value to set (without magic quotes)<br>
<b>param:</b> string $plugin (optional) the plugin scope, default null<br>
<b>return:</b> bool true or exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_config" onClick="logFunction('get_config', 'moodlelib.php.source.html#l1409')" href="moodlelib.php.source.html#l1409">get_config</a>(<a href="../_variables/plugin.html">$plugin</a>, <a href="../_variables/name.html">$name</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get configuration values from the global config table<BR>
or the config_plugins table.<BR>
</b><BR>If called with one parameter, it will load all the config<BR>
variables for one plugin, and return them as an object.<BR>
<BR>
If called with 2 parameters it will return a string single<BR>
value or false if the value is not found.<BR>
<BR>
NOTE: this function is called from lib/db/upgrade.php<BR>
<BR>
<b>param:</b> string $plugin full component name<br>
<b>param:</b> string $name default null<br>
<b>return:</b> mixed hash-like object or single value, return false no config found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unset_config" onClick="logFunction('unset_config', 'moodlelib.php.source.html#l1504')" href="moodlelib.php.source.html#l1504">unset_config</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/plugin.html">$plugin</a>=null)&nbsp;&nbsp;
<a href="../_functions/unset_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes a key from global configuration.<BR>
</b><BR>NOTE: this function is called from lib/db/upgrade.php<BR>
<BR>
<b>param:</b> string $name the key to set<br>
<b>param:</b> string $plugin (optional) the plugin scope<br>
<b>return:</b> boolean whether the operation succeeded.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unset_all_config_for_plugin" onClick="logFunction('unset_all_config_for_plugin', 'moodlelib.php.source.html#l1528')" href="moodlelib.php.source.html#l1528">unset_all_config_for_plugin</a>(<a href="../_variables/plugin.html">$plugin</a>)&nbsp;&nbsp;
<a href="../_functions/unset_all_config_for_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove all the config variables for a given plugin.<BR>
</b><BR>NOTE: this function is called from lib/db/upgrade.php<BR>
<BR>
<b>param:</b> string $plugin a plugin, for example 'quiz' or 'qtype_multichoice';<br>
<b>return:</b> boolean whether the operation succeeded.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_users_from_config" onClick="logFunction('get_users_from_config', 'moodlelib.php.source.html#l1550')" href="moodlelib.php.source.html#l1550">get_users_from_config</a>(<a href="../_variables/value.html">$value</a>, <a href="../_variables/capability.html">$capability</a>, <a href="../_variables/includeadmins.html">$includeadmins</a> = true)&nbsp;&nbsp;
<a href="../_functions/get_users_from_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Use this function to get a list of users from a config setting of type admin_setting_users_with_capability.<BR>
</b><BR>All users are verified if they still have the necessary capability.<BR>
<BR>
<b>param:</b> string $value the value of the config setting.<br>
<b>param:</b> string $capability the capability - must match the one passed to the admin_setting_users_with_capability constructor.<br>
<b>param:</b> bool $includeadmins include administrators.<br>
<b>return:</b> array of user objects.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="purge_all_caches" onClick="logFunction('purge_all_caches', 'moodlelib.php.source.html#l1593')" href="moodlelib.php.source.html#l1593">purge_all_caches</a>()&nbsp;&nbsp;
<a href="../_functions/purge_all_caches.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invalidates browser caches and cached data in temp.<BR>
</b><BR>IMPORTANT - If you are adding anything here to do with the cache directory you should also have a look at<BR>
{@link phpunit_util::reset_dataroot()}<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_cache_flags" onClick="logFunction('get_cache_flags', 'moodlelib.php.source.html#l1637')" href="moodlelib.php.source.html#l1637">get_cache_flags</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/changedsince.html">$changedsince</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_cache_flags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get volatile flags<BR>
</b><BR><b>param:</b> string $type<br>
<b>param:</b> int $changedsince default null<br>
<b>return:</b> array records array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_cache_flag" onClick="logFunction('get_cache_flag', 'moodlelib.php.source.html#l1662')" href="moodlelib.php.source.html#l1662">get_cache_flag</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/name.html">$name</a>, <a href="../_variables/changedsince.html">$changedsince</a>=null)&nbsp;&nbsp;
<a href="../_functions/get_cache_flag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get volatile flags<BR>
</b><BR><b>param:</b> string $type<br>
<b>param:</b> string $name<br>
<b>param:</b> int $changedsince default null<br>
<b>return:</b> string|false The cache flag value or false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_cache_flag" onClick="logFunction('set_cache_flag', 'moodlelib.php.source.html#l1684')" href="moodlelib.php.source.html#l1684">set_cache_flag</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/name.html">$name</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/expiry.html">$expiry</a> = null)&nbsp;&nbsp;
<a href="../_functions/set_cache_flag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set a volatile flag<BR>
</b><BR><b>param:</b> string $type the &quot;type&quot; namespace for the key<br>
<b>param:</b> string $name the key to set<br>
<b>param:</b> string $value the value to set (without magic quotes) - null will remove the flag<br>
<b>param:</b> int $expiry (optional) epoch indicating expiry - defaults to now()+ 24hs<br>
<b>return:</b> bool Always returns true<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unset_cache_flag" onClick="logFunction('unset_cache_flag', 'moodlelib.php.source.html#l1729')" href="moodlelib.php.source.html#l1729">unset_cache_flag</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/unset_cache_flag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes a single volatile flag<BR>
</b><BR><b>param:</b> string $type the &quot;type&quot; namespace for the key<br>
<b>param:</b> string $name the key to set<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="gc_cache_flags" onClick="logFunction('gc_cache_flags', 'moodlelib.php.source.html#l1742')" href="moodlelib.php.source.html#l1742">gc_cache_flags</a>()&nbsp;&nbsp;
<a href="../_functions/gc_cache_flags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Garbage-collect volatile flags<BR>
</b><BR><b>return:</b> bool Always returns true<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_user_preferences_loaded" onClick="logFunction('check_user_preferences_loaded', 'moodlelib.php.source.html#l1755')" href="moodlelib.php.source.html#l1755">check_user_preferences_loaded</a>(stdClass <a href="../_variables/user.html">$user</a>, <a href="../_variables/cachelifetime.html">$cachelifetime</a> = 120)&nbsp;&nbsp;
<a href="../_functions/check_user_preferences_loaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Refresh user preference cache. This is used most often for $USER<BR>
object that is stored in session, but it also helps with performance in cron script.<BR>
</b><BR>Preferences for each user are loaded on first use on every page, then again after the timeout expires.<BR>
<BR>
<b>param:</b> stdClass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User object. Preferences are preloaded into 'preference' property<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cachelifetime Cache life time on the current page (in seconds)<br>
<b>return:</b> null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mark_user_preferences_changed" onClick="logFunction('mark_user_preferences_changed', 'moodlelib.php.source.html#l1807')" href="moodlelib.php.source.html#l1807">mark_user_preferences_changed</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/mark_user_preferences_changed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Called from set/unset_user_preferences, so that the prefs can be correctly reloaded in different sessions.<BR>
</b><BR>NOTE: internal function, do not call from other code.<BR>
<BR>
<b>param:</b> integer $userid the user whose prefs were changed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_user_preference" onClick="logFunction('set_user_preference', 'moodlelib.php.source.html#l1827')" href="moodlelib.php.source.html#l1827">set_user_preference</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../_functions/set_user_preference.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets a preference for the specified user.<BR>
</b><BR>If a $user object is submitted it's 'preference' property is used for the preferences cache.<BR>
<BR>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$name&nbsp;&nbsp;The key to set as preference for the specified user<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$value The value to set for the $name key in the specified user's<br>
<b>param:</b> stdClass|int|null $user&nbsp;&nbsp;A moodle user object or id, null means current user<br>
<b>return:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always true or exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_user_preferences" onClick="logFunction('set_user_preferences', 'moodlelib.php.source.html#l1905')" href="moodlelib.php.source.html#l1905">set_user_preferences</a>(array <a href="../_variables/prefarray.html">$prefarray</a>, <a href="../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../_functions/set_user_preferences.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets a whole array of preferences for the current user<BR>
</b><BR>If a $user object is submitted it's 'preference' property is used for the preferences cache.<BR>
<BR>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$prefarray An array of key/value pairs to be set<br>
<b>param:</b> stdClass|int|null $user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A moodle user object or id, null means current user<br>
<b>return:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always true or exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unset_user_preference" onClick="logFunction('unset_user_preference', 'moodlelib.php.source.html#l1924')" href="moodlelib.php.source.html#l1924">unset_user_preference</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../_functions/unset_user_preference.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unsets a preference completely by deleting it from the database<BR>
</b><BR>If a $user object is submitted it's 'preference' property is used for the preferences cache.<BR>
<BR>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$name The key to unset as preference for the specified user<br>
<b>param:</b> stdClass|int|null $user A moodle user object or id, null means current user<br>
<b>return:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always true or exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_preferences" onClick="logFunction('get_user_preferences', 'moodlelib.php.source.html#l1974')" href="moodlelib.php.source.html#l1974">get_user_preferences</a>(<a href="../_variables/name.html">$name</a> = null, <a href="../_variables/default.html">$default</a> = null, <a href="../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_user_preferences.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used to fetch user preference(s)<BR>
</b><BR>If no arguments are supplied this function will return<BR>
all of the current user preferences as an array.<BR>
<BR>
If a name is specified then this function<BR>
attempts to return that particular preference value.&nbsp;&nbsp;If<BR>
none is found, then the optional value $default is returned,<BR>
otherwise null.<BR>
<BR>
If a $user object is submitted it's 'preference' property is used for the preferences cache.<BR>
<BR>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$name&nbsp;&nbsp;&nbsp;&nbsp;Name of the key to use in finding a preference value<br>
<b>param:</b> mixed|null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$default Value to be returned if the $name key is not set in the user preferences<br>
<b>param:</b> stdClass|int|null $user&nbsp;&nbsp;&nbsp;&nbsp;A moodle user object or id, null means current user<br>
<b>return:</b> string|mixed|null&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A string containing the value of a single preference. An<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_timestamp" onClick="logFunction('make_timestamp', 'moodlelib.php.source.html#l2032')" href="moodlelib.php.source.html#l2032">make_timestamp</a>(<a href="../_variables/year.html">$year</a>, <a href="../_variables/month.html">$month</a>=1, <a href="../_variables/day.html">$day</a>=1, <a href="../_variables/hour.html">$hour</a>=0, <a href="../_variables/minute.html">$minute</a>=0, <a href="../_variables/second.html">$second</a>=0, <a href="../_variables/timezone.html">$timezone</a>=99, <a href="../_variables/applydst.html">$applydst</a>=true)&nbsp;&nbsp;
<a href="../_functions/make_timestamp.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given Gregorian date parts in user time produce a GMT timestamp.<BR>
</b><BR><b>param:</b> int $year The year part to create timestamp of<br>
<b>param:</b> int $month The month part to create timestamp of<br>
<b>param:</b> int $day The day part to create timestamp of<br>
<b>param:</b> int $hour The hour part to create timestamp of<br>
<b>param:</b> int $minute The minute part to create timestamp of<br>
<b>param:</b> int $second The second part to create timestamp of<br>
<b>param:</b> int|float|string $timezone Timezone modifier, used to calculate GMT time offset.<br>
<b>param:</b> bool $applydst Toggle Daylight Saving Time, default true, will be<br>
<b>return:</b> int GMT timestamp<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_time" onClick="logFunction('format_time', 'moodlelib.php.source.html#l2065')" href="moodlelib.php.source.html#l2065">format_time</a>(<a href="../_variables/totalsecs.html">$totalsecs</a>, <a href="../_variables/str.html">$str</a> = null)&nbsp;&nbsp;
<a href="../_functions/format_time.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Format a date/time (seconds) as weeks, days, hours etc as needed<BR>
</b><BR>Given an amount of time in seconds, returns string<BR>
formatted nicely as weeks, days, hours etc as needed<BR>
<BR>
<b>param:</b> int $totalsecs Time in seconds<br>
<b>param:</b> stdClass $str Should be a time object<br>
<b>return:</b> string A nicely formatted date/time string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="userdate" onClick="logFunction('userdate', 'moodlelib.php.source.html#l2155')" href="moodlelib.php.source.html#l2155">userdate</a>(<a href="../_variables/date.html">$date</a>, <a href="../_variables/format.html">$format</a> = '', <a href="../_variables/timezone.html">$timezone</a> = 99, <a href="../_variables/fixday.html">$fixday</a> = true, <a href="../_variables/fixhour.html">$fixhour</a> = true)&nbsp;&nbsp;
<a href="../_functions/userdate.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a formatted string that represents a date in user time.<BR>
</b><BR><b>param:</b> int $date the timestamp in UTC, as obtained from the database.<br>
<b>param:</b> string $format strftime format. You should probably get this using<br>
<b>param:</b> int|float|string $timezone by default, uses the user's time zone. if numeric and<br>
<b>param:</b> bool $fixday If true (default) then the leading zero from %d is removed.<br>
<b>param:</b> bool $fixhour If true (default) then the leading zero from %I is removed.<br>
<b>return:</b> string the formatted date/time.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="date_format_string" onClick="logFunction('date_format_string', 'moodlelib.php.source.html#l2176')" href="moodlelib.php.source.html#l2176">date_format_string</a>(<a href="../_variables/date.html">$date</a>, <a href="../_variables/format.html">$format</a>, <a href="../_variables/tz.html">$tz</a> = 99)&nbsp;&nbsp;
<a href="../_functions/date_format_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a formatted date ensuring it is UTF-8.<BR>
</b><BR>If we are running under Windows convert to Windows encoding and then back to UTF-8<BR>
(because it's impossible to specify UTF-8 to fetch locale info in Win32).<BR>
<BR>
<b>param:</b> int $date the timestamp - since Moodle 2.9 this is a real UTC timestamp<br>
<b>param:</b> string $format strftime format.<br>
<b>param:</b> int|float|string $tz the user timezone<br>
<b>return:</b> string the formatted date/time.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="usergetdate" onClick="logFunction('usergetdate', 'moodlelib.php.source.html#l2213')" href="moodlelib.php.source.html#l2213">usergetdate</a>(<a href="../_variables/time.html">$time</a>, <a href="../_variables/timezone.html">$timezone</a>=99)&nbsp;&nbsp;
<a href="../_functions/usergetdate.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a $time timestamp in GMT (seconds since epoch),<BR>
returns an array that represents the Gregorian date in user time<BR>
</b><BR><b>param:</b> int $time Timestamp in GMT<br>
<b>param:</b> float|int|string $timezone user timezone<br>
<b>return:</b> array An array that represents the date in user time<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="usertime" onClick="logFunction('usertime', 'moodlelib.php.source.html#l2231')" href="moodlelib.php.source.html#l2231">usertime</a>(<a href="../_variables/date.html">$date</a>, <a href="../_variables/timezone.html">$timezone</a>=99)&nbsp;&nbsp;
<a href="../_functions/usertime.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a GMT timestamp (seconds since epoch), offsets it by<BR>
the timezone.&nbsp;&nbsp;eg 3pm in India is 3pm GMT - 7 * 3600 seconds<BR>
</b><BR>NOTE: this function does not include DST properly,<BR>
you should use the PHP date stuff instead!<BR>
<BR>
<b>param:</b> int $date Timestamp in GMT<br>
<b>param:</b> float|int|string $timezone user timezone<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="usergetmidnight" onClick="logFunction('usergetmidnight', 'moodlelib.php.source.html#l2252')" href="moodlelib.php.source.html#l2252">usergetmidnight</a>(<a href="../_variables/date.html">$date</a>, <a href="../_variables/timezone.html">$timezone</a>=99)&nbsp;&nbsp;
<a href="../_functions/usergetmidnight.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a time, return the GMT timestamp of the most recent midnight<BR>
for the current user.<BR>
</b><BR><b>param:</b> int $date Timestamp in GMT<br>
<b>param:</b> float|int|string $timezone user timezone<br>
<b>return:</b> int Returns a GMT timestamp<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="usertimezone" onClick="logFunction('usertimezone', 'moodlelib.php.source.html#l2271')" href="moodlelib.php.source.html#l2271">usertimezone</a>(<a href="../_variables/timezone.html">$timezone</a>=99)&nbsp;&nbsp;
<a href="../_functions/usertimezone.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a string that prints the user's timezone<BR>
</b><BR><b>param:</b> float|int|string $timezone user timezone<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_timezone" onClick="logFunction('get_user_timezone', 'moodlelib.php.source.html#l2284')" href="moodlelib.php.source.html#l2284">get_user_timezone</a>(<a href="../_variables/tz.html">$tz</a> = 99)&nbsp;&nbsp;
<a href="../_functions/get_user_timezone.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a float or a string which denotes the user's timezone<BR>
A float value means that a simple offset from GMT is used, while a string (it will be the name of a timezone in the database)<BR>
means that for this timezone there are also DST rules to be taken into account<BR>
Checks various settings and picks the most dominant of those which have a value<BR>
</b><BR><b>param:</b> float|int|string $tz timezone to calculate GMT time offset before<br>
<b>return:</b> float|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="dst_offset_on" onClick="logFunction('dst_offset_on', 'moodlelib.php.source.html#l2316')" href="moodlelib.php.source.html#l2316">dst_offset_on</a>(<a href="../_variables/time.html">$time</a>, <a href="../_variables/strtimezone.html">$strtimezone</a> = null)&nbsp;&nbsp;
<a href="../_functions/dst_offset_on.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculates the Daylight Saving Offset for a given date/time (timestamp)<BR>
- Note: Daylight saving only works for string timezones and not for float.<BR>
</b><BR><b>param:</b> int $time must NOT be compensated at all, it has to be a pure timestamp<br>
<b>param:</b> int|float|string $strtimezone user timezone<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_day_in_month" onClick="logFunction('find_day_in_month', 'moodlelib.php.source.html#l2339')" href="moodlelib.php.source.html#l2339">find_day_in_month</a>(<a href="../_variables/startday.html">$startday</a>, <a href="../_variables/weekday.html">$weekday</a>, <a href="../_variables/month.html">$month</a>, <a href="../_variables/year.html">$year</a>)&nbsp;&nbsp;
<a href="../_functions/find_day_in_month.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculates when the day appears in specific month<BR>
</b><BR><b>param:</b> int $startday starting day of the month<br>
<b>param:</b> int $weekday The day when week starts (normally taken from user preferences)<br>
<b>param:</b> int $month The month whose day is sought<br>
<b>param:</b> int $year The year of the month whose day is sought<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="days_in_month" onClick="logFunction('days_in_month', 'moodlelib.php.source.html#l2401')" href="moodlelib.php.source.html#l2401">days_in_month</a>(<a href="../_variables/month.html">$month</a>, <a href="../_variables/year.html">$year</a>)&nbsp;&nbsp;
<a href="../_functions/days_in_month.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculate the number of days in a given month<BR>
</b><BR><b>param:</b> int $month The month whose day count is sought<br>
<b>param:</b> int $year The year of the month whose day count is sought<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="dayofweek" onClick="logFunction('dayofweek', 'moodlelib.php.source.html#l2415')" href="moodlelib.php.source.html#l2415">dayofweek</a>(<a href="../_variables/day.html">$day</a>, <a href="../_variables/month.html">$month</a>, <a href="../_variables/year.html">$year</a>)&nbsp;&nbsp;
<a href="../_functions/dayofweek.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculate the position in the week of a specific calendar day<BR>
</b><BR><b>param:</b> int $day The day of the date whose position in the week is sought<br>
<b>param:</b> int $month The month of the date whose position in the week is sought<br>
<b>param:</b> int $year The year of the date whose position in the week is sought<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_login_url" onClick="logFunction('get_login_url', 'moodlelib.php.source.html#l2432')" href="moodlelib.php.source.html#l2432">get_login_url</a>()&nbsp;&nbsp;
<a href="../_functions/get_login_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns full login url.<BR>
</b><BR><b>return:</b> string login url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_login" onClick="logFunction('require_login', 'moodlelib.php.source.html#l2449')" href="moodlelib.php.source.html#l2449">require_login</a>(<a href="../_variables/courseorid.html">$courseorid</a> = null, <a href="../_variables/autologinguest.html">$autologinguest</a> = true, <a href="../_variables/cm.html">$cm</a> = null, <a href="../_variables/setwantsurltome.html">$setwantsurltome</a> = true, <a href="../_variables/preventredirect.html">$preventredirect</a> = false)&nbsp;&nbsp;
<a href="../_functions/require_login.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function checks that the current user is logged in and has the<BR>
required privileges<BR>
</b><BR>This function checks that the current user is logged in, and optionally<BR>
whether they are allowed to be in a particular course and view a particular<BR>
course module.<BR>
If they are not logged in, then it redirects them to the site login unless<BR>
$autologinguest is set and {@link $CFG}-&gt;autologinguests is set to 1 in which<BR>
case they are automatically logged in as guests.<BR>
If $courseid is given and the user is not enrolled in that course then the<BR>
user is redirected to the course enrolment page.<BR>
If $cm is given and the course module is hidden and the user is not a teacher<BR>
in the course then the user is redirected to the course home page.<BR>
<BR>
When $cm parameter specified, this function sets page layout to 'module'.<BR>
You need to change it manually later if some other layout needed.<BR>
<BR>
<b>param:</b> mixed $courseorid id of the course or course object<br>
<b>param:</b> bool $autologinguest default true<br>
<b>param:</b> object $cm course module object<br>
<b>param:</b> bool $setwantsurltome Define if we want to set $SESSION-&gt;wantsurl, defaults to<br>
<b>param:</b> bool $preventredirect set to true in scripts that can not redirect (CLI, rss feeds, etc.), throws exceptions<br>
<b>return:</b> mixed Void, exit, and die depending on path<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_logout" onClick="logFunction('require_logout', 'moodlelib.php.source.html#l2851')" href="moodlelib.php.source.html#l2851">require_logout</a>()&nbsp;&nbsp;
<a href="../_functions/require_logout.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function just makes sure a user is logged out.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_course_login" onClick="logFunction('require_course_login', 'moodlelib.php.source.html#l2902')" href="moodlelib.php.source.html#l2902">require_course_login</a>(<a href="../_variables/courseorid.html">$courseorid</a>, <a href="../_variables/autologinguest.html">$autologinguest</a> = true, <a href="../_variables/cm.html">$cm</a> = null, <a href="../_variables/setwantsurltome.html">$setwantsurltome</a> = true, <a href="../_variables/preventredirect.html">$preventredirect</a> = false)&nbsp;&nbsp;
<a href="../_functions/require_course_login.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Weaker version of require_login()<BR>
</b><BR>This is a weaker version of {@link require_login()} which only requires login<BR>
when called from within a course rather than the site page, unless<BR>
the forcelogin option is turned on.<BR>
<b>param:</b> mixed $courseorid The course object or id in question<br>
<b>param:</b> bool $autologinguest Allow autologin guests if that is wanted<br>
<b>param:</b> object $cm Course activity module if known<br>
<b>param:</b> bool $setwantsurltome Define if we want to set $SESSION-&gt;wantsurl, defaults to<br>
<b>param:</b> bool $preventredirect set to true in scripts that can not redirect (CLI, rss feeds, etc.), throws exceptions<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_user_key_login" onClick="logFunction('require_user_key_login', 'moodlelib.php.source.html#l2978')" href="moodlelib.php.source.html#l2978">require_user_key_login</a>(<a href="../_variables/script.html">$script</a>, <a href="../_variables/instance.html">$instance</a>=null)&nbsp;&nbsp;
<a href="../_functions/require_user_key_login.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Require key login. Function terminates with error if key not found or incorrect.<BR>
</b><BR><b>param:</b> string $script unique script identifier<br>
<b>param:</b> int $instance optional instance id<br>
<b>return:</b> int Instance ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_user_key" onClick="logFunction('create_user_key', 'moodlelib.php.source.html#l3031')" href="moodlelib.php.source.html#l3031">create_user_key</a>(<a href="../_variables/script.html">$script</a>, <a href="../_variables/userid.html">$userid</a>, <a href="../_variables/instance.html">$instance</a>=null, <a href="../_variables/iprestriction.html">$iprestriction</a>=null, <a href="../_variables/validuntil.html">$validuntil</a>=null)&nbsp;&nbsp;
<a href="../_functions/create_user_key.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a new private user access key.<BR>
</b><BR><b>param:</b> string $script unique target identifier<br>
<b>param:</b> int $userid<br>
<b>param:</b> int $instance optional instance id<br>
<b>param:</b> string $iprestriction optional ip restricted access<br>
<b>param:</b> int $validuntil key valid only until given data<br>
<b>return:</b> string access key value<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_user_key" onClick="logFunction('delete_user_key', 'moodlelib.php.source.html#l3062')" href="moodlelib.php.source.html#l3062">delete_user_key</a>(<a href="../_variables/script.html">$script</a>, <a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/delete_user_key.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete the user's new private user access keys for a particular script.<BR>
</b><BR><b>param:</b> string $script unique target identifier<br>
<b>param:</b> int $userid<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_key" onClick="logFunction('get_user_key', 'moodlelib.php.source.html#l3074')" href="moodlelib.php.source.html#l3074">get_user_key</a>(<a href="../_variables/script.html">$script</a>, <a href="../_variables/userid.html">$userid</a>, <a href="../_variables/instance.html">$instance</a>=null, <a href="../_variables/iprestriction.html">$iprestriction</a>=null, <a href="../_variables/validuntil.html">$validuntil</a>=null)&nbsp;&nbsp;
<a href="../_functions/get_user_key.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets a private user access key (and creates one if one doesn't exist).<BR>
</b><BR><b>param:</b> string $script unique target identifier<br>
<b>param:</b> int $userid<br>
<b>param:</b> int $instance optional instance id<br>
<b>param:</b> string $iprestriction optional ip restricted access<br>
<b>param:</b> int $validuntil key valid only until given date<br>
<b>return:</b> string access key value<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_user_login_times" onClick="logFunction('update_user_login_times', 'moodlelib.php.source.html#l3097')" href="moodlelib.php.source.html#l3097">update_user_login_times</a>()&nbsp;&nbsp;
<a href="../_functions/update_user_login_times.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Modify the user table by setting the currently logged in user's last login to now.<BR>
</b><BR><b>return:</b> bool Always returns true<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_not_fully_set_up" onClick="logFunction('user_not_fully_set_up', 'moodlelib.php.source.html#l3135')" href="moodlelib.php.source.html#l3135">user_not_fully_set_up</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/user_not_fully_set_up.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determines if a user has completed setting up their account.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object to test for the existence of a valid name and email<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="over_bounce_threshold" onClick="logFunction('over_bounce_threshold', 'moodlelib.php.source.html#l3148')" href="moodlelib.php.source.html#l3148">over_bounce_threshold</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/over_bounce_threshold.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check whether the user has exceeded the bounce threshold<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>return:</b> bool true =&gt; User has exceeded bounce threshold<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_send_count" onClick="logFunction('set_send_count', 'moodlelib.php.source.html#l3184')" href="moodlelib.php.source.html#l3184">set_send_count</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/reset.html">$reset</a>=false)&nbsp;&nbsp;
<a href="../_functions/set_send_count.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used to increment or reset email sent count<BR>
</b><BR><b>param:</b> stdClass $user object containing an id<br>
<b>param:</b> bool $reset will reset the count to 0<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_bounce_count" onClick="logFunction('set_bounce_count', 'moodlelib.php.source.html#l3212')" href="moodlelib.php.source.html#l3212">set_bounce_count</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/reset.html">$reset</a>=false)&nbsp;&nbsp;
<a href="../_functions/set_bounce_count.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Increment or reset user's email bounce count<BR>
</b><BR><b>param:</b> stdClass $user object containing an id<br>
<b>param:</b> bool $reset will reset the count to 0<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ismoving" onClick="logFunction('ismoving', 'moodlelib.php.source.html#l3234')" href="moodlelib.php.source.html#l3234">ismoving</a>(<a href="../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../_functions/ismoving.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determines if the logged in user is currently moving an activity<BR>
</b><BR><b>param:</b> int $courseid The id of the course being tested<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fullname" onClick="logFunction('fullname', 'moodlelib.php.source.html#l3249')" href="moodlelib.php.source.html#l3249">fullname</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/override.html">$override</a>=false)&nbsp;&nbsp;
<a href="../_functions/fullname.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a persons full name<BR>
</b><BR>Given an object containing all of the users name values, this function returns a string with the full name of the person.<BR>
The result may depend on system settings or language.&nbsp;&nbsp;'override' will force both names to be used even if system settings<BR>
specify one.<BR>
<BR>
<b>param:</b> stdClass $user A {@link $USER} object to get full name of.<br>
<b>param:</b> bool $override If true then the name will be firstname followed by lastname rather than adhering to fullnamedisplay.<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_all_user_name_fields" onClick="logFunction('get_all_user_name_fields', 'moodlelib.php.source.html#l3360')" href="moodlelib.php.source.html#l3360">get_all_user_name_fields</a>(<a href="../_variables/returnsql.html">$returnsql</a> = false, <a href="../_variables/tableprefix.html">$tableprefix</a> = null, <a href="../_variables/prefix.html">$prefix</a> = null, <a href="../_variables/fieldprefix.html">$fieldprefix</a> = null, <a href="../_variables/order.html">$order</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_all_user_name_fields.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>A centralised location for the all name fields. Returns an array / sql string snippet.<BR>
</b><BR><b>param:</b> bool $returnsql True for an sql select field snippet.<br>
<b>param:</b> string $tableprefix table query prefix to use in front of each field.<br>
<b>param:</b> string $prefix prefix added to the name fields e.g. authorfirstname.<br>
<b>param:</b> string $fieldprefix sql field prefix e.g. id AS userid.<br>
<b>param:</b> bool $order moves firstname and lastname to the top of the array / start of the string.<br>
<b>return:</b> array|string All name fields.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="username_load_fields_from_object" onClick="logFunction('username_load_fields_from_object', 'moodlelib.php.source.html#l3418')" href="moodlelib.php.source.html#l3418">username_load_fields_from_object</a>(<a href="../_variables/addtoobject.html">$addtoobject</a>, <a href="../_variables/secondobject.html">$secondobject</a>, <a href="../_variables/prefix.html">$prefix</a> = null, <a href="../_variables/additionalfields.html">$additionalfields</a> = null)&nbsp;&nbsp;
<a href="../_functions/username_load_fields_from_object.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Reduces lines of duplicated code for getting user name fields.<BR>
</b><BR>See also {@link user_picture::unalias()}<BR>
<BR>
<b>param:</b> object $addtoobject Object to add user name fields to.<br>
<b>param:</b> object $secondobject Object that contains user name field information.<br>
<b>param:</b> string $prefix prefix to be added to all fields (including $additionalfields) e.g. authorfirstname.<br>
<b>param:</b> array $additionalfields Additional fields to be matched with data in the second object.<br>
<b>return:</b> object User name fields.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="order_in_string" onClick="logFunction('order_in_string', 'moodlelib.php.source.html#l3455')" href="moodlelib.php.source.html#l3455">order_in_string</a>(<a href="../_variables/values.html">$values</a>, <a href="../_variables/stringformat.html">$stringformat</a>)&nbsp;&nbsp;
<a href="../_functions/order_in_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of values in order of occurance in a provided string.<BR>
The key in the result is the character postion in the string.<BR>
</b><BR><b>param:</b> array $values Values to be found in the string format<br>
<b>param:</b> string $stringformat The string which may contain values being searched for.<br>
<b>return:</b> array An array of values in order according to placement in the string format.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extra_user_fields" onClick="logFunction('get_extra_user_fields', 'moodlelib.php.source.html#l3480')" href="moodlelib.php.source.html#l3480">get_extra_user_fields</a>(<a href="../_variables/context.html">$context</a>, <a href="../_variables/already.html">$already</a> = array()&nbsp;&nbsp;
<a href="../_functions/get_extra_user_fields.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if current user is shown any extra fields when listing users.<BR>
</b><BR><b>param:</b> object $context Context<br>
<b>param:</b> array $already Array of fields that we're going to show anyway<br>
<b>return:</b> array Array of field names from user table, not including anything<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extra_user_fields_sql" onClick="logFunction('get_extra_user_fields_sql', 'moodlelib.php.source.html#l3519')" href="moodlelib.php.source.html#l3519">get_extra_user_fields_sql</a>(<a href="../_variables/context.html">$context</a>, <a href="../_variables/alias.html">$alias</a>='', <a href="../_variables/prefix.html">$prefix</a>='', <a href="../_variables/already.html">$already</a> = array()&nbsp;&nbsp;
<a href="../_functions/get_extra_user_fields_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If the current user is to be shown extra user fields when listing or<BR>
selecting users, returns a string suitable for including in an SQL select<BR>
clause to retrieve those fields.<BR>
</b><BR><b>param:</b> context $context Context<br>
<b>param:</b> string $alias Alias of user table, e.g. 'u' (default none)<br>
<b>param:</b> string $prefix Prefix for field names using AS, e.g. 'u_' (default none)<br>
<b>param:</b> array $already Array of fields that we're going to include anyway so don't list them (default none)<br>
<b>return:</b> string Partial SQL select clause, beginning with comma, for example ',u.idnumber,u.department' unless it is blank<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_field_name" onClick="logFunction('get_user_field_name', 'moodlelib.php.source.html#l3546')" href="moodlelib.php.source.html#l3546">get_user_field_name</a>(<a href="../_variables/field.html">$field</a>)&nbsp;&nbsp;
<a href="../_functions/get_user_field_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the display name of a field in the user table. Works for most fields that are commonly displayed to users.<BR>
</b><BR><b>param:</b> string $field Field name, e.g. 'phone1'<br>
<b>return:</b> string Text description taken from language file, e.g. 'Phone number'<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="exists_auth_plugin" onClick="logFunction('exists_auth_plugin', 'moodlelib.php.source.html#l3577')" href="moodlelib.php.source.html#l3577">exists_auth_plugin</a>(<a href="../_variables/auth.html">$auth</a>)&nbsp;&nbsp;
<a href="../_functions/exists_auth_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether a given authentication plugin exists.<BR>
</b><BR><b>param:</b> string $auth Form of authentication to check for. Defaults to the global setting in {@link $CFG}.<br>
<b>return:</b> boolean Whether the plugin is available.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_enabled_auth" onClick="logFunction('is_enabled_auth', 'moodlelib.php.source.html#l3592')" href="moodlelib.php.source.html#l3592">is_enabled_auth</a>(<a href="../_variables/auth.html">$auth</a>)&nbsp;&nbsp;
<a href="../_functions/is_enabled_auth.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if a given plugin is in the list of enabled authentication plugins.<BR>
</b><BR><b>param:</b> string $auth Authentication plugin.<br>
<b>return:</b> boolean Whether the plugin is enabled.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_auth_plugin" onClick="logFunction('get_auth_plugin', 'moodlelib.php.source.html#l3608')" href="moodlelib.php.source.html#l3608">get_auth_plugin</a>(<a href="../_variables/auth.html">$auth</a>)&nbsp;&nbsp;
<a href="../_functions/get_auth_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an authentication plugin instance.<BR>
</b><BR><b>param:</b> string $auth name of authentication plugin<br>
<b>return:</b> auth_plugin_base An instance of the required authentication plugin.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_enabled_auth_plugins" onClick="logFunction('get_enabled_auth_plugins', 'moodlelib.php.source.html#l3628')" href="moodlelib.php.source.html#l3628">get_enabled_auth_plugins</a>(<a href="../_variables/fix.html">$fix</a>=false)&nbsp;&nbsp;
<a href="../_functions/get_enabled_auth_plugins.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of active auth plugins.<BR>
</b><BR><b>param:</b> bool $fix fix $CFG-&gt;auth if needed<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_internal_auth" onClick="logFunction('is_internal_auth', 'moodlelib.php.source.html#l3661')" href="moodlelib.php.source.html#l3661">is_internal_auth</a>(<a href="../_variables/auth.html">$auth</a>)&nbsp;&nbsp;
<a href="../_functions/is_internal_auth.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if an internal authentication method is being used.<BR>
if method not specified then, global default is assumed<BR>
</b><BR><b>param:</b> string $auth Form of authentication required<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_restored_user" onClick="logFunction('is_restored_user', 'moodlelib.php.source.html#l3674')" href="moodlelib.php.source.html#l3674">is_restored_user</a>(<a href="../_variables/username.html">$username</a>)&nbsp;&nbsp;
<a href="../_functions/is_restored_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if the user is a 'restored' one.<BR>
</b><BR>Used in the login process to inform the user and allow him/her to reset the password<BR>
<BR>
<b>param:</b> string $username username to be checked<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_fieldnames" onClick="logFunction('get_user_fieldnames', 'moodlelib.php.source.html#l3688')" href="moodlelib.php.source.html#l3688">get_user_fieldnames</a>()&nbsp;&nbsp;
<a href="../_functions/get_user_fieldnames.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of user fields<BR>
</b><BR><b>return:</b> array User field/column names<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_user_record" onClick="logFunction('create_user_record', 'moodlelib.php.source.html#l3703')" href="moodlelib.php.source.html#l3703">create_user_record</a>(<a href="../_variables/username.html">$username</a>, <a href="../_variables/password.html">$password</a>, <a href="../_variables/auth.html">$auth</a> = 'manual')&nbsp;&nbsp;
<a href="../_functions/create_user_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a bare-bones user record<BR>
</b><BR><b>param:</b> string $username New user's username to add to record<br>
<b>param:</b> string $password New user's password to add to record<br>
<b>param:</b> string $auth Form of authentication required<br>
<b>return:</b> stdClass A complete user object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_user_record" onClick="logFunction('update_user_record', 'moodlelib.php.source.html#l3776')" href="moodlelib.php.source.html#l3776">update_user_record</a>(<a href="../_variables/username.html">$username</a>)&nbsp;&nbsp;
<a href="../_functions/update_user_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Will update a local user record from an external source (MNET users can not be updated using this method!).<BR>
</b><BR><b>param:</b> string $username user's username to update the record<br>
<b>return:</b> stdClass A complete user object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_user_record_by_id" onClick="logFunction('update_user_record_by_id', 'moodlelib.php.source.html#l3791')" href="moodlelib.php.source.html#l3791">update_user_record_by_id</a>(<a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/update_user_record_by_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Will update a local user record from an external source (MNET users can not be updated using this method!).<BR>
</b><BR><b>param:</b> int $id user id<br>
<b>return:</b> stdClass A complete user object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="truncate_userinfo" onClick="logFunction('truncate_userinfo', 'moodlelib.php.source.html#l3858')" href="moodlelib.php.source.html#l3858">truncate_userinfo</a>(array <a href="../_variables/info.html">$info</a>)&nbsp;&nbsp;
<a href="../_functions/truncate_userinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Will truncate userinfo as it comes from auth_get_userinfo (from external auth) which may have large fields.<BR>
</b><BR><b>param:</b> array $info Array of user properties to truncate if needed<br>
<b>return:</b> array The now truncated information that was passed in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_user" onClick="logFunction('delete_user', 'moodlelib.php.source.html#l3893')" href="moodlelib.php.source.html#l3893">delete_user</a>(stdClass <a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/delete_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks user deleted in internal user database and notifies the auth plugin.<BR>
Also unenrols user from all roles and does other cleanup.<BR>
</b><BR>Any plugin that needs to purge user data should register the 'user_deleted' event.<BR>
<BR>
<b>param:</b> stdClass $user full user object before delete<br>
<b>return:</b> boolean success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="guest_user" onClick="logFunction('guest_user', 'moodlelib.php.source.html#l4060')" href="moodlelib.php.source.html#l4060">guest_user</a>()&nbsp;&nbsp;
<a href="../_functions/guest_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieve the guest user object.<BR>
</b><BR><b>return:</b> stdClass A {@link $USER} object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="authenticate_user_login" onClick="logFunction('authenticate_user_login', 'moodlelib.php.source.html#l4077')" href="moodlelib.php.source.html#l4077">authenticate_user_login</a>(<a href="../_variables/username.html">$username</a>, <a href="../_variables/password.html">$password</a>, <a href="../_variables/ignorelockout.html">$ignorelockout</a>=false, &amp;<a href="../_variables/failurereason.html">$failurereason</a>=null)&nbsp;&nbsp;
<a href="../_functions/authenticate_user_login.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Authenticates a user against the chosen authentication mechanism<BR>
</b><BR>Given a username and password, this function looks them<BR>
up using the currently selected authentication mechanism,<BR>
and if the authentication is successful, it returns a<BR>
valid $user object from the 'user' table.<BR>
<BR>
Uses auth_ functions from the currently active auth module<BR>
<BR>
After authenticate_user_login() returns success, you will need to<BR>
log that the user has logged in, and call complete_user_login() to set<BR>
the session up.<BR>
<BR>
Note: this function works only with non-mnet accounts!<BR>
<BR>
<b>param:</b> string $username&nbsp;&nbsp;User's username (or also email if $CFG-&gt;authloginviaemail enabled)<br>
<b>param:</b> string $password&nbsp;&nbsp;User's password<br>
<b>param:</b> bool $ignorelockout useful when guessing is prevented by other mechanism such as captcha or SSO<br>
<b>param:</b> int $failurereason login failure reason, can be used in renderers (it may disclose if account exists)<br>
<b>return:</b> stdClass|false A {@link $USER} object or false if error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="complete_user_login" onClick="logFunction('complete_user_login', 'moodlelib.php.source.html#l4292')" href="moodlelib.php.source.html#l4292">complete_user_login</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/complete_user_login.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Call to complete the user login process after authenticate_user_login()<BR>
has succeeded. It will setup the $USER variable and other required bits<BR>
and pieces.<BR>
</b><BR>NOTE:<BR>
- It will NOT log anything -- up to the caller to decide what to log.<BR>
- this function does not set any cookies any more!<BR>
<BR>
<b>param:</b> stdClass $user<br>
<b>return:</b> stdClass A {@link $USER} object - BC only, do not use<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="password_is_legacy_hash" onClick="logFunction('password_is_legacy_hash', 'moodlelib.php.source.html#l4358')" href="moodlelib.php.source.html#l4358">password_is_legacy_hash</a>(<a href="../_variables/password.html">$password</a>)&nbsp;&nbsp;
<a href="../_functions/password_is_legacy_hash.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check a password hash to see if it was hashed using the legacy hash algorithm (md5).<BR>
</b><BR><b>param:</b> string $password String to check.<br>
<b>return:</b> boolean True if the $password matches the format of an md5 sum.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_internal_user_password" onClick="logFunction('validate_internal_user_password', 'moodlelib.php.source.html#l4368')" href="moodlelib.php.source.html#l4368">validate_internal_user_password</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/password.html">$password</a>)&nbsp;&nbsp;
<a href="../_functions/validate_internal_user_password.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Compare password against hash stored in user object to determine if it is valid.<BR>
</b><BR>If necessary it also updates the stored hash to the current format.<BR>
<BR>
<b>param:</b> stdClass $user (Password property may be updated).<br>
<b>param:</b> string $password Plain text password.<br>
<b>return:</b> bool True if password is valid.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hash_internal_user_password" onClick="logFunction('hash_internal_user_password', 'moodlelib.php.source.html#l4425')" href="moodlelib.php.source.html#l4425">hash_internal_user_password</a>(<a href="../_variables/password.html">$password</a>, <a href="../_variables/fasthash.html">$fasthash</a> = false)&nbsp;&nbsp;
<a href="../_functions/hash_internal_user_password.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calculate hash for a plain text password.<BR>
</b><BR><b>param:</b> string $password Plain text password to be hashed.<br>
<b>param:</b> bool $fasthash If true, use a low cost factor when generating the hash<br>
<b>return:</b> string The hashed password.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_internal_user_password" onClick="logFunction('update_internal_user_password', 'moodlelib.php.source.html#l4452')" href="moodlelib.php.source.html#l4452">update_internal_user_password</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/password.html">$password</a>, <a href="../_variables/fasthash.html">$fasthash</a> = false)&nbsp;&nbsp;
<a href="../_functions/update_internal_user_password.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update password hash in user object (if necessary).<BR>
</b><BR>The password is updated if:<BR>
1. The password has changed (the hash of $user-&gt;password is different<BR>
to the hash of $password).<BR>
2. The existing hash is using an out-of-date algorithm (or the legacy<BR>
md5 algorithm).<BR>
<BR>
Updating the password will modify the $user object and the database<BR>
record to use the current hashing algorithm.<BR>
<BR>
<b>param:</b> stdClass $user User object (password property may be updated).<br>
<b>param:</b> string $password Plain text password.<br>
<b>param:</b> bool $fasthash If true, use a low cost factor when generating the hash<br>
<b>return:</b> bool Always returns true.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_complete_user_data" onClick="logFunction('get_complete_user_data', 'moodlelib.php.source.html#l4516')" href="moodlelib.php.source.html#l4516">get_complete_user_data</a>(<a href="../_variables/field.html">$field</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/mnethostid.html">$mnethostid</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_complete_user_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a complete user record, which includes all the info in the user record.<BR>
</b><BR>Intended for setting as $USER session variable<BR>
<BR>
<b>param:</b> string $field The user field to be checked for a given value.<br>
<b>param:</b> string $value The value to match for $field.<br>
<b>param:</b> int $mnethostid<br>
<b>return:</b> mixed False, or A {@link $USER} object.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_password_policy" onClick="logFunction('check_password_policy', 'moodlelib.php.source.html#l4609')" href="moodlelib.php.source.html#l4609">check_password_policy</a>(<a href="../_variables/password.html">$password</a>, &amp;<a href="../_variables/errmsg.html">$errmsg</a>)&nbsp;&nbsp;
<a href="../_functions/check_password_policy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate a password against the configured password policy<BR>
</b><BR><b>param:</b> string $password the password to be checked against the password policy<br>
<b>param:</b> string $errmsg the error message to display when the password doesn't comply with the policy.<br>
<b>return:</b> bool true if the password is valid according to the policy. false otherwise.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_login_session_preferences" onClick="logFunction('set_login_session_preferences', 'moodlelib.php.source.html#l4655')" href="moodlelib.php.source.html#l4655">set_login_session_preferences</a>()&nbsp;&nbsp;
<a href="../_functions/set_login_session_preferences.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>When logging in, this function is run to set certain preferences for the current SESSION.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_course" onClick="logFunction('delete_course', 'moodlelib.php.source.html#l4669')" href="moodlelib.php.source.html#l4669">delete_course</a>(<a href="../_variables/courseorid.html">$courseorid</a>, <a href="../_variables/showfeedback.html">$showfeedback</a> = true)&nbsp;&nbsp;
<a href="../_functions/delete_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a course, including all related data from the database, and any associated files.<BR>
</b><BR><b>param:</b> mixed $courseorid The id of the course or course object to delete.<br>
<b>param:</b> bool $showfeedback Whether to display notifications of each action the function performs.<br>
<b>return:</b> bool true if all the removals succeeded. false if there were any failures. If this<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_course_contents" onClick="logFunction('remove_course_contents', 'moodlelib.php.source.html#l4736')" href="moodlelib.php.source.html#l4736">remove_course_contents</a>(<a href="../_variables/courseid.html">$courseid</a>, <a href="../_variables/showfeedback.html">$showfeedback</a> = true, array <a href="../_variables/options.html">$options</a> = null)&nbsp;&nbsp;
<a href="../_functions/remove_course_contents.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clear a course out completely, deleting all content but don't delete the course itself.<BR>
</b><BR>This function does not verify any permissions.<BR>
<BR>
Please note this function also deletes all user enrolments,<BR>
enrolment instances and role assignments by default.<BR>
<BR>
$options:<BR>
- 'keep_roles_and_enrolments' - false by default<BR>
- 'keep_groups_and_groupings' - false by default<BR>
<BR>
<b>param:</b> int $courseid The id of the course that is being deleted<br>
<b>param:</b> bool $showfeedback Whether to display notifications of each action the function performs.<br>
<b>param:</b> array $options extra options<br>
<b>return:</b> bool true if all the removals succeeded. false if there were any failures. If this<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="shift_course_mod_dates" onClick="logFunction('shift_course_mod_dates', 'moodlelib.php.source.html#l5026')" href="moodlelib.php.source.html#l5026">shift_course_mod_dates</a>(<a href="../_variables/modname.html">$modname</a>, <a href="../_variables/fields.html">$fields</a>, <a href="../_variables/timeshift.html">$timeshift</a>, <a href="../_variables/courseid.html">$courseid</a>, <a href="../_variables/modid.html">$modid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/shift_course_mod_dates.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Change dates in module - used from course reset.<BR>
</b><BR><b>param:</b> string $modname forum, assignment, etc<br>
<b>param:</b> array $fields array of date fields from mod table<br>
<b>param:</b> int $timeshift time difference<br>
<b>param:</b> int $courseid<br>
<b>param:</b> int $modid (Optional) passed if specific mod instance in course needs to be updated.<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reset_course_userdata" onClick="logFunction('reset_course_userdata', 'moodlelib.php.source.html#l5061')" href="moodlelib.php.source.html#l5061">reset_course_userdata</a>(<a href="../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../_functions/reset_course_userdata.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will empty a course of user data.<BR>
It will retain the activities and the structure of the course.<BR>
</b><BR><b>param:</b> object $data an object containing all the settings including courseid (without magic quotes)<br>
<b>return:</b> array status array of array component, item, error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_email_processing_address" onClick="logFunction('generate_email_processing_address', 'moodlelib.php.source.html#l5320')" href="moodlelib.php.source.html#l5320">generate_email_processing_address</a>(<a href="../_variables/modid.html">$modid</a>, <a href="../_variables/modargs.html">$modargs</a>)&nbsp;&nbsp;
<a href="../_functions/generate_email_processing_address.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate an email processing address.<BR>
</b><BR><b>param:</b> int $modid<br>
<b>param:</b> string $modargs<br>
<b>return:</b> string Returns email processing address<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="moodle_process_email" onClick="logFunction('moodle_process_email', 'moodlelib.php.source.html#l5334')" href="moodlelib.php.source.html#l5334">moodle_process_email</a>(<a href="../_variables/modargs.html">$modargs</a>, <a href="../_variables/body.html">$body</a>)&nbsp;&nbsp;
<a href="../_functions/moodle_process_email.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>?<BR>
</b><BR><b>param:</b> string $modargs<br>
<b>param:</b> string $body Currently unused<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_mailer" onClick="logFunction('get_mailer', 'moodlelib.php.source.html#l5365')" href="moodlelib.php.source.html#l5365">get_mailer</a>(<a href="../_variables/action.html">$action</a>='get')&nbsp;&nbsp;
<a href="../_functions/get_mailer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get mailer instance, enable buffering, flush buffer or disable buffering.<BR>
</b><BR><b>param:</b> string $action 'get', 'buffer', 'close' or 'flush'<br>
<b>return:</b> moodle_phpmailer|null mailer instance if 'get' used or nothing<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="email_should_be_diverted" onClick="logFunction('email_should_be_diverted', 'moodlelib.php.source.html#l5488')" href="moodlelib.php.source.html#l5488">email_should_be_diverted</a>(<a href="../_variables/email.html">$email</a>)&nbsp;&nbsp;
<a href="../_functions/email_should_be_diverted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>A helper function to test for email diversion<BR>
</b><BR><b>param:</b> string $email<br>
<b>return:</b> bool Returns true if the email should be diverted<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_email_messageid" onClick="logFunction('generate_email_messageid', 'moodlelib.php.source.html#l5515')" href="moodlelib.php.source.html#l5515">generate_email_messageid</a>(<a href="../_variables/localpart.html">$localpart</a> = null)&nbsp;&nbsp;
<a href="../_functions/generate_email_messageid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a unique email Message-ID using the moodle domain and install path<BR>
</b><BR><b>param:</b> string $localpart An optional unique message id prefix.<br>
<b>return:</b> string The formatted ID ready for appending to the email headers.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="email_to_user" onClick="logFunction('email_to_user', 'moodlelib.php.source.html#l5546')" href="moodlelib.php.source.html#l5546">email_to_user</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/from.html">$from</a>, <a href="../_variables/subject.html">$subject</a>, <a href="../_variables/messagetext.html">$messagetext</a>, <a href="../_variables/messagehtml.html">$messagehtml</a> = '', <a href="../_variables/attachment.html">$attachment</a> = '', <a href="../_variables/attachname.html">$attachname</a> = '',<a href="../_variables/usetrueaddress.html">$usetrueaddress</a> = true, <a href="../_variables/replyto.html">$replyto</a> = '', <a href="../_variables/replytoname.html">$replytoname</a> = '', <a href="../_variables/wordwrapwidth.html">$wordwrapwidth</a> = 79)&nbsp;&nbsp;
<a href="../_functions/email_to_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Send an email to a specified user<BR>
</b><BR><b>param:</b> stdClass $user&nbsp;&nbsp;A {@link $USER} object<br>
<b>param:</b> stdClass $from A {@link $USER} object<br>
<b>param:</b> string $subject plain text subject line of the email<br>
<b>param:</b> string $messagetext plain text version of the message<br>
<b>param:</b> string $messagehtml complete html version of the message (optional)<br>
<b>param:</b> string $attachment a file on the filesystem, either relative to $CFG-&gt;dataroot or a full path to a file in $CFG-&gt;tempdir<br>
<b>param:</b> string $attachname the name of the file (extension indicates MIME)<br>
<b>param:</b> bool $usetrueaddress determines whether $from email address should<br>
<b>param:</b> string $replyto Email address to reply to<br>
<b>param:</b> string $replytoname Name of reply to recipient<br>
<b>param:</b> int $wordwrapwidth custom word wrap width, default 79<br>
<b>return:</b> bool Returns true if mail was sent OK and false if there was an error.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_email_signoff" onClick="logFunction('generate_email_signoff', 'moodlelib.php.source.html#l5876')" href="moodlelib.php.source.html#l5876">generate_email_signoff</a>()&nbsp;&nbsp;
<a href="../_functions/generate_email_signoff.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a signoff for emails based on support settings<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setnew_password_and_mail" onClick="logFunction('setnew_password_and_mail', 'moodlelib.php.source.html#l5897')" href="moodlelib.php.source.html#l5897">setnew_password_and_mail</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/fasthash.html">$fasthash</a> = false)&nbsp;&nbsp;
<a href="../_functions/setnew_password_and_mail.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets specified user's password and send the new password to the user via email.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>param:</b> bool $fasthash If true, use a low cost factor when generating the hash for speed.<br>
<b>return:</b> bool|string Returns &quot;true&quot; if mail was sent OK and &quot;false&quot; if there was an error<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reset_password_and_mail" onClick="logFunction('reset_password_and_mail', 'moodlelib.php.source.html#l5937')" href="moodlelib.php.source.html#l5937">reset_password_and_mail</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/reset_password_and_mail.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Resets specified user's password and send the new password to the user via email.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>return:</b> bool Returns true if mail was sent OK and false if there was an error.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="send_confirmation_email" onClick="logFunction('send_confirmation_email', 'moodlelib.php.source.html#l5980')" href="moodlelib.php.source.html#l5980">send_confirmation_email</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/send_confirmation_email.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Send email to specified user with confirmation text and activation link.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>return:</b> bool Returns true if mail was sent OK and false if there was an error.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="send_password_change_confirmation_email" onClick="logFunction('send_password_change_confirmation_email', 'moodlelib.php.source.html#l6011')" href="moodlelib.php.source.html#l6011">send_password_change_confirmation_email</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/resetrecord.html">$resetrecord</a>)&nbsp;&nbsp;
<a href="../_functions/send_password_change_confirmation_email.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sends a password change confirmation email.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>param:</b> stdClass $resetrecord An object tracking metadata regarding password reset request<br>
<b>return:</b> bool Returns true if mail was sent OK and false if there was an error.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="send_password_change_info" onClick="logFunction('send_password_change_info', 'moodlelib.php.source.html#l6042')" href="moodlelib.php.source.html#l6042">send_password_change_info</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/send_password_change_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sends an email containinginformation on how to change your password.<BR>
</b><BR><b>param:</b> stdClass $user A {@link $USER} object<br>
<b>return:</b> bool Returns true if mail was sent OK and false if there was an error.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="email_is_not_allowed" onClick="logFunction('email_is_not_allowed', 'moodlelib.php.source.html#l6092')" href="moodlelib.php.source.html#l6092">email_is_not_allowed</a>(<a href="../_variables/email.html">$email</a>)&nbsp;&nbsp;
<a href="../_functions/email_is_not_allowed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check that an email is allowed.&nbsp;&nbsp;It returns an error message if there was a problem.<BR>
</b><BR><b>param:</b> string $email Content of email<br>
<b>return:</b> string|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_file_storage" onClick="logFunction('get_file_storage', 'moodlelib.php.source.html#l6144')" href="moodlelib.php.source.html#l6144">get_file_storage</a>()&nbsp;&nbsp;
<a href="../_functions/get_file_storage.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns local file storage instance<BR>
</b><BR><b>return:</b> file_storage<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_file_browser" onClick="logFunction('get_file_browser', 'moodlelib.php.source.html#l6177')" href="moodlelib.php.source.html#l6177">get_file_browser</a>()&nbsp;&nbsp;
<a href="../_functions/get_file_browser.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns local file storage instance<BR>
</b><BR><b>return:</b> file_browser<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_file_packer" onClick="logFunction('get_file_packer', 'moodlelib.php.source.html#l6198')" href="moodlelib.php.source.html#l6198">get_file_packer</a>(<a href="../_variables/mimetype.html">$mimetype</a>='application/zip')&nbsp;&nbsp;
<a href="../_functions/get_file_packer.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns file packer<BR>
</b><BR><b>param:</b> string $mimetype default application/zip<br>
<b>return:</b> file_packer<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="valid_uploaded_file" onClick="logFunction('valid_uploaded_file', 'moodlelib.php.source.html#l6237')" href="moodlelib.php.source.html#l6237">valid_uploaded_file</a>(<a href="../_variables/newfile.html">$newfile</a>)&nbsp;&nbsp;
<a href="../_functions/valid_uploaded_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns current name of file on disk if it exists.<BR>
</b><BR><b>param:</b> string $newfile File to be verified<br>
<b>return:</b> string Current name of file on disk if true<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_max_upload_file_size" onClick="logFunction('get_max_upload_file_size', 'moodlelib.php.source.html#l6254')" href="moodlelib.php.source.html#l6254">get_max_upload_file_size</a>(<a href="../_variables/sitebytes.html">$sitebytes</a>=0, <a href="../_variables/coursebytes.html">$coursebytes</a>=0, <a href="../_variables/modulebytes.html">$modulebytes</a>=0, <a href="../_variables/unused.html">$unused</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_max_upload_file_size.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the maximum size for uploading files.<BR>
</b><BR>There are seven possible upload limits:<BR>
1. in Apache using LimitRequestBody (no way of checking or changing this)<BR>
2. in php.ini for 'upload_max_filesize' (can not be changed inside PHP)<BR>
3. in .htaccess for 'upload_max_filesize' (can not be changed inside PHP)<BR>
4. in php.ini for 'post_max_size' (can not be changed inside PHP)<BR>
5. by the Moodle admin in $CFG-&gt;maxbytes<BR>
6. by the teacher in the current course $course-&gt;maxbytes<BR>
7. by the teacher for the current module, eg $assignment-&gt;maxbytes<BR>
<BR>
These last two are passed to this function as arguments (in bytes).<BR>
Anything defined as 0 is ignored.<BR>
The smallest of all the non-zero numbers is returned.<BR>
<BR>
<b>param:</b> int $sitebytes Set maximum size<br>
<b>param:</b> int $coursebytes Current course $course-&gt;maxbytes (in bytes)<br>
<b>param:</b> int $modulebytes Current module -&gt;maxbytes (in bytes)<br>
<b>param:</b> bool $unused This parameter has been deprecated and is not used any more.<br>
<b>return:</b> int The maximum size for uploading files.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_max_upload_file_size" onClick="logFunction('get_user_max_upload_file_size', 'moodlelib.php.source.html#l6307')" href="moodlelib.php.source.html#l6307">get_user_max_upload_file_size</a>(<a href="../_variables/context.html">$context</a>, <a href="../_variables/sitebytes.html">$sitebytes</a> = 0, <a href="../_variables/coursebytes.html">$coursebytes</a> = 0, <a href="../_variables/modulebytes.html">$modulebytes</a> = 0, <a href="../_variables/user.html">$user</a> = null,<a href="../_variables/unused.html">$unused</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_user_max_upload_file_size.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the maximum size for uploading files for the current user<BR>
</b><BR>This function takes in account {@link get_max_upload_file_size()} the user's capabilities<BR>
<BR>
<b>param:</b> context $context The context in which to check user capabilities<br>
<b>param:</b> int $sitebytes Set maximum size<br>
<b>param:</b> int $coursebytes Current course $course-&gt;maxbytes (in bytes)<br>
<b>param:</b> int $modulebytes Current module -&gt;maxbytes (in bytes)<br>
<b>param:</b> stdClass $user The user<br>
<b>param:</b> bool $unused This parameter has been deprecated and is not used any more.<br>
<b>return:</b> int The maximum size for uploading files.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_max_upload_sizes" onClick="logFunction('get_max_upload_sizes', 'moodlelib.php.source.html#l6335')" href="moodlelib.php.source.html#l6335">get_max_upload_sizes</a>(<a href="../_variables/sitebytes.html">$sitebytes</a> = 0, <a href="../_variables/coursebytes.html">$coursebytes</a> = 0, <a href="../_variables/modulebytes.html">$modulebytes</a> = 0, <a href="../_variables/custombytes.html">$custombytes</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_max_upload_sizes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of possible sizes in local language<BR>
</b><BR>Related to {@link get_max_upload_file_size()} - this function returns an<BR>
array of possible sizes in an array, translated to the<BR>
local language.<BR>
<BR>
The list of options will go up to the minimum of $sitebytes, $coursebytes or $modulebytes.<BR>
<BR>
If $coursebytes or $sitebytes is not 0, an option will be included for &quot;Course/Site upload limit (X)&quot;<BR>
with the value set to 0. This option will be the first in the list.<BR>
<BR>
<b>param:</b> int $sitebytes Set maximum size<br>
<b>param:</b> int $coursebytes Current course $course-&gt;maxbytes (in bytes)<br>
<b>param:</b> int $modulebytes Current module -&gt;maxbytes (in bytes)<br>
<b>param:</b> int|array $custombytes custom upload size/s which will be added to list,<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_directory_list" onClick="logFunction('get_directory_list', 'moodlelib.php.source.html#l6422')" href="moodlelib.php.source.html#l6422">get_directory_list</a>(<a href="../_variables/rootdir.html">$rootdir</a>, <a href="../_variables/excludefiles.html">$excludefiles</a>='', <a href="../_variables/descend.html">$descend</a>=true, <a href="../_variables/getdirs.html">$getdirs</a>=false, <a href="../_variables/getfiles.html">$getfiles</a>=true)&nbsp;&nbsp;
<a href="../_functions/get_directory_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array with all the filenames in all subdirectories, relative to the given rootdir.<BR>
</b><BR>If excludefiles is defined, then that file/directory is ignored<BR>
If getdirs is true, then (sub)directories are included in the output<BR>
If getfiles is true, then files are included in the output<BR>
(at least one of these must be true!)<BR>
<BR>
<b>param:</b> string $rootdir A given root directory to start from<br>
<b>param:</b> string|array $excludefiles If defined then the specified file/directory is ignored<br>
<b>param:</b> bool $descend If true then subdirectories are recursed as well<br>
<b>param:</b> bool $getdirs If true then (sub)directories are included in the output<br>
<b>param:</b> bool $getfiles&nbsp;&nbsp;If true then files are included in the output<br>
<b>return:</b> array An array with all the filenames in all subdirectories, relative to the given rootdir<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_directory_size" onClick="logFunction('get_directory_size', 'moodlelib.php.source.html#l6487')" href="moodlelib.php.source.html#l6487">get_directory_size</a>(<a href="../_variables/rootdir.html">$rootdir</a>, <a href="../_variables/excludefile.html">$excludefile</a>='')&nbsp;&nbsp;
<a href="../_functions/get_directory_size.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds up all the files in a directory and works out the size.<BR>
</b><BR><b>param:</b> string $rootdir&nbsp;&nbsp;The directory to start from<br>
<b>param:</b> string $excludefile A file to exclude when summing directory size<br>
<b>return:</b> int The summed size of all files and subfiles within the root directory<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="display_size" onClick="logFunction('display_size', 'moodlelib.php.source.html#l6538')" href="moodlelib.php.source.html#l6538">display_size</a>(<a href="../_variables/size.html">$size</a>)&nbsp;&nbsp;
<a href="../_functions/display_size.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts bytes into display form<BR>
</b><BR><b>param:</b> int $size&nbsp;&nbsp;The size to convert to human readable form<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clean_filename" onClick="logFunction('clean_filename', 'moodlelib.php.source.html#l6575')" href="moodlelib.php.source.html#l6575">clean_filename</a>(<a href="../_variables/string.html">$string</a>)&nbsp;&nbsp;
<a href="../_functions/clean_filename.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cleans a given filename by removing suspicious or troublesome characters<BR>
</b><BR><b>param:</b> string $string file name<br>
<b>return:</b> string cleaned file name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="current_language" onClick="logFunction('current_language', 'moodlelib.php.source.html#l6589')" href="moodlelib.php.source.html#l6589">current_language</a>()&nbsp;&nbsp;
<a href="../_functions/current_language.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the code for the current language<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_parent_language" onClick="logFunction('get_parent_language', 'moodlelib.php.source.html#l6629')" href="moodlelib.php.source.html#l6629">get_parent_language</a>(<a href="../_variables/lang.html">$lang</a>=null)&nbsp;&nbsp;
<a href="../_functions/get_parent_language.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns parent language of current active language if defined<BR>
</b><BR><b>param:</b> string $lang null means current language<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="force_current_language" onClick="logFunction('force_current_language', 'moodlelib.php.source.html#l6656')" href="moodlelib.php.source.html#l6656">force_current_language</a>(<a href="../_variables/language.html">$language</a>)&nbsp;&nbsp;
<a href="../_functions/force_current_language.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Force the current language to get strings and dates localised in the given language.<BR>
</b><BR>After calling this function, all strings will be provided in the given language<BR>
until this function is called again, or equivalent code is run.<BR>
<BR>
<b>param:</b> string $language<br>
<b>return:</b> string previous $SESSION-&gt;forcelang value<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_string_manager" onClick="logFunction('get_string_manager', 'moodlelib.php.source.html#l6678')" href="moodlelib.php.source.html#l6678">get_string_manager</a>(<a href="../_variables/forcereload.html">$forcereload</a>=false)&nbsp;&nbsp;
<a href="../_functions/get_string_manager.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns current string_manager instance.<BR>
</b><BR>The param $forcereload is needed for CLI installer only where the string_manager instance<BR>
must be replaced during the install.php script life time.<BR>
<BR>
<b>param:</b> bool $forcereload shall the singleton be released and new instance created instead?<br>
<b>return:</b> core_string_manager<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_string" onClick="logFunction('get_string', 'moodlelib.php.source.html#l6735')" href="moodlelib.php.source.html#l6735">get_string</a>(<a href="../_variables/identifier.html">$identifier</a>, <a href="../_variables/component.html">$component</a> = '', <a href="../_variables/a.html">$a</a> = null, <a href="../_variables/lazyload.html">$lazyload</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a localized string.<BR>
</b><BR>Returns the translated string specified by $identifier as<BR>
for $module.&nbsp;&nbsp;Uses the same format files as STphp.<BR>
$a is an object, string or number that can be used<BR>
within translation strings<BR>
<BR>
eg 'hello {$a-&gt;firstname} {$a-&gt;lastname}'<BR>
or 'hello {$a}'<BR>
<BR>
If you would like to directly echo the localized string use<BR>
the function {@link print_string()}<BR>
<BR>
Example usage of this function involves finding the string you would<BR>
like a local equivalent of and using its identifier and module information<BR>
to retrieve it.&lt;br/&gt;<BR>
If you open moodle/lang/en/moodle.php and look near line 278<BR>
you will find a string to prompt a user for their word for 'course'<BR>
&lt;code&gt;<BR>
$string['course'] = 'Course';<BR>
&lt;/code&gt;<BR>
So if you want to display the string 'Course'<BR>
in any language that supports it on your site<BR>
you just need to use the identifier 'course'<BR>
&lt;code&gt;<BR>
$mystring = '&lt;strong&gt;'. get_string('course') .'&lt;/strong&gt;';<BR>
or<BR>
&lt;/code&gt;<BR>
If the string you want is in another file you'd take a slightly<BR>
different approach. Looking in moodle/lang/en/calendar.php you find<BR>
around line 75:<BR>
&lt;code&gt;<BR>
$string['typecourse'] = 'Course event';<BR>
&lt;/code&gt;<BR>
If you want to display the string &quot;Course event&quot; in any language<BR>
supported you would use the identifier 'typecourse' and the module 'calendar'<BR>
(because it is in the file calendar.php):<BR>
&lt;code&gt;<BR>
$mystring = '&lt;h1&gt;'. get_string('typecourse', 'calendar') .'&lt;/h1&gt;';<BR>
&lt;/code&gt;<BR>
<BR>
As a last resort, should the identifier fail to map to a string<BR>
the returned string will be [[ $identifier ]]<BR>
<BR>
In Moodle 2.3 there is a new argument to this function $lazyload.<BR>
Setting $lazyload to true causes get_string to return a lang_string object<BR>
rather than the string itself. The fetching of the string is then put off until<BR>
the string object is first used. The object can be used by calling it's out<BR>
method or by casting the object to a string, either directly e.g.<BR>
(string)$stringobject<BR>
or indirectly by using the string within another string or echoing it out e.g.<BR>
echo $stringobject<BR>
return &quot;&lt;p&gt;{$stringobject}&lt;/p&gt;&quot;;<BR>
It is worth noting that using $lazyload and attempting to use the string as an<BR>
array key will cause a fatal error as objects cannot be used as array keys.<BR>
But you should never do that anyway!<BR>
For more information {@link lang_string}<BR>
<BR>
<b>param:</b> string $identifier The key identifier for the localized string<br>
<b>param:</b> string $component The module where the key identifier is stored,<br>
<b>param:</b> string|object|array $a An object, string or number that can be used<br>
<b>param:</b> bool $lazyload If set to true a string object is returned instead of<br>
<b>return:</b> string The localized string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_strings" onClick="logFunction('get_strings', 'moodlelib.php.source.html#l6862')" href="moodlelib.php.source.html#l6862">get_strings</a>(<a href="../_variables/array.html">$array</a>, <a href="../_variables/component.html">$component</a> = '')&nbsp;&nbsp;
<a href="../_functions/get_strings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts an array of strings to their localized value.<BR>
</b><BR><b>param:</b> array $array An array of strings<br>
<b>param:</b> string $component The language module that these strings can be found in.<br>
<b>return:</b> stdClass translated strings.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_string" onClick="logFunction('print_string', 'moodlelib.php.source.html#l6877')" href="moodlelib.php.source.html#l6877">print_string</a>(<a href="../_variables/identifier.html">$identifier</a>, <a href="../_variables/component.html">$component</a> = '', <a href="../_variables/a.html">$a</a> = null)&nbsp;&nbsp;
<a href="../_functions/print_string.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints out a translated string.<BR>
</b><BR>Prints out a translated string using the return value from the {@link get_string()} function.<BR>
<BR>
Example usage of this function when the string is in the moodle.php file:&lt;br/&gt;<BR>
&lt;code&gt;<BR>
echo '&lt;strong&gt;';<BR>
print_string('course');<BR>
echo '&lt;/strong&gt;';<BR>
&lt;/code&gt;<BR>
<BR>
Example usage of this function when the string is not in the moodle.php file:&lt;br/&gt;<BR>
&lt;code&gt;<BR>
echo '&lt;h1&gt;';<BR>
print_string('typecourse', 'calendar');<BR>
echo '&lt;/h1&gt;';<BR>
&lt;/code&gt;<BR>
<BR>
<b>param:</b> string $identifier The key identifier for the localized string<br>
<b>param:</b> string $component The module where the key identifier is stored. If none is specified then moodle.php is used.<br>
<b>param:</b> string|object|array $a An object, string or number that can be used within translation strings<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_list_of_charsets" onClick="logFunction('get_list_of_charsets', 'moodlelib.php.source.html#l6905')" href="moodlelib.php.source.html#l6905">get_list_of_charsets</a>()&nbsp;&nbsp;
<a href="../_functions/get_list_of_charsets.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a list of charset codes<BR>
</b><BR>Returns a list of charset codes. It's hardcoded, so they should be added manually<BR>
(checking that such charset is supported by the texlib library!)<BR>
<BR>
<b>return:</b> array And associative array with contents in the form of charset =&gt; charset<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_list_of_themes" onClick="logFunction('get_list_of_themes', 'moodlelib.php.source.html#l6929')" href="moodlelib.php.source.html#l6929">get_list_of_themes</a>()&nbsp;&nbsp;
<a href="../_functions/get_list_of_themes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a list of valid and compatible themes<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_emoticon_manager" onClick="logFunction('get_emoticon_manager', 'moodlelib.php.source.html#l6955')" href="moodlelib.php.source.html#l6955">get_emoticon_manager</a>()&nbsp;&nbsp;
<a href="../_functions/get_emoticon_manager.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Factory function for emoticon_manager<BR>
</b><BR><b>return:</b> emoticon_manager singleton<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
