<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/dml/moodle_database.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/dml';
filename='moodle_database.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/dml/</a> -> <a href="moodle_database.php.html">moodle_database.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="moodle_database.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="moodle_database.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Abstract database driver class.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_dml</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2008 Petr Skoda (http://skodak.org)</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../lib/dml/database_column_info.php.html" onMouseOver="reqPopup(event, 'database_column_info.php', '../../lib/dml/database_column_info.php')">(__DIR__.'/database_column_info.php')</a>;
<a name="l28"><span class="linenum">  28</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../lib/dml/moodle_recordset.php.html" onMouseOver="reqPopup(event, 'moodle_recordset.php', '../../lib/dml/moodle_recordset.php')">(__DIR__.'/moodle_recordset.php')</a>;
<a name="l29"><span class="linenum">  29</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../lib/dml/moodle_transaction.php.html" onMouseOver="reqPopup(event, 'moodle_transaction.php', '../../lib/dml/moodle_transaction.php')">(__DIR__.'/moodle_transaction.php')</a>;
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/** SQL_PARAMS_NAMED - Bitmask, indicates :name type parameters are supported by db backend. */</span>
<a name="l32"><span class="linenum">  32</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>', 1);
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">/** SQL_PARAMS_QM - Bitmask, indicates ? type parameters are supported by db backend. */</span>
<a name="l35"><span class="linenum">  35</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>', 2);
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">/** SQL_PARAMS_DOLLAR - Bitmask, indicates $1, $2, ... type parameters are supported by db backend. */</span>
<a name="l38"><span class="linenum">  38</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>', 4);
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">/** SQL_QUERY_SELECT - Normal select query, reading only. */</span>
<a name="l41"><span class="linenum">  41</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_QUERY_SELECT')" href="../../_constants/SQL_QUERY_SELECT.html" onMouseOver="constPopup(event,'SQL_QUERY_SELECT')">SQL_QUERY_SELECT</a>', 1);
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">/** SQL_QUERY_INSERT - Insert select query, writing. */</span>
<a name="l44"><span class="linenum">  44</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_QUERY_INSERT')" href="../../_constants/SQL_QUERY_INSERT.html" onMouseOver="constPopup(event,'SQL_QUERY_INSERT')">SQL_QUERY_INSERT</a>', 2);
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">/** SQL_QUERY_UPDATE - Update select query, writing. */</span>
<a name="l47"><span class="linenum">  47</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_QUERY_UPDATE')" href="../../_constants/SQL_QUERY_UPDATE.html" onMouseOver="constPopup(event,'SQL_QUERY_UPDATE')">SQL_QUERY_UPDATE</a>', 3);
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">/** SQL_QUERY_STRUCTURE - Query changing db structure, writing. */</span>
<a name="l50"><span class="linenum">  50</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_QUERY_STRUCTURE')" href="../../_constants/SQL_QUERY_STRUCTURE.html" onMouseOver="constPopup(event,'SQL_QUERY_STRUCTURE')">SQL_QUERY_STRUCTURE</a>', 4);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">/** SQL_QUERY_AUX - Auxiliary query done by driver, setting connection config, getting table info, etc. */</span>
<a name="l53"><span class="linenum">  53</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SQL_QUERY_AUX')" href="../../_constants/SQL_QUERY_AUX.html" onMouseOver="constPopup(event,'SQL_QUERY_AUX')">SQL_QUERY_AUX</a>', 5);
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">/**</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> * Abstract class representing moodle database interface.</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * @link http://docs.moodle.org/dev/DML_functions</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @package    core_dml</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * @copyright  2008 Petr Skoda (http://skodak.org)</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> */</span>
<a name="l63"><span class="linenum">  63</span></a>  abstract class moodle_database {
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">    /** @var database_manager db manager which allows db structure modifications. */</span>
<a name="l66"><span class="linenum">  66</span></a>      protected <a class="var it25339" onMouseOver="hilite(25339)" onMouseOut="lolite()" onClick="logVariable('database_manager')" href="../../_variables/database_manager.html">$database_manager</a>;
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">    /** @var moodle_temptables temptables manager to provide cross-db support for temp tables. */</span>
<a name="l68"><span class="linenum">  68</span></a>      protected <a class="var it4637" onMouseOver="hilite(4637)" onMouseOut="lolite()" onClick="logVariable('temptables')" href="../../_variables/temptables.html">$temptables</a>;
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">    /** @var array Cache of table info. */</span>
<a name="l70"><span class="linenum">  70</span></a>      protected <a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a>  = null;
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">    // db connection options</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">    /** @var string db host name. */</span>
<a name="l74"><span class="linenum">  74</span></a>      protected <a class="var it3457" onMouseOver="hilite(3457)" onMouseOut="lolite()" onClick="logVariable('dbhost')" href="../../_variables/dbhost.html">$dbhost</a>;
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">    /** @var string db host user. */</span>
<a name="l76"><span class="linenum">  76</span></a>      protected <a class="var it3458" onMouseOver="hilite(3458)" onMouseOut="lolite()" onClick="logVariable('dbuser')" href="../../_variables/dbuser.html">$dbuser</a>;
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">    /** @var string db host password. */</span>
<a name="l78"><span class="linenum">  78</span></a>      protected <a class="var it3459" onMouseOver="hilite(3459)" onMouseOut="lolite()" onClick="logVariable('dbpass')" href="../../_variables/dbpass.html">$dbpass</a>;
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">    /** @var string db name. */</span>
<a name="l80"><span class="linenum">  80</span></a>      protected <a class="var it3460" onMouseOver="hilite(3460)" onMouseOut="lolite()" onClick="logVariable('dbname')" href="../../_variables/dbname.html">$dbname</a>;
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">    /** @var string Prefix added to table names. */</span>
<a name="l82"><span class="linenum">  82</span></a>      protected <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>;
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">    /** @var array Database or driver specific options, such as sockets or TCP/IP db connections. */</span>
<a name="l85"><span class="linenum">  85</span></a>      protected <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('dboptions')" href="../../_variables/dboptions.html">$dboptions</a>;
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">    /** @var bool True means non-moodle external database used.*/</span>
<a name="l88"><span class="linenum">  88</span></a>      protected <a class="var it3456" onMouseOver="hilite(3456)" onMouseOut="lolite()" onClick="logVariable('external')" href="../../_variables/external.html">$external</a>;
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">    /** @var int The database reads (performance counter).*/</span>
<a name="l91"><span class="linenum">  91</span></a>      protected <a class="var it15949" onMouseOver="hilite(15949)" onMouseOut="lolite()" onClick="logVariable('reads')" href="../../_variables/reads.html">$reads</a> = 0;
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">    /** @var int The database writes (performance counter).*/</span>
<a name="l93"><span class="linenum">  93</span></a>      protected <a class="var it18896" onMouseOver="hilite(18896)" onMouseOut="lolite()" onClick="logVariable('writes')" href="../../_variables/writes.html">$writes</a> = 0;
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">    /** @var float Time queries took to finish, seconds with microseconds.*/</span>
<a name="l95"><span class="linenum">  95</span></a>      protected <a class="var it25340" onMouseOver="hilite(25340)" onMouseOut="lolite()" onClick="logVariable('queriestime')" href="../../_variables/queriestime.html">$queriestime</a> = 0;
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">    /** @var int Debug level. */</span>
<a name="l98"><span class="linenum">  98</span></a>      protected <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('debug')" href="../../_variables/debug.html">$debug</a>  = 0;
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">    /** @var string Last used query sql. */</span>
<a name="l101"><span class="linenum"> 101</span></a>      protected <a class="var it25341" onMouseOver="hilite(25341)" onMouseOut="lolite()" onClick="logVariable('last_sql')" href="../../_variables/last_sql.html">$last_sql</a>;
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">    /** @var array Last query parameters. */</span>
<a name="l103"><span class="linenum"> 103</span></a>      protected <a class="var it25342" onMouseOver="hilite(25342)" onMouseOut="lolite()" onClick="logVariable('last_params')" href="../../_variables/last_params.html">$last_params</a>;
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">    /** @var int Last query type. */</span>
<a name="l105"><span class="linenum"> 105</span></a>      protected <a class="var it24906" onMouseOver="hilite(24906)" onMouseOut="lolite()" onClick="logVariable('last_type')" href="../../_variables/last_type.html">$last_type</a>;
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">    /** @var string Last extra info. */</span>
<a name="l107"><span class="linenum"> 107</span></a>      protected <a class="var it25343" onMouseOver="hilite(25343)" onMouseOut="lolite()" onClick="logVariable('last_extrainfo')" href="../../_variables/last_extrainfo.html">$last_extrainfo</a>;
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">    /** @var float Last time in seconds with millisecond precision. */</span>
<a name="l109"><span class="linenum"> 109</span></a>      protected <a class="var it25344" onMouseOver="hilite(25344)" onMouseOut="lolite()" onClick="logVariable('last_time')" href="../../_variables/last_time.html">$last_time</a>;
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">    /** @var bool Flag indicating logging of query in progress. This helps prevent infinite loops. */</span>
<a name="l111"><span class="linenum"> 111</span></a>      private <a class="var it25345" onMouseOver="hilite(25345)" onMouseOut="lolite()" onClick="logVariable('loggingquery')" href="../../_variables/loggingquery.html">$loggingquery</a> = false;
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">    /** @var bool True if the db is used for db sessions. */</span>
<a name="l114"><span class="linenum"> 114</span></a>      protected <a class="var it4680" onMouseOver="hilite(4680)" onMouseOut="lolite()" onClick="logVariable('used_for_db_sessions')" href="../../_variables/used_for_db_sessions.html">$used_for_db_sessions</a> = false;
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">    /** @var array Array containing open transactions. */</span>
<a name="l117"><span class="linenum"> 117</span></a>      private <a class="var it25346" onMouseOver="hilite(25346)" onMouseOut="lolite()" onClick="logVariable('transactions')" href="../../_variables/transactions.html">$transactions</a> = array();
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">    /** @var bool Flag used to force rollback of all current transactions. */</span>
<a name="l119"><span class="linenum"> 119</span></a>      private <a class="var it25347" onMouseOver="hilite(25347)" onMouseOut="lolite()" onClick="logVariable('force_rollback')" href="../../_variables/force_rollback.html">$force_rollback</a> = false;
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">    /** @var string MD5 of settings used for connection. Used by MUC as an identifier. */</span>
<a name="l122"><span class="linenum"> 122</span></a>      private <a class="var it25348" onMouseOver="hilite(25348)" onMouseOut="lolite()" onClick="logVariable('settingshash')" href="../../_variables/settingshash.html">$settingshash</a>;
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">    /** @var cache_application for column info */</span>
<a name="l125"><span class="linenum"> 125</span></a>      protected <a class="var it25349" onMouseOver="hilite(25349)" onMouseOut="lolite()" onClick="logVariable('metacache')" href="../../_variables/metacache.html">$metacache</a>;
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">    /** @var bool flag marking database instance as disposed */</span>
<a name="l128"><span class="linenum"> 128</span></a>      protected <a class="var it25350" onMouseOver="hilite(25350)" onMouseOut="lolite()" onClick="logVariable('disposed')" href="../../_variables/disposed.html">$disposed</a>;
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>      <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @var int internal temporary variable used to fix params. Its used by {@link _fix_sql_params_dollar_callback()}.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     */</span>
<a name="l133"><span class="linenum"> 133</span></a>      private <a class="var it25351" onMouseOver="hilite(25351)" onMouseOut="lolite()" onClick="logVariable('fix_sql_params_i')" href="../../_variables/fix_sql_params_i.html">$fix_sql_params_i</a>;
<a name="l134"><span class="linenum"> 134</span></a>      <span class="comment">/**</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * @var int internal temporary variable used to guarantee unique parameters in each request. Its used by {@link get_in_or_equal()}.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     */</span>
<a name="l137"><span class="linenum"> 137</span></a>      private <a class="var it25352" onMouseOver="hilite(25352)" onMouseOut="lolite()" onClick="logVariable('inorequaluniqueindex')" href="../../_variables/inorequaluniqueindex.html">$inorequaluniqueindex</a> = 1;
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>      <span class="comment">/**</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * Constructor - Instantiates the database, specifying if it's external (connect to other systems) or not (Moodle DB).</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     *              Note that this affects the decision of whether prefix checks must be performed or not.</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * @param bool $external True means that an external database is used.</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     */</span>
<a name="l144"><span class="linenum"> 144</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it3456" onMouseOver="hilite(3456)" onMouseOut="lolite()" onClick="logVariable('external')" href="../../_variables/external.html">$external</a>=false) {
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('external')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/external.html">external</a>  = <a class="var it3456" onMouseOver="hilite(3456)" onMouseOut="lolite()" onClick="logVariable('external')" href="../../_variables/external.html">$external</a>;
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * Destructor - cleans up and flushes everything needed.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     */</span>
<a name="l151"><span class="linenum"> 151</span></a>      public function <a class="function" onClick="logFunction('__destruct')" href="../../_functions/__destruct.html" onMouseOver="funcPopup(event,'__destruct')">__destruct</a>() {
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>();
<a name="l153"><span class="linenum"> 153</span></a>      }
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>      <span class="comment">/**</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     * Detects if all needed PHP stuff are installed for DB connectivity.</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * @return mixed True if requirements are met, otherwise a string if something isn't installed.</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     */</span>
<a name="l160"><span class="linenum"> 160</span></a>      public abstract function <a class="function" onClick="logFunction('driver_installed')" href="../../_functions/driver_installed.html" onMouseOver="funcPopup(event,'driver_installed')">driver_installed</a>();
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>      <span class="comment">/**</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * Returns database table prefix</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">     * @return string The prefix used in the database.</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     */</span>
<a name="l167"><span class="linenum"> 167</span></a>      public function <a class="function" onClick="logFunction('get_prefix')" href="../../_functions/get_prefix.html" onMouseOver="funcPopup(event,'get_prefix')">get_prefix</a>() {
<a name="l168"><span class="linenum"> 168</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>;
<a name="l169"><span class="linenum"> 169</span></a>      }
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>      <span class="comment">/**</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * Loads and returns a database instance with the specified type and library.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     *</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * The loaded class is within lib/dml directory and of the form: $type.'_'.$library.'_moodle_database'</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     *</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * @param string $type Database driver's type. (eg: mysqli, pgsql, mssql, sqldrv, oci, etc.)</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @param string $library Database driver's library (native, pdo, etc.)</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * @param bool $external True if this is an external database.</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     * @return moodle_database driver object or null if error, for example of driver object see {@link mysqli_native_moodle_database}</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     */</span>
<a name="l181"><span class="linenum"> 181</span></a>      public static function <a class="function" onClick="logFunction('get_driver_instance')" href="../../_functions/get_driver_instance.html" onMouseOver="funcPopup(event,'get_driver_instance')">get_driver_instance</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it12143" onMouseOver="hilite(12143)" onMouseOut="lolite()" onClick="logVariable('library')" href="../../_variables/library.html">$library</a>, <a class="var it3456" onMouseOver="hilite(3456)" onMouseOut="lolite()" onClick="logVariable('external')" href="../../_variables/external.html">$external</a> = false) {
<a name="l182"><span class="linenum"> 182</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a> = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>.'_'.<a class="var it12143" onMouseOver="hilite(12143)" onMouseOut="lolite()" onClick="logVariable('library')" href="../../_variables/library.html">$library</a>.'_moodle_database';
<a name="l185"><span class="linenum"> 185</span></a>          <a class="var it5388" onMouseOver="hilite(5388)" onMouseOut="lolite()" onClick="logVariable('libfile')" href="../../_variables/libfile.html">$libfile</a>   = &quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/dml/<a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a>.php&quot;;
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>          if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it5388" onMouseOver="hilite(5388)" onMouseOut="lolite()" onClick="logVariable('libfile')" href="../../_variables/libfile.html">$libfile</a>)) {
<a name="l188"><span class="linenum"> 188</span></a>              return null;
<a name="l189"><span class="linenum"> 189</span></a>          }
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          require_once(<a class="var it5388" onMouseOver="hilite(5388)" onMouseOut="lolite()" onClick="logVariable('libfile')" href="../../_variables/libfile.html">$libfile</a>);
<a name="l192"><span class="linenum"> 192</span></a>          return new <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a>(<a class="var it3456" onMouseOver="hilite(3456)" onMouseOut="lolite()" onClick="logVariable('external')" href="../../_variables/external.html">$external</a>);
<a name="l193"><span class="linenum"> 193</span></a>      }
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>      <span class="comment">/**</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * Returns the database vendor.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * @return string The db vendor name, usually the same as db family name.</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     */</span>
<a name="l200"><span class="linenum"> 200</span></a>      public function <a class="function" onClick="logFunction('get_dbvendor')" href="../../_functions/get_dbvendor.html" onMouseOver="funcPopup(event,'get_dbvendor')">get_dbvendor</a>() {
<a name="l201"><span class="linenum"> 201</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dbfamily')" href="../../_functions/get_dbfamily.html" onMouseOver="funcPopup(event,'get_dbfamily')">get_dbfamily</a>();
<a name="l202"><span class="linenum"> 202</span></a>      }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>      <span class="comment">/**</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * Returns the database family type. (This sort of describes the SQL 'dialect')</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     * @return string The db family name (mysql, postgres, mssql, oracle, etc.)</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">     */</span>
<a name="l209"><span class="linenum"> 209</span></a>      public abstract function <a class="function" onClick="logFunction('get_dbfamily')" href="../../_functions/get_dbfamily.html" onMouseOver="funcPopup(event,'get_dbfamily')">get_dbfamily</a>();
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>      <span class="comment">/**</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     * Returns a more specific database driver type</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * @return string The db type mysqli, pgsql, oci, mssql, sqlsrv</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     */</span>
<a name="l216"><span class="linenum"> 216</span></a>      protected abstract function <a class="function" onClick="logFunction('get_dbtype')" href="../../_functions/get_dbtype.html" onMouseOver="funcPopup(event,'get_dbtype')">get_dbtype</a>();
<a name="l217"><span class="linenum"> 217</span></a>  
<a name="l218"><span class="linenum"> 218</span></a>      <span class="comment">/**</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * Returns the general database library name</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * @return string The db library type -  pdo, native etc.</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     */</span>
<a name="l223"><span class="linenum"> 223</span></a>      protected abstract function <a class="function" onClick="logFunction('get_dblibrary')" href="../../_functions/get_dblibrary.html" onMouseOver="funcPopup(event,'get_dblibrary')">get_dblibrary</a>();
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>      <span class="comment">/**</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * Returns the localised database type name</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     * @return string</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     */</span>
<a name="l230"><span class="linenum"> 230</span></a>      public abstract function <a class="function" onClick="logFunction('get_name')" href="../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>();
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>      <span class="comment">/**</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * Returns the localised database configuration help.</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * @return string</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     */</span>
<a name="l237"><span class="linenum"> 237</span></a>      public abstract function <a class="function" onClick="logFunction('get_configuration_help')" href="../../_functions/get_configuration_help.html" onMouseOver="funcPopup(event,'get_configuration_help')">get_configuration_help</a>();
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>      <span class="comment">/**</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * Returns the localised database description</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * Note: can be used before connect()</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * @deprecated since 2.6</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * @return string</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     */</span>
<a name="l245"><span class="linenum"> 245</span></a>      public function <a class="function" onClick="logFunction('get_configuration_hints')" href="../../_functions/get_configuration_hints.html" onMouseOver="funcPopup(event,'get_configuration_hints')">get_configuration_hints</a>() {
<a name="l246"><span class="linenum"> 246</span></a>          <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_configuration_hints')" href="../../_functions/get_configuration_hints.html" onMouseOver="funcPopup(event,'get_configuration_hints')">get_configuration_hints</a>() method is deprecated, use <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_configuration_help')" href="../../_functions/get_configuration_help.html" onMouseOver="funcPopup(event,'get_configuration_help')">get_configuration_help</a>() instead');
<a name="l247"><span class="linenum"> 247</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_configuration_help')" href="../../_functions/get_configuration_help.html" onMouseOver="funcPopup(event,'get_configuration_help')">get_configuration_help</a>();
<a name="l248"><span class="linenum"> 248</span></a>      }
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>      <span class="comment">/**</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * Returns the db related part of config.php</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * @return stdClass</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     */</span>
<a name="l254"><span class="linenum"> 254</span></a>      public function <a class="function" onClick="logFunction('export_dbconfig')" href="../../_functions/export_dbconfig.html" onMouseOver="funcPopup(event,'export_dbconfig')">export_dbconfig</a>() {
<a name="l255"><span class="linenum"> 255</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a> = new stdClass();
<a name="l256"><span class="linenum"> 256</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dbtype')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dbtype.html">dbtype</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dbtype')" href="../../_functions/get_dbtype.html" onMouseOver="funcPopup(event,'get_dbtype')">get_dbtype</a>();
<a name="l257"><span class="linenum"> 257</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dblibrary')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dblibrary.html">dblibrary</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dblibrary')" href="../../_functions/get_dblibrary.html" onMouseOver="funcPopup(event,'get_dblibrary')">get_dblibrary</a>();
<a name="l258"><span class="linenum"> 258</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dbhost')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dbhost.html">dbhost</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbhost')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbhost.html">dbhost</a>;
<a name="l259"><span class="linenum"> 259</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dbname')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dbname.html">dbname</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbname')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbname.html">dbname</a>;
<a name="l260"><span class="linenum"> 260</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dbuser')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dbuser.html">dbuser</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbuser')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbuser.html">dbuser</a>;
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dbpass')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dbpass.html">dbpass</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbpass')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbpass.html">dbpass</a>;
<a name="l262"><span class="linenum"> 262</span></a>          <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('prefix')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>;
<a name="l263"><span class="linenum"> 263</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>) {
<a name="l264"><span class="linenum"> 264</span></a>              <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>-&gt;<a onClick="logVariable('dboptions')" class="var it43480" onMouseOver="hilite(43480)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>;
<a name="l265"><span class="linenum"> 265</span></a>          }
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>          return <a class="var it4921" onMouseOver="hilite(4921)" onMouseOut="lolite()" onClick="logVariable('cfg')" href="../../_variables/cfg.html">$cfg</a>;
<a name="l268"><span class="linenum"> 268</span></a>      }
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>      <span class="comment">/**</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     * Diagnose database and tables, this function is used</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * to verify database and driver settings, db engine types, etc.</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     *</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * @return string null means everything ok, string means problem found.</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     */</span>
<a name="l276"><span class="linenum"> 276</span></a>      public function <a class="function" onClick="logFunction('diagnose')" href="../../_functions/diagnose.html" onMouseOver="funcPopup(event,'diagnose')">diagnose</a>() {
<a name="l277"><span class="linenum"> 277</span></a>          return null;
<a name="l278"><span class="linenum"> 278</span></a>      }
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>      <span class="comment">/**</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * Connects to the database.</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * Must be called before other methods.</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * @param string $dbhost The database host.</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * @param string $dbuser The database user to connect as.</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * @param string $dbpass The password to use when connecting to the database.</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @param string $dbname The name of the database being connected to.</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * @param mixed $prefix string means moodle db prefix, false used for external databases where prefix not used</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @param array $dboptions driver specific options</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * @return bool true</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * @throws dml_connection_exception if error</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     */</span>
<a name="l292"><span class="linenum"> 292</span></a>      public abstract function <a class="function" onClick="logFunction('connect')" href="../../_functions/connect.html" onMouseOver="funcPopup(event,'connect')">connect</a>(<a class="var it3457" onMouseOver="hilite(3457)" onMouseOut="lolite()" onClick="logVariable('dbhost')" href="../../_variables/dbhost.html">$dbhost</a>, <a class="var it3458" onMouseOver="hilite(3458)" onMouseOut="lolite()" onClick="logVariable('dbuser')" href="../../_variables/dbuser.html">$dbuser</a>, <a class="var it3459" onMouseOver="hilite(3459)" onMouseOut="lolite()" onClick="logVariable('dbpass')" href="../../_variables/dbpass.html">$dbpass</a>, <a class="var it3460" onMouseOver="hilite(3460)" onMouseOut="lolite()" onClick="logVariable('dbname')" href="../../_variables/dbname.html">$dbname</a>, <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>, array <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('dboptions')" href="../../_variables/dboptions.html">$dboptions</a>=null);
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>      <span class="comment">/**</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * Store various database settings</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * @param string $dbhost The database host.</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @param string $dbuser The database user to connect as.</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * @param string $dbpass The password to use when connecting to the database.</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * @param string $dbname The name of the database being connected to.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     * @param mixed $prefix string means moodle db prefix, false used for external databases where prefix not used</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @param array $dboptions driver specific options</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * @return void</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     */</span>
<a name="l304"><span class="linenum"> 304</span></a>      protected function <a class="function" onClick="logFunction('store_settings')" href="../../_functions/store_settings.html" onMouseOver="funcPopup(event,'store_settings')">store_settings</a>(<a class="var it3457" onMouseOver="hilite(3457)" onMouseOut="lolite()" onClick="logVariable('dbhost')" href="../../_variables/dbhost.html">$dbhost</a>, <a class="var it3458" onMouseOver="hilite(3458)" onMouseOut="lolite()" onClick="logVariable('dbuser')" href="../../_variables/dbuser.html">$dbuser</a>, <a class="var it3459" onMouseOver="hilite(3459)" onMouseOut="lolite()" onClick="logVariable('dbpass')" href="../../_variables/dbpass.html">$dbpass</a>, <a class="var it3460" onMouseOver="hilite(3460)" onMouseOut="lolite()" onClick="logVariable('dbname')" href="../../_variables/dbname.html">$dbname</a>, <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>, array <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('dboptions')" href="../../_variables/dboptions.html">$dboptions</a>=null) {
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbhost')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbhost.html">dbhost</a>    = <a class="var it3457" onMouseOver="hilite(3457)" onMouseOut="lolite()" onClick="logVariable('dbhost')" href="../../_variables/dbhost.html">$dbhost</a>;
<a name="l306"><span class="linenum"> 306</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbuser')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbuser.html">dbuser</a>    = <a class="var it3458" onMouseOver="hilite(3458)" onMouseOut="lolite()" onClick="logVariable('dbuser')" href="../../_variables/dbuser.html">$dbuser</a>;
<a name="l307"><span class="linenum"> 307</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbpass')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbpass.html">dbpass</a>    = <a class="var it3459" onMouseOver="hilite(3459)" onMouseOut="lolite()" onClick="logVariable('dbpass')" href="../../_variables/dbpass.html">$dbpass</a>;
<a name="l308"><span class="linenum"> 308</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbname')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbname.html">dbname</a>    = <a class="var it3460" onMouseOver="hilite(3460)" onMouseOut="lolite()" onClick="logVariable('dbname')" href="../../_variables/dbname.html">$dbname</a>;
<a name="l309"><span class="linenum"> 309</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>    = <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>;
<a name="l310"><span class="linenum"> 310</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a> = (array)<a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('dboptions')" href="../../_variables/dboptions.html">$dboptions</a>;
<a name="l311"><span class="linenum"> 311</span></a>      }
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>      <span class="comment">/**</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * Returns a hash for the settings used during connection.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     *</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * If not already requested it is generated and stored in a private property.</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     *</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @return string</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     */</span>
<a name="l320"><span class="linenum"> 320</span></a>      protected function <a class="function" onClick="logFunction('get_settings_hash')" href="../../_functions/get_settings_hash.html" onMouseOver="funcPopup(event,'get_settings_hash')">get_settings_hash</a>() {
<a name="l321"><span class="linenum"> 321</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settingshash')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/settingshash.html">settingshash</a>)) {
<a name="l322"><span class="linenum"> 322</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settingshash')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/settingshash.html">settingshash</a> = md5(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbhost')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbhost.html">dbhost</a> . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbuser')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbuser.html">dbuser</a> . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbname')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dbname.html">dbname</a> . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>);
<a name="l323"><span class="linenum"> 323</span></a>          }
<a name="l324"><span class="linenum"> 324</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('settingshash')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/settingshash.html">settingshash</a>;
<a name="l325"><span class="linenum"> 325</span></a>      }
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>      <span class="comment">/**</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * Handle the creation and caching of the databasemeta information for all databases.</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     *</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     * TODO MDL-53267 impelement caching of cache::make() results when it's safe to do so.</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     *</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     * @return cache_application The databasemeta cachestore to complete operations on.</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     */</span>
<a name="l334"><span class="linenum"> 334</span></a>      protected function <a class="function" onClick="logFunction('get_metacache')" href="../../_functions/get_metacache.html" onMouseOver="funcPopup(event,'get_metacache')">get_metacache</a>() {
<a name="l335"><span class="linenum"> 335</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('properties')" href="../../_variables/properties.html">$properties</a> = array('dbfamily' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dbfamily')" href="../../_functions/get_dbfamily.html" onMouseOver="funcPopup(event,'get_dbfamily')">get_dbfamily</a>(), 'settings' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_settings_hash')" href="../../_functions/get_settings_hash.html" onMouseOver="funcPopup(event,'get_settings_hash')">get_settings_hash</a>());
<a name="l336"><span class="linenum"> 336</span></a>          return <a class="class" onClick="logClass('cache')" href="../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('core', 'databasemeta', <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('properties')" href="../../_variables/properties.html">$properties</a>);
<a name="l337"><span class="linenum"> 337</span></a>      }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>      <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     * Handle the creation and caching of the temporary tables.</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     *</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @return cache_application The temp_tables cachestore to complete operations on.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     */</span>
<a name="l344"><span class="linenum"> 344</span></a>      protected function <a class="function" onClick="logFunction('get_temp_tables_cache')" href="../../_functions/get_temp_tables_cache.html" onMouseOver="funcPopup(event,'get_temp_tables_cache')">get_temp_tables_cache</a>() {
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">        // Using connection data to prevent collisions when using the same temp table name with different db connections.</span>
<a name="l346"><span class="linenum"> 346</span></a>          <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('properties')" href="../../_variables/properties.html">$properties</a> = array('dbfamily' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dbfamily')" href="../../_functions/get_dbfamily.html" onMouseOver="funcPopup(event,'get_dbfamily')">get_dbfamily</a>(), 'settings' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_settings_hash')" href="../../_functions/get_settings_hash.html" onMouseOver="funcPopup(event,'get_settings_hash')">get_settings_hash</a>());
<a name="l347"><span class="linenum"> 347</span></a>          return <a class="class" onClick="logClass('cache')" href="../../_classes/cache.html" onMouseOver="classPopup(event,'cache')">cache</a>::<a class="function" onClick="logFunction('make')" href="../../_functions/make.html" onMouseOver="funcPopup(event,'make')">make</a>('core', 'temp_tables', <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('properties')" href="../../_variables/properties.html">$properties</a>);
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      <span class="comment">/**</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     * Attempt to create the database</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * @param string $dbhost The database host.</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     * @param string $dbuser The database user to connect as.</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     * @param string $dbpass The password to use when connecting to the database.</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     * @param string $dbname The name of the database being connected to.</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * @param array $dboptions An array of optional database options (eg: dbport)</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     *</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     * @return bool success True for successful connection. False otherwise.</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     */</span>
<a name="l360"><span class="linenum"> 360</span></a>      public function <a class="function" onClick="logFunction('create_database')" href="../../_functions/create_database.html" onMouseOver="funcPopup(event,'create_database')">create_database</a>(<a class="var it3457" onMouseOver="hilite(3457)" onMouseOut="lolite()" onClick="logVariable('dbhost')" href="../../_variables/dbhost.html">$dbhost</a>, <a class="var it3458" onMouseOver="hilite(3458)" onMouseOut="lolite()" onClick="logVariable('dbuser')" href="../../_variables/dbuser.html">$dbuser</a>, <a class="var it3459" onMouseOver="hilite(3459)" onMouseOut="lolite()" onClick="logVariable('dbpass')" href="../../_variables/dbpass.html">$dbpass</a>, <a class="var it3460" onMouseOver="hilite(3460)" onMouseOut="lolite()" onClick="logVariable('dbname')" href="../../_variables/dbname.html">$dbname</a>, array <a class="var it3461" onMouseOver="hilite(3461)" onMouseOut="lolite()" onClick="logVariable('dboptions')" href="../../_variables/dboptions.html">$dboptions</a>=null) {
<a name="l361"><span class="linenum"> 361</span></a>          return false;
<a name="l362"><span class="linenum"> 362</span></a>      }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>      <span class="comment">/**</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * Returns transaction trace for debugging purposes.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     * @private to be used by core only</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * @return array or null if not in transaction.</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     */</span>
<a name="l369"><span class="linenum"> 369</span></a>      public function <a class="function" onClick="logFunction('get_transaction_start_backtrace')" href="../../_functions/get_transaction_start_backtrace.html" onMouseOver="funcPopup(event,'get_transaction_start_backtrace')">get_transaction_start_backtrace</a>() {
<a name="l370"><span class="linenum"> 370</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) {
<a name="l371"><span class="linenum"> 371</span></a>              return null;
<a name="l372"><span class="linenum"> 372</span></a>          }
<a name="l373"><span class="linenum"> 373</span></a>          <a class="var it25353" onMouseOver="hilite(25353)" onMouseOut="lolite()" onClick="logVariable('lowesttransaction')" href="../../_variables/lowesttransaction.html">$lowesttransaction</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>);
<a name="l374"><span class="linenum"> 374</span></a>          return <a class="var it25353" onMouseOver="hilite(25353)" onMouseOut="lolite()" onClick="logVariable('lowesttransaction')" href="../../_variables/lowesttransaction.html">$lowesttransaction</a>-&gt;<a class="function" onClick="logFunction('get_backtrace')" href="../../_functions/get_backtrace.html" onMouseOver="funcPopup(event,'get_backtrace')">get_backtrace</a>();
<a name="l375"><span class="linenum"> 375</span></a>      }
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>      <span class="comment">/**</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * Closes the database connection and releases all resources</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * and memory (especially circular memory references).</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     * Do NOT use connect() again, create a new instance if needed.</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">     * @return void</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment">     */</span>
<a name="l383"><span class="linenum"> 383</span></a>      public function <a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>() {
<a name="l384"><span class="linenum"> 384</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('disposed')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/disposed.html">disposed</a>) {
<a name="l385"><span class="linenum"> 385</span></a>              return;
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('disposed')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/disposed.html">disposed</a> = true;
<a name="l388"><span class="linenum"> 388</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) {
<a name="l389"><span class="linenum"> 389</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('force_transaction_rollback')" href="../../_functions/force_transaction_rollback.html" onMouseOver="funcPopup(event,'force_transaction_rollback')">force_transaction_rollback</a>();
<a name="l390"><span class="linenum"> 390</span></a>          }
<a name="l391"><span class="linenum"> 391</span></a>  
<a name="l392"><span class="linenum"> 392</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>) {
<a name="l393"><span class="linenum"> 393</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>();
<a name="l394"><span class="linenum"> 394</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a> = null;
<a name="l395"><span class="linenum"> 395</span></a>          }
<a name="l396"><span class="linenum"> 396</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a>) {
<a name="l397"><span class="linenum"> 397</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a>-&gt;<a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>();
<a name="l398"><span class="linenum"> 398</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a> = null;
<a name="l399"><span class="linenum"> 399</span></a>          }
<a name="l400"><span class="linenum"> 400</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a>  = null;
<a name="l401"><span class="linenum"> 401</span></a>      }
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>      <span class="comment">/**</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * This should be called before each db query.</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * @param string $sql The query string.</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     * @param array $params An array of parameters.</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     * @param int $type The type of query. ( SQL_QUERY_SELECT | SQL_QUERY_AUX | SQL_QUERY_INSERT | SQL_QUERY_UPDATE | SQL_QUERY_STRUCTURE )</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * @param mixed $extrainfo This is here for any driver specific extra information.</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     * @return void</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     */</span>
<a name="l411"><span class="linenum"> 411</span></a>      protected function <a class="function" onClick="logFunction('query_start')" href="../../_functions/query_start.html" onMouseOver="funcPopup(event,'query_start')">query_start</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it3476" onMouseOver="hilite(3476)" onMouseOut="lolite()" onClick="logVariable('extrainfo')" href="../../_variables/extrainfo.html">$extrainfo</a>=null) {
<a name="l412"><span class="linenum"> 412</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('loggingquery')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/loggingquery.html">loggingquery</a>) {
<a name="l413"><span class="linenum"> 413</span></a>              return;
<a name="l414"><span class="linenum"> 414</span></a>          }
<a name="l415"><span class="linenum"> 415</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_sql.html">last_sql</a>       = <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>;
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_params.html">last_params</a>    = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>;
<a name="l417"><span class="linenum"> 417</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_type.html">last_type</a>      = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l418"><span class="linenum"> 418</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_extrainfo')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_extrainfo.html">last_extrainfo</a> = <a class="var it3476" onMouseOver="hilite(3476)" onMouseOut="lolite()" onClick="logVariable('extrainfo')" href="../../_variables/extrainfo.html">$extrainfo</a>;
<a name="l419"><span class="linenum"> 419</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_time')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_time.html">last_time</a>      = <a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>(true);
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>          switch (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l422"><span class="linenum"> 422</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_SELECT')" href="../../_constants/SQL_QUERY_SELECT.html" onMouseOver="constPopup(event,'SQL_QUERY_SELECT')">SQL_QUERY_SELECT</a>:
<a name="l423"><span class="linenum"> 423</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_AUX')" href="../../_constants/SQL_QUERY_AUX.html" onMouseOver="constPopup(event,'SQL_QUERY_AUX')">SQL_QUERY_AUX</a>:
<a name="l424"><span class="linenum"> 424</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('reads')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/reads.html">reads</a>++;
<a name="l425"><span class="linenum"> 425</span></a>                  break;
<a name="l426"><span class="linenum"> 426</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_INSERT')" href="../../_constants/SQL_QUERY_INSERT.html" onMouseOver="constPopup(event,'SQL_QUERY_INSERT')">SQL_QUERY_INSERT</a>:
<a name="l427"><span class="linenum"> 427</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_UPDATE')" href="../../_constants/SQL_QUERY_UPDATE.html" onMouseOver="constPopup(event,'SQL_QUERY_UPDATE')">SQL_QUERY_UPDATE</a>:
<a name="l428"><span class="linenum"> 428</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_STRUCTURE')" href="../../_constants/SQL_QUERY_STRUCTURE.html" onMouseOver="constPopup(event,'SQL_QUERY_STRUCTURE')">SQL_QUERY_STRUCTURE</a>:
<a name="l429"><span class="linenum"> 429</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('writes')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/writes.html">writes</a>++;
<a name="l430"><span class="linenum"> 430</span></a>              default:
<a name="l431"><span class="linenum"> 431</span></a>                  if ((<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>) || (<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BEHAT_TEST')" href="../../_constants/BEHAT_TEST.html" onMouseOver="constPopup(event,'BEHAT_TEST')">BEHAT_TEST</a>') &amp;&amp; <a class="constant" onClick="logConstant('BEHAT_TEST')" href="../../_constants/BEHAT_TEST.html" onMouseOver="constPopup(event,'BEHAT_TEST')">BEHAT_TEST</a>) ||
<a name="l432"><span class="linenum"> 432</span></a>                      <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BEHAT_SITE_RUNNING')" href="../../_constants/BEHAT_SITE_RUNNING.html" onMouseOver="constPopup(event,'BEHAT_SITE_RUNNING')">BEHAT_SITE_RUNNING</a>')) {
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">                    // Set list of tables that are updated.</span>
<a name="l435"><span class="linenum"> 435</span></a>                      <span class="keyword">require_once</span> <a class="filename" href="../../lib/testing/classes/util.php.html" onMouseOver="reqPopup(event, 'util.php', '../../lib/testing/classes/util.php')">(__DIR__.'/../testing/classes/util.php')</a>;
<a name="l436"><span class="linenum"> 436</span></a>                      testing_util::<a class="function" onClick="logFunction('set_table_modified_by_sql')" href="../../_functions/set_table_modified_by_sql.html" onMouseOver="funcPopup(event,'set_table_modified_by_sql')">set_table_modified_by_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l437"><span class="linenum"> 437</span></a>                  }
<a name="l438"><span class="linenum"> 438</span></a>          }
<a name="l439"><span class="linenum"> 439</span></a>  
<a name="l440"><span class="linenum"> 440</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('print_debug')" href="../../_functions/print_debug.html" onMouseOver="funcPopup(event,'print_debug')">print_debug</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l441"><span class="linenum"> 441</span></a>      }
<a name="l442"><span class="linenum"> 442</span></a>  
<a name="l443"><span class="linenum"> 443</span></a>      <span class="comment">/**</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * This should be called immediately after each db query. It does a clean up of resources.</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * It also throws exceptions if the sql that ran produced errors.</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     * @param mixed $result The db specific result obtained from running a query.</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     * @throws dml_read_exception | dml_write_exception | ddl_change_structure_exception</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * @return void</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     */</span>
<a name="l450"><span class="linenum"> 450</span></a>      protected function <a class="function" onClick="logFunction('query_end')" href="../../_functions/query_end.html" onMouseOver="funcPopup(event,'query_end')">query_end</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l451"><span class="linenum"> 451</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('loggingquery')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/loggingquery.html">loggingquery</a>) {
<a name="l452"><span class="linenum"> 452</span></a>              return;
<a name="l453"><span class="linenum"> 453</span></a>          }
<a name="l454"><span class="linenum"> 454</span></a>          if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> !== false) {
<a name="l455"><span class="linenum"> 455</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_log')" href="../../_functions/query_log.html" onMouseOver="funcPopup(event,'query_log')">query_log</a>();
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">            // free memory</span>
<a name="l457"><span class="linenum"> 457</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_sql.html">last_sql</a>    = null;
<a name="l458"><span class="linenum"> 458</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_params.html">last_params</a> = null;
<a name="l459"><span class="linenum"> 459</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('print_debug_time')" href="../../_functions/print_debug_time.html" onMouseOver="funcPopup(event,'print_debug_time')">print_debug_time</a>();
<a name="l460"><span class="linenum"> 460</span></a>              return;
<a name="l461"><span class="linenum"> 461</span></a>          }
<a name="l462"><span class="linenum"> 462</span></a>  
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">        // remember current info, log queries may alter it</span>
<a name="l464"><span class="linenum"> 464</span></a>          <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_type.html">last_type</a>;
<a name="l465"><span class="linenum"> 465</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_sql.html">last_sql</a>;
<a name="l466"><span class="linenum"> 466</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_params.html">last_params</a>;
<a name="l467"><span class="linenum"> 467</span></a>          <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>  = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_last_error')" href="../../_functions/get_last_error.html" onMouseOver="funcPopup(event,'get_last_error')">get_last_error</a>();
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_log')" href="../../_functions/query_log.html" onMouseOver="funcPopup(event,'query_log')">query_log</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>);
<a name="l470"><span class="linenum"> 470</span></a>  
<a name="l471"><span class="linenum"> 471</span></a>          switch (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l472"><span class="linenum"> 472</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_SELECT')" href="../../_constants/SQL_QUERY_SELECT.html" onMouseOver="constPopup(event,'SQL_QUERY_SELECT')">SQL_QUERY_SELECT</a>:
<a name="l473"><span class="linenum"> 473</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_AUX')" href="../../_constants/SQL_QUERY_AUX.html" onMouseOver="constPopup(event,'SQL_QUERY_AUX')">SQL_QUERY_AUX</a>:
<a name="l474"><span class="linenum"> 474</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_read_exception')" href="../../_classes/dml_read_exception.html" onMouseOver="classPopup(event,'dml_read_exception')">dml_read_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>, <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l475"><span class="linenum"> 475</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_INSERT')" href="../../_constants/SQL_QUERY_INSERT.html" onMouseOver="constPopup(event,'SQL_QUERY_INSERT')">SQL_QUERY_INSERT</a>:
<a name="l476"><span class="linenum"> 476</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_UPDATE')" href="../../_constants/SQL_QUERY_UPDATE.html" onMouseOver="constPopup(event,'SQL_QUERY_UPDATE')">SQL_QUERY_UPDATE</a>:
<a name="l477"><span class="linenum"> 477</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_write_exception')" href="../../_classes/dml_write_exception.html" onMouseOver="classPopup(event,'dml_write_exception')">dml_write_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>, <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l478"><span class="linenum"> 478</span></a>              case <a class="constant" onClick="logConstant('SQL_QUERY_STRUCTURE')" href="../../_constants/SQL_QUERY_STRUCTURE.html" onMouseOver="constPopup(event,'SQL_QUERY_STRUCTURE')">SQL_QUERY_STRUCTURE</a>:
<a name="l479"><span class="linenum"> 479</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>(); <span class="comment">// includes ddl exceptions classes ;-)</span>
<a name="l480"><span class="linenum"> 480</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('ddl_change_structure_exception')" href="../../_classes/ddl_change_structure_exception.html" onMouseOver="classPopup(event,'ddl_change_structure_exception')">ddl_change_structure_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>, <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l481"><span class="linenum"> 481</span></a>          }
<a name="l482"><span class="linenum"> 482</span></a>      }
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>      <span class="comment">/**</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * This logs the last query based on 'logall', 'logslow' and 'logerrors' options configured via $CFG-&gt;dboptions .</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * @param string|bool $error or false if not error</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     * @return void</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     */</span>
<a name="l489"><span class="linenum"> 489</span></a>      public function <a class="function" onClick="logFunction('query_log')" href="../../_functions/query_log.html" onMouseOver="funcPopup(event,'query_log')">query_log</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>=false) {
<a name="l490"><span class="linenum"> 490</span></a>          <a class="var it25354" onMouseOver="hilite(25354)" onMouseOut="lolite()" onClick="logVariable('logall')" href="../../_variables/logall.html">$logall</a>    = !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>['logall']);
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it25355" onMouseOver="hilite(25355)" onMouseOut="lolite()" onClick="logVariable('logslow')" href="../../_variables/logslow.html">$logslow</a>   = !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>['logslow']) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>['logslow'] : false;
<a name="l492"><span class="linenum"> 492</span></a>          <a class="var it25356" onMouseOver="hilite(25356)" onMouseOut="lolite()" onClick="logVariable('logerrors')" href="../../_variables/logerrors.html">$logerrors</a> = !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dboptions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/dboptions.html">dboptions</a>['logerrors']);
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it25357" onMouseOver="hilite(25357)" onMouseOut="lolite()" onClick="logVariable('iserror')" href="../../_variables/iserror.html">$iserror</a>   = (<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> !== false);
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_time')" href="../../_functions/query_time.html" onMouseOver="funcPopup(event,'query_time')">query_time</a>();
<a name="l496"><span class="linenum"> 496</span></a>  
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">        // Will be shown or not depending on MDL_PERF values rather than in dboptions['log*].</span>
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('queriestime')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/queriestime.html">queriestime</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('queriestime')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/queriestime.html">queriestime</a> + <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>;
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>          if (<a class="var it25354" onMouseOver="hilite(25354)" onMouseOut="lolite()" onClick="logVariable('logall')" href="../../_variables/logall.html">$logall</a> <a class="function" onClick="logFunction('or')" href="../../_functions/or.html" onMouseOver="funcPopup(event,'or')">or</a> (<a class="var it25355" onMouseOver="hilite(25355)" onMouseOut="lolite()" onClick="logVariable('logslow')" href="../../_variables/logslow.html">$logslow</a> and (<a class="var it25355" onMouseOver="hilite(25355)" onMouseOut="lolite()" onClick="logVariable('logslow')" href="../../_variables/logslow.html">$logslow</a> &lt; (<a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>+0.00001))) <a class="function" onClick="logFunction('or')" href="../../_functions/or.html" onMouseOver="funcPopup(event,'or')">or</a> (<a class="var it25357" onMouseOver="hilite(25357)" onMouseOut="lolite()" onClick="logVariable('iserror')" href="../../_variables/iserror.html">$iserror</a> and <a class="var it25356" onMouseOver="hilite(25356)" onMouseOut="lolite()" onClick="logVariable('logerrors')" href="../../_variables/logerrors.html">$logerrors</a>)) {
<a name="l501"><span class="linenum"> 501</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('loggingquery')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/loggingquery.html">loggingquery</a> = true;
<a name="l502"><span class="linenum"> 502</span></a>              try {
<a name="l503"><span class="linenum"> 503</span></a>                  <a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a> = <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>();
<a name="l504"><span class="linenum"> 504</span></a>                  if (<a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a>) {
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">                    //remove query_log()</span>
<a name="l506"><span class="linenum"> 506</span></a>                      <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a>);
<a name="l507"><span class="linenum"> 507</span></a>                  }
<a name="l508"><span class="linenum"> 508</span></a>                  if (<a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a>) {
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">                    //remove query_end()</span>
<a name="l510"><span class="linenum"> 510</span></a>                      <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a>);
<a name="l511"><span class="linenum"> 511</span></a>                  }
<a name="l512"><span class="linenum"> 512</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a> = new stdClass();
<a name="l513"><span class="linenum"> 513</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('qtype')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/qtype.html">qtype</a>      = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_type.html">last_type</a>;
<a name="l514"><span class="linenum"> 514</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('sqltext')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/sqltext.html">sqltext</a>    = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_sql.html">last_sql</a>;
<a name="l515"><span class="linenum"> 515</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('sqlparams')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/sqlparams.html">sqlparams</a>  = <a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>((array)<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_params.html">last_params</a>, true);
<a name="l516"><span class="linenum"> 516</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('error')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/error.html">error</a>      = (int)<a class="var it25357" onMouseOver="hilite(25357)" onMouseOut="lolite()" onClick="logVariable('iserror')" href="../../_variables/iserror.html">$iserror</a>;
<a name="l517"><span class="linenum"> 517</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/info.html">info</a>       = <a class="var it25357" onMouseOver="hilite(25357)" onMouseOut="lolite()" onClick="logVariable('iserror')" href="../../_variables/iserror.html">$iserror</a> ? <a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> : null;
<a name="l518"><span class="linenum"> 518</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('backtrace')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/backtrace.html">backtrace</a>  = <a class="function" onClick="logFunction('format_backtrace')" href="../../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it16306" onMouseOver="hilite(16306)" onMouseOut="lolite()" onClick="logVariable('backtrace')" href="../../_variables/backtrace.html">$backtrace</a>, true);
<a name="l519"><span class="linenum"> 519</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('exectime')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/exectime.html">exectime</a>   = <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>;
<a name="l520"><span class="linenum"> 520</span></a>                  <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('timelogged')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/timelogged.html">timelogged</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l521"><span class="linenum"> 521</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('log_queries', <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>);
<a name="l522"><span class="linenum"> 522</span></a>              } catch (Exception <a class="var it2583" onMouseOver="hilite(2583)" onMouseOut="lolite()" onClick="logVariable('ignored')" href="../../_variables/ignored.html">$ignored</a>) {
<a name="l523"><span class="linenum"> 523</span></a>              }
<a name="l524"><span class="linenum"> 524</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('loggingquery')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/loggingquery.html">loggingquery</a> = false;
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>      }
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>      <span class="comment">/**</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     * Returns the time elapsed since the query started.</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     * @return float Seconds with microseconds</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     */</span>
<a name="l532"><span class="linenum"> 532</span></a>      protected function <a class="function" onClick="logFunction('query_time')" href="../../_functions/query_time.html" onMouseOver="funcPopup(event,'query_time')">query_time</a>() {
<a name="l533"><span class="linenum"> 533</span></a>          return <a class="phpfunction" onClick="logFunction('microtime')" href="../../_functions/microtime.html" onMouseOver="phpfuncPopup(event,'microtime')">microtime</a>(true) - <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('last_time')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/last_time.html">last_time</a>;
<a name="l534"><span class="linenum"> 534</span></a>      }
<a name="l535"><span class="linenum"> 535</span></a>  
<a name="l536"><span class="linenum"> 536</span></a>      <span class="comment">/**</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     * Returns database server info array</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     * @return array Array containing 'description' and 'version' at least.</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     */</span>
<a name="l540"><span class="linenum"> 540</span></a>      public abstract function <a class="function" onClick="logFunction('get_server_info')" href="../../_functions/get_server_info.html" onMouseOver="funcPopup(event,'get_server_info')">get_server_info</a>();
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>      <span class="comment">/**</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * Returns supported query parameter types</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     * @return int bitmask of accepted SQL_PARAMS_*</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     */</span>
<a name="l546"><span class="linenum"> 546</span></a>      protected abstract function <a class="function" onClick="logFunction('allowed_param_types')" href="../../_functions/allowed_param_types.html" onMouseOver="funcPopup(event,'allowed_param_types')">allowed_param_types</a>();
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>      <span class="comment">/**</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * Returns the last error reported by the database engine.</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * @return string The error message.</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     */</span>
<a name="l552"><span class="linenum"> 552</span></a>      public abstract function <a class="function" onClick="logFunction('get_last_error')" href="../../_functions/get_last_error.html" onMouseOver="funcPopup(event,'get_last_error')">get_last_error</a>();
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>      <span class="comment">/**</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * Prints sql debug info</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     * @param string $sql The query which is being debugged.</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     * @param array $params The query parameters. (optional)</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     * @param mixed $obj The library specific object. (optional)</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">     * @return void</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">     */</span>
<a name="l561"><span class="linenum"> 561</span></a>      protected function <a class="function" onClick="logFunction('print_debug')" href="../../_functions/print_debug.html" onMouseOver="funcPopup(event,'print_debug')">print_debug</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it2319" onMouseOver="hilite(2319)" onMouseOut="lolite()" onClick="logVariable('obj')" href="../../_variables/obj.html">$obj</a>=null) {
<a name="l562"><span class="linenum"> 562</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_debug')" href="../../_functions/get_debug.html" onMouseOver="funcPopup(event,'get_debug')">get_debug</a>()) {
<a name="l563"><span class="linenum"> 563</span></a>              return;
<a name="l564"><span class="linenum"> 564</span></a>          }
<a name="l565"><span class="linenum"> 565</span></a>          if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a>) {
<a name="l566"><span class="linenum"> 566</span></a>              echo &quot;--------------------------------\n&quot;;
<a name="l567"><span class="linenum"> 567</span></a>              echo <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>.&quot;\n&quot;;
<a name="l568"><span class="linenum"> 568</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l569"><span class="linenum"> 569</span></a>                  echo &quot;[&quot;.<a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, true).&quot;]\n&quot;;
<a name="l570"><span class="linenum"> 570</span></a>              }
<a name="l571"><span class="linenum"> 571</span></a>              echo &quot;--------------------------------\n&quot;;
<a name="l572"><span class="linenum"> 572</span></a>          } else {
<a name="l573"><span class="linenum"> 573</span></a>              echo &quot;&lt;hr /&gt;\n&quot;;
<a name="l574"><span class="linenum"> 574</span></a>              echo <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>).&quot;\n&quot;;
<a name="l575"><span class="linenum"> 575</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l576"><span class="linenum"> 576</span></a>                  echo &quot;[&quot;.<a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, true)).&quot;]\n&quot;;
<a name="l577"><span class="linenum"> 577</span></a>              }
<a name="l578"><span class="linenum"> 578</span></a>              echo &quot;&lt;hr /&gt;\n&quot;;
<a name="l579"><span class="linenum"> 579</span></a>          }
<a name="l580"><span class="linenum"> 580</span></a>      }
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>      <span class="comment">/**</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     * Prints the time a query took to run.</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * @return void</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     */</span>
<a name="l586"><span class="linenum"> 586</span></a>      protected function <a class="function" onClick="logFunction('print_debug_time')" href="../../_functions/print_debug_time.html" onMouseOver="funcPopup(event,'print_debug_time')">print_debug_time</a>() {
<a name="l587"><span class="linenum"> 587</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_debug')" href="../../_functions/get_debug.html" onMouseOver="funcPopup(event,'get_debug')">get_debug</a>()) {
<a name="l588"><span class="linenum"> 588</span></a>              return;
<a name="l589"><span class="linenum"> 589</span></a>          }
<a name="l590"><span class="linenum"> 590</span></a>          <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_time')" href="../../_functions/query_time.html" onMouseOver="funcPopup(event,'query_time')">query_time</a>();
<a name="l591"><span class="linenum"> 591</span></a>          <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = &quot;Query took: {<a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>} seconds.\n&quot;;
<a name="l592"><span class="linenum"> 592</span></a>          if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a>) {
<a name="l593"><span class="linenum"> 593</span></a>              echo <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>;
<a name="l594"><span class="linenum"> 594</span></a>              echo &quot;--------------------------------\n&quot;;
<a name="l595"><span class="linenum"> 595</span></a>          } else {
<a name="l596"><span class="linenum"> 596</span></a>              echo <a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>);
<a name="l597"><span class="linenum"> 597</span></a>              echo &quot;&lt;hr /&gt;\n&quot;;
<a name="l598"><span class="linenum"> 598</span></a>          }
<a name="l599"><span class="linenum"> 599</span></a>      }
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>      <span class="comment">/**</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     * Returns the SQL WHERE conditions.</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     * @param string $table The table name that these conditions will be validated against.</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     * @param array $conditions The conditions to build the where clause. (must not contain numeric indexes)</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">     * @throws dml_exception</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">     * @return array An array list containing sql 'where' part and 'params'.</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment">     */</span>
<a name="l608"><span class="linenum"> 608</span></a>      protected function <a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null) {
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">        // We accept nulls in conditions</span>
<a name="l610"><span class="linenum"> 610</span></a>          <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>) ? array() : <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>;
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>          if (empty(<a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>)) {
<a name="l613"><span class="linenum"> 613</span></a>              return array('', array());
<a name="l614"><span class="linenum"> 614</span></a>          }
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">        // Some checks performed under debugging only</span>
<a name="l617"><span class="linenum"> 617</span></a>          if (<a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>()) {
<a name="l618"><span class="linenum"> 618</span></a>              <a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../../_variables/columns.html">$columns</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_columns')" href="../../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>);
<a name="l619"><span class="linenum"> 619</span></a>              if (empty(<a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../../_variables/columns.html">$columns</a>)) {
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">                // no supported columns means most probably table does not exist</span>
<a name="l621"><span class="linenum"> 621</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('ddltablenotexist', <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>);
<a name="l622"><span class="linenum"> 622</span></a>              }
<a name="l623"><span class="linenum"> 623</span></a>              foreach (<a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>=&gt;<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l624"><span class="linenum"> 624</span></a>                  if (!isset(<a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../../_variables/columns.html">$columns</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>])) {
<a name="l625"><span class="linenum"> 625</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass();
<a name="l626"><span class="linenum"> 626</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('fieldname')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../../_variables/fieldname.html">fieldname</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l627"><span class="linenum"> 627</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('tablename')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../../_variables/tablename.html">tablename</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>;
<a name="l628"><span class="linenum"> 628</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('ddlfieldnotexist', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>);
<a name="l629"><span class="linenum"> 629</span></a>                  }
<a name="l630"><span class="linenum"> 630</span></a>                  <a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a> = <a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../../_variables/columns.html">$columns</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>];
<a name="l631"><span class="linenum"> 631</span></a>                  if (<a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>-&gt;<a onClick="logVariable('meta_type')" class="var it43591" onMouseOver="hilite(43591)" onMouseOut="lolite()" href="../../_variables/meta_type.html">meta_type</a> == 'X') {
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">                    //ok so the column is a text column. sorry no text columns in the where clause conditions</span>
<a name="l633"><span class="linenum"> 633</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('textconditionsnotallowed', <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l634"><span class="linenum"> 634</span></a>                  }
<a name="l635"><span class="linenum"> 635</span></a>              }
<a name="l636"><span class="linenum"> 636</span></a>          }
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('allowed_param_types')" href="../../_functions/allowed_param_types.html" onMouseOver="funcPopup(event,'allowed_param_types')">allowed_param_types</a>();
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a> = array();
<a name="l640"><span class="linenum"> 640</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>          foreach (<a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>=&gt;<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l643"><span class="linenum"> 643</span></a>              if (is_int(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>)) {
<a name="l644"><span class="linenum"> 644</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('invalidnumkey');
<a name="l645"><span class="linenum"> 645</span></a>              }
<a name="l646"><span class="linenum"> 646</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l647"><span class="linenum"> 647</span></a>                  <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>[] = &quot;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> IS NULL&quot;;
<a name="l648"><span class="linenum"> 648</span></a>              } else {
<a name="l649"><span class="linenum"> 649</span></a>                  if (<a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">                    // Need to verify key names because they can contain, originally,</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">                    // spaces and other forbidden chars when using sql_xxx() functions and friends.</span>
<a name="l652"><span class="linenum"> 652</span></a>                      <a class="var it25360" onMouseOver="hilite(25360)" onMouseOut="lolite()" onClick="logVariable('normkey')" href="../../_variables/normkey.html">$normkey</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/[^a-zA-Z0-9_-]/', '_', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>), '-_');
<a name="l653"><span class="linenum"> 653</span></a>                      if (<a class="var it25360" onMouseOver="hilite(25360)" onMouseOut="lolite()" onClick="logVariable('normkey')" href="../../_variables/normkey.html">$normkey</a> !== <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>) {
<a name="l654"><span class="linenum"> 654</span></a>                          <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Invalid key found in the conditions array.');
<a name="l655"><span class="linenum"> 655</span></a>                      }
<a name="l656"><span class="linenum"> 656</span></a>                      <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>[] = &quot;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = :<a class="var it25360" onMouseOver="hilite(25360)" onMouseOut="lolite()" onClick="logVariable('normkey')" href="../../_variables/normkey.html">$normkey</a>&quot;;
<a name="l657"><span class="linenum"> 657</span></a>                      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it25360" onMouseOver="hilite(25360)" onMouseOut="lolite()" onClick="logVariable('normkey')" href="../../_variables/normkey.html">$normkey</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l658"><span class="linenum"> 658</span></a>                  } else {
<a name="l659"><span class="linenum"> 659</span></a>                      <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>[] = &quot;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = ?&quot;;
<a name="l660"><span class="linenum"> 660</span></a>                      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l661"><span class="linenum"> 661</span></a>                  }
<a name="l662"><span class="linenum"> 662</span></a>              }
<a name="l663"><span class="linenum"> 663</span></a>          }
<a name="l664"><span class="linenum"> 664</span></a>          <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot; AND &quot;, <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>);
<a name="l665"><span class="linenum"> 665</span></a>          return array(<a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l666"><span class="linenum"> 666</span></a>      }
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      <span class="comment">/**</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">     * Returns SQL WHERE conditions for the ..._list group of methods.</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">     *</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">     * @param string $field the name of a field.</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     * @param array $values the values field might take.</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">     * @return array An array containing sql 'where' part and 'params'</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     */</span>
<a name="l675"><span class="linenum"> 675</span></a>      protected function <a class="function" onClick="logFunction('where_clause_list')" href="../../_functions/where_clause_list.html" onMouseOver="funcPopup(event,'where_clause_list')">where_clause_list</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, array <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>) {
<a name="l676"><span class="linenum"> 676</span></a>          if (empty(<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>)) {
<a name="l677"><span class="linenum"> 677</span></a>              return array(&quot;1 = 2&quot;, array()); <span class="comment">// Fake condition, won't return rows ever. MDL-17645</span>
<a name="l678"><span class="linenum"> 678</span></a>          }
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">        // Note: Do not use get_in_or_equal() because it can not deal with bools and nulls.</span>
<a name="l681"><span class="linenum"> 681</span></a>  
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l683"><span class="linenum"> 683</span></a>          <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;&quot;;
<a name="l684"><span class="linenum"> 684</span></a>          <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> = (array)<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>;
<a name="l685"><span class="linenum"> 685</span></a>          foreach (<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l686"><span class="linenum"> 686</span></a>              if (<a class="phpfunction" onClick="logFunction('is_bool')" href="../../_functions/is_bool.html" onMouseOver="phpfuncPopup(event,'is_bool')">is_bool</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l687"><span class="linenum"> 687</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = (int)<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l688"><span class="linenum"> 688</span></a>              }
<a name="l689"><span class="linenum"> 689</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l690"><span class="linenum"> 690</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> IS NULL&quot;;
<a name="l691"><span class="linenum"> 691</span></a>              } else {
<a name="l692"><span class="linenum"> 692</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l693"><span class="linenum"> 693</span></a>              }
<a name="l694"><span class="linenum"> 694</span></a>          }
<a name="l695"><span class="linenum"> 695</span></a>          if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) {
<a name="l696"><span class="linenum"> 696</span></a>              if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> !== &quot;&quot;) {
<a name="l697"><span class="linenum"> 697</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> OR &quot;;
<a name="l698"><span class="linenum"> 698</span></a>              }
<a name="l699"><span class="linenum"> 699</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l700"><span class="linenum"> 700</span></a>              if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> == 1) {
<a name="l701"><span class="linenum"> 701</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>.&quot;<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> = ?&quot;;
<a name="l702"><span class="linenum"> 702</span></a>              } else {
<a name="l703"><span class="linenum"> 703</span></a>                  <a class="var it8185" onMouseOver="hilite(8185)" onMouseOut="lolite()" onClick="logVariable('qs')" href="../../_variables/qs.html">$qs</a> = <a class="phpfunction" onClick="logFunction('str_repeat')" href="../../_functions/str_repeat.html" onMouseOver="phpfuncPopup(event,'str_repeat')">str_repeat</a>(',?', <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>);
<a name="l704"><span class="linenum"> 704</span></a>                  <a class="var it8185" onMouseOver="hilite(8185)" onMouseOut="lolite()" onClick="logVariable('qs')" href="../../_variables/qs.html">$qs</a> = <a class="phpfunction" onClick="logFunction('ltrim')" href="../../_functions/ltrim.html" onMouseOver="phpfuncPopup(event,'ltrim')">ltrim</a>(<a class="var it8185" onMouseOver="hilite(8185)" onMouseOut="lolite()" onClick="logVariable('qs')" href="../../_variables/qs.html">$qs</a>, ',');
<a name="l705"><span class="linenum"> 705</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>.&quot;<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> IN (<a class="var it8185" onMouseOver="hilite(8185)" onMouseOut="lolite()" onClick="logVariable('qs')" href="../../_variables/qs.html">$qs</a>)&quot;;
<a name="l706"><span class="linenum"> 706</span></a>              }
<a name="l707"><span class="linenum"> 707</span></a>          }
<a name="l708"><span class="linenum"> 708</span></a>          return array(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l709"><span class="linenum"> 709</span></a>      }
<a name="l710"><span class="linenum"> 710</span></a>  
<a name="l711"><span class="linenum"> 711</span></a>      <span class="comment">/**</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     * Constructs 'IN()' or '=' sql fragment</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * @param mixed $items A single value or array of values for the expression.</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * @param int $type Parameter bounding type : SQL_PARAMS_QM or SQL_PARAMS_NAMED.</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param string $prefix Named parameter placeholder prefix (a unique counter value is appended to each parameter name).</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @param bool $equal True means we want to equate to the constructed expression, false means we don't want to equate to it.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @param mixed $onemptyitems This defines the behavior when the array of items provided is empty. Defaults to false,</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     *              meaning throw exceptions. Other values will become part of the returned SQL fragment.</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">     * @throws coding_exception | dml_exception</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">     * @return array A list containing the constructed sql fragment and an array of parameters.</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">     */</span>
<a name="l722"><span class="linenum"> 722</span></a>      public function <a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>=<a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>, <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>='param', <a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a>=true, <a class="var it4670" onMouseOver="hilite(4670)" onMouseOut="lolite()" onClick="logVariable('onemptyitems')" href="../../_variables/onemptyitems.html">$onemptyitems</a>=false) {
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">        // default behavior, throw exception on empty array</span>
<a name="l725"><span class="linenum"> 725</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) and empty(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) and <a class="var it4670" onMouseOver="hilite(4670)" onMouseOut="lolite()" onClick="logVariable('onemptyitems')" href="../../_variables/onemptyitems.html">$onemptyitems</a> === false) {
<a name="l726"><span class="linenum"> 726</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('moodle_database::<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>() does not accept empty arrays');
<a name="l727"><span class="linenum"> 727</span></a>          }
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">        // handle $onemptyitems on empty array of items</span>
<a name="l729"><span class="linenum"> 729</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) and empty(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>)) {
<a name="l730"><span class="linenum"> 730</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it4670" onMouseOver="hilite(4670)" onMouseOut="lolite()" onClick="logVariable('onemptyitems')" href="../../_variables/onemptyitems.html">$onemptyitems</a>)) {             // Special case, NULL value
<a name="l731"><span class="linenum"> 731</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a> ? ' IS NULL' : ' IS NOT NULL';
<a name="l732"><span class="linenum"> 732</span></a>                  return (array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array()));
<a name="l733"><span class="linenum"> 733</span></a>              } else {
<a name="l734"><span class="linenum"> 734</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array(<a class="var it4670" onMouseOver="hilite(4670)" onMouseOut="lolite()" onClick="logVariable('onemptyitems')" href="../../_variables/onemptyitems.html">$onemptyitems</a>);        <span class="comment">// Rest of cases, prepare $items for std processing</span>
<a name="l735"><span class="linenum"> 735</span></a>              }
<a name="l736"><span class="linenum"> 736</span></a>          }
<a name="l737"><span class="linenum"> 737</span></a>  
<a name="l738"><span class="linenum"> 738</span></a>          if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l739"><span class="linenum"> 739</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) or <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) == 1) {
<a name="l740"><span class="linenum"> 740</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a> ? '= ?' : '&lt;&gt; ?';
<a name="l741"><span class="linenum"> 741</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = (array)<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>;
<a name="l742"><span class="linenum"> 742</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>);
<a name="l743"><span class="linenum"> 743</span></a>              } else {
<a name="l744"><span class="linenum"> 744</span></a>                  if (<a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a>) {
<a name="l745"><span class="linenum"> 745</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'IN ('.<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="phpfunction" onClick="logFunction('array_fill')" href="../../_functions/array_fill.html" onMouseOver="phpfuncPopup(event,'array_fill')">array_fill</a>(0, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>), '?')).')';
<a name="l746"><span class="linenum"> 746</span></a>                  } else {
<a name="l747"><span class="linenum"> 747</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'NOT IN ('.<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="phpfunction" onClick="logFunction('array_fill')" href="../../_functions/array_fill.html" onMouseOver="phpfuncPopup(event,'array_fill')">array_fill</a>(0, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>), '?')).')';
<a name="l748"><span class="linenum"> 748</span></a>                  }
<a name="l749"><span class="linenum"> 749</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>);
<a name="l750"><span class="linenum"> 750</span></a>              }
<a name="l751"><span class="linenum"> 751</span></a>  
<a name="l752"><span class="linenum"> 752</span></a>          } else if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l753"><span class="linenum"> 753</span></a>              if (empty(<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>)) {
<a name="l754"><span class="linenum"> 754</span></a>                  <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a> = 'param';
<a name="l755"><span class="linenum"> 755</span></a>              }
<a name="l756"><span class="linenum"> 756</span></a>  
<a name="l757"><span class="linenum"> 757</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>)){
<a name="l758"><span class="linenum"> 758</span></a>                  <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> = <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('inorequaluniqueindex')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/inorequaluniqueindex.html">inorequaluniqueindex</a>++;
<a name="l759"><span class="linenum"> 759</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a> ? &quot;= :<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>&quot; : &quot;&lt;&gt; :<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>&quot;;
<a name="l760"><span class="linenum"> 760</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>=&gt;<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>);
<a name="l761"><span class="linenum"> 761</span></a>              } else if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>) == 1) {
<a name="l762"><span class="linenum"> 762</span></a>                  <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> = <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('inorequaluniqueindex')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/inorequaluniqueindex.html">inorequaluniqueindex</a>++;
<a name="l763"><span class="linenum"> 763</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a> ? &quot;= :<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>&quot; : &quot;&lt;&gt; :<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>&quot;;
<a name="l764"><span class="linenum"> 764</span></a>                  <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>);
<a name="l765"><span class="linenum"> 765</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>=&gt;<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>);
<a name="l766"><span class="linenum"> 766</span></a>              } else {
<a name="l767"><span class="linenum"> 767</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l768"><span class="linenum"> 768</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = array();
<a name="l769"><span class="linenum"> 769</span></a>                  foreach (<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> as <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>) {
<a name="l770"><span class="linenum"> 770</span></a>                      <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> = <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('inorequaluniqueindex')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/inorequaluniqueindex.html">inorequaluniqueindex</a>++;
<a name="l771"><span class="linenum"> 771</span></a>                      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>] = <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>;
<a name="l772"><span class="linenum"> 772</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>[] = ':'.<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>;
<a name="l773"><span class="linenum"> 773</span></a>                  }
<a name="l774"><span class="linenum"> 774</span></a>                  if (<a class="var it4669" onMouseOver="hilite(4669)" onMouseOut="lolite()" onClick="logVariable('equal')" href="../../_variables/equal.html">$equal</a>) {
<a name="l775"><span class="linenum"> 775</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'IN ('.<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>).')';
<a name="l776"><span class="linenum"> 776</span></a>                  } else {
<a name="l777"><span class="linenum"> 777</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'NOT IN ('.<a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>).')';
<a name="l778"><span class="linenum"> 778</span></a>                  }
<a name="l779"><span class="linenum"> 779</span></a>              }
<a name="l780"><span class="linenum"> 780</span></a>  
<a name="l781"><span class="linenum"> 781</span></a>          } else {
<a name="l782"><span class="linenum"> 782</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('typenotimplement');
<a name="l783"><span class="linenum"> 783</span></a>          }
<a name="l784"><span class="linenum"> 784</span></a>          return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l785"><span class="linenum"> 785</span></a>      }
<a name="l786"><span class="linenum"> 786</span></a>  
<a name="l787"><span class="linenum"> 787</span></a>      <span class="comment">/**</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">     * Converts short table name {tablename} to the real prefixed table name in given sql.</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">     * @param string $sql The sql to be operated on.</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * @return string The sql with tablenames being prefixed with $CFG-&gt;prefix</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     */</span>
<a name="l792"><span class="linenum"> 792</span></a>      protected function <a class="function" onClick="logFunction('fix_table_names')" href="../../_functions/fix_table_names.html" onMouseOver="funcPopup(event,'fix_table_names')">fix_table_names</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>) {
<a name="l793"><span class="linenum"> 793</span></a>          return <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/\{([a-z][a-z0-9_]*)\}/', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>.'<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l794"><span class="linenum"> 794</span></a>      }
<a name="l795"><span class="linenum"> 795</span></a>  
<a name="l796"><span class="linenum"> 796</span></a>      <span class="comment">/**</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">     * Internal private utitlity function used to fix parameters.</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     * Used with {@link preg_replace_callback()}</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     * @param array $match Refer to preg_replace_callback usage for description.</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * @return string</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     */</span>
<a name="l802"><span class="linenum"> 802</span></a>      private function <a class="function" onClick="logFunction('_fix_sql_params_dollar_callback')" href="../../_functions/_fix_sql_params_dollar_callback.html" onMouseOver="funcPopup(event,'_fix_sql_params_dollar_callback')">_fix_sql_params_dollar_callback</a>(<a class="var it149" onMouseOver="hilite(149)" onMouseOut="lolite()" onClick="logVariable('match')" href="../../_variables/match.html">$match</a>) {
<a name="l803"><span class="linenum"> 803</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fix_sql_params_i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fix_sql_params_i.html">fix_sql_params_i</a>++;
<a name="l804"><span class="linenum"> 804</span></a>          return &quot;\$&quot;.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fix_sql_params_i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fix_sql_params_i.html">fix_sql_params_i</a>;
<a name="l805"><span class="linenum"> 805</span></a>      }
<a name="l806"><span class="linenum"> 806</span></a>  
<a name="l807"><span class="linenum"> 807</span></a>      <span class="comment">/**</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     * Detects object parameters and throws exception if found</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">     * @param mixed $value</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">     * @return void</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     * @throws coding_exception if object detected</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">     */</span>
<a name="l813"><span class="linenum"> 813</span></a>      protected function <a class="function" onClick="logFunction('detect_objects')" href="../../_functions/detect_objects.html" onMouseOver="funcPopup(event,'detect_objects')">detect_objects</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l814"><span class="linenum"> 814</span></a>          if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l815"><span class="linenum"> 815</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Invalid database query parameter value', 'Objects are are not allowed: '.<a class="phpfunction" onClick="logFunction('get_class')" href="../../_functions/get_class.html" onMouseOver="phpfuncPopup(event,'get_class')">get_class</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>));
<a name="l816"><span class="linenum"> 816</span></a>          }
<a name="l817"><span class="linenum"> 817</span></a>      }
<a name="l818"><span class="linenum"> 818</span></a>  
<a name="l819"><span class="linenum"> 819</span></a>      <span class="comment">/**</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     * Normalizes sql query parameters and verifies parameters.</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * @param string $sql The query or part of it.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     * @param array $params The query parameters.</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">     * @return array (sql, params, type of params)</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">     */</span>
<a name="l825"><span class="linenum"> 825</span></a>      public function <a class="function" onClick="logFunction('fix_sql_params')" href="../../_functions/fix_sql_params.html" onMouseOver="funcPopup(event,'fix_sql_params')">fix_sql_params</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null) {
<a name="l826"><span class="linenum"> 826</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = (array)<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>; <span class="comment">// mke null array if needed</span>
<a name="l827"><span class="linenum"> 827</span></a>          <a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('allowed_param_types')" href="../../_functions/allowed_param_types.html" onMouseOver="funcPopup(event,'allowed_param_types')">allowed_param_types</a>();
<a name="l828"><span class="linenum"> 828</span></a>  
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">        // convert table names</span>
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fix_table_names')" href="../../_functions/fix_table_names.html" onMouseOver="funcPopup(event,'fix_table_names')">fix_table_names</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">        // cast booleans to 1/0 int and detect forbidden objects</span>
<a name="l833"><span class="linenum"> 833</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l834"><span class="linenum"> 834</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('detect_objects')" href="../../_functions/detect_objects.html" onMouseOver="funcPopup(event,'detect_objects')">detect_objects</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l835"><span class="linenum"> 835</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('is_bool')" href="../../_functions/is_bool.html" onMouseOver="phpfuncPopup(event,'is_bool')">is_bool</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) ? (int)<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> : <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l836"><span class="linenum"> 836</span></a>          }
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">        // NICOLAS C: Fixed regexp for negative backwards look-ahead of double colons. Thanks for Sam Marshall's help</span>
<a name="l839"><span class="linenum"> 839</span></a>          <a class="var it25361" onMouseOver="hilite(25361)" onMouseOut="lolite()" onClick="logVariable('named_count')" href="../../_variables/named_count.html">$named_count</a> = <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>('/(?&lt;!:):[a-z][a-z0-9_]*/', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it25362" onMouseOver="hilite(25362)" onMouseOut="lolite()" onClick="logVariable('named_matches')" href="../../_variables/named_matches.html">$named_matches</a>); <span class="comment">// :: used in pgsql casts</span>
<a name="l840"><span class="linenum"> 840</span></a>          <a class="var it25363" onMouseOver="hilite(25363)" onMouseOut="lolite()" onClick="logVariable('dollar_count')" href="../../_variables/dollar_count.html">$dollar_count</a> = <a class="phpfunction" onClick="logFunction('preg_match_all')" href="../../_functions/preg_match_all.html" onMouseOver="phpfuncPopup(event,'preg_match_all')">preg_match_all</a>('/\$[1-9][0-9]*/', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it25364" onMouseOver="hilite(25364)" onMouseOut="lolite()" onClick="logVariable('dollar_matches')" href="../../_variables/dollar_matches.html">$dollar_matches</a>);
<a name="l841"><span class="linenum"> 841</span></a>          <a class="var it25365" onMouseOver="hilite(25365)" onMouseOut="lolite()" onClick="logVariable('q_count')" href="../../_variables/q_count.html">$q_count</a>     = <a class="phpfunction" onClick="logFunction('substr_count')" href="../../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, '?');
<a name="l842"><span class="linenum"> 842</span></a>  
<a name="l843"><span class="linenum"> 843</span></a>          <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = 0;
<a name="l844"><span class="linenum"> 844</span></a>  
<a name="l845"><span class="linenum"> 845</span></a>          if (<a class="var it25361" onMouseOver="hilite(25361)" onMouseOut="lolite()" onClick="logVariable('named_count')" href="../../_variables/named_count.html">$named_count</a>) {
<a name="l846"><span class="linenum"> 846</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> = <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>;
<a name="l847"><span class="linenum"> 847</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="var it25361" onMouseOver="hilite(25361)" onMouseOut="lolite()" onClick="logVariable('named_count')" href="../../_variables/named_count.html">$named_count</a>;
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>          }
<a name="l850"><span class="linenum"> 850</span></a>          if (<a class="var it25363" onMouseOver="hilite(25363)" onMouseOut="lolite()" onClick="logVariable('dollar_count')" href="../../_variables/dollar_count.html">$dollar_count</a>) {
<a name="l851"><span class="linenum"> 851</span></a>              if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l852"><span class="linenum"> 852</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('mixedtypesqlparam');
<a name="l853"><span class="linenum"> 853</span></a>              }
<a name="l854"><span class="linenum"> 854</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> = <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>;
<a name="l855"><span class="linenum"> 855</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="var it25363" onMouseOver="hilite(25363)" onMouseOut="lolite()" onClick="logVariable('dollar_count')" href="../../_variables/dollar_count.html">$dollar_count</a>;
<a name="l856"><span class="linenum"> 856</span></a>  
<a name="l857"><span class="linenum"> 857</span></a>          }
<a name="l858"><span class="linenum"> 858</span></a>          if (<a class="var it25365" onMouseOver="hilite(25365)" onMouseOut="lolite()" onClick="logVariable('q_count')" href="../../_variables/q_count.html">$q_count</a>) {
<a name="l859"><span class="linenum"> 859</span></a>              if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l860"><span class="linenum"> 860</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('mixedtypesqlparam');
<a name="l861"><span class="linenum"> 861</span></a>              }
<a name="l862"><span class="linenum"> 862</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> = <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>;
<a name="l863"><span class="linenum"> 863</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="var it25365" onMouseOver="hilite(25365)" onMouseOut="lolite()" onClick="logVariable('q_count')" href="../../_variables/q_count.html">$q_count</a>;
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>          }
<a name="l866"><span class="linenum"> 866</span></a>  
<a name="l867"><span class="linenum"> 867</span></a>          if (!<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">             // ignore params</span>
<a name="l869"><span class="linenum"> 869</span></a>              if (<a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l870"><span class="linenum"> 870</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l871"><span class="linenum"> 871</span></a>              } else if (<a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l872"><span class="linenum"> 872</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(), <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>);
<a name="l873"><span class="linenum"> 873</span></a>              } else {
<a name="l874"><span class="linenum"> 874</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(), <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>);
<a name="l875"><span class="linenum"> 875</span></a>              }
<a name="l876"><span class="linenum"> 876</span></a>          }
<a name="l877"><span class="linenum"> 877</span></a>  
<a name="l878"><span class="linenum"> 878</span></a>          if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> &gt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l879"><span class="linenum"> 879</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = new stdClass;
<a name="l880"><span class="linenum"> 880</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('expected')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../../_variables/expected.html">expected</a> = <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>;
<a name="l881"><span class="linenum"> 881</span></a>              <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('actual')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../../_variables/actual.html">actual</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l882"><span class="linenum"> 882</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('invalidqueryparam', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>);
<a name="l883"><span class="linenum"> 883</span></a>          }
<a name="l884"><span class="linenum"> 884</span></a>  
<a name="l885"><span class="linenum"> 885</span></a>          <a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> = <a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a>;
<a name="l886"><span class="linenum"> 886</span></a>  
<a name="l887"><span class="linenum"> 887</span></a>          if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> &amp; <a class="var it1360" onMouseOver="hilite(1360)" onMouseOut="lolite()" onClick="logVariable('allowed_types')" href="../../_variables/allowed_types.html">$allowed_types</a>) { // bitwise AND
<a name="l888"><span class="linenum"> 888</span></a>              if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> == <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l889"><span class="linenum"> 889</span></a>                  if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l890"><span class="linenum"> 890</span></a>                      return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>); <span class="comment">// 0-based array required</span>
<a name="l891"><span class="linenum"> 891</span></a>                  } else {
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment">                    //better do the validation of names below</span>
<a name="l893"><span class="linenum"> 893</span></a>                  }
<a name="l894"><span class="linenum"> 894</span></a>              }
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">            // needs some fixing or validation - there might be more params than needed</span>
<a name="l896"><span class="linenum"> 896</span></a>              <a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l897"><span class="linenum"> 897</span></a>          }
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>          if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l900"><span class="linenum"> 900</span></a>              <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a> = array();
<a name="l901"><span class="linenum"> 901</span></a>              foreach (<a class="var it25362" onMouseOver="hilite(25362)" onMouseOut="lolite()" onClick="logVariable('named_matches')" href="../../_variables/named_matches.html">$named_matches</a>[0] as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>) {
<a name="l902"><span class="linenum"> 902</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, ':');
<a name="l903"><span class="linenum"> 903</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l904"><span class="linenum"> 904</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('missingkeyinsql', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, '');
<a name="l905"><span class="linenum"> 905</span></a>                  }
<a name="l906"><span class="linenum"> 906</span></a>                  if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>) &gt; 30) {
<a name="l907"><span class="linenum"> 907</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(
<a name="l908"><span class="linenum"> 908</span></a>                              &quot;Placeholder names must be 30 characters or shorter. '&quot; .
<a name="l909"><span class="linenum"> 909</span></a>                              <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> . &quot;' is too long.&quot;, <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l910"><span class="linenum"> 910</span></a>                  }
<a name="l911"><span class="linenum"> 911</span></a>                  <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>];
<a name="l912"><span class="linenum"> 912</span></a>              }
<a name="l913"><span class="linenum"> 913</span></a>              if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> != <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>)) {
<a name="l914"><span class="linenum"> 914</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_exception')" href="../../_classes/dml_exception.html" onMouseOver="classPopup(event,'dml_exception')">dml_exception</a>('duplicateparaminsql');
<a name="l915"><span class="linenum"> 915</span></a>              }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>              if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l918"><span class="linenum"> 918</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(?&lt;!:):[a-z][a-z0-9_]*/', '?', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l919"><span class="linenum"> 919</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>); <span class="comment">// 0-based required</span>
<a name="l920"><span class="linenum"> 920</span></a>              } else if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l921"><span class="linenum"> 921</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l922"><span class="linenum"> 922</span></a>              } else {  // <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">                //lambda-style functions eat memory - we use globals instead :-(</span>
<a name="l924"><span class="linenum"> 924</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fix_sql_params_i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fix_sql_params_i.html">fix_sql_params_i</a> = 0;
<a name="l925"><span class="linenum"> 925</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('preg_replace_callback')" href="../../_functions/preg_replace_callback.html" onMouseOver="phpfuncPopup(event,'preg_replace_callback')">preg_replace_callback</a>('/(?&lt;!:):[a-z][a-z0-9_]*/', array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, '_fix_sql_params_dollar_callback'), <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l926"><span class="linenum"> 926</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>); <span class="comment">// 0-based required</span>
<a name="l927"><span class="linenum"> 927</span></a>              }
<a name="l928"><span class="linenum"> 928</span></a>  
<a name="l929"><span class="linenum"> 929</span></a>          } else if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>) {
<a name="l930"><span class="linenum"> 930</span></a>              if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>) {
<a name="l931"><span class="linenum"> 931</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>); <span class="comment">// 0-based required</span>
<a name="l932"><span class="linenum"> 932</span></a>              } else if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l933"><span class="linenum"> 933</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/\$[0-9]+/', '?', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l934"><span class="linenum"> 934</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>); <span class="comment">// 0-based required</span>
<a name="l935"><span class="linenum"> 935</span></a>              } else { //<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>
<a name="l936"><span class="linenum"> 936</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/\$([0-9]+)/', ':param\\1', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l937"><span class="linenum"> 937</span></a>                  <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a> = array();
<a name="l938"><span class="linenum"> 938</span></a>                  foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>=&gt;<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>) {
<a name="l939"><span class="linenum"> 939</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>++;
<a name="l940"><span class="linenum"> 940</span></a>                      <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>['param'.<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>;
<a name="l941"><span class="linenum"> 941</span></a>                  }
<a name="l942"><span class="linenum"> 942</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l943"><span class="linenum"> 943</span></a>              }
<a name="l944"><span class="linenum"> 944</span></a>  
<a name="l945"><span class="linenum"> 945</span></a>          } else { // <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>
<a name="l946"><span class="linenum"> 946</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) != <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) {
<a name="l947"><span class="linenum"> 947</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 0, <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>);
<a name="l948"><span class="linenum"> 948</span></a>              }
<a name="l949"><span class="linenum"> 949</span></a>  
<a name="l950"><span class="linenum"> 950</span></a>              if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>) {
<a name="l951"><span class="linenum"> 951</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_QM')" href="../../_constants/SQL_PARAMS_QM.html" onMouseOver="constPopup(event,'SQL_PARAMS_QM')">SQL_PARAMS_QM</a>); <span class="comment">// 0-based required</span>
<a name="l952"><span class="linenum"> 952</span></a>              } else if (<a class="var it25366" onMouseOver="hilite(25366)" onMouseOut="lolite()" onClick="logVariable('target_type')" href="../../_variables/target_type.html">$target_type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>) {
<a name="l953"><span class="linenum"> 953</span></a>                  <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a> = array();
<a name="l954"><span class="linenum"> 954</span></a>                  <a class="var it4660" onMouseOver="hilite(4660)" onMouseOut="lolite()" onClick="logVariable('pname')" href="../../_variables/pname.html">$pname</a> = 'param0';
<a name="l955"><span class="linenum"> 955</span></a>                  <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('?', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l956"><span class="linenum"> 956</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a>);
<a name="l957"><span class="linenum"> 957</span></a>                  foreach (<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../../_variables/parts.html">$parts</a> as <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>) {
<a name="l958"><span class="linenum"> 958</span></a>                      <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l959"><span class="linenum"> 959</span></a>                      <a class="var it4660" onMouseOver="hilite(4660)" onMouseOut="lolite()" onClick="logVariable('pname')" href="../../_variables/pname.html">$pname</a>++;
<a name="l960"><span class="linenum"> 960</span></a>                      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> .= ':'.<a class="var it4660" onMouseOver="hilite(4660)" onMouseOut="lolite()" onClick="logVariable('pname')" href="../../_variables/pname.html">$pname</a>.<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>;
<a name="l961"><span class="linenum"> 961</span></a>                      <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>[<a class="var it4660" onMouseOver="hilite(4660)" onMouseOut="lolite()" onClick="logVariable('pname')" href="../../_variables/pname.html">$pname</a>] = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>;
<a name="l962"><span class="linenum"> 962</span></a>                  }
<a name="l963"><span class="linenum"> 963</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it25367" onMouseOver="hilite(25367)" onMouseOut="lolite()" onClick="logVariable('finalparams')" href="../../_variables/finalparams.html">$finalparams</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l964"><span class="linenum"> 964</span></a>              } else {  // <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> &amp; <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">                //lambda-style functions eat memory - we use globals instead :-(</span>
<a name="l966"><span class="linenum"> 966</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('fix_sql_params_i')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/fix_sql_params_i.html">fix_sql_params_i</a> = 0;
<a name="l967"><span class="linenum"> 967</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="phpfunction" onClick="logFunction('preg_replace_callback')" href="../../_functions/preg_replace_callback.html" onMouseOver="phpfuncPopup(event,'preg_replace_callback')">preg_replace_callback</a>('/\?/', array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, '_fix_sql_params_dollar_callback'), <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>);
<a name="l968"><span class="linenum"> 968</span></a>                  return array(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>), <a class="constant" onClick="logConstant('SQL_PARAMS_DOLLAR')" href="../../_constants/SQL_PARAMS_DOLLAR.html" onMouseOver="constPopup(event,'SQL_PARAMS_DOLLAR')">SQL_PARAMS_DOLLAR</a>); <span class="comment">// 0-based required</span>
<a name="l969"><span class="linenum"> 969</span></a>              }
<a name="l970"><span class="linenum"> 970</span></a>          }
<a name="l971"><span class="linenum"> 971</span></a>      }
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>      <span class="comment">/**</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     * Ensures that limit params are numeric and positive integers, to be passed to the database.</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * We explicitly treat null, '' and -1 as 0 in order to provide compatibility with how limit</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     * values have been passed historically.</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">     *</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment">     * @param int $limitfrom Where to start results from</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">     * @param int $limitnum How many results to return</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">     * @return array Normalised limit params in array($limitfrom, $limitnum)</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment">     */</span>
<a name="l982"><span class="linenum"> 982</span></a>      protected function <a class="function" onClick="logFunction('normalise_limit_from_num')" href="../../_functions/normalise_limit_from_num.html" onMouseOver="funcPopup(event,'normalise_limit_from_num')">normalise_limit_from_num</a>(<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>) {
<a name="l983"><span class="linenum"> 983</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment">        // We explicilty treat these cases as 0.</span>
<a name="l986"><span class="linenum"> 986</span></a>          if (<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> === null || <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> === '' || <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> === -1) {
<a name="l987"><span class="linenum"> 987</span></a>              <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> = 0;
<a name="l988"><span class="linenum"> 988</span></a>          }
<a name="l989"><span class="linenum"> 989</span></a>          if (<a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a> === null || <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a> === '' || <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a> === -1) {
<a name="l990"><span class="linenum"> 990</span></a>              <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a> = 0;
<a name="l991"><span class="linenum"> 991</span></a>          }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>          if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('debugdeveloper')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/debugdeveloper.html">debugdeveloper</a>) {
<a name="l994"><span class="linenum"> 994</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>)) {
<a name="l995"><span class="linenum"> 995</span></a>                  <a class="var it22348" onMouseOver="hilite(22348)" onMouseOut="lolite()" onClick="logVariable('strvalue')" href="../../_variables/strvalue.html">$strvalue</a> = <a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, true);
<a name="l996"><span class="linenum"> 996</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Non-numeric limitfrom parameter detected: <a class="var it22348" onMouseOver="hilite(22348)" onMouseOut="lolite()" onClick="logVariable('strvalue')" href="../../_variables/strvalue.html">$strvalue</a>, did you pass the correct arguments?&quot;,
<a name="l997"><span class="linenum"> 997</span></a>                      <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l998"><span class="linenum"> 998</span></a>              } else if (<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> &lt; 0) {
<a name="l999"><span class="linenum"> 999</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Negative limitfrom parameter detected: <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, did you pass the correct arguments?&quot;,
<a name="l1000"><span class="linenum">1000</span></a>                      <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1001"><span class="linenum">1001</span></a>              }
<a name="l1002"><span class="linenum">1002</span></a>  
<a name="l1003"><span class="linenum">1003</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>)) {
<a name="l1004"><span class="linenum">1004</span></a>                  <a class="var it22348" onMouseOver="hilite(22348)" onMouseOut="lolite()" onClick="logVariable('strvalue')" href="../../_variables/strvalue.html">$strvalue</a> = <a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>, true);
<a name="l1005"><span class="linenum">1005</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Non-numeric limitnum parameter detected: <a class="var it22348" onMouseOver="hilite(22348)" onMouseOut="lolite()" onClick="logVariable('strvalue')" href="../../_variables/strvalue.html">$strvalue</a>, did you pass the correct arguments?&quot;,
<a name="l1006"><span class="linenum">1006</span></a>                      <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1007"><span class="linenum">1007</span></a>              } else if (<a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a> &lt; 0) {
<a name="l1008"><span class="linenum">1008</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Negative limitnum parameter detected: <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>, did you pass the correct arguments?&quot;,
<a name="l1009"><span class="linenum">1009</span></a>                      <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1010"><span class="linenum">1010</span></a>              }
<a name="l1011"><span class="linenum">1011</span></a>          }
<a name="l1012"><span class="linenum">1012</span></a>  
<a name="l1013"><span class="linenum">1013</span></a>          <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> = (int)<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>;
<a name="l1014"><span class="linenum">1014</span></a>          <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>  = (int)<a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>;
<a name="l1015"><span class="linenum">1015</span></a>          <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a> = <a class="phpfunction" onClick="logFunction('max')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>);
<a name="l1016"><span class="linenum">1016</span></a>          <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>  = <a class="phpfunction" onClick="logFunction('max')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1017"><span class="linenum">1017</span></a>  
<a name="l1018"><span class="linenum">1018</span></a>          return array(<a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1019"><span class="linenum">1019</span></a>      }
<a name="l1020"><span class="linenum">1020</span></a>  
<a name="l1021"><span class="linenum">1021</span></a>      <span class="comment">/**</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * Return tables in database WITHOUT current prefix.</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @param bool $usecache if true, returns list of cached tables.</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @return array of table names in lowercase and without prefix</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     */</span>
<a name="l1026"><span class="linenum">1026</span></a>      public abstract function <a class="function" onClick="logFunction('get_tables')" href="../../_functions/get_tables.html" onMouseOver="funcPopup(event,'get_tables')">get_tables</a>(<a class="var it897" onMouseOver="hilite(897)" onMouseOut="lolite()" onClick="logVariable('usecache')" href="../../_variables/usecache.html">$usecache</a>=true);
<a name="l1027"><span class="linenum">1027</span></a>  
<a name="l1028"><span class="linenum">1028</span></a>      <span class="comment">/**</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment">     * Return table indexes - everything lowercased.</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">     * @param string $table The table we want to get indexes from.</span>
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment">     * @return array An associative array of indexes containing 'unique' flag and 'columns' being indexed</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">     */</span>
<a name="l1033"><span class="linenum">1033</span></a>      public abstract function <a class="function" onClick="logFunction('get_indexes')" href="../../_functions/get_indexes.html" onMouseOver="funcPopup(event,'get_indexes')">get_indexes</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>);
<a name="l1034"><span class="linenum">1034</span></a>  
<a name="l1035"><span class="linenum">1035</span></a>      <span class="comment">/**</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * Returns detailed information about columns in table. This information is cached internally.</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * @param string $table The table's name.</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @param bool $usecache Flag to use internal cacheing. The default is true.</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     * @return array of database_column_info objects indexed with column names</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     */</span>
<a name="l1041"><span class="linenum">1041</span></a>      public abstract function <a class="function" onClick="logFunction('get_columns')" href="../../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it897" onMouseOver="hilite(897)" onMouseOut="lolite()" onClick="logVariable('usecache')" href="../../_variables/usecache.html">$usecache</a>=true);
<a name="l1042"><span class="linenum">1042</span></a>  
<a name="l1043"><span class="linenum">1043</span></a>      <span class="comment">/**</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">     * Normalise values based on varying RDBMS's dependencies (booleans, LOBs...)</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment">     *</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment">     * @param database_column_info $column column metadata corresponding with the value we are going to normalise</span>
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">     * @param mixed $value value we are going to normalise</span>
<a name="l1048"><span class="linenum">1048</span></a>  <span class="comment">     * @return mixed the normalised value</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">     */</span>
<a name="l1050"><span class="linenum">1050</span></a>      protected abstract function <a class="function" onClick="logFunction('normalise_value')" href="../../_functions/normalise_value.html" onMouseOver="funcPopup(event,'normalise_value')">normalise_value</a>(<a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1051"><span class="linenum">1051</span></a>  
<a name="l1052"><span class="linenum">1052</span></a>      <span class="comment">/**</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment">     * Resets the internal column details cache</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment">     *</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment">     * @param array|null $tablenames an array of xmldb table names affected by this request.</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment">     * @return void</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment">     */</span>
<a name="l1058"><span class="linenum">1058</span></a>      public function <a class="function" onClick="logFunction('reset_caches')" href="../../_functions/reset_caches.html" onMouseOver="funcPopup(event,'reset_caches')">reset_caches</a>(<a class="var it3463" onMouseOver="hilite(3463)" onMouseOut="lolite()" onClick="logVariable('tablenames')" href="../../_variables/tablenames.html">$tablenames</a> = null) {
<a name="l1059"><span class="linenum">1059</span></a>          if (!empty(<a class="var it3463" onMouseOver="hilite(3463)" onMouseOut="lolite()" onClick="logVariable('tablenames')" href="../../_variables/tablenames.html">$tablenames</a>)) {
<a name="l1060"><span class="linenum">1060</span></a>              <a class="var it25368" onMouseOver="hilite(25368)" onMouseOut="lolite()" onClick="logVariable('dbmetapurged')" href="../../_variables/dbmetapurged.html">$dbmetapurged</a> = false;
<a name="l1061"><span class="linenum">1061</span></a>              foreach (<a class="var it3463" onMouseOver="hilite(3463)" onMouseOut="lolite()" onClick="logVariable('tablenames')" href="../../_variables/tablenames.html">$tablenames</a> as <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>) {
<a name="l1062"><span class="linenum">1062</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('is_temptable')" href="../../_functions/is_temptable.html" onMouseOver="funcPopup(event,'is_temptable')">is_temptable</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>)) {
<a name="l1063"><span class="linenum">1063</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_temp_tables_cache')" href="../../_functions/get_temp_tables_cache.html" onMouseOver="funcPopup(event,'get_temp_tables_cache')">get_temp_tables_cache</a>()-&gt;<a class="function" onClick="logFunction('delete')" href="../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l1064"><span class="linenum">1064</span></a>                  } else if (<a class="var it25368" onMouseOver="hilite(25368)" onMouseOut="lolite()" onClick="logVariable('dbmetapurged')" href="../../_variables/dbmetapurged.html">$dbmetapurged</a> === false) {
<a name="l1065"><span class="linenum">1065</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a> = null;
<a name="l1066"><span class="linenum">1066</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_metacache')" href="../../_functions/get_metacache.html" onMouseOver="funcPopup(event,'get_metacache')">get_metacache</a>()-&gt;<a class="function" onClick="logFunction('purge')" href="../../_functions/purge.html" onMouseOver="funcPopup(event,'purge')">purge</a>();
<a name="l1067"><span class="linenum">1067</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('metacache')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/metacache.html">metacache</a> = null;
<a name="l1068"><span class="linenum">1068</span></a>                      <a class="var it25368" onMouseOver="hilite(25368)" onMouseOut="lolite()" onClick="logVariable('dbmetapurged')" href="../../_variables/dbmetapurged.html">$dbmetapurged</a> = true;
<a name="l1069"><span class="linenum">1069</span></a>                  }
<a name="l1070"><span class="linenum">1070</span></a>              }
<a name="l1071"><span class="linenum">1071</span></a>          } else {
<a name="l1072"><span class="linenum">1072</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_temp_tables_cache')" href="../../_functions/get_temp_tables_cache.html" onMouseOver="funcPopup(event,'get_temp_tables_cache')">get_temp_tables_cache</a>()-&gt;<a class="function" onClick="logFunction('purge')" href="../../_functions/purge.html" onMouseOver="funcPopup(event,'purge')">purge</a>();
<a name="l1073"><span class="linenum">1073</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a> = null;
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">            // Purge MUC as well.</span>
<a name="l1075"><span class="linenum">1075</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_metacache')" href="../../_functions/get_metacache.html" onMouseOver="funcPopup(event,'get_metacache')">get_metacache</a>()-&gt;<a class="function" onClick="logFunction('purge')" href="../../_functions/purge.html" onMouseOver="funcPopup(event,'purge')">purge</a>();
<a name="l1076"><span class="linenum">1076</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('metacache')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/metacache.html">metacache</a> = null;
<a name="l1077"><span class="linenum">1077</span></a>          }
<a name="l1078"><span class="linenum">1078</span></a>      }
<a name="l1079"><span class="linenum">1079</span></a>  
<a name="l1080"><span class="linenum">1080</span></a>      <span class="comment">/**</span>
<a name="l1081"><span class="linenum">1081</span></a>  <span class="comment">     * Returns the sql generator used for db manipulation.</span>
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">     * Used mostly in upgrade.php scripts.</span>
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment">     * @return database_manager The instance used to perform ddl operations.</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * @see lib/ddl/database_manager.php</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     */</span>
<a name="l1086"><span class="linenum">1086</span></a>      public function <a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>() {
<a name="l1087"><span class="linenum">1087</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a>) {
<a name="l1090"><span class="linenum">1090</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/ddllib.php');
<a name="l1091"><span class="linenum">1091</span></a>  
<a name="l1092"><span class="linenum">1092</span></a>              <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_dbfamily')" href="../../_functions/get_dbfamily.html" onMouseOver="funcPopup(event,'get_dbfamily')">get_dbfamily</a>().'_sql_generator';
<a name="l1093"><span class="linenum">1093</span></a>              require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/ddl/<a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a>.php&quot;);
<a name="l1094"><span class="linenum">1094</span></a>              <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a> = new <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../../_variables/classname.html">$classname</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>);
<a name="l1095"><span class="linenum">1095</span></a>  
<a name="l1096"><span class="linenum">1096</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a> = <span class="keyword">new </span><a class="class" onClick="logClass('database_manager')" href="../../_classes/database_manager.html" onMouseOver="classPopup(event,'database_manager')">database_manager</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>, <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>);
<a name="l1097"><span class="linenum">1097</span></a>          }
<a name="l1098"><span class="linenum">1098</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('database_manager')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/database_manager.html">database_manager</a>;
<a name="l1099"><span class="linenum">1099</span></a>      }
<a name="l1100"><span class="linenum">1100</span></a>  
<a name="l1101"><span class="linenum">1101</span></a>      <span class="comment">/**</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment">     * Attempts to change db encoding to UTF-8 encoding if possible.</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">     * @return bool True is successful.</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">     */</span>
<a name="l1105"><span class="linenum">1105</span></a>      public function <a class="function" onClick="logFunction('change_db_encoding')" href="../../_functions/change_db_encoding.html" onMouseOver="funcPopup(event,'change_db_encoding')">change_db_encoding</a>() {
<a name="l1106"><span class="linenum">1106</span></a>          return false;
<a name="l1107"><span class="linenum">1107</span></a>      }
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>      <span class="comment">/**</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">     * Checks to see if the database is in unicode mode?</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">     * @return bool</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">     */</span>
<a name="l1113"><span class="linenum">1113</span></a>      public function <a class="function" onClick="logFunction('setup_is_unicodedb')" href="../../_functions/setup_is_unicodedb.html" onMouseOver="funcPopup(event,'setup_is_unicodedb')">setup_is_unicodedb</a>() {
<a name="l1114"><span class="linenum">1114</span></a>          return true;
<a name="l1115"><span class="linenum">1115</span></a>      }
<a name="l1116"><span class="linenum">1116</span></a>  
<a name="l1117"><span class="linenum">1117</span></a>      <span class="comment">/**</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment">     * Enable/disable very detailed debugging.</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment">     * @param bool $state</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment">     * @return void</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">     */</span>
<a name="l1122"><span class="linenum">1122</span></a>      public function <a class="function" onClick="logFunction('set_debug')" href="../../_functions/set_debug.html" onMouseOver="funcPopup(event,'set_debug')">set_debug</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>) {
<a name="l1123"><span class="linenum">1123</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/debug.html">debug</a> = <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>;
<a name="l1124"><span class="linenum">1124</span></a>      }
<a name="l1125"><span class="linenum">1125</span></a>  
<a name="l1126"><span class="linenum">1126</span></a>      <span class="comment">/**</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * Returns debug status</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     * @return bool $state</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     */</span>
<a name="l1130"><span class="linenum">1130</span></a>      public function <a class="function" onClick="logFunction('get_debug')" href="../../_functions/get_debug.html" onMouseOver="funcPopup(event,'get_debug')">get_debug</a>() {
<a name="l1131"><span class="linenum">1131</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('debug')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/debug.html">debug</a>;
<a name="l1132"><span class="linenum">1132</span></a>      }
<a name="l1133"><span class="linenum">1133</span></a>  
<a name="l1134"><span class="linenum">1134</span></a>      <span class="comment">/**</span>
<a name="l1135"><span class="linenum">1135</span></a>  <span class="comment">     * Enable/disable detailed sql logging</span>
<a name="l1136"><span class="linenum">1136</span></a>  <span class="comment">     *</span>
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment">     * @deprecated since Moodle 2.9</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment">     */</span>
<a name="l1139"><span class="linenum">1139</span></a>      public function <a class="function" onClick="logFunction('set_logging')" href="../../_functions/set_logging.html" onMouseOver="funcPopup(event,'set_logging')">set_logging</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../_variables/state.html">$state</a>) {
<a name="l1140"><span class="linenum">1140</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('set_logging')" href="../../_functions/set_logging.html" onMouseOver="funcPopup(event,'set_logging')">set_logging</a>() can not be used any more.');
<a name="l1141"><span class="linenum">1141</span></a>      }
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>      <span class="comment">/**</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * Do NOT use in code, this is for use by database_manager only!</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     * @param string|array $sql query or array of queries</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     * @param array|null $tablenames an array of xmldb table names affected by this request.</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     * @throws ddl_change_structure_exception A DDL specific exception is thrown for any errors.</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment">     */</span>
<a name="l1150"><span class="linenum">1150</span></a>      public abstract function <a class="function" onClick="logFunction('change_database_structure')" href="../../_functions/change_database_structure.html" onMouseOver="funcPopup(event,'change_database_structure')">change_database_structure</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it3463" onMouseOver="hilite(3463)" onMouseOut="lolite()" onClick="logVariable('tablenames')" href="../../_variables/tablenames.html">$tablenames</a> = null);
<a name="l1151"><span class="linenum">1151</span></a>  
<a name="l1152"><span class="linenum">1152</span></a>      <span class="comment">/**</span>
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment">     * Executes a general sql query. Should be used only when no other method suitable.</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment">     * Do NOT use this to make changes in db structure, use database_manager methods instead!</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment">     * @param string $sql query</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment">     * @param array $params query parameters</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment">     */</span>
<a name="l1160"><span class="linenum">1160</span></a>      public abstract function <a class="function" onClick="logFunction('execute')" href="../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null);
<a name="l1161"><span class="linenum">1161</span></a>  
<a name="l1162"><span class="linenum">1162</span></a>      <span class="comment">/**</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment">     * Get a number of records as a moodle_recordset where all the given conditions met.</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment">     *</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">     * Selects records from the table $table.</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">     *</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">     * If specified, only records meeting $conditions.</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment">     *</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment">     * If specified, the results will be sorted as specified by $sort. This</span>
<a name="l1170"><span class="linenum">1170</span></a>  <span class="comment">     * is added to the SQL as &quot;ORDER BY $sort&quot;. Example values of $sort</span>
<a name="l1171"><span class="linenum">1171</span></a>  <span class="comment">     * might be &quot;time ASC&quot; or &quot;time DESC&quot;.</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">     *</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment">     * If $fields is specified, only those fields are returned.</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">     *</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment">     * Since this method is a little less readable, use of it should be restricted to</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">     * code where it's possible there might be large datasets being returned.  For known</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment">     * small datasets use get_records - it leads to simpler code.</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment">     *</span>
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment">     * If you only want some of the records, specify $limitfrom and $limitnum.</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">     * The query will skip the first $limitfrom records (according to the sort</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">     * order) and then return the next $limitnum records. If either of $limitfrom</span>
<a name="l1182"><span class="linenum">1182</span></a>  <span class="comment">     * or $limitnum is specified, both must be present.</span>
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">     *</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">     * The return value is a moodle_recordset</span>
<a name="l1185"><span class="linenum">1185</span></a>  <span class="comment">     * if the query succeeds. If an error occurs, false is returned.</span>
<a name="l1186"><span class="linenum">1186</span></a>  <span class="comment">     *</span>
<a name="l1187"><span class="linenum">1187</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1188"><span class="linenum">1188</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1189"><span class="linenum">1189</span></a>  <span class="comment">     * @param string $sort an order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1190"><span class="linenum">1190</span></a>  <span class="comment">     * @param string $fields a comma separated list of fields to return (optional, by default all fields are returned).</span>
<a name="l1191"><span class="linenum">1191</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1192"><span class="linenum">1192</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1193"><span class="linenum">1193</span></a>  <span class="comment">     * @return moodle_recordset A moodle_recordset instance</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">     */</span>
<a name="l1196"><span class="linenum">1196</span></a>      public function <a class="function" onClick="logFunction('get_recordset')" href="../../_functions/get_recordset.html" onMouseOver="funcPopup(event,'get_recordset')">get_recordset</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1197"><span class="linenum">1197</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1198"><span class="linenum">1198</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_recordset_select')" href="../../_functions/get_recordset_select.html" onMouseOver="funcPopup(event,'get_recordset_select')">get_recordset_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1199"><span class="linenum">1199</span></a>      }
<a name="l1200"><span class="linenum">1200</span></a>  
<a name="l1201"><span class="linenum">1201</span></a>      <span class="comment">/**</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">     * Get a number of records as a moodle_recordset where one field match one list of values.</span>
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">     *</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">     * Only records where $field takes one of the values $values are returned.</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment">     * $values must be an array of values.</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">     *</span>
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">     * Other arguments and the return type are like {@link function get_recordset}.</span>
<a name="l1208"><span class="linenum">1208</span></a>  <span class="comment">     *</span>
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment">     * @param string $field a field to check (optional).</span>
<a name="l1211"><span class="linenum">1211</span></a>  <span class="comment">     * @param array $values array of values the field must have</span>
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment">     * @param string $sort an order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment">     * @param string $fields a comma separated list of fields to return (optional, by default all fields are returned).</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">     * @return moodle_recordset A moodle_recordset instance.</span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment">     */</span>
<a name="l1219"><span class="linenum">1219</span></a>      public function <a class="function" onClick="logFunction('get_recordset_list')" href="../../_functions/get_recordset_list.html" onMouseOver="funcPopup(event,'get_recordset_list')">get_recordset_list</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, array <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1220"><span class="linenum">1220</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause_list')" href="../../_functions/where_clause_list.html" onMouseOver="funcPopup(event,'where_clause_list')">where_clause_list</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>);
<a name="l1221"><span class="linenum">1221</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_recordset_select')" href="../../_functions/get_recordset_select.html" onMouseOver="funcPopup(event,'get_recordset_select')">get_recordset_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1222"><span class="linenum">1222</span></a>      }
<a name="l1223"><span class="linenum">1223</span></a>  
<a name="l1224"><span class="linenum">1224</span></a>      <span class="comment">/**</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">     * Get a number of records as a moodle_recordset which match a particular WHERE clause.</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     *</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     * If given, $select is used as the SELECT parameter in the SQL query,</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     * otherwise all records from the table are returned.</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment">     *</span>
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment">     * Other arguments and the return type are like {@link function get_recordset}.</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     *</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">     * @param string $sort an order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">     * @param string $fields a comma separated list of fields to return (optional, by default all fields are returned).</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment">     * @return moodle_recordset A moodle_recordset instance.</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment">     */</span>
<a name="l1242"><span class="linenum">1242</span></a>      public function <a class="function" onClick="logFunction('get_recordset_select')" href="../../_functions/get_recordset_select.html" onMouseOver="funcPopup(event,'get_recordset_select')">get_recordset_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1243"><span class="linenum">1243</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> FROM {&quot;.<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>.&quot;}&quot;;
<a name="l1244"><span class="linenum">1244</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1245"><span class="linenum">1245</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> .= &quot; WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1246"><span class="linenum">1246</span></a>          }
<a name="l1247"><span class="linenum">1247</span></a>          if (<a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>) {
<a name="l1248"><span class="linenum">1248</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> .= &quot; ORDER BY <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>&quot;;
<a name="l1249"><span class="linenum">1249</span></a>          }
<a name="l1250"><span class="linenum">1250</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1251"><span class="linenum">1251</span></a>      }
<a name="l1252"><span class="linenum">1252</span></a>  
<a name="l1253"><span class="linenum">1253</span></a>      <span class="comment">/**</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     * Get a number of records as a moodle_recordset using a SQL statement.</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     *</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * Since this method is a little less readable, use of it should be restricted to</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     * code where it's possible there might be large datasets being returned.  For known</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment">     * small datasets use get_records_sql - it leads to simpler code.</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     *</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">     * The return type is like {@link function get_recordset}.</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     *</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     * @param string $sql the SQL select query to execute.</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment">     * @return moodle_recordset A moodle_recordset instance.</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment">     */</span>
<a name="l1269"><span class="linenum">1269</span></a>      public abstract function <a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0);
<a name="l1270"><span class="linenum">1270</span></a>  
<a name="l1271"><span class="linenum">1271</span></a>      <span class="comment">/**</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">     * Get all records from a table.</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment">     *</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">     * This method works around potential memory problems and may improve performance,</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">     * this method may block access to table until the recordset is closed.</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">     *</span>
<a name="l1277"><span class="linenum">1277</span></a>  <span class="comment">     * @param string $table Name of database table.</span>
<a name="l1278"><span class="linenum">1278</span></a>  <span class="comment">     * @return moodle_recordset A moodle_recordset instance {@link function get_recordset}.</span>
<a name="l1279"><span class="linenum">1279</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">     */</span>
<a name="l1281"><span class="linenum">1281</span></a>      public function <a class="function" onClick="logFunction('export_table_recordset')" href="../../_functions/export_table_recordset.html" onMouseOver="funcPopup(event,'export_table_recordset')">export_table_recordset</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l1282"><span class="linenum">1282</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_recordset')" href="../../_functions/get_recordset.html" onMouseOver="funcPopup(event,'get_recordset')">get_recordset</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array());
<a name="l1283"><span class="linenum">1283</span></a>      }
<a name="l1284"><span class="linenum">1284</span></a>  
<a name="l1285"><span class="linenum">1285</span></a>      <span class="comment">/**</span>
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment">     * Get a number of records as an array of objects where all the given conditions met.</span>
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment">     *</span>
<a name="l1288"><span class="linenum">1288</span></a>  <span class="comment">     * If the query succeeds and returns at least one record, the</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment">     * return value is an array of objects, one object for each</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment">     * record found. The array key is the value from the first</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment">     * column of the result set. The object associated with that key</span>
<a name="l1292"><span class="linenum">1292</span></a>  <span class="comment">     * has a member variable for each column of the results.</span>
<a name="l1293"><span class="linenum">1293</span></a>  <span class="comment">     *</span>
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">     * @param string $sort an order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">     * @param string $fields a comma separated list of fields to return (optional, by default</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     *   all fields are returned). The first field will be used as key for the</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     *   array so must be a unique field such as 'id'.</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records in total (optional, required if $limitfrom is set).</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment">     * @return array An array of Objects indexed by first column.</span>
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1304"><span class="linenum">1304</span></a>  <span class="comment">     */</span>
<a name="l1305"><span class="linenum">1305</span></a>      public function <a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1306"><span class="linenum">1306</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1307"><span class="linenum">1307</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1308"><span class="linenum">1308</span></a>      }
<a name="l1309"><span class="linenum">1309</span></a>  
<a name="l1310"><span class="linenum">1310</span></a>      <span class="comment">/**</span>
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">     * Get a number of records as an array of objects where one field match one list of values.</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">     *</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment">     * Return value is like {@link function get_records}.</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment">     *</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">     * @param string $field The field to search</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     * @param array $values An array of values</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     * @param string $sort Sort order (as valid SQL sort parameter)</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">     * @param string $fields A comma separated list of fields to be returned from the chosen table. If specified,</span>
<a name="l1320"><span class="linenum">1320</span></a>  <span class="comment">     *   the first field should be a unique one such as 'id' since it will be used as a key in the associative</span>
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment">     *   array.</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records in total (optional).</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">     * @return array An array of objects indexed by first column</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     */</span>
<a name="l1327"><span class="linenum">1327</span></a>      public function <a class="function" onClick="logFunction('get_records_list')" href="../../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, array <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1328"><span class="linenum">1328</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause_list')" href="../../_functions/where_clause_list.html" onMouseOver="funcPopup(event,'where_clause_list')">where_clause_list</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>);
<a name="l1329"><span class="linenum">1329</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1330"><span class="linenum">1330</span></a>      }
<a name="l1331"><span class="linenum">1331</span></a>  
<a name="l1332"><span class="linenum">1332</span></a>      <span class="comment">/**</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment">     * Get a number of records as an array of objects which match a particular WHERE clause.</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">     *</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">     * Return value is like {@link function get_records}.</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">     *</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * @param string $table The table to query.</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * @param array $params An array of sql parameters</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     * @param string $sort An order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     * @param string $fields A comma separated list of fields to return</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">     *   (optional, by default all fields are returned). The first field will be used as key for the</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">     *   array so must be a unique field such as 'id'.</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records in total (optional, required if $limitfrom is set).</span>
<a name="l1346"><span class="linenum">1346</span></a>  <span class="comment">     * @return array of objects indexed by first column</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment">     */</span>
<a name="l1349"><span class="linenum">1349</span></a>      public function <a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1350"><span class="linenum">1350</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1351"><span class="linenum">1351</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1352"><span class="linenum">1352</span></a>          }
<a name="l1353"><span class="linenum">1353</span></a>          if (<a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>) {
<a name="l1354"><span class="linenum">1354</span></a>              <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a> = &quot; ORDER BY <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>&quot;;
<a name="l1355"><span class="linenum">1355</span></a>          }
<a name="l1356"><span class="linenum">1356</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>);
<a name="l1357"><span class="linenum">1357</span></a>      }
<a name="l1358"><span class="linenum">1358</span></a>  
<a name="l1359"><span class="linenum">1359</span></a>      <span class="comment">/**</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     * Get a number of records as an array of objects using a SQL statement.</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">     *</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">     * Return value is like {@link function get_records}.</span>
<a name="l1363"><span class="linenum">1363</span></a>  <span class="comment">     *</span>
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">     * @param string $sql the SQL select query to execute. The first column of this SELECT statement</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">     *   must be a unique value (usually the 'id' field), as it will be used as the key of the</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">     *   returned array.</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records in total (optional, required if $limitfrom is set).</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">     * @return array of objects indexed by first column</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">     */</span>
<a name="l1373"><span class="linenum">1373</span></a>      public abstract function <a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0);
<a name="l1374"><span class="linenum">1374</span></a>  
<a name="l1375"><span class="linenum">1375</span></a>      <span class="comment">/**</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment">     * Get the first two columns from a number of records as an associative array where all the given conditions met.</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment">     *</span>
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment">     * Arguments are like {@link function get_recordset}.</span>
<a name="l1379"><span class="linenum">1379</span></a>  <span class="comment">     *</span>
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">     * If no errors occur the return value</span>
<a name="l1381"><span class="linenum">1381</span></a>  <span class="comment">     * is an associative whose keys come from the first field of each record,</span>
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">     * and whose values are the corresponding second fields.</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">     * False is returned if an error occurs.</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment">     *</span>
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1386"><span class="linenum">1386</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1387"><span class="linenum">1387</span></a>  <span class="comment">     * @param string $sort an order to sort the results in (optional, a valid SQL ORDER BY parameter).</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment">     * @param string $fields a comma separated list of fields to return - the number of fields should be 2!</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment">     * @return array an associative array</span>
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment">     */</span>
<a name="l1394"><span class="linenum">1394</span></a>      public function <a class="function" onClick="logFunction('get_records_menu')" href="../../_functions/get_records_menu.html" onMouseOver="funcPopup(event,'get_records_menu')">get_records_menu</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1395"><span class="linenum">1395</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a> = array();
<a name="l1396"><span class="linenum">1396</span></a>          if (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>)) {
<a name="l1397"><span class="linenum">1397</span></a>              foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l1398"><span class="linenum">1398</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = (array)<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>;
<a name="l1399"><span class="linenum">1399</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>   = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1400"><span class="linenum">1400</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1401"><span class="linenum">1401</span></a>                  <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1402"><span class="linenum">1402</span></a>              }
<a name="l1403"><span class="linenum">1403</span></a>          }
<a name="l1404"><span class="linenum">1404</span></a>          return <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>;
<a name="l1405"><span class="linenum">1405</span></a>      }
<a name="l1406"><span class="linenum">1406</span></a>  
<a name="l1407"><span class="linenum">1407</span></a>      <span class="comment">/**</span>
<a name="l1408"><span class="linenum">1408</span></a>  <span class="comment">     * Get the first two columns from a number of records as an associative array which match a particular WHERE clause.</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     *</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     * Arguments are like {@link function get_recordset_select}.</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     * Return value is like {@link function get_records_menu}.</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     *</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1415"><span class="linenum">1415</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">     * @param string $sort Sort order (optional) - a valid SQL order parameter</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">     * @param string $fields A comma separated list of fields to be returned from the chosen table - the number of fields should be 2!</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment">     * @return array an associative array</span>
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1422"><span class="linenum">1422</span></a>  <span class="comment">     */</span>
<a name="l1423"><span class="linenum">1423</span></a>      public function <a class="function" onClick="logFunction('get_records_select_menu')" href="../../_functions/get_records_select_menu.html" onMouseOver="funcPopup(event,'get_records_select_menu')">get_records_select_menu</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>='', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1424"><span class="linenum">1424</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a> = array();
<a name="l1425"><span class="linenum">1425</span></a>          if (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../_variables/sort.html">$sort</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>)) {
<a name="l1426"><span class="linenum">1426</span></a>              foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l1427"><span class="linenum">1427</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = (array)<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>;
<a name="l1428"><span class="linenum">1428</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>   = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1429"><span class="linenum">1429</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1430"><span class="linenum">1430</span></a>                  <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1431"><span class="linenum">1431</span></a>              }
<a name="l1432"><span class="linenum">1432</span></a>          }
<a name="l1433"><span class="linenum">1433</span></a>          return <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>;
<a name="l1434"><span class="linenum">1434</span></a>      }
<a name="l1435"><span class="linenum">1435</span></a>  
<a name="l1436"><span class="linenum">1436</span></a>      <span class="comment">/**</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment">     * Get the first two columns from a number of records as an associative array using a SQL statement.</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">     *</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">     * Arguments are like {@link function get_recordset_sql}.</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">     * Return value is like {@link function get_records_menu}.</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">     *</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     * @param string $sql The SQL string you wish to be executed.</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">     * @param int $limitfrom return a subset of records, starting at this point (optional).</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment">     * @param int $limitnum return a subset comprising this many records (optional, required if $limitfrom is set).</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">     * @return array an associative array</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment">     */</span>
<a name="l1449"><span class="linenum">1449</span></a>      public function <a class="function" onClick="logFunction('get_records_sql_menu')" href="../../_functions/get_records_sql_menu.html" onMouseOver="funcPopup(event,'get_records_sql_menu')">get_records_sql_menu</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l1450"><span class="linenum">1450</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a> = array();
<a name="l1451"><span class="linenum">1451</span></a>          if (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../../_variables/limitnum.html">$limitnum</a>)) {
<a name="l1452"><span class="linenum">1452</span></a>              foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l1453"><span class="linenum">1453</span></a>                  <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = (array)<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>;
<a name="l1454"><span class="linenum">1454</span></a>                  <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>   = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1455"><span class="linenum">1455</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l1456"><span class="linenum">1456</span></a>                  <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1457"><span class="linenum">1457</span></a>              }
<a name="l1458"><span class="linenum">1458</span></a>          }
<a name="l1459"><span class="linenum">1459</span></a>          return <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../_variables/menu.html">$menu</a>;
<a name="l1460"><span class="linenum">1460</span></a>      }
<a name="l1461"><span class="linenum">1461</span></a>  
<a name="l1462"><span class="linenum">1462</span></a>      <span class="comment">/**</span>
<a name="l1463"><span class="linenum">1463</span></a>  <span class="comment">     * Get a single database record as an object where all the given conditions met.</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">     *</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     * @param string $table The table to select from.</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     * @param string $fields A comma separated list of fields to be returned from the chosen table.</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1470"><span class="linenum">1470</span></a>  <span class="comment">     *                        MUST_EXIST means we will throw an exception if no record or multiple records found.</span>
<a name="l1471"><span class="linenum">1471</span></a>  <span class="comment">     *</span>
<a name="l1472"><span class="linenum">1472</span></a>  <span class="comment">     * @todo MDL-30407 MUST_EXIST option should not throw a dml_exception, it should throw a different exception as it's a requested check.</span>
<a name="l1473"><span class="linenum">1473</span></a>  <span class="comment">     * @return mixed a fieldset object containing the first matching record, false or exception if error not found depending on mode</span>
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">     */</span>
<a name="l1476"><span class="linenum">1476</span></a>      public function <a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1477"><span class="linenum">1477</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1478"><span class="linenum">1478</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_record_select')" href="../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>);
<a name="l1479"><span class="linenum">1479</span></a>      }
<a name="l1480"><span class="linenum">1480</span></a>  
<a name="l1481"><span class="linenum">1481</span></a>      <span class="comment">/**</span>
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">     * Get a single database record as an object which match a particular WHERE clause.</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment">     *</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">     * @param string $fields A comma separated list of fields to be returned from the chosen table.</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">     *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">     * @return stdClass|false a fieldset object containing the first matching record, false or exception if error not found depending on mode</span>
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment">     */</span>
<a name="l1494"><span class="linenum">1494</span></a>      public function <a class="function" onClick="logFunction('get_record_select')" href="../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>='*', <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1495"><span class="linenum">1495</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1496"><span class="linenum">1496</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1497"><span class="linenum">1497</span></a>          }
<a name="l1498"><span class="linenum">1498</span></a>          try {
<a name="l1499"><span class="linenum">1499</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(&quot;SELECT <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>);
<a name="l1500"><span class="linenum">1500</span></a>          } catch (dml_missing_record_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">            // create new exception which will contain correct table name</span>
<a name="l1502"><span class="linenum">1502</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_missing_record_exception')" href="../../_classes/dml_missing_record_exception.html" onMouseOver="classPopup(event,'dml_missing_record_exception')">dml_missing_record_exception</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('sql')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/sql.html">sql</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('params')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/params.html">params</a>);
<a name="l1503"><span class="linenum">1503</span></a>          }
<a name="l1504"><span class="linenum">1504</span></a>      }
<a name="l1505"><span class="linenum">1505</span></a>  
<a name="l1506"><span class="linenum">1506</span></a>      <span class="comment">/**</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="comment">     * Get a single database record as an object using a SQL statement.</span>
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment">     *</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment">     * The SQL statement should normally only return one record.</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">     * It is recommended to use get_records_sql() if more matches possible!</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment">     *</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">     * @param string $sql The SQL string you wish to be executed, should normally only return one record.</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment">     *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment">     * @return mixed a fieldset object containing the first matching record, false or exception if error not found depending on mode</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment">     */</span>
<a name="l1520"><span class="linenum">1520</span></a>      public function <a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1521"><span class="linenum">1521</span></a>          <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a> = (int)<a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>; <span class="comment">// we support true/false for BC reasons too</span>
<a name="l1522"><span class="linenum">1522</span></a>          if (<a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a> == <a class="constant" onClick="logConstant('IGNORE_MULTIPLE')" href="../../_constants/IGNORE_MULTIPLE.html" onMouseOver="constPopup(event,'IGNORE_MULTIPLE')">IGNORE_MULTIPLE</a>) {
<a name="l1523"><span class="linenum">1523</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = 1;
<a name="l1524"><span class="linenum">1524</span></a>          } else {
<a name="l1525"><span class="linenum">1525</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = 0;
<a name="l1526"><span class="linenum">1526</span></a>          }
<a name="l1527"><span class="linenum">1527</span></a>          if (!<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 0, <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>)) {
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">            // not found</span>
<a name="l1529"><span class="linenum">1529</span></a>              if (<a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a> == <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>) {
<a name="l1530"><span class="linenum">1530</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_missing_record_exception')" href="../../_classes/dml_missing_record_exception.html" onMouseOver="classPopup(event,'dml_missing_record_exception')">dml_missing_record_exception</a>('', <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1531"><span class="linenum">1531</span></a>              }
<a name="l1532"><span class="linenum">1532</span></a>              return false;
<a name="l1533"><span class="linenum">1533</span></a>          }
<a name="l1534"><span class="linenum">1534</span></a>  
<a name="l1535"><span class="linenum">1535</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>) &gt; 1) {
<a name="l1536"><span class="linenum">1536</span></a>              if (<a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a> == <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>) {
<a name="l1537"><span class="linenum">1537</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_multiple_records_exception')" href="../../_classes/dml_multiple_records_exception.html" onMouseOver="classPopup(event,'dml_multiple_records_exception')">dml_multiple_records_exception</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1538"><span class="linenum">1538</span></a>              }
<a name="l1539"><span class="linenum">1539</span></a>              <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Error: mdb-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>() found more than one record!');
<a name="l1540"><span class="linenum">1540</span></a>          }
<a name="l1541"><span class="linenum">1541</span></a>  
<a name="l1542"><span class="linenum">1542</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>);
<a name="l1543"><span class="linenum">1543</span></a>          return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l1544"><span class="linenum">1544</span></a>      }
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>      <span class="comment">/**</span>
<a name="l1547"><span class="linenum">1547</span></a>  <span class="comment">     * Get a single field value from a table record where all the given conditions met.</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment">     *</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     * @param string $return the field to return the value of.</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1554"><span class="linenum">1554</span></a>  <span class="comment">     *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment">     * @return mixed the specified value false if not found</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1557"><span class="linenum">1557</span></a>  <span class="comment">     */</span>
<a name="l1558"><span class="linenum">1558</span></a>      public function <a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1559"><span class="linenum">1559</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1560"><span class="linenum">1560</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_select')" href="../../_functions/get_field_select.html" onMouseOver="funcPopup(event,'get_field_select')">get_field_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>);
<a name="l1561"><span class="linenum">1561</span></a>      }
<a name="l1562"><span class="linenum">1562</span></a>  
<a name="l1563"><span class="linenum">1563</span></a>      <span class="comment">/**</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment">     * Get a single field value from a table record which match a particular WHERE clause.</span>
<a name="l1565"><span class="linenum">1565</span></a>  <span class="comment">     *</span>
<a name="l1566"><span class="linenum">1566</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment">     * @param string $return the field to return the value of.</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause returning one row with one column</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment">     *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment">     * @return mixed the specified value false if not found</span>
<a name="l1574"><span class="linenum">1574</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1575"><span class="linenum">1575</span></a>  <span class="comment">     */</span>
<a name="l1576"><span class="linenum">1576</span></a>      public function <a class="function" onClick="logFunction('get_field_select')" href="../../_functions/get_field_select.html" onMouseOver="funcPopup(event,'get_field_select')">get_field_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1577"><span class="linenum">1577</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1578"><span class="linenum">1578</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1579"><span class="linenum">1579</span></a>          }
<a name="l1580"><span class="linenum">1580</span></a>          try {
<a name="l1581"><span class="linenum">1581</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(&quot;SELECT <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>);
<a name="l1582"><span class="linenum">1582</span></a>          } catch (dml_missing_record_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment">            // create new exception which will contain correct table name</span>
<a name="l1584"><span class="linenum">1584</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_missing_record_exception')" href="../../_classes/dml_missing_record_exception.html" onMouseOver="classPopup(event,'dml_missing_record_exception')">dml_missing_record_exception</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('sql')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/sql.html">sql</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('params')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/params.html">params</a>);
<a name="l1585"><span class="linenum">1585</span></a>          }
<a name="l1586"><span class="linenum">1586</span></a>      }
<a name="l1587"><span class="linenum">1587</span></a>  
<a name="l1588"><span class="linenum">1588</span></a>      <span class="comment">/**</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">     * Get a single field value (first field) using a SQL statement.</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     *</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment">     * @param string $sql The SQL query returning one row with one column</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     *                        IGNORE_MULTIPLE means return first, ignore multiple records found(not recommended);</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l1596"><span class="linenum">1596</span></a>  <span class="comment">     * @return mixed the specified value false if not found</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     */</span>
<a name="l1599"><span class="linenum">1599</span></a>      public function <a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1600"><span class="linenum">1600</span></a>          if (!<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../../_variables/strictness.html">$strictness</a>)) {
<a name="l1601"><span class="linenum">1601</span></a>              return false;
<a name="l1602"><span class="linenum">1602</span></a>          }
<a name="l1603"><span class="linenum">1603</span></a>  
<a name="l1604"><span class="linenum">1604</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = (array)<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>;
<a name="l1605"><span class="linenum">1605</span></a>          return <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>); <span class="comment">// first column</span>
<a name="l1606"><span class="linenum">1606</span></a>      }
<a name="l1607"><span class="linenum">1607</span></a>  
<a name="l1608"><span class="linenum">1608</span></a>      <span class="comment">/**</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment">     * Selects records and return values of chosen field as an array which match a particular WHERE clause.</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment">     *</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">     * @param string $table the table to query.</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment">     * @param string $return the field we are intered in</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1614"><span class="linenum">1614</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">     * @return array of values</span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1617"><span class="linenum">1617</span></a>  <span class="comment">     */</span>
<a name="l1618"><span class="linenum">1618</span></a>      public function <a class="function" onClick="logFunction('get_fieldset_select')" href="../../_functions/get_fieldset_select.html" onMouseOver="funcPopup(event,'get_fieldset_select')">get_fieldset_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null) {
<a name="l1619"><span class="linenum">1619</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1620"><span class="linenum">1620</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1621"><span class="linenum">1621</span></a>          }
<a name="l1622"><span class="linenum">1622</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_fieldset_sql')" href="../../_functions/get_fieldset_sql.html" onMouseOver="funcPopup(event,'get_fieldset_sql')">get_fieldset_sql</a>(&quot;SELECT <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1623"><span class="linenum">1623</span></a>      }
<a name="l1624"><span class="linenum">1624</span></a>  
<a name="l1625"><span class="linenum">1625</span></a>      <span class="comment">/**</span>
<a name="l1626"><span class="linenum">1626</span></a>  <span class="comment">     * Selects records and return values (first field) as an array using a SQL statement.</span>
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment">     *</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">     * @param string $sql The SQL query</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">     * @return array of values</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">     */</span>
<a name="l1633"><span class="linenum">1633</span></a>      public abstract function <a class="function" onClick="logFunction('get_fieldset_sql')" href="../../_functions/get_fieldset_sql.html" onMouseOver="funcPopup(event,'get_fieldset_sql')">get_fieldset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null);
<a name="l1634"><span class="linenum">1634</span></a>  
<a name="l1635"><span class="linenum">1635</span></a>      <span class="comment">/**</span>
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment">     * Insert new record into database, as fast as possible, no safety checks, lobs not supported.</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment">     * @param string $table name</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment">     * @param mixed $params data record as object or array</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment">     * @param bool $returnid Returns id of inserted record.</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment">     * @param bool $bulk true means repeated inserts expected</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment">     * @param bool $customsequence true if 'id' included in $params, disables $returnid</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment">     * @return bool|int true or new id</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1644"><span class="linenum">1644</span></a>  <span class="comment">     */</span>
<a name="l1645"><span class="linenum">1645</span></a>      public abstract function <a class="function" onClick="logFunction('insert_record_raw')" href="../../_functions/insert_record_raw.html" onMouseOver="funcPopup(event,'insert_record_raw')">insert_record_raw</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it3467" onMouseOver="hilite(3467)" onMouseOut="lolite()" onClick="logVariable('returnid')" href="../../_variables/returnid.html">$returnid</a>=true, <a class="var it3468" onMouseOver="hilite(3468)" onMouseOut="lolite()" onClick="logVariable('bulk')" href="../../_variables/bulk.html">$bulk</a>=false, <a class="var it3469" onMouseOver="hilite(3469)" onMouseOut="lolite()" onClick="logVariable('customsequence')" href="../../_variables/customsequence.html">$customsequence</a>=false);
<a name="l1646"><span class="linenum">1646</span></a>  
<a name="l1647"><span class="linenum">1647</span></a>      <span class="comment">/**</span>
<a name="l1648"><span class="linenum">1648</span></a>  <span class="comment">     * Insert a record into a table and return the &quot;id&quot; field if required.</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment">     *</span>
<a name="l1650"><span class="linenum">1650</span></a>  <span class="comment">     * Some conversions and safety checks are carried out. Lobs are supported.</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment">     * If the return ID isn't required, then this just reports success as true/false.</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">     * $data is an object containing needed data</span>
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment">     * @param string $table The database table to be inserted into</span>
<a name="l1654"><span class="linenum">1654</span></a>  <span class="comment">     * @param object $dataobject A data object with values for one or more fields in the record</span>
<a name="l1655"><span class="linenum">1655</span></a>  <span class="comment">     * @param bool $returnid Should the id of the newly created record entry be returned? If this option is not requested then true/false is returned.</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment">     * @param bool $bulk Set to true is multiple inserts are expected</span>
<a name="l1657"><span class="linenum">1657</span></a>  <span class="comment">     * @return bool|int true or new id</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment">     */</span>
<a name="l1660"><span class="linenum">1660</span></a>      public abstract function <a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>, <a class="var it3467" onMouseOver="hilite(3467)" onMouseOut="lolite()" onClick="logVariable('returnid')" href="../../_variables/returnid.html">$returnid</a>=true, <a class="var it3468" onMouseOver="hilite(3468)" onMouseOut="lolite()" onClick="logVariable('bulk')" href="../../_variables/bulk.html">$bulk</a>=false);
<a name="l1661"><span class="linenum">1661</span></a>  
<a name="l1662"><span class="linenum">1662</span></a>      <span class="comment">/**</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">     * Insert multiple records into database as fast as possible.</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     *</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     * Order of inserts is maintained, but the operation is not atomic,</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">     * use transactions if necessary.</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">     *</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment">     * This method is intended for inserting of large number of small objects,</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment">     * do not use for huge objects with text or binary fields.</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">     *</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">     *</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * @param string $table  The database table to be inserted into</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     * @param array|Traversable $dataobjects list of objects to be inserted, must be compatible with foreach</span>
<a name="l1675"><span class="linenum">1675</span></a>  <span class="comment">     * @return void does not return new record ids</span>
<a name="l1676"><span class="linenum">1676</span></a>  <span class="comment">     *</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">     * @throws coding_exception if data objects have different structure</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     */</span>
<a name="l1680"><span class="linenum">1680</span></a>      public function <a class="function" onClick="logFunction('insert_records')" href="../../_functions/insert_records.html" onMouseOver="funcPopup(event,'insert_records')">insert_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it24914" onMouseOver="hilite(24914)" onMouseOut="lolite()" onClick="logVariable('dataobjects')" href="../../_variables/dataobjects.html">$dataobjects</a>) {
<a name="l1681"><span class="linenum">1681</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it24914" onMouseOver="hilite(24914)" onMouseOut="lolite()" onClick="logVariable('dataobjects')" href="../../_variables/dataobjects.html">$dataobjects</a>) and !(<a class="var it24914" onMouseOver="hilite(24914)" onMouseOut="lolite()" onClick="logVariable('dataobjects')" href="../../_variables/dataobjects.html">$dataobjects</a> instanceof Traversable)) {
<a name="l1682"><span class="linenum">1682</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('insert_records')" href="../../_functions/insert_records.html" onMouseOver="funcPopup(event,'insert_records')">insert_records</a>() passed non-traversable object');
<a name="l1683"><span class="linenum">1683</span></a>          }
<a name="l1684"><span class="linenum">1684</span></a>  
<a name="l1685"><span class="linenum">1685</span></a>          <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = null;
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment">        // Note: override in driver if there is a faster way.</span>
<a name="l1687"><span class="linenum">1687</span></a>          foreach (<a class="var it24914" onMouseOver="hilite(24914)" onMouseOut="lolite()" onClick="logVariable('dataobjects')" href="../../_variables/dataobjects.html">$dataobjects</a> as <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>) {
<a name="l1688"><span class="linenum">1688</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>) and !<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>)) {
<a name="l1689"><span class="linenum">1689</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('insert_records')" href="../../_functions/insert_records.html" onMouseOver="funcPopup(event,'insert_records')">insert_records</a>() passed invalid record object');
<a name="l1690"><span class="linenum">1690</span></a>              }
<a name="l1691"><span class="linenum">1691</span></a>              <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a> = (array)<a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>;
<a name="l1692"><span class="linenum">1692</span></a>              if (<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> === null) {
<a name="l1693"><span class="linenum">1693</span></a>                  <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>);
<a name="l1694"><span class="linenum">1694</span></a>              } else if (<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> !== <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>)) {
<a name="l1695"><span class="linenum">1695</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('All dataobjects in <a class="function" onClick="logFunction('insert_records')" href="../../_functions/insert_records.html" onMouseOver="funcPopup(event,'insert_records')">insert_records</a>() must have the same structure!');
<a name="l1696"><span class="linenum">1696</span></a>              }
<a name="l1697"><span class="linenum">1697</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>, false);
<a name="l1698"><span class="linenum">1698</span></a>          }
<a name="l1699"><span class="linenum">1699</span></a>      }
<a name="l1700"><span class="linenum">1700</span></a>  
<a name="l1701"><span class="linenum">1701</span></a>      <span class="comment">/**</span>
<a name="l1702"><span class="linenum">1702</span></a>  <span class="comment">     * Import a record into a table, id field is required.</span>
<a name="l1703"><span class="linenum">1703</span></a>  <span class="comment">     * Safety checks are NOT carried out. Lobs are supported.</span>
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">     *</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * @param string $table name of database table to be inserted into</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     * @param object $dataobject A data object with values for one or more fields in the record</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     */</span>
<a name="l1710"><span class="linenum">1710</span></a>      public abstract function <a class="function" onClick="logFunction('import_record')" href="../../_functions/import_record.html" onMouseOver="funcPopup(event,'import_record')">import_record</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>);
<a name="l1711"><span class="linenum">1711</span></a>  
<a name="l1712"><span class="linenum">1712</span></a>      <span class="comment">/**</span>
<a name="l1713"><span class="linenum">1713</span></a>  <span class="comment">     * Update record in database, as fast as possible, no safety checks, lobs not supported.</span>
<a name="l1714"><span class="linenum">1714</span></a>  <span class="comment">     * @param string $table name</span>
<a name="l1715"><span class="linenum">1715</span></a>  <span class="comment">     * @param mixed $params data record as object or array</span>
<a name="l1716"><span class="linenum">1716</span></a>  <span class="comment">     * @param bool $bulk True means repeated updates expected.</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment">     */</span>
<a name="l1720"><span class="linenum">1720</span></a>      public abstract function <a class="function" onClick="logFunction('update_record_raw')" href="../../_functions/update_record_raw.html" onMouseOver="funcPopup(event,'update_record_raw')">update_record_raw</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, <a class="var it3468" onMouseOver="hilite(3468)" onMouseOut="lolite()" onClick="logVariable('bulk')" href="../../_variables/bulk.html">$bulk</a>=false);
<a name="l1721"><span class="linenum">1721</span></a>  
<a name="l1722"><span class="linenum">1722</span></a>      <span class="comment">/**</span>
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment">     * Update a record in a table</span>
<a name="l1724"><span class="linenum">1724</span></a>  <span class="comment">     *</span>
<a name="l1725"><span class="linenum">1725</span></a>  <span class="comment">     * $dataobject is an object containing needed data</span>
<a name="l1726"><span class="linenum">1726</span></a>  <span class="comment">     * Relies on $dataobject having a variable &quot;id&quot; to</span>
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment">     * specify the record to update</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment">     *</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1730"><span class="linenum">1730</span></a>  <span class="comment">     * @param object $dataobject An object with contents equal to fieldname=&gt;fieldvalue. Must have an entry for 'id' to map to the table specified.</span>
<a name="l1731"><span class="linenum">1731</span></a>  <span class="comment">     * @param bool $bulk True means repeated updates expected.</span>
<a name="l1732"><span class="linenum">1732</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1733"><span class="linenum">1733</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1734"><span class="linenum">1734</span></a>  <span class="comment">     */</span>
<a name="l1735"><span class="linenum">1735</span></a>      public abstract function <a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3471" onMouseOver="hilite(3471)" onMouseOut="lolite()" onClick="logVariable('dataobject')" href="../../_variables/dataobject.html">$dataobject</a>, <a class="var it3468" onMouseOver="hilite(3468)" onMouseOut="lolite()" onClick="logVariable('bulk')" href="../../_variables/bulk.html">$bulk</a>=false);
<a name="l1736"><span class="linenum">1736</span></a>  
<a name="l1737"><span class="linenum">1737</span></a>      <span class="comment">/**</span>
<a name="l1738"><span class="linenum">1738</span></a>  <span class="comment">     * Set a single field in every table record where all the given conditions met.</span>
<a name="l1739"><span class="linenum">1739</span></a>  <span class="comment">     *</span>
<a name="l1740"><span class="linenum">1740</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">     * @param string $newfield the field to set.</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment">     * @param string $newvalue the value to set the field to.</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1744"><span class="linenum">1744</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1745"><span class="linenum">1745</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1746"><span class="linenum">1746</span></a>  <span class="comment">     */</span>
<a name="l1747"><span class="linenum">1747</span></a>      public function <a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3474" onMouseOver="hilite(3474)" onMouseOut="lolite()" onClick="logVariable('newfield')" href="../../_variables/newfield.html">$newfield</a>, <a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../_variables/newvalue.html">$newvalue</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null) {
<a name="l1748"><span class="linenum">1748</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1749"><span class="linenum">1749</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_field_select')" href="../../_functions/set_field_select.html" onMouseOver="funcPopup(event,'set_field_select')">set_field_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3474" onMouseOver="hilite(3474)" onMouseOut="lolite()" onClick="logVariable('newfield')" href="../../_variables/newfield.html">$newfield</a>, <a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../_variables/newvalue.html">$newvalue</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1750"><span class="linenum">1750</span></a>      }
<a name="l1751"><span class="linenum">1751</span></a>  
<a name="l1752"><span class="linenum">1752</span></a>      <span class="comment">/**</span>
<a name="l1753"><span class="linenum">1753</span></a>  <span class="comment">     * Set a single field in every table record which match a particular WHERE clause.</span>
<a name="l1754"><span class="linenum">1754</span></a>  <span class="comment">     *</span>
<a name="l1755"><span class="linenum">1755</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">     * @param string $newfield the field to set.</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment">     * @param string $newvalue the value to set the field to.</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call.</span>
<a name="l1759"><span class="linenum">1759</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1760"><span class="linenum">1760</span></a>  <span class="comment">     * @return bool true</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1762"><span class="linenum">1762</span></a>  <span class="comment">     */</span>
<a name="l1763"><span class="linenum">1763</span></a>      public abstract function <a class="function" onClick="logFunction('set_field_select')" href="../../_functions/set_field_select.html" onMouseOver="funcPopup(event,'set_field_select')">set_field_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it3474" onMouseOver="hilite(3474)" onMouseOut="lolite()" onClick="logVariable('newfield')" href="../../_variables/newfield.html">$newfield</a>, <a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../_variables/newvalue.html">$newvalue</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null);
<a name="l1764"><span class="linenum">1764</span></a>  
<a name="l1765"><span class="linenum">1765</span></a>  
<a name="l1766"><span class="linenum">1766</span></a>      <span class="comment">/**</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * Count the records in a table where all the given conditions met.</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     *</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     * @param string $table The table to query.</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment">     * @return int The count of records returned from the specified criteria.</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1773"><span class="linenum">1773</span></a>  <span class="comment">     */</span>
<a name="l1774"><span class="linenum">1774</span></a>      public function <a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null) {
<a name="l1775"><span class="linenum">1775</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1776"><span class="linenum">1776</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('count_records_select')" href="../../_functions/count_records_select.html" onMouseOver="funcPopup(event,'count_records_select')">count_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1777"><span class="linenum">1777</span></a>      }
<a name="l1778"><span class="linenum">1778</span></a>  
<a name="l1779"><span class="linenum">1779</span></a>      <span class="comment">/**</span>
<a name="l1780"><span class="linenum">1780</span></a>  <span class="comment">     * Count the records in a table which match a particular WHERE clause.</span>
<a name="l1781"><span class="linenum">1781</span></a>  <span class="comment">     *</span>
<a name="l1782"><span class="linenum">1782</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1783"><span class="linenum">1783</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a WHERE clause in the SQL call.</span>
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1785"><span class="linenum">1785</span></a>  <span class="comment">     * @param string $countitem The count string to be used in the SQL call. Default is COUNT('x').</span>
<a name="l1786"><span class="linenum">1786</span></a>  <span class="comment">     * @return int The count of records returned from the specified criteria.</span>
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment">     */</span>
<a name="l1789"><span class="linenum">1789</span></a>      public function <a class="function" onClick="logFunction('count_records_select')" href="../../_functions/count_records_select.html" onMouseOver="funcPopup(event,'count_records_select')">count_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null, <a class="var it25369" onMouseOver="hilite(25369)" onMouseOut="lolite()" onClick="logVariable('countitem')" href="../../_variables/countitem.html">$countitem</a>=&quot;<a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>('x')&quot;) {
<a name="l1790"><span class="linenum">1790</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1791"><span class="linenum">1791</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1792"><span class="linenum">1792</span></a>          }
<a name="l1793"><span class="linenum">1793</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(&quot;SELECT <a class="var it25369" onMouseOver="hilite(25369)" onMouseOut="lolite()" onClick="logVariable('countitem')" href="../../_variables/countitem.html">$countitem</a> FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1794"><span class="linenum">1794</span></a>      }
<a name="l1795"><span class="linenum">1795</span></a>  
<a name="l1796"><span class="linenum">1796</span></a>      <span class="comment">/**</span>
<a name="l1797"><span class="linenum">1797</span></a>  <span class="comment">     * Get the result of a SQL SELECT COUNT(...) query.</span>
<a name="l1798"><span class="linenum">1798</span></a>  <span class="comment">     *</span>
<a name="l1799"><span class="linenum">1799</span></a>  <span class="comment">     * Given a query that counts rows, return that count. (In fact,</span>
<a name="l1800"><span class="linenum">1800</span></a>  <span class="comment">     * given any query, return the first field of the first record</span>
<a name="l1801"><span class="linenum">1801</span></a>  <span class="comment">     * returned. However, this method should only be used for the</span>
<a name="l1802"><span class="linenum">1802</span></a>  <span class="comment">     * intended purpose.) If an error occurs, 0 is returned.</span>
<a name="l1803"><span class="linenum">1803</span></a>  <span class="comment">     *</span>
<a name="l1804"><span class="linenum">1804</span></a>  <span class="comment">     * @param string $sql The SQL string you wish to be executed.</span>
<a name="l1805"><span class="linenum">1805</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1806"><span class="linenum">1806</span></a>  <span class="comment">     * @return int the count</span>
<a name="l1807"><span class="linenum">1807</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1808"><span class="linenum">1808</span></a>  <span class="comment">     */</span>
<a name="l1809"><span class="linenum">1809</span></a>      public function <a class="function" onClick="logFunction('count_records_sql')" href="../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null) {
<a name="l1810"><span class="linenum">1810</span></a>          <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1811"><span class="linenum">1811</span></a>          if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> === false or !<a class="function" onClick="logFunction('is_number')" href="../../_functions/is_number.html" onMouseOver="funcPopup(event,'is_number')">is_number</a>(<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>) or <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> &lt; 0) {
<a name="l1812"><span class="linenum">1812</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(&quot;<a class="function" onClick="logFunction('count_records_sql')" href="../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>() expects the first field to contain non-negative number from <a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(), '<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>' found instead.&quot;);
<a name="l1813"><span class="linenum">1813</span></a>          }
<a name="l1814"><span class="linenum">1814</span></a>          return (int)<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>;
<a name="l1815"><span class="linenum">1815</span></a>      }
<a name="l1816"><span class="linenum">1816</span></a>  
<a name="l1817"><span class="linenum">1817</span></a>      <span class="comment">/**</span>
<a name="l1818"><span class="linenum">1818</span></a>  <span class="comment">     * Test whether a record exists in a table where all the given conditions met.</span>
<a name="l1819"><span class="linenum">1819</span></a>  <span class="comment">     *</span>
<a name="l1820"><span class="linenum">1820</span></a>  <span class="comment">     * @param string $table The table to check.</span>
<a name="l1821"><span class="linenum">1821</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1822"><span class="linenum">1822</span></a>  <span class="comment">     * @return bool true if a matching record exists, else false.</span>
<a name="l1823"><span class="linenum">1823</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1824"><span class="linenum">1824</span></a>  <span class="comment">     */</span>
<a name="l1825"><span class="linenum">1825</span></a>      public function <a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>) {
<a name="l1826"><span class="linenum">1826</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1827"><span class="linenum">1827</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('record_exists_select')" href="../../_functions/record_exists_select.html" onMouseOver="funcPopup(event,'record_exists_select')">record_exists_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1828"><span class="linenum">1828</span></a>      }
<a name="l1829"><span class="linenum">1829</span></a>  
<a name="l1830"><span class="linenum">1830</span></a>      <span class="comment">/**</span>
<a name="l1831"><span class="linenum">1831</span></a>  <span class="comment">     * Test whether any records exists in a table which match a particular WHERE clause.</span>
<a name="l1832"><span class="linenum">1832</span></a>  <span class="comment">     *</span>
<a name="l1833"><span class="linenum">1833</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1834"><span class="linenum">1834</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a WHERE clause in the SQL call.</span>
<a name="l1835"><span class="linenum">1835</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1836"><span class="linenum">1836</span></a>  <span class="comment">     * @return bool true if a matching record exists, else false.</span>
<a name="l1837"><span class="linenum">1837</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1838"><span class="linenum">1838</span></a>  <span class="comment">     */</span>
<a name="l1839"><span class="linenum">1839</span></a>      public function <a class="function" onClick="logFunction('record_exists_select')" href="../../_functions/record_exists_select.html" onMouseOver="funcPopup(event,'record_exists_select')">record_exists_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null) {
<a name="l1840"><span class="linenum">1840</span></a>          if (<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>) {
<a name="l1841"><span class="linenum">1841</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = &quot;WHERE <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;;
<a name="l1842"><span class="linenum">1842</span></a>          }
<a name="l1843"><span class="linenum">1843</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('record_exists_sql')" href="../../_functions/record_exists_sql.html" onMouseOver="funcPopup(event,'record_exists_sql')">record_exists_sql</a>(&quot;SELECT 'x' FROM {&quot; . <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> . &quot;} <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>&quot;, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1844"><span class="linenum">1844</span></a>      }
<a name="l1845"><span class="linenum">1845</span></a>  
<a name="l1846"><span class="linenum">1846</span></a>      <span class="comment">/**</span>
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment">     * Test whether a SQL SELECT statement returns any records.</span>
<a name="l1848"><span class="linenum">1848</span></a>  <span class="comment">     *</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">     * This function returns true if the SQL statement executes</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment">     * without any errors and returns at least one record.</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment">     *</span>
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment">     * @param string $sql The SQL statement to execute.</span>
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1854"><span class="linenum">1854</span></a>  <span class="comment">     * @return bool true if the SQL executes without errors and returns at least one record.</span>
<a name="l1855"><span class="linenum">1855</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1856"><span class="linenum">1856</span></a>  <span class="comment">     */</span>
<a name="l1857"><span class="linenum">1857</span></a>      public function <a class="function" onClick="logFunction('record_exists_sql')" href="../../_functions/record_exists_sql.html" onMouseOver="funcPopup(event,'record_exists_sql')">record_exists_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null) {
<a name="l1858"><span class="linenum">1858</span></a>          <a class="var it25370" onMouseOver="hilite(25370)" onMouseOut="lolite()" onClick="logVariable('mrs')" href="../../_variables/mrs.html">$mrs</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 0, 1);
<a name="l1859"><span class="linenum">1859</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = <a class="var it25370" onMouseOver="hilite(25370)" onMouseOut="lolite()" onClick="logVariable('mrs')" href="../../_variables/mrs.html">$mrs</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>();
<a name="l1860"><span class="linenum">1860</span></a>          <a class="var it25370" onMouseOver="hilite(25370)" onMouseOut="lolite()" onClick="logVariable('mrs')" href="../../_variables/mrs.html">$mrs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l1861"><span class="linenum">1861</span></a>          return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l1862"><span class="linenum">1862</span></a>      }
<a name="l1863"><span class="linenum">1863</span></a>  
<a name="l1864"><span class="linenum">1864</span></a>      <span class="comment">/**</span>
<a name="l1865"><span class="linenum">1865</span></a>  <span class="comment">     * Delete the records from a table where all the given conditions met.</span>
<a name="l1866"><span class="linenum">1866</span></a>  <span class="comment">     * If conditions not specified, table is truncated.</span>
<a name="l1867"><span class="linenum">1867</span></a>  <span class="comment">     *</span>
<a name="l1868"><span class="linenum">1868</span></a>  <span class="comment">     * @param string $table the table to delete from.</span>
<a name="l1869"><span class="linenum">1869</span></a>  <span class="comment">     * @param array $conditions optional array $fieldname=&gt;requestedvalue with AND in between</span>
<a name="l1870"><span class="linenum">1870</span></a>  <span class="comment">     * @return bool true.</span>
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment">     */</span>
<a name="l1873"><span class="linenum">1873</span></a>      public function <a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, array <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>=null) {
<a name="l1874"><span class="linenum">1874</span></a>  <span class="comment">        // truncate is drop/create (DDL), not transactional safe,</span>
<a name="l1875"><span class="linenum">1875</span></a>  <span class="comment">        // so we don't use the shortcut within them. MDL-29198</span>
<a name="l1876"><span class="linenum">1876</span></a>          if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>) &amp;&amp; empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>)) {
<a name="l1877"><span class="linenum">1877</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(&quot;TRUNCATE TABLE {&quot;.<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>.&quot;}&quot;);
<a name="l1878"><span class="linenum">1878</span></a>          }
<a name="l1879"><span class="linenum">1879</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause')" href="../../_functions/where_clause.html" onMouseOver="funcPopup(event,'where_clause')">where_clause</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1217" onMouseOver="hilite(1217)" onMouseOut="lolite()" onClick="logVariable('conditions')" href="../../_variables/conditions.html">$conditions</a>);
<a name="l1880"><span class="linenum">1880</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1881"><span class="linenum">1881</span></a>      }
<a name="l1882"><span class="linenum">1882</span></a>  
<a name="l1883"><span class="linenum">1883</span></a>      <span class="comment">/**</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment">     * Delete the records from a table where one field match one list of values.</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment">     *</span>
<a name="l1886"><span class="linenum">1886</span></a>  <span class="comment">     * @param string $table the table to delete from.</span>
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment">     * @param string $field The field to search</span>
<a name="l1888"><span class="linenum">1888</span></a>  <span class="comment">     * @param array $values array of values</span>
<a name="l1889"><span class="linenum">1889</span></a>  <span class="comment">     * @return bool true.</span>
<a name="l1890"><span class="linenum">1890</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1891"><span class="linenum">1891</span></a>  <span class="comment">     */</span>
<a name="l1892"><span class="linenum">1892</span></a>      public function <a class="function" onClick="logFunction('delete_records_list')" href="../../_functions/delete_records_list.html" onMouseOver="funcPopup(event,'delete_records_list')">delete_records_list</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, array <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>) {
<a name="l1893"><span class="linenum">1893</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>) = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('where_clause_list')" href="../../_functions/where_clause_list.html" onMouseOver="funcPopup(event,'where_clause_list')">where_clause_list</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>, <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>);
<a name="l1894"><span class="linenum">1894</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('delete_records_select')" href="../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1895"><span class="linenum">1895</span></a>      }
<a name="l1896"><span class="linenum">1896</span></a>  
<a name="l1897"><span class="linenum">1897</span></a>      <span class="comment">/**</span>
<a name="l1898"><span class="linenum">1898</span></a>  <span class="comment">     * Delete one or more records from a table which match a particular WHERE clause.</span>
<a name="l1899"><span class="linenum">1899</span></a>  <span class="comment">     *</span>
<a name="l1900"><span class="linenum">1900</span></a>  <span class="comment">     * @param string $table The database table to be checked against.</span>
<a name="l1901"><span class="linenum">1901</span></a>  <span class="comment">     * @param string $select A fragment of SQL to be used in a where clause in the SQL call (used to define the selection criteria).</span>
<a name="l1902"><span class="linenum">1902</span></a>  <span class="comment">     * @param array $params array of sql parameters</span>
<a name="l1903"><span class="linenum">1903</span></a>  <span class="comment">     * @return bool true.</span>
<a name="l1904"><span class="linenum">1904</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l1905"><span class="linenum">1905</span></a>  <span class="comment">     */</span>
<a name="l1906"><span class="linenum">1906</span></a>      public abstract function <a class="function" onClick="logFunction('delete_records_select')" href="../../_functions/delete_records_select.html" onMouseOver="funcPopup(event,'delete_records_select')">delete_records_select</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, array <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>=null);
<a name="l1907"><span class="linenum">1907</span></a>  
<a name="l1908"><span class="linenum">1908</span></a>      <span class="comment">/**</span>
<a name="l1909"><span class="linenum">1909</span></a>  <span class="comment">     * Returns the FROM clause required by some DBs in all SELECT statements.</span>
<a name="l1910"><span class="linenum">1910</span></a>  <span class="comment">     *</span>
<a name="l1911"><span class="linenum">1911</span></a>  <span class="comment">     * To be used in queries not having FROM clause to provide cross_db</span>
<a name="l1912"><span class="linenum">1912</span></a>  <span class="comment">     * Most DBs don't need it, hence the default is ''</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">     * @return string</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">     */</span>
<a name="l1915"><span class="linenum">1915</span></a>      public function <a class="function" onClick="logFunction('sql_null_from_clause')" href="../../_functions/sql_null_from_clause.html" onMouseOver="funcPopup(event,'sql_null_from_clause')">sql_null_from_clause</a>() {
<a name="l1916"><span class="linenum">1916</span></a>          return '';
<a name="l1917"><span class="linenum">1917</span></a>      }
<a name="l1918"><span class="linenum">1918</span></a>  
<a name="l1919"><span class="linenum">1919</span></a>      <span class="comment">/**</span>
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">     * Returns the SQL text to be used in order to perform one bitwise AND operation</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment">     * between 2 integers.</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment">     *</span>
<a name="l1923"><span class="linenum">1923</span></a>  <span class="comment">     * NOTE: The SQL result is a number and can not be used directly in</span>
<a name="l1924"><span class="linenum">1924</span></a>  <span class="comment">     *       SQL condition, please compare it to some number to get a bool!!</span>
<a name="l1925"><span class="linenum">1925</span></a>  <span class="comment">     *</span>
<a name="l1926"><span class="linenum">1926</span></a>  <span class="comment">     * @param int $int1 First integer in the operation.</span>
<a name="l1927"><span class="linenum">1927</span></a>  <span class="comment">     * @param int $int2 Second integer in the operation.</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">     */</span>
<a name="l1930"><span class="linenum">1930</span></a>      public function <a class="function" onClick="logFunction('sql_bitand')" href="../../_functions/sql_bitand.html" onMouseOver="funcPopup(event,'sql_bitand')">sql_bitand</a>(<a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a>, <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a>) {
<a name="l1931"><span class="linenum">1931</span></a>          return '((' . <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a> . ') &amp; (' . <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a> . '))';
<a name="l1932"><span class="linenum">1932</span></a>      }
<a name="l1933"><span class="linenum">1933</span></a>  
<a name="l1934"><span class="linenum">1934</span></a>      <span class="comment">/**</span>
<a name="l1935"><span class="linenum">1935</span></a>  <span class="comment">     * Returns the SQL text to be used in order to perform one bitwise NOT operation</span>
<a name="l1936"><span class="linenum">1936</span></a>  <span class="comment">     * with 1 integer.</span>
<a name="l1937"><span class="linenum">1937</span></a>  <span class="comment">     *</span>
<a name="l1938"><span class="linenum">1938</span></a>  <span class="comment">     * @param int $int1 The operand integer in the operation.</span>
<a name="l1939"><span class="linenum">1939</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l1940"><span class="linenum">1940</span></a>  <span class="comment">     */</span>
<a name="l1941"><span class="linenum">1941</span></a>      public function <a class="function" onClick="logFunction('sql_bitnot')" href="../../_functions/sql_bitnot.html" onMouseOver="funcPopup(event,'sql_bitnot')">sql_bitnot</a>(<a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a>) {
<a name="l1942"><span class="linenum">1942</span></a>          return '(~(' . <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a> . '))';
<a name="l1943"><span class="linenum">1943</span></a>      }
<a name="l1944"><span class="linenum">1944</span></a>  
<a name="l1945"><span class="linenum">1945</span></a>      <span class="comment">/**</span>
<a name="l1946"><span class="linenum">1946</span></a>  <span class="comment">     * Returns the SQL text to be used in order to perform one bitwise OR operation</span>
<a name="l1947"><span class="linenum">1947</span></a>  <span class="comment">     * between 2 integers.</span>
<a name="l1948"><span class="linenum">1948</span></a>  <span class="comment">     *</span>
<a name="l1949"><span class="linenum">1949</span></a>  <span class="comment">     * NOTE: The SQL result is a number and can not be used directly in</span>
<a name="l1950"><span class="linenum">1950</span></a>  <span class="comment">     *       SQL condition, please compare it to some number to get a bool!!</span>
<a name="l1951"><span class="linenum">1951</span></a>  <span class="comment">     *</span>
<a name="l1952"><span class="linenum">1952</span></a>  <span class="comment">     * @param int $int1 The first operand integer in the operation.</span>
<a name="l1953"><span class="linenum">1953</span></a>  <span class="comment">     * @param int $int2 The second operand integer in the operation.</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">     */</span>
<a name="l1956"><span class="linenum">1956</span></a>      public function <a class="function" onClick="logFunction('sql_bitor')" href="../../_functions/sql_bitor.html" onMouseOver="funcPopup(event,'sql_bitor')">sql_bitor</a>(<a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a>, <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a>) {
<a name="l1957"><span class="linenum">1957</span></a>          return '((' . <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a> . ') | (' . <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a> . '))';
<a name="l1958"><span class="linenum">1958</span></a>      }
<a name="l1959"><span class="linenum">1959</span></a>  
<a name="l1960"><span class="linenum">1960</span></a>      <span class="comment">/**</span>
<a name="l1961"><span class="linenum">1961</span></a>  <span class="comment">     * Returns the SQL text to be used in order to perform one bitwise XOR operation</span>
<a name="l1962"><span class="linenum">1962</span></a>  <span class="comment">     * between 2 integers.</span>
<a name="l1963"><span class="linenum">1963</span></a>  <span class="comment">     *</span>
<a name="l1964"><span class="linenum">1964</span></a>  <span class="comment">     * NOTE: The SQL result is a number and can not be used directly in</span>
<a name="l1965"><span class="linenum">1965</span></a>  <span class="comment">     *       SQL condition, please compare it to some number to get a bool!!</span>
<a name="l1966"><span class="linenum">1966</span></a>  <span class="comment">     *</span>
<a name="l1967"><span class="linenum">1967</span></a>  <span class="comment">     * @param int $int1 The first operand integer in the operation.</span>
<a name="l1968"><span class="linenum">1968</span></a>  <span class="comment">     * @param int $int2 The second operand integer in the operation.</span>
<a name="l1969"><span class="linenum">1969</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l1970"><span class="linenum">1970</span></a>  <span class="comment">     */</span>
<a name="l1971"><span class="linenum">1971</span></a>      public function <a class="function" onClick="logFunction('sql_bitxor')" href="../../_functions/sql_bitxor.html" onMouseOver="funcPopup(event,'sql_bitxor')">sql_bitxor</a>(<a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a>, <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a>) {
<a name="l1972"><span class="linenum">1972</span></a>          return '((' . <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a> . ') ^ (' . <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a> . '))';
<a name="l1973"><span class="linenum">1973</span></a>      }
<a name="l1974"><span class="linenum">1974</span></a>  
<a name="l1975"><span class="linenum">1975</span></a>      <span class="comment">/**</span>
<a name="l1976"><span class="linenum">1976</span></a>  <span class="comment">     * Returns the SQL text to be used in order to perform module '%'</span>
<a name="l1977"><span class="linenum">1977</span></a>  <span class="comment">     * operation - remainder after division</span>
<a name="l1978"><span class="linenum">1978</span></a>  <span class="comment">     *</span>
<a name="l1979"><span class="linenum">1979</span></a>  <span class="comment">     * @param int $int1 The first operand integer in the operation.</span>
<a name="l1980"><span class="linenum">1980</span></a>  <span class="comment">     * @param int $int2 The second operand integer in the operation.</span>
<a name="l1981"><span class="linenum">1981</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l1982"><span class="linenum">1982</span></a>  <span class="comment">     */</span>
<a name="l1983"><span class="linenum">1983</span></a>      public function <a class="function" onClick="logFunction('sql_modulo')" href="../../_functions/sql_modulo.html" onMouseOver="funcPopup(event,'sql_modulo')">sql_modulo</a>(<a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a>, <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a>) {
<a name="l1984"><span class="linenum">1984</span></a>          return '((' . <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('int1')" href="../../_variables/int1.html">$int1</a> . ') % (' . <a class="var it4663" onMouseOver="hilite(4663)" onMouseOut="lolite()" onClick="logVariable('int2')" href="../../_variables/int2.html">$int2</a> . '))';
<a name="l1985"><span class="linenum">1985</span></a>      }
<a name="l1986"><span class="linenum">1986</span></a>  
<a name="l1987"><span class="linenum">1987</span></a>      <span class="comment">/**</span>
<a name="l1988"><span class="linenum">1988</span></a>  <span class="comment">     * Returns the cross db correct CEIL (ceiling) expression applied to fieldname.</span>
<a name="l1989"><span class="linenum">1989</span></a>  <span class="comment">     * note: Most DBs use CEIL(), hence it's the default here.</span>
<a name="l1990"><span class="linenum">1990</span></a>  <span class="comment">     *</span>
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">     * @param string $fieldname The field (or expression) we are going to ceil.</span>
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your ceiling statement.</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment">     */</span>
<a name="l1994"><span class="linenum">1994</span></a>      public function <a class="function" onClick="logFunction('sql_ceil')" href="../../_functions/sql_ceil.html" onMouseOver="funcPopup(event,'sql_ceil')">sql_ceil</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>) {
<a name="l1995"><span class="linenum">1995</span></a>          return ' <a class="phpfunction" onClick="logFunction('CEIL')" href="../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">CEIL</a>(' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> . ')';
<a name="l1996"><span class="linenum">1996</span></a>      }
<a name="l1997"><span class="linenum">1997</span></a>  
<a name="l1998"><span class="linenum">1998</span></a>      <span class="comment">/**</span>
<a name="l1999"><span class="linenum">1999</span></a>  <span class="comment">     * Returns the SQL to be used in order to CAST one CHAR column to INTEGER.</span>
<a name="l2000"><span class="linenum">2000</span></a>  <span class="comment">     *</span>
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment">     * Be aware that the CHAR column you're trying to cast contains really</span>
<a name="l2002"><span class="linenum">2002</span></a>  <span class="comment">     * int values or the RDBMS will throw an error!</span>
<a name="l2003"><span class="linenum">2003</span></a>  <span class="comment">     *</span>
<a name="l2004"><span class="linenum">2004</span></a>  <span class="comment">     * @param string $fieldname The name of the field to be casted.</span>
<a name="l2005"><span class="linenum">2005</span></a>  <span class="comment">     * @param bool $text Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false.</span>
<a name="l2006"><span class="linenum">2006</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment">     */</span>
<a name="l2008"><span class="linenum">2008</span></a>      public function <a class="function" onClick="logFunction('sql_cast_char2int')" href="../../_functions/sql_cast_char2int.html" onMouseOver="funcPopup(event,'sql_cast_char2int')">sql_cast_char2int</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>=false) {
<a name="l2009"><span class="linenum">2009</span></a>          return ' ' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> . ' ';
<a name="l2010"><span class="linenum">2010</span></a>      }
<a name="l2011"><span class="linenum">2011</span></a>  
<a name="l2012"><span class="linenum">2012</span></a>      <span class="comment">/**</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">     * Returns the SQL to be used in order to CAST one CHAR column to REAL number.</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">     *</span>
<a name="l2015"><span class="linenum">2015</span></a>  <span class="comment">     * Be aware that the CHAR column you're trying to cast contains really</span>
<a name="l2016"><span class="linenum">2016</span></a>  <span class="comment">     * numbers or the RDBMS will throw an error!</span>
<a name="l2017"><span class="linenum">2017</span></a>  <span class="comment">     *</span>
<a name="l2018"><span class="linenum">2018</span></a>  <span class="comment">     * @param string $fieldname The name of the field to be casted.</span>
<a name="l2019"><span class="linenum">2019</span></a>  <span class="comment">     * @param bool $text Specifies if the original column is one TEXT (CLOB) column (true). Defaults to false.</span>
<a name="l2020"><span class="linenum">2020</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l2021"><span class="linenum">2021</span></a>  <span class="comment">     */</span>
<a name="l2022"><span class="linenum">2022</span></a>      public function <a class="function" onClick="logFunction('sql_cast_char2real')" href="../../_functions/sql_cast_char2real.html" onMouseOver="funcPopup(event,'sql_cast_char2real')">sql_cast_char2real</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>=false) {
<a name="l2023"><span class="linenum">2023</span></a>          return ' ' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> . ' ';
<a name="l2024"><span class="linenum">2024</span></a>      }
<a name="l2025"><span class="linenum">2025</span></a>  
<a name="l2026"><span class="linenum">2026</span></a>      <span class="comment">/**</span>
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment">     * Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED.</span>
<a name="l2028"><span class="linenum">2028</span></a>  <span class="comment">     *</span>
<a name="l2029"><span class="linenum">2029</span></a>  <span class="comment">     * (Only MySQL needs this. MySQL things that 1 * -1 = 18446744073709551615</span>
<a name="l2030"><span class="linenum">2030</span></a>  <span class="comment">     * if the 1 comes from an unsigned column).</span>
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment">     *</span>
<a name="l2032"><span class="linenum">2032</span></a>  <span class="comment">     * @deprecated since 2.3</span>
<a name="l2033"><span class="linenum">2033</span></a>  <span class="comment">     * @param string $fieldname The name of the field to be cast</span>
<a name="l2034"><span class="linenum">2034</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l2035"><span class="linenum">2035</span></a>  <span class="comment">     */</span>
<a name="l2036"><span class="linenum">2036</span></a>      public function <a class="function" onClick="logFunction('sql_cast_2signed')" href="../../_functions/sql_cast_2signed.html" onMouseOver="funcPopup(event,'sql_cast_2signed')">sql_cast_2signed</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>) {
<a name="l2037"><span class="linenum">2037</span></a>          return ' ' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> . ' ';
<a name="l2038"><span class="linenum">2038</span></a>      }
<a name="l2039"><span class="linenum">2039</span></a>  
<a name="l2040"><span class="linenum">2040</span></a>      <span class="comment">/**</span>
<a name="l2041"><span class="linenum">2041</span></a>  <span class="comment">     * Returns the SQL text to be used to compare one TEXT (clob) column with</span>
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment">     * one varchar column, because some RDBMS doesn't support such direct</span>
<a name="l2043"><span class="linenum">2043</span></a>  <span class="comment">     * comparisons.</span>
<a name="l2044"><span class="linenum">2044</span></a>  <span class="comment">     *</span>
<a name="l2045"><span class="linenum">2045</span></a>  <span class="comment">     * @param string $fieldname The name of the TEXT field we need to order by</span>
<a name="l2046"><span class="linenum">2046</span></a>  <span class="comment">     * @param int $numchars Number of chars to use for the ordering (defaults to 32).</span>
<a name="l2047"><span class="linenum">2047</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l2048"><span class="linenum">2048</span></a>  <span class="comment">     */</span>
<a name="l2049"><span class="linenum">2049</span></a>      public function <a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it2916" onMouseOver="hilite(2916)" onMouseOut="lolite()" onClick="logVariable('numchars')" href="../../_variables/numchars.html">$numchars</a>=32) {
<a name="l2050"><span class="linenum">2050</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sql_order_by_text')" href="../../_functions/sql_order_by_text.html" onMouseOver="funcPopup(event,'sql_order_by_text')">sql_order_by_text</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it2916" onMouseOver="hilite(2916)" onMouseOut="lolite()" onClick="logVariable('numchars')" href="../../_variables/numchars.html">$numchars</a>);
<a name="l2051"><span class="linenum">2051</span></a>      }
<a name="l2052"><span class="linenum">2052</span></a>  
<a name="l2053"><span class="linenum">2053</span></a>      <span class="comment">/**</span>
<a name="l2054"><span class="linenum">2054</span></a>  <span class="comment">     * Returns 'LIKE' part of a query.</span>
<a name="l2055"><span class="linenum">2055</span></a>  <span class="comment">     *</span>
<a name="l2056"><span class="linenum">2056</span></a>  <span class="comment">     * @param string $fieldname Usually the name of the table column.</span>
<a name="l2057"><span class="linenum">2057</span></a>  <span class="comment">     * @param string $param Usually the bound query parameter (?, :named).</span>
<a name="l2058"><span class="linenum">2058</span></a>  <span class="comment">     * @param bool $casesensitive Use case sensitive search when set to true (default).</span>
<a name="l2059"><span class="linenum">2059</span></a>  <span class="comment">     * @param bool $accentsensitive Use accent sensitive search when set to true (default). (not all databases support accent insensitive)</span>
<a name="l2060"><span class="linenum">2060</span></a>  <span class="comment">     * @param bool $notlike True means &quot;NOT LIKE&quot;.</span>
<a name="l2061"><span class="linenum">2061</span></a>  <span class="comment">     * @param string $escapechar The escape char for '%' and '_'.</span>
<a name="l2062"><span class="linenum">2062</span></a>  <span class="comment">     * @return string The SQL code fragment.</span>
<a name="l2063"><span class="linenum">2063</span></a>  <span class="comment">     */</span>
<a name="l2064"><span class="linenum">2064</span></a>      public function <a class="function" onClick="logFunction('sql_like')" href="../../_functions/sql_like.html" onMouseOver="funcPopup(event,'sql_like')">sql_like</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>, <a class="var it4664" onMouseOver="hilite(4664)" onMouseOut="lolite()" onClick="logVariable('casesensitive')" href="../../_variables/casesensitive.html">$casesensitive</a> = true, <a class="var it4665" onMouseOver="hilite(4665)" onMouseOut="lolite()" onClick="logVariable('accentsensitive')" href="../../_variables/accentsensitive.html">$accentsensitive</a> = true, <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('notlike')" href="../../_variables/notlike.html">$notlike</a> = false, <a class="var it4667" onMouseOver="hilite(4667)" onMouseOut="lolite()" onClick="logVariable('escapechar')" href="../../_variables/escapechar.html">$escapechar</a> = '\\') {
<a name="l2065"><span class="linenum">2065</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>, '%') !== false) {
<a name="l2066"><span class="linenum">2066</span></a>              <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Potential SQL injection detected, <a class="function" onClick="logFunction('sql_like')" href="../../_functions/sql_like.html" onMouseOver="funcPopup(event,'sql_like')">sql_like</a>() expects bound parameters (? or :named)');
<a name="l2067"><span class="linenum">2067</span></a>          }
<a name="l2068"><span class="linenum">2068</span></a>          <a class="var it4668" onMouseOver="hilite(4668)" onMouseOut="lolite()" onClick="logVariable('LIKE')" href="../../_variables/LIKE.html">$LIKE</a> = <a class="var it4666" onMouseOver="hilite(4666)" onMouseOut="lolite()" onClick="logVariable('notlike')" href="../../_variables/notlike.html">$notlike</a> ? 'NOT LIKE' : 'LIKE';
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment">        // by default ignore any sensitiveness - each database does it in a different way</span>
<a name="l2070"><span class="linenum">2070</span></a>          return &quot;<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> <a class="var it4668" onMouseOver="hilite(4668)" onMouseOut="lolite()" onClick="logVariable('LIKE')" href="../../_variables/LIKE.html">$LIKE</a> <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> ESCAPE '<a class="var it4667" onMouseOver="hilite(4667)" onMouseOut="lolite()" onClick="logVariable('escapechar')" href="../../_variables/escapechar.html">$escapechar</a>'&quot;;
<a name="l2071"><span class="linenum">2071</span></a>      }
<a name="l2072"><span class="linenum">2072</span></a>  
<a name="l2073"><span class="linenum">2073</span></a>      <span class="comment">/**</span>
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment">     * Escape sql LIKE special characters like '_' or '%'.</span>
<a name="l2075"><span class="linenum">2075</span></a>  <span class="comment">     * @param string $text The string containing characters needing escaping.</span>
<a name="l2076"><span class="linenum">2076</span></a>  <span class="comment">     * @param string $escapechar The desired escape character, defaults to '\\'.</span>
<a name="l2077"><span class="linenum">2077</span></a>  <span class="comment">     * @return string The escaped sql LIKE string.</span>
<a name="l2078"><span class="linenum">2078</span></a>  <span class="comment">     */</span>
<a name="l2079"><span class="linenum">2079</span></a>      public function <a class="function" onClick="logFunction('sql_like_escape')" href="../../_functions/sql_like_escape.html" onMouseOver="funcPopup(event,'sql_like_escape')">sql_like_escape</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, <a class="var it4667" onMouseOver="hilite(4667)" onMouseOut="lolite()" onClick="logVariable('escapechar')" href="../../_variables/escapechar.html">$escapechar</a> = '\\') {
<a name="l2080"><span class="linenum">2080</span></a>          <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('_', <a class="var it4667" onMouseOver="hilite(4667)" onMouseOut="lolite()" onClick="logVariable('escapechar')" href="../../_variables/escapechar.html">$escapechar</a>.'_', <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>);
<a name="l2081"><span class="linenum">2081</span></a>          <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('%', <a class="var it4667" onMouseOver="hilite(4667)" onMouseOut="lolite()" onClick="logVariable('escapechar')" href="../../_variables/escapechar.html">$escapechar</a>.'%', <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>);
<a name="l2082"><span class="linenum">2082</span></a>          return <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>;
<a name="l2083"><span class="linenum">2083</span></a>      }
<a name="l2084"><span class="linenum">2084</span></a>  
<a name="l2085"><span class="linenum">2085</span></a>      <span class="comment">/**</span>
<a name="l2086"><span class="linenum">2086</span></a>  <span class="comment">     * Returns the proper SQL to do CONCAT between the elements(fieldnames) passed.</span>
<a name="l2087"><span class="linenum">2087</span></a>  <span class="comment">     *</span>
<a name="l2088"><span class="linenum">2088</span></a>  <span class="comment">     * This function accepts variable number of string parameters.</span>
<a name="l2089"><span class="linenum">2089</span></a>  <span class="comment">     * All strings/fieldnames will used in the SQL concatenate statement generated.</span>
<a name="l2090"><span class="linenum">2090</span></a>  <span class="comment">     *</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">     * @return string The SQL to concatenate strings passed in.</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">     * @uses func_get_args()  and thus parameters are unlimited OPTIONAL number of additional field names.</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">     */</span>
<a name="l2094"><span class="linenum">2094</span></a>      public abstract function <a class="function" onClick="logFunction('sql_concat')" href="../../_functions/sql_concat.html" onMouseOver="funcPopup(event,'sql_concat')">sql_concat</a>();
<a name="l2095"><span class="linenum">2095</span></a>  
<a name="l2096"><span class="linenum">2096</span></a>      <span class="comment">/**</span>
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment">     * Returns the proper SQL to do CONCAT between the elements passed</span>
<a name="l2098"><span class="linenum">2098</span></a>  <span class="comment">     * with a given separator</span>
<a name="l2099"><span class="linenum">2099</span></a>  <span class="comment">     *</span>
<a name="l2100"><span class="linenum">2100</span></a>  <span class="comment">     * @param string $separator The separator desired for the SQL concatenating $elements.</span>
<a name="l2101"><span class="linenum">2101</span></a>  <span class="comment">     * @param array  $elements The array of strings to be concatenated.</span>
<a name="l2102"><span class="linenum">2102</span></a>  <span class="comment">     * @return string The SQL to concatenate the strings.</span>
<a name="l2103"><span class="linenum">2103</span></a>  <span class="comment">     */</span>
<a name="l2104"><span class="linenum">2104</span></a>      public abstract function <a class="function" onClick="logFunction('sql_concat_join')" href="../../_functions/sql_concat_join.html" onMouseOver="funcPopup(event,'sql_concat_join')">sql_concat_join</a>(<a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../../_variables/separator.html">$separator</a>=&quot;' '&quot;, <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../../_variables/elements.html">$elements</a>=array());
<a name="l2105"><span class="linenum">2105</span></a>  
<a name="l2106"><span class="linenum">2106</span></a>      <span class="comment">/**</span>
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment">     * Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname</span>
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment">     *</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment">     * @todo MDL-31233 This may not be needed here.</span>
<a name="l2110"><span class="linenum">2110</span></a>  <span class="comment">     *</span>
<a name="l2111"><span class="linenum">2111</span></a>  <span class="comment">     * @param string $first User's first name (default:'firstname').</span>
<a name="l2112"><span class="linenum">2112</span></a>  <span class="comment">     * @param string $last User's last name (default:'lastname').</span>
<a name="l2113"><span class="linenum">2113</span></a>  <span class="comment">     * @return string The SQL to concatenate strings.</span>
<a name="l2114"><span class="linenum">2114</span></a>  <span class="comment">     */</span>
<a name="l2115"><span class="linenum">2115</span></a>      function <a class="function" onClick="logFunction('sql_fullname')" href="../../_functions/sql_fullname.html" onMouseOver="funcPopup(event,'sql_fullname')">sql_fullname</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a>='firstname', <a class="var it490" onMouseOver="hilite(490)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../_variables/last.html">$last</a>='lastname') {
<a name="l2116"><span class="linenum">2116</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sql_concat')" href="../../_functions/sql_concat.html" onMouseOver="funcPopup(event,'sql_concat')">sql_concat</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../_variables/first.html">$first</a>, &quot;' '&quot;, <a class="var it490" onMouseOver="hilite(490)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../_variables/last.html">$last</a>);
<a name="l2117"><span class="linenum">2117</span></a>      }
<a name="l2118"><span class="linenum">2118</span></a>  
<a name="l2119"><span class="linenum">2119</span></a>      <span class="comment">/**</span>
<a name="l2120"><span class="linenum">2120</span></a>  <span class="comment">     * Returns the SQL text to be used to order by one TEXT (clob) column, because</span>
<a name="l2121"><span class="linenum">2121</span></a>  <span class="comment">     * some RDBMS doesn't support direct ordering of such fields.</span>
<a name="l2122"><span class="linenum">2122</span></a>  <span class="comment">     *</span>
<a name="l2123"><span class="linenum">2123</span></a>  <span class="comment">     * Note that the use or queries being ordered by TEXT columns must be minimised,</span>
<a name="l2124"><span class="linenum">2124</span></a>  <span class="comment">     * because it's really slooooooow.</span>
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment">     *</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment">     * @param string $fieldname The name of the TEXT field we need to order by.</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment">     * @param int $numchars The number of chars to use for the ordering (defaults to 32).</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">     * @return string The piece of SQL code to be used in your statement.</span>
<a name="l2129"><span class="linenum">2129</span></a>  <span class="comment">     */</span>
<a name="l2130"><span class="linenum">2130</span></a>      public function <a class="function" onClick="logFunction('sql_order_by_text')" href="../../_functions/sql_order_by_text.html" onMouseOver="funcPopup(event,'sql_order_by_text')">sql_order_by_text</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it2916" onMouseOver="hilite(2916)" onMouseOut="lolite()" onClick="logVariable('numchars')" href="../../_variables/numchars.html">$numchars</a>=32) {
<a name="l2131"><span class="linenum">2131</span></a>          return <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>;
<a name="l2132"><span class="linenum">2132</span></a>      }
<a name="l2133"><span class="linenum">2133</span></a>  
<a name="l2134"><span class="linenum">2134</span></a>      <span class="comment">/**</span>
<a name="l2135"><span class="linenum">2135</span></a>  <span class="comment">     * Returns the SQL text to be used to calculate the length in characters of one expression.</span>
<a name="l2136"><span class="linenum">2136</span></a>  <span class="comment">     * @param string $fieldname The fieldname/expression to calculate its length in characters.</span>
<a name="l2137"><span class="linenum">2137</span></a>  <span class="comment">     * @return string the piece of SQL code to be used in the statement.</span>
<a name="l2138"><span class="linenum">2138</span></a>  <span class="comment">     */</span>
<a name="l2139"><span class="linenum">2139</span></a>      public function <a class="function" onClick="logFunction('sql_length')" href="../../_functions/sql_length.html" onMouseOver="funcPopup(event,'sql_length')">sql_length</a>(<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>) {
<a name="l2140"><span class="linenum">2140</span></a>          return ' <a class="function" onClick="logFunction('LENGTH')" href="../../_functions/length.html" onMouseOver="funcPopup(event,'length')">LENGTH</a>(' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> . ')';
<a name="l2141"><span class="linenum">2141</span></a>      }
<a name="l2142"><span class="linenum">2142</span></a>  
<a name="l2143"><span class="linenum">2143</span></a>      <span class="comment">/**</span>
<a name="l2144"><span class="linenum">2144</span></a>  <span class="comment">     * Returns the proper substr() SQL text used to extract substrings from DB</span>
<a name="l2145"><span class="linenum">2145</span></a>  <span class="comment">     * NOTE: this was originally returning only function name</span>
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">     *</span>
<a name="l2147"><span class="linenum">2147</span></a>  <span class="comment">     * @param string $expr Some string field, no aggregates.</span>
<a name="l2148"><span class="linenum">2148</span></a>  <span class="comment">     * @param mixed $start Integer or expression evaluating to integer (1 based value; first char has index 1)</span>
<a name="l2149"><span class="linenum">2149</span></a>  <span class="comment">     * @param mixed $length Optional integer or expression evaluating to integer.</span>
<a name="l2150"><span class="linenum">2150</span></a>  <span class="comment">     * @return string The sql substring extraction fragment.</span>
<a name="l2151"><span class="linenum">2151</span></a>  <span class="comment">     */</span>
<a name="l2152"><span class="linenum">2152</span></a>      public function <a class="function" onClick="logFunction('sql_substr')" href="../../_functions/sql_substr.html" onMouseOver="funcPopup(event,'sql_substr')">sql_substr</a>(<a class="var it10484" onMouseOver="hilite(10484)" onMouseOut="lolite()" onClick="logVariable('expr')" href="../../_variables/expr.html">$expr</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../_variables/length.html">$length</a>=false) {
<a name="l2153"><span class="linenum">2153</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="phpfunction" onClick="logFunction('func_get_args')" href="../../_functions/func_get_args.html" onMouseOver="phpfuncPopup(event,'func_get_args')">func_get_args</a>()) &lt; 2) {
<a name="l2154"><span class="linenum">2154</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('moodle_database::<a class="function" onClick="logFunction('sql_substr')" href="../../_functions/sql_substr.html" onMouseOver="funcPopup(event,'sql_substr')">sql_substr</a>() requires at least two parameters', 'Originally this function was only returning name of SQL substring function, it now requires all parameters.');
<a name="l2155"><span class="linenum">2155</span></a>          }
<a name="l2156"><span class="linenum">2156</span></a>          if (<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../_variables/length.html">$length</a> === false) {
<a name="l2157"><span class="linenum">2157</span></a>              return &quot;<a class="phpfunction" onClick="logFunction('SUBSTR')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">SUBSTR</a>(<a class="var it10484" onMouseOver="hilite(10484)" onMouseOut="lolite()" onClick="logVariable('expr')" href="../../_variables/expr.html">$expr</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>)&quot;;
<a name="l2158"><span class="linenum">2158</span></a>          } else {
<a name="l2159"><span class="linenum">2159</span></a>              return &quot;<a class="phpfunction" onClick="logFunction('SUBSTR')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">SUBSTR</a>(<a class="var it10484" onMouseOver="hilite(10484)" onMouseOut="lolite()" onClick="logVariable('expr')" href="../../_variables/expr.html">$expr</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../_variables/length.html">$length</a>)&quot;;
<a name="l2160"><span class="linenum">2160</span></a>          }
<a name="l2161"><span class="linenum">2161</span></a>      }
<a name="l2162"><span class="linenum">2162</span></a>  
<a name="l2163"><span class="linenum">2163</span></a>      <span class="comment">/**</span>
<a name="l2164"><span class="linenum">2164</span></a>  <span class="comment">     * Returns the SQL for returning searching one string for the location of another.</span>
<a name="l2165"><span class="linenum">2165</span></a>  <span class="comment">     *</span>
<a name="l2166"><span class="linenum">2166</span></a>  <span class="comment">     * Note, there is no guarantee which order $needle, $haystack will be in</span>
<a name="l2167"><span class="linenum">2167</span></a>  <span class="comment">     * the resulting SQL so when using this method, and both arguments contain</span>
<a name="l2168"><span class="linenum">2168</span></a>  <span class="comment">     * placeholders, you should use named placeholders.</span>
<a name="l2169"><span class="linenum">2169</span></a>  <span class="comment">     *</span>
<a name="l2170"><span class="linenum">2170</span></a>  <span class="comment">     * @param string $needle the SQL expression that will be searched for.</span>
<a name="l2171"><span class="linenum">2171</span></a>  <span class="comment">     * @param string $haystack the SQL expression that will be searched in.</span>
<a name="l2172"><span class="linenum">2172</span></a>  <span class="comment">     * @return string The required searching SQL part.</span>
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment">     */</span>
<a name="l2174"><span class="linenum">2174</span></a>      public function <a class="function" onClick="logFunction('sql_position')" href="../../_functions/sql_position.html" onMouseOver="funcPopup(event,'sql_position')">sql_position</a>(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>) {
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment">        // Implementation using standard SQL.</span>
<a name="l2176"><span class="linenum">2176</span></a>          return &quot;<a class="function" onClick="logFunction('POSITION')" href="../../_functions/position.html" onMouseOver="funcPopup(event,'position')">POSITION</a>((<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>) IN (<a class="var it134" onMouseOver="hilite(134)" onMouseOut="lolite()" onClick="logVariable('haystack')" href="../../_variables/haystack.html">$haystack</a>))&quot;;
<a name="l2177"><span class="linenum">2177</span></a>      }
<a name="l2178"><span class="linenum">2178</span></a>  
<a name="l2179"><span class="linenum">2179</span></a>      <span class="comment">/**</span>
<a name="l2180"><span class="linenum">2180</span></a>  <span class="comment">     * This used to return empty string replacement character.</span>
<a name="l2181"><span class="linenum">2181</span></a>  <span class="comment">     *</span>
<a name="l2182"><span class="linenum">2182</span></a>  <span class="comment">     * @deprecated use bound parameter with empty string instead</span>
<a name="l2183"><span class="linenum">2183</span></a>  <span class="comment">     *</span>
<a name="l2184"><span class="linenum">2184</span></a>  <span class="comment">     * @return string An empty string.</span>
<a name="l2185"><span class="linenum">2185</span></a>  <span class="comment">     */</span>
<a name="l2186"><span class="linenum">2186</span></a>      function <a class="function" onClick="logFunction('sql_empty')" href="../../_functions/sql_empty.html" onMouseOver="funcPopup(event,'sql_empty')">sql_empty</a>() {
<a name="l2187"><span class="linenum">2187</span></a>          <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;<a class="function" onClick="logFunction('sql_empty')" href="../../_functions/sql_empty.html" onMouseOver="funcPopup(event,'sql_empty')">sql_empty</a>() is deprecated, please use empty string '' as sql parameter value instead&quot;, <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2188"><span class="linenum">2188</span></a>          return '';
<a name="l2189"><span class="linenum">2189</span></a>      }
<a name="l2190"><span class="linenum">2190</span></a>  
<a name="l2191"><span class="linenum">2191</span></a>      <span class="comment">/**</span>
<a name="l2192"><span class="linenum">2192</span></a>  <span class="comment">     * Returns the proper SQL to know if one field is empty.</span>
<a name="l2193"><span class="linenum">2193</span></a>  <span class="comment">     *</span>
<a name="l2194"><span class="linenum">2194</span></a>  <span class="comment">     * Note that the function behavior strongly relies on the</span>
<a name="l2195"><span class="linenum">2195</span></a>  <span class="comment">     * parameters passed describing the field so, please,  be accurate</span>
<a name="l2196"><span class="linenum">2196</span></a>  <span class="comment">     * when specifying them.</span>
<a name="l2197"><span class="linenum">2197</span></a>  <span class="comment">     *</span>
<a name="l2198"><span class="linenum">2198</span></a>  <span class="comment">     * Also, note that this function is not suitable to look for</span>
<a name="l2199"><span class="linenum">2199</span></a>  <span class="comment">     * fields having NULL contents at all. It's all for empty values!</span>
<a name="l2200"><span class="linenum">2200</span></a>  <span class="comment">     *</span>
<a name="l2201"><span class="linenum">2201</span></a>  <span class="comment">     * This function should be applied in all the places where conditions of</span>
<a name="l2202"><span class="linenum">2202</span></a>  <span class="comment">     * the type:</span>
<a name="l2203"><span class="linenum">2203</span></a>  <span class="comment">     *</span>
<a name="l2204"><span class="linenum">2204</span></a>  <span class="comment">     *     ... AND fieldname = '';</span>
<a name="l2205"><span class="linenum">2205</span></a>  <span class="comment">     *</span>
<a name="l2206"><span class="linenum">2206</span></a>  <span class="comment">     * are being used. Final result for text fields should be:</span>
<a name="l2207"><span class="linenum">2207</span></a>  <span class="comment">     *</span>
<a name="l2208"><span class="linenum">2208</span></a>  <span class="comment">     *     ... AND ' . sql_isempty('tablename', 'fieldname', true/false, true);</span>
<a name="l2209"><span class="linenum">2209</span></a>  <span class="comment">     *</span>
<a name="l2210"><span class="linenum">2210</span></a>  <span class="comment">     * and for varchar fields result should be:</span>
<a name="l2211"><span class="linenum">2211</span></a>  <span class="comment">     *</span>
<a name="l2212"><span class="linenum">2212</span></a>  <span class="comment">     *    ... AND fieldname = :empty; &quot;; $params['empty'] = '';</span>
<a name="l2213"><span class="linenum">2213</span></a>  <span class="comment">     *</span>
<a name="l2214"><span class="linenum">2214</span></a>  <span class="comment">     * (see parameters description below)</span>
<a name="l2215"><span class="linenum">2215</span></a>  <span class="comment">     *</span>
<a name="l2216"><span class="linenum">2216</span></a>  <span class="comment">     * @param string $tablename Name of the table (without prefix). Not used for now but can be</span>
<a name="l2217"><span class="linenum">2217</span></a>  <span class="comment">     *                          necessary in the future if we want to use some introspection using</span>
<a name="l2218"><span class="linenum">2218</span></a>  <span class="comment">     *                          meta information against the DB. /// TODO ///</span>
<a name="l2219"><span class="linenum">2219</span></a>  <span class="comment">     * @param string $fieldname Name of the field we are going to check</span>
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment">     * @param bool $nullablefield For specifying if the field is nullable (true) or no (false) in the DB.</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment">     * @param bool $textfield For specifying if it is a text (also called clob) field (true) or a varchar one (false)</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment">     * @return string the sql code to be added to check for empty values</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment">     */</span>
<a name="l2224"><span class="linenum">2224</span></a>      public function <a class="function" onClick="logFunction('sql_isempty')" href="../../_functions/sql_isempty.html" onMouseOver="funcPopup(event,'sql_isempty')">sql_isempty</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it4677" onMouseOver="hilite(4677)" onMouseOut="lolite()" onClick="logVariable('nullablefield')" href="../../_variables/nullablefield.html">$nullablefield</a>, <a class="var it4678" onMouseOver="hilite(4678)" onMouseOut="lolite()" onClick="logVariable('textfield')" href="../../_variables/textfield.html">$textfield</a>) {
<a name="l2225"><span class="linenum">2225</span></a>          return &quot; (<a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> = '') &quot;;
<a name="l2226"><span class="linenum">2226</span></a>      }
<a name="l2227"><span class="linenum">2227</span></a>  
<a name="l2228"><span class="linenum">2228</span></a>      <span class="comment">/**</span>
<a name="l2229"><span class="linenum">2229</span></a>  <span class="comment">     * Returns the proper SQL to know if one field is not empty.</span>
<a name="l2230"><span class="linenum">2230</span></a>  <span class="comment">     *</span>
<a name="l2231"><span class="linenum">2231</span></a>  <span class="comment">     * Note that the function behavior strongly relies on the</span>
<a name="l2232"><span class="linenum">2232</span></a>  <span class="comment">     * parameters passed describing the field so, please,  be accurate</span>
<a name="l2233"><span class="linenum">2233</span></a>  <span class="comment">     * when specifying them.</span>
<a name="l2234"><span class="linenum">2234</span></a>  <span class="comment">     *</span>
<a name="l2235"><span class="linenum">2235</span></a>  <span class="comment">     * This function should be applied in all the places where conditions of</span>
<a name="l2236"><span class="linenum">2236</span></a>  <span class="comment">     * the type:</span>
<a name="l2237"><span class="linenum">2237</span></a>  <span class="comment">     *</span>
<a name="l2238"><span class="linenum">2238</span></a>  <span class="comment">     *     ... AND fieldname != '';</span>
<a name="l2239"><span class="linenum">2239</span></a>  <span class="comment">     *</span>
<a name="l2240"><span class="linenum">2240</span></a>  <span class="comment">     * are being used. Final result for text fields should be:</span>
<a name="l2241"><span class="linenum">2241</span></a>  <span class="comment">     *</span>
<a name="l2242"><span class="linenum">2242</span></a>  <span class="comment">     *     ... AND ' . sql_isnotempty('tablename', 'fieldname', true/false, true/false);</span>
<a name="l2243"><span class="linenum">2243</span></a>  <span class="comment">     *</span>
<a name="l2244"><span class="linenum">2244</span></a>  <span class="comment">     * and for varchar fields result should be:</span>
<a name="l2245"><span class="linenum">2245</span></a>  <span class="comment">     *</span>
<a name="l2246"><span class="linenum">2246</span></a>  <span class="comment">     *    ... AND fieldname != :empty; &quot;; $params['empty'] = '';</span>
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment">     *</span>
<a name="l2248"><span class="linenum">2248</span></a>  <span class="comment">     * (see parameters description below)</span>
<a name="l2249"><span class="linenum">2249</span></a>  <span class="comment">     *</span>
<a name="l2250"><span class="linenum">2250</span></a>  <span class="comment">     * @param string $tablename Name of the table (without prefix). This is not used for now but can be</span>
<a name="l2251"><span class="linenum">2251</span></a>  <span class="comment">     *                          necessary in the future if we want to use some introspection using</span>
<a name="l2252"><span class="linenum">2252</span></a>  <span class="comment">     *                          meta information against the DB.</span>
<a name="l2253"><span class="linenum">2253</span></a>  <span class="comment">     * @param string $fieldname The name of the field we are going to check.</span>
<a name="l2254"><span class="linenum">2254</span></a>  <span class="comment">     * @param bool $nullablefield Specifies if the field is nullable (true) or not (false) in the DB.</span>
<a name="l2255"><span class="linenum">2255</span></a>  <span class="comment">     * @param bool $textfield Specifies if it is a text (also called clob) field (true) or a varchar one (false).</span>
<a name="l2256"><span class="linenum">2256</span></a>  <span class="comment">     * @return string The sql code to be added to check for non empty values.</span>
<a name="l2257"><span class="linenum">2257</span></a>  <span class="comment">     */</span>
<a name="l2258"><span class="linenum">2258</span></a>      public function <a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it4677" onMouseOver="hilite(4677)" onMouseOut="lolite()" onClick="logVariable('nullablefield')" href="../../_variables/nullablefield.html">$nullablefield</a>, <a class="var it4678" onMouseOver="hilite(4678)" onMouseOut="lolite()" onClick="logVariable('textfield')" href="../../_variables/textfield.html">$textfield</a>) {
<a name="l2259"><span class="linenum">2259</span></a>          return ' ( NOT ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sql_isempty')" href="../../_functions/sql_isempty.html" onMouseOver="funcPopup(event,'sql_isempty')">sql_isempty</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>, <a class="var it4677" onMouseOver="hilite(4677)" onMouseOut="lolite()" onClick="logVariable('nullablefield')" href="../../_variables/nullablefield.html">$nullablefield</a>, <a class="var it4678" onMouseOver="hilite(4678)" onMouseOut="lolite()" onClick="logVariable('textfield')" href="../../_variables/textfield.html">$textfield</a>) . ') ';
<a name="l2260"><span class="linenum">2260</span></a>      }
<a name="l2261"><span class="linenum">2261</span></a>  
<a name="l2262"><span class="linenum">2262</span></a>      <span class="comment">/**</span>
<a name="l2263"><span class="linenum">2263</span></a>  <span class="comment">     * Returns true if this database driver supports regex syntax when searching.</span>
<a name="l2264"><span class="linenum">2264</span></a>  <span class="comment">     * @return bool True if supported.</span>
<a name="l2265"><span class="linenum">2265</span></a>  <span class="comment">     */</span>
<a name="l2266"><span class="linenum">2266</span></a>      public function <a class="function" onClick="logFunction('sql_regex_supported')" href="../../_functions/sql_regex_supported.html" onMouseOver="funcPopup(event,'sql_regex_supported')">sql_regex_supported</a>() {
<a name="l2267"><span class="linenum">2267</span></a>          return false;
<a name="l2268"><span class="linenum">2268</span></a>      }
<a name="l2269"><span class="linenum">2269</span></a>  
<a name="l2270"><span class="linenum">2270</span></a>      <span class="comment">/**</span>
<a name="l2271"><span class="linenum">2271</span></a>  <span class="comment">     * Returns the driver specific syntax (SQL part) for matching regex positively or negatively (inverted matching).</span>
<a name="l2272"><span class="linenum">2272</span></a>  <span class="comment">     * Eg: 'REGEXP':'NOT REGEXP' or '~*' : '!~*'</span>
<a name="l2273"><span class="linenum">2273</span></a>  <span class="comment">     * @param bool $positivematch</span>
<a name="l2274"><span class="linenum">2274</span></a>  <span class="comment">     * @return string or empty if not supported</span>
<a name="l2275"><span class="linenum">2275</span></a>  <span class="comment">     */</span>
<a name="l2276"><span class="linenum">2276</span></a>      public function <a class="function" onClick="logFunction('sql_regex')" href="../../_functions/sql_regex.html" onMouseOver="funcPopup(event,'sql_regex')">sql_regex</a>(<a class="var it24917" onMouseOver="hilite(24917)" onMouseOut="lolite()" onClick="logVariable('positivematch')" href="../../_variables/positivematch.html">$positivematch</a>=true) {
<a name="l2277"><span class="linenum">2277</span></a>          return '';
<a name="l2278"><span class="linenum">2278</span></a>      }
<a name="l2279"><span class="linenum">2279</span></a>  
<a name="l2280"><span class="linenum">2280</span></a>      <span class="comment">/**</span>
<a name="l2281"><span class="linenum">2281</span></a>  <span class="comment">     * Returns the SQL that allows to find intersection of two or more queries</span>
<a name="l2282"><span class="linenum">2282</span></a>  <span class="comment">     *</span>
<a name="l2283"><span class="linenum">2283</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l2284"><span class="linenum">2284</span></a>  <span class="comment">     *</span>
<a name="l2285"><span class="linenum">2285</span></a>  <span class="comment">     * @param array $selects array of SQL select queries, each of them only returns fields with the names from $fields</span>
<a name="l2286"><span class="linenum">2286</span></a>  <span class="comment">     * @param string $fields comma-separated list of fields (used only by some DB engines)</span>
<a name="l2287"><span class="linenum">2287</span></a>  <span class="comment">     * @return string SQL query that will return only values that are present in each of selects</span>
<a name="l2288"><span class="linenum">2288</span></a>  <span class="comment">     */</span>
<a name="l2289"><span class="linenum">2289</span></a>      public function <a class="function" onClick="logFunction('sql_intersect')" href="../../_functions/sql_intersect.html" onMouseOver="funcPopup(event,'sql_intersect')">sql_intersect</a>(<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>) {
<a name="l2290"><span class="linenum">2290</span></a>          if (!<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>)) {
<a name="l2291"><span class="linenum">2291</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('sql_intersect')" href="../../_functions/sql_intersect.html" onMouseOver="funcPopup(event,'sql_intersect')">sql_intersect</a>() requires at least one element in <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>');
<a name="l2292"><span class="linenum">2292</span></a>          } else if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>) == 1) {
<a name="l2293"><span class="linenum">2293</span></a>              return <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>[0];
<a name="l2294"><span class="linenum">2294</span></a>          }
<a name="l2295"><span class="linenum">2295</span></a>          static <a class="var it25281" onMouseOver="hilite(25281)" onMouseOut="lolite()" onClick="logVariable('aliascnt')" href="../../_variables/aliascnt.html">$aliascnt</a> = 0;
<a name="l2296"><span class="linenum">2296</span></a>          <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../_variables/rv.html">$rv</a> = '('.<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>[0].')';
<a name="l2297"><span class="linenum">2297</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 1; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>); <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l2298"><span class="linenum">2298</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../_variables/rv.html">$rv</a> .= &quot; INTERSECT (&quot;.<a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../../_variables/selects.html">$selects</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>].')';
<a name="l2299"><span class="linenum">2299</span></a>          }
<a name="l2300"><span class="linenum">2300</span></a>          return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../../_variables/rv.html">$rv</a>;
<a name="l2301"><span class="linenum">2301</span></a>      }
<a name="l2302"><span class="linenum">2302</span></a>  
<a name="l2303"><span class="linenum">2303</span></a>      <span class="comment">/**</span>
<a name="l2304"><span class="linenum">2304</span></a>  <span class="comment">     * Does this driver support tool_replace?</span>
<a name="l2305"><span class="linenum">2305</span></a>  <span class="comment">     *</span>
<a name="l2306"><span class="linenum">2306</span></a>  <span class="comment">     * @since Moodle 2.6.1</span>
<a name="l2307"><span class="linenum">2307</span></a>  <span class="comment">     * @return bool</span>
<a name="l2308"><span class="linenum">2308</span></a>  <span class="comment">     */</span>
<a name="l2309"><span class="linenum">2309</span></a>      public function <a class="function" onClick="logFunction('replace_all_text_supported')" href="../../_functions/replace_all_text_supported.html" onMouseOver="funcPopup(event,'replace_all_text_supported')">replace_all_text_supported</a>() {
<a name="l2310"><span class="linenum">2310</span></a>          return false;
<a name="l2311"><span class="linenum">2311</span></a>      }
<a name="l2312"><span class="linenum">2312</span></a>  
<a name="l2313"><span class="linenum">2313</span></a>      <span class="comment">/**</span>
<a name="l2314"><span class="linenum">2314</span></a>  <span class="comment">     * Replace given text in all rows of column.</span>
<a name="l2315"><span class="linenum">2315</span></a>  <span class="comment">     *</span>
<a name="l2316"><span class="linenum">2316</span></a>  <span class="comment">     * @since Moodle 2.6.1</span>
<a name="l2317"><span class="linenum">2317</span></a>  <span class="comment">     * @param string $table name of the table</span>
<a name="l2318"><span class="linenum">2318</span></a>  <span class="comment">     * @param database_column_info $column</span>
<a name="l2319"><span class="linenum">2319</span></a>  <span class="comment">     * @param string $search</span>
<a name="l2320"><span class="linenum">2320</span></a>  <span class="comment">     * @param string $replace</span>
<a name="l2321"><span class="linenum">2321</span></a>  <span class="comment">     */</span>
<a name="l2322"><span class="linenum">2322</span></a>      public function <a class="function" onClick="logFunction('replace_all_text')" href="../../_functions/replace_all_text.html" onMouseOver="funcPopup(event,'replace_all_text')">replace_all_text</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, database_column_info <a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>, <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>, <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>) {
<a name="l2323"><span class="linenum">2323</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('replace_all_text_supported')" href="../../_functions/replace_all_text_supported.html" onMouseOver="funcPopup(event,'replace_all_text_supported')">replace_all_text_supported</a>()) {
<a name="l2324"><span class="linenum">2324</span></a>              return;
<a name="l2325"><span class="linenum">2325</span></a>          }
<a name="l2326"><span class="linenum">2326</span></a>  
<a name="l2327"><span class="linenum">2327</span></a>  <span class="comment">        // NOTE: override this methods if following standard compliant SQL</span>
<a name="l2328"><span class="linenum">2328</span></a>  <span class="comment">        //       does not work for your driver.</span>
<a name="l2329"><span class="linenum">2329</span></a>  
<a name="l2330"><span class="linenum">2330</span></a>          <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> = <a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>-&gt;<a onClick="logVariable('name')" class="var it43591" onMouseOver="hilite(43591)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l2331"><span class="linenum">2331</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;UPDATE {&quot;.<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>.&quot;}
<a name="l2332"><span class="linenum">2332</span></a>                         SET <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> = <a class="function" onClick="logFunction('REPLACE')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">REPLACE</a>(<a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a>, ?, ?)
<a name="l2333"><span class="linenum">2333</span></a>                       WHERE <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> IS NOT NULL&quot;;
<a name="l2334"><span class="linenum">2334</span></a>  
<a name="l2335"><span class="linenum">2335</span></a>          if (<a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>-&gt;<a onClick="logVariable('meta_type')" class="var it43591" onMouseOver="hilite(43591)" onMouseOut="lolite()" href="../../_variables/meta_type.html">meta_type</a> === 'X') {
<a name="l2336"><span class="linenum">2336</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(<a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>, <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>));
<a name="l2337"><span class="linenum">2337</span></a>  
<a name="l2338"><span class="linenum">2338</span></a>          } else if (<a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>-&gt;<a onClick="logVariable('meta_type')" class="var it43591" onMouseOver="hilite(43591)" onMouseOut="lolite()" href="../../_variables/meta_type.html">meta_type</a> === 'C') {
<a name="l2339"><span class="linenum">2339</span></a>              if (<a class="class" onClick="logClass('core_text')" href="../../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>) &lt; <a class="class" onClick="logClass('core_text')" href="../../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>)) {
<a name="l2340"><span class="linenum">2340</span></a>                  <a class="var it25371" onMouseOver="hilite(25371)" onMouseOut="lolite()" onClick="logVariable('colsize')" href="../../_variables/colsize.html">$colsize</a> = <a class="var it1625" onMouseOver="hilite(1625)" onMouseOut="lolite()" onClick="logVariable('column')" href="../../_variables/column.html">$column</a>-&gt;<a onClick="logVariable('max_length')" class="var it43591" onMouseOver="hilite(43591)" onMouseOut="lolite()" href="../../_variables/max_length.html">max_length</a>;
<a name="l2341"><span class="linenum">2341</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;UPDATE {&quot;.<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>.&quot;}
<a name="l2342"><span class="linenum">2342</span></a>                         SET <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> = &quot; . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('sql_substr')" href="../../_functions/sql_substr.html" onMouseOver="funcPopup(event,'sql_substr')">sql_substr</a>(&quot;<a class="function" onClick="logFunction('REPLACE')" href="../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">REPLACE</a>(&quot; . <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> . &quot;, ?, ?)&quot;, 1, <a class="var it25371" onMouseOver="hilite(25371)" onMouseOut="lolite()" onClick="logVariable('colsize')" href="../../_variables/colsize.html">$colsize</a>) . &quot;
<a name="l2343"><span class="linenum">2343</span></a>                       WHERE <a class="var it4654" onMouseOver="hilite(4654)" onMouseOut="lolite()" onClick="logVariable('columnname')" href="../../_variables/columnname.html">$columnname</a> IS NOT NULL&quot;;
<a name="l2344"><span class="linenum">2344</span></a>              }
<a name="l2345"><span class="linenum">2345</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(<a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../_variables/search.html">$search</a>, <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>));
<a name="l2346"><span class="linenum">2346</span></a>          }
<a name="l2347"><span class="linenum">2347</span></a>      }
<a name="l2348"><span class="linenum">2348</span></a>  
<a name="l2349"><span class="linenum">2349</span></a>      <span class="comment">/**</span>
<a name="l2350"><span class="linenum">2350</span></a>  <span class="comment">     * Analyze the data in temporary tables to force statistics collection after bulk data loads.</span>
<a name="l2351"><span class="linenum">2351</span></a>  <span class="comment">     *</span>
<a name="l2352"><span class="linenum">2352</span></a>  <span class="comment">     * @return void</span>
<a name="l2353"><span class="linenum">2353</span></a>  <span class="comment">     */</span>
<a name="l2354"><span class="linenum">2354</span></a>      public function <a class="function" onClick="logFunction('update_temp_table_stats')" href="../../_functions/update_temp_table_stats.html" onMouseOver="funcPopup(event,'update_temp_table_stats')">update_temp_table_stats</a>() {
<a name="l2355"><span class="linenum">2355</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('update_stats')" href="../../_functions/update_stats.html" onMouseOver="funcPopup(event,'update_stats')">update_stats</a>();
<a name="l2356"><span class="linenum">2356</span></a>      }
<a name="l2357"><span class="linenum">2357</span></a>  
<a name="l2358"><span class="linenum">2358</span></a>      <span class="comment">/**</span>
<a name="l2359"><span class="linenum">2359</span></a>  <span class="comment">     * Checks and returns true if transactions are supported.</span>
<a name="l2360"><span class="linenum">2360</span></a>  <span class="comment">     *</span>
<a name="l2361"><span class="linenum">2361</span></a>  <span class="comment">     * It is not responsible to run productions servers</span>
<a name="l2362"><span class="linenum">2362</span></a>  <span class="comment">     * on databases without transaction support ;-)</span>
<a name="l2363"><span class="linenum">2363</span></a>  <span class="comment">     *</span>
<a name="l2364"><span class="linenum">2364</span></a>  <span class="comment">     * Override in driver if needed.</span>
<a name="l2365"><span class="linenum">2365</span></a>  <span class="comment">     *</span>
<a name="l2366"><span class="linenum">2366</span></a>  <span class="comment">     * @return bool</span>
<a name="l2367"><span class="linenum">2367</span></a>  <span class="comment">     */</span>
<a name="l2368"><span class="linenum">2368</span></a>      protected function <a class="function" onClick="logFunction('transactions_supported')" href="../../_functions/transactions_supported.html" onMouseOver="funcPopup(event,'transactions_supported')">transactions_supported</a>() {
<a name="l2369"><span class="linenum">2369</span></a>  <span class="comment">        // protected for now, this might be changed to public if really necessary</span>
<a name="l2370"><span class="linenum">2370</span></a>          return true;
<a name="l2371"><span class="linenum">2371</span></a>      }
<a name="l2372"><span class="linenum">2372</span></a>  
<a name="l2373"><span class="linenum">2373</span></a>      <span class="comment">/**</span>
<a name="l2374"><span class="linenum">2374</span></a>  <span class="comment">     * Returns true if a transaction is in progress.</span>
<a name="l2375"><span class="linenum">2375</span></a>  <span class="comment">     * @return bool</span>
<a name="l2376"><span class="linenum">2376</span></a>  <span class="comment">     */</span>
<a name="l2377"><span class="linenum">2377</span></a>      public function <a class="function" onClick="logFunction('is_transaction_started')" href="../../_functions/is_transaction_started.html" onMouseOver="funcPopup(event,'is_transaction_started')">is_transaction_started</a>() {
<a name="l2378"><span class="linenum">2378</span></a>          return !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>);
<a name="l2379"><span class="linenum">2379</span></a>      }
<a name="l2380"><span class="linenum">2380</span></a>  
<a name="l2381"><span class="linenum">2381</span></a>      <span class="comment">/**</span>
<a name="l2382"><span class="linenum">2382</span></a>  <span class="comment">     * This is a test that throws an exception if transaction in progress.</span>
<a name="l2383"><span class="linenum">2383</span></a>  <span class="comment">     * This test does not force rollback of active transactions.</span>
<a name="l2384"><span class="linenum">2384</span></a>  <span class="comment">     * @return void</span>
<a name="l2385"><span class="linenum">2385</span></a>  <span class="comment">     * @throws dml_transaction_exception if stansaction active</span>
<a name="l2386"><span class="linenum">2386</span></a>  <span class="comment">     */</span>
<a name="l2387"><span class="linenum">2387</span></a>      public function <a class="function" onClick="logFunction('transactions_forbidden')" href="../../_functions/transactions_forbidden.html" onMouseOver="funcPopup(event,'transactions_forbidden')">transactions_forbidden</a>() {
<a name="l2388"><span class="linenum">2388</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_transaction_started')" href="../../_functions/is_transaction_started.html" onMouseOver="funcPopup(event,'is_transaction_started')">is_transaction_started</a>()) {
<a name="l2389"><span class="linenum">2389</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('This code can not be excecuted in transaction');
<a name="l2390"><span class="linenum">2390</span></a>          }
<a name="l2391"><span class="linenum">2391</span></a>      }
<a name="l2392"><span class="linenum">2392</span></a>  
<a name="l2393"><span class="linenum">2393</span></a>      <span class="comment">/**</span>
<a name="l2394"><span class="linenum">2394</span></a>  <span class="comment">     * On DBs that support it, switch to transaction mode and begin a transaction</span>
<a name="l2395"><span class="linenum">2395</span></a>  <span class="comment">     * you'll need to ensure you call allow_commit() on the returned object</span>
<a name="l2396"><span class="linenum">2396</span></a>  <span class="comment">     * or your changes *will* be lost.</span>
<a name="l2397"><span class="linenum">2397</span></a>  <span class="comment">     *</span>
<a name="l2398"><span class="linenum">2398</span></a>  <span class="comment">     * this is _very_ useful for massive updates</span>
<a name="l2399"><span class="linenum">2399</span></a>  <span class="comment">     *</span>
<a name="l2400"><span class="linenum">2400</span></a>  <span class="comment">     * Delegated database transactions can be nested, but only one actual database</span>
<a name="l2401"><span class="linenum">2401</span></a>  <span class="comment">     * transaction is used for the outer-most delegated transaction. This method</span>
<a name="l2402"><span class="linenum">2402</span></a>  <span class="comment">     * returns a transaction object which you should keep until the end of the</span>
<a name="l2403"><span class="linenum">2403</span></a>  <span class="comment">     * delegated transaction. The actual database transaction will</span>
<a name="l2404"><span class="linenum">2404</span></a>  <span class="comment">     * only be committed if all the nested delegated transactions commit</span>
<a name="l2405"><span class="linenum">2405</span></a>  <span class="comment">     * successfully. If any part of the transaction rolls back then the whole</span>
<a name="l2406"><span class="linenum">2406</span></a>  <span class="comment">     * thing is rolled back.</span>
<a name="l2407"><span class="linenum">2407</span></a>  <span class="comment">     *</span>
<a name="l2408"><span class="linenum">2408</span></a>  <span class="comment">     * @return moodle_transaction</span>
<a name="l2409"><span class="linenum">2409</span></a>  <span class="comment">     */</span>
<a name="l2410"><span class="linenum">2410</span></a>      public function <a class="function" onClick="logFunction('start_delegated_transaction')" href="../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>() {
<a name="l2411"><span class="linenum">2411</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_transaction')" href="../../_classes/moodle_transaction.html" onMouseOver="classPopup(event,'moodle_transaction')">moodle_transaction</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>);
<a name="l2412"><span class="linenum">2412</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>[] = <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>;
<a name="l2413"><span class="linenum">2413</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) == 1) {
<a name="l2414"><span class="linenum">2414</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('begin_transaction')" href="../../_functions/begin_transaction.html" onMouseOver="funcPopup(event,'begin_transaction')">begin_transaction</a>();
<a name="l2415"><span class="linenum">2415</span></a>          }
<a name="l2416"><span class="linenum">2416</span></a>          return <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>;
<a name="l2417"><span class="linenum">2417</span></a>      }
<a name="l2418"><span class="linenum">2418</span></a>  
<a name="l2419"><span class="linenum">2419</span></a>      <span class="comment">/**</span>
<a name="l2420"><span class="linenum">2420</span></a>  <span class="comment">     * Driver specific start of real database transaction,</span>
<a name="l2421"><span class="linenum">2421</span></a>  <span class="comment">     * this can not be used directly in code.</span>
<a name="l2422"><span class="linenum">2422</span></a>  <span class="comment">     * @return void</span>
<a name="l2423"><span class="linenum">2423</span></a>  <span class="comment">     */</span>
<a name="l2424"><span class="linenum">2424</span></a>      protected abstract function <a class="function" onClick="logFunction('begin_transaction')" href="../../_functions/begin_transaction.html" onMouseOver="funcPopup(event,'begin_transaction')">begin_transaction</a>();
<a name="l2425"><span class="linenum">2425</span></a>  
<a name="l2426"><span class="linenum">2426</span></a>      <span class="comment">/**</span>
<a name="l2427"><span class="linenum">2427</span></a>  <span class="comment">     * Indicates delegated transaction finished successfully.</span>
<a name="l2428"><span class="linenum">2428</span></a>  <span class="comment">     * The real database transaction is committed only if</span>
<a name="l2429"><span class="linenum">2429</span></a>  <span class="comment">     * all delegated transactions committed.</span>
<a name="l2430"><span class="linenum">2430</span></a>  <span class="comment">     * @param moodle_transaction $transaction The transaction to commit</span>
<a name="l2431"><span class="linenum">2431</span></a>  <span class="comment">     * @return void</span>
<a name="l2432"><span class="linenum">2432</span></a>  <span class="comment">     * @throws dml_transaction_exception Creates and throws transaction related exceptions.</span>
<a name="l2433"><span class="linenum">2433</span></a>  <span class="comment">     */</span>
<a name="l2434"><span class="linenum">2434</span></a>      public function <a class="function" onClick="logFunction('commit_delegated_transaction')" href="../../_functions/commit_delegated_transaction.html" onMouseOver="funcPopup(event,'commit_delegated_transaction')">commit_delegated_transaction</a>(moodle_transaction <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>) {
<a name="l2435"><span class="linenum">2435</span></a>          if (<a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('is_disposed')" href="../../_functions/is_disposed.html" onMouseOver="funcPopup(event,'is_disposed')">is_disposed</a>()) {
<a name="l2436"><span class="linenum">2436</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('Transactions already disposed', <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>);
<a name="l2437"><span class="linenum">2437</span></a>          }
<a name="l2438"><span class="linenum">2438</span></a>  <span class="comment">        // mark as disposed so that it can not be used again</span>
<a name="l2439"><span class="linenum">2439</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>();
<a name="l2440"><span class="linenum">2440</span></a>  
<a name="l2441"><span class="linenum">2441</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>)) {
<a name="l2442"><span class="linenum">2442</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('Transaction not started', <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>);
<a name="l2443"><span class="linenum">2443</span></a>          }
<a name="l2444"><span class="linenum">2444</span></a>  
<a name="l2445"><span class="linenum">2445</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('force_rollback')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/force_rollback.html">force_rollback</a>) {
<a name="l2446"><span class="linenum">2446</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('Tried to commit transaction after lower level rollback', <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>);
<a name="l2447"><span class="linenum">2447</span></a>          }
<a name="l2448"><span class="linenum">2448</span></a>  
<a name="l2449"><span class="linenum">2449</span></a>          if (<a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a> !== <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>[<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) - 1]) {
<a name="l2450"><span class="linenum">2450</span></a>  <span class="comment">            // one incorrect commit at any level rollbacks everything</span>
<a name="l2451"><span class="linenum">2451</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('force_rollback')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/force_rollback.html">force_rollback</a> = true;
<a name="l2452"><span class="linenum">2452</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('Invalid transaction commit attempt', <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>);
<a name="l2453"><span class="linenum">2453</span></a>          }
<a name="l2454"><span class="linenum">2454</span></a>  
<a name="l2455"><span class="linenum">2455</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) == 1) {
<a name="l2456"><span class="linenum">2456</span></a>  <span class="comment">            // only commit the top most level</span>
<a name="l2457"><span class="linenum">2457</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('commit_transaction')" href="../../_functions/commit_transaction.html" onMouseOver="funcPopup(event,'commit_transaction')">commit_transaction</a>();
<a name="l2458"><span class="linenum">2458</span></a>          }
<a name="l2459"><span class="linenum">2459</span></a>          <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>);
<a name="l2460"><span class="linenum">2460</span></a>  
<a name="l2461"><span class="linenum">2461</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>)) {
<a name="l2462"><span class="linenum">2462</span></a>              \core\event\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_commited')" href="../../_functions/database_transaction_commited.html" onMouseOver="funcPopup(event,'database_transaction_commited')">database_transaction_commited</a>();
<a name="l2463"><span class="linenum">2463</span></a>              \core\message\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_commited')" href="../../_functions/database_transaction_commited.html" onMouseOver="funcPopup(event,'database_transaction_commited')">database_transaction_commited</a>();
<a name="l2464"><span class="linenum">2464</span></a>          }
<a name="l2465"><span class="linenum">2465</span></a>      }
<a name="l2466"><span class="linenum">2466</span></a>  
<a name="l2467"><span class="linenum">2467</span></a>      <span class="comment">/**</span>
<a name="l2468"><span class="linenum">2468</span></a>  <span class="comment">     * Driver specific commit of real database transaction,</span>
<a name="l2469"><span class="linenum">2469</span></a>  <span class="comment">     * this can not be used directly in code.</span>
<a name="l2470"><span class="linenum">2470</span></a>  <span class="comment">     * @return void</span>
<a name="l2471"><span class="linenum">2471</span></a>  <span class="comment">     */</span>
<a name="l2472"><span class="linenum">2472</span></a>      protected abstract function <a class="function" onClick="logFunction('commit_transaction')" href="../../_functions/commit_transaction.html" onMouseOver="funcPopup(event,'commit_transaction')">commit_transaction</a>();
<a name="l2473"><span class="linenum">2473</span></a>  
<a name="l2474"><span class="linenum">2474</span></a>      <span class="comment">/**</span>
<a name="l2475"><span class="linenum">2475</span></a>  <span class="comment">     * Call when delegated transaction failed, this rolls back</span>
<a name="l2476"><span class="linenum">2476</span></a>  <span class="comment">     * all delegated transactions up to the top most level.</span>
<a name="l2477"><span class="linenum">2477</span></a>  <span class="comment">     *</span>
<a name="l2478"><span class="linenum">2478</span></a>  <span class="comment">     * In many cases you do not need to call this method manually,</span>
<a name="l2479"><span class="linenum">2479</span></a>  <span class="comment">     * because all open delegated transactions are rolled back</span>
<a name="l2480"><span class="linenum">2480</span></a>  <span class="comment">     * automatically if exceptions not caught.</span>
<a name="l2481"><span class="linenum">2481</span></a>  <span class="comment">     *</span>
<a name="l2482"><span class="linenum">2482</span></a>  <span class="comment">     * @param moodle_transaction $transaction An instance of a moodle_transaction.</span>
<a name="l2483"><span class="linenum">2483</span></a>  <span class="comment">     * @param Exception|Throwable $e The related exception/throwable to this transaction rollback.</span>
<a name="l2484"><span class="linenum">2484</span></a>  <span class="comment">     * @return void This does not return, instead the exception passed in will be rethrown.</span>
<a name="l2485"><span class="linenum">2485</span></a>  <span class="comment">     */</span>
<a name="l2486"><span class="linenum">2486</span></a>      public function <a class="function" onClick="logFunction('rollback_delegated_transaction')" href="../../_functions/rollback_delegated_transaction.html" onMouseOver="funcPopup(event,'rollback_delegated_transaction')">rollback_delegated_transaction</a>(moodle_transaction <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l2487"><span class="linenum">2487</span></a>          if (!(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a> instanceof Exception) &amp;&amp; !(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a> instanceof Throwable)) {
<a name="l2488"><span class="linenum">2488</span></a>  <span class="comment">            // PHP7 - we catch Throwables in phpunit but can't use that as the type hint in PHP5.</span>
<a name="l2489"><span class="linenum">2489</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a> = new \coding_exception(&quot;Must be given an Exception or Throwable object!&quot;);
<a name="l2490"><span class="linenum">2490</span></a>          }
<a name="l2491"><span class="linenum">2491</span></a>          if (<a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('is_disposed')" href="../../_functions/is_disposed.html" onMouseOver="funcPopup(event,'is_disposed')">is_disposed</a>()) {
<a name="l2492"><span class="linenum">2492</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('dml_transaction_exception')" href="../../_classes/dml_transaction_exception.html" onMouseOver="classPopup(event,'dml_transaction_exception')">dml_transaction_exception</a>('Transactions already disposed', <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>);
<a name="l2493"><span class="linenum">2493</span></a>          }
<a name="l2494"><span class="linenum">2494</span></a>  <span class="comment">        // mark as disposed so that it can not be used again</span>
<a name="l2495"><span class="linenum">2495</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>();
<a name="l2496"><span class="linenum">2496</span></a>  
<a name="l2497"><span class="linenum">2497</span></a>  <span class="comment">        // one rollback at any level rollbacks everything</span>
<a name="l2498"><span class="linenum">2498</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('force_rollback')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/force_rollback.html">force_rollback</a> = true;
<a name="l2499"><span class="linenum">2499</span></a>  
<a name="l2500"><span class="linenum">2500</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) or <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../../_variables/transaction.html">$transaction</a> !== <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>[<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) - 1]) {
<a name="l2501"><span class="linenum">2501</span></a>  <span class="comment">            // this may or may not be a coding problem, better just rethrow the exception,</span>
<a name="l2502"><span class="linenum">2502</span></a>  <span class="comment">            // because we do not want to loose the original $e</span>
<a name="l2503"><span class="linenum">2503</span></a>              throw <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>;
<a name="l2504"><span class="linenum">2504</span></a>          }
<a name="l2505"><span class="linenum">2505</span></a>  
<a name="l2506"><span class="linenum">2506</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) == 1) {
<a name="l2507"><span class="linenum">2507</span></a>  <span class="comment">            // only rollback the top most level</span>
<a name="l2508"><span class="linenum">2508</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('rollback_transaction')" href="../../_functions/rollback_transaction.html" onMouseOver="funcPopup(event,'rollback_transaction')">rollback_transaction</a>();
<a name="l2509"><span class="linenum">2509</span></a>          }
<a name="l2510"><span class="linenum">2510</span></a>          <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>);
<a name="l2511"><span class="linenum">2511</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>)) {
<a name="l2512"><span class="linenum">2512</span></a>  <span class="comment">            // finally top most level rolled back</span>
<a name="l2513"><span class="linenum">2513</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('force_rollback')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/force_rollback.html">force_rollback</a> = false;
<a name="l2514"><span class="linenum">2514</span></a>              \core\event\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_rolledback')" href="../../_functions/database_transaction_rolledback.html" onMouseOver="funcPopup(event,'database_transaction_rolledback')">database_transaction_rolledback</a>();
<a name="l2515"><span class="linenum">2515</span></a>              \core\message\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_rolledback')" href="../../_functions/database_transaction_rolledback.html" onMouseOver="funcPopup(event,'database_transaction_rolledback')">database_transaction_rolledback</a>();
<a name="l2516"><span class="linenum">2516</span></a>          }
<a name="l2517"><span class="linenum">2517</span></a>          throw <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>;
<a name="l2518"><span class="linenum">2518</span></a>      }
<a name="l2519"><span class="linenum">2519</span></a>  
<a name="l2520"><span class="linenum">2520</span></a>      <span class="comment">/**</span>
<a name="l2521"><span class="linenum">2521</span></a>  <span class="comment">     * Driver specific abort of real database transaction,</span>
<a name="l2522"><span class="linenum">2522</span></a>  <span class="comment">     * this can not be used directly in code.</span>
<a name="l2523"><span class="linenum">2523</span></a>  <span class="comment">     * @return void</span>
<a name="l2524"><span class="linenum">2524</span></a>  <span class="comment">     */</span>
<a name="l2525"><span class="linenum">2525</span></a>      protected abstract function <a class="function" onClick="logFunction('rollback_transaction')" href="../../_functions/rollback_transaction.html" onMouseOver="funcPopup(event,'rollback_transaction')">rollback_transaction</a>();
<a name="l2526"><span class="linenum">2526</span></a>  
<a name="l2527"><span class="linenum">2527</span></a>      <span class="comment">/**</span>
<a name="l2528"><span class="linenum">2528</span></a>  <span class="comment">     * Force rollback of all delegated transaction.</span>
<a name="l2529"><span class="linenum">2529</span></a>  <span class="comment">     * Does not throw any exceptions and does not log anything.</span>
<a name="l2530"><span class="linenum">2530</span></a>  <span class="comment">     *</span>
<a name="l2531"><span class="linenum">2531</span></a>  <span class="comment">     * This method should be used only from default exception handlers and other</span>
<a name="l2532"><span class="linenum">2532</span></a>  <span class="comment">     * core code.</span>
<a name="l2533"><span class="linenum">2533</span></a>  <span class="comment">     *</span>
<a name="l2534"><span class="linenum">2534</span></a>  <span class="comment">     * @return void</span>
<a name="l2535"><span class="linenum">2535</span></a>  <span class="comment">     */</span>
<a name="l2536"><span class="linenum">2536</span></a>      public function <a class="function" onClick="logFunction('force_transaction_rollback')" href="../../_functions/force_transaction_rollback.html" onMouseOver="funcPopup(event,'force_transaction_rollback')">force_transaction_rollback</a>() {
<a name="l2537"><span class="linenum">2537</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a>) {
<a name="l2538"><span class="linenum">2538</span></a>              try {
<a name="l2539"><span class="linenum">2539</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('rollback_transaction')" href="../../_functions/rollback_transaction.html" onMouseOver="funcPopup(event,'rollback_transaction')">rollback_transaction</a>();
<a name="l2540"><span class="linenum">2540</span></a>              } catch (dml_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l2541"><span class="linenum">2541</span></a>  <span class="comment">                // ignore any sql errors here, the connection might be broken</span>
<a name="l2542"><span class="linenum">2542</span></a>              }
<a name="l2543"><span class="linenum">2543</span></a>          }
<a name="l2544"><span class="linenum">2544</span></a>  
<a name="l2545"><span class="linenum">2545</span></a>  <span class="comment">        // now enable transactions again</span>
<a name="l2546"><span class="linenum">2546</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('transactions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/transactions.html">transactions</a> = array();
<a name="l2547"><span class="linenum">2547</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('force_rollback')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/force_rollback.html">force_rollback</a> = false;
<a name="l2548"><span class="linenum">2548</span></a>  
<a name="l2549"><span class="linenum">2549</span></a>          \core\event\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_rolledback')" href="../../_functions/database_transaction_rolledback.html" onMouseOver="funcPopup(event,'database_transaction_rolledback')">database_transaction_rolledback</a>();
<a name="l2550"><span class="linenum">2550</span></a>          \core\message\<a class="class" onClick="logClass('manager')" href="../../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('database_transaction_rolledback')" href="../../_functions/database_transaction_rolledback.html" onMouseOver="funcPopup(event,'database_transaction_rolledback')">database_transaction_rolledback</a>();
<a name="l2551"><span class="linenum">2551</span></a>      }
<a name="l2552"><span class="linenum">2552</span></a>  
<a name="l2553"><span class="linenum">2553</span></a>      <span class="comment">/**</span>
<a name="l2554"><span class="linenum">2554</span></a>  <span class="comment">     * Is session lock supported in this driver?</span>
<a name="l2555"><span class="linenum">2555</span></a>  <span class="comment">     * @return bool</span>
<a name="l2556"><span class="linenum">2556</span></a>  <span class="comment">     */</span>
<a name="l2557"><span class="linenum">2557</span></a>      public function <a class="function" onClick="logFunction('session_lock_supported')" href="../../_functions/session_lock_supported.html" onMouseOver="funcPopup(event,'session_lock_supported')">session_lock_supported</a>() {
<a name="l2558"><span class="linenum">2558</span></a>          return false;
<a name="l2559"><span class="linenum">2559</span></a>      }
<a name="l2560"><span class="linenum">2560</span></a>  
<a name="l2561"><span class="linenum">2561</span></a>      <span class="comment">/**</span>
<a name="l2562"><span class="linenum">2562</span></a>  <span class="comment">     * Obtains the session lock.</span>
<a name="l2563"><span class="linenum">2563</span></a>  <span class="comment">     * @param int $rowid The id of the row with session record.</span>
<a name="l2564"><span class="linenum">2564</span></a>  <span class="comment">     * @param int $timeout The maximum allowed time to wait for the lock in seconds.</span>
<a name="l2565"><span class="linenum">2565</span></a>  <span class="comment">     * @return void</span>
<a name="l2566"><span class="linenum">2566</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l2567"><span class="linenum">2567</span></a>  <span class="comment">     */</span>
<a name="l2568"><span class="linenum">2568</span></a>      public function <a class="function" onClick="logFunction('get_session_lock')" href="../../_functions/get_session_lock.html" onMouseOver="funcPopup(event,'get_session_lock')">get_session_lock</a>(<a class="var it4679" onMouseOver="hilite(4679)" onMouseOut="lolite()" onClick="logVariable('rowid')" href="../../_variables/rowid.html">$rowid</a>, <a class="var it1356" onMouseOver="hilite(1356)" onMouseOut="lolite()" onClick="logVariable('timeout')" href="../../_variables/timeout.html">$timeout</a>) {
<a name="l2569"><span class="linenum">2569</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('used_for_db_sessions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/used_for_db_sessions.html">used_for_db_sessions</a> = true;
<a name="l2570"><span class="linenum">2570</span></a>      }
<a name="l2571"><span class="linenum">2571</span></a>  
<a name="l2572"><span class="linenum">2572</span></a>      <span class="comment">/**</span>
<a name="l2573"><span class="linenum">2573</span></a>  <span class="comment">     * Releases the session lock.</span>
<a name="l2574"><span class="linenum">2574</span></a>  <span class="comment">     * @param int $rowid The id of the row with session record.</span>
<a name="l2575"><span class="linenum">2575</span></a>  <span class="comment">     * @return void</span>
<a name="l2576"><span class="linenum">2576</span></a>  <span class="comment">     * @throws dml_exception A DML specific exception is thrown for any errors.</span>
<a name="l2577"><span class="linenum">2577</span></a>  <span class="comment">     */</span>
<a name="l2578"><span class="linenum">2578</span></a>      public function <a class="function" onClick="logFunction('release_session_lock')" href="../../_functions/release_session_lock.html" onMouseOver="funcPopup(event,'release_session_lock')">release_session_lock</a>(<a class="var it4679" onMouseOver="hilite(4679)" onMouseOut="lolite()" onClick="logVariable('rowid')" href="../../_variables/rowid.html">$rowid</a>) {
<a name="l2579"><span class="linenum">2579</span></a>      }
<a name="l2580"><span class="linenum">2580</span></a>  
<a name="l2581"><span class="linenum">2581</span></a>      <span class="comment">/**</span>
<a name="l2582"><span class="linenum">2582</span></a>  <span class="comment">     * Returns the number of reads done by this database.</span>
<a name="l2583"><span class="linenum">2583</span></a>  <span class="comment">     * @return int Number of reads.</span>
<a name="l2584"><span class="linenum">2584</span></a>  <span class="comment">     */</span>
<a name="l2585"><span class="linenum">2585</span></a>      public function <a class="function" onClick="logFunction('perf_get_reads')" href="../../_functions/perf_get_reads.html" onMouseOver="funcPopup(event,'perf_get_reads')">perf_get_reads</a>() {
<a name="l2586"><span class="linenum">2586</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('reads')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/reads.html">reads</a>;
<a name="l2587"><span class="linenum">2587</span></a>      }
<a name="l2588"><span class="linenum">2588</span></a>  
<a name="l2589"><span class="linenum">2589</span></a>      <span class="comment">/**</span>
<a name="l2590"><span class="linenum">2590</span></a>  <span class="comment">     * Returns the number of writes done by this database.</span>
<a name="l2591"><span class="linenum">2591</span></a>  <span class="comment">     * @return int Number of writes.</span>
<a name="l2592"><span class="linenum">2592</span></a>  <span class="comment">     */</span>
<a name="l2593"><span class="linenum">2593</span></a>      public function <a class="function" onClick="logFunction('perf_get_writes')" href="../../_functions/perf_get_writes.html" onMouseOver="funcPopup(event,'perf_get_writes')">perf_get_writes</a>() {
<a name="l2594"><span class="linenum">2594</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('writes')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/writes.html">writes</a>;
<a name="l2595"><span class="linenum">2595</span></a>      }
<a name="l2596"><span class="linenum">2596</span></a>  
<a name="l2597"><span class="linenum">2597</span></a>      <span class="comment">/**</span>
<a name="l2598"><span class="linenum">2598</span></a>  <span class="comment">     * Returns the number of queries done by this database.</span>
<a name="l2599"><span class="linenum">2599</span></a>  <span class="comment">     * @return int Number of queries.</span>
<a name="l2600"><span class="linenum">2600</span></a>  <span class="comment">     */</span>
<a name="l2601"><span class="linenum">2601</span></a>      public function <a class="function" onClick="logFunction('perf_get_queries')" href="../../_functions/perf_get_queries.html" onMouseOver="funcPopup(event,'perf_get_queries')">perf_get_queries</a>() {
<a name="l2602"><span class="linenum">2602</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('writes')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/writes.html">writes</a> + <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('reads')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/reads.html">reads</a>;
<a name="l2603"><span class="linenum">2603</span></a>      }
<a name="l2604"><span class="linenum">2604</span></a>  
<a name="l2605"><span class="linenum">2605</span></a>      <span class="comment">/**</span>
<a name="l2606"><span class="linenum">2606</span></a>  <span class="comment">     * Time waiting for the database engine to finish running all queries.</span>
<a name="l2607"><span class="linenum">2607</span></a>  <span class="comment">     * @return float Number of seconds with microseconds</span>
<a name="l2608"><span class="linenum">2608</span></a>  <span class="comment">     */</span>
<a name="l2609"><span class="linenum">2609</span></a>      public function <a class="function" onClick="logFunction('perf_get_queries_time')" href="../../_functions/perf_get_queries_time.html" onMouseOver="funcPopup(event,'perf_get_queries_time')">perf_get_queries_time</a>() {
<a name="l2610"><span class="linenum">2610</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('queriestime')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/queriestime.html">queriestime</a>;
<a name="l2611"><span class="linenum">2611</span></a>      }
<a name="l2612"><span class="linenum">2612</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'import_record': ['import_record', 'Import a record into a table, id field is required. Basic safety checks only. Lobs are supported. ', [['lib/dml','pdo_moodle_database.php',577],['lib/dml','oci_native_moodle_database.php',1333],['lib/dml','pgsql_native_moodle_database.php',1020],['lib/dml','mssql_native_moodle_database.php',997],['lib/dml','mysqli_native_moodle_database.php',1339],['lib/dml','sqlsrv_native_moodle_database.php',1081],['lib/dml/tests','dml_test.php',5549]], 24],
'replace_all_text_supported': ['replace_all_text_supported', 'Does this driver support tool_replace? ', [['lib/dml','oci_native_moodle_database.php',1787],['lib/dml','pgsql_native_moodle_database.php',1255],['lib/dml','mssql_native_moodle_database.php',1326],['lib/dml','mysqli_native_moodle_database.php',1657],['lib/dml','moodle_database.php',2303],['lib/dml','sqlsrv_native_moodle_database.php',1395]], 4],
'delete': ['delete', 'Deletes an item from the cache store. ', [['cache/stores/static','lib.php',374],['cache','disabledlib.php',102],['lib/google/src/Google/Service','AdSense.php',1258],['lib/google/src/Google/Service','AdSense.php',1730],['lib/grade','grade_item.php',396],['lib/google/src/Google/Service','Replicapool.php',378],['lib/google/src/Google/Service','Tasks.php',310],['lib/google/src/Google/Service','Tasks.php',428],['lib/google/src/Google/Service','AndroidPublisher.php',1230],['lib/google/src/Google/Service','AndroidPublisher.php',1310],['lib/google/src/Google/Service','AndroidPublisher.php',1668],['lib/google/src/Google/Service','AndroidPublisher.php',1763],['lib/google/src/Google/Service','AndroidPublisher.php',2083],['lib/google/src/Google/Service','YouTubeReporting.php',255],['lib/google/src/Google/Service','Reseller.php',441],['lib/google/src/Google/Cache','Memcache.php',144],['lib','filelib.php',3481],['lib/google/src/Google/Service','Computeaccounts.php',418],['lib/google/src/Google/Service','Computeaccounts.php',497],['lib/google/src/Google/Service','Computeaccounts.php',668],['lib/grade','grade_category.php',281],['lib/grade','grade_scale.php',136],['lib/adodb','adodb-active-record.inc.php',901],['lib/grade','grade_object.php',270],['lib/google/src/Google/Service','YouTubeAnalytics.php',352],['lib/google/src/Google/Service','YouTubeAnalytics.php',447],['lib/google/src/Google/Service','MapsEngine.php',1693],['lib/google/src/Google/Service','MapsEngine.php',1991],['lib/google/src/Google/Service','MapsEngine.php',2344],['lib/google/src/Google/Service','MapsEngine.php',2651],['lib/google/src/Google/Service','MapsEngine.php',2912],['completion','data_object.php',273],['lib/google/src/Google/Cache','File.php',115],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Dns.php',378],['cache/classes','loaders.php',792],['cache/classes','loaders.php',1471],['cache/classes','loaders.php',1841],['lib/google/src/Google/Service','Appengine.php',352],['lib/google/src/Google/Service','Appengine.php',455],['tag/classes','collection.php',260],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Service','AdExchangeBuyer.php',938],['lib/google/src/Google/Service','AdExchangeBuyer.php',1137],['lib/google/src/Google/Service','AdExchangeBuyer.php',1561],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','Books.php',1946],['lib/grade','grade_grade.php',1024],['lib/grade','grade_outcome.php',97],['lib/google/src/Google/Service','Analytics.php',2165],['lib/google/src/Google/Service','Analytics.php',2534],['lib/google/src/Google/Service','Analytics.php',2655],['lib/google/src/Google/Service','Analytics.php',2872],['lib/google/src/Google/Service','Analytics.php',3001],['lib/google/src/Google/Service','Analytics.php',3092],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Analytics.php',3631],['lib/google/src/Google/Service','DeploymentManager.php',452],['lib/google/src/Google/Service','Blogger.php',1065],['lib/google/src/Google/Service','Blogger.php',1227],['lib/google/src/Google/Service','Blogger.php',1451],['lib/filebrowser','file_info_stored.php',631],['competency/classes','persistent.php',510],['lib/google/src/Google/Service','CloudUserAccounts.php',528],['lib/google/src/Google/Service','CloudUserAccounts.php',628],['lib/google/src/Google/Service','CloudUserAccounts.php',893],['lib/google/src/Google/Service','Cloudresourcemanager.php',390],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',960],['lib/google/src/Google/Service','TagManager.php',1022],['lib/google/src/Google/Service','TagManager.php',1113],['lib/google/src/Google/Service','TagManager.php',1265],['lib/google/src/Google/Service','TagManager.php',1358],['lib/google/src/Google/Service','TagManager.php',1452],['lib/google/src/Google/Service','TagManager.php',1546],['lib/google/src/Google/Service','TagManager.php',1696],['mod/lesson','locallib.php',1037],['mod/lesson','locallib.php',2271],['repository','lib.php',427],['repository','lib.php',1962],['admin/tool/uploadcourse/classes','course.php',226],['lib','badgeslib.php',640],['lib/google/src/Google/Service','Bigquery.php',531],['lib/google/src/Google/Service','Bigquery.php',863],['lib/google/src/Google/Service','ShoppingContent.php',1050],['lib/google/src/Google/Service','ShoppingContent.php',1448],['lib/google/src/Google/Service','ShoppingContent.php',1970],['lib/google/src/Google/Service','Webmasters.php',355],['lib/google/src/Google/Service','Webmasters.php',449],['lib/google/src/Google/Service','Clouddebugger.php',384],['lib/filestorage','stored_file.php',323],['lib/google/src/Google/Service','Container.php',309],['lib/google/src/Google/Service','Storage.php',1042],['lib/google/src/Google/Service','Storage.php',1157],['lib/google/src/Google/Service','Storage.php',1332],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1681],['cache/stores/memcache','lib.php',401],['lib/google/src/Google/Service','Genomics.php',646],['lib/google/src/Google/Service','Genomics.php',735],['lib/google/src/Google/Service','Genomics.php',903],['lib/google/src/Google/Service','Genomics.php',971],['lib/google/src/Google/Service','Genomics.php',1326],['lib/google/src/Google/Service','Genomics.php',1443],['lib/google/src/Google/Service','Licensing.php',224],['lib/google/src/Google/Service','Fitness.php',400],['lib/google/src/Google/Service','Fitness.php',512],['lib/google/src/Google/Service','Fitness.php',647],['comment','lib.php',790],['lib/google/src/Google/Service','Gmail.php',763],['lib/google/src/Google/Service','Gmail.php',921],['lib/google/src/Google/Service','Gmail.php',1014],['lib/google/src/Google/Service','Gmail.php',1234],['lib/google/src/Google/Service','Taskqueue.php',293],['lib/adodb','adodb-active-recordx.inc.php',1016],['lib','accesslib.php',5580],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Autoscaler.php',315],['lib/google/src/Google/Service','Autoscaler.php',429],['lib/google/src/Google/Service','Prediction.php',262],['lib/google/src/Google/Service','SiteVerification.php',139],['lib/google/src/Google/Service','Drive.php',1522],['lib/google/src/Google/Service','Drive.php',1603],['lib/google/src/Google/Service','Drive.php',1748],['lib/google/src/Google/Service','Drive.php',2040],['lib/google/src/Google/Service','Drive.php',2110],['lib/google/src/Google/Service','Drive.php',2240],['lib/google/src/Google/Service','Drive.php',2403],['lib/google/src/Google/Service','Drive.php',2523],['lib/google/src/Google/Service','Proximitybeacon.php',522],['lib/google/src/Google/Service','Directory.php',1683],['lib/google/src/Google/Service','Directory.php',1916],['lib/google/src/Google/Service','Directory.php',1989],['lib/google/src/Google/Service','Directory.php',2059],['lib/google/src/Google/Service','Directory.php',2169],['lib/google/src/Google/Service','Directory.php',2224],['lib/google/src/Google/Service','Directory.php',2351],['lib/google/src/Google/Service','Directory.php',2420],['lib/google/src/Google/Service','Directory.php',2517],['lib/google/src/Google/Service','Directory.php',2652],['lib/google/src/Google/Service','Directory.php',2731],['lib/google/src/Google/Service','Directory.php',2836],['lib/google/src/Google/Service','Directory.php',2938],['lib/google/src/Google/Service','Directory.php',2999],['lib/google/src/Google/Service','Directory.php',3199],['lib/google/src/Google/Service','Directory.php',3274],['lib/google/src/Google/Service','Fusiontables.php',645],['lib/google/src/Google/Service','Fusiontables.php',812],['lib/google/src/Google/Service','Fusiontables.php',937],['lib/google/src/Google/Service','Fusiontables.php',1126],['lib/google/src/Google/Service','Fusiontables.php',1188],['lib/google/src/Google/Service','AdSenseHost.php',734],['lib/google/src/Google/Service','AdSenseHost.php',1010],['lib/google/src/Google/Service','AdSenseHost.php',1168],['lib/google/src/Google/Service','Mirror.php',425],['lib/google/src/Google/Service','Mirror.php',593],['lib/google/src/Google/Service','Mirror.php',661],['lib/google/src/Google/Service','Mirror.php',772],['tag/classes','area.php',187],['lib/google/src/Google/Service','AndroidEnterprise.php',988],['lib/google/src/Google/Service','AndroidEnterprise.php',1092],['lib/google/src/Google/Service','AndroidEnterprise.php',1280],['lib/google/src/Google/Service','AndroidEnterprise.php',1415],['lib/google/src/Google/Service','AndroidEnterprise.php',1597],['course','lib.php',3263],['mnet','peer.php',118],['search/tests/fixtures','mock_search_engine.php',48],['lib/google/src/Google/Service','Calendar.php',903],['lib/google/src/Google/Service','Calendar.php',1071],['lib/google/src/Google/Service','Calendar.php',1269],['lib/google/src/Google/Service','Calendar.php',1412],['cache/stores/session','lib.php',417],['blog','locallib.php',322],['lib/google/src/Google/Service','Storagetransfer.php',381],['cache/stores/mongodb','lib.php',361],['lib/google/src/Google/Cache','Null.php',53],['lib/google/src/Google/Service','GamesConfiguration.php',251],['lib/google/src/Google/Service','GamesConfiguration.php',390],['cache/stores/file','lib.php',393],['badges/criteria','award_criteria.php',330],['cache/stores/memcached','lib.php',402],['lib/google/src/Google/Service','AppState.php',154],['lib/google/src/Google/Service','Resourceviews.php',423],['lib/portfolio','plugin.php',692],['calendar','lib.php',2423],['lib/google/src/Google/Service','Classroom.php',466],['lib/google/src/Google/Service','Classroom.php',615],['lib/google/src/Google/Service','Classroom.php',701],['lib/google/src/Google/Service','Classroom.php',806],['lib/google/src/Google/Service','Classroom.php',934],['lib/google/src/Google/Service','SQLAdmin.php',786],['lib/google/src/Google/Service','SQLAdmin.php',856],['lib/google/src/Google/Service','SQLAdmin.php',1023],['lib/google/src/Google/Service','SQLAdmin.php',1368],['lib/google/src/Google/Service','SQLAdmin.php',1483],['badges/criteria','award_criteria_manual.php',220],['search/engine/solr/classes','engine.php',1045],['lib/google/src/Google/Service','Compute.php',4021],['lib/google/src/Google/Service','Compute.php',4149],['lib/google/src/Google/Service','Compute.php',4284],['lib/google/src/Google/Service','Compute.php',4571],['lib/google/src/Google/Service','Compute.php',4671],['lib/google/src/Google/Service','Compute.php',4829],['lib/google/src/Google/Service','Compute.php',4942],['lib/google/src/Google/Service','Compute.php',5033],['lib/google/src/Google/Service','Compute.php',5174],['lib/google/src/Google/Service','Compute.php',5248],['lib/google/src/Google/Service','Compute.php',5378],['lib/google/src/Google/Service','Compute.php',5508],['lib/google/src/Google/Service','Compute.php',5683],['lib/google/src/Google/Service','Compute.php',5984],['lib/google/src/Google/Service','Compute.php',6156],['lib/google/src/Google/Service','Compute.php',6316],['lib/google/src/Google/Service','Compute.php',6717],['lib/google/src/Google/Service','Compute.php',6898],['lib/google/src/Google/Service','Compute.php',7037],['lib/google/src/Google/Service','Compute.php',7128],['lib/google/src/Google/Service','Compute.php',7208],['lib/google/src/Google/Service','Compute.php',7299],['lib/google/src/Google/Service','Compute.php',7409],['lib/google/src/Google/Service','Compute.php',7570],['lib/google/src/Google/Service','Compute.php',7734],['lib/google/src/Google/Service','Compute.php',7938],['lib/google/src/Google/Service','Compute.php',8035],['lib/google/src/Google/Service','Compute.php',8210],['lib/google/src/Google/Service','Compute.php',8305],['lib/google/src/Google/Service','Pubsub.php',240],['lib/google/src/Google/Service','Pubsub.php',379],['lib/google/src/Google/Service','YouTube.php',1810],['lib/google/src/Google/Service','YouTube.php',2061],['lib/google/src/Google/Service','YouTube.php',2459],['lib/google/src/Google/Service','YouTube.php',2889],['lib/google/src/Google/Service','YouTube.php',3187],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','YouTube.php',3559],['lib/google/src/Google/Service','YouTube.php',3928],['lib/google/src/Google/Service','YouTube.php',4158],['lib/google/src/Google/Cache','Apc.php',105],['lib/google/src/Google/Service','Dfareporting.php',5000],['lib/google/src/Google/Service','Dfareporting.php',5566],['lib/google/src/Google/Service','Dfareporting.php',5753],['lib/google/src/Google/Service','Dfareporting.php',5877],['lib/google/src/Google/Service','Dfareporting.php',6397],['lib/google/src/Google/Service','Dfareporting.php',6578],['lib/google/src/Google/Service','Dfareporting.php',6731],['lib/google/src/Google/Service','Dfareporting.php',6996],['lib/google/src/Google/Service','Dfareporting.php',7503],['lib/google/src/Google/Service','Dfareporting.php',8102],['lib/google/src/Google/Service','Dfareporting.php',8768],['lib/google/src/Google/Service','Manager.php',244],['lib/google/src/Google/Service','Manager.php',324],['lib/google/src/Google/Service','CloudMonitoring.php',274],['lib','webdavlib.php',691]], 317],
'__construct': ['__construct', '', [['lib/adodb/drivers','adodb-odbc_mssql.inc.php',50],['lib/adodb/drivers','adodb-odbc_mssql.inc.php',359],['question/classes/statistics/responses','analyser.php',69],['auth/radius','auth.php',38],['lib/xmldb','xmldb_file.php',43],['lib/lessphp/Tree/Mixin','Definition.php',18],['cache/stores/static','lib.php',127],['lib/classes/session','file.php',40],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['backup/util/ui','base_moodleform.class.php',68],['lib/simplepie/library/SimplePie','Author.php',81],['lib/filestorage','zip_archive.php',66],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/phpexcel/PHPExcel','HashTable.php',44],['mod/quiz/tests','repaginate_test.php',39],['lib/form','modvisible.php',43],['lib/phpexcel/PHPExcel/Worksheet','Row.php',44],['cache','disabledlib.php',44],['lib/phpexcel/PHPExcel/Worksheet','Dimension.php',58],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['question/type/ddwtos','question.php',61],['mnet/xmlrpc','client.php',25],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes','useragent.php',115],['lib/pear/HTML/QuickForm','advcheckbox.php',66],['lib/classes/update','checker_exception.php',37],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',53],['lib/jabber/XMPP','XMPP.php',101],['lib/form','radio.php',44],['lib/spout/src/Spout/Reader/XLSX/Helper','StyleHelper.php',45],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/phpexcel/PHPExcel/Style','Border.php',67],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['lib/adodb/drivers','adodb-oci8quercus.inc.php',31],['lib/adodb/drivers','adodb-oci8quercus.inc.php',45],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',29],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/phpexcel/PHPExcel','DocumentProperties.php',123],['lib/typo3','class.t3lib_cs.php',509],['mod/workshop/allocation/scheduled','lib.php',48],['lib/adodb/drivers','adodb-netezza.inc.php',53],['lib/adodb/drivers','adodb-netezza.inc.php',144],['mod/feedback/classes','complete_form.php',58],['search/classes','document.php',188],['webservice/rest','locallib.php',40],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',57],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['backup/moodle2','backup_block_task.class.php',43],['lib/lessphp/Tree','Negative.php',14],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/pear/HTML/QuickForm','header.php',33],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','InMemoryStrategy.php',26],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',51],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',60],['lib/spout/src/Spout/Reader/ODS','Sheet.php',33],['question/type/calculated/tests','helper.php',205],['lib/adodb/drivers','adodb-odbtp.inc.php',38],['lib/adodb/drivers','adodb-odbtp.inc.php',673],['lib/adodb/drivers','adodb-odbtp.inc.php',796],['lib/adodb/drivers','adodb-odbtp.inc.php',806],['lib/adodb/drivers','adodb-odbtp.inc.php',816],['lib/adodb/drivers','adodb-odbtp.inc.php',826],['lib/adodb/drivers','adodb-odbtp.inc.php',836],['enrol/lti/ims-blti','blti.php',28],['backup/cc','cc2moodle.php',105],['mod/chat','locallib.php',181],['mod/chat','locallib.php',229],['user/filters','simpleselect.php',45],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',244],['lib/dml','pdo_moodle_database.php',42],['lib/adodb/drivers','adodb-sqlite3.inc.php',36],['lib/adodb/drivers','adodb-sqlite3.inc.php',350],['lib/pear/HTML/QuickForm','static.php',44],['competency/classes/external','comment_area_exporter.php',48],['lib/lessphp/Tree','Selector.php',31],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['auth/fc','fcFPP.php',33],['lib/xmldb','xmldb_key.php',43],['grade/grading/form/rubric','rubriceditor.php',56],['lib/google/src/Google/Service','Cloudlatencytest.php',40],['course','moodleform_mod.php',69],['auth/nntp','auth.php',35],['grade/report/grader','lib.php',111],['admin/tool/generator/classes','course_backend.php',116],['lib/minify/lib','FirePHP.php',189],['lib/adodb/drivers','adodb-sqlitepo.inc.php',38],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',66],['lib/lessphp/Tree','Rule.php',24],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/google/src/Google/Service','DataTransfer.php',44],['lib/google/src/Google/Http','Batch.php',42],['backup/util/structure','base_processor.class.php',49],['admin/tool/lpmigrate/classes','framework_mapper.php',50],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',46],['lib/lessphp/Tree','NameValue.php',22],['mod/quiz/classes','admin_review_setting.php',82],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['mod/quiz/report','attemptsreport_table.php',76],['blocks/lp/classes/output','summary.php',59],['lib/google/src/Google/IO','Stream.php',45],['lib/google/src/Google/Service','Freebase.php',38],['grade/tests','reportlib_test.php',36],['search/classes','manager.php',100],['question/behaviour/adaptive','behaviour.php',310],['admin/tool/lp/classes/form','framework_autocomplete.php',48],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['lib/google/src/Google/Task','Runner.php',76],['backup/util/settings/root','root_backup_setting.class.php',34],['lib','componentlib.class.php',179],['lib','componentlib.class.php',610],['lib','componentlib.class.php',834],['lib/google/src/Google/Service','AdSense.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['lib/spout/src/Spout/Reader/CSV','Sheet.php',24],['lib/filebrowser','file_info_context_system.php',37],['lib/grade','grade_item.php',260],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['auth/email','auth.php',34],['mod/wiki/editors','wikifiletable.php',40],['lib/google/src/Google/Service','Replicapool.php',51],['lib/dtl','database_exporter.php',55],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/phpexcel/PHPExcel/Writer','CSV.php',79],['lib/google/src/Google/Service','Tasks.php',44],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/minify/lib/Minify','Source.php',43],['lib/jabber/XMPP','Roster.php',48],['lib/lessphp/Tree','Element.php',19],['lib/classes','string_manager_install.php',43],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib/form','filemanager.php',54],['lib/form','filemanager.php',316],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['backup/util/ui','renderer.php',813],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',44],['question/classes/statistics/questions','calculator.php',66],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/google/src/Google/Service','Resource.php',62],['lib/form','autocomplete.php',56],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',60],['mod/lesson/classes','file_info.php',45],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['lib/google/src/Google/Service','Partners.php',43],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',635],['grade/edit/tree','lib.php',668],['grade/edit/tree','lib.php',834],['lib/simplepie/library/SimplePie','Cache.php',69],['mod/wiki/diff','difflib.php',277],['mod/wiki/diff','difflib.php',381],['mod/wiki/diff','difflib.php',478],['lib/pear/HTML/QuickForm','select.php',58],['lib/classes/output','mustache_javascript_helper.php',40],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/data','export_form.php',16],['lib/pear/HTML/QuickForm','autocomplete.php',67],['question/type/shortanswer','question.php',44],['lib/google/src/Google/Service','AndroidPublisher.php',52],['lib/google/src/Google/Verifier','Pem.php',31],['lib/classes/antivirus','scanner.php',41],['lib/phpexcel/PHPExcel/Reader','Excel5.php',414],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/classes/output','inplace_editable.php',107],['lib/adodb/drivers','adodb-informix.inc.php',37],['competency/classes','competency_rule.php',45],['lib/phpexcel/PHPExcel','RichText.php',37],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',59],['lib/pear/HTML/QuickForm','input.php',38],['repository/picasa','lib.php',41],['mod/feedback/classes','structure.php',48],['backup/util/plan','backup_structure_step.class.php',38],['question/classes/bank','random_question_loader.php',61],['mod/quiz/report/statistics/classes','calculated.php',43],['lib/horde/framework/Horde/Stream','String.php',27],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['mod/workshop/backup/moodle1','lib.php',308],['lib/google/src/Google/Service','YouTubeReporting.php',47],['grade/export/txt','grade_export_txt.php',27],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['mod/imscp','locallib.php',289],['lib/form','selectyesno.php',42],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['mod/lti/service/profile/classes/local/service','profile.php',41],['repository/flickr_public','lib.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['admin/tool/lp/classes/output','template_cohorts_table.php',53],['lib/simplepie/library','SimplePie.php',611],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/testing/generator','component_generator_base.php',45],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',175],['lib/classes','plugin_manager.php',91],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/xmldb','xmldb_field.php',84],['lib/adodb/drivers','adodb-ibase.inc.php',59],['lib/adodb/drivers','adodb-ibase.inc.php',764],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['admin/roles/classes','view_role_definition_table.php',28],['lib/google/src/Google/Cache','Memcache.php',44],['lib/pear/HTML/QuickForm','radio.php',48],['lib/filebrowser','file_info_context_coursecat.php',39],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',37],['mod/workshop/eval/best','lib.php',44],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',38],['grade/report','lib.php',156],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['availability/classes','info_module.php',40],['mod/book','locallib.php',414],['question/engine','datalib.php',68],['question/engine','datalib.php',1331],['question/engine','datalib.php',1632],['question/engine','datalib.php',1740],['question/engine','datalib.php',1870],['question/engine','datalib.php',1941],['webservice','lib.php',745],['webservice','lib.php',841],['lib/adodb/drivers','adodb-informix72.inc.php',59],['lib/adodb/drivers','adodb-informix72.inc.php',399],['lib/adodb','adodb-pager.inc.php',60],['user/classes/output/myprofile','category.php',68],['lib/lessphp/Visitor','extendFinder.php',15],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib','filelib.php',2720],['lib','filelib.php',3601],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',32],['report/competency/classes/output','report.php',56],['lib/google/src/Google/Service','Computeaccounts.php',49],['question/type','edit_question_form.php',96],['lib/filebrowser','file_info_context_user.php',39],['admin/tool/lp/classes/output','template_plans_page.php',37],['lib/phpexcel/PHPExcel','Style.php',93],['lib/minify/lib/Minify','HTML.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/form','password.php',44],['backup','backup.class.php',146],['mod/feedback/classes','course_select_form.php',39],['lib/google/src/Google/Auth','AppIdentity.php',39],['lib/adodb','adodb-active-record.inc.php',121],['lib/phpexcel/PHPExcel','Chart.php',169],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['admin/roles/classes','allow_switch_page.php',33],['lib/grade','grade_object.php',80],['lib/google/src/Google/IO','Exception.php',29],['auth/lti','auth.php',38],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier','HTMLPurifier.php',104],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',47],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/evalmath','evalmath.class.php',120],['lib/form','url.php',46],['lib/dml','pdo_moodle_recordset.php',41],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['backup/cc/cc_lib','xmlbase.php',52],['badges/lib','bakerlib.php',52],['lib/google/src/Google/Signer','P12.php',35],['availability/classes','info_section.php',40],['lib/form','static.php',47],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['lib/google/src/Google/Service','YouTubeAnalytics.php',56],['admin/roles/classes','check_capability_table.php',40],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/adodb/drivers','adodb-postgres64.inc.php',127],['lib/adodb/drivers','adodb-postgres64.inc.php',919],['backup/util/helper','restore_prechecks_helper.class.php',213],['user/profile','lib.php',59],['lib/google/src/Google/Service','Admin.php',40],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',62],['lib/google/src/Google/Service','MapsEngine.php',66],['lib','listlib.php',82],['lib','listlib.php',485],['lib/phpexcel/PHPExcel/Writer','HTML.php',128],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/simplepie/library/SimplePie','Source.php',61],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/google/src/Google/Cache','File.php',41],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['backup/util/ui','backup_moodleform.class.php',41],['availability/condition/grouping/classes','condition.php',46],['lib/classes/session','memcache.php',50],['cache/classes','dummystore.php',62],['badges/classes','assertion.php',49],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['availability/tests/fixtures','mock_condition.php',52],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['mod/quiz/report','attemptsreport_options.php',95],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',39],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/google/src/Google/Service','Dns.php',53],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['backup/moodle2','restore_block_task.class.php',45],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',54],['lib/form','recaptcha.php',48],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/phpexcel/PHPExcel/Chart','Legend.php',75],['lib/phpexcel/PHPExcel','WorksheetIterator.php',44],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1189],['cache/classes','loaders.php',1586],['lib/google/src/Google/Service','Appengine.php',44],['admin/tool/lp/classes/output','template_cohorts_page.php',37],['search/classes','engine.php',77],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/classes/progress','display.php',48],['lib/lessphp/Tree','Call.php',19],['course/format','lib.php',78],['question/type/calculated','datasetdefinitions_form.php',53],['lib/google/src/Google/Service','Translate.php',40],['enrol/database','settingslib.php',34],['lib/lessphp/Tree/Mixin','Call.php',14],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/tests','collator_test.php',310],['lib/google/src/Google/Auth','Simple.php',31],['backup/cc/cc_lib','cc_manifest.php',45],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['lib/phpmailer','moodle_phpmailer.php',47],['availability/tests/fixtures','mock_info.php',40],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['admin/tool/lp/classes/form','persistent.php',68],['lib/adodb/drivers','adodb-mysqlt.inc.php',32],['lib/adodb/drivers','adodb-mysqlt.inc.php',96],['webservice/tests','lib_test.php',213],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['filter','local_settings_form.php',33],['mod/quiz/accessrule','accessrulebase.php',52],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',170],['lib/lessphp/Tree','Dimension.php',15],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/adodb/perf','perf-oci8.inc.php',203],['lib/phpexcel','PHPExcel.php',361],['backup/util/helper','restore_questions_parser_processor.class.php',42],['backup/moodle2','backup_plugin.class.php',44],['lib/classes/antivirus','scanner_exception.php',38],['webservice/xmlrpc','lib.php',43],['report/loglive/classes','renderable.php',73],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['lib/filebrowser','file_info.php',43],['lib/adodb/drivers','adodb-access.inc.php',34],['lib/adodb/drivers','adodb-access.inc.php',83],['mod/feedback/classes','responses_table.php',54],['lib/editor/tinymce','adminlib.php',36],['admin/tool/monitor/classes','rule.php',44],['lib/google/src/Google/Service','AdExchangeBuyer.php',55],['lib/filebrowser','virtual_root_file.php',45],['lib/phpexcel/PHPExcel/RichText','Run.php',35],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/google/src/Google/Service','CivicInfo.php',40],['mod/feedback/classes/output','summary.php',52],['lib/minify/lib/Minify','Build.php',77],['lib/adodb/drivers','adodb-ado_mssql.inc.php',146],['lib/adodb/drivers','adodb-odbc.inc.php',44],['lib/adodb/drivers','adodb-odbc.inc.php',611],['lib','moodlelib.php',9421],['lib','moodlelib.php',9632],['user/selector','lib.php',85],['user/selector','lib.php',674],['admin/tool/lp/classes/output','plan_page.php',49],['repository/dropbox','lib.php',49],['lib/horde/framework/Horde/Mime','Part.php',261],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','CachingStrategyFactory.php',56],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',777],['lib/google/src/Google/Service','Books.php',60],['lib/google/src/Google/Service','Oauth2.php',50],['admin/tool/log/classes/log','store.php',30],['admin/tool/recyclebin/classes','category_bin.php',45],['lib/phpexcel/PHPExcel/Style','Color.php',64],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',69],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['lib/classes/update','checker.php',50],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',243],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/phpexcel/PHPExcel/Chart','Title.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/adodb/drivers','adodb-text.inc.php',93],['lib/adodb/drivers','adodb-text.inc.php',379],['lib/phpexcel/PHPExcel','Calculation.php',2071],['lib/adodb/drivers','adodb-sqlite.inc.php',36],['lib/adodb/drivers','adodb-sqlite.inc.php',367],['lib/google/src/Google/Service','Analytics.php',77],['blocks/lp/classes/output','plans_to_review_page.php',48],['lib/google/src/Google/Service','Coordinate.php',48],['availability/condition/group/classes','condition.php',43],['lib/lessphp/Exception','Chunk.php',19],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['backup/cc/cc_lib','cc_resources.php',102],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['question/classes/statistics/questions','calculated.php',181],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/xmldb','xmldb_structure.php',40],['lib/ddl','sqlite_sql_generator.php',73],['lib/pear/HTML/QuickForm','Renderer.php',31],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['lib/pear/HTML/QuickForm','file.php',54],['lib/minify/lib/Minify/Cache','File.php',9],['lib/pear/HTML/QuickForm','xbutton.php',39],['lib/htmlpurifier','locallib.php',134],['admin/tool/recyclebin/classes','course_bin.php',45],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',174],['backup/util/helper','backup_helper.class.php',381],['lib/form','htmleditor.php',48],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['repository/skydrive','lib.php',42],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',260],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/horde/framework/Horde/Exception','Pear.php',22],['lib/portfolio','exceptions.php',50],['backup/moodle2','restore_plugin.class.php',43],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',177],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/minify/lib/Minify/JS','ClosureCompiler.php',101],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/form','dateselector.php',70],['lib/spout/src/Spout/Common/Helper','EncodingHelper.php',38],['report/competency/classes/output','user_course_navigation.php',51],['lib/adodb/drivers','adodb-postgres7.inc.php',98],['lib/adodb/drivers','adodb-postgres7.inc.php',311],['lib/adodb/drivers','adodb-postgres7.inc.php',342],['lib/lessphp/Tree','Alpha.php',13],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',46],['lib/tcpdf','tcpdf.php',1822],['lib/adodb/drivers','adodb-sybase.inc.php',47],['lib/adodb/drivers','adodb-sybase.inc.php',313],['lib/adodb/drivers','adodb-sybase.inc.php',394],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',44],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',136],['mod/lesson','editpage_form.php',41],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/horde/framework/Horde','Domhtml.php',53],['lib','formslib.php',142],['lib','formslib.php',1442],['lib','formslib.php',2653],['rating','lib.php',114],['rating','lib.php',1070],['lib/phpexcel/PHPExcel/Worksheet','Column.php',44],['lib/google/src/Google/Service','Script.php',67],['lib/adodb','adodb-xmlschema.inc.php',118],['lib/adodb','adodb-xmlschema.inc.php',245],['lib/adodb','adodb-xmlschema.inc.php',637],['lib/adodb','adodb-xmlschema.inc.php',781],['lib/adodb','adodb-xmlschema.inc.php',982],['lib/adodb','adodb-xmlschema.inc.php',1295],['lib/google/src/Google/Service','DeploymentManager.php',54],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',546],['mod/quiz','attemptlib.php',2337],['mod/quiz','attemptlib.php',2392],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib','boxlib.php',264],['lib/simplepie/library/SimplePie','Restriction.php',81],['admin/roles/classes','allow_assign_page.php',31],['lib/adodb/drivers','adodb-pdo.inc.php',90],['lib/adodb/drivers','adodb-pdo.inc.php',553],['lib/adodb/drivers','adodb-pdo.inc.php',630],['tag/classes/output','tagareacollection.php',40],['admin/tool/lp/classes','template_statistics.php',62],['lib','weblib.php',313],['lib','weblib.php',3183],['lib','weblib.php',3483],['lib','weblib.php',3518],['lib','weblib.php',3593],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/html2text','Html2Text.php',232],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/pear/HTML/QuickForm/Renderer','Array.php',143],['question/engine','lib.php',774],['question/engine','lib.php',1011],['question/engine','lib.php',1059],['lib/jabber/XMPP','XMLObj.php',76],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/editor/atto','adminlib.php',109],['lib/pear/HTML/QuickForm/Renderer','Tableless.php',116],['grade/report/history/classes/output','tablelog.php',72],['lib/google/src/Google/IO','Curl.php',38],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',31],['lib/pear/HTML/QuickForm','hiddenselect.php',41],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['lib/adodb/drivers','adodb-mysqlpo.inc.php',35],['lib/adodb/drivers','adodb-mysqlpo.inc.php',82],['lib/adodb/drivers','adodb-mysqlpo.inc.php',119],['lib/google/src/Google/Service','Blogger.php',50],['backup/util/xml/output','file_xml_output.class.php',37],['lib/form','tags.php',75],['admin/tool/installaddon/classes','installer.php',219],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['lib/simplepie/library/SimplePie','IRI.php',252],['comment','locallib.php',39],['question/engine','states.php',61],['lib/spout/src/Spout/Reader/XLSX/Helper','CellValueFormatter.php',52],['lib/google/src/Google/Service','Dataflow.php',45],['mod/data','locallib.php',66],['mod/data','locallib.php',433],['lib/horde/framework/Horde','Variables.php',60],['backup/util/ui','base_ui.class.php',84],['lib/simplepie/library/SimplePie','Registry.php',99],['cache/locks/file','lib.php',66],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/filebrowser','file_info_stored.php',51],['tag/classes/output','tagcollname.php',42],['competency/classes','persistent.php',54],['admin/tool/lp/classes/output','competency_plan_navigation.php',54],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',146],['lib/pear/HTML/QuickForm','textarea.php',48],['lib/lessphp','Visitor.php',14],['lib/google/src/Google/Service','CloudUserAccounts.php',52],['question/classes/bank','column_base.php',44],['lib/minify/lib/MrClay','Cli.php',74],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',589],['lib','outputcomponents.php',665],['lib','outputcomponents.php',783],['lib','outputcomponents.php',925],['lib','outputcomponents.php',1009],['lib','outputcomponents.php',2183],['lib','outputcomponents.php',2222],['lib','outputcomponents.php',2295],['lib','outputcomponents.php',2376],['lib','outputcomponents.php',2579],['lib','outputcomponents.php',2627],['lib','outputcomponents.php',2687],['lib','outputcomponents.php',2860],['lib','outputcomponents.php',3030],['lib','outputcomponents.php',3134],['lib','outputcomponents.php',3201],['lib','outputcomponents.php',3329],['lib','outputcomponents.php',3613],['lib','outputcomponents.php',3642],['lib','outputcomponents.php',3668],['lib','outputcomponents.php',3690],['lib','outputcomponents.php',3719],['lib','outputcomponents.php',3751],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/phpexcel/PHPExcel','Cell.php',114],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['repository/wikimedia','wikimedia.php',35],['lib/phpexcel/PHPExcel/Style','Fill.php',81],['lib/google/src/Google/Service','Cloudresourcemanager.php',42],['lib/editor/tinymce/classes','plugin.php',49],['mod/wiki/parser/markups','html.php',21],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/horde/framework/Horde/Support','Inflector.php',115],['question/type/gapselect','question.php',55],['lib/google/src/Google','Config.php',33],['badges/criteria','award_criteria_activity.php',45],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['course/format/topics','renderer.php',38],['lib/adodb/drivers','adodb-oci8po.inc.php',33],['lib/adodb/drivers','adodb-oci8po.inc.php',99],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/filestorage','tgz_packer.php',749],['lib/filestorage','tgz_packer.php',831],['tag/classes','index_builder.php',96],['lib/pear/HTML/QuickForm','reset.php',37],['lib/classes/lock','lock.php',55],['admin/roles/classes','assign_user_selector_base.php',40],['backup/util/output','output_controller.class.php',44],['question/type/randomsamatch','question.php',114],['lib/google/src/Google/Service','Customsearch.php',38],['lib/lessphp/Tree','Extend.php',28],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',215],['lib/google/src/Google/Service','TagManager.php',67],['question/type/gapselect/tests','edit_form_test.php',41],['mod/lesson','locallib.php',2004],['mod/lesson','locallib.php',2611],['backup/util/helper','restore_structure_parser_processor.class.php',41],['course','renderer.php',52],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib','modinfolib.php',429],['lib','modinfolib.php',1665],['lib','modinfolib.php',2492],['lib','tablelib.php',128],['lib','tablelib.php',1468],['lib','tablelib.php',1633],['lib','tablelib.php',1698],['user/filters','cohort.php',36],['user/filters','text.php',37],['lib','outputrenderers.php',120],['lib','outputrenderers.php',285],['lib','outputrenderers.php',408],['lib','outputrenderers.php',4578],['lib','outputrenderers.php',4831],['repository','lib.php',116],['repository','lib.php',533],['lib','adminlib.php',791],['lib','adminlib.php',1138],['lib','adminlib.php',1212],['lib','adminlib.php',1355],['lib','adminlib.php',1556],['lib','adminlib.php',1928],['lib','adminlib.php',2040],['lib','adminlib.php',2106],['lib','adminlib.php',2199],['lib','adminlib.php',2260],['lib','adminlib.php',2302],['lib','adminlib.php',2341],['lib','adminlib.php',2429],['lib','adminlib.php',2463],['lib','adminlib.php',2621],['lib','adminlib.php',2706],['lib','adminlib.php',2935],['lib','adminlib.php',3091],['lib','adminlib.php',3233],['lib','adminlib.php',3324],['lib','adminlib.php',3488],['lib','adminlib.php',3571],['lib','adminlib.php',3682],['lib','adminlib.php',3833],['lib','adminlib.php',4067],['lib','adminlib.php',4134],['lib','adminlib.php',4352],['lib','adminlib.php',4381],['lib','adminlib.php',4410],['lib','adminlib.php',4434],['lib','adminlib.php',4464],['lib','adminlib.php',4500],['lib','adminlib.php',4535],['lib','adminlib.php',4567],['lib','adminlib.php',4657],['lib','adminlib.php',4690],['lib','adminlib.php',4748],['lib','adminlib.php',4790],['lib','adminlib.php',4814],['lib','adminlib.php',4840],['lib','adminlib.php',4863],['lib','adminlib.php',4880],['lib','adminlib.php',4925],['lib','adminlib.php',4943],['lib','adminlib.php',5002],['lib','adminlib.php',5045],['lib','adminlib.php',5080],['lib','adminlib.php',5123],['lib','adminlib.php',5206],['lib','adminlib.php',5336],['lib','adminlib.php',5378],['lib','adminlib.php',5423],['lib','adminlib.php',5480],['lib','adminlib.php',5496],['lib','adminlib.php',5552],['lib','adminlib.php',5777],['lib','adminlib.php',5831],['lib','adminlib.php',5885],['lib','adminlib.php',5902],['lib','adminlib.php',5950],['lib','adminlib.php',5992],['lib','adminlib.php',6043],['lib','adminlib.php',6099],['lib','adminlib.php',6328],['lib','adminlib.php',6508],['lib','adminlib.php',6688],['lib','adminlib.php',6782],['lib','adminlib.php',6931],['lib','adminlib.php',7088],['lib','adminlib.php',7712],['lib','adminlib.php',8147],['lib','adminlib.php',8330],['lib','adminlib.php',8617],['lib','adminlib.php',8764],['lib','adminlib.php',8924],['lib','adminlib.php',9071],['lib','adminlib.php',9235],['lib','adminlib.php',9428],['lib','adminlib.php',9482],['lib','adminlib.php',9544],['lib','adminlib.php',9589],['lib','adminlib.php',9626],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',81],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['question/type/numerical','questiontype.php',507],['auth/mnet','auth.php',35],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['auth/imap','auth.php',35],['tag/classes/output','taglist.php',54],['lib','pdflib.php',161],['lib/phpexcel/PHPExcel/RichText','TextElement.php',35],['lib/dml','database_column_info.php',112],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['mod/wiki/editors','wikieditor.php',36],['lib/lessphp/SourceMap','Base64VLQ.php',67],['repository/s3','lib.php',44],['admin/tool/uploadcourse/classes','course.php',111],['lib/google/src/Google/Service','Replicapoolupdater.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',102],['mod/feedback/item','feedback_item_class.php',28],['lib/adodb/drivers','adodb-mssql_n.inc.php',245],['lib','badgeslib.php',133],['lib/pear/HTML/QuickForm','text.php',38],['lib/simplepie/library/SimplePie','Enclosure.php',219],['calendar/classes','rrule_manager.php',182],['auth/webservice','auth.php',35],['lib','outputrequirementslib.php',171],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib','questionlib.php',1261],['lib','questionlib.php',1505],['lib','uploadlib.php',40],['lib/spout/src/Spout/Writer/Common/Helper','ZipHelper.php',28],['lib/google/src/Google/Service','Cloudsearch.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/spout/src/Spout/Writer/Common','Sheet.php',39],['question/behaviour','behaviourbase.php',50],['blocks/rss_client/classes/output','footer.php',47],['lib/dtl','file_xml_database_importer.php',34],['admin/roles/classes','capability_table_with_risks.php',45],['lib/adodb/drivers','adodb-mssql.inc.php',110],['lib/adodb/drivers','adodb-mssql.inc.php',870],['lib/adodb/drivers','adodb-mssql.inc.php',1077],['lib/google/src/Google/Service','Bigquery.php',62],['lib/google/src/Google/Service','ShoppingContent.php',50],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['repository/equella','lib.php',42],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',199],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['cache/classes','helper.php',90],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/classes','chart_series.php',62],['lib/classes/dml','recordset_walk.php',64],['lib/google/src/Google/Service','Webmasters.php',47],['lib/tcpdf/include/barcodes','qrcode.php',631],['backup/moodle2','backup_settingslib.php',42],['backup/moodle2','backup_settingslib.php',138],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',40],['course/tests/fixtures','course_capability_assignment.php',60],['mod/forum/classes','subscriber_selector_base.php',53],['lib','blocklib.php',54],['lib','blocklib.php',152],['report/loglive/classes','table_log.php',50],['lib','navigationlib.php',147],['lib','navigationlib.php',1015],['lib','navigationlib.php',2825],['lib','navigationlib.php',3086],['lib','navigationlib.php',3412],['lib','navigationlib.php',3459],['lib','navigationlib.php',4888],['lib','navigationlib.php',5070],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',41],['grade/report/history/classes/output','user_button.php',40],['user/filters','courserole.php',34],['lib/phpexcel/PHPExcel','IOFactory.php',69],['lib/lessphp/Tree','Color.php',15],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',70],['lib/adodb/drivers','adodb-vfp.inc.php',72],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/google/src/Google/Service','Clouddebugger.php',50],['lib/horde/framework/Horde/Exception','NotFound.php',15],['admin/tool/lp/classes/output','user_competency_course_navigation.php',55],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib','mathslib.php',45],['lib/filestorage','tgz_extractor.php',119],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['filter/emoticon/tests','filter_test.php',68],['mnet/xmlrpc','xmlparser.php',15],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',31],['admin/roles/classes','capability_table_base.php',51],['lib/simplepie/library/SimplePie','Item.php',82],['lib/form','selectgroups.php',57],['auth/shibboleth','auth.php',38],['admin/tool/langimport/classes','controller.php',48],['lib/form','warning.php',49],['lib/filestorage','stored_file.php',63],['grade/grading/form/guide','guideeditor.php',49],['lib/pear/HTML/QuickForm','group.php',80],['backup/moodle2','restore_subplugin.class.php',45],['grade/export','lib.php',60],['grade/export','lib.php',625],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',98],['backup/moodle2','backup_section_task.class.php',40],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib','flickrlib.php',53],['mod/assign/classes/output','grading_app.php',59],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['user/profile/field/menu','field.class.php',39],['lib/spout/src/Spout/Writer/Common/Internal','AbstractWorkbook.php',30],['lib/portfolio','exporter.php',113],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/horde/framework/Horde','Secret.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/classes/update','info.php',48],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/lessphp/Tree','Anonymous.php',21],['admin/tool/lp/classes','course_competencies_form_element.php',43],['lib/lessphp/Tree','Comment.php',17],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/adodb/drivers','adodb-mysql.inc.php',54],['lib/adodb/drivers','adodb-mysql.inc.php',717],['lib/adodb/drivers','adodb-mysql.inc.php',880],['enrol/ldap','lib.php',43],['mod/quiz/report/statistics','statistics_table.php',45],['lib/form','listing.php',68],['lib/google/src/Google/Service','Container.php',43],['mod/quiz','accessmanager.php',45],['lib/classes/message/inbound','processing_failed_exception.php',36],['blocks/online_users/classes','fetcher.php',45],['lib/pear/HTML/QuickForm','checkbox.php',48],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['lib/classes','chart_axis.php',65],['mod/glossary/classes','entry_query_builder.php',83],['mod/feedback/item/label','lib.php',26],['lib/adodb/drivers','adodb-mssqlnative.inc.php',131],['lib/adodb/drivers','adodb-mssqlnative.inc.php',847],['lib/adodb/drivers','adodb-mssqlnative.inc.php',1099],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['lib/form','editor.php',62],['lib','environmentlib.php',1258],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['mod/feedback/classes','templates_table.php',39],['tag/classes','manage_table.php',44],['lib/adodb/drivers','adodb-odbc_db2.inc.php',115],['lib/adodb/drivers','adodb-odbc_db2.inc.php',309],['backup/cc/cc_lib/gral_lib','cssparser.php',21],['lib/horde/framework/Horde/Support','Array.php',21],['lib/google/src/Google/Service','GroupsMigration.php',40],['admin/tool/lp/classes/output','user_evidence_list_page.php',61],['lib/google/src/Google/Service','Audit.php',39],['lib/simplepie/library/SimplePie','File.php',68],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['enrol/lti/classes','manage_table.php',62],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['question/type/ddimageortext','question.php',64],['question/type/ddimageortext','question.php',122],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',456],['lib/minify/lib','CSSmin.php',43],['lib/dml','moodle_temptables.php',51],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['blocks/rss_client/classes/output','block.php',47],['question/type/ddmarker','question.php',417],['question/type/ddmarker','question.php',469],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',51],['backup/util/helper','convert_helper.class.php',378],['lib/classes/update','validator.php',265],['lib/lessphp/Tree','Attribute.php',16],['admin/tool/generator/classes','backend.php',84],['backup/util/loggers','file_logger.class.php',35],['lib/adodb','adodb-exceptions.inc.php',30],['lib/google/src/Google','Client.php',70],['user/filters','profilefield.php',36],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['cache/tests/fixtures','lib.php',326],['mod/lti/service/profile/classes/local/resource','profile.php',43],['competency/classes','invalid_persistent_exception.php',38],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',63],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/dml','moodle_database.php',139],['search/classes','base.php',69],['admin/tool/lp/classes/output','competency_summary.php',54],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['mod/workshop/form/rubric','lib.php',105],['grade','lib.php',103],['grade','lib.php',927],['grade','lib.php',1089],['grade','lib.php',2053],['grade','lib.php',2213],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',35],['lib/google/src/Google/Service','Datastore.php',46],['admin/tool/lpmigrate/classes','framework_processor.php',98],['lib/dtl','database_importer.php',61],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['badges/lib','awardlib.php',55],['backup/util/helper','backup_array_iterator.class.php',39],['admin/tool/monitor/classes','subscription.php',43],['question/type/calculated','edit_calculated_form.php',51],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','FileBasedStrategy.php',57],['lib/form','datetimeselector.php',72],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['lib/classes','collator.php',58],['admin/tool/lp/classes','course_competency_statistics.php',48],['lib/google/src/Google/Service','Storage.php',57],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',28],['lib/lessphp/Tree','Paren.php',14],['mod/lti/classes','service_exception_handler.php',63],['lib/tcpdf/include/barcodes','pdf417.php',523],['mod/assign/feedback/offline','importgradeslib.php',66],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['question/engine/upgrade','upgradelib.php',283],['question/engine/upgrade','upgradelib.php',384],['question/type/numerical','question.php',323],['lib/pear/PEAR','Exception.php',107],['course/format','renderer.php',44],['lib/dml','oci_native_moodle_recordset.php',34],['question/behaviour','behaviourtypebase.php',133],['lib/pear/HTML','QuickForm.php',246],['lib/pear/HTML','QuickForm.php',1979],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['lib/google/src/Google/Auth','LoginTicket.php',37],['lib/adodb/drivers','adodb-csv.inc.php',41],['lib/adodb/drivers','adodb-csv.inc.php',196],['user/filters','yesno.php',33],['mod/wiki/parser','parser.php',98],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',87],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['admin/tool/lpmigrate/classes/form','migrate_framework.php',45],['backup/util/xml/parser/tests','parser_test.php',797],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['lib/tests','medialib_test.php',644],['lib/google/src/Google/Service','QPXExpress.php',39],['tag/classes/output','tagname.php',41],['lib/mustache/src/Mustache','Context.php',20],['lib/adodb/drivers','adodb-oracle.inc.php',32],['lib/adodb/drivers','adodb-oracle.inc.php',224],['backup/moodle2','restore_section_task.class.php',42],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['mod/forum/classes/output','forum_post.php',110],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['repository/googledocs','lib.php',65],['cache/stores/memcache','lib.php',120],['lib/filestorage','file_storage.php',78],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['lib/form','duration.php',55],['lib','outputlib.php',480],['lib','outputlib.php',2038],['filter/tex','latex.php',13],['backup/moodle2','backup_course_task.class.php',39],['lib/adodb','adodb.inc.php',310],['lib/adodb','adodb.inc.php',3035],['lib/adodb','adodb.inc.php',3160],['lib/adodb','adodb.inc.php',3242],['lib/adodb','adodb.inc.php',4353],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/google/src/Google/Logger','File.php',51],['admin/roles/classes','allow_role_page.php',37],['mod/quiz/report/overview','overview_table.php',41],['lib/lessphp/Tree','Keyword.php',17],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['question/type/ddmarker','questiontype.php',48],['mod/folder','renderer.php',159],['lib','portfoliolib.php',101],['tag/classes/output','tagcollsearchable.php',40],['webservice/soap/classes','wsdl.php',88],['lib/lessphp/Exception','Parser.php',30],['badges','renderer.php',973],['badges','renderer.php',1014],['badges','renderer.php',1078],['badges','renderer.php',1111],['badges','renderer.php',1137],['competency/classes/external','exporter.php',56],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['lib/google/src/Google/Service','Genomics.php',63],['lib/phpexcel/PHPExcel/Writer','PDF.php',38],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',125],['lib/google/src/Google/Service','Games.php',60],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',141],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/google/src/Google/Service','Licensing.php',40],['mod/workshop/form/comments','lib.php',99],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['lib/google/src/Google/Service','Fitness.php',58],['blocks/private_files','renderer.php',83],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',51],['enrol/flatfile','adminlib.php',35],['lib/xmldb','xmldb_object.php',55],['lib/google/src/Google/Service','Reports.php',47],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['auth/pam','auth.php',53],['lib/horde/framework/Horde','Stream.php',50],['comment','lib.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',53],['lib/google/src/Google/Service','Gmail.php',64],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/horde/framework/Horde/Mime','Related.php',32],['blocks','moodleblock.class.php',111],['lib/tcpdf','tcpdf_parser.php',92],['backup/util/plan','restore_structure_step.class.php',46],['blocks/rss_client/classes/output','channel_image.php',61],['lib/pear/HTML/QuickForm','hierselect.php',105],['question/type/numerical/tests','form_test.php',40],['badges/lib','backpacklib.php',40],['mod/workshop/allocation/manual','lib.php',51],['mod/quiz/report/responses','last_responses_table.php',39],['lib/simplepie','autoloader.php',62],['lib/spout/src/Spout/Common/Helper','StringHelper.php',21],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',121],['lib/pear/Crypt','CHAP.php',82],['lib/pear/Crypt','CHAP.php',170],['lib/pear/Crypt','CHAP.php',424],['lib/spout/src/Spout/Writer/Common/Helper','AbstractStyleHelper.php',22],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',63],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',77],['lib/simplepie/library/SimplePie','gzdecode.php',186],['mod/wiki','renderer.php',540],['lib/adodb','adodb-active-recordx.inc.php',138],['availability/classes','result.php',46],['lib','accesslib.php',5352],['lib','accesslib.php',5897],['lib','accesslib.php',6167],['lib','accesslib.php',6408],['lib','accesslib.php',6595],['lib','accesslib.php',6827],['lib','accesslib.php',7049],['lib','accesslib.php',7291],['lib/phpexcel/PHPExcel/Shared/OLE','PPS.php',110],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['auth/manual','auth.php',46],['question/engine/upgrade','behaviourconverters.php',78],['mod/wiki/diff','diff_nwiki.php',35],['mod/wiki/diff','diff_nwiki.php',50],['mod/wiki/diff','diff_nwiki.php',63],['mod/wiki/diff','diff_nwiki.php',76],['mod/wiki/diff','diff_nwiki.php',495],['mod/wiki/diff','diff_nwiki.php',640],['mod/wiki/diff','diff_nwiki.php',850],['mod/wiki/diff','diff_nwiki.php',901],['mod/wiki/diff','diff_nwiki.php',953],['lib/adodb/drivers','adodb-proxy.inc.php',28],['lib/classes/lock','file_lock_factory.php',57],['lib/google/src/Google/Auth','OAuth2.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['lib/filebrowser','file_info_context_module.php',47],['auth/none','auth.php',34],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/horde/framework/Horde/Text','Flowed.php',75],['admin/tool/log/store/legacy/classes/log','store.php',33],['lib/mustache/src/Mustache','HelperCollection.php',19],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['admin/tool/lp/classes/output','related_competencies.php',47],['mod/quiz/classes/question/bank','custom_view.php',44],['files','renderer.php',1083],['lib/form','text.php',47],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',398],['backup/cc','cc112moodle.php',59],['admin/tool/cohortroles/classes/output','cohort_role_assignments_table.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/google/src/Google/Service','Logging.php',39],['lib/lessphp/Tree','Expression.php',16],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/phpexcel/PHPExcel/Reader','HTML.php',118],['search/engine/solr/classes','schema.php',60],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['lib/adodb/drivers','adodb-ado5.inc.php',42],['lib/adodb/drivers','adodb-ado5.inc.php',380],['mod/assign/feedback/editpdf/classes','comment.php',58],['cache/classes','interfaces.php',473],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['repository/merlot','lib.php',37],['lib/adodb/drivers','adodb-firebird.inc.php',69],['backup/util/settings','backup_setting.class.php',43],['lib/adodb/drivers','adodb-fbsql.inc.php',28],['lib/adodb/drivers','adodb-fbsql.inc.php',167],['mnet/xmlrpc','serverlib.php',674],['webservice/soap','lib.php',45],['admin/tool/log/store/database/classes/log','store.php',47],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/form','passwordunmask.php',46],['lib/lessphp/Tree','Variable.php',20],['report/log/classes','renderable.php',96],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['question/classes/bank','view.php',70],['grade/report/singleview/classes/local/ui','range.php',38],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['admin/roles/classes','define_role_table_basic.php',31],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['blocks/rss_client','editfeed.php',36],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',55],['blocks/lp/classes/output','competencies_to_review_page.php',49],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',187],['mod/assign/feedback/file','renderable.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/adodb/drivers','adodb-db2.inc.php',66],['lib/adodb/drivers','adodb-db2.inc.php',731],['lib/adodb','adodb-xmlschema03.inc.php',136],['lib/adodb','adodb-xmlschema03.inc.php',270],['lib/adodb','adodb-xmlschema03.inc.php',678],['lib/adodb','adodb-xmlschema03.inc.php',823],['lib/adodb','adodb-xmlschema03.inc.php',1081],['lib/adodb','adodb-xmlschema03.inc.php',1399],['repository/youtube','lib.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',38],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/adodb/drivers','adodb-sybase_ase.inc.php',25],['lib/adodb/drivers','adodb-sybase_ase.inc.php',115],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/adodb','adodb-memcache.lib.inc.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',118],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',117],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['lib/spout/src/Spout/Common/Helper','FileSystemHelper.php',22],['lib/pear/HTML/QuickForm','button.php',37],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/mustache/src/Mustache','Engine.php',63],['lib/google/src/Google/Http','MediaFileUpload.php',75],['lib/phpexcel/PHPExcel','Worksheet.php',327],['mod/assign','gradingtable.php',68],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1196],['repository/webdav','lib.php',38],['tag/classes/output','tagisstandard.php',39],['lib/google/src/Google/Service','Appsactivity.php',52],['badges/criteria','award_criteria_course.php',47],['lib','searchlib.php',53],['lib','searchlib.php',95],['lib/lessphp/Output','Mapped.php',39],['availability/classes','tree.php',118],['lib/lessphp/Tree','Javascript.php',20],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/mustache/src/Mustache/Loader','InlineLoader.php',56],['repository/url','lib.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',293],['lib/lessphp/Tree','Ruleset.php',45],['tag/classes/output','tagindex.php',52],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/google/src/Google/Service','Prediction.php',51],['lib/classes/output','notification.php',101],['lib/lessphp/Tree','Unit.php',16],['backup/util/settings/course','course_backup_setting.class.php',25],['lib/spout/src/Spout/Writer','AbstractWriter.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib','dtllib.php',66],['mod/assign','assignmentplugin.php',50],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['backup/cc/cc_lib','cc_version11.php',57],['availability/condition/completion/classes','condition.php',48],['admin/roles/classes','allow_override_page.php',31],['mod/workshop/allocation','lib.php',103],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',23],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/phpexcel/PHPExcel/Calculation','Function.php',64],['availability/classes','capability_checker.php',49],['lib/google/src/Google/Service','Drive.php',76],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',56],['lib','setuplib.php',67],['lib','setuplib.php',113],['lib','setuplib.php',165],['lib','setuplib.php',184],['lib','setuplib.php',199],['lib','setuplib.php',219],['lib','setuplib.php',249],['lib','setuplib.php',271],['lib','setuplib.php',287],['lib','setuplib.php',309],['lib','setuplib.php',328],['lib','setuplib.php',346],['lib/form','textarea.php',50],['webservice/soap','locallib.php',57],['availability/classes','info.php',55],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/spout/src/Spout/Reader/XLSX/Helper','SheetHelper.php',49],['filter/urltolink/tests','filter_test.php',209],['lib/simplepie/library/SimplePie','Category.php',81],['admin/tool/lp/classes/output','manage_competencies_page.php',65],['lib/markdown','Markdown.php',99],['mod/assign','locallib.php',160],['mod/assign','locallib.php',8131],['lib/adodb/drivers','adodb-ldap.inc.php',48],['lib/adodb/drivers','adodb-ldap.inc.php',297],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',32],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',373],['lib','odslib.class.php',42],['lib','odslib.class.php',124],['lib','odslib.class.php',422],['lib','odslib.class.php',827],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',36],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/lessphp/Tree','Quoted.php',20],['mod/lesson','mod_form.php',36],['blocks/rss_client/classes/output','item.php',89],['lib/google/src/Google/Service','IdentityToolkit.php',38],['lib/horde/framework/Horde/Stream','Temp.php',25],['tag/classes/output','tagflag.php',39],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['lib/behat/form_field','behat_form_field.php',59],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',93],['lib/spout/src/Spout/Reader/ODS/Helper','CellValueFormatter.php',42],['tag/classes','collections_table.php',36],['lib/google/src/Google/Service','Spectrum.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['admin/tool/lp/classes/output','user_competency_summary.php',49],['lib/phpexcel/PHPExcel','NamedRange.php',65],['lib/pear/HTML/QuickForm','image.php',36],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['lib/form','searchableselector.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',52],['lib/adodb/drivers','adodb-oci805.inc.php',51],['lib/google/src/Google','Service.php',28],['lib/google/src/Google/IO','Abstract.php',50],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',46],['lib/form','header.php',45],['question/type/randomsamatch/tests','helper.php',121],['mod/workshop/form/accumulative','lib.php',99],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',89],['lib/form','submit.php',41],['report/log/classes','table_log.php',45],['admin/roles/classes','admins_potential_selector.php',30],['question/classes/engine/variants','least_used_strategy.php',51],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['mod/data','lib.php',68],['mod/data','lib.php',2278],['mod/data','lib.php',2552],['mod/data','lib.php',2573],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['mod/scorm','renderer.php',129],['lib/phpunit/classes','advanced_testcase.php',45],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',41],['backup/cc/cc_lib','cc_version1.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['tag/classes','areas_table.php',36],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',125],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/google/src/Google/Service','Proximitybeacon.php',42],['lib/pear','PEAR.php',139],['lib/pear','PEAR.php',818],['competency/classes/external','persistent_exporter.php',42],['lib/google/src/Google/Service','Groupssettings.php',40],['lib/phpexcel/PHPExcel/Reader','CSV.php',87],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/google/src/Google/Service','Directory.php',134],['lib/google/src/Google/Service','Fusiontables.php',48],['question/type/missingtype','edit_missingtype_form.php',38],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/lessphp/Tree','Directive.php',20],['auth/ldap','auth.php',119],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',245],['availability/condition/date/classes','condition.php',52],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes','string_manager_standard.php',53],['repository/skydrive','microsoftliveapi.php',50],['user/filters','globalrole.php',35],['enrol/lti/ims-blti','OAuth.php',16],['enrol/lti/ims-blti','OAuth.php',32],['enrol/lti/ims-blti','OAuth.php',187],['enrol/lti/ims-blti','OAuth.php',451],['course/classes/output','course_module_name.php',46],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Mime','Mdn.php',35],['lib/pear/HTML/QuickForm','html.php',36],['repository/s3','S3.php',193],['repository/s3','S3.php',2018],['repository/s3','S3.php',2374],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',39],['question/classes/bank/search','hidden_condition.php',42],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/pear/HTML/QuickForm','element.php',73],['question/classes/statistics/responses','analysis_for_subpart.php',50],['admin/tool/log/classes','setting_managestores.php',30],['lib/google/src/Google/Service','Mirror.php',49],['lib/adodb/drivers','adodb-db2ora.inc.php',80],['lib/minify/lib/HTTP','Encoder.php',75],['mod/feedback/classes','completion.php',47],['admin/tool/uploadcourse/classes','processor.php',122],['lib/lessphp','Parser.php',78],['lib/adodb/drivers','adodb-sapdb.inc.php',36],['lib/adodb/drivers','adodb-sapdb.inc.php',179],['lib/ddl','sql_generator.php',175],['lib/google/src/Google/Service','AndroidEnterprise.php',51],['admin/tool/lp/classes/output','template_competencies_page.php',70],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['mod/assignment/backup/moodle1','lib.php',223],['blocks','edit_form.php',47],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['mod/quiz/report/statistics','statistics_question_table.php',49],['mod/workshop/form/numerrors','lib.php',102],['mod/quiz/classes','repaginate.php',49],['lib/classes/session','memcached.php',51],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',43],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',206],['mod/workshop','mod_form.php',43],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',48],['availability/condition/profile/classes','condition.php',73],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['auth/cas/CAS/CAS','Client.php',862],['lib/xhprof','xhprof_moodle.php',788],['lib/dtl','file_xml_database_exporter.php',36],['course','lib.php',3061],['lib/adodb/drivers','adodb-mssqlpo.inc.php',54],['lib/xmldb','xmldb_table.php',49],['lib/adodb/perf','perf-postgres.inc.php',92],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['question/type/ddmarker','shapes.php',40],['question/type/ddmarker','shapes.php',203],['question/type/ddmarker','shapes.php',267],['question/type/ddmarker','shapes.php',332],['question/type/ddmarker','shapes.php',470],['mod/lti/classes/local/ltiservice','response.php',58],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/pear/HTML','Common.php',79],['mod/glossary','locallib.php',481],['lib/adodb/perf','perf-mssqlnative.inc.php',70],['lib/adodb/perf','perf-mssql.inc.php',70],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['lib/classes/event','base.php',124],['lib/form','checkbox.php',46],['admin/roles/classes','permissions_table.php',38],['lib/pear/HTML/QuickForm','submit.php',37],['auth/fc','auth.php',37],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/minify/lib/Minify/Cache','Memcache.php',22],['lib/lessphp/Tree','Condition.php',18],['admin/tool/lp/classes/output','plans_page.php',59],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',52],['lib/phpexcel/PHPExcel','Comment.php',93],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/lessphp/Tree','Url.php',17],['mod/lesson','override_form.php',58],['lib/form','button.php',45],['admin/tool/lp/classes/output','manage_templates_page.php',56],['lib/google/src/Google/Service','Playmoviespartner.php',44],['backup/util/ui','base_ui_stage.class.php',67],['backup/cc/cc_lib','cc_converters.php',75],['lib/dtl','database_mover.php',33],['enrol','locallib.php',125],['enrol','locallib.php',1256],['enrol','locallib.php',1379],['enrol','locallib.php',1430],['enrol','locallib.php',1463],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['backup/moodle2','restore_course_task.class.php',41],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib','xmlize.php',31],['lib','googleapi.php',52],['lib','googleapi.php',243],['grade/report/singleview/classes/local/ui','element.php',47],['lib/html2text','lib.php',43],['user/filters','lib.php',52],['user/filters','lib.php',272],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/classes/lock','db_record_lock_factory.php',61],['lib/pear/HTML/QuickForm','link.php',47],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['lib/phpunit/classes','hint_resultprinter.php',37],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['auth/pop3','auth.php',35],['lib/adodb/drivers','adodb-oci8.inc.php',106],['lib/adodb/drivers','adodb-oci8.inc.php',1539],['lib/adodb/drivers','adodb-oci8.inc.php',1805],['lib/classes/session','database.php',52],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['question/classes/bank/search','category_condition.php',60],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',63],['lib/jabber/XMPP','Log.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/lessphp/Tree','Assignment.php',15],['lib/dtl','string_xml_database_importer.php',34],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',62],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['repository/recent','lib.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['admin/webservice','lib.php',38],['lib','coursecatlib.php',194],['lib','coursecatlib.php',2782],['lib/google/src/Google/Service','Cloudtrace.php',43],['lib','filterlib.php',73],['lib','filterlib.php',377],['lib','filterlib.php',456],['lib/classes/lock','lock_factory.php',39],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['enrol','renderer.php',426],['enrol','renderer.php',723],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['admin/tool/lp/classes','course_competency_rule_form_element.php',45],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/phpunit/classes','basic_testcase.php',39],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',49],['backup/util/dbops','backup_dbops.class.php',37],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/structure','backup_optigroup_element.class.php',51],['mod/quiz/report/grading','gradingsettings_form.php',44],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/form','hidden.php',44],['repository/filesystem','lib.php',48],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',409],['backup/util/helper','restore_log_rule.class.php',62],['tag/classes','tag.php',77],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/spout/src/Spout/Writer/Style','StyleBuilder.php',19],['lib/dml','sqlsrv_native_moodle_database.php',53],['user/filters','date.php',40],['auth/nologin','auth.php',35],['lib/google/src/Google','Model.php',35],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/adodb/drivers','adodb-mysqli.inc.php',66],['lib/adodb/drivers','adodb-mysqli.inc.php',887],['lib/adodb/drivers','adodb-mysqli.inc.php',1193],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/form','questioncategory.php',46],['lib/mustache/src/Mustache','Template.php',29],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/google/src/Google/Logger','Abstract.php',123],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel','ReferenceHelper.php',58],['lib/pear/HTML/QuickForm','password.php',37],['lib/dml','moodle_transaction.php',40],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['repository/flickr','lib.php',51],['lib/form','grading.php',57],['lib/classes/update','api.php',71],['backup/cc/cc_lib','cc_converter_lti.php',29],['backup/moodle2','backup_subplugin.class.php',44],['lib/portfolio','caller.php',67],['lib/classes/progress','display_if_slow.php',60],['lib/adodb/perf','perf-informix.inc.php',66],['lib/classes','chart_base.php',52],['lib/lessphp/Tree','Media.php',18],['lib/spout/src/Spout/Common/Escaper','XLSX.php',19],['grade/export/ods','grade_export_ods.php',24],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/google/src/Google/Service','Calendar.php',50],['lib/form','group.php',44],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',44],['lib/pear/HTML/QuickForm/Renderer','Object.php',75],['admin/tool/lp/classes/output','user_evidence_page.php',48],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['grade/export/xls','grade_export_xls.php',24],['lib/classes/output','mustache_pix_helper.php',43],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/google/src/Google/Auth','ComputeEngine.php',35],['cache/stores/session','lib.php',131],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['admin/tool/log/store/database/backup/moodle2','backup_logstore_database_nested_element.php',43],['user','renderer.php',220],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['availability/condition/grade/classes','condition.php',46],['lib/lessphp/Tree','RulesetCall.php',14],['blocks/rss_client/classes/output','feed.php',75],['lib/form','select.php',47],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/lessphp/Visitor','toCSS.php',13],['lib','outputfragmentrequirementslib.php',40],['backup/util/ui','restore_moodleform.class.php',34],['lib/google/src/Google/Service','Cloudbilling.php',43],['lib/google/src/Google/Service','PlusDomains.php',72],['lib','externallib.php',37],['lib','externallib.php',531],['lib','externallib.php',562],['lib','externallib.php',593],['lib','externallib.php',622],['lib','externallib.php',648],['lib','externallib.php',778],['lib','externallib.php',813],['lib','externallib.php',984],['lib','externallib.php',1177],['blog','locallib.php',71],['blog','locallib.php',564],['blog','locallib.php',847],['blog','locallib.php',892],['blog','locallib.php',965],['blog','locallib.php',1016],['blog','locallib.php',1041],['blog','locallib.php',1051],['blog','locallib.php',1063],['blog','locallib.php',1084],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',53],['auth/cas','auth.php',39],['lib','lexer.php',41],['lib','lexer.php',145],['lib','lexer.php',217],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/google/src/Google/Service','Exception.php',34],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['tag/classes/output','tagcloud.php',49],['lib/google/src/Google/Service','Storagetransfer.php',44],['user/filters','select.php',46],['cache/stores/mongodb','lib.php',116],['admin/tool/lp/classes/output','course_competencies_page.php',73],['lib/google/src/Google/Cache','Null.php',28],['lib','graphlib.php',1176],['lib/phpexcel/PHPExcel/Style','Protection.php',49],['lib/google/src/Google/Service','GamesConfiguration.php',42],['repository/dropbox','locallib.php',46],['lib/phpexcel/PHPExcel/Style','Alignment.php',100],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['cache/stores/file','lib.php',117],['tag/classes/output','tagareashowstandard.php',41],['question/type/multianswer','edit_multianswer_form.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',395],['mod/assign','renderable.php',531],['mod/assign','renderable.php',586],['mod/assign','renderable.php',670],['mod/assign','renderable.php',707],['mod/assign','renderable.php',747],['mod/assign','renderable.php',800],['mod/assign','renderable.php',854],['lib/form','selectwithlink.php',56],['backup/moodle2','backup_activity_task.class.php',45],['lib/phpmailer','class.phpmailer.php',633],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['auth/db','auth.php',36],['lib/lessphp/Tree','Value.php',14],['lib/form','course.php',62],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['cohort','locallib.php',37],['cohort','locallib.php',101],['badges/criteria','award_criteria.php',127],['lib/adodb/perf','perf-mysql.inc.php',86],['cache/stores/memcached','lib.php',133],['grade/report/singleview/classes/local/ui','empty_element.php',38],['lib/google/src/Google/Service','AppState.php',40],['lib/adodb/drivers','adodb-odbc_oracle.inc.php',107],['lib/pear/HTML/QuickForm/Renderer','Default.php',139],['tag/classes/output','tag.php',46],['question','previewlib.php',122],['backup/util/loggers','database_logger.class.php',40],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/phpexcel/PHPExcel/Reader','SYLK.php',67],['lib/form','submitlink.php',47],['backup/util/dbops','restore_dbops.class.php',1788],['lib/xmldb','xmldb_index.php',56],['question','category_class.php',58],['question','category_class.php',160],['lib/google/src/Google/Service','Webfonts.php',38],['webservice/xmlrpc','locallib.php',41],['admin/roles/classes','check_users_selector.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['user/profile/field/checkbox','field.class.php',33],['lib/form','cancel.php',47],['lib/google/src/Google/Service','Resourceviews.php',57],['lib/phpexcel/PHPExcel/Style','Font.php',100],['lib/portfolio','plugin.php',445],['calendar','lib.php',2003],['calendar','lib.php',2774],['mod/wiki','pagelib.php',93],['mod/wiki','pagelib.php',380],['mod/wiki','pagelib.php',981],['mod/wiki','pagelib.php',1190],['mod/wiki','pagelib.php',2194],['mod/wiki','pagelib.php',2422],['tag/classes/output','tagfeed.php',43],['tag/classes/output','tagareaenabled.php',38],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['mod/workshop','locallib.php',183],['mod/workshop','locallib.php',2976],['mod/workshop','locallib.php',3411],['mod/workshop','locallib.php',3647],['mod/workshop','locallib.php',3889],['mod/workshop','locallib.php',3975],['mod/workshop','locallib.php',4060],['mod/workshop','locallib.php',4079],['lib/form','advcheckbox.php',48],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['cohort/classes/output','cohortidnumber.php',37],['lib/adodb/drivers','adodb-ado.inc.php',42],['lib/adodb/drivers','adodb-ado.inc.php',346],['lib/form','filepicker.php',53],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/tests/fixtures','test_renderer_factory.php',41],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['grade/report/singleview','lib.php',69],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/google/src/Google/Logger','Psr.php',39],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['lib/lessphp/Tree','Import.php',30],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',37],['lib/google/src/Google/Service','Classroom.php',60],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',875],['admin/tool/lp/classes/external','competency_path_exporter.php',38],['cohort/classes/output','cohortname.php',37],['grade/report/overview','lib.php',76],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpunit/classes','arraydataset.php',45],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1532],['question/engine','questionattempt.php',1618],['question/engine','questionattempt.php',1703],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['webservice/rest','lib.php',47],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',79],['backup/util/xml/output','memory_xml_output.class.php',37],['repository/flickr_public','image.php',34],['mod/lti/classes/local/ltiservice','resource_base.php',62],['admin/tool/lp/classes/output','template_plans_table.php',53],['mod/quiz','mod_form.php',48],['lib/simplepie/library/SimplePie','Caption.php',98],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',30],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['backup/moodle2','backup_theme_plugin.class.php',61],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/phpexcel/PHPExcel','DocumentSecurity.php',65],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',45],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',49],['lib/lessphp/Tree','Operation.php',19],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',461],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1699],['backup/cc/cc_lib','cc_converter_folder.php',28],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/google/src/Google/Service','SQLAdmin.php',50],['lib/lessphp/Tree','DetachedRuleset.php',15],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['mod/quiz','override_form.php',58],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',97],['lib/adodb/perf','perf-db2.inc.php',61],['lib/phpexcel/PHPExcel/Style','Supervisor.php',44],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['lib/ddl','database_manager.php',48],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['admin/roles/classes','define_role_table_advanced.php',46],['lib/dml','oci_native_moodle_temptables.php',40],['lib/horde/framework/Horde/Stream','Existing.php',28],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['availability/classes','multiple_messages.php',56],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/pear/Net','GeoIP.php',323],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/form','modgrade.php',78],['admin/tool/log/store/database/backup/moodle2','restore_logstore_database_subplugin.class.php',40],['cache/classes','config.php',80],['lib/pear/HTML/QuickForm','hidden.php',37],['question/type/calculated','datasetitems_form.php',72],['lib/tests','navigationlib_test.php',554],['lib/tests','navigationlib_test.php',612],['lib/tests','navigationlib_test.php',639],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/tests','completionlib_test.php',882],['admin/tool/generator/classes','site_backend.php',58],['lib/jabber/XMPP','XMLStream.php',171],['lib/simplepie/library/SimplePie','Sanitize.php',75],['cache/classes','factory.php',149],['lib/minify/lib/Minify/Cache','WinCache.php',20],['user/classes/output/myprofile','node.php',82],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/adodb/drivers','adodb-borland_ibase.inc.php',83],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',44],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',262],['lib/classes/update','code_manager.php',57],['search/engine/solr/classes','engine.php',103],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/google/src/Google/Service','Compute.php',89],['lib/phpexcel/PHPExcel/Style','Borders.php',113],['lib','completionlib.php',243],['lib/google/src/Google/Service','Pubsub.php',44],['lib/adodb/drivers','adodb-ads.inc.php',69],['lib/adodb/drivers','adodb-ads.inc.php',657],['lib/markdown','MarkdownExtra.php',56],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/google/src/Google/Service','YouTube.php',75],['lib/lessphp','Functions.php',15],['auth/cas/CAS/CAS','AuthenticationException.php',53],['mod/quiz','locallib.php',1923],['competency/classes/external','stored_file_exporter.php',45],['user/filters','checkbox.php',51],['backup/moodle2','restore_settingslib.php',86],['backup/moodle2','restore_settingslib.php',149],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/pear/HTML/QuickForm','date.php',260],['lib/lessphp/SourceMap','Generator.php',82],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['mod/lti/service/memberships/classes/local/service','memberships.php',50],['lib/google/src/Google/Cache','Apc.php',37],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['lib/pear/Auth','RADIUS.php',120],['lib/pear/Auth','RADIUS.php',579],['lib/pear/Auth','RADIUS.php',672],['lib/pear/Auth','RADIUS.php',879],['lib/adodb/drivers','adodb-ado_access.inc.php',46],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',519],['lib/google/src/Google/Http','Request.php',58],['lib/google/src/Google/Service','Dfareporting.php',99],['lib/google/src/Google/Service','Manager.php',60],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/google/src/Google/Service','CloudMonitoring.php',45],['lib/editor/tinymce/plugins/spellchecker/classes','SpellChecker.php',11],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['lib','webdavlib.php',84],['lib/dml','pgsql_native_moodle_recordset.php',43],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/mustache/src/Mustache','LambdaHelper.php',25],['question/engine/upgrade/tests','helper.php',45],['admin/tool/uploadcourse/classes','tracker.php',72],['grade/report/user','lib.php',188],['lib/adodb/drivers','adodb-sqlanywhere.inc.php',156],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/adodb/drivers','adodb-db2oci.inc.php',220]], 1102],
'valid': ['valid', 'Did we reach the end? ', [['lib/filestorage','zip_archive.php',514],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',51],['lib/dml','mssql_native_moodle_recordset.php',83],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',191],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',184],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',329],['lib/dml','mysqli_native_moodle_recordset.php',82],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',175],['lib/horde/framework/Horde/Mail/Rfc822','List.php',439],['lib/dml','pdo_moodle_recordset.php',75],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',104],['lib/phpexcel/PHPExcel','WorksheetIterator.php',99],['backup/util/helper','backup_null_iterator.class.php',49],['lib/horde/framework/Horde','Domhtml.php',331],['lib/dml','sqlsrv_native_moodle_recordset.php',129],['lib/classes/dml','recordset_walk.php',127],['lib/horde/framework/Horde/Imap/Client','Ids.php',419],['backup/util/helper','backup_array_iterator.class.php',59],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',44],['lib/dml','oci_native_moodle_recordset.php',76],['lib/adodb','adodb.inc.php',3041],['lib/adodb','adodb.inc.php',3168],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',182],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',110],['question/engine','questionusage.php',999],['question/engine/tests','helpers.php',1237],['backup/cc/cc_lib','cc_version11.php',47],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',75],['backup/cc/cc_lib','cc_version1.php',47],['backup/cc/cc_lib','cc_asssesment.php',58],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',80],['lib/google/src/Google','Collection.php',45],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',182],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',378],['question/engine','questionattempt.php',1643],['question/engine','questionattempt.php',1762],['lib/tests','completionlib_test.php',903],['lib/dml','pgsql_native_moodle_recordset.php',103]], 81],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1635],['lib/dml','moodle_database.php',711]], 438],
'reset_caches': ['reset_caches', 'This implementation does not use any caches. ', [['lib/classes','string_manager_install.php',245],['lib/classes','plugin_manager.php',115],['lib/classes/update','checker.php',74],['backup/moodle2','restore_stepslib.php',1538],['tag/classes','index_builder.php',367],['repository','lib.php',2636],['lib/dml','moodle_database.php',1052],['lib/classes','filetypes.php',419],['lib','accesslib.php',5149],['lib','accesslib.php',6045],['mod/glossary/classes/local','concept_cache.php',49],['lib/classes','string_manager_standard.php',599],['lib/classes','string_manager.php',127],['lib','filterlib.php',97],['lib/classes','text.php',108],['lib/classes','user.php',486]], 111],
'export_table_recordset': ['export_table_recordset', 'Get all records from a table. ', [['lib/dml','mysqli_native_moodle_database.php',1032],['lib/dml','moodle_database.php',1271]], 2],
'delete_records_list': ['delete_records_list', 'Delete the records from a table where one field match one list of values. ', [['lib/dml','moodle_database.php',1883]], 37],
'get_dblibrary': ['get_dblibrary', 'Returns general database library name Note: can be used before connect() ', [['lib/dml','pdo_moodle_database.php',104],['lib/dml','oci_native_moodle_database.php',85],['lib/dml','pgsql_native_moodle_database.php',78],['lib/dml','mssql_native_moodle_database.php',79],['lib/dml','mysqli_native_moodle_database.php',135],['lib/dml','sqlsrv_native_moodle_database.php',99],['lib/dml/tests','dml_test.php',5529]], 2],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'sql_cast_char2int': ['sql_cast_char2int', '', [['lib/dml','oci_native_moodle_database.php',1559],['lib/dml','pgsql_native_moodle_database.php',1217],['lib/dml','mssql_native_moodle_database.php',1175],['lib/dml','mysqli_native_moodle_database.php',1502],['lib/dml','moodle_database.php',1998],['lib/dml','sqlsrv_native_moodle_database.php',1243]], 12],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1796]], 155],
'sql_length': ['sql_length', 'Returns the SQL text to be used to calculate the length in characters of one expression. ', [['lib/dml','mssql_native_moodle_database.php',1285],['lib/dml','mysqli_native_moodle_database.php',1590],['lib/dml','moodle_database.php',2134],['lib/dml','sqlsrv_native_moodle_database.php',1353]], 6],
'make': ['make', 'Runs the entire \'make\' process. ', [['admin/tool/generator/classes','course_backend.php',202],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',38],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',33],['mod/quiz/accessrule/numattempts','rule.php',40],['cache/classes','loaders.php',163],['mod/quiz/accessrule','accessrulebase.php',63],['backup/util/ui','backup_ui_setting.class.php',234],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',60],['mod/quiz/accessrule/timelimit','rule.php',41],['mod/quiz/accessrule/openclosedate','rule.php',40],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger.js',655],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',52],['mod/quiz/accessrule/password','rule.php',40],['admin/tool/assignmentupgrade','locallib.php',110],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',64],['mod/quiz/accessrule/delaybetweenattempts','rule.php',40],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',96],['lib/htmlpurifier/HTMLPurifier','AttrDef.php',67],['mod/quiz/accessrule/ipaddress','rule.php',40],['mod/quiz/accessrule/securewindow','rule.php',55],['mod/quiz/accessrule/safebrowser','rule.php',40],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',42],['lib/yuilib/2in3/2.9.0/build/yui2-logger','yui2-logger-debug.js',655],['lib/htmlpurifier/HTMLPurifier','Length.php',52],['admin/tool/generator/classes','site_backend.php',89]], 198],
'get_driver_instance': ['get_driver_instance', 'Loads and returns a database instance with the specified type and library. ', [['lib/dml','moodle_database.php',171]], 32],
'get_record_sql': ['get_record_sql', 'Get a single database record as an object using a SQL statement. ', [['lib/dml','oci_native_moodle_database.php',1076],['lib/dml','moodle_database.php',1506]], 157],
'rollback_delegated_transaction': ['rollback_delegated_transaction', 'Call when delegated transaction failed, this rolls back all delegated transactions up to the top most level. ', [['lib/dml','moodle_database.php',2474]], 1],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'sql_regex_supported': ['sql_regex_supported', '', [['lib/dml','pgsql_native_moodle_database.php',1247],['lib/dml','mysqli_native_moodle_database.php',1599],['lib/dml','moodle_database.php',2262]], 12],
'_fix_sql_params_dollar_callback': ['_fix_sql_params_dollar_callback', 'Internal private utitlity function used to fix parameters. Used with {@link preg_replace_callback()} ', [['lib/dml','moodle_database.php',796]], 0],
'get_debug': ['get_debug', 'Returns debug status ', [['lib/dml','moodle_database.php',1126],['lib/dml/tests','dml_test.php',5541]], 6],
'sql_fullname': ['sql_fullname', 'Returns the proper SQL (for the dbms in use) to concatenate $firstname and $lastname ', [['lib/dml','moodle_database.php',2106]], 21],
'print_debug_time': ['print_debug_time', 'Prints the time a query took to run. ', [['lib/dml','moodle_database.php',582]], 1],
'print_debug': ['print_debug', 'Prints sql debug info ', [['lib/dml','moodle_database.php',554]], 1],
'get_name': ['get_name', 'Return localised event name. ', [['lib/classes/event','competency_plan_unlinked.php',72],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/simplepie/library/SimplePie','Author.php',106],['portfolio/download','lib.php',10],['backup/util/structure','restore_path_element.class.php',98],['lib/classes/message/inbound','private_files_handler.php',56],['lib/classes/event','grouping_group_assigned.php',48],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','enrol_instance_deleted.php',70],['report/log/classes/event','user_report_viewed.php',54],['lib/classes/task','blog_cron_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/event','tag_unflagged.php',55],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','role_unassigned.php',53],['mod/assign/classes/event','grading_form_viewed.php',82],['question/classes/bank','edit_action_column.php',35],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','submission_deleted.php',63],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_module_instance_list_viewed.php',75],['lib/classes/event','course_created.php',55],['lib/dml','pdo_moodle_database.php',113],['mod/assign/classes/event','extension_granted.php',77],['lib/classes/task','tag_cron_task.php',33],['enrol/imsenterprise/classes/task','cron_task.php',34],['lib/classes/event','course_deleted.php',56],['lib/classes/task','completion_daily_task.php',33],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/wiki/classes/event','page_created.php',48],['lib/dml','oci_native_moodle_database.php',94],['lib/classes/event','competency_viewed.php',70],['mod/choice/classes/event','answer_updated.php',72],['lib/classes/event','search_indexed.php',47],['lib/classes/event','badge_criteria_updated.php',53],['question/classes/bank','question_type_column.php',26],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/grade','grade_item.php',1384],['lib/classes/event','competency_user_competency_rated_in_plan.php',88],['lib/classes/event','webservice_token_sent.php',56],['mod/glossary/classes/event','entry_deleted.php',54],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['lib/classes/event','competency_template_viewed.php',63],['lib/classes/task','context_cleanup_task.php',32],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/glossary/classes/event','category_deleted.php',46],['mod/forum/classes/message/inbound','reply_handler.php',51],['competency/classes','competency_rule.php',84],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','badge_deleted.php',49],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','message_contact_added.php',48],['lib/classes/event','cohort_member_added.php',49],['backup/util/ui','restore_ui.class.php',351],['lib/classes/event','blog_entry_updated.php',74],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/assign/classes/event','submission_created.php',57],['lib/classes/event','group_deleted.php',65],['lib/classes/event','role_allow_assign_updated.php',47],['mod/lesson/classes/event','highscore_added.php',59],['mod/forum/classes/event','discussion_pinned.php',55],['lib/classes/event','webservice_function_called.php',67],['lib/classes/event','competency_plan_reopened.php',75],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['mod/forum/classes/event','discussion_subscription_created.php',66],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib','csslib.php',2155],['lib','csslib.php',2283],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','webservice_token_created.php',65],['lib/classes/event','tag_collection_updated.php',65],['competency/classes','competency_rule_all.php',84],['backup/util/settings','base_setting.class.php',145],['mod/data/classes/event','field_deleted.php',57],['mod/book/classes/event','chapter_created.php',79],['lib/classes/event','email_failed.php',56],['lib/classes/task','stats_cron_task.php',31],['mod/survey/classes/event','report_downloaded.php',55],['mod/workshop/classes/event','phase_switched.php',75],['lib/grade','grade_category.php',2300],['lib/grade','grade_scale.php',156],['lib/classes/event','course_reset_started.php',53],['mod/workshop/classes/event','assessment_evaluated.php',66],['lib/classes/event','blog_association_created.php',56],['backup/converter','convertlib.php',109],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/task','legacy_plugin_cron_task.php',33],['lib/classes/event','competency_plan_updated.php',75],['mod/choice/classes/event','answer_submitted.php',72],['mod/lesson/classes/event','lesson_ended.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','competency_user_competency_rated_in_course.php',88],['question/classes/bank','question_text_row.php',35],['lib/classes/event','tag_created.php',75],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','role_capabilities_updated.php',51],['mod/survey/classes/event','response_submitted.php',53],['lib/classes/event','badge_archived.php',47],['mod/workshop/classes/event','assessment_reevaluated.php',76],['mod/assign/classes/event','submission_locked.php',78],['report/outline/classes/event','report_viewed.php',54],['lib/classes/event','user_deleted.php',57],['lib/classes/event','mnet_access_control_updated.php',57],['mod/lesson/classes/event','essay_assessed.php',78],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','grouping_deleted.php',72],['admin/tool/monitor/classes','rule.php',239],['lib/classes/event','course_viewed.php',75],['mod/forum/classes/event','user_report_viewed.php',65],['user/selector','lib.php',309],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','webservice_service_user_added.php',59],['mod/forum/classes/event','discussion_unpinned.php',55],['lib/classes/event','grouping_group_unassigned.php',48],['lib/grade','grade_outcome.php',272],['mod/chat/classes/event','message_sent.php',59],['lib/classes/event','role_assigned.php',56],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['question/classes/bank','modifier_name_column.php',27],['mod/glossary/classes/event','entry_viewed.php',48],['mod/data/classes/event','record_created.php',56],['lib/classes/event','course_category_deleted.php',59],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['lib/classes/task','question_cron_task.php',31],['portfolio/flickr','lib.php',41],['lib/classes/task','cache_cron_task.php',31],['mod/wiki/classes/event','page_version_viewed.php',54],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',47],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/scorm/classes/event','status_submitted.php',46],['admin/tool/monitor/classes/event','rule_created.php',50],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['question/classes/bank','checkbox_column.php',32],['lib/classes/event','competency_user_competency_plan_viewed.php',81],['mod/assign/feedback/offline','locallib.php',42],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/workshop/classes/event','submission_updated.php',63],['lib/editor/atto/classes/task','autosave_cleanup_task.php',33],['mod/choice/classes/event','report_viewed.php',53],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/wiki/classes/event','page_map_viewed.php',54],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['mod/lesson/classes/event','question_answered.php',54],['mod/choice/classes/event','report_downloaded.php',54],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',36],['backup/util/ui','backup_ui_setting.class.php',86],['lib/classes/event','competency_user_evidence_created.php',64],['lib/classes/event','course_module_completion_updated.php',54],['repository/coursefiles','lib.php',183],['lib/classes/event','note_updated.php',56],['lib/classes/event','note_created.php',56],['lib/classes/event','competency_framework_created.php',63],['lib/classes/event','course_resources_list_viewed.php',60],['lib/classes/event','tag_updated.php',58],['mod/forum/classes/event','subscribers_viewed.php',65],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['mod/quiz/classes/question/bank','add_action_column.php',45],['lib/classes/task','completion_regular_task.php',33],['lib/classes/event','user_enrolment_deleted.php',54],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib','enrollib.php',1076],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',47],['lib/classes/event','webservice_service_updated.php',59],['lib/editor/tinymce/classes','plugin.php',101],['mod/lesson/classes/event','group_override_created.php',55],['mod/scorm/classes/event','attempt_deleted.php',62],['lib/classes/event','competency_user_competency_review_request_cancelled.php',72],['lib/classes/event','webservice_service_created.php',65],['lib/classes/task','events_cron_task.php',31],['mod/wiki/classes/event','page_version_restored.php',54],['mod/forum/classes/event','discussion_deleted.php',66],['lib/classes/event','competency_framework_updated.php',73],['mod/lesson/classes/event','lesson_restarted.php',48],['mod/wiki/classes/event','page_updated.php',54],['mod/assign/classes/event','marker_updated.php',89],['lib','modinfolib.php',1270],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',38],['lib/classes/event','course_module_updated.php',57],['repository','lib.php',1834],['auth/cas/classes/task','sync_task.php',34],['lib/classes/event','competency_template_deleted.php',73],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['lib/bennu','iCalendar_components.php',37],['report/questioninstances/classes/event','report_viewed.php',55],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',36],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','competency_template_updated.php',75],['question/behaviour','behaviourbase.php',83],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','badge_disabled.php',47],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','badge_enabled.php',47],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['calendar/type/gregorian/classes','structure.php',29],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/simplepie/library/SimplePie','Credit.php',139],['mod/scorm/classes/event','tracks_viewed.php',64],['mod/wiki/classes/event','page_diff_viewed.php',55],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','grouping_created.php',65],['lib/classes/event','calendar_event_deleted.php',58],['enrol/flatfile/classes/task','flatfile_sync_task.php',37],['lib/classes/event','group_updated.php',65],['lib/classes/task','registration_cron_task.php',31],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/event','grade_deleted.php',94],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',47],['lib/classes/event','user_loggedin.php',64],['lib/classes/task','check_for_updates_task.php',31],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['mod/assign/submission/file','locallib.php',44],['mod/forum/classes/task','cron_task.php',30],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','tag_collection_created.php',65],['grade/report/overview/classes/event','grade_report_viewed.php',48],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/event','competency_plan_created.php',63],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/task','send_failed_login_notifications_task.php',34],['enrol/lti/classes/task','sync_grades.php',36],['lib/classes/event','message_viewed.php',54],['portfolio/boxnet','lib.php',14],['lib/classes/event','comment_created.php',58],['question/classes/bank','preview_action_column.php',26],['lib/classes/event','course_content_deleted.php',54],['lib/dml','pgsql_native_moodle_database.php',87],['mod/feedback/classes/event','response_deleted.php',83],['lib/classes/event','competency_evidence_created.php',98],['lib/classes/event','comment_deleted.php',58],['lib/classes/event','competency_user_competency_review_requested.php',72],['mod/quiz/classes/event','attempt_abandoned.php',63],['mod/scorm/classes/event','user_report_viewed.php',62],['lib/dml','mssql_native_moodle_database.php',88],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['mod/quiz/classes/event','group_override_created.php',55],['lib/dml','mysqli_native_moodle_database.php',352],['backup/util/ui','backup_ui.class.php',194],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/data/classes/event','record_deleted.php',56],['competency/classes','competency_rule_points.php',185],['lib/classes/event','competency_user_competency_viewed.php',81],['lib/classes/event','dashboard_viewed.php',59],['mod/lesson/classes/event','question_viewed.php',54],['lib/classes/event','user_profile_viewed.php',56],['lib','medialib.php',345],['admin/tool/monitor/classes/task','clean_events.php',32],['mod/lesson/classes/event','user_override_deleted.php',53],['lib/classes/event','cohort_member_removed.php',50],['mod/lesson/classes/event','lesson_started.php',48],['mod/lesson/classes/event','page_updated.php',73],['mod/workshop/classes/event','submission_viewed.php',63],['question/classes/bank','question_name_column.php',28],['lib/classes/event','competency_deleted.php',87],['admin/tool/monitor/classes','subscription.php',132],['lib/classes/task','grade_cron_task.php',31],['mod/glossary/classes/event','entry_created.php',52],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','dashboard_reset.php',60],['backup/util/structure','base_atom.class.php',71],['portfolio/googledocs','lib.php',54],['mod/assign/feedback/comments','locallib.php',36],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/event','competency_plan_review_request_cancelled.php',75],['lib/classes/event','competency_plan_deleted.php',73],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/data/classes/event','field_updated.php',57],['lib/classes/event','grouping_updated.php',65],['cache/classes','definition.php',621],['lib/classes/task','plagiarism_cron_task.php',31],['backup/converter/moodle1','lib.php',1033],['lib/classes/event','question_category_created.php',48],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','user_login_failed.php',56],['mod/scorm/classes/event','report_viewed.php',63],['mod/chat/classes/event','sessions_viewed.php',65],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['portfolio/mahara','lib.php',61],['mod/quiz/classes/event','attempt_submitted.php',63],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['mod/lesson/classes/event','group_override_updated.php',54],['mod/workshop/classes/event','submission_created.php',63],['mod/assign/classes/event','submission_updated.php',57],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['lib/classes/event','competency_updated.php',70],['lib/classes/event','note_deleted.php',56],['mod/lesson/classes/event','page_moved.php',56],['lib/classes/event','course_completed.php',73],['lib/classes/event','tag_added.php',58],['lib/classes/event','competency_created.php',70],['mod/lesson/classes/event','highscores_viewed.php',51],['lib/classes/event','message_contact_unblocked.php',48],['lib/classes/event','user_enrolment_created.php',53],['lib/classes/task','search_index_task.php',35],['lib/classes/event','course_module_created.php',86],['lib/classes/event','webservice_service_user_removed.php',59],['report/log/classes/event','report_viewed.php',58],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['lib/classes/event','group_member_added.php',78],['mod/forum/classes/event','discussion_viewed.php',60],['mod/assign/classes/event','submission_viewed.php',76],['mod/lti/classes/local/ltiservice','service_base.php',87],['enrol/lti/classes/task','sync_members.php',46],['mod/workshop/classes/event','submission_reassessed.php',77],['lib/classes/task','session_cleanup_task.php',31],['lib/tests','messageinbound_test.php',166],['lib/classes/task','backup_cleanup_task.php',31],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['mod/scorm/classes/event','scoreraw_submitted.php',46],['mod/assign/classes/event','statement_accepted.php',77],['mod/assign/classes/event','feedback_viewed.php',76],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/forum/classes/event','discussion_moved.php',66],['lib/classes/event','competency_user_evidence_deleted.php',64],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','lesson_resumed.php',48],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','comments_viewed.php',51],['mod/data/classes/event','template_viewed.php',55],['mod/wiki/classes/event','page_deleted.php',54],['mod/quiz/classes/event','report_viewed.php',56],['mod/scorm/classes/event','sco_launched.php',64],['mod/glossary/classes/event','entry_updated.php',52],['mod/lesson/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['lib/classes/event','course_updated.php',58],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/feedback/classes/event','response_submitted.php',83],['lib/classes/event','blog_entry_deleted.php',53],['mod/book/classes/event','chapter_deleted.php',79],['report/completion/classes/event','report_viewed.php',49],['lib/classes/event','recent_activity_viewed.php',49],['mod/quiz/classes/event','question_manually_graded.php',55],['mod/assign/classes/event','submission_status_updated.php',79],['lib/classes/event','user_enrolment_updated.php',53],['lib/classes/event','tag_deleted.php',55],['report/completion/classes/event','user_report_viewed.php',49],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','calendar_event_created.php',58],['mod/assign/classes/event','submission_duplicated.php',77],['lib/classes/event','competency_framework_deleted.php',73],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','message_sent.php',82],['lib/classes/event','calendar_subscription_deleted.php',56],['lib/classes/event','course_category_updated.php',51],['lib/classes/event','user_password_updated.php',70],['enrol/lti/ims-blti','OAuth.php',65],['enrol/lti/ims-blti','OAuth.php',92],['enrol/lti/ims-blti','OAuth.php',116],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['lib/classes/event','user_loggedinas.php',57],['lib/classes/event','competency_template_created.php',63],['lib/classes/event','user_created.php',48],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',47],['report/loglive/classes/event','report_viewed.php',48],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/classes/event','chapter_viewed.php',79],['lib/classes/event','badge_awarded.php',54],['lib/classes/event','calendar_subscription_created.php',57],['lib/classes/event','enrol_instance_created.php',69],['lib/classes/event','user_list_viewed.php',56],['lib/classes/task','calendar_cron_task.php',31],['mod/forum/classes/event','post_deleted.php',67],['mod/quiz/classes/event','group_override_deleted.php',54],['lib/classes/event','badge_created.php',47],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','base.php',292],['lib/classes/event','competency_framework_viewed.php',69],['lib/classes/event','tag_collection_deleted.php',65],['lib/classes/event','group_member_removed.php',69],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/event','calendar_event_updated.php',58],['mod/assign/submission/onlinetext','locallib.php',40],['lib/classes/event','user_updated.php',48],['mod/lesson/classes/event','page_created.php',54],['backup/util/ui','base_ui_stage.class.php',110],['mod/assign/classes/event','submission_form_viewed.php',82],['auth/ldap/classes/task','sync_task.php',34],['lib/classes/event','course_completion_updated.php',47],['lib/classes/event','competency_plan_review_started.php',75],['lib/classes/event','course_user_report_viewed.php',66],['mod/folder/classes/event','all_files_downloaded.php',60],['mod/workshop/classes/event','assessments_reset.php',74],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/data/classes/event','template_updated.php',56],['mod/assign/classes/event','identities_revealed.php',75],['question/classes/bank','copy_action_column.php',35],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['lib/classes/event','notes_viewed.php',49],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',47],['lib/classes/event','competency_plan_viewed.php',63],['mod/data/classes/event','record_updated.php',56],['mod/assign/feedback/file','locallib.php',45],['lib/classes/event','competency_plan_unapproved.php',75],['mod/lesson/classes/event','content_page_viewed.php',48],['mod/assign/feedback/editpdf','locallib.php',43],['lib/dml','sqlsrv_native_moodle_database.php',108],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['mod/assign/classes/event','assessable_submitted.php',109],['mod/quiz/classes/event','attempt_started.php',62],['lib/classes/task','create_contexts_task.php',31],['lib/classes/task','file_trash_cleanup_task.php',31],['lib/classes/event','competency_user_competency_rated.php',82],['mod/forum/classes/event','post_updated.php',67],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',37],['lib/classes/event','course_module_deleted.php',56],['mod/assign/submission/comments','locallib.php',39],['lib/classes/event','competency_plan_review_requested.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','webservice_login_failed.php',71],['mod/forum/classes/event','post_created.php',67],['lib/classes/task','complete_plans_task.php',43],['mod/assign/classes/event','submission_status_viewed.php',81],['lib/classes/event','enrol_instance_updated.php',70],['lib/classes/task','messaging_cleanup_task.php',31],['portfolio/picasa','lib.php',33],['admin/tool/capability/classes/event','report_viewed.php',47],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/data/classes/event','field_created.php',58],['mod/folder/classes/event','folder_updated.php',48],['lib/classes/event','badge_updated.php',47],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','cache_cleanup_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['mod/quiz/classes/event','attempt_deleted.php',53],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_viewed.php',57],['lib/classes/log','reader.php',30],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/forum/classes/event','readtracking_disabled.php',64],['admin/tool/langimport/classes/event','langpack_imported.php',80],['lib/classes/event','competency_plan_review_stopped.php',75],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/event','unknown_logged.php',43],['lib/classes/event','competency_user_competency_viewed_in_plan.php',85],['lib/classes/event','competency_user_competency_viewed_in_course.php',84],['lib/classes/task','search_optimize_task.php',38],['mod/glossary/classes/event','category_created.php',46],['lib/portfolio','plugin.php',120],['report/stats/classes/event','user_report_viewed.php',48],['lib/classes/event','dashboards_reset.php',59],['lib/classes/event','calendar_subscription_updated.php',57],['lib/classes/event','cohort_updated.php',49],['admin/tool/monitor/classes/event','rule_updated.php',50],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','course_section_deleted.php',57],['lib/classes/task','delete_incomplete_users_task.php',31],['lib/classes/task','automated_backup_task.php',31],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['lib/classes/event','mnet_access_control_created.php',57],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/forum/classes/event','discussion_created.php',65],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','blog_entries_viewed.php',62],['lib/classes/task','sync_plans_from_template_cohorts_task.php',41],['mod/quiz/classes/event','attempt_preview_started.php',54],['lib/classes/event','content_viewed.php',80],['lib/classes/event','competency_user_evidence_updated.php',64],['lib/dml/tests','dml_test.php',5530],['mod/assign/classes/event','submission_graded.php',78],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/classes/event','course_restored.php',58],['lib/classes/event','group_created.php',65],['lib/classes/event','badge_criteria_deleted.php',52],['lib/classes/event','tag_flagged.php',55],['lib/classes/event','competency_plan_completed.php',75],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/event','role_allow_override_updated.php',47],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['lib/classes/event','cohort_deleted.php',49],['lib/classes/event','badge_criteria_created.php',52],['admin/tool/log/classes/helper','reader.php',41],['admin/tool/monitor/classes/task','check_subscriptions.php',50],['lib/classes/event','blog_entry_created.php',76],['mod/scorm/classes/event','interactions_viewed.php',63],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','badge_duplicated.php',47],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_category_created.php',48],['lib/classes/event','cohort_created.php',49],['lib/classes/event','tag_removed.php',58],['lib/classes/event','competency_plan_approved.php',75],['mod/choice/classes/event','answer_deleted.php',56],['backup/util/ui','restore_ui_stage.class.php',75],['lib/classes/event','competency_user_competency_review_started.php',72],['lib/classes/event','course_reset_ended.php',53],['mod/quiz/classes/event','user_override_created.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','message_contact_removed.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['lib/classes/event','message_deleted.php',91],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','competency_user_competency_review_stopped.php',72],['lib/classes/event','course_module_viewed.php',62],['backup/util/plan','base_task.class.php',58],['question/classes/bank','delete_action_column.php',36]], 469],
'sql_isnotempty': ['sql_isnotempty', 'Returns the proper SQL to know if one field is not empty. ', [['lib/dml','moodle_database.php',2228]], 21],
'allowed_param_types': ['allowed_param_types', 'Returns supported query parameter types ', [['lib/dml','pdo_moodle_database.php',146],['lib/dml','oci_native_moodle_database.php',313],['lib/dml','pgsql_native_moodle_database.php',256],['lib/dml','mssql_native_moodle_database.php',333],['lib/dml','mysqli_native_moodle_database.php',496],['lib/dml','sqlsrv_native_moodle_database.php',335],['lib/dml/tests','dml_test.php',5534]], 3],
'get_fieldset_select': ['get_fieldset_select', 'Selects records and return values of chosen field as an array which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1608]], 32],
'fix_table_names': ['fix_table_names', 'Converts short table name {tablename} to real table name supporting temp tables ($this->unique_session_id based) if detected ', [['lib/dml','oci_native_moodle_database.php',292],['lib/dml','mssql_native_moodle_database.php',312],['lib/dml','moodle_database.php',787],['lib/dml','sqlsrv_native_moodle_database.php',313]], 3],
'count_records': ['count_records', 'Count a list of records. ', [['competency/classes','persistent.php',815],['mod/glossary/classes','entry_query_builder.php',152],['lib/dml','moodle_database.php',1766]], 1630],
'get_configuration_hints': ['get_configuration_hints', 'Returns the localised database description Note: can be used before connect() ', [['lib/dml','moodle_database.php',239]], 1],
'sql_cast_char2real': ['sql_cast_char2real', '', [['lib/dml','oci_native_moodle_database.php',1567],['lib/dml','pgsql_native_moodle_database.php',1221],['lib/dml','mssql_native_moodle_database.php',1183],['lib/dml','mysqli_native_moodle_database.php',1506],['lib/dml','moodle_database.php',2012],['lib/dml','sqlsrv_native_moodle_database.php',1251]], 15],
'export_dbconfig': ['export_dbconfig', 'Returns the db related part of config.php ', [['lib/dml','moodle_database.php',250]], 6],
'sql_position': ['sql_position', 'Returns the SQL for returning searching one string for the location of another. ', [['lib/dml','oci_native_moodle_database.php',1722],['lib/dml','mssql_native_moodle_database.php',1298],['lib/dml','moodle_database.php',2163],['lib/dml','sqlsrv_native_moodle_database.php',1366]], 3],
'sql_concat': ['sql_concat', '', [['lib/dml','pdo_moodle_database.php',537],['lib/dml','oci_native_moodle_database.php',1602],['lib/dml','sqlite3_pdo_moodle_database.php',361],['lib/dml','pgsql_native_moodle_database.php',1225],['lib/dml','mssql_native_moodle_database.php',1258],['lib/dml','mysqli_native_moodle_database.php',1556],['lib/dml','sqlsrv_native_moodle_database.php',1324],['lib/dml/tests','dml_test.php',5554]], 74],
'get_field_select': ['get_field_select', 'Get a single field value from a table record which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1563]], 49],
'update_stats': ['update_stats', 'Analyze the data in temporary tables to force statistics collection after bulk data loads. The database class detects all temporary tables and will automatically analyze all created tables ', [['lib/dml','moodle_temptables.php',120],['lib/dml','pgsql_native_moodle_temptables.php',32]], 1],
'or': ['or', '', [['lib/tcpdf','LICENSE.TXT',69]], 556],
'perf_get_queries': ['perf_get_queries', 'Returns the number of queries done by this database. ', [['lib/dml','moodle_database.php',2597]], 24],
'insert_record_raw': ['insert_record_raw', 'Insert new record into database, as fast as possible, no safety checks, lobs not supported. ', [['lib/dml','pdo_moodle_database.php',343],['lib/dml','oci_native_moodle_database.php',1226],['lib/dml','pgsql_native_moodle_database.php',827],['lib/dml','mssql_native_moodle_database.php',861],['lib/dml','mysqli_native_moodle_database.php',1132],['lib/dml','sqlsrv_native_moodle_database.php',947],['lib/dml/tests','dml_test.php',5547]], 37],
'session_lock_supported': ['session_lock_supported', '', [['lib/dml','oci_native_moodle_database.php',1797],['lib/dml','pgsql_native_moodle_database.php',1265],['lib/dml','mssql_native_moodle_database.php',1336],['lib/dml','mysqli_native_moodle_database.php',1667],['lib/dml','moodle_database.php',2553],['lib/dml','sqlsrv_native_moodle_database.php',1405]], 9],
'begin_transaction': ['begin_transaction', '', [['lib/dml','pdo_moodle_database.php',545],['lib/dml','oci_native_moodle_database.php',1842],['lib/dml','pgsql_native_moodle_database.php',1345],['lib/dml','mssql_native_moodle_database.php',1402],['lib/dml','mysqli_native_moodle_database.php',1749],['lib/dml','sqlsrv_native_moodle_database.php',1468],['lib/dml/tests','dml_test.php',5557]], 2],
'dispose': ['dispose', '', [['lib/classes/log','dummy_manager.php',35],['lib/dml','oci_native_moodle_database.php',225],['admin/tool/log/classes/log','store.php',38],['admin/tool/log/classes/helper','buffered_writer.php',119],['lib/dml','pgsql_native_moodle_database.php',187],['lib/dml','moodle_temptables.php',131],['lib/dml','mssql_native_moodle_database.php',247],['lib/dml','mysqli_native_moodle_database.php',475],['lib/dml','moodle_database.php',377],['admin/tool/log/store/legacy/classes/log','store.php',180],['admin/tool/log/store/database/classes/log','store.php',297],['admin/tool/log/classes/log','manager.php',188],['lib/classes/log','manager.php',47],['lib/ddl','sql_generator.php',187],['lib/dml','sqlsrv_native_moodle_database.php',259],['lib/dml','moodle_transaction.php',68],['lib/ddl','database_manager.php',58]], 47],
'set_logging': ['set_logging', 'Enable/disable detailed sql logging ', [['lib/dml','moodle_database.php',1134]], 1],
'sql_bitxor': ['sql_bitxor', '', [['lib/dml','oci_native_moodle_database.php',1543],['lib/dml','sqlite3_pdo_moodle_database.php',392],['lib/dml','pgsql_native_moodle_database.php',1213],['lib/dml','moodle_database.php',1960]], 3],
'get_tables': ['get_tables', 'Return tables in database WITHOUT current prefix ', [['lib/dml','oci_native_moodle_database.php',384],['lib/dml','sqlite3_pdo_moodle_database.php',137],['lib/dml','pgsql_native_moodle_database.php',272],['lib/dml','mssql_native_moodle_database.php',349],['lib/dml','mysqli_native_moodle_database.php',512],['lib/dml','sqlsrv_native_moodle_database.php',407],['lib/dml/tests','dml_test.php',5536]], 36],
'sql_like_escape': ['sql_like_escape', 'Escape sql LIKE special characters like \'_\' or \'%\'. ', [['lib/dml','moodle_database.php',2073]], 26],
'get_records_menu': ['get_records_menu', 'Get the first two columns from a number of records as an associative array where all the given conditions met. ', [['lib/dml','moodle_database.php',1375]], 75],
'sql_substr': ['sql_substr', 'Returns the proper substr() SQL text used to extract substrings from DB NOTE: this was originally returning only function name ', [['lib/dml','mssql_native_moodle_database.php',1305],['lib/dml','moodle_database.php',2143],['lib/dml','sqlsrv_native_moodle_database.php',1373],['lib/dml/tests','dml_test.php',5556]], 19],
'set_table_modified_by_sql': ['set_table_modified_by_sql', 'Set state of modified tables. ', [['lib/testing/classes','util.php',906]], 2],
'sql_null_from_clause': ['sql_null_from_clause', '', [['lib/dml','oci_native_moodle_database.php',1527],['lib/dml','moodle_database.php',1908]], 29],
'is_number': ['is_number', 'Return true if given value is integer or string with integer value ', [['lib','moodlelib.php',1291],['lib/phpexcel/PHPExcel/Calculation','Functions.php',464]], 68],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'store_settings': ['store_settings', 'Stores the pre-defined random allocation settings for later usage ', [['mod/workshop/allocation/scheduled','lib.php',212],['lib/dml','moodle_database.php',294]], 7],
'sql_like': ['sql_like', 'Returns \'LIKE\' part of a query. ', [['lib/dml','oci_native_moodle_database.php',1575],['lib/dml','pgsql_native_moodle_database.php',1188],['lib/dml','mssql_native_moodle_database.php',1224],['lib/dml','mysqli_native_moodle_database.php',1514],['lib/dml','moodle_database.php',2053],['lib/dml','sqlsrv_native_moodle_database.php',1291]], 159],
'sql_ceil': ['sql_ceil', '', [['lib/dml','mssql_native_moodle_database.php',1191],['lib/dml','moodle_database.php',1987],['lib/dml','sqlsrv_native_moodle_database.php',1259]], 7],
'change_db_encoding': ['change_db_encoding', 'Attempts to change db encoding to UTF-8 encoding if possible. ', [['lib/dml','moodle_database.php',1101]], 2],
'delete_records_select': ['delete_records_select', '', [['lib/dml','pdo_moodle_database.php',208],['lib/dml','oci_native_moodle_database.php',1495],['lib/dml','pgsql_native_moodle_database.php',1162],['lib/dml','mssql_native_moodle_database.php',1146],['lib/dml','mysqli_native_moodle_database.php',1477],['lib/dml','sqlsrv_native_moodle_database.php',1220],['lib/dml/tests','dml_test.php',5553]], 163],
'query_log': ['query_log', 'This logs the last query based on \'logall\', \'logslow\' and \'logerrors\' options configured via $CFG->dboptions . ', [['lib/dml','moodle_database.php',484]], 2],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 1072],
'count_records_select': ['count_records_select', 'Count a list of records. ', [['competency/classes','persistent.php',828],['lib/dml','moodle_database.php',1779]], 73],
'get_server_info': ['get_server_info', 'Returns database server info array ', [['lib/dml','pdo_moodle_database.php',131],['lib/dml','oci_native_moodle_database.php',274],['lib/dml','mariadb_native_moodle_database.php',77],['lib/dml','pgsql_native_moodle_database.php',242],['lib/dml','mssql_native_moodle_database.php',285],['lib/dml','mysqli_native_moodle_database.php',488],['lib/dml','sqlsrv_native_moodle_database.php',294],['lib/dml/tests','dml_test.php',5533]], 10],
'database_transaction_rolledback': ['database_transaction_rolledback', 'Notification from DML layer. ', [['lib/classes/event','manager.php',93],['lib/classes/message','manager.php',171]], 4],
'set_field_select': ['set_field_select', 'Set a single field in every table row where the select statement evaluates to true. ', [['lib/dml','pdo_moodle_database.php',492],['lib/dml','oci_native_moodle_database.php',1436],['lib/dml','pgsql_native_moodle_database.php',1121],['lib/dml','mssql_native_moodle_database.php',1097],['lib/dml','mysqli_native_moodle_database.php',1435],['lib/dml','sqlsrv_native_moodle_database.php',1178],['lib/dml/tests','dml_test.php',5552]], 67],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1310]], 34],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'where_clause_list': ['where_clause_list', 'Returns SQL WHERE conditions for the ..._list group of methods. ', [['lib/dml','moodle_database.php',668]], 3],
'length': ['length', 'Returns the character (not byte) length of a string. ', [['lib/horde/framework/Horde','String.php',335],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',77],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',77],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',185],['lib/horde/framework/Horde','Stream.php',151],['lib/horde/framework/Horde/Stream','TempString.php',137],['lib/lessphp','Functions.php',841]], 73],
'setup_is_unicodedb': ['setup_is_unicodedb', 'Is db in unicode mode? ', [['lib/dml','oci_native_moodle_database.php',878],['lib/dml','pgsql_native_moodle_database.php',609],['lib/dml','mysqli_native_moodle_database.php',873],['lib/dml','moodle_database.php',1109]], 4],
'transactions_forbidden': ['transactions_forbidden', 'This is a test that throws an exception if transaction in progress. This test does not force rollback of active transactions. ', [['lib/dml','moodle_database.php',2381]], 2],
'sql_bitor': ['sql_bitor', '', [['lib/dml','oci_native_moodle_database.php',1539],['lib/dml','moodle_database.php',1945]], 4],
'get_session_lock': ['get_session_lock', 'Obtain session lock ', [['lib/dml','oci_native_moodle_database.php',1801],['lib/dml','pgsql_native_moodle_database.php',1269],['lib/dml','mssql_native_moodle_database.php',1340],['lib/dml','mysqli_native_moodle_database.php',1671],['lib/dml','moodle_database.php',2561],['lib/dml','sqlsrv_native_moodle_database.php',1409]], 10],
'update_temp_table_stats': ['update_temp_table_stats', 'Analyze the data in temporary tables to force statistics collection after bulk data loads. ', [['lib/dml','moodle_database.php',2349]], 6],
'insert_records': ['insert_records', 'Insert multiple records into database as fast as possible. ', [['lib/dml','pgsql_native_moodle_database.php',926],['lib/dml','mysqli_native_moodle_database.php',1221],['lib/dml','moodle_database.php',1662]], 26],
'database_transaction_commited': ['database_transaction_commited', 'Notification from DML layer. ', [['lib/classes/event','manager.php',79],['lib/classes/message','manager.php',159]], 2],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'transactions_supported': ['transactions_supported', 'It is time to require transactions everywhere. ', [['lib/dml','mariadb_native_moodle_database.php',91],['lib/dml','mysqli_native_moodle_database.php',1715],['lib/dml','moodle_database.php',2358]], 4],
'get_prefix': ['get_prefix', 'Returns database table prefix Note: can be used before connect() ', [['lib/dml','moodle_database.php',162],['backup/util/loggers','base_logger.class.php',170]], 28],
'rollback_transaction': ['rollback_transaction', '', [['lib/dml','pdo_moodle_database.php',566],['lib/dml','oci_native_moodle_database.php',1863],['lib/dml','pgsql_native_moodle_database.php',1375],['lib/dml','mssql_native_moodle_database.php',1431],['lib/dml','mysqli_native_moodle_database.php',1786],['lib/dml','sqlsrv_native_moodle_database.php',1496],['lib/dml/tests','dml_test.php',5559]], 3],
'replace': ['replace', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace/js','searchreplace.js',70],['lib/google/src/Google/Utils','URITemplate.php',83],['lib/adodb','adodb-active-record.inc.php',928],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',61],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2448],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',49],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',55],['lib/adodb','adodb.inc.php',1853],['lib/adodb','adodb-active-recordx.inc.php',1061],['lib/phpexcel/PHPExcel/Calculation','TextData.php',503],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',70],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',48],['lib/lessphp','Functions.php',492]], 3264],
'is_disposed': ['is_disposed', 'Is the delegated transaction already used? ', [['lib/dml','moodle_transaction.php',60]], 6],
'get_fieldset_sql': ['get_fieldset_sql', 'Selects rows and return values of first column as array. ', [['lib/dml','pdo_moodle_database.php',288],['lib/dml','oci_native_moodle_database.php',1196],['lib/dml','pgsql_native_moodle_database.php',799],['lib/dml','mssql_native_moodle_database.php',839],['lib/dml','mysqli_native_moodle_database.php',1106],['lib/dml','sqlsrv_native_moodle_database.php',925],['lib/dml/tests','dml_test.php',5546]], 58],
'replace_all_text': ['replace_all_text', 'Replace given text in all rows of column. ', [['lib/dml','moodle_database.php',2313]], 11],
'record_exists_sql': ['record_exists_sql', 'Test whether a SQL SELECT statement returns any records. ', [['lib/dml','moodle_database.php',1846]], 52],
'perf_get_queries_time': ['perf_get_queries_time', 'Time waiting for the database engine to finish running all queries. ', [['lib/dml','moodle_database.php',2605]], 5],
'execute': ['execute', 'Run langpack update ', [['admin/tool/langimport/classes/task','update_langpacks_task.php',44],['backup/converter/imscc1','lib.php',84],['lib/classes/task','blog_cron_task.php',40],['mod/workshop/allocation/scheduled','lib.php',128],['lib/classes/task','send_new_user_passwords_task.php',40],['admin/tool/log/store/standard/classes/task','cleanup_task.php',40],['lib/dml','pdo_moodle_database.php',227],['lib/classes/task','tag_cron_task.php',42],['enrol/imsenterprise/classes/task','cron_task.php',43],['lib/classes/task','completion_daily_task.php',42],['lib/google/src/Google/Http','Batch.php',61],['lib/dml','oci_native_moodle_database.php',1048],['lib/classes/task','context_cleanup_task.php',41],['backup/util/plan','backup_structure_step.class.php',50],['backup/util/ui','restore_ui.class.php',206],['webservice','lib.php',1319],['lib/classes/task','stats_cron_task.php',40],['lib/htmlpurifier/HTMLPurifier/Strategy','ValidateAttributes.php',16],['lib/htmlpurifier/HTMLPurifier/Strategy','RemoveForeignElements.php',20],['lib/classes/task','legacy_plugin_cron_task.php',42],['backup/moodle2','restore_activity_task.class.php',189],['lib/classes/task','portfolio_cron_task.php',40],['lib/google/src/Google/Http','REST.php',27],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',66],['backup/converter/imscc11','backuplib.php',42],['lib/classes/task','question_cron_task.php',40],['lib/classes/task','cache_cron_task.php',40],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',40],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',62],['admin/tool/messageinbound/classes/task','cleanup_task.php',47],['lib/adodb/drivers','adodb-pdo.inc.php',559],['lib/editor/atto/classes/task','autosave_cleanup_task.php',42],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',43],['lib/classes/task','completion_regular_task.php',42],['lib/adodb/drivers','adodb-oci8po.inc.php',54],['lib/classes/task','events_cron_task.php',40],['mod/workshop/allocation/random','lib.php',83],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',47],['auth/cas/classes/task','sync_task.php',43],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',43],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',62],['backup/util/helper','restore_decode_processor.class.php',73],['lib/behat','behat_base.php',840],['enrol/flatfile/classes/task','flatfile_sync_task.php',46],['lib/classes/task','registration_cron_task.php',40],['backup/moodle2','backup_section_task.class.php',97],['lib/classes/task','check_for_updates_task.php',40],['backup/util/plan/tests/fixtures','plan_fixtures.php',48],['backup/util/plan/tests/fixtures','plan_fixtures.php',56],['mod/forum/classes/task','cron_task.php',39],['lib/classes/task','send_failed_login_notifications_task.php',43],['enrol/lti/classes/task','sync_grades.php',45],['lib/dml','pgsql_native_moodle_database.php',665],['lib/htmlpurifier/HTMLPurifier/Strategy','Composite.php',21],['lib/classes/update','validator.php',117],['lib/google/src/Google','Client.php',574],['lib/dml','mssql_native_moodle_database.php',711],['mod/lti/service/profile/classes/local/resource','profile.php',76],['backup/util/plan','backup_plan.class.php',112],['lib/dml','mysqli_native_moodle_database.php',963],['backup/util/ui','backup_ui.class.php',122],['admin/tool/monitor/classes/task','clean_events.php',41],['backup/converter/moodle1','backuplib.php',10],['backup/converter/imscc11','lib.php',85],['lib/classes/task','grade_cron_task.php',40],['lib/classes/task','file_temp_cleanup_task.php',40],['backup/moodle2','restore_section_task.class.php',87],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',63],['filter/tex','latex.php',70],['lib/adodb','adodb.inc.php',1088],['lib/classes/task','plagiarism_cron_task.php',40],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',62],['backup/converter/moodle1','lib.php',142],['backup/util/plan','restore_structure_step.class.php',62],['lib/classes/task','search_index_task.php',44],['enrol/lti/classes/task','sync_members.php',55],['lib/classes/task','session_cleanup_task.php',40],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',61],['lib/classes/task','backup_cleanup_task.php',40],['lib/classes/task','delete_unconfirmed_users_task.php',40],['backup/converter/imscc1','backuplib.php',10],['lib/classes/task','badges_cron_task.php',40],['admin/tool/uploadcourse/classes','processor.php',174],['lib/classes/task','calendar_cron_task.php',40],['backup/util/plan','base_plan.class.php',158],['auth/ldap/classes/task','sync_task.php',43],['lib/adodb/drivers','adodb-oci8.inc.php',920],['backup/util/plan','restore_plan.class.php',159],['lib/tests/fixtures','task_fixtures.php',30],['lib/tests/fixtures','task_fixtures.php',39],['lib/tests/fixtures','task_fixtures.php',48],['lib/tests/fixtures','task_fixtures.php',57],['lib/dml','sqlsrv_native_moodle_database.php',795],['lib/classes/task','create_contexts_task.php',40],['lib/classes/task','file_trash_cleanup_task.php',40],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',46],['lib/classes/task','complete_plans_task.php',52],['lib/classes/task','messaging_cleanup_task.php',40],['backup/util/plan','backup_execution_step.class.php',25],['lib/classes/task','cache_cleanup_task.php',40],['backup/moodle2','backup_activity_task.class.php',211],['filter/tex','texdebug.php',287],['lib/classes/task','password_reset_cleanup_task.php',40],['lib/classes/task','search_optimize_task.php',47],['mod/assign','adminlib.php',342],['lib/classes/task','delete_incomplete_users_task.php',40],['lib/classes/task','automated_backup_task.php',40],['admin/tool/messageinbound/classes/task','pickup_task.php',47],['backup/util/plan','restore_execution_step.class.php',25],['lib/classes/task','sync_plans_from_template_cohorts_task.php',50],['admin/tool/monitor/classes','notification_task.php',39],['lib/dml/tests','dml_test.php',5543],['lib/htmlpurifier/HTMLPurifier/Strategy','FixNesting.php',41],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',60],['admin/tool/monitor/classes/task','check_subscriptions.php',60],['backup/util/interfaces','executable.class.php',32],['backup/util/plan','base_task.class.php',162]], 1058],
'get_configuration_help': ['get_configuration_help', 'Returns localised database configuration help. Note: can be used before connect() ', [['lib/dml','pdo_moodle_database.php',122],['lib/dml','oci_native_moodle_database.php',103],['lib/dml','mariadb_native_moodle_database.php',50],['lib/dml','pgsql_native_moodle_database.php',96],['lib/dml','mssql_native_moodle_database.php',97],['lib/dml','mysqli_native_moodle_database.php',361],['lib/dml','sqlsrv_native_moodle_database.php',117],['lib/dml/tests','dml_test.php',5531]], 4],
'set_debug': ['set_debug', 'Enable/disable very detailed debugging. ', [['lib/dml','moodle_database.php',1117],['lib/dml/tests','dml_test.php',5540]], 13],
'sql_intersect': ['sql_intersect', 'Returns the SQL that allows to find intersection of two or more queries ', [['lib/dml','mysqli_native_moodle_database.php',1626],['lib/dml','moodle_database.php',2280]], 13],
'position': ['position', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',6782],['lib/yuilib/2in3/2.9.0/build/yui2-menu','yui2-menu.js',8656],['lib/yuilib/3.17.2/widget-position','widget-position-debug.js',33],['lib/yuilib/2in3/2.9.0/build/yui2-menu','yui2-menu-debug.js',8708],['lib/editor/atto/yui/src/rangy/js','rangy-textrange.js',683],['lib/yuilib/3.17.2/widget-position','widget-position.js',33],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',6782],['lib/jquery/ui-1.11.4','jquery-ui.js',14006],['lib/htmlpurifier/HTMLPurifier','Token.php',69]], 60],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as an moodle_recordset.  $sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it\'s possible there might be large datasets being returned.  For known small datasets use get_records_sql - it leads to simpler code. ', [['lib/dml','pdo_moodle_database.php',252],['lib/dml','oci_native_moodle_database.php',1106],['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','mssql_native_moodle_database.php',736],['lib/dml','mysqli_native_moodle_database.php',993],['lib/dml','sqlsrv_native_moodle_database.php',811],['lib/dml/tests','dml_test.php',5544]], 283],
'get_manager': ['get_manager', 'Returns the sql generator used for db manipulation. Used mostly in upgrade.php scripts. ', [['lib/dml','moodle_database.php',1080]], 229],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1588]], 138],
'get_temp_tables_cache': ['get_temp_tables_cache', 'Handle the creation and caching of the temporary tables. ', [['lib/dml','moodle_database.php',339]], 14],
'get_record_select': ['get_record_select', 'Get a single database record as an object which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1481]], 19],
'sql_compare_text': ['sql_compare_text', 'Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn\'t support such direct comparisons. ', [['lib/dml','moodle_database.php',2040]], 95],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'get_metacache': ['get_metacache', 'Handle the creation and caching of the databasemeta information for all databases. ', [['lib/dml','moodle_database.php',327]], 14],
'get_transaction_start_backtrace': ['get_transaction_start_backtrace', 'Returns transaction trace for debugging purposes. ', [['lib/dml','moodle_database.php',364]], 1],
'get_records_select_menu': ['get_records_select_menu', 'Get the first two columns from a number of records as an associative array which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1407]], 15],
'change_database_structure': ['change_database_structure', 'Do NOT use in code, to be used by database_manager only! ', [['lib/dml','pdo_moodle_database.php',175],['lib/dml','oci_native_moodle_database.php',897],['lib/dml','pgsql_native_moodle_database.php',630],['lib/dml','mssql_native_moodle_database.php',644],['lib/dml','mysqli_native_moodle_database.php',896],['lib/dml','sqlsrv_native_moodle_database.php',724],['lib/dml/tests','dml_test.php',5542]], 16],
'sql_isempty': ['sql_isempty', 'Returns the SQL to know if one field is empty. ', [['lib/dml','oci_native_moodle_database.php',1729],['lib/dml','mssql_native_moodle_database.php',1277],['lib/dml','moodle_database.php',2191],['lib/dml','sqlsrv_native_moodle_database.php',1345]], 11],
'get_columns': ['get_columns', 'Returns detailed information about columns in table. This information is cached internally. ', [['lib/dml','oci_native_moodle_database.php',464],['lib','csvlib.class.php',190],['lib/dml','sqlite3_pdo_moodle_database.php',195],['lib/dml','pgsql_native_moodle_database.php',353],['lib/dml','mssql_native_moodle_database.php',432],['lib/dml','mysqli_native_moodle_database.php',572],['lib/dml','sqlsrv_native_moodle_database.php',503],['lib/dml/tests','dml_test.php',5538]], 107],
'sql_bitand': ['sql_bitand', '', [['lib/dml','oci_native_moodle_database.php',1531],['lib/dml','moodle_database.php',1919]], 9],
'sql_bitnot': ['sql_bitnot', '', [['lib/dml','oci_native_moodle_database.php',1535],['lib/dml','moodle_database.php',1934]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'query_time': ['query_time', 'Returns the time elapsed since the query started. ', [['lib/dml','moodle_database.php',528]], 2],
'get_dbfamily': ['get_dbfamily', 'Returns database family type - describes SQL dialect Note: can be used before connect() ', [['lib/dml','oci_native_moodle_database.php',67],['lib/dml','sqlite3_pdo_moodle_database.php',50],['lib/dml','pgsql_native_moodle_database.php',60],['lib/dml','mssql_native_moodle_database.php',61],['lib/dml','mysqli_native_moodle_database.php',117],['lib/dml','sqlsrv_native_moodle_database.php',81],['lib/dml/tests','dml_test.php',5527]], 54],
'sql_modulo': ['sql_modulo', 'Returns the SQL text to be used in order to perform module \'%\' operation - remainder after division ', [['lib/dml','oci_native_moodle_database.php',1547],['lib/dml','moodle_database.php',1975]], 2],
'get_dbtype': ['get_dbtype', 'Returns more specific database driver type Note: can be used before connect() ', [['lib/dml','oci_native_moodle_database.php',76],['lib/dml','mariadb_native_moodle_database.php',68],['lib/dml','sqlite3_pdo_moodle_database.php',59],['lib/dml','pgsql_native_moodle_database.php',69],['lib/dml','mssql_native_moodle_database.php',70],['lib/dml','mysqli_native_moodle_database.php',126],['lib/dml','sqlsrv_native_moodle_database.php',90],['lib/dml/tests','dml_test.php',5528]], 5],
'record_exists_select': ['record_exists_select', 'Check if a records exists. ', [['competency/classes','persistent.php',853],['lib/dml','moodle_database.php',1830]], 85],
'fix_sql_params': ['fix_sql_params', 'Normalizes sql query parameters and verifies parameters. ', [['lib/dml','moodle_database.php',819]], 60],
'create_database': ['create_database', 'Attempt to create the database ', [['lib/dml','sqlite3_pdo_moodle_database.php',80],['lib/dml','mysqli_native_moodle_database.php',47],['lib/dml','moodle_database.php',350]], 1],
'force_transaction_rollback': ['force_transaction_rollback', 'Force rollback of all delegated transaction. Does not throw any exceptions and does not log anything. ', [['lib/dml','moodle_database.php',2527]], 18],
'get_last_error': ['get_last_error', 'Returns last error reported by database engine. ', [['lib/dml','pdo_moodle_database.php',154],['lib/dml','oci_native_moodle_database.php',321],['lib','csslib.php',2359],['lib/dml','pgsql_native_moodle_database.php',264],['lib/dml','mssql_native_moodle_database.php',341],['lib/dml','mysqli_native_moodle_database.php',504],['lib/dml','sqlsrv_native_moodle_database.php',343],['lib/dml/tests','dml_test.php',5535]], 8],
'release_session_lock': ['release_session_lock', '', [['lib/dml','oci_native_moodle_database.php',1824],['lib/dml','pgsql_native_moodle_database.php',1325],['lib/dml','mssql_native_moodle_database.php',1383],['lib/dml','mysqli_native_moodle_database.php',1698],['lib/dml','moodle_database.php',2572],['lib/dml','sqlsrv_native_moodle_database.php',1450]], 11],
'get_settings_hash': ['get_settings_hash', 'Returns a hash for the settings used during connection. ', [['lib/dml','moodle_database.php',313]], 2],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'sql_empty': ['sql_empty', 'This used to return empty string replacement character. ', [['lib/dml','moodle_database.php',2179]], 2],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'get_recordset_select': ['get_recordset_select', 'Get a number of records as a moodle_recordset which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1224]], 45],
'is_transaction_started': ['is_transaction_started', 'Returns true if a transaction is in progress. ', [['lib/dml','moodle_database.php',2373]], 41],
'get_backtrace': ['get_backtrace', 'Returns backtrace of the code starting exception. ', [['lib/dml','moodle_transaction.php',52]], 1],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'where_clause': ['where_clause', 'Returns the SQL WHERE conditions. ', [['lib/dml','moodle_database.php',601]], 9],
'sql_concat_join': ['sql_concat_join', '', [['lib/dml','pdo_moodle_database.php',541],['lib/dml','oci_native_moodle_database.php',1616],['lib/dml','sqlite3_pdo_moodle_database.php',373],['lib/dml','pgsql_native_moodle_database.php',1236],['lib/dml','mssql_native_moodle_database.php',1270],['lib/dml','mysqli_native_moodle_database.php',1573],['lib/dml','sqlsrv_native_moodle_database.php',1338],['lib/dml/tests','dml_test.php',5555]], 4],
'query_start': ['query_start', 'Called before each db query. ', [['lib/dml','pdo_moodle_database.php',599],['lib/dml','oci_native_moodle_database.php',239],['lib/dml','pgsql_native_moodle_database.php',201],['lib/dml','mssql_native_moodle_database.php',260],['lib/dml','moodle_database.php',403],['lib/dml','sqlsrv_native_moodle_database.php',273],['mod/chat','chatd.php',152]], 130],
'detect_objects': ['detect_objects', 'Detects object parameters and throws exception if found ', [['lib/dml','moodle_database.php',807]], 9],
'get_records_sql_menu': ['get_records_sql_menu', 'Get the first two columns from a number of records as an associative array using a SQL statement. ', [['lib/dml','moodle_database.php',1436]], 30],
'diagnose': ['diagnose', 'Diagnose database and tables, this function is used to verify database and driver settings, db engine types, etc. ', [['lib/dml','oci_native_moodle_database.php',112],['lib/dml','mssql_native_moodle_database.php',106],['lib/dml','mysqli_native_moodle_database.php',370],['lib/dml','moodle_database.php',270],['lib','outputlib.php',465],['lib/dml','sqlsrv_native_moodle_database.php',126]], 2],
'commit_transaction': ['commit_transaction', '', [['lib/dml','pdo_moodle_database.php',555],['lib/dml','oci_native_moodle_database.php',1851],['lib/dml','pgsql_native_moodle_database.php',1360],['lib/dml','mssql_native_moodle_database.php',1417],['lib/dml','mysqli_native_moodle_database.php',1770],['lib/dml','sqlsrv_native_moodle_database.php',1485],['lib/dml/tests','dml_test.php',5558]], 2],
'update_record_raw': ['update_record_raw', 'Update record in database, as fast as possible, no safety checks, lobs not supported. ', [['lib/dml','pdo_moodle_database.php',429],['lib/dml','oci_native_moodle_database.php',1359],['lib/dml','pgsql_native_moodle_database.php',1047],['lib/dml','mssql_native_moodle_database.php',1025],['lib/dml','mysqli_native_moodle_database.php',1364],['lib/dml','sqlsrv_native_moodle_database.php',1111],['lib/dml/tests','dml_test.php',5550]], 27],
'normalise_limit_from_num': ['normalise_limit_from_num', 'Ensures that limit params are numeric and positive integers, to be passed to the database. We explicitly treat null, \'\' and -1 as 0 in order to provide compatibility with how limit values have been passed historically. ', [['lib/dml','moodle_database.php',973]], 7],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'connect': ['connect', 'Connect to db Must be called before other methods. ', [['lib/dml','pdo_moodle_database.php',51],['lib/dml','oci_native_moodle_database.php',122],['lib/google/src/Google/Cache','Memcache.php',159],['lib/adodb/drivers','adodb-text.inc.php',120],['lib/phpmailer','class.smtp.php',238],['lib/jabber/XMPP','BOSH.php',51],['lib/adodb','adodb-pear.inc.php',118],['lib/dml','pgsql_native_moodle_database.php',105],['lib/dml','mssql_native_moodle_database.php',137],['lib/dml','mysqli_native_moodle_database.php',404],['lib/adodb','adodb.inc.php',621],['lib/adodb','adodb-memcache.lib.inc.php',61],['lib/dml','sqlsrv_native_moodle_database.php',157],['lib/dml/tests','dml_test.php',5532],['lib/jabber/XMPP','XMLStream.php',288]], 56],
'driver_installed': ['driver_installed', 'Detects if all needed PHP stuff installed. Note: can be used before connect() ', [['lib/dml','oci_native_moodle_database.php',55],['lib/dml','sqlite3_pdo_moodle_database.php',38],['lib/dml','pgsql_native_moodle_database.php',48],['lib/dml','mssql_native_moodle_database.php',49],['lib/dml','mysqli_native_moodle_database.php',105],['lib/dml','sqlsrv_native_moodle_database.php',62],['lib/dml/tests','dml_test.php',5526]], 13],
'get_indexes': ['get_indexes', 'Return table indexes - everything lowercased. ', [['lib/dml','oci_native_moodle_database.php',424],['lib/dml','sqlite3_pdo_moodle_database.php',164],['lib/dml','pgsql_native_moodle_database.php',309],['lib/dml','mssql_native_moodle_database.php',386],['lib/dml','mysqli_native_moodle_database.php',542],['lib/dml','sqlsrv_native_moodle_database.php',445],['lib/dml/tests','dml_test.php',5537]], 8],
'normalise_value': ['normalise_value', 'Normalise values based in RDBMS dependencies (booleans, LOBs...) ', [['lib/dml','oci_native_moodle_database.php',681],['lib/dml','sqlite3_pdo_moodle_database.php',317],['lib/dml','pgsql_native_moodle_database.php',581],['lib/dml','mssql_native_moodle_database.php',553],['lib/dml','mysqli_native_moodle_database.php',848],['lib/dml','sqlsrv_native_moodle_database.php',623],['lib/dml/tests','dml_test.php',5539]], 22],
'purge': ['purge', 'Purges the cache deleting all items within it. ', [['cache/stores/static','lib.php',409],['cache','disabledlib.php',153],['cache/classes','dummystore.php',221],['cache/classes','loaders.php',832],['cache/classes','loaders.php',2036],['cache/stores/memcache','lib.php',435],['cache/stores/session','lib.php',455],['cache/stores/mongodb','lib.php',415],['cache/stores/file','lib.php',539],['cache/stores/memcached','lib.php',468]], 66],
'perf_get_writes': ['perf_get_writes', 'Returns the number of writes done by this database. ', [['lib/dml','moodle_database.php',2589]], 13],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'is_temptable': ['is_temptable', 'Returns if one table, based in the information present in the store, is a temp table ', [['lib/dml','moodle_temptables.php',96]], 27],
'get_recordset': ['get_recordset', 'Get the recordset. ', [['mod/glossary/classes','entry_query_builder.php',305],['lib/dml','moodle_database.php',1162]], 92],
'get_recordset_list': ['get_recordset_list', 'Get a number of records as a moodle_recordset where one field match one list of values. ', [['lib/dml','moodle_database.php',1201]], 9],
'get_dbvendor': ['get_dbvendor', 'Returns the database vendor. Note: can be used before connect() ', [['lib/dml','mariadb_native_moodle_database.php',59],['lib/dml','moodle_database.php',195]], 1],
'commit_delegated_transaction': ['commit_delegated_transaction', 'Indicates delegated transaction finished successfully. The real database transaction is committed only if all delegated transactions committed. ', [['lib/dml','moodle_database.php',2426]], 1],
'sql_order_by_text': ['sql_order_by_text', '', [['lib/dml','oci_native_moodle_database.php',1748],['lib/dml','mssql_native_moodle_database.php',1294],['lib/dml','moodle_database.php',2119],['lib/dml','sqlsrv_native_moodle_database.php',1362]], 9],
'perf_get_reads': ['perf_get_reads', 'Returns the number of reads done by this database. ', [['lib/dml','moodle_database.php',2581]], 80],
'sql_regex': ['sql_regex', '', [['lib/dml','pgsql_native_moodle_database.php',1251],['lib/dml','mysqli_native_moodle_database.php',1606],['lib/dml','moodle_database.php',2270]], 12],
'__destruct': ['__destruct', 'Destructor ', [['lib/phpexcel/PHPExcel/Worksheet','Row.php',57],['lib/dml','mssql_native_moodle_recordset.php',39],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',68],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',75],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',283],['lib/dml','mysqli_native_moodle_recordset.php',47],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',75],['lib/google/src/Google/Verifier','Pem.php',50],['lib/simplepie/library','SimplePie.php',663],['lib/dml','pdo_moodle_recordset.php',47],['backup/cc/cc_lib','xmlbase.php',58],['lib/google/src/Google/Signer','P12.php',74],['lib','csvlib.class.php',75],['lib','csvlib.class.php',551],['lib/phpexcel/PHPExcel','WorksheetIterator.php',55],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',165],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',204],['lib/phpexcel','PHPExcel.php',392],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',262],['lib/phpexcel/PHPExcel','Calculation.php',2090],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',190],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',282],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',197],['lib/tcpdf','tcpdf.php',1991],['lib/phpexcel/PHPExcel/Worksheet','Column.php',57],['cache/locks/file','lib.php',228],['lib/dml','sqlsrv_native_moodle_recordset.php',79],['lib/phpexcel/PHPExcel/Worksheet','CellIterator.php',51],['lib/classes/lock','lock.php',110],['lib/classes/dml','recordset_walk.php',77],['lib/simplepie/library/SimplePie','Item.php',120],['backup/util/loggers','file_logger.class.php',52],['lib/dml','moodle_database.php',148],['lib/dml','oci_native_moodle_recordset.php',39],['lib/adodb','adodb.inc.php',3252],['lib/google/src/Google/Logger','File.php',154],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',68],['cache/classes','interfaces.php',516],['lib/phpexcel/PHPExcel','Worksheet.php',380],['question/engine/tests','helpers.php',1217],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',320],['question/engine/upgrade','logger.php',71],['question/engine/upgrade','logger.php',93],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',264],['lib/mustache/src/Mustache/Logger','StreamLogger.php',55],['lib/phpmailer','class.phpmailer.php',642],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',38],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',80],['backup/cc','validator.php',150],['lib/jabber/XMPP','XMLStream.php',189],['lib/dml','pgsql_native_moodle_recordset.php',63]], 17],
'sql_cast_2signed': ['sql_cast_2signed', 'Returns the SQL to be used in order to an UNSIGNED INTEGER column to SIGNED. ', [['lib/dml','mysqli_native_moodle_database.php',1615],['lib/dml','moodle_database.php',2026]], 0],
'query_end': ['query_end', 'Called immediately after each db query. ', [['lib/dml','oci_native_moodle_database.php',253],['lib/dml','pgsql_native_moodle_database.php',215],['lib/dml','mssql_native_moodle_database.php',274],['lib/dml','moodle_database.php',443],['lib/dml','sqlsrv_native_moodle_database.php',285]], 131],
'format_backtrace': ['format_backtrace', 'Formats a backtrace ready for output. ', [['lib','setuplib.php',729]], 20],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'array_slice': ['array_slice', '', [], 165],
'debug_backtrace': ['debug_backtrace', '', [], 30],
'defined': ['defined', '', [], 4731],
'microtime': ['microtime', '', [], 109],
'func_get_args': ['func_get_args', '', [], 147],
'preg_match_all': ['preg_match_all', '', [], 161],
'is_bool': ['is_bool', '', [], 153],
'substr_count': ['substr_count', '', [], 72],
'ceil': ['ceil', '', [], 236],
'ltrim': ['ltrim', '', [], 92],
'array_keys': ['array_keys', '', [], 1256],
'str_replace': ['str_replace', '', [], 1648],
'preg_replace': ['preg_replace', '', [], 917],
'reset': ['reset', '', [], 1213],
'array_key_exists': ['array_key_exists', '', [], 1445],
'var_export': ['var_export', '', [], 71],
'strpos': ['strpos', '', [], 1604],
'array_pop': ['array_pop', '', [], 483],
'is_array': ['is_array', '', [], 1608],
'array_fill': ['array_fill', '', [], 60],
'implode': ['implode', '', [], 1281],
'trim': ['trim', '', [], 1948],
'array_values': ['array_values', '', [], 342],
'define': ['define', '', [], 2373],
'file_exists': ['file_exists', '', [], 867],
'count': ['count', '', [], 4095],
'is_numeric': ['is_numeric', '', [], 672],
'time': ['time', '', [], 1959],
'is_null': ['is_null', '', [], 2003],
'preg_replace_callback': ['preg_replace_callback', '', [], 136],
'substr': ['substr', '', [], 2823],
'array_shift': ['array_shift', '', [], 700],
'is_object': ['is_object', '', [], 544],
'end': ['end', '', [], 433],
'max': ['max', '', [], 1266],
'str_repeat': ['str_repeat', '', [], 156],
'get_class': ['get_class', '', [], 305],
'explode': ['explode', '', [], 1572]};
CLASS_DATA={
'cache': ['cache', 'The main cache class. ', [['cache/classes','loaders.php',31]], 284],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'dml_transaction_exception': ['dml_transaction_exception', 'DML transaction exception - triggered by problems related to DB transactions. ', [['lib','dmllib.php',255]], 8],
'moodle_transaction': ['moodle_transaction', 'Delegated transaction class. ', [['lib/dml','moodle_transaction.php',27]], 2],
'dml_write_exception': ['dml_write_exception', 'DML write exception - triggered by some SQL syntax errors, etc. ', [['lib','dmllib.php',223]], 2],
'dml_read_exception': ['dml_read_exception', 'DML read exception - triggered by some SQL syntax errors, etc. ', [['lib','dmllib.php',112]], 1],
'dml_missing_record_exception': ['dml_missing_record_exception', 'Caused by missing record that is required for normal operation. ', [['lib','dmllib.php',170]], 5],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 566],
'ddl_change_structure_exception': ['ddl_change_structure_exception', 'Error during changing db structure ', [['lib','ddllib.php',115]], 1],
'manager': ['manager', 'Search subsystem manager. ', [['search/classes','manager.php',31],['user/classes/output/myprofile','manager.php',28],['lib/classes/antivirus','manager.php',29],['lib/classes/event','manager.php',30],['lib/classes/task','manager.php',28],['admin/tool/messageinbound/classes','manager.php',29],['lib/classes/message/inbound','manager.php',29],['admin/tool/log/classes/log','manager.php',29],['lib/classes/log','manager.php',29],['lib/classes/session','manager.php',29],['lib/classes/message','manager.php',31]], 585],
'dml_multiple_records_exception': ['dml_multiple_records_exception', 'Caused by multiple records found in get_record() call. ', [['lib','dmllib.php',144]], 1],
'database_manager': ['database_manager', 'Database manager instance is responsible for all database structure modifications. ', [['lib/ddl','database_manager.php',29]], 3],
'dml_exception': ['dml_exception', 'DML exception class, use instead of print_error() in dml code. ', [['lib','dmllib.php',54]], 41]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'SQL_PARAMS_QM': ['SQL_PARAMS_QM', '', [['lib/dml','moodle_database.php',35]], 40],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 736],
'BEHAT_SITE_RUNNING': ['BEHAT_SITE_RUNNING', '', [['lib','setup.php',131]], 26],
'BEHAT_TEST': ['BEHAT_TEST', '', [['lib/tests/behat','behat_hooks.php',131]], 10],
'SQL_QUERY_INSERT': ['SQL_QUERY_INSERT', '', [['lib/dml','moodle_database.php',44]], 10],
'SQL_QUERY_STRUCTURE': ['SQL_QUERY_STRUCTURE', '', [['lib/dml','moodle_database.php',50]], 9],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 315],
'IGNORE_MULTIPLE': ['IGNORE_MULTIPLE', '', [['lib','dmllib.php',50]], 43],
'SQL_QUERY_SELECT': ['SQL_QUERY_SELECT', '', [['lib/dml','moodle_database.php',41]], 17],
'SQL_QUERY_UPDATE': ['SQL_QUERY_UPDATE', '', [['lib/dml','moodle_database.php',47]], 24],
'CLI_SCRIPT': ['CLI_SCRIPT', '', [['enrol/ldap/cli','sync.php',43],['lib/filestorage/tests/fixtures','zip_create_test_file.php',25],['admin/cli','fix_course_sequence.php',26],['admin/tool/behat/cli','run.php',30],['admin/cli','upgrade.php',38],['admin/cli','install.php',32],['admin/tool/uploadcourse/cli','uploadcourse.php',25],['admin/cli','fix_orphaned_question_categories.php',29],['admin/tool/generator/cli','maketestsite.php',25],['admin/cli','purge_caches.php',24],['admin/cli','install_database.php',31],['admin/tool/behat/cli','util.php',34],['admin/tool/task/cli','schedule_task.php',25],['admin/tool/replace/cli','replace.php',25],['auth/db/cli','sync_users.php',45],['admin/cli','automated_backups.php',29],['enrol/manual/cli','sync.php',30],['lib/editor/tinymce/cli','update_lang_files.php',25],['auth/ldap/cli','sync_users.php',47],['admin/cli','fix_deleted_users.php',26],['admin/cli','maintenance.php',26],['lib/tests/behat','behat_hooks.php',133],['admin/cli','reset_password.php',27],['admin/tool/dbtransfer/cli','migrate.php',30],['enrol/category/cli','sync.php',33],['admin/cli','mysql_compressed_rows.php',26],['enrol/paypal/cli','sync.php',30],['admin/cli','cron.php',31],['enrol/database/cli','sync.php',34],['admin/cli','mysql_collation.php',25],['auth/cas/cli','sync_users.php',43],['enrol/cohort/cli','sync.php',31],['admin/tool/generator/cli','maketestcourse.php',25],['admin/cli','backup.php',26],['search/cli','indexer.php',25],['admin/cli','check_database_schema.php',26],['admin/tool/behat/cli','util_single_run.php',90],['enrol/self/cli','sync.php',31],['','install.php',46],['theme/base/cli','svgtool.php',26],['admin','cron.php',47],['admin/tool/behat/cli','init.php',36],['enrol/meta/cli','sync.php',31],['admin/cli','alternative_component_cache.php',30],['admin/tool/generator/cli','maketestplan.php',25],['lib/phpunit','bootstrap.php',73],['lib','setup.php',289],['mod/chat','chatd.php',25],['lib/filestorage/tests/fixtures','zip_info.php',25],['enrol/flatfile/cli','sync.php',45],['admin/cli','mysql_engine.php',27]], 114],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215],
'SQL_PARAMS_DOLLAR': ['SQL_PARAMS_DOLLAR', '', [['lib/dml','moodle_database.php',38]], 17],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'SQL_QUERY_AUX': ['SQL_QUERY_AUX', '', [['lib/dml','moodle_database.php',53]], 88],
'PHPUNIT_TEST': ['PHPUNIT_TEST', '', [['admin/cli','install.php',145],['','install.php',49],['lib/phpunit','bootstrap.php',63],['lib','setup.php',247]], 59]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
