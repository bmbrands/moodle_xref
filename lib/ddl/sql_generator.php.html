<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of sql_generator.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/ddl';
filename='sql_generator.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/ddl/</a> -> <a href="sql_generator.php.source.html">sql_generator.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="sql_generator.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>This class represent the base generator class where all the needed functions to generate proper SQL are defined. The rest of classes will inherit, by default, the same logic. Functions will be overridden as needed to generate correct SQL.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas     http://dougiamas.com</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1397 lines (60 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 38 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#dispose">dispose</a>()<br>
&nbsp;&nbsp;<a href="#getendedstatements">getEndedStatements</a>()<br>
&nbsp;&nbsp;<a href="#table_exists">table_exists</a>()<br>
&nbsp;&nbsp;<a href="#getcreatestructuresql">getCreateStructureSQL</a>()<br>
&nbsp;&nbsp;<a href="#gettablename">getTableName</a>()<br>
&nbsp;&nbsp;<a href="#getcreatetablesql">getCreateTableSQL</a>()<br>
&nbsp;&nbsp;<a href="#getcreateindexsql">getCreateIndexSQL</a>()<br>
&nbsp;&nbsp;<a href="#getfieldsql">getFieldSQL</a>()<br>
&nbsp;&nbsp;<a href="#getkeysql">getKeySQL</a>()<br>
&nbsp;&nbsp;<a href="#getdefaultvalue">getDefaultValue</a>()<br>
&nbsp;&nbsp;<a href="#getdefaultclause">getDefaultClause</a>()<br>
&nbsp;&nbsp;<a href="#getrenametablesql">getRenameTableSQL</a>()<br>
&nbsp;&nbsp;<a href="#getdroptablesql">getDropTableSQL</a>()<br>
&nbsp;&nbsp;<a href="#getaddfieldsql">getAddFieldSQL</a>()<br>
&nbsp;&nbsp;<a href="#getdropfieldsql">getDropFieldSQL</a>()<br>
&nbsp;&nbsp;<a href="#getalterfieldsql">getAlterFieldSQL</a>()<br>
&nbsp;&nbsp;<a href="#getmodifydefaultsql">getModifyDefaultSQL</a>()<br>
&nbsp;&nbsp;<a href="#getrenamefieldsql">getRenameFieldSQL</a>()<br>
&nbsp;&nbsp;<a href="#getaddkeysql">getAddKeySQL</a>()<br>
&nbsp;&nbsp;<a href="#getdropkeysql">getDropKeySQL</a>()<br>
&nbsp;&nbsp;<a href="#getrenamekeysql">getRenameKeySQL</a>()<br>
&nbsp;&nbsp;<a href="#getaddindexsql">getAddIndexSQL</a>()<br>
&nbsp;&nbsp;<a href="#getdropindexsql">getDropIndexSQL</a>()<br>
&nbsp;&nbsp;<a href="#getrenameindexsql">getRenameIndexSQL</a>()<br>
&nbsp;&nbsp;<a href="#getnameforobject">getNameForObject</a>()<br>
&nbsp;&nbsp;<a href="#getencquoted">getEncQuoted</a>()<br>
&nbsp;&nbsp;<a href="#getexecuteinsertsql">getExecuteInsertSQL</a>()<br>
&nbsp;&nbsp;<a href="#getconcatsql">getConcatSQL</a>()<br>
&nbsp;&nbsp;<a href="#getsequencefromdb">getSequenceFromDB</a>()<br>
&nbsp;&nbsp;<a href="#isnameinuse">isNameInUse</a>()<br>
&nbsp;&nbsp;<a href="#getrenamefieldextrasql">getRenameFieldExtraSQL</a>()<br>
&nbsp;&nbsp;<a href="#getcreatesequencesql">getCreateSequenceSQL</a>()<br>
&nbsp;&nbsp;<a href="#getrenametableextrasql">getRenameTableExtraSQL</a>()<br>
&nbsp;&nbsp;<a href="#getdroptableextrasql">getDropTableExtraSQL</a>()<br>
&nbsp;&nbsp;<a href="#getreservedwords">getReservedWords</a>()<br>
&nbsp;&nbsp;<a href="#getallreservedwords">getAllReservedWords</a>()<br>
&nbsp;&nbsp;<a href="#addslashes">addslashes</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'sql_generator.php.source.html#l175')" href="sql_generator.php.source.html#l175">__construct</a>(<a href="../../_variables/mdb.html">$mdb</a>, <a href="../../_variables/temptables.html">$temptables</a> = null)&nbsp;&nbsp;
<a href="../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a new sql_generator.<BR>
</b><BR><b>param:</b> moodle_database $mdb The moodle_database object instance.<br>
<b>param:</b> moodle_temptables $temptables The optional moodle_temptables instance, null by default.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="dispose" onClick="logFunction('dispose', 'sql_generator.php.source.html#l187')" href="sql_generator.php.source.html#l187">dispose</a>()&nbsp;&nbsp;
<a href="../../_functions/dispose.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Releases all resources.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getendedstatements" onClick="logFunction('getendedstatements', 'sql_generator.php.source.html#l194')" href="sql_generator.php.source.html#l194">getEndedStatements</a>(<a href="../../_variables/input.html">$input</a>)&nbsp;&nbsp;
<a href="../../_functions/getendedstatements.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one string (or one array), ends it with $statement_end .<BR>
</b><BR><b>param:</b> array|string $input SQL statement(s).<br>
<b>return:</b> array|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="table_exists" onClick="logFunction('table_exists', 'sql_generator.php.source.html#l215')" href="sql_generator.php.source.html#l215">table_exists</a>(<a href="../../_variables/table.html">$table</a>)&nbsp;&nbsp;
<a href="../../_functions/table_exists.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table, checks if it exists in DB (true/false).<BR>
</b><BR><b>param:</b> mixed $table The table to be searched (string name or xmldb_table instance).<br>
<b>return:</b> boolean true/false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getcreatestructuresql" onClick="logFunction('getcreatestructuresql', 'sql_generator.php.source.html#l236')" href="sql_generator.php.source.html#l236">getCreateStructureSQL</a>(<a href="../../_variables/xmldb_structure.html">$xmldb_structure</a>)&nbsp;&nbsp;
<a href="../../_functions/getcreatestructuresql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function will return the SQL code needed to create db tables and statements.<BR>
</b><BR><b>param:</b> xmldb_structure $xmldb_structure An xmldb_structure instance.<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="gettablename" onClick="logFunction('gettablename', 'sql_generator.php.source.html#l255')" href="sql_generator.php.source.html#l255">getTableName</a>(xmldb_table <a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/quoted.html">$quoted</a>=true)&nbsp;&nbsp;
<a href="../../_functions/gettablename.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table, this returns it's correct name, depending of all the parameterization.<BR>
eg: This appends $prefix to the table name.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table whose name we want.<br>
<b>param:</b> boolean $quoted To specify if the name must be quoted (if reserved word, only!).<br>
<b>return:</b> string The correct name of the table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getcreatetablesql" onClick="logFunction('getcreatetablesql', 'sql_generator.php.source.html#l277')" href="sql_generator.php.source.html#l277">getCreateTableSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>)&nbsp;&nbsp;
<a href="../../_functions/getcreatetablesql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_table, returns the SQL statements<BR>
to create it (inside one array).<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table An xmldb_table instance.<br>
<b>return:</b> array An array of SQL statements, starting with the table creation SQL followed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getcreateindexsql" onClick="logFunction('getcreateindexsql', 'sql_generator.php.source.html#l410')" href="sql_generator.php.source.html#l410">getCreateIndexSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_index.html">$xmldb_index</a>)&nbsp;&nbsp;
<a href="../../_functions/getcreateindexsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_index, returns the SQL statements<BR>
needed to create it (in array).<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table instance to create the index on.<br>
<b>param:</b> xmldb_index $xmldb_index The xmldb_index to create.<br>
<b>return:</b> array An array of SQL statements to create the index.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getfieldsql" onClick="logFunction('getfieldsql', 'sql_generator.php.source.html#l439')" href="sql_generator.php.source.html#l439">getFieldSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL, <a href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a> = NULL, <a href="../../_variables/specify_field_name.html">$specify_field_name</a> = true)&nbsp;&nbsp;
<a href="../../_functions/getfieldsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_field, returns the complete SQL line to create it.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.<br>
<b>param:</b> string $skip_type_clause The type clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_default_clause The default clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.<br>
<b>param:</b> string $specify_nulls_clause To force a specific null clause, NULL by default.<br>
<b>param:</b> bool $specify_field_name Flag to specify fieldname in return.<br>
<b>return:</b> string The field generating SQL statement.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getkeysql" onClick="logFunction('getkeysql', 'sql_generator.php.source.html#l527')" href="sql_generator.php.source.html#l527">getKeySQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_key.html">$xmldb_key</a>)&nbsp;&nbsp;
<a href="../../_functions/getkeysql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_key, returns its specs.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_key.<br>
<b>param:</b> xmldb_key $xmldb_key The xmldb_key's specifications requested.<br>
<b>return:</b> string SQL statement about the xmldb_key.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdefaultvalue" onClick="logFunction('getdefaultvalue', 'sql_generator.php.source.html#l569')" href="sql_generator.php.source.html#l569">getDefaultValue</a>(<a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getdefaultvalue.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Give one xmldb_field, returns the correct &quot;default value&quot; for the current configuration<BR>
</b><BR><b>param:</b> xmldb_field $xmldb_field The field.<br>
<b>return:</b> The default value of the field.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdefaultclause" onClick="logFunction('getdefaultclause', 'sql_generator.php.source.html#l610')" href="sql_generator.php.source.html#l610">getDefaultClause</a>(<a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getdefaultclause.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_field, returns the correct &quot;default clause&quot; for the current configuration.<BR>
</b><BR><b>param:</b> xmldb_field $xmldb_field The xmldb_field.<br>
<b>return:</b> The SQL clause for generating the default value as in $xmldb_field.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenametablesql" onClick="logFunction('getrenametablesql', 'sql_generator.php.source.html#l627')" href="sql_generator.php.source.html#l627">getRenameTableSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/newname.html">$newname</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenametablesql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_table and the new name, returns the SQL statements<BR>
to rename it (inside one array).<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table to rename.<br>
<b>param:</b> string $newname The new name to rename the table to.<br>
<b>return:</b> array SQL statement(s) to rename the table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdroptablesql" onClick="logFunction('getdroptablesql', 'sql_generator.php.source.html#l653')" href="sql_generator.php.source.html#l653">getDropTableSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>)&nbsp;&nbsp;
<a href="../../_functions/getdroptablesql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_table and the new name, returns the SQL statements<BR>
to drop it (inside one array). Works also for temporary tables.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table to drop.<br>
<b>return:</b> array SQL statement(s) for dropping the specified table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getaddfieldsql" onClick="logFunction('getaddfieldsql', 'sql_generator.php.source.html#l675')" href="sql_generator.php.source.html#l675">getAddFieldSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL)&nbsp;&nbsp;
<a href="../../_functions/getaddfieldsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_field, return the SQL statements needed to add the field to the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.<br>
<b>param:</b> string $skip_type_clause The type clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_default_clause The default clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.<br>
<b>return:</b> array The SQL statement for adding a field to the table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdropfieldsql" onClick="logFunction('getdropfieldsql', 'sql_generator.php.source.html#l710')" href="sql_generator.php.source.html#l710">getDropFieldSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getdropfieldsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop the field from the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.<br>
<b>return:</b> array The SQL statement for dropping a field from the table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getalterfieldsql" onClick="logFunction('getalterfieldsql', 'sql_generator.php.source.html#l731')" href="sql_generator.php.source.html#l731">getAlterFieldSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL)&nbsp;&nbsp;
<a href="../../_functions/getalterfieldsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_field, return the SQL statements needed to alter the field in the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.<br>
<b>param:</b> string $skip_type_clause The type clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_default_clause The default clause on alter columns, NULL by default.<br>
<b>param:</b> string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.<br>
<b>return:</b> string The field altering SQL statement.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getmodifydefaultsql" onClick="logFunction('getmodifydefaultsql', 'sql_generator.php.source.html#l772')" href="sql_generator.php.source.html#l772">getModifyDefaultSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getmodifydefaultsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_field, return the SQL statements needed to modify the default of the field in the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to get the modified default value from.<br>
<b>return:</b> array The SQL statement for modifying the default value.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenamefieldsql" onClick="logFunction('getrenamefieldsql', 'sql_generator.php.source.html#l797')" href="sql_generator.php.source.html#l797">getRenameFieldSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a href="../../_variables/newname.html">$newname</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenamefieldsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one correct xmldb_field and the new name, returns the SQL statements<BR>
to rename it (inside one array).<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_field.<br>
<b>param:</b> xmldb_field $xmldb_field The instance of xmldb_field to get the renamed field from.<br>
<b>param:</b> string $newname The new name to rename the field to.<br>
<b>return:</b> array The SQL statements for renaming the field.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getaddkeysql" onClick="logFunction('getaddkeysql', 'sql_generator.php.source.html#l834')" href="sql_generator.php.source.html#l834">getAddKeySQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_key.html">$xmldb_key</a>)&nbsp;&nbsp;
<a href="../../_functions/getaddkeysql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_key, return the SQL statements needed to add the key to the table<BR>
note that undelying indexes will be added as parametrised by $xxxx_keys and $xxxx_index parameters.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_key.<br>
<b>param:</b> xmldb_key $xmldb_key The xmldb_key to add.<br>
<b>return:</b> array SQL statement to add the xmldb_key.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdropkeysql" onClick="logFunction('getdropkeysql', 'sql_generator.php.source.html#l879')" href="sql_generator.php.source.html#l879">getDropKeySQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_key.html">$xmldb_key</a>)&nbsp;&nbsp;
<a href="../../_functions/getdropkeysql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_key.<br>
<b>param:</b> xmldb_key $xmldb_key The xmldb_key to drop.<br>
<b>return:</b> array SQL statement to drop the xmldb_key.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenamekeysql" onClick="logFunction('getrenamekeysql', 'sql_generator.php.source.html#l950')" href="sql_generator.php.source.html#l950">getRenameKeySQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_key.html">$xmldb_key</a>, <a href="../../_variables/newname.html">$newname</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenamekeysql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_key, return the SQL statements needed to rename the key in the table<BR>
Experimental! Shouldn't be used at all!<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The table related to $xmldb_key.<br>
<b>param:</b> xmldb_key $xmldb_key The xmldb_key to rename.<br>
<b>param:</b> string $newname The xmldb_key's new name.<br>
<b>return:</b> array SQL statement to rename the xmldb_key.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getaddindexsql" onClick="logFunction('getaddindexsql', 'sql_generator.php.source.html#l991')" href="sql_generator.php.source.html#l991">getAddIndexSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_index.html">$xmldb_index</a>)&nbsp;&nbsp;
<a href="../../_functions/getaddindexsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_index, return the SQL statements needed to add the index to the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table instance to add the index on.<br>
<b>param:</b> xmldb_index $xmldb_index The xmldb_index to add.<br>
<b>return:</b> array An array of SQL statements to add the index.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdropindexsql" onClick="logFunction('getdropindexsql', 'sql_generator.php.source.html#l1004')" href="sql_generator.php.source.html#l1004">getDropIndexSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_index.html">$xmldb_index</a>)&nbsp;&nbsp;
<a href="../../_functions/getdropindexsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table instance to drop the index on.<br>
<b>param:</b> xmldb_index $xmldb_index The xmldb_index to drop.<br>
<b>return:</b> array An array of SQL statements to drop the index.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenameindexsql" onClick="logFunction('getrenameindexsql', 'sql_generator.php.source.html#l1030')" href="sql_generator.php.source.html#l1030">getRenameIndexSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_index.html">$xmldb_index</a>, <a href="../../_variables/newname.html">$newname</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenameindexsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one xmldb_table and one xmldb_index, return the SQL statements needed to rename the index in the table<BR>
Experimental! Shouldn't be used at all!<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table instance to rename the index on.<br>
<b>param:</b> xmldb_index $xmldb_index The xmldb_index to rename.<br>
<b>param:</b> string $newname The xmldb_index's new name.<br>
<b>return:</b> array An array of SQL statements to rename the index.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getnameforobject" onClick="logFunction('getnameforobject', 'sql_generator.php.source.html#l1055')" href="sql_generator.php.source.html#l1055">getNameForObject</a>(<a href="../../_variables/tablename.html">$tablename</a>, <a href="../../_variables/fields.html">$fields</a>, <a href="../../_variables/suffix.html">$suffix</a>='')&nbsp;&nbsp;
<a href="../../_functions/getnameforobject.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given three strings (table name, list of fields (comma separated) and suffix),<BR>
create the proper object name quoting it if necessary.<BR>
</b><BR>IMPORTANT: This function must be used to CALCULATE NAMES of objects TO BE CREATED,<BR>
NEVER TO GUESS NAMES of EXISTING objects!!!<BR>
<BR>
<b>param:</b> string $tablename The table name.<br>
<b>param:</b> string $fields A list of comma separated fields.<br>
<b>param:</b> string $suffix A suffix for the object name.<br>
<b>return:</b> string Object's name.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getencquoted" onClick="logFunction('getencquoted', 'sql_generator.php.source.html#l1113')" href="sql_generator.php.source.html#l1113">getEncQuoted</a>(<a href="../../_variables/input.html">$input</a>)&nbsp;&nbsp;
<a href="../../_functions/getencquoted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given any string (or one array), enclose it by the proper quotes<BR>
if it's a reserved word<BR>
</b><BR><b>param:</b> string|array $input String to quote.<br>
<b>return:</b> string Quoted string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getexecuteinsertsql" onClick="logFunction('getexecuteinsertsql', 'sql_generator.php.source.html#l1138')" href="sql_generator.php.source.html#l1138">getExecuteInsertSQL</a>(<a href="../../_variables/statement.html">$statement</a>)&nbsp;&nbsp;
<a href="../../_functions/getexecuteinsertsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one XMLDB Statement, build the needed SQL insert sentences to execute it.<BR>
</b><BR><b>param:</b> string $statement SQL statement.<br>
<b>return:</b> array Array of sentences in the SQL statement.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getconcatsql" onClick="logFunction('getconcatsql', 'sql_generator.php.source.html#l1193')" href="sql_generator.php.source.html#l1193">getConcatSQL</a>(<a href="../../_variables/elements.html">$elements</a>)&nbsp;&nbsp;
<a href="../../_functions/getconcatsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one array of elements, build the proper CONCAT expression, based<BR>
in the $concat_character setting. If such setting is empty, then<BR>
MySQL's CONCAT function will be used instead.<BR>
</b><BR><b>param:</b> array $elements An array of elements to concatenate.<br>
<b>return:</b> mixed Returns the result of moodle_database::sql_concat() or false.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getsequencefromdb" onClick="logFunction('getsequencefromdb', 'sql_generator.php.source.html#l1218')" href="sql_generator.php.source.html#l1218">getSequenceFromDB</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>)&nbsp;&nbsp;
<a href="../../_functions/getsequencefromdb.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the name (string) of the sequence used in the table for the autonumeric pk<BR>
Only some DB have this implemented.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table instance.<br>
<b>return:</b> bool Returns the sequence from the DB or false.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="isnameinuse" onClick="logFunction('isnameinuse', 'sql_generator.php.source.html#l1229')" href="sql_generator.php.source.html#l1229">isNameInUse</a>(<a href="../../_variables/object_name.html">$object_name</a>, <a href="../../_variables/type.html">$type</a>, <a href="../../_variables/table_name.html">$table_name</a>)&nbsp;&nbsp;
<a href="../../_functions/isnameinuse.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given one object name and it's type (pk, uk, fk, ck, ix, uix, seq, trg).<BR>
</b><BR>(MySQL requires the whole xmldb_table object to be specified, so we add it always)<BR>
<BR>
This is invoked from getNameForObject().<BR>
Only some DB have this implemented.<BR>
<BR>
<b>param:</b> string $object_name The object's name to check for.<br>
<b>param:</b> string $type The object's type (pk, uk, fk, ck, ix, uix, seq, trg).<br>
<b>param:</b> string $table_name The table's name to check in<br>
<b>return:</b> bool If such name is currently in use (true) or no (false)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenamefieldextrasql" onClick="logFunction('getrenamefieldextrasql', 'sql_generator.php.source.html#l1277')" href="sql_generator.php.source.html#l1277">getRenameFieldExtraSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenamefieldextrasql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the code (array of statements) needed to execute extra statements on field rename.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table object instance.<br>
<b>param:</b> xmldb_field $xmldb_field The xmldb_field object instance.<br>
<b>return:</b> array Array of extra SQL statements to run with a field being renamed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getcreatesequencesql" onClick="logFunction('getcreatesequencesql', 'sql_generator.php.source.html#l1288')" href="sql_generator.php.source.html#l1288">getCreateSequenceSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/xmldb_field.html">$xmldb_field</a>)&nbsp;&nbsp;
<a href="../../_functions/getcreatesequencesql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the code (array of statements) needed<BR>
to create one sequence for the xmldb_table and xmldb_field passed in.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table object instance.<br>
<b>param:</b> xmldb_field $xmldb_field The xmldb_field object instance.<br>
<b>return:</b> array Array of SQL statements to create the sequence.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getrenametableextrasql" onClick="logFunction('getrenametableextrasql', 'sql_generator.php.source.html#l1308')" href="sql_generator.php.source.html#l1308">getRenameTableExtraSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a href="../../_variables/newname.html">$newname</a>)&nbsp;&nbsp;
<a href="../../_functions/getrenametableextrasql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the code (array of statements) needed to execute extra statements on table rename.<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table object instance.<br>
<b>param:</b> string $newname The new name for the table.<br>
<b>return:</b> array Array of extra SQL statements to rename a table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getdroptableextrasql" onClick="logFunction('getdroptableextrasql', 'sql_generator.php.source.html#l1319')" href="sql_generator.php.source.html#l1319">getDropTableExtraSQL</a>(<a href="../../_variables/xmldb_table.html">$xmldb_table</a>)&nbsp;&nbsp;
<a href="../../_functions/getdroptableextrasql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the code (array of statements) needed to execute extra statements on table drop<BR>
</b><BR><b>param:</b> xmldb_table $xmldb_table The xmldb_table object instance.<br>
<b>return:</b> array Array of extra SQL statements to drop a table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getreservedwords" onClick="logFunction('getreservedwords', 'sql_generator.php.source.html#l1353')" href="sql_generator.php.source.html#l1353">getReservedWords</a>()&nbsp;&nbsp;
<a href="../../_functions/getreservedwords.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of reserved words (lowercase) for this DB<BR>
You MUST provide the real list for each DB inside every XMLDB class.<BR>
</b><BR><b>return:</b> array An array of database specific reserved words.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getallreservedwords" onClick="logFunction('getallreservedwords', 'sql_generator.php.source.html#l1363')" href="sql_generator.php.source.html#l1363">getAllReservedWords</a>()&nbsp;&nbsp;
<a href="../../_functions/getallreservedwords.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all reserved words in supported databases.<BR>
Reserved words should be lowercase.<BR>
</b><BR><b>return:</b> array ('word'=&gt;array(databases))<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="addslashes" onClick="logFunction('addslashes', 'sql_generator.php.source.html#l1385')" href="sql_generator.php.source.html#l1385">addslashes</a>(<a href="../../_variables/s.html">$s</a>)&nbsp;&nbsp;
<a href="../../_functions/addslashes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds slashes to string.<BR>
</b><BR><b>param:</b> string $s<br>
<b>return:</b> string The escaped string.<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
