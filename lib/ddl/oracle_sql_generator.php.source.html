<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/ddl/oracle_sql_generator.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/ddl';
filename='oracle_sql_generator.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/ddl/</a> -> <a href="oracle_sql_generator.php.html">oracle_sql_generator.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="oracle_sql_generator.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="oracle_sql_generator.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Oracle specific SQL code generator.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_ddl</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas     http://dougiamas.com</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *             2001-3001 Eloy Lafuente (stronk7) http://contiento.com</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/ddl/sql_generator.php');
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * This class generate SQL code to be used against Oracle</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * It extends XMLDBgenerator so everything can be</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * overridden as needed to generate correct SQL.</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> *</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @package    core_ddl</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas     http://dougiamas.com</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *             2001-3001 Eloy Lafuente (stronk7) http://contiento.com</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('oracle_sql_generator')" href="../../_classes/oracle_sql_generator.html" onMouseOver="classPopup(event,'oracle_sql_generator')">oracle_sql_generator</a> extends sql_generator {
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">    // Only set values that are different from the defaults present in XMLDBgenerator</span>
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @var string To be automatically added at the end of each statement.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * note: Using &quot;/&quot; because the standard &quot;;&quot; isn't good for stored procedures (triggers)</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     */</span>
<a name="l48"><span class="linenum">  48</span></a>      public <a class="var it11073" onMouseOver="hilite(11073)" onMouseOut="lolite()" onClick="logVariable('statement_end')" href="../../_variables/statement_end.html">$statement_end</a> = &quot;\n/&quot;;
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">    /** @var string Proper type for NUMBER(x) in this DB. */</span>
<a name="l51"><span class="linenum">  51</span></a>      public <a class="var it1485" onMouseOver="hilite(1485)" onMouseOut="lolite()" onClick="logVariable('number_type')" href="../../_variables/number_type.html">$number_type</a> = 'NUMBER';
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      <span class="comment">/**</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * @var string To define the default to set for NOT NULLs CHARs without default (null=do nothing).</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * note: Using this whitespace here because Oracle doesn't distinguish empty and null! :-(</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     */</span>
<a name="l57"><span class="linenum">  57</span></a>      public <a class="var it1448" onMouseOver="hilite(1448)" onMouseOut="lolite()" onClick="logVariable('default_for_char')" href="../../_variables/default_for_char.html">$default_for_char</a> = ' ';
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">    /** @var bool To specify if the generator must use some DEFAULT clause to drop defaults.*/</span>
<a name="l60"><span class="linenum">  60</span></a>      public <a class="var it1449" onMouseOver="hilite(1449)" onMouseOut="lolite()" onClick="logVariable('drop_default_value_required')" href="../../_variables/drop_default_value_required.html">$drop_default_value_required</a> = true;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">    /** @var string The DEFAULT clause required to drop defaults.*/</span>
<a name="l63"><span class="linenum">  63</span></a>      public <a class="var it1450" onMouseOver="hilite(1450)" onMouseOut="lolite()" onClick="logVariable('drop_default_value')" href="../../_variables/drop_default_value.html">$drop_default_value</a> = null;
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">    /** @var bool To decide if the default clause of each field must go after the null clause.*/</span>
<a name="l66"><span class="linenum">  66</span></a>      public <a class="var it11074" onMouseOver="hilite(11074)" onMouseOut="lolite()" onClick="logVariable('default_after_null')" href="../../_variables/default_after_null.html">$default_after_null</a> = false;
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">    /** @var bool True if the generator needs to add extra code to generate the sequence fields.*/</span>
<a name="l69"><span class="linenum">  69</span></a>      public <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('sequence_extra_code')" href="../../_variables/sequence_extra_code.html">$sequence_extra_code</a> = true;
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">    /** @var string The particular name for inline sequences in this generator.*/</span>
<a name="l72"><span class="linenum">  72</span></a>      public <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> = '';
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">    /** @var string The SQL template to alter columns where the 'TABLENAME' and 'COLUMNSPECS' keywords are dynamically replaced.*/</span>
<a name="l75"><span class="linenum">  75</span></a>      public <a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('alter_column_sql')" href="../../_variables/alter_column_sql.html">$alter_column_sql</a> = 'ALTER TABLE TABLENAME <a class="function" onClick="logFunction('MODIFY')" href="../../_functions/modify.html" onMouseOver="funcPopup(event,'modify')">MODIFY</a> (COLUMNSPECS)';
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">    /** @var int var ugly Oracle hack - size of the sequences values cache (20 = Default)*/</span>
<a name="l78"><span class="linenum">  78</span></a>      public <a class="var it11075" onMouseOver="hilite(11075)" onMouseOut="lolite()" onClick="logVariable('sequence_cache_size')" href="../../_variables/sequence_cache_size.html">$sequence_cache_size</a> = 20;
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      <span class="comment">/**</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * Reset a sequence to the id field of a table.</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     *</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * @param xmldb_table|string $table name of table or the table object.</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * @return array of sql statements</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     */</span>
<a name="l86"><span class="linenum">  86</span></a>      public function <a class="function" onClick="logFunction('getResetSequenceSQL')" href="../../_functions/getresetsequencesql.html" onMouseOver="funcPopup(event,'getresetsequencesql')">getResetSequenceSQL</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>          if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>)) {
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>;
<a name="l90"><span class="linenum">  90</span></a>              <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>(<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l91"><span class="linenum">  91</span></a>          } else {
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a> = <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>;
<a name="l94"><span class="linenum">  94</span></a>          }
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">        // From http://www.acs.ilstu.edu/docs/oracle/server.101/b10759/statements_2011.htm</span>
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = (int)<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>('SELECT <a class="phpfunction" onClick="logFunction('MAX')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(id) FROM {'.<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>.'}');
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>++;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it6850" onMouseOver="hilite(6850)" onMouseOut="lolite()" onClick="logVariable('seqname')" href="../../_variables/seqname.html">$seqname</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getSequenceFromDB')" href="../../_functions/getsequencefromdb.html" onMouseOver="funcPopup(event,'getsequencefromdb')">getSequenceFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>          if (!<a class="var it6850" onMouseOver="hilite(6850)" onMouseOut="lolite()" onClick="logVariable('seqname')" href="../../_variables/seqname.html">$seqname</a>) {
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">            // Fallback, seqname not found, something is wrong. Inform and use the alternative getNameForObject() method</span>
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it6850" onMouseOver="hilite(6850)" onMouseOut="lolite()" onClick="logVariable('seqname')" href="../../_variables/seqname.html">$seqname</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, 'id', 'seq');
<a name="l104"><span class="linenum"> 104</span></a>          }
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>          return array (&quot;DROP SEQUENCE <a class="var it6850" onMouseOver="hilite(6850)" onMouseOut="lolite()" onClick="logVariable('seqname')" href="../../_variables/seqname.html">$seqname</a>&quot;,
<a name="l107"><span class="linenum"> 107</span></a>                        &quot;CREATE SEQUENCE <a class="var it6850" onMouseOver="hilite(6850)" onMouseOut="lolite()" onClick="logVariable('seqname')" href="../../_variables/seqname.html">$seqname</a> START WITH <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> INCREMENT BY 1 NOMAXVALUE CACHE <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_cache_size')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/sequence_cache_size.html">sequence_cache_size</a>&quot;);
<a name="l108"><span class="linenum"> 108</span></a>      }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>      <span class="comment">/**</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * Given one xmldb_table, returns it's correct name, depending of all the parametrization</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * Overridden to allow change of names in temp tables</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     *</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * @param xmldb_table table whose name we want</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * @param boolean to specify if the name must be quoted (if reserved word, only!)</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * @return string the correct name of the table</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     */</span>
<a name="l118"><span class="linenum"> 118</span></a>      public function <a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(xmldb_table <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it4048" onMouseOver="hilite(4048)" onMouseOut="lolite()" onClick="logVariable('quoted')" href="../../_variables/quoted.html">$quoted</a>=true) {
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">        // Get the name, supporting special oci names for temp tables</span>
<a name="l120"><span class="linenum"> 120</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('is_temptable')" href="../../_functions/is_temptable.html" onMouseOver="funcPopup(event,'is_temptable')">is_temptable</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>())) {
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('get_correct_name')" href="../../_functions/get_correct_name.html" onMouseOver="funcPopup(event,'get_correct_name')">get_correct_name</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l122"><span class="linenum"> 122</span></a>          } else {
<a name="l123"><span class="linenum"> 123</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a> . <a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">        // Apply quotes optionally</span>
<a name="l127"><span class="linenum"> 127</span></a>          if (<a class="var it4048" onMouseOver="hilite(4048)" onMouseOut="lolite()" onClick="logVariable('quoted')" href="../../_variables/quoted.html">$quoted</a>) {
<a name="l128"><span class="linenum"> 128</span></a>              <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l129"><span class="linenum"> 129</span></a>          }
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>          return <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>;
<a name="l132"><span class="linenum"> 132</span></a>      }
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>      <span class="comment">/**</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * Given one correct xmldb_table, returns the SQL statements</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * to create temporary table (inside one array).</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     *</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @return array of sql statements</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>      public function <a class="function" onClick="logFunction('getCreateTempTableSQL')" href="../../_functions/getcreatetemptablesql.html" onMouseOver="funcPopup(event,'getcreatetemptablesql')">getCreateTempTableSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('add_temptable')" href="../../_functions/add_temptable.html" onMouseOver="funcPopup(event,'add_temptable')">add_temptable</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateTableSQL')" href="../../_functions/getcreatetablesql.html" onMouseOver="funcPopup(event,'getcreatetablesql')">getCreateTableSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/^CREATE <a class="function" onClick="logFunction('TABLE')" href="../../_functions/table.html" onMouseOver="funcPopup(event,'table')">TABLE</a> (.*)/s', 'CREATE GLOBAL TEMPORARY TABLE <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> ON COMMIT PRESERVE ROWS', <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a>);
<a name="l145"><span class="linenum"> 145</span></a>          return <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a>;
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * Given one correct xmldb_table, returns the SQL statements</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * to drop it (inside one array).</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     *</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table to drop.</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * @return array SQL statement(s) for dropping the specified table.</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     */</span>
<a name="l155"><span class="linenum"> 155</span></a>      public function <a class="function" onClick="logFunction('getDropTableSQL')" href="../../_functions/getdroptablesql.html" onMouseOver="funcPopup(event,'getdroptablesql')">getDropTableSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a> = parent::<a class="function" onClick="logFunction('getDropTableSQL')" href="../../_functions/getdroptablesql.html" onMouseOver="funcPopup(event,'getdroptablesql')">getDropTableSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l157"><span class="linenum"> 157</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('is_temptable')" href="../../_functions/is_temptable.html" onMouseOver="funcPopup(event,'is_temptable')">is_temptable</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>())) {
<a name="l158"><span class="linenum"> 158</span></a>              <a class="phpfunction" onClick="logFunction('array_unshift')" href="../../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a>, &quot;TRUNCATE TABLE &quot;. <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>)); <span class="comment">// oracle requires truncate before being able to drop a temp table</span>
<a name="l159"><span class="linenum"> 159</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('delete_temptable')" href="../../_functions/delete_temptable.html" onMouseOver="funcPopup(event,'delete_temptable')">delete_temptable</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l160"><span class="linenum"> 160</span></a>          }
<a name="l161"><span class="linenum"> 161</span></a>          return <a class="var it1473" onMouseOver="hilite(1473)" onMouseOut="lolite()" onClick="logVariable('sqlarr')" href="../../_variables/sqlarr.html">$sqlarr</a>;
<a name="l162"><span class="linenum"> 162</span></a>      }
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>      <span class="comment">/**</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">     * Given one XMLDB Type, length and decimals, returns the DB proper SQL type.</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     *</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * @param int $xmldb_type The xmldb_type defined constant. XMLDB_TYPE_INTEGER and other XMLDB_TYPE_* constants.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * @param int $xmldb_length The length of that data type.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @param int $xmldb_decimals The decimal places of precision of the data type.</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @return string The DB defined data type.</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     */</span>
<a name="l172"><span class="linenum"> 172</span></a>      public function <a class="function" onClick="logFunction('getTypeSQL')" href="../../_functions/gettypesql.html" onMouseOver="funcPopup(event,'gettypesql')">getTypeSQL</a>(<a class="var it1482" onMouseOver="hilite(1482)" onMouseOut="lolite()" onClick="logVariable('xmldb_type')" href="../../_variables/xmldb_type.html">$xmldb_type</a>, <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>=null, <a class="var it1484" onMouseOver="hilite(1484)" onMouseOut="lolite()" onClick="logVariable('xmldb_decimals')" href="../../_variables/xmldb_decimals.html">$xmldb_decimals</a>=null) {
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>          switch (<a class="var it1482" onMouseOver="hilite(1482)" onMouseOut="lolite()" onClick="logVariable('xmldb_type')" href="../../_variables/xmldb_type.html">$xmldb_type</a>) {
<a name="l175"><span class="linenum"> 175</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>:    // See http://www.acs.ilstu.edu/docs/oracle/server.101/b10759/sql_elements001.htm#sthref86.
<a name="l176"><span class="linenum"> 176</span></a>                  if (empty(<a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>)) {
<a name="l177"><span class="linenum"> 177</span></a>                      <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a> = 10;
<a name="l178"><span class="linenum"> 178</span></a>                  }
<a name="l179"><span class="linenum"> 179</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = '<a class="function" onClick="logFunction('NUMBER')" href="../../_functions/number.html" onMouseOver="funcPopup(event,'number')">NUMBER</a>(' .  <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a> . ')';
<a name="l180"><span class="linenum"> 180</span></a>                  break;
<a name="l181"><span class="linenum"> 181</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_FLOAT')" href="../../_constants/XMLDB_TYPE_FLOAT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_FLOAT')">XMLDB_TYPE_FLOAT</a>:
<a name="l182"><span class="linenum"> 182</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_NUMBER')" href="../../_constants/XMLDB_TYPE_NUMBER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_NUMBER')">XMLDB_TYPE_NUMBER</a>:
<a name="l183"><span class="linenum"> 183</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('number_type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/number_type.html">number_type</a>;
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">                // 38 is the max allowed</span>
<a name="l185"><span class="linenum"> 185</span></a>                  if (<a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a> &gt; 38) {
<a name="l186"><span class="linenum"> 186</span></a>                      <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a> = 38;
<a name="l187"><span class="linenum"> 187</span></a>                  }
<a name="l188"><span class="linenum"> 188</span></a>                  if (!empty(<a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>)) {
<a name="l189"><span class="linenum"> 189</span></a>                      <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> .= '(' . <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>;
<a name="l190"><span class="linenum"> 190</span></a>                      if (!empty(<a class="var it1484" onMouseOver="hilite(1484)" onMouseOut="lolite()" onClick="logVariable('xmldb_decimals')" href="../../_variables/xmldb_decimals.html">$xmldb_decimals</a>)) {
<a name="l191"><span class="linenum"> 191</span></a>                          <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> .= ',' . <a class="var it1484" onMouseOver="hilite(1484)" onMouseOut="lolite()" onClick="logVariable('xmldb_decimals')" href="../../_variables/xmldb_decimals.html">$xmldb_decimals</a>;
<a name="l192"><span class="linenum"> 192</span></a>                      }
<a name="l193"><span class="linenum"> 193</span></a>                      <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> .= ')';
<a name="l194"><span class="linenum"> 194</span></a>                  }
<a name="l195"><span class="linenum"> 195</span></a>                  break;
<a name="l196"><span class="linenum"> 196</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_CHAR')" href="../../_constants/XMLDB_TYPE_CHAR.html" onMouseOver="constPopup(event,'XMLDB_TYPE_CHAR')">XMLDB_TYPE_CHAR</a>:
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">                // Do not use NVARCHAR2 here because it has hardcoded 1333 char limit,</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">                // VARCHAR2 allows us to create larger fields that error out later during runtime</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">                // only when too many non-ascii utf-8 chars present.</span>
<a name="l200"><span class="linenum"> 200</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = 'VARCHAR2';
<a name="l201"><span class="linenum"> 201</span></a>                  if (empty(<a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>)) {
<a name="l202"><span class="linenum"> 202</span></a>                      <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>='255';
<a name="l203"><span class="linenum"> 203</span></a>                  }
<a name="l204"><span class="linenum"> 204</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> .= '(' . <a class="var it1483" onMouseOver="hilite(1483)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a> . ' CHAR)'; <span class="comment">// CHAR is required because BYTE is the default</span>
<a name="l205"><span class="linenum"> 205</span></a>                  break;
<a name="l206"><span class="linenum"> 206</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>:
<a name="l207"><span class="linenum"> 207</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = 'CLOB';
<a name="l208"><span class="linenum"> 208</span></a>                  break;
<a name="l209"><span class="linenum"> 209</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_BINARY')" href="../../_constants/XMLDB_TYPE_BINARY.html" onMouseOver="constPopup(event,'XMLDB_TYPE_BINARY')">XMLDB_TYPE_BINARY</a>:
<a name="l210"><span class="linenum"> 210</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = 'BLOB';
<a name="l211"><span class="linenum"> 211</span></a>                  break;
<a name="l212"><span class="linenum"> 212</span></a>              case <a class="constant" onClick="logConstant('XMLDB_TYPE_DATETIME')" href="../../_constants/XMLDB_TYPE_DATETIME.html" onMouseOver="constPopup(event,'XMLDB_TYPE_DATETIME')">XMLDB_TYPE_DATETIME</a>:
<a name="l213"><span class="linenum"> 213</span></a>                  <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a> = 'DATE';
<a name="l214"><span class="linenum"> 214</span></a>                  break;
<a name="l215"><span class="linenum"> 215</span></a>          }
<a name="l216"><span class="linenum"> 216</span></a>          return <a class="var it632" onMouseOver="hilite(632)" onMouseOut="lolite()" onClick="logVariable('dbtype')" href="../../_variables/dbtype.html">$dbtype</a>;
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Returns the code (array of statements) needed</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * to create one sequence for the xmldb_table and xmldb_field passed in.</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     *</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @return array Array of SQL statements to create the sequence.</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     */</span>
<a name="l227"><span class="linenum"> 227</span></a>      public function <a class="function" onClick="logFunction('getCreateSequenceSQL')" href="../../_functions/getcreatesequencesql.html" onMouseOver="funcPopup(event,'getcreatesequencesql')">getCreateSequenceSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l230"><span class="linenum"> 230</span></a>  
<a name="l231"><span class="linenum"> 231</span></a>          <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), 'seq');
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it1741" onMouseOver="hilite(1741)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../_variables/sequence.html">$sequence</a> = &quot;CREATE SEQUENCE <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> START WITH 1 INCREMENT BY 1 NOMAXVALUE CACHE <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_cache_size')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/sequence_cache_size.html">sequence_cache_size</a>&quot;;
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it1741" onMouseOver="hilite(1741)" onMouseOut="lolite()" onClick="logVariable('sequence')" href="../../_variables/sequence.html">$sequence</a>;
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('getCreateTriggerSQL')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/getCreateTriggerSQL.html">getCreateTriggerSQL</a> (<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a>));
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l240"><span class="linenum"> 240</span></a>      }
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      <span class="comment">/**</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * Returns the code needed to create one trigger for the xmldb_table and xmldb_field passed</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     * @param string $sequence_name</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * @return array Array of SQL statements to create the sequence.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     */</span>
<a name="l250"><span class="linenum"> 250</span></a>      public function <a class="function" onClick="logFunction('getCreateTriggerSQL')" href="../../_functions/getcreatetriggersql.html" onMouseOver="funcPopup(event,'getcreatetriggersql')">getCreateTriggerSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a>) {
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>          <a class="var it11077" onMouseOver="hilite(11077)" onMouseOut="lolite()" onClick="logVariable('trigger_name')" href="../../_variables/trigger_name.html">$trigger_name</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), 'trg');
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a> = &quot;CREATE TRIGGER &quot; . <a class="var it11077" onMouseOver="hilite(11077)" onMouseOut="lolite()" onClick="logVariable('trigger_name')" href="../../_variables/trigger_name.html">$trigger_name</a>;
<a name="l255"><span class="linenum"> 255</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\n    BEFORE INSERT&quot;;
<a name="l256"><span class="linenum"> 256</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\nON &quot; . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l257"><span class="linenum"> 257</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\n    FOR EACH ROW&quot;;
<a name="l258"><span class="linenum"> 258</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\nBEGIN&quot;;
<a name="l259"><span class="linenum"> 259</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\n    IF :new.&quot; . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>()) . ' IS NULL THEN';
<a name="l260"><span class="linenum"> 260</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\n        SELECT &quot; . <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> . '.nextval INTO :new.' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>()) . &quot; FROM dual;&quot;;
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\n    END IF;&quot;;
<a name="l262"><span class="linenum"> 262</span></a>          <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>.= &quot;\nEND;&quot;;
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>          return array(<a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>);
<a name="l265"><span class="linenum"> 265</span></a>      }
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>      <span class="comment">/**</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * Returns the code needed to drop one sequence for the xmldb_table and xmldb_field passed</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     * Can, optionally, specify if the underlying trigger will be also dropped</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     *</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * @param bool $include_trigger</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * @return array Array of SQL statements to create the sequence.</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     */</span>
<a name="l276"><span class="linenum"> 276</span></a>      public function <a class="function" onClick="logFunction('getDropSequenceSQL')" href="../../_functions/getdropsequencesql.html" onMouseOver="funcPopup(event,'getdropsequencesql')">getDropSequenceSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it11079" onMouseOver="hilite(11079)" onMouseOut="lolite()" onClick="logVariable('include_trigger')" href="../../_variables/include_trigger.html">$include_trigger</a>=false) {
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>          if (<a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getSequenceFromDB')" href="../../_functions/getsequencefromdb.html" onMouseOver="funcPopup(event,'getsequencefromdb')">getSequenceFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>)) {
<a name="l281"><span class="linenum"> 281</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[] = &quot;DROP SEQUENCE &quot; . <a class="var it1456" onMouseOver="hilite(1456)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a>;
<a name="l282"><span class="linenum"> 282</span></a>          }
<a name="l283"><span class="linenum"> 283</span></a>  
<a name="l284"><span class="linenum"> 284</span></a>          if (<a class="var it11077" onMouseOver="hilite(11077)" onMouseOut="lolite()" onClick="logVariable('trigger_name')" href="../../_variables/trigger_name.html">$trigger_name</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTriggerFromDB')" href="../../_functions/gettriggerfromdb.html" onMouseOver="funcPopup(event,'gettriggerfromdb')">getTriggerFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) &amp;&amp; <a class="var it11079" onMouseOver="hilite(11079)" onMouseOut="lolite()" onClick="logVariable('include_trigger')" href="../../_variables/include_trigger.html">$include_trigger</a>) {
<a name="l285"><span class="linenum"> 285</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[] = &quot;DROP TRIGGER &quot; . <a class="var it11077" onMouseOver="hilite(11077)" onMouseOut="lolite()" onClick="logVariable('trigger_name')" href="../../_variables/trigger_name.html">$trigger_name</a>;
<a name="l286"><span class="linenum"> 286</span></a>          }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l289"><span class="linenum"> 289</span></a>      }
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>      <span class="comment">/**</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * Returns the code (array of statements) needed to add one comment to the table.</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     *</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * @return array Array of SQL statements to add one comment to the table.</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     */</span>
<a name="l297"><span class="linenum"> 297</span></a>      function <a class="function" onClick="logFunction('getCommentSQL')" href="../../_functions/getcommentsql.html" onMouseOver="funcPopup(event,'getcommentsql')">getCommentSQL</a> (<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> = &quot;COMMENT ON TABLE &quot; . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l300"><span class="linenum"> 300</span></a>          <a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>.= &quot; IS '&quot; . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getComment')" href="../../_functions/getcomment.html" onMouseOver="funcPopup(event,'getcomment')">getComment</a>(), 0, 250)) . &quot;'&quot;;
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>          return array(<a class="var it1145" onMouseOver="hilite(1145)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>);
<a name="l303"><span class="linenum"> 303</span></a>      }
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>      <span class="comment">/**</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * Returns the code (array of statements) needed to execute extra statements on table drop</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     *</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * @return array Array of extra SQL statements to drop a table.</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     */</span>
<a name="l311"><span class="linenum"> 311</span></a>      public function <a class="function" onClick="logFunction('getDropTableExtraSQL')" href="../../_functions/getdroptableextrasql.html" onMouseOver="funcPopup(event,'getdroptableextrasql')">getDropTableExtraSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l312"><span class="linenum"> 312</span></a>          <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('id'); <span class="comment">// Fields having sequences should be exclusively, id.</span>
<a name="l313"><span class="linenum"> 313</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropSequenceSQL')" href="../../_functions/getdropsequencesql.html" onMouseOver="funcPopup(event,'getdropsequencesql')">getDropSequenceSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, false);
<a name="l314"><span class="linenum"> 314</span></a>      }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>      <span class="comment">/**</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * Returns the code (array of statements) needed to execute extra statements on table rename.</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     *</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * @param string $newname The new name for the table.</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     * @return array Array of extra SQL statements to rename a table.</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     */</span>
<a name="l323"><span class="linenum"> 323</span></a>      public function <a class="function" onClick="logFunction('getRenameTableExtraSQL')" href="../../_functions/getrenametableextrasql.html" onMouseOver="funcPopup(event,'getrenametableextrasql')">getRenameTableExtraSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1486" onMouseOver="hilite(1486)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>          <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_field')" href="../../_classes/xmldb_field.html" onMouseOver="classPopup(event,'xmldb_field')">xmldb_field</a>('id'); <span class="comment">// Fields having sequences should be exclusively, id.</span>
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>          <a class="var it11080" onMouseOver="hilite(11080)" onMouseOut="lolite()" onClick="logVariable('oldseqname')" href="../../_variables/oldseqname.html">$oldseqname</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getSequenceFromDB')" href="../../_functions/getsequencefromdb.html" onMouseOver="funcPopup(event,'getsequencefromdb')">getSequenceFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l330"><span class="linenum"> 330</span></a>          <a class="var it11081" onMouseOver="hilite(11081)" onMouseOut="lolite()" onClick="logVariable('newseqname')" href="../../_variables/newseqname.html">$newseqname</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it1486" onMouseOver="hilite(1486)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), 'seq');
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>          <a class="var it11082" onMouseOver="hilite(11082)" onMouseOut="lolite()" onClick="logVariable('oldtriggername')" href="../../_variables/oldtriggername.html">$oldtriggername</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTriggerFromDB')" href="../../_functions/gettriggerfromdb.html" onMouseOver="funcPopup(event,'gettriggerfromdb')">getTriggerFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l333"><span class="linenum"> 333</span></a>          <a class="var it11083" onMouseOver="hilite(11083)" onMouseOut="lolite()" onClick="logVariable('newtriggername')" href="../../_variables/newtriggername.html">$newtriggername</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it1486" onMouseOver="hilite(1486)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), 'trg');
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">        // Drop old trigger (first of all)</span>
<a name="l336"><span class="linenum"> 336</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = &quot;DROP TRIGGER &quot; . <a class="var it11082" onMouseOver="hilite(11082)" onMouseOut="lolite()" onClick="logVariable('oldtriggername')" href="../../_variables/oldtriggername.html">$oldtriggername</a>;
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">        // Rename the sequence, disablig CACHE before and enablig it later</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">        // to avoid consuming of values on rename</span>
<a name="l340"><span class="linenum"> 340</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'ALTER SEQUENCE ' . <a class="var it11080" onMouseOver="hilite(11080)" onMouseOut="lolite()" onClick="logVariable('oldseqname')" href="../../_variables/oldseqname.html">$oldseqname</a> . ' NOCACHE';
<a name="l341"><span class="linenum"> 341</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'RENAME ' . <a class="var it11080" onMouseOver="hilite(11080)" onMouseOut="lolite()" onClick="logVariable('oldseqname')" href="../../_variables/oldseqname.html">$oldseqname</a> . ' TO ' . <a class="var it11081" onMouseOver="hilite(11081)" onMouseOut="lolite()" onClick="logVariable('newseqname')" href="../../_variables/newseqname.html">$newseqname</a>;
<a name="l342"><span class="linenum"> 342</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'ALTER SEQUENCE ' . <a class="var it11081" onMouseOver="hilite(11081)" onMouseOut="lolite()" onClick="logVariable('newseqname')" href="../../_variables/newseqname.html">$newseqname</a> . ' CACHE ' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_cache_size')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/sequence_cache_size.html">sequence_cache_size</a>;
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">        // Create new trigger</span>
<a name="l345"><span class="linenum"> 345</span></a>          <a class="var it11084" onMouseOver="hilite(11084)" onMouseOut="lolite()" onClick="logVariable('newt')" href="../../_variables/newt.html">$newt</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>(<a class="var it1486" onMouseOver="hilite(1486)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>);     <span class="comment">// Temp table for trigger code generation</span>
<a name="l346"><span class="linenum"> 346</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateTriggerSQL')" href="../../_functions/getcreatetriggersql.html" onMouseOver="funcPopup(event,'getcreatetriggersql')">getCreateTriggerSQL</a>(<a class="var it11084" onMouseOver="hilite(11084)" onMouseOut="lolite()" onClick="logVariable('newt')" href="../../_variables/newt.html">$newt</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it11081" onMouseOver="hilite(11081)" onMouseOut="lolite()" onClick="logVariable('newseqname')" href="../../_variables/newseqname.html">$newseqname</a>));
<a name="l347"><span class="linenum"> 347</span></a>  
<a name="l348"><span class="linenum"> 348</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l349"><span class="linenum"> 349</span></a>      }
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>      <span class="comment">/**</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to alter the field in the table.</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     *</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">     * Oracle has some severe limits:</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">     *     - clob and blob fields doesn't allow type to be specified</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     *     - error is dropped if the null/not null clause is specified and hasn't changed</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     *     - changes in precision/decimals of numeric fields drop an ORA-1440 error</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     *</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     * @param string $skip_type_clause The type clause on alter columns, NULL by default.</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">     * @param string $skip_default_clause The default clause on alter columns, NULL by default.</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * @param string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     * @return string The field altering SQL statement.</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     */</span>
<a name="l366"><span class="linenum"> 366</span></a>      public function <a class="function" onClick="logFunction('getAlterFieldSQL')" href="../../_functions/getalterfieldsql.html" onMouseOver="funcPopup(event,'getalterfieldsql')">getAlterFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL) {
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>          <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>) ? <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_type')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_type.html">alter_column_skip_type</a> : <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>;
<a name="l369"><span class="linenum"> 369</span></a>          <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) ? <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_default')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_default.html">alter_column_skip_default</a> : <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>;
<a name="l370"><span class="linenum"> 370</span></a>          <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>) ? <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_notnull')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_notnull.html">alter_column_skip_notnull</a> : <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>;
<a name="l371"><span class="linenum"> 371</span></a>  
<a name="l372"><span class="linenum"> 372</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();     <span class="comment">// To store all the needed SQL commands</span>
<a name="l373"><span class="linenum"> 373</span></a>  
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">        // Get the quoted name of the table and field</span>
<a name="l375"><span class="linenum"> 375</span></a>          <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l376"><span class="linenum"> 376</span></a>          <a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> = <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">        // Take a look to field metadata</span>
<a name="l379"><span class="linenum"> 379</span></a>          <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../../_variables/meta.html">$meta</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_columns')" href="../../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l380"><span class="linenum"> 380</span></a>          <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a> = <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../../_variables/meta.html">$meta</a>[<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>];
<a name="l381"><span class="linenum"> 381</span></a>          <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> = <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('meta_type')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/meta_type.html">meta_type</a>;
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it11090" onMouseOver="hilite(11090)" onMouseOut="lolite()" onClick="logVariable('oldlength')" href="../../_variables/oldlength.html">$oldlength</a> = <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('max_length')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/max_length.html">max_length</a>;
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">        // To calculate the oldlength if the field is numeric, we need to perform one extra query</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">        // because ADOdb has one bug here. http://phplens.com/lens/lensforum/msgs.php?id=15883</span>
<a name="l386"><span class="linenum"> 386</span></a>          if (<a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'N') {
<a name="l387"><span class="linenum"> 387</span></a>              <a class="var it11091" onMouseOver="hilite(11091)" onMouseOut="lolite()" onClick="logVariable('uppertablename')" href="../../_variables/uppertablename.html">$uppertablename</a> = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l388"><span class="linenum"> 388</span></a>              <a class="var it11092" onMouseOver="hilite(11092)" onMouseOut="lolite()" onClick="logVariable('upperfieldname')" href="../../_variables/upperfieldname.html">$upperfieldname</a> = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>);
<a name="l389"><span class="linenum"> 389</span></a>              if (<a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('col')" href="../../_variables/col.html">$col</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(&quot;SELECT cname, precision
<a name="l390"><span class="linenum"> 390</span></a>                                                       FROM col
<a name="l391"><span class="linenum"> 391</span></a>                                                       WHERE tname = ? AND cname = ?&quot;,
<a name="l392"><span class="linenum"> 392</span></a>                                                    array(<a class="var it11091" onMouseOver="hilite(11091)" onMouseOut="lolite()" onClick="logVariable('uppertablename')" href="../../_variables/uppertablename.html">$uppertablename</a>, <a class="var it11092" onMouseOver="hilite(11092)" onMouseOut="lolite()" onClick="logVariable('upperfieldname')" href="../../_variables/upperfieldname.html">$upperfieldname</a>))) {
<a name="l393"><span class="linenum"> 393</span></a>                  <a class="var it11090" onMouseOver="hilite(11090)" onMouseOut="lolite()" onClick="logVariable('oldlength')" href="../../_variables/oldlength.html">$oldlength</a> = <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('col')" href="../../_variables/col.html">$col</a>-&gt;<a onClick="logVariable('precision')" class="var it40146" onMouseOver="hilite(40146)" onMouseOut="lolite()" href="../../_variables/precision.html">precision</a>;
<a name="l394"><span class="linenum"> 394</span></a>              }
<a name="l395"><span class="linenum"> 395</span></a>          }
<a name="l396"><span class="linenum"> 396</span></a>          <a class="var it11093" onMouseOver="hilite(11093)" onMouseOut="lolite()" onClick="logVariable('olddecimals')" href="../../_variables/olddecimals.html">$olddecimals</a> = empty(<a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('scale')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/scale.html">scale</a>) ? null : <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('scale')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/scale.html">scale</a>;
<a name="l397"><span class="linenum"> 397</span></a>          <a class="var it11094" onMouseOver="hilite(11094)" onMouseOut="lolite()" onClick="logVariable('oldnotnull')" href="../../_variables/oldnotnull.html">$oldnotnull</a> = empty(<a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('not_null')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/not_null.html">not_null</a>) ? false : <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('not_null')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/not_null.html">not_null</a>;
<a name="l398"><span class="linenum"> 398</span></a>          <a class="var it11095" onMouseOver="hilite(11095)" onMouseOut="lolite()" onClick="logVariable('olddefault')" href="../../_variables/olddefault.html">$olddefault</a> = empty(<a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('default_value')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/default_value.html">default_value</a>) || <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('default_value')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/default_value.html">default_value</a>) == 'NULL' ? null : <a class="var it11088" onMouseOver="hilite(11088)" onMouseOut="lolite()" onClick="logVariable('metac')" href="../../_variables/metac.html">$metac</a>-&gt;<a onClick="logVariable('default_value')" class="var it40142" onMouseOver="hilite(40142)" onMouseOut="lolite()" href="../../_variables/default_value.html">default_value</a>;
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>          <a class="var it11096" onMouseOver="hilite(11096)" onMouseOut="lolite()" onClick="logVariable('typechanged')" href="../../_variables/typechanged.html">$typechanged</a> = true;  <span class="comment">//By default, assume that the column type has changed</span>
<a name="l401"><span class="linenum"> 401</span></a>          <a class="var it11097" onMouseOver="hilite(11097)" onMouseOut="lolite()" onClick="logVariable('precisionchanged')" href="../../_variables/precisionchanged.html">$precisionchanged</a> = true;  <span class="comment">//By default, assume that the column precision has changed</span>
<a name="l402"><span class="linenum"> 402</span></a>          <a class="var it11098" onMouseOver="hilite(11098)" onMouseOut="lolite()" onClick="logVariable('decimalchanged')" href="../../_variables/decimalchanged.html">$decimalchanged</a> = true;  <span class="comment">//By default, assume that the column decimal has changed</span>
<a name="l403"><span class="linenum"> 403</span></a>          <a class="var it11099" onMouseOver="hilite(11099)" onMouseOut="lolite()" onClick="logVariable('defaultchanged')" href="../../_variables/defaultchanged.html">$defaultchanged</a> = true;  <span class="comment">//By default, assume that the column default has changed</span>
<a name="l404"><span class="linenum"> 404</span></a>          <a class="var it11100" onMouseOver="hilite(11100)" onMouseOut="lolite()" onClick="logVariable('notnullchanged')" href="../../_variables/notnullchanged.html">$notnullchanged</a> = true;  <span class="comment">//By default, assume that the column notnull has changed</span>
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>          <a class="var it11101" onMouseOver="hilite(11101)" onMouseOut="lolite()" onClick="logVariable('from_temp_fields')" href="../../_variables/from_temp_fields.html">$from_temp_fields</a> = false; <span class="comment">//By default don't assume we are going to use temporal fields</span>
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">        // Detect if we are changing the type of the column</span>
<a name="l409"><span class="linenum"> 409</span></a>          if ((<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a> &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'I') ||
<a name="l410"><span class="linenum"> 410</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_NUMBER')" href="../../_constants/XMLDB_TYPE_NUMBER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_NUMBER')">XMLDB_TYPE_NUMBER</a>  &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'N') ||
<a name="l411"><span class="linenum"> 411</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_FLOAT')" href="../../_constants/XMLDB_TYPE_FLOAT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_FLOAT')">XMLDB_TYPE_FLOAT</a>   &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'F') ||
<a name="l412"><span class="linenum"> 412</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_CHAR')" href="../../_constants/XMLDB_TYPE_CHAR.html" onMouseOver="constPopup(event,'XMLDB_TYPE_CHAR')">XMLDB_TYPE_CHAR</a>    &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'C') ||
<a name="l413"><span class="linenum"> 413</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>    &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'X') ||
<a name="l414"><span class="linenum"> 414</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_BINARY')" href="../../_constants/XMLDB_TYPE_BINARY.html" onMouseOver="constPopup(event,'XMLDB_TYPE_BINARY')">XMLDB_TYPE_BINARY</a>  &amp;&amp; <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'B')) {
<a name="l415"><span class="linenum"> 415</span></a>              <a class="var it11096" onMouseOver="hilite(11096)" onMouseOut="lolite()" onClick="logVariable('typechanged')" href="../../_variables/typechanged.html">$typechanged</a> = false;
<a name="l416"><span class="linenum"> 416</span></a>          }
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">        // Detect if precision has changed</span>
<a name="l418"><span class="linenum"> 418</span></a>          if ((<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>) ||
<a name="l419"><span class="linenum"> 419</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_BINARY')" href="../../_constants/XMLDB_TYPE_BINARY.html" onMouseOver="constPopup(event,'XMLDB_TYPE_BINARY')">XMLDB_TYPE_BINARY</a>) ||
<a name="l420"><span class="linenum"> 420</span></a>              (<a class="var it11090" onMouseOver="hilite(11090)" onMouseOut="lolite()" onClick="logVariable('oldlength')" href="../../_variables/oldlength.html">$oldlength</a> == -1) ||
<a name="l421"><span class="linenum"> 421</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getLength')" href="../../_functions/getlength.html" onMouseOver="funcPopup(event,'getlength')">getLength</a>() == <a class="var it11090" onMouseOver="hilite(11090)" onMouseOut="lolite()" onClick="logVariable('oldlength')" href="../../_variables/oldlength.html">$oldlength</a>)) {
<a name="l422"><span class="linenum"> 422</span></a>              <a class="var it11097" onMouseOver="hilite(11097)" onMouseOut="lolite()" onClick="logVariable('precisionchanged')" href="../../_variables/precisionchanged.html">$precisionchanged</a> = false;
<a name="l423"><span class="linenum"> 423</span></a>          }
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">        // Detect if decimal has changed</span>
<a name="l425"><span class="linenum"> 425</span></a>          if ((<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>) ||
<a name="l426"><span class="linenum"> 426</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_CHAR')" href="../../_constants/XMLDB_TYPE_CHAR.html" onMouseOver="constPopup(event,'XMLDB_TYPE_CHAR')">XMLDB_TYPE_CHAR</a>) ||
<a name="l427"><span class="linenum"> 427</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>) ||
<a name="l428"><span class="linenum"> 428</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_BINARY')" href="../../_constants/XMLDB_TYPE_BINARY.html" onMouseOver="constPopup(event,'XMLDB_TYPE_BINARY')">XMLDB_TYPE_BINARY</a>) ||
<a name="l429"><span class="linenum"> 429</span></a>              (!<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDecimals')" href="../../_functions/getdecimals.html" onMouseOver="funcPopup(event,'getdecimals')">getDecimals</a>()) ||
<a name="l430"><span class="linenum"> 430</span></a>              (!<a class="var it11093" onMouseOver="hilite(11093)" onMouseOut="lolite()" onClick="logVariable('olddecimals')" href="../../_variables/olddecimals.html">$olddecimals</a>) ||
<a name="l431"><span class="linenum"> 431</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDecimals')" href="../../_functions/getdecimals.html" onMouseOver="funcPopup(event,'getdecimals')">getDecimals</a>() == <a class="var it11093" onMouseOver="hilite(11093)" onMouseOut="lolite()" onClick="logVariable('olddecimals')" href="../../_variables/olddecimals.html">$olddecimals</a>)) {
<a name="l432"><span class="linenum"> 432</span></a>              <a class="var it11098" onMouseOver="hilite(11098)" onMouseOut="lolite()" onClick="logVariable('decimalchanged')" href="../../_variables/decimalchanged.html">$decimalchanged</a> = false;
<a name="l433"><span class="linenum"> 433</span></a>          }
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">        // Detect if we are changing the default</span>
<a name="l435"><span class="linenum"> 435</span></a>          if ((<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() === null &amp;&amp; <a class="var it11095" onMouseOver="hilite(11095)" onMouseOut="lolite()" onClick="logVariable('olddefault')" href="../../_variables/olddefault.html">$olddefault</a> === null) ||
<a name="l436"><span class="linenum"> 436</span></a>              (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() === <a class="var it11095" onMouseOver="hilite(11095)" onMouseOut="lolite()" onClick="logVariable('olddefault')" href="../../_variables/olddefault.html">$olddefault</a>) ||             //Check both equality and
<a name="l437"><span class="linenum"> 437</span></a>              (&quot;'&quot; . <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() . &quot;'&quot; === <a class="var it11095" onMouseOver="hilite(11095)" onMouseOut="lolite()" onClick="logVariable('olddefault')" href="../../_variables/olddefault.html">$olddefault</a>)) {  //Equality with quotes because ADOdb returns the default with quotes
<a name="l438"><span class="linenum"> 438</span></a>              <a class="var it11099" onMouseOver="hilite(11099)" onMouseOut="lolite()" onClick="logVariable('defaultchanged')" href="../../_variables/defaultchanged.html">$defaultchanged</a> = false;
<a name="l439"><span class="linenum"> 439</span></a>          }
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">        // Detect if we are changing the nullability</span>
<a name="l442"><span class="linenum"> 442</span></a>          if ((<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotnull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotnull</a>() === <a class="var it11094" onMouseOver="hilite(11094)" onMouseOut="lolite()" onClick="logVariable('oldnotnull')" href="../../_variables/oldnotnull.html">$oldnotnull</a>)) {
<a name="l443"><span class="linenum"> 443</span></a>              <a class="var it11100" onMouseOver="hilite(11100)" onMouseOut="lolite()" onClick="logVariable('notnullchanged')" href="../../_variables/notnullchanged.html">$notnullchanged</a> = false;
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">        // If type has changed or precision or decimal has changed and we are in one numeric field</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">        //     - create one temp column with the new specs</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">        //     - fill the new column with the values from the old one</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">        //     - drop the old column</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">        //     - rename the temp column to the original name</span>
<a name="l451"><span class="linenum"> 451</span></a>          if ((<a class="var it11096" onMouseOver="hilite(11096)" onMouseOut="lolite()" onClick="logVariable('typechanged')" href="../../_variables/typechanged.html">$typechanged</a>) || ((<a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'N' || <a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'I')  &amp;&amp; (<a class="var it11097" onMouseOver="hilite(11097)" onMouseOut="lolite()" onClick="logVariable('precisionchanged')" href="../../_variables/precisionchanged.html">$precisionchanged</a> || <a class="var it11098" onMouseOver="hilite(11098)" onMouseOut="lolite()" onClick="logVariable('decimalchanged')" href="../../_variables/decimalchanged.html">$decimalchanged</a>))) {
<a name="l452"><span class="linenum"> 452</span></a>              <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> = <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>() . '___tmp'; <span class="comment">// Short tmp name, surely not conflicting ever</span>
<a name="l453"><span class="linenum"> 453</span></a>              if (<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a>) &gt; 30) { // Safeguard we don't excess the 30cc limit
<a name="l454"><span class="linenum"> 454</span></a>                  <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> = 'ongoing_alter_column_tmp';
<a name="l455"><span class="linenum"> 455</span></a>              }
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">            // Prevent temp field to have both NULL/NOT NULL and DEFAULT constraints</span>
<a name="l457"><span class="linenum"> 457</span></a>              <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = true;
<a name="l458"><span class="linenum"> 458</span></a>              <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = true;
<a name="l459"><span class="linenum"> 459</span></a>              <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('setName')" href="../../_functions/setname.html" onMouseOver="funcPopup(event,'setname')">setName</a>(<a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a>);
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">            // Drop the temp column, in case it exists (due to one previous failure in conversion)</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">            // really ugly but we cannot enclose DDL into transaction :-(</span>
<a name="l462"><span class="linenum"> 462</span></a>              if (isset(<a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../../_variables/meta.html">$meta</a>[<a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a>])) {
<a name="l463"><span class="linenum"> 463</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropFieldSQL')" href="../../_functions/getdropfieldsql.html" onMouseOver="funcPopup(event,'getdropfieldsql')">getDropFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>));
<a name="l464"><span class="linenum"> 464</span></a>              }
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">            // Create the temporal column</span>
<a name="l466"><span class="linenum"> 466</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getAddFieldSQL')" href="../../_functions/getaddfieldsql.html" onMouseOver="funcPopup(event,'getaddfieldsql')">getAddFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>, <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>, <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>));
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">            // Copy contents from original col to the temporal one</span>
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">            // From TEXT to integer/number we need explicit conversion</span>
<a name="l470"><span class="linenum"> 470</span></a>              if (<a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'X' &amp;&amp; <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('GetType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">GetType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>) {
<a name="l471"><span class="linenum"> 471</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'UPDATE ' . <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' SET ' . <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> . ' = CAST(' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>(<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>) . ' AS INT)';
<a name="l472"><span class="linenum"> 472</span></a>              } else if (<a class="var it11089" onMouseOver="hilite(11089)" onMouseOut="lolite()" onClick="logVariable('oldmetatype')" href="../../_variables/oldmetatype.html">$oldmetatype</a> == 'X' &amp;&amp; <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('GetType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">GetType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_NUMBER')" href="../../_constants/XMLDB_TYPE_NUMBER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_NUMBER')">XMLDB_TYPE_NUMBER</a>) {
<a name="l473"><span class="linenum"> 473</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'UPDATE ' . <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' SET ' . <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> . ' = CAST(' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>(<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>) . ' AS NUMBER)';
<a name="l474"><span class="linenum"> 474</span></a>  
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">            // Normal cases, implicit conversion</span>
<a name="l476"><span class="linenum"> 476</span></a>              } else {
<a name="l477"><span class="linenum"> 477</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'UPDATE ' . <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' SET ' . <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> . ' = ' . <a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>;
<a name="l478"><span class="linenum"> 478</span></a>              }
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">            // Drop the old column</span>
<a name="l480"><span class="linenum"> 480</span></a>              <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('setName')" href="../../_functions/setname.html" onMouseOver="funcPopup(event,'setname')">setName</a>(<a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>); <span class="comment">//Set back the original field name</span>
<a name="l481"><span class="linenum"> 481</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropFieldSQL')" href="../../_functions/getdropfieldsql.html" onMouseOver="funcPopup(event,'getdropfieldsql')">getDropFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>));
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">            // Rename the temp column to the original one</span>
<a name="l483"><span class="linenum"> 483</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'ALTER TABLE ' . <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' RENAME COLUMN ' . <a class="var it11102" onMouseOver="hilite(11102)" onMouseOut="lolite()" onClick="logVariable('tempcolname')" href="../../_variables/tempcolname.html">$tempcolname</a> . ' TO ' . <a class="var it1208" onMouseOver="hilite(1208)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>;
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">            // Mark we have performed one change based in temp fields</span>
<a name="l485"><span class="linenum"> 485</span></a>              <a class="var it11101" onMouseOver="hilite(11101)" onMouseOut="lolite()" onClick="logVariable('from_temp_fields')" href="../../_variables/from_temp_fields.html">$from_temp_fields</a> = true;
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">            // Re-enable the notnull and default sections so the general AlterFieldSQL can use it</span>
<a name="l487"><span class="linenum"> 487</span></a>              <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = false;
<a name="l488"><span class="linenum"> 488</span></a>              <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = false;
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">            // Disable the type section because we have done it with the temp field</span>
<a name="l490"><span class="linenum"> 490</span></a>              <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = true;
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">            // If new field is nullable, nullability hasn't changed</span>
<a name="l492"><span class="linenum"> 492</span></a>              if (!<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotnull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotnull</a>()) {
<a name="l493"><span class="linenum"> 493</span></a>                  <a class="var it11100" onMouseOver="hilite(11100)" onMouseOut="lolite()" onClick="logVariable('notnullchanged')" href="../../_variables/notnullchanged.html">$notnullchanged</a> = false;
<a name="l494"><span class="linenum"> 494</span></a>              }
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">            // If new field hasn't default, default hasn't changed</span>
<a name="l496"><span class="linenum"> 496</span></a>              if (<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() === null) {
<a name="l497"><span class="linenum"> 497</span></a>                  <a class="var it11099" onMouseOver="hilite(11099)" onMouseOut="lolite()" onClick="logVariable('defaultchanged')" href="../../_variables/defaultchanged.html">$defaultchanged</a> = false;
<a name="l498"><span class="linenum"> 498</span></a>              }
<a name="l499"><span class="linenum"> 499</span></a>          }
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">        // If type and precision and decimals hasn't changed, prevent the type clause</span>
<a name="l502"><span class="linenum"> 502</span></a>          if (!<a class="var it11096" onMouseOver="hilite(11096)" onMouseOut="lolite()" onClick="logVariable('typechanged')" href="../../_variables/typechanged.html">$typechanged</a> &amp;&amp; !<a class="var it11097" onMouseOver="hilite(11097)" onMouseOut="lolite()" onClick="logVariable('precisionchanged')" href="../../_variables/precisionchanged.html">$precisionchanged</a> &amp;&amp; !<a class="var it11098" onMouseOver="hilite(11098)" onMouseOut="lolite()" onClick="logVariable('decimalchanged')" href="../../_variables/decimalchanged.html">$decimalchanged</a>) {
<a name="l503"><span class="linenum"> 503</span></a>              <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = true;
<a name="l504"><span class="linenum"> 504</span></a>          }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">        // If NULL/NOT NULL hasn't changed</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">        // prevent null clause to be specified</span>
<a name="l508"><span class="linenum"> 508</span></a>          if (!<a class="var it11100" onMouseOver="hilite(11100)" onMouseOut="lolite()" onClick="logVariable('notnullchanged')" href="../../_variables/notnullchanged.html">$notnullchanged</a>) {
<a name="l509"><span class="linenum"> 509</span></a>              <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = true;     <span class="comment">// Initially, prevent the notnull clause</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">            // But, if we have used the temp field and the new field is not null, then enforce the not null clause</span>
<a name="l511"><span class="linenum"> 511</span></a>              if (<a class="var it11101" onMouseOver="hilite(11101)" onMouseOut="lolite()" onClick="logVariable('from_temp_fields')" href="../../_variables/from_temp_fields.html">$from_temp_fields</a> &amp;&amp;  <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotnull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotnull</a>()) {
<a name="l512"><span class="linenum"> 512</span></a>                  <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = false;
<a name="l513"><span class="linenum"> 513</span></a>              }
<a name="l514"><span class="linenum"> 514</span></a>          }
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">        // If default hasn't changed</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">        // prevent default clause to be specified</span>
<a name="l517"><span class="linenum"> 517</span></a>          if (!<a class="var it11099" onMouseOver="hilite(11099)" onMouseOut="lolite()" onClick="logVariable('defaultchanged')" href="../../_variables/defaultchanged.html">$defaultchanged</a>) {
<a name="l518"><span class="linenum"> 518</span></a>              <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = true;     <span class="comment">// Initially, prevent the default clause</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">            // But, if we have used the temp field and the new field has default clause, then enforce the default clause</span>
<a name="l520"><span class="linenum"> 520</span></a>              if (<a class="var it11101" onMouseOver="hilite(11101)" onMouseOut="lolite()" onClick="logVariable('from_temp_fields')" href="../../_variables/from_temp_fields.html">$from_temp_fields</a>) {
<a name="l521"><span class="linenum"> 521</span></a>                  <a class="var it11103" onMouseOver="hilite(11103)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDefaultClause')" href="../../_functions/getdefaultclause.html" onMouseOver="funcPopup(event,'getdefaultclause')">getDefaultClause</a>(<a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l522"><span class="linenum"> 522</span></a>                  if (<a class="var it11103" onMouseOver="hilite(11103)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a>) {
<a name="l523"><span class="linenum"> 523</span></a>                      <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = false;
<a name="l524"><span class="linenum"> 524</span></a>                  }
<a name="l525"><span class="linenum"> 525</span></a>              }
<a name="l526"><span class="linenum"> 526</span></a>          }
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">        // If arriving here, something is not being skipped (type, notnull, default), calculate the standard AlterFieldSQL</span>
<a name="l529"><span class="linenum"> 529</span></a>          if (!<a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> || !<a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> || !<a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) {
<a name="l530"><span class="linenum"> 530</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, parent::<a class="function" onClick="logFunction('getAlterFieldSQL')" href="../../_functions/getalterfieldsql.html" onMouseOver="funcPopup(event,'getalterfieldsql')">getAlterFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it1478" onMouseOver="hilite(1478)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>, <a class="var it1479" onMouseOver="hilite(1479)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>, <a class="var it1480" onMouseOver="hilite(1480)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>));
<a name="l531"><span class="linenum"> 531</span></a>              return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l532"><span class="linenum"> 532</span></a>          }
<a name="l533"><span class="linenum"> 533</span></a>  
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">        // Finally return results</span>
<a name="l535"><span class="linenum"> 535</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>      <span class="comment">/**</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to add its default</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * (usually invoked from getModifyDefaultSQL()</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     *</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     * @return array Array of SQL statements to create a field's default.</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     */</span>
<a name="l546"><span class="linenum"> 546</span></a>      public function <a class="function" onClick="logFunction('getCreateDefaultSQL')" href="../../_functions/getcreatedefaultsql.html" onMouseOver="funcPopup(event,'getcreatedefaultsql')">getCreateDefaultSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">        // Just a wrapper over the getAlterFieldSQL() function for Oracle that</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">        // is capable of handling defaults</span>
<a name="l549"><span class="linenum"> 549</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getAlterFieldSQL')" href="../../_functions/getalterfieldsql.html" onMouseOver="funcPopup(event,'getalterfieldsql')">getAlterFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l550"><span class="linenum"> 550</span></a>      }
<a name="l551"><span class="linenum"> 551</span></a>  
<a name="l552"><span class="linenum"> 552</span></a>      <span class="comment">/**</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop its default</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * (usually invoked from getModifyDefaultSQL()</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     *</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     * Note that this method may be dropped in future.</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     *</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">     * @return array Array of SQL statements to create a field's default.</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">     *</span>
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment">     * @todo MDL-31147 Moodle 2.1 - Drop getDropDefaultSQL()</span>
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment">     */</span>
<a name="l564"><span class="linenum"> 564</span></a>      public function <a class="function" onClick="logFunction('getDropDefaultSQL')" href="../../_functions/getdropdefaultsql.html" onMouseOver="funcPopup(event,'getdropdefaultsql')">getDropDefaultSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">        // Just a wrapper over the getAlterFieldSQL() function for Oracle that</span>
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">        // is capable of handling defaults</span>
<a name="l567"><span class="linenum"> 567</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getAlterFieldSQL')" href="../../_functions/getalterfieldsql.html" onMouseOver="funcPopup(event,'getalterfieldsql')">getAlterFieldSQL</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it1477" onMouseOver="hilite(1477)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l568"><span class="linenum"> 568</span></a>      }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>      <span class="comment">/**</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * Given one xmldb_table returns one string with the sequence of the table</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * in the table (fetched from DB)</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     * The sequence name for oracle is calculated by looking the corresponding</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     * trigger and retrieving the sequence name from it (because sequences are</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * independent elements)</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     * @return string|bool If no sequence is found, returns false</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     */</span>
<a name="l579"><span class="linenum"> 579</span></a>      public function <a class="function" onClick="logFunction('getSequenceFromDB')" href="../../_functions/getsequencefromdb.html" onMouseOver="funcPopup(event,'getsequencefromdb')">getSequenceFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>           <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>    = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>));
<a name="l582"><span class="linenum"> 582</span></a>           <a class="var it11104" onMouseOver="hilite(11104)" onMouseOut="lolite()" onClick="logVariable('prefixupper')" href="../../_variables/prefixupper.html">$prefixupper</a>  = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>);
<a name="l583"><span class="linenum"> 583</span></a>           <a class="var it11105" onMouseOver="hilite(11105)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a> = false;
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          if (<a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(&quot;SELECT trigger_name, trigger_body
<a name="l586"><span class="linenum"> 586</span></a>                                                       FROM user_triggers
<a name="l587"><span class="linenum"> 587</span></a>                                                      WHERE table_name = ? AND trigger_name LIKE ?&quot;,
<a name="l588"><span class="linenum"> 588</span></a>                                                    array(<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, &quot;{<a class="var it11104" onMouseOver="hilite(11104)" onMouseOut="lolite()" onClick="logVariable('prefixupper')" href="../../_variables/prefixupper.html">$prefixupper</a>}%_ID%_TRG&quot;))) {
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">            // If trigger found, regexp it looking for the sequence name</span>
<a name="l590"><span class="linenum"> 590</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*<a class="function" onClick="logFunction('SELECT')" href="../../_functions/select.html" onMouseOver="funcPopup(event,'select')">SELECT</a> (.*)\.nextval/i', <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>-&gt;<a onClick="logVariable('trigger_body')" class="var it40147" onMouseOver="hilite(40147)" onMouseOut="lolite()" href="../../_variables/trigger_body.html">trigger_body</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l591"><span class="linenum"> 591</span></a>              if (isset(<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1])) {
<a name="l592"><span class="linenum"> 592</span></a>                  <a class="var it11105" onMouseOver="hilite(11105)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l593"><span class="linenum"> 593</span></a>              }
<a name="l594"><span class="linenum"> 594</span></a>          }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>          return <a class="var it11105" onMouseOver="hilite(11105)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a>;
<a name="l597"><span class="linenum"> 597</span></a>      }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>      <span class="comment">/**</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * Given one xmldb_table returns one string with the trigger</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     * in the table (fetched from DB)</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     *</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     * @return string|bool If no trigger is found, returns false</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">     */</span>
<a name="l606"><span class="linenum"> 606</span></a>      public function <a class="function" onClick="logFunction('getTriggerFromDB')" href="../../_functions/gettriggerfromdb.html" onMouseOver="funcPopup(event,'gettriggerfromdb')">getTriggerFromDB</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l607"><span class="linenum"> 607</span></a>  
<a name="l608"><span class="linenum"> 608</span></a>          <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>   = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>));
<a name="l609"><span class="linenum"> 609</span></a>          <a class="var it11104" onMouseOver="hilite(11104)" onMouseOut="lolite()" onClick="logVariable('prefixupper')" href="../../_variables/prefixupper.html">$prefixupper</a> = <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>);
<a name="l610"><span class="linenum"> 610</span></a>          <a class="var it11107" onMouseOver="hilite(11107)" onMouseOut="lolite()" onClick="logVariable('triggername')" href="../../_variables/triggername.html">$triggername</a> = false;
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>          if (<a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_record_sql')" href="../../_functions/get_record_sql.html" onMouseOver="funcPopup(event,'get_record_sql')">get_record_sql</a>(&quot;SELECT trigger_name, trigger_body
<a name="l613"><span class="linenum"> 613</span></a>                                                       FROM user_triggers
<a name="l614"><span class="linenum"> 614</span></a>                                                      WHERE table_name = ? AND trigger_name LIKE ?&quot;,
<a name="l615"><span class="linenum"> 615</span></a>                                                    array(<a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, &quot;{<a class="var it11104" onMouseOver="hilite(11104)" onMouseOut="lolite()" onClick="logVariable('prefixupper')" href="../../_variables/prefixupper.html">$prefixupper</a>}%_ID%_TRG&quot;))) {
<a name="l616"><span class="linenum"> 616</span></a>              <a class="var it11107" onMouseOver="hilite(11107)" onMouseOut="lolite()" onClick="logVariable('triggername')" href="../../_variables/triggername.html">$triggername</a> = <a class="var it11078" onMouseOver="hilite(11078)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../_variables/trigger.html">$trigger</a>-&gt;<a onClick="logVariable('trigger_name')" class="var it40147" onMouseOver="hilite(40147)" onMouseOut="lolite()" href="../../_variables/trigger_name.html">trigger_name</a>;
<a name="l617"><span class="linenum"> 617</span></a>          }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>          return <a class="var it11107" onMouseOver="hilite(11107)" onMouseOut="lolite()" onClick="logVariable('triggername')" href="../../_variables/triggername.html">$triggername</a>;
<a name="l620"><span class="linenum"> 620</span></a>      }
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>      <span class="comment">/**</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * Given one object name and it's type (pk, uk, fk, ck, ix, uix, seq, trg).</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     *</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * (MySQL requires the whole xmldb_table object to be specified, so we add it always)</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     *</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     * This is invoked from getNameForObject().</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">     * Only some DB have this implemented.</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     *</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * @param string $object_name The object's name to check for.</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     * @param string $type The object's type (pk, uk, fk, ck, ix, uix, seq, trg).</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     * @param string $table_name The table's name to check in</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">     * @return bool If such name is currently in use (true) or no (false)</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">     */</span>
<a name="l635"><span class="linenum"> 635</span></a>      public function <a class="function" onClick="logFunction('isNameInUse')" href="../../_functions/isnameinuse.html" onMouseOver="funcPopup(event,'isnameinuse')">isNameInUse</a>(<a class="var it1489" onMouseOver="hilite(1489)" onMouseOut="lolite()" onClick="logVariable('object_name')" href="../../_variables/object_name.html">$object_name</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it1490" onMouseOver="hilite(1490)" onMouseOut="lolite()" onClick="logVariable('table_name')" href="../../_variables/table_name.html">$table_name</a>) {
<a name="l636"><span class="linenum"> 636</span></a>          switch(<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l637"><span class="linenum"> 637</span></a>              case 'ix':
<a name="l638"><span class="linenum"> 638</span></a>              case 'uix':
<a name="l639"><span class="linenum"> 639</span></a>              case 'seq':
<a name="l640"><span class="linenum"> 640</span></a>              case 'trg':
<a name="l641"><span class="linenum"> 641</span></a>                  if (<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../../_variables/check.html">$check</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT object_name
<a name="l642"><span class="linenum"> 642</span></a>                                                              FROM user_objects
<a name="l643"><span class="linenum"> 643</span></a>                                                             WHERE <a class="function" onClick="logFunction('lower')" href="../../_functions/lower.html" onMouseOver="funcPopup(event,'lower')">lower</a>(object_name) = ?&quot;, array(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it1489" onMouseOver="hilite(1489)" onMouseOut="lolite()" onClick="logVariable('object_name')" href="../../_variables/object_name.html">$object_name</a>)))) {
<a name="l644"><span class="linenum"> 644</span></a>                      return true;
<a name="l645"><span class="linenum"> 645</span></a>                  }
<a name="l646"><span class="linenum"> 646</span></a>                  break;
<a name="l647"><span class="linenum"> 647</span></a>              case 'pk':
<a name="l648"><span class="linenum"> 648</span></a>              case 'uk':
<a name="l649"><span class="linenum"> 649</span></a>              case 'fk':
<a name="l650"><span class="linenum"> 650</span></a>              case 'ck':
<a name="l651"><span class="linenum"> 651</span></a>                  if (<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../../_variables/check.html">$check</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT constraint_name
<a name="l652"><span class="linenum"> 652</span></a>                                                              FROM user_constraints
<a name="l653"><span class="linenum"> 653</span></a>                                                             WHERE <a class="function" onClick="logFunction('lower')" href="../../_functions/lower.html" onMouseOver="funcPopup(event,'lower')">lower</a>(constraint_name) = ?&quot;, array(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it1489" onMouseOver="hilite(1489)" onMouseOut="lolite()" onClick="logVariable('object_name')" href="../../_variables/object_name.html">$object_name</a>)))) {
<a name="l654"><span class="linenum"> 654</span></a>                      return true;
<a name="l655"><span class="linenum"> 655</span></a>                  }
<a name="l656"><span class="linenum"> 656</span></a>                  break;
<a name="l657"><span class="linenum"> 657</span></a>          }
<a name="l658"><span class="linenum"> 658</span></a>          return false; <span class="comment">//No name in use found</span>
<a name="l659"><span class="linenum"> 659</span></a>      }
<a name="l660"><span class="linenum"> 660</span></a>  
<a name="l661"><span class="linenum"> 661</span></a>      <span class="comment">/**</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment">     * Adds slashes to string.</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">     * @param string $s</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">     * @return string The escaped string.</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">     */</span>
<a name="l666"><span class="linenum"> 666</span></a>      public function <a class="function" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="funcPopup(event,'addslashes')">addslashes</a>(<a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>) {
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">        // do not use php addslashes() because it depends on PHP quote settings!</span>
<a name="l668"><span class="linenum"> 668</span></a>          <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;'&quot;,  &quot;''&quot;, <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l669"><span class="linenum"> 669</span></a>          return <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>;
<a name="l670"><span class="linenum"> 670</span></a>      }
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>      <span class="comment">/**</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">     * Returns an array of reserved words (lowercase) for this DB</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     * @return array An array of database specific reserved words</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     */</span>
<a name="l676"><span class="linenum"> 676</span></a>      public static function <a class="function" onClick="logFunction('getReservedWords')" href="../../_functions/getreservedwords.html" onMouseOver="funcPopup(event,'getreservedwords')">getReservedWords</a>() {
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">        // This file contains the reserved words for Oracle databases</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">        // from http://download-uk.oracle.com/docs/cd/B10501_01/server.920/a96540/ap_keywd.htm</span>
<a name="l679"><span class="linenum"> 679</span></a>          <a class="var it1493" onMouseOver="hilite(1493)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a> = array (
<a name="l680"><span class="linenum"> 680</span></a>              'access', 'add', 'all', 'alter', 'and', 'any',
<a name="l681"><span class="linenum"> 681</span></a>              'as', 'asc', 'audit', 'between', 'by', 'char',
<a name="l682"><span class="linenum"> 682</span></a>              'check', 'cluster', 'column', 'comment',
<a name="l683"><span class="linenum"> 683</span></a>              'compress', 'connect', 'create', 'current',
<a name="l684"><span class="linenum"> 684</span></a>              'date', 'decimal', 'default', 'delete', 'desc',
<a name="l685"><span class="linenum"> 685</span></a>              'distinct', 'drop', 'else', 'exclusive', 'exists',
<a name="l686"><span class="linenum"> 686</span></a>              'file', 'float', 'for', 'from', 'grant', 'group',
<a name="l687"><span class="linenum"> 687</span></a>              'having', 'identified', 'immediate', 'in',
<a name="l688"><span class="linenum"> 688</span></a>              'increment', 'index', 'initial', 'insert',
<a name="l689"><span class="linenum"> 689</span></a>              'integer', 'intersect', 'into', 'is', 'level',
<a name="l690"><span class="linenum"> 690</span></a>              'like', 'lock', 'long', 'maxextents', 'minus',
<a name="l691"><span class="linenum"> 691</span></a>              'mlslabel', 'mode', 'modify', 'nchar', 'nclob', 'noaudit',
<a name="l692"><span class="linenum"> 692</span></a>              'nocompress', 'not', 'nowait', 'null', 'number', 'nvarchar2',
<a name="l693"><span class="linenum"> 693</span></a>              'of', 'offline', 'on', 'online', 'option', 'or',
<a name="l694"><span class="linenum"> 694</span></a>              'order', 'pctfree', 'prior', 'privileges',
<a name="l695"><span class="linenum"> 695</span></a>              'public', 'raw', 'rename', 'resource', 'revoke',
<a name="l696"><span class="linenum"> 696</span></a>              'row', 'rowid', 'rownum', 'rows', 'select',
<a name="l697"><span class="linenum"> 697</span></a>              'session', 'set', 'share', 'size', 'smallint',
<a name="l698"><span class="linenum"> 698</span></a>              'start', 'successful', 'synonym', 'sysdate',
<a name="l699"><span class="linenum"> 699</span></a>              'table', 'then', 'to', 'trigger', 'uid', 'union',
<a name="l700"><span class="linenum"> 700</span></a>              'unique', 'update', 'user', 'validate', 'values',
<a name="l701"><span class="linenum"> 701</span></a>              'varchar', 'varchar2', 'view', 'whenever',
<a name="l702"><span class="linenum"> 702</span></a>              'where', 'with'
<a name="l703"><span class="linenum"> 703</span></a>          );
<a name="l704"><span class="linenum"> 704</span></a>          return <a class="var it1493" onMouseOver="hilite(1493)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a>;
<a name="l705"><span class="linenum"> 705</span></a>      }
<a name="l706"><span class="linenum"> 706</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'add_temptable': ['add_temptable', 'Add one temptable to the store. ', [['lib/dml','mssql_native_moodle_temptables.php',33],['lib/dml','moodle_temptables.php',61],['lib/dml','oci_native_moodle_temptables.php',50]], 4],
'getsequencefromdb': ['getsequencefromdb', 'Given one xmldb_table returns one string with the sequence of the table in the table (fetched from DB) The sequence name for oracle is calculated by looking the corresponding trigger and retrieving the sequence name from it (because sequences are independent elements) ', [['lib/ddl','oracle_sql_generator.php',570],['lib/ddl','sql_generator.php',1218],['lib/ddl','postgres_sql_generator.php',433]], 4],
'getrenametableextrasql': ['getrenametableextrasql', 'Returns the code (array of statements) needed to execute extra statements on table rename. ', [['lib/ddl','oracle_sql_generator.php',316],['lib/ddl','sql_generator.php',1308],['lib/ddl','postgres_sql_generator.php',227],['lib/ddl','mssql_sql_generator.php',296]], 1],
'getcreatesequencesql': ['getcreatesequencesql', 'Returns the code (array of statements) needed to create one sequence for the xmldb_table and xmldb_field passed in. ', [['lib/ddl','oracle_sql_generator.php',219],['lib/ddl','sql_generator.php',1288]], 1],
'number': ['number', '', [['lib/lessphp','Functions.php',50],['question/engine','renderer.php',153]], 143],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'addslashes': ['addslashes', 'Adds slashes to string. ', [['lib/ddl','oracle_sql_generator.php',661],['lib/ddl','sqlite_sql_generator.php',453],['lib/ddl','sql_generator.php',1385],['lib/ddl','postgres_sql_generator.php',410],['lib/ddl','mssql_sql_generator.php',637]], 31],
'modify': ['modify', 'Modifies the labels on the specified message. (messages.modify) ', [['lib/google/src/Google/Service','Gmail.php',1040],['lib/google/src/Google/Service','Gmail.php',1208]], 13],
'getcommentsql': ['getcommentsql', 'Returns the code (array of statements) needed to add one comment to the table. ', [['lib/ddl','mysql_sql_generator.php',515],['lib/adodb','adodb-datadict.inc.php',184],['lib/ddl','oracle_sql_generator.php',291],['lib/ddl','sqlite_sql_generator.php',394],['lib/adodb/datadict','datadict-oci8.inc.php',284],['lib/ddl','postgres_sql_generator.php',213],['lib/ddl','mssql_sql_generator.php',627]], 2],
'getcreatetemptablesql': ['getcreatetemptablesql', 'Given one correct xmldb_table, returns the SQL statements to create temporary table (inside one array). ', [['lib/ddl','mysql_sql_generator.php',324],['lib/ddl','oracle_sql_generator.php',134],['lib/ddl','postgres_sql_generator.php',92],['lib/ddl','mssql_sql_generator.php',143]], 2],
'getaddfieldsql': ['getaddfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to add the field to the table. ', [['lib/ddl','mysql_sql_generator.php',291],['lib/ddl','sql_generator.php',675]], 3],
'getdecimals': ['getdecimals', 'Get the decimals ', [['lib/xmldb','xmldb_field.php',157]], 13],
'get_correct_name': ['get_correct_name', 'Given one tablename (no prefix), return the name of the corresponding temporary table, If the table isn\'t a "registered" temp table, returns null ', [['lib/dml','moodle_temptables.php',106]], 5],
'getdroptablesql': ['getdroptablesql', 'Given one correct xmldb_table, returns the SQL statements to drop it (inside one array). ', [['lib/ddl','mysql_sql_generator.php',355],['lib/ddl','oracle_sql_generator.php',148],['lib/ddl','sql_generator.php',653],['lib/ddl','postgres_sql_generator.php',106],['lib/ddl','mssql_sql_generator.php',156]], 5],
'gettablename': ['gettablename', 'Given one xmldb_table, returns it\'s correct name, depending of all the parametrization Overridden to allow change of names in temp tables ', [['lib/ddl','oracle_sql_generator.php',110],['lib/ddl','sql_generator.php',255],['lib/ddl','mssql_sql_generator.php',119]], 36],
'getnotnull': ['getnotnull', 'Get the notnull ', [['lib/xmldb','xmldb_field.php',165]], 16],
'setname': ['setname', '', [['lib/google/src/Google/Service','Fusiontables.php',1435],['lib/google/src/Google/Service','Fusiontables.php',2027],['lib/google/src/Google/Service','Fusiontables.php',2200],['lib/google/src/Google/Service','Fusiontables.php',2415],['lib/pear/HTML/QuickForm','input.php',73],['lib/form','filemanager.php',100],['lib/xmldb','xmldb_object.php',181],['lib/google/src/Google/Service','QPXExpress.php',123],['lib/google/src/Google/Service','QPXExpress.php',167],['lib/google/src/Google/Service','QPXExpress.php',256],['lib/google/src/Google/Service','QPXExpress.php',300],['lib/google/src/Google/Service','QPXExpress.php',1219],['lib/google/src/Google/Service','Blogger.php',1749],['lib/google/src/Google/Service','Blogger.php',2953],['lib/google/src/Google/Service','Doubleclicksearch.php',788],['lib/google/src/Google/Service','Doubleclicksearch.php',814],['lib/google/src/Google/Service','AdExchangeBuyer.php',1335],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',111],['lib/google/src/Google/Service','Manager.php',397],['lib/google/src/Google/Service','Manager.php',633],['lib/google/src/Google/Service','Manager.php',1292],['lib/google/src/Google/Service','Manager.php',1813],['lib/pear/HTML/QuickForm','link.php',72],['lib/google/src/Google/Service','Reports.php',616],['lib/google/src/Google/Service','Reports.php',687],['lib/google/src/Google/Service','Reports.php',996],['lib/google/src/Google/Service','Customsearch.php',1072],['lib/google/src/Google/Service','Gmail.php',1372],['lib/google/src/Google/Service','Gmail.php',1764],['lib/google/src/Google/Service','Plus.php',908],['lib/google/src/Google/Service','Plus.php',2317],['lib/google/src/Google/Service','Plus.php',2873],['lib/google/src/Google/Service','Plus.php',3264],['lib/google/src/Google/Service','Spectrum.php',241],['lib/zend/Zend/Server/Method','Parameter.php',133],['lib/form','editor.php',119],['lib/google/src/Google/Service','Genomics.php',1704],['lib/google/src/Google/Service','Genomics.php',1822],['lib/google/src/Google/Service','Genomics.php',2987],['lib/google/src/Google/Service','Genomics.php',3104],['lib/google/src/Google/Service','Genomics.php',3168],['lib/google/src/Google/Service','Genomics.php',3236],['lib/google/src/Google/Service','Genomics.php',3388],['lib/google/src/Google/Service','Genomics.php',3560],['lib/form','selectgroups.php',104],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',119],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',215],['lib/google/src/Google/Service','Dfareporting.php',1082],['lib/google/src/Google/Service','Dfareporting.php',1400],['lib/google/src/Google/Service','Dfareporting.php',1700],['lib/google/src/Google/Service','Dfareporting.php',2565],['lib/google/src/Google/Service','PlusDomains.php',1176],['lib/google/src/Google/Service','PlusDomains.php',3069],['lib/google/src/Google/Service','PlusDomains.php',3434],['lib/zend/Zend/Server/Method','Definition.php',94],['lib/google/src/Google/Service','Drive.php',2618],['lib/google/src/Google/Service','Drive.php',3007],['lib/google/src/Google/Service','Drive.php',5030],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',118],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',170],['lib/google/src/Google/Service','AdExchangeSeller.php',856],['lib/google/src/Google/Service','AdExchangeSeller.php',1128],['lib/google/src/Google/Service','AdExchangeSeller.php',1462],['lib/google/src/Google/Service','AdExchangeSeller.php',1577],['lib/google/src/Google/Service','Bigquery.php',2988],['lib/pear/HTML/QuickForm','select.php',135],['lib/google/src/Google/Service','Freebase.php',300],['lib/google/src/Google/Service','Freebase.php',334],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',87],['lib/google/src/Google/Service','Groupssettings.php',310],['lib/google/src/Google/Service','YouTube.php',6159],['lib/google/src/Google/Service','YouTube.php',6285],['lib/google/src/Google/Service','Coordinate.php',803],['lib/google/src/Google/Service','Autoscaler.php',570],['lib/google/src/Google/Service','Autoscaler.php',924],['lib/google/src/Google/Service','Autoscaler.php',1269],['lib/google/src/Google/Service','Autoscaler.php',1392],['lib/google/src/Google/Service','Audit.php',330],['lib/google/src/Google/Service','Audit.php',356],['lib/pear/HTML/QuickForm','static.php',63],['lib/google/src/Google/Service','Datastore.php',575],['lib/google/src/Google/Service','Datastore.php',647],['lib/google/src/Google/Service','Datastore.php',664],['lib/google/src/Google/Service','Datastore.php',1092],['lib/google/src/Google/Service','YouTubeAnalytics.php',340],['lib/google/src/Google/Service','YouTubeAnalytics.php',600],['lib/pear/HTML/QuickForm','textarea.php',68],['lib/google/src/Google/Service','ShoppingContent.php',1151],['lib/google/src/Google/Service','ShoppingContent.php',1858],['lib/google/src/Google/Service','ShoppingContent.php',2831],['lib/google/src/Google/Service','ShoppingContent.php',3455],['lib/google/src/Google/Service','ShoppingContent.php',3507],['lib/google/src/Google/Service','Appsactivity.php',384],['lib/google/src/Google/Service','Appsactivity.php',531],['lib/google/src/Google/Service','Appsactivity.php',550],['lib/phpexcel/PHPExcel','NamedRange.php',108],['lib/google/src/Google/Service','SQLAdmin.php',1295],['lib/google/src/Google/Service','SQLAdmin.php',1568],['lib/google/src/Google/Service','Fitness.php',649],['lib/google/src/Google/Service','Fitness.php',813],['lib/google/src/Google/Service','Fitness.php',849],['lib/google/src/Google/Service','Fitness.php',875],['lib/google/src/Google/Service','Fitness.php',1113],['lib/google/src/Google/Service','TagManager.php',1850],['lib/google/src/Google/Service','TagManager.php',1972],['lib/google/src/Google/Service','TagManager.php',2131],['lib/google/src/Google/Service','TagManager.php',2229],['lib/google/src/Google/Service','TagManager.php',2288],['lib/google/src/Google/Service','TagManager.php',2590],['lib/google/src/Google/Service','TagManager.php',2770],['lib/google/src/Google/Service','TagManager.php',2885],['lib/google/src/Google/Service','TagManager.php',3076],['lib/google/src/Google/Service','TagManager.php',3250],['lib/google/src/Google/Service','Directory.php',2741],['lib/google/src/Google/Service','Directory.php',3304],['lib/google/src/Google/Service','Directory.php',3646],['lib/google/src/Google/Service','Directory.php',4017],['lib/google/src/Google/Service','Directory.php',4614],['lib/google/src/Google/Service','Directory.php',5095],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',126],['lib/pear/HTML/QuickForm','element.php',127],['lib/google/src/Google/Service','CivicInfo.php',350],['lib/google/src/Google/Service','CivicInfo.php',464],['lib/google/src/Google/Service','CivicInfo.php',538],['lib/google/src/Google/Service','CivicInfo.php',817],['lib/google/src/Google/Service','CivicInfo.php',860],['lib/google/src/Google/Service','CivicInfo.php',897],['lib/google/src/Google/Service','CivicInfo.php',968],['lib/google/src/Google/Service','CivicInfo.php',1004],['lib/google/src/Google/Service','CivicInfo.php',1052],['lib/google/src/Google/Service','CivicInfo.php',1127],['lib/google/src/Google/Service','CivicInfo.php',1211],['lib/google/src/Google/Service','CivicInfo.php',1445],['lib/google/src/Google/Service','Container.php',522],['lib/google/src/Google/Service','Container.php',754],['lib/phpexcel/PHPExcel/Style','Font.php',238],['lib/google/src/Google/Service','AdSenseHost.php',1249],['lib/google/src/Google/Service','AdSenseHost.php',1619],['lib/google/src/Google/Service','AdSenseHost.php',1922],['lib/google/src/Google/Service','AdSenseHost.php',2068],['lib/google/src/Google/Service','Games.php',2353],['lib/google/src/Google/Service','Games.php',2920],['lib/google/src/Google/Service','Games.php',3551],['lib/google/src/Google/Service','Games.php',3627],['lib/google/src/Google/Service','Games.php',3863],['lib/google/src/Google/Service','Games.php',4508],['lib/google/src/Google/Service','Games.php',5426],['lib/google/src/Google/Service','MapsEngine.php',3416],['lib/google/src/Google/Service','MapsEngine.php',3606],['lib/google/src/Google/Service','MapsEngine.php',4062],['lib/google/src/Google/Service','MapsEngine.php',4092],['lib/google/src/Google/Service','MapsEngine.php',4343],['lib/google/src/Google/Service','MapsEngine.php',4635],['lib/google/src/Google/Service','MapsEngine.php',4750],['lib/google/src/Google/Service','MapsEngine.php',4815],['lib/google/src/Google/Service','MapsEngine.php',4872],['lib/google/src/Google/Service','MapsEngine.php',5192],['lib/google/src/Google/Service','MapsEngine.php',5260],['lib/google/src/Google/Service','MapsEngine.php',5351],['lib/google/src/Google/Service','MapsEngine.php',5529],['lib/google/src/Google/Service','MapsEngine.php',5691],['lib/google/src/Google/Service','MapsEngine.php',5825],['lib/google/src/Google/Service','MapsEngine.php',6212],['lib/google/src/Google/Service','MapsEngine.php',6286],['lib/horde/framework/Horde/Mime','Part.php',363],['lib/zend/Zend/Service/DeveloperGarden/LocalSearch','SearchParameters.php',454],['lib/google/src/Google/Service','Compute.php',5487],['lib/google/src/Google/Service','Compute.php',5570],['lib/google/src/Google/Service','Compute.php',6118],['lib/google/src/Google/Service','Compute.php',6367],['lib/google/src/Google/Service','Compute.php',6635],['lib/google/src/Google/Service','Compute.php',7025],['lib/google/src/Google/Service','Compute.php',7225],['lib/google/src/Google/Service','Compute.php',7644],['lib/google/src/Google/Service','Compute.php',7837],['lib/google/src/Google/Service','Compute.php',8079],['lib/google/src/Google/Service','Compute.php',8425],['lib/google/src/Google/Service','Compute.php',8624],['lib/google/src/Google/Service','Compute.php',8745],['lib/google/src/Google/Service','Compute.php',9127],['lib/google/src/Google/Service','Compute.php',9165],['lib/google/src/Google/Service','Compute.php',9349],['lib/google/src/Google/Service','Compute.php',9805],['lib/google/src/Google/Service','Compute.php',9909],['lib/google/src/Google/Service','Compute.php',10037],['lib/google/src/Google/Service','Compute.php',10214],['lib/google/src/Google/Service','Compute.php',10570],['lib/google/src/Google/Service','Compute.php',10755],['lib/google/src/Google/Service','Compute.php',10891],['lib/google/src/Google/Service','Compute.php',11213],['lib/google/src/Google/Service','Compute.php',11694],['lib/google/src/Google/Service','Compute.php',12019],['lib/google/src/Google/Service','Compute.php',12142],['lib/google/src/Google/Service','CloudMonitoring.php',585],['lib/google/src/Google/Service','Analytics.php',3597],['lib/google/src/Google/Service','Analytics.php',3709],['lib/google/src/Google/Service','Analytics.php',3829],['lib/google/src/Google/Service','Analytics.php',4221],['lib/google/src/Google/Service','Analytics.php',4784],['lib/google/src/Google/Service','Analytics.php',5221],['lib/google/src/Google/Service','Analytics.php',5404],['lib/google/src/Google/Service','Analytics.php',5620],['lib/google/src/Google/Service','Analytics.php',5915],['lib/google/src/Google/Service','Analytics.php',6250],['lib/google/src/Google/Service','Analytics.php',6623],['lib/google/src/Google/Service','Analytics.php',6884],['lib/google/src/Google/Service','Analytics.php',7217],['lib/google/src/Google/Service','Analytics.php',7580],['lib/google/src/Google/Service','Analytics.php',7955],['lib/google/src/Google/Service','Analytics.php',7999],['lib/google/src/Google/Service','Analytics.php',8217],['lib/google/src/Google/Service','Analytics.php',8404],['lib/google/src/Google/Service','Analytics.php',9059],['lib/google/src/Google/Service','Analytics.php',9116],['lib/google/src/Google/Service','Analytics.php',9321],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',110],['lib/google/src/Google/Service','GamesManagement.php',1215],['lib/pear/HTML/QuickForm','Rule.php',45],['lib/google/src/Google/Service','Oauth2.php',366],['lib/google/src/Google/Service','Storage.php',1896],['lib/google/src/Google/Service','Storage.php',2567],['lib/google/src/Google/Service','Storage.php',2996],['mod/wiki/editors','wikifiletable.php',62],['lib/google/src/Google/Service','AdSense.php',2147],['lib/google/src/Google/Service','AdSense.php',2562],['lib/google/src/Google/Service','AdSense.php',2901],['lib/google/src/Google/Service','AdSense.php',3045],['lib/google/src/Google/Service','AdSense.php',3369],['lib/google/src/Google/Service','AdSense.php',3450],['lib/google/src/Google/Service','Pubsub.php',939],['lib/google/src/Google/Service','Pubsub.php',972],['lib/zend/Zend/Gdata/App/Extension','Person.php',121],['lib/zend/Zend/Service/Technorati','Weblog.php',343],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',70],['lib/google/src/Google/Service','Translate.php',315],['lib/pear/HTML/QuickForm','group.php',113],['lib/google/src/Google/Service','Dns.php',647],['lib/google/src/Google/Service','Dns.php',838],['lib/pear/HTML/QuickForm','xbutton.php',74],['lib/google/src/Google/Service','Replicapool.php',707],['lib/google/src/Google/Service','Replicapool.php',997],['lib/google/src/Google/Service','Resourceviews.php',736],['lib/google/src/Google/Service','Resourceviews.php',1091],['lib/google/src/Google/Service','Resourceviews.php',1141],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',89]], 55],
'gettypesql': ['gettypesql', 'Given one XMLDB Type, length and decimals, returns the DB proper SQL type. ', [['lib/ddl','mysql_sql_generator.php',371],['lib/ddl','oracle_sql_generator.php',164],['lib/ddl','sqlite_sql_generator.php',135],['lib/ddl','postgres_sql_generator.php',152],['lib/ddl','mssql_sql_generator.php',171]], 2],
'getdroptableextrasql': ['getdroptableextrasql', 'Returns the code (array of statements) needed to execute extra statements on table drop ', [['lib/ddl','oracle_sql_generator.php',305],['lib/ddl','sql_generator.php',1319]], 1],
'gettriggerfromdb': ['gettriggerfromdb', 'Given one xmldb_table returns one string with the trigger in the table (fetched from DB) ', [['lib/ddl','oracle_sql_generator.php',599]], 2],
'getalterfieldsql': ['getalterfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to alter the field in the table. ', [['lib/ddl','oracle_sql_generator.php',351],['lib/ddl','sqlite_sql_generator.php',278],['lib/ddl','sql_generator.php',731],['lib/ddl','postgres_sql_generator.php',251],['lib/ddl','mssql_sql_generator.php',310]], 13],
'table': ['table', '', [['lib/adodb','adodb-perf.inc.php',232],['lib/minify/lib','FirePHP.php',454],['lib','outputcomponents.php',1492]], 255],
'get_record_sql': ['get_record_sql', 'Get a single database record as an object using a SQL statement. ', [['lib/dml','oci_native_moodle_database.php',1035],['lib/dml','moodle_database.php',1457]], 140],
'is_temptable': ['is_temptable', 'Returns if one table, based in the information present in the store, is a temp table ', [['lib/dml','moodle_temptables.php',96]], 13],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1539]], 135],
'getdefaultclause': ['getdefaultclause', 'Given one xmldb_field, returns the correct "default clause" for the current configuration. ', [['lib/ddl','sql_generator.php',610]], 6],
'getcomment': ['getcomment', 'This function returns the comment of one xmldb_object ', [['lib/xmldb','xmldb_object.php',86],['lib/pear/HTML','Common.php',404],['lib/google/src/Google/Service','YouTube.php',3663],['lib/phpexcel/PHPExcel','Worksheet.php',2221],['lib/google/src/Google/Service','Calendar.php',2926]], 24],
'getresetsequencesql': ['getresetsequencesql', 'Reset a sequence to the id field of a table. ', [['lib/ddl','mysql_sql_generator.php',94],['lib/ddl','oracle_sql_generator.php',80],['lib/ddl','sqlite_sql_generator.php',80],['lib/ddl','postgres_sql_generator.php',72],['lib/ddl','mssql_sql_generator.php',89]], 2],
'getdefault': ['getdefault', 'Get the default ', [['lib/xmldb','xmldb_field.php',190],['lib/google/src/Google/Service','YouTube.php',7347],['lib/google/src/Google/Service','YouTube.php',8787]], 25],
'delete_temptable': ['delete_temptable', 'Delete one temptable from the store ', [['lib/dml','moodle_temptables.php',77]], 4],
'getreservedwords': ['getreservedwords', 'Returns an array of reserved words (lowercase) for this DB ', [['lib/ddl','mysql_sql_generator.php',566],['lib/ddl','oracle_sql_generator.php',672],['lib/ddl','sqlite_sql_generator.php',422],['lib/ddl','sql_generator.php',1353],['lib/ddl','postgres_sql_generator.php',509],['lib/ddl','mssql_sql_generator.php',648]], 2],
'getcreatetablesql': ['getcreatetablesql', 'Given one correct xmldb_table, returns the SQL statements to create it (inside one array). ', [['lib/ddl','mysql_sql_generator.php',201],['lib/ddl','sql_generator.php',277]], 9],
'getnameforobject': ['getnameforobject', 'Given three strings (table name, list of fields (comma separated) and suffix), create the proper object name quoting it if necessary. ', [['lib/ddl','sql_generator.php',1055],['lib/ddl','mssql_sql_generator.php',561]], 19],
'getname': ['getname', '', [['lib/google/src/Google/Service','Fusiontables.php',1439],['lib/google/src/Google/Service','Fusiontables.php',2031],['lib/google/src/Google/Service','Fusiontables.php',2204],['lib/google/src/Google/Service','Fusiontables.php',2419],['lib/pear/HTML/QuickForm','input.php',89],['lib/form','filemanager.php',109],['lib/xmldb','xmldb_object.php',118],['lib/zend/Zend/Http','Cookie.php',133],['lib/google/src/Google/Service','QPXExpress.php',127],['lib/google/src/Google/Service','QPXExpress.php',171],['lib/google/src/Google/Service','QPXExpress.php',260],['lib/google/src/Google/Service','QPXExpress.php',304],['lib/google/src/Google/Service','QPXExpress.php',1223],['lib/google/src/Google/Service','Blogger.php',1753],['lib/google/src/Google/Service','Blogger.php',2957],['lib/google/src/Google/Service','Doubleclicksearch.php',792],['lib/google/src/Google/Service','Doubleclicksearch.php',818],['lib/google/src/Google/Service','AdExchangeBuyer.php',1339],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',102],['lib/google/src/Google/Service','Manager.php',401],['lib/google/src/Google/Service','Manager.php',637],['lib/google/src/Google/Service','Manager.php',1296],['lib/google/src/Google/Service','Manager.php',1817],['lib/pear/HTML/QuickForm','link.php',89],['lib/google/src/Google/Service','Reports.php',620],['lib/google/src/Google/Service','Reports.php',691],['lib/google/src/Google/Service','Reports.php',1000],['lib/google/src/Google/Service','Customsearch.php',1076],['lib/google/src/Google/Service','Gmail.php',1376],['lib/google/src/Google/Service','Gmail.php',1768],['lib/google/src/Google/Service','Plus.php',912],['lib/google/src/Google/Service','Plus.php',2321],['lib/google/src/Google/Service','Plus.php',2877],['lib/google/src/Google/Service','Plus.php',3268],['lib/google/src/Google/Service','Spectrum.php',245],['lib/zend/Zend/Service/Simpy','Watchlist.php',132],['lib/zend/Zend/Server/Method','Parameter.php',145],['lib/form','editor.php',128],['lib/google/src/Google/Service','Genomics.php',1708],['lib/google/src/Google/Service','Genomics.php',1826],['lib/google/src/Google/Service','Genomics.php',2991],['lib/google/src/Google/Service','Genomics.php',3108],['lib/google/src/Google/Service','Genomics.php',3172],['lib/google/src/Google/Service','Genomics.php',3240],['lib/google/src/Google/Service','Genomics.php',3392],['lib/google/src/Google/Service','Genomics.php',3564],['lib/form','selectgroups.php',114],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',108],['lib/zend/Zend/Gdata/Gapps','UserEntry.php',204],['lib/google/src/Google/Service','Dfareporting.php',1086],['lib/google/src/Google/Service','Dfareporting.php',1404],['lib/google/src/Google/Service','Dfareporting.php',1704],['lib/google/src/Google/Service','Dfareporting.php',2569],['lib/google/src/Google/Service','PlusDomains.php',1180],['lib/google/src/Google/Service','PlusDomains.php',3073],['lib/google/src/Google/Service','PlusDomains.php',3438],['lib/zend/Zend/Server/Method','Definition.php',106],['lib/google/src/Google/Service','Drive.php',2622],['lib/google/src/Google/Service','Drive.php',3011],['lib/google/src/Google/Service','Drive.php',5034],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',107],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',161],['lib/google/src/Google/Service','AdExchangeSeller.php',860],['lib/google/src/Google/Service','AdExchangeSeller.php',1132],['lib/google/src/Google/Service','AdExchangeSeller.php',1466],['lib/google/src/Google/Service','AdExchangeSeller.php',1581],['lib/google/src/Google/Service','Bigquery.php',2992],['lib/pear/HTML/QuickForm','select.php',151],['lib/google/src/Google/Service','Freebase.php',304],['lib/google/src/Google/Service','Freebase.php',338],['lib/zend/Zend/Gdata/Gbase/Extension','BaseAttribute.php',68],['lib/google/src/Google/Service','Groupssettings.php',314],['lib/google/src/Google/Service','YouTube.php',6163],['lib/google/src/Google/Service','YouTube.php',6289],['lib/google/src/Google/Service','Coordinate.php',807],['lib/google/src/Google/Service','Autoscaler.php',574],['lib/google/src/Google/Service','Autoscaler.php',928],['lib/google/src/Google/Service','Autoscaler.php',1273],['lib/google/src/Google/Service','Autoscaler.php',1396],['lib/google/src/Google/Service','Audit.php',334],['lib/google/src/Google/Service','Audit.php',360],['lib/pear/HTML/QuickForm','static.php',78],['lib/google/src/Google/Service','Datastore.php',579],['lib/google/src/Google/Service','Datastore.php',651],['lib/google/src/Google/Service','Datastore.php',668],['lib/google/src/Google/Service','Datastore.php',1096],['lib/google/src/Google/Service','YouTubeAnalytics.php',344],['lib/google/src/Google/Service','YouTubeAnalytics.php',604],['lib/pear/HTML/QuickForm','textarea.php',84],['lib/google/src/Google/Service','ShoppingContent.php',1155],['lib/google/src/Google/Service','ShoppingContent.php',1862],['lib/google/src/Google/Service','ShoppingContent.php',2835],['lib/google/src/Google/Service','ShoppingContent.php',3459],['lib/google/src/Google/Service','ShoppingContent.php',3511],['lib/google/src/Google/Service','Appsactivity.php',388],['lib/google/src/Google/Service','Appsactivity.php',535],['lib/google/src/Google/Service','Appsactivity.php',554],['lib/phpexcel/PHPExcel','NamedRange.php',99],['lib/google/src/Google/Service','SQLAdmin.php',1299],['lib/google/src/Google/Service','SQLAdmin.php',1572],['lib/google/src/Google/Service','Fitness.php',653],['lib/google/src/Google/Service','Fitness.php',817],['lib/google/src/Google/Service','Fitness.php',853],['lib/google/src/Google/Service','Fitness.php',879],['lib/google/src/Google/Service','Fitness.php',1117],['lib/google/src/Google/Service','TagManager.php',1854],['lib/google/src/Google/Service','TagManager.php',1976],['lib/google/src/Google/Service','TagManager.php',2135],['lib/google/src/Google/Service','TagManager.php',2233],['lib/google/src/Google/Service','TagManager.php',2292],['lib/google/src/Google/Service','TagManager.php',2594],['lib/google/src/Google/Service','TagManager.php',2774],['lib/google/src/Google/Service','TagManager.php',2889],['lib/google/src/Google/Service','TagManager.php',3080],['lib/google/src/Google/Service','TagManager.php',3254],['lib/google/src/Google/Service','Directory.php',2745],['lib/google/src/Google/Service','Directory.php',3308],['lib/google/src/Google/Service','Directory.php',3650],['lib/google/src/Google/Service','Directory.php',4021],['lib/google/src/Google/Service','Directory.php',4618],['lib/google/src/Google/Service','Directory.php',5099],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',116],['lib/pear/HTML/QuickForm','element.php',143],['lib/zend/Zend/Service/Simpy','WatchlistFilter.php',62],['lib/google/src/Google/Service','CivicInfo.php',354],['lib/google/src/Google/Service','CivicInfo.php',468],['lib/google/src/Google/Service','CivicInfo.php',542],['lib/google/src/Google/Service','CivicInfo.php',821],['lib/google/src/Google/Service','CivicInfo.php',864],['lib/google/src/Google/Service','CivicInfo.php',901],['lib/google/src/Google/Service','CivicInfo.php',972],['lib/google/src/Google/Service','CivicInfo.php',1008],['lib/google/src/Google/Service','CivicInfo.php',1056],['lib/google/src/Google/Service','CivicInfo.php',1131],['lib/google/src/Google/Service','CivicInfo.php',1215],['lib/google/src/Google/Service','CivicInfo.php',1449],['lib/google/src/Google/Service','Container.php',526],['lib/google/src/Google/Service','Container.php',758],['lib/phpexcel/PHPExcel/Style','Font.php',226],['lib/google/src/Google/Service','AdSenseHost.php',1253],['lib/google/src/Google/Service','AdSenseHost.php',1623],['lib/google/src/Google/Service','AdSenseHost.php',1926],['lib/google/src/Google/Service','AdSenseHost.php',2072],['lib/google/src/Google/Service','Games.php',2357],['lib/google/src/Google/Service','Games.php',2924],['lib/google/src/Google/Service','Games.php',3555],['lib/google/src/Google/Service','Games.php',3631],['lib/google/src/Google/Service','Games.php',3867],['lib/google/src/Google/Service','Games.php',4512],['lib/google/src/Google/Service','Games.php',5430],['lib/google/src/Google/Service','MapsEngine.php',3420],['lib/google/src/Google/Service','MapsEngine.php',3610],['lib/google/src/Google/Service','MapsEngine.php',4066],['lib/google/src/Google/Service','MapsEngine.php',4096],['lib/google/src/Google/Service','MapsEngine.php',4347],['lib/google/src/Google/Service','MapsEngine.php',4639],['lib/google/src/Google/Service','MapsEngine.php',4754],['lib/google/src/Google/Service','MapsEngine.php',4819],['lib/google/src/Google/Service','MapsEngine.php',4876],['lib/google/src/Google/Service','MapsEngine.php',5196],['lib/google/src/Google/Service','MapsEngine.php',5264],['lib/google/src/Google/Service','MapsEngine.php',5355],['lib/google/src/Google/Service','MapsEngine.php',5533],['lib/google/src/Google/Service','MapsEngine.php',5695],['lib/google/src/Google/Service','MapsEngine.php',5829],['lib/google/src/Google/Service','MapsEngine.php',6216],['lib/google/src/Google/Service','MapsEngine.php',6290],['lib/horde/framework/Horde/Mime','Part.php',374],['lib/google/src/Google/Service','Compute.php',5491],['lib/google/src/Google/Service','Compute.php',5574],['lib/google/src/Google/Service','Compute.php',6122],['lib/google/src/Google/Service','Compute.php',6371],['lib/google/src/Google/Service','Compute.php',6639],['lib/google/src/Google/Service','Compute.php',7029],['lib/google/src/Google/Service','Compute.php',7229],['lib/google/src/Google/Service','Compute.php',7648],['lib/google/src/Google/Service','Compute.php',7841],['lib/google/src/Google/Service','Compute.php',8083],['lib/google/src/Google/Service','Compute.php',8429],['lib/google/src/Google/Service','Compute.php',8628],['lib/google/src/Google/Service','Compute.php',8749],['lib/google/src/Google/Service','Compute.php',9131],['lib/google/src/Google/Service','Compute.php',9169],['lib/google/src/Google/Service','Compute.php',9353],['lib/google/src/Google/Service','Compute.php',9809],['lib/google/src/Google/Service','Compute.php',9913],['lib/google/src/Google/Service','Compute.php',10041],['lib/google/src/Google/Service','Compute.php',10218],['lib/google/src/Google/Service','Compute.php',10574],['lib/google/src/Google/Service','Compute.php',10759],['lib/google/src/Google/Service','Compute.php',10895],['lib/google/src/Google/Service','Compute.php',11217],['lib/google/src/Google/Service','Compute.php',11698],['lib/google/src/Google/Service','Compute.php',12023],['lib/google/src/Google/Service','Compute.php',12146],['lib/google/src/Google/Service','CloudMonitoring.php',589],['lib/google/src/Google/Service','Analytics.php',3601],['lib/google/src/Google/Service','Analytics.php',3713],['lib/google/src/Google/Service','Analytics.php',3833],['lib/google/src/Google/Service','Analytics.php',4225],['lib/google/src/Google/Service','Analytics.php',4788],['lib/google/src/Google/Service','Analytics.php',5225],['lib/google/src/Google/Service','Analytics.php',5408],['lib/google/src/Google/Service','Analytics.php',5624],['lib/google/src/Google/Service','Analytics.php',5919],['lib/google/src/Google/Service','Analytics.php',6254],['lib/google/src/Google/Service','Analytics.php',6627],['lib/google/src/Google/Service','Analytics.php',6888],['lib/google/src/Google/Service','Analytics.php',7221],['lib/google/src/Google/Service','Analytics.php',7584],['lib/google/src/Google/Service','Analytics.php',7959],['lib/google/src/Google/Service','Analytics.php',8003],['lib/google/src/Google/Service','Analytics.php',8221],['lib/google/src/Google/Service','Analytics.php',8408],['lib/google/src/Google/Service','Analytics.php',9063],['lib/google/src/Google/Service','Analytics.php',9120],['lib/google/src/Google/Service','Analytics.php',9325],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ConferenceDetail.php',125],['lib/google/src/Google/Service','GamesManagement.php',1219],['lib/google/src/Google/Service','Oauth2.php',370],['lib/google/src/Google/Service','Storage.php',1900],['lib/google/src/Google/Service','Storage.php',2571],['lib/google/src/Google/Service','Storage.php',3000],['mod/wiki/editors','wikifiletable.php',66],['lib/google/src/Google/Service','AdSense.php',2151],['lib/google/src/Google/Service','AdSense.php',2566],['lib/google/src/Google/Service','AdSense.php',2905],['lib/google/src/Google/Service','AdSense.php',3049],['lib/google/src/Google/Service','AdSense.php',3373],['lib/google/src/Google/Service','AdSense.php',3454],['lib/google/src/Google/Service','Pubsub.php',943],['lib/google/src/Google/Service','Pubsub.php',976],['lib/zend/Zend/Gdata/App/Extension','Person.php',112],['lib/alfresco/Service','ChildAssociation.php',55],['lib/zend/Zend/Service/Technorati','Weblog.php',212],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',60],['lib/google/src/Google/Service','Translate.php',319],['lib/pear/HTML/QuickForm','group.php',129],['lib/google/src/Google/Service','Dns.php',651],['lib/google/src/Google/Service','Dns.php',842],['lib/pear/HTML/QuickForm','xbutton.php',82],['lib/phpexcel/PHPExcel','Chart.php',165],['lib/google/src/Google/Service','Replicapool.php',711],['lib/google/src/Google/Service','Replicapool.php',1001],['lib/google/src/Google/Service','Resourceviews.php',740],['lib/google/src/Google/Service','Resourceviews.php',1095],['lib/google/src/Google/Service','Resourceviews.php',1145],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',84]], 882],
'lower': ['lower', 'Makes a string lowercase. ', [['lib/horde/framework/Horde','String.php',167]], 83],
'getcreatetriggersql': ['getcreatetriggersql', 'Returns the code needed to create one trigger for the xmldb_table and xmldb_field passed ', [['lib/ddl','oracle_sql_generator.php',242]], 2],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'getdropfieldsql': ['getdropfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop the field from the table. ', [['lib/ddl','sqlite_sql_generator.php',351],['lib/ddl','sql_generator.php',710],['lib/ddl','mssql_sql_generator.php',236]], 3],
'getencquoted': ['getencquoted', 'Given any string (or one array), enclose it by the proper quotes if it\'s a reserved word ', [['lib/ddl','sql_generator.php',1113]], 42],
'getlength': ['getlength', '', [['lib/zend/Zend/Gdata/App/Extension','Link.php',204],['lib/zend/Zend/Service/Simpy','LinkSet.php',74],['lib/xmldb','xmldb_field.php',149],['lib/google/src/Google/Service','Genomics.php',3224],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',68],['lib/zend/Zend/Validate/Barcode','AdapterAbstract.php',149],['lib/zend/Zend/Service/Simpy','TagSet.php',74],['lib/zend/Zend/Service/Simpy','WatchlistSet.php',73],['lib/zend/Zend/Service/Simpy','NoteSet.php',74]], 55],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'sql_compare_text': ['sql_compare_text', 'Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn\'t support such direct comparisons. ', [['lib/dml','moodle_database.php',1991]], 83],
'getdropsequencesql': ['getdropsequencesql', 'Returns the code needed to drop one sequence for the xmldb_table and xmldb_field passed Can, optionally, specify if the underlying trigger will be also dropped ', [['lib/ddl','oracle_sql_generator.php',267]], 1],
'get_columns': ['get_columns', 'Returns detailed information about columns in table. This information is cached internally. ', [['lib/dml','pgsql_native_moodle_database.php',385],['lib/dml','oci_native_moodle_database.php',464],['lib/dml','sqlsrv_native_moodle_database.php',462],['lib/dml','sqlite3_pdo_moodle_database.php',195],['lib/dml','mssql_native_moodle_database.php',392],['lib','csvlib.class.php',190],['lib/dml','mysqli_native_moodle_database.php',572],['lib/dml/tests','dml_test.php',5417]], 108],
'getcreatedefaultsql': ['getcreatedefaultsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to add its default (usually invoked from getModifyDefaultSQL() ', [['lib/ddl','mysql_sql_generator.php',457],['lib/ddl','oracle_sql_generator.php',538],['lib/ddl','sqlite_sql_generator.php',301],['lib/ddl','postgres_sql_generator.php',378],['lib/ddl','mssql_sql_generator.php',478]], 5],
'isnameinuse': ['isnameinuse', 'Given one object name and it\'s type (pk, uk, fk, ck, ix, uix, seq, trg). ', [['lib/ddl','mysql_sql_generator.php',531],['lib/ddl','oracle_sql_generator.php',622],['lib/ddl','sqlite_sql_generator.php',404],['lib/ddl','sql_generator.php',1229],['lib/ddl','postgres_sql_generator.php',460],['lib/ddl','mssql_sql_generator.php',588]], 1],
'getdropdefaultsql': ['getdropdefaultsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop its default (usually invoked from getModifyDefaultSQL() ', [['lib/ddl','mysql_sql_generator.php',497],['lib/ddl','oracle_sql_generator.php',552],['lib/ddl','sqlite_sql_generator.php',378],['lib/ddl','postgres_sql_generator.php',392],['lib/ddl','mssql_sql_generator.php',506]], 5],
'strtoupper': ['strtoupper', '', [], 576],
'addslashes': ['addslashes', '', [], 31],
'max': ['max', '', [], 1096],
'substr': ['substr', '', [], 2883],
'strtolower': ['strtolower', '', [], 922],
'gettype': ['gettype', '', [], 288],
'array_merge': ['array_merge', '', [], 2320],
'defined': ['defined', '', [], 4098],
'preg_match': ['preg_match', '', [], 1317],
'is_string': ['is_string', '', [], 680],
'str_replace': ['str_replace', '', [], 1667],
'is_null': ['is_null', '', [], 1992],
'preg_replace': ['preg_replace', '', [], 903],
'array_unshift': ['array_unshift', '', [], 114]};
CLASS_DATA={
'xmldb_table': ['xmldb_table', '', [['lib/xmldb','xmldb_table.php',29]], 397],
'xmldb_field': ['xmldb_field', '', [['lib/xmldb','xmldb_field.php',29]], 306],
'oracle_sql_generator': ['oracle_sql_generator', 'This class generate SQL code to be used against Oracle It extends XMLDBgenerator so everything can be overridden as needed to generate correct SQL. ', [['lib/ddl','oracle_sql_generator.php',30]], 0]};
CONST_DATA={
'XMLDB_TYPE_NUMBER': ['XMLDB_TYPE_NUMBER', '', [['lib/xmldb','xmldb_constants.php',46]], 89],
'XMLDB_TYPE_INTEGER': ['XMLDB_TYPE_INTEGER', '', [['lib/xmldb','xmldb_constants.php',44]], 652],
'XMLDB_TYPE_DATETIME': ['XMLDB_TYPE_DATETIME', '', [['lib/xmldb','xmldb_constants.php',56]], 20],
'XMLDB_TYPE_BINARY': ['XMLDB_TYPE_BINARY', '', [['lib/xmldb','xmldb_constants.php',54]], 40],
'XMLDB_TYPE_FLOAT': ['XMLDB_TYPE_FLOAT', '', [['lib/xmldb','xmldb_constants.php',48]], 48],
'XMLDB_TYPE_CHAR': ['XMLDB_TYPE_CHAR', '', [['lib/xmldb','xmldb_constants.php',50]], 231],
'XMLDB_TYPE_TEXT': ['XMLDB_TYPE_TEXT', '', [['lib/xmldb','xmldb_constants.php',52]], 121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
