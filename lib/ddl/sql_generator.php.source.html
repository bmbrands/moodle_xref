<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/ddl/sql_generator.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/ddl';
filename='sql_generator.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/ddl/</a> -> <a href="sql_generator.php.html">sql_generator.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="sql_generator.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="sql_generator.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This class represent the base generator class where all the needed functions to generate proper SQL are defined.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * The rest of classes will inherit, by default, the same logic.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * Functions will be overridden as needed to generate correct SQL.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @package    core_ddl</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas     http://dougiamas.com</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *             2001-3001 Eloy Lafuente (stronk7) http://contiento.com</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> */</span>
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * Abstract sql generator class, base for all db specific implementations.</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> *</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @package    core_ddl</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas     http://dougiamas.com</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *             2001-3001 Eloy Lafuente (stronk7) http://contiento.com</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> */</span>
<a name="l39"><span class="linenum">  39</span></a>  abstract class sql_generator {
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">    // Please, avoid editing this defaults in this base class!</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">    // It could change the behaviour of the rest of generators</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">    // that, by default, inherit this configuration.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">    // To change any of them, do it in extended classes instead.</span>
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">    /** @var string Used to quote names. */</span>
<a name="l47"><span class="linenum">  47</span></a>      public <a class="var it18311" onMouseOver="hilite(18311)" onMouseOut="lolite()" onClick="logVariable('quote_string')" href="../../_variables/quote_string.html">$quote_string</a> = '&quot;';
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">    /** @var string To be automatically added at the end of each statement. */</span>
<a name="l50"><span class="linenum">  50</span></a>      public <a class="var it32663" onMouseOver="hilite(32663)" onMouseOut="lolite()" onClick="logVariable('statement_end')" href="../../_variables/statement_end.html">$statement_end</a> = ';';
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">    /** @var bool To decide if we want to quote all the names or only the reserved ones. */</span>
<a name="l53"><span class="linenum">  53</span></a>      public <a class="var it34641" onMouseOver="hilite(34641)" onMouseOut="lolite()" onClick="logVariable('quote_all')" href="../../_variables/quote_all.html">$quote_all</a> = false;
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">    /** @var bool To create all the integers as NUMBER(x) (also called DECIMAL, NUMERIC...). */</span>
<a name="l56"><span class="linenum">  56</span></a>      public <a class="var it34642" onMouseOver="hilite(34642)" onMouseOut="lolite()" onClick="logVariable('integer_to_number')" href="../../_variables/integer_to_number.html">$integer_to_number</a> = false;
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">    /** @var bool To create all the floats as NUMBER(x) (also called DECIMAL, NUMERIC...). */</span>
<a name="l59"><span class="linenum">  59</span></a>      public <a class="var it34643" onMouseOver="hilite(34643)" onMouseOut="lolite()" onClick="logVariable('float_to_number')" href="../../_variables/float_to_number.html">$float_to_number</a>   = false;
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">    /** @var string Proper type for NUMBER(x) in this DB. */</span>
<a name="l62"><span class="linenum">  62</span></a>      public <a class="var it15707" onMouseOver="hilite(15707)" onMouseOut="lolite()" onClick="logVariable('number_type')" href="../../_variables/number_type.html">$number_type</a> = 'NUMERIC';
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">    /** @var string To define the default to set for NOT NULLs CHARs without default (null=do nothing).*/</span>
<a name="l65"><span class="linenum">  65</span></a>      public <a class="var it15692" onMouseOver="hilite(15692)" onMouseOut="lolite()" onClick="logVariable('default_for_char')" href="../../_variables/default_for_char.html">$default_for_char</a> = null;
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">    /** @var bool To specify if the generator must use some DEFAULT clause to drop defaults.*/</span>
<a name="l68"><span class="linenum">  68</span></a>      public <a class="var it15687" onMouseOver="hilite(15687)" onMouseOut="lolite()" onClick="logVariable('drop_default_value_required')" href="../../_variables/drop_default_value_required.html">$drop_default_value_required</a> = false;
<a name="l69"><span class="linenum">  69</span></a>  
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">    /** @var string The DEFAULT clause required to drop defaults.*/</span>
<a name="l71"><span class="linenum">  71</span></a>      public <a class="var it15688" onMouseOver="hilite(15688)" onMouseOut="lolite()" onClick="logVariable('drop_default_value')" href="../../_variables/drop_default_value.html">$drop_default_value</a> = '';
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">    /** @var bool To decide if the default clause of each field must go after the null clause.*/</span>
<a name="l74"><span class="linenum">  74</span></a>      public <a class="var it32664" onMouseOver="hilite(32664)" onMouseOut="lolite()" onClick="logVariable('default_after_null')" href="../../_variables/default_after_null.html">$default_after_null</a> = true;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">    /** @var bool To force the generator if NULL clauses must be specified. It shouldn't be necessary.*/</span>
<a name="l77"><span class="linenum">  77</span></a>      public <a class="var it34644" onMouseOver="hilite(34644)" onMouseOut="lolite()" onClick="logVariable('specify_nulls')" href="../../_variables/specify_nulls.html">$specify_nulls</a> = false;
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">    /** @var string To force primary key names to one string (null=no force).*/</span>
<a name="l80"><span class="linenum">  80</span></a>      public <a class="var it15701" onMouseOver="hilite(15701)" onMouseOut="lolite()" onClick="logVariable('primary_key_name')" href="../../_variables/primary_key_name.html">$primary_key_name</a> = null;
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">    /** @var bool True if the generator builds primary keys.*/</span>
<a name="l83"><span class="linenum">  83</span></a>      public <a class="var it15700" onMouseOver="hilite(15700)" onMouseOut="lolite()" onClick="logVariable('primary_keys')" href="../../_variables/primary_keys.html">$primary_keys</a> = true;
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">    /** @var bool True if the generator builds unique keys.*/</span>
<a name="l86"><span class="linenum">  86</span></a>      public <a class="var it15702" onMouseOver="hilite(15702)" onMouseOut="lolite()" onClick="logVariable('unique_keys')" href="../../_variables/unique_keys.html">$unique_keys</a> = false;
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">    /** @var bool True if the generator builds foreign keys.*/</span>
<a name="l89"><span class="linenum">  89</span></a>      public <a class="var it15703" onMouseOver="hilite(15703)" onMouseOut="lolite()" onClick="logVariable('foreign_keys')" href="../../_variables/foreign_keys.html">$foreign_keys</a> = false;
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">    /** @var string Template to drop PKs. 'TABLENAME' and 'KEYNAME' will be replaced from this template.*/</span>
<a name="l92"><span class="linenum">  92</span></a>      public <a class="var it15689" onMouseOver="hilite(15689)" onMouseOut="lolite()" onClick="logVariable('drop_primary_key')" href="../../_variables/drop_primary_key.html">$drop_primary_key</a> = 'ALTER TABLE TABLENAME DROP CONSTRAINT KEYNAME';
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">    /** @var string Template to drop UKs. 'TABLENAME' and 'KEYNAME' will be replaced from this template.*/</span>
<a name="l95"><span class="linenum">  95</span></a>      public <a class="var it15690" onMouseOver="hilite(15690)" onMouseOut="lolite()" onClick="logVariable('drop_unique_key')" href="../../_variables/drop_unique_key.html">$drop_unique_key</a> = 'ALTER TABLE TABLENAME DROP CONSTRAINT KEYNAME';
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">    /** @var string Template to drop FKs. 'TABLENAME' and 'KEYNAME' will be replaced from this template.*/</span>
<a name="l98"><span class="linenum">  98</span></a>      public <a class="var it15691" onMouseOver="hilite(15691)" onMouseOut="lolite()" onClick="logVariable('drop_foreign_key')" href="../../_variables/drop_foreign_key.html">$drop_foreign_key</a> = 'ALTER TABLE TABLENAME DROP CONSTRAINT KEYNAME';
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">    /** @var bool True if the generator needs to add extra code to generate the sequence fields.*/</span>
<a name="l101"><span class="linenum"> 101</span></a>      public <a class="var it15694" onMouseOver="hilite(15694)" onMouseOut="lolite()" onClick="logVariable('sequence_extra_code')" href="../../_variables/sequence_extra_code.html">$sequence_extra_code</a> = true;
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">    /** @var string The particular name for inline sequences in this generator.*/</span>
<a name="l104"><span class="linenum"> 104</span></a>      public <a class="var it15695" onMouseOver="hilite(15695)" onMouseOut="lolite()" onClick="logVariable('sequence_name')" href="../../_variables/sequence_name.html">$sequence_name</a> = 'auto_increment';
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">    /** @var string|bool Different name for small (4byte) sequences or false if same.*/</span>
<a name="l107"><span class="linenum"> 107</span></a>      public <a class="var it34645" onMouseOver="hilite(34645)" onMouseOut="lolite()" onClick="logVariable('sequence_name_small')" href="../../_variables/sequence_name_small.html">$sequence_name_small</a> = false;
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>      <span class="comment">/**</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @var bool To avoid outputting the rest of the field specs, leaving only the name and the sequence_name returned.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @see getFieldSQL()</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     */</span>
<a name="l113"><span class="linenum"> 113</span></a>      public <a class="var it15693" onMouseOver="hilite(15693)" onMouseOut="lolite()" onClick="logVariable('sequence_only')" href="../../_variables/sequence_only.html">$sequence_only</a> = false;
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">    /** @var bool True if the generator needs to add code for table comments.*/</span>
<a name="l116"><span class="linenum"> 116</span></a>      public <a class="var it34646" onMouseOver="hilite(34646)" onMouseOut="lolite()" onClick="logVariable('add_table_comments')" href="../../_variables/add_table_comments.html">$add_table_comments</a>  = true;
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">    /** @var bool True if the generator needs to add the after clause for fields.*/</span>
<a name="l119"><span class="linenum"> 119</span></a>      public <a class="var it18312" onMouseOver="hilite(18312)" onMouseOut="lolite()" onClick="logVariable('add_after_clause')" href="../../_variables/add_after_clause.html">$add_after_clause</a> = false;
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>      <span class="comment">/**</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @var bool True if the generator needs to prepend the prefix to all the key/index/sequence/trigger/check names.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @see $prefix</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     */</span>
<a name="l125"><span class="linenum"> 125</span></a>      public <a class="var it34647" onMouseOver="hilite(34647)" onMouseOut="lolite()" onClick="logVariable('prefix_on_names')" href="../../_variables/prefix_on_names.html">$prefix_on_names</a> = true;
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">    /** @var int Maximum length for key/index/sequence/trigger/check names (keep 30 for all!).*/</span>
<a name="l128"><span class="linenum"> 128</span></a>      public <a class="var it4928" onMouseOver="hilite(4928)" onMouseOut="lolite()" onClick="logVariable('names_max_length')" href="../../_variables/names_max_length.html">$names_max_length</a> = 30;
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">    /** @var string Characters to be used as concatenation operator. If not defined, MySQL CONCAT function will be used.*/</span>
<a name="l131"><span class="linenum"> 131</span></a>      public <a class="var it18313" onMouseOver="hilite(18313)" onMouseOut="lolite()" onClick="logVariable('concat_character')" href="../../_variables/concat_character.html">$concat_character</a> = '||';
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">    /** @var string SQL sentence to rename one table, both 'OLDNAME' and 'NEWNAME' keywords are dynamically replaced.*/</span>
<a name="l134"><span class="linenum"> 134</span></a>      public <a class="var it34648" onMouseOver="hilite(34648)" onMouseOut="lolite()" onClick="logVariable('rename_table_sql')" href="../../_variables/rename_table_sql.html">$rename_table_sql</a> = 'ALTER TABLE OLDNAME RENAME TO NEWNAME';
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">    /** @var string SQL sentence to drop one table where the 'TABLENAME' keyword is dynamically replaced.*/</span>
<a name="l137"><span class="linenum"> 137</span></a>      public <a class="var it34649" onMouseOver="hilite(34649)" onMouseOut="lolite()" onClick="logVariable('drop_table_sql')" href="../../_variables/drop_table_sql.html">$drop_table_sql</a> = 'DROP TABLE TABLENAME';
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">    /** @var string The SQL template to alter columns where the 'TABLENAME' and 'COLUMNSPECS' keywords are dynamically replaced.*/</span>
<a name="l140"><span class="linenum"> 140</span></a>      public <a class="var it18314" onMouseOver="hilite(18314)" onMouseOut="lolite()" onClick="logVariable('alter_column_sql')" href="../../_variables/alter_column_sql.html">$alter_column_sql</a> = 'ALTER TABLE TABLENAME ALTER COLUMN COLUMNSPECS';
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">    /** @var bool The generator will skip the default clause on alter columns.*/</span>
<a name="l143"><span class="linenum"> 143</span></a>      public <a class="var it32674" onMouseOver="hilite(32674)" onMouseOut="lolite()" onClick="logVariable('alter_column_skip_default')" href="../../_variables/alter_column_skip_default.html">$alter_column_skip_default</a> = false;
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">    /** @var bool The generator will skip the type clause on alter columns.*/</span>
<a name="l146"><span class="linenum"> 146</span></a>      public <a class="var it32673" onMouseOver="hilite(32673)" onMouseOut="lolite()" onClick="logVariable('alter_column_skip_type')" href="../../_variables/alter_column_skip_type.html">$alter_column_skip_type</a> = false;
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">    /** @var bool The generator will skip the null/notnull clause on alter columns.*/</span>
<a name="l149"><span class="linenum"> 149</span></a>      public <a class="var it32675" onMouseOver="hilite(32675)" onMouseOut="lolite()" onClick="logVariable('alter_column_skip_notnull')" href="../../_variables/alter_column_skip_notnull.html">$alter_column_skip_notnull</a> = false;
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">    /** @var string SQL sentence to rename one column where 'TABLENAME', 'OLDFIELDNAME' and 'NEWFIELDNAME' keywords are dynamically replaced.*/</span>
<a name="l152"><span class="linenum"> 152</span></a>      public <a class="var it34650" onMouseOver="hilite(34650)" onMouseOut="lolite()" onClick="logVariable('rename_column_sql')" href="../../_variables/rename_column_sql.html">$rename_column_sql</a> = 'ALTER TABLE TABLENAME RENAME COLUMN OLDFIELDNAME TO NEWFIELDNAME';
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">    /** @var string SQL sentence to drop one index where 'TABLENAME', 'INDEXNAME' keywords are dynamically replaced.*/</span>
<a name="l155"><span class="linenum"> 155</span></a>      public <a class="var it15696" onMouseOver="hilite(15696)" onMouseOut="lolite()" onClick="logVariable('drop_index_sql')" href="../../_variables/drop_index_sql.html">$drop_index_sql</a> = 'DROP INDEX INDEXNAME';
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">    /** @var string SQL sentence to rename one index where 'TABLENAME', 'OLDINDEXNAME' and 'NEWINDEXNAME' are dynamically replaced.*/</span>
<a name="l158"><span class="linenum"> 158</span></a>      public <a class="var it15697" onMouseOver="hilite(15697)" onMouseOut="lolite()" onClick="logVariable('rename_index_sql')" href="../../_variables/rename_index_sql.html">$rename_index_sql</a> = 'ALTER INDEX OLDINDEXNAME RENAME TO NEWINDEXNAME';
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">    /** @var string SQL sentence to rename one key 'TABLENAME', 'OLDKEYNAME' and 'NEWKEYNAME' are dynamically replaced.*/</span>
<a name="l161"><span class="linenum"> 161</span></a>      public <a class="var it15698" onMouseOver="hilite(15698)" onMouseOut="lolite()" onClick="logVariable('rename_key_sql')" href="../../_variables/rename_key_sql.html">$rename_key_sql</a> = 'ALTER TABLE TABLENAME CONSTRAINT OLDKEYNAME RENAME TO NEWKEYNAME';
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">    /** @var string The prefix to be used for all the DB objects.*/</span>
<a name="l164"><span class="linenum"> 164</span></a>      public <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../_variables/prefix.html">$prefix</a>;
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">    /** @var string List of reserved words (in order to quote them properly).*/</span>
<a name="l167"><span class="linenum"> 167</span></a>      public <a class="var it15717" onMouseOver="hilite(15717)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a>;
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">    /** @var moodle_database The moodle_database instance.*/</span>
<a name="l170"><span class="linenum"> 170</span></a>      public <a class="var it5497" onMouseOver="hilite(5497)" onMouseOut="lolite()" onClick="logVariable('mdb')" href="../../_variables/mdb.html">$mdb</a>;
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">    /** @var Control existing temptables.*/</span>
<a name="l173"><span class="linenum"> 173</span></a>      protected <a class="var it4637" onMouseOver="hilite(4637)" onMouseOut="lolite()" onClick="logVariable('temptables')" href="../../_variables/temptables.html">$temptables</a>;
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>      <span class="comment">/**</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     * Creates a new sql_generator.</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * @param moodle_database $mdb The moodle_database object instance.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * @param moodle_temptables $temptables The optional moodle_temptables instance, null by default.</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     */</span>
<a name="l180"><span class="linenum"> 180</span></a>      public function <a class="function" onClick="logFunction('__construct')" href="../../_functions/__construct.html" onMouseOver="funcPopup(event,'__construct')">__construct</a>(<a class="var it5497" onMouseOver="hilite(5497)" onMouseOut="lolite()" onClick="logVariable('mdb')" href="../../_variables/mdb.html">$mdb</a>, <a class="var it4637" onMouseOver="hilite(4637)" onMouseOut="lolite()" onClick="logVariable('temptables')" href="../../_variables/temptables.html">$temptables</a> = null) {
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>         = <a class="var it5497" onMouseOver="hilite(5497)" onMouseOut="lolite()" onClick="logVariable('mdb')" href="../../_variables/mdb.html">$mdb</a>-&gt;<a class="function" onClick="logFunction('get_prefix')" href="../../_functions/get_prefix.html" onMouseOver="funcPopup(event,'get_prefix')">get_prefix</a>();
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('reserved_words')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/reserved_words.html">reserved_words</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getReservedWords')" href="../../_functions/getreservedwords.html" onMouseOver="funcPopup(event,'getreservedwords')">getReservedWords</a>();
<a name="l183"><span class="linenum"> 183</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>            = <a class="var it5497" onMouseOver="hilite(5497)" onMouseOut="lolite()" onClick="logVariable('mdb')" href="../../_variables/mdb.html">$mdb</a>; <span class="comment">// this creates circular reference - the other link must be unset when closing db</span>
<a name="l184"><span class="linenum"> 184</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>     = <a class="var it4637" onMouseOver="hilite(4637)" onMouseOut="lolite()" onClick="logVariable('temptables')" href="../../_variables/temptables.html">$temptables</a>;
<a name="l185"><span class="linenum"> 185</span></a>      }
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>      <span class="comment">/**</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * Releases all resources.</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     */</span>
<a name="l190"><span class="linenum"> 190</span></a>      public function <a class="function" onClick="logFunction('dispose')" href="../../_functions/dispose.html" onMouseOver="funcPopup(event,'dispose')">dispose</a>() {
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a> = null;
<a name="l192"><span class="linenum"> 192</span></a>      }
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <span class="comment">/**</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * Given one string (or one array), ends it with $statement_end .</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     *</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @see $statement_end</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     *</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @param array|string $input SQL statement(s).</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * @return array|string</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     */</span>
<a name="l202"><span class="linenum"> 202</span></a>      public function <a class="function" onClick="logFunction('getEndedStatements')" href="../../_functions/getendedstatements.html" onMouseOver="funcPopup(event,'getendedstatements')">getEndedStatements</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>) {
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>)) {
<a name="l205"><span class="linenum"> 205</span></a>              foreach (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>=&gt;<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l206"><span class="linenum"> 206</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEndedStatements')" href="../../_functions/getendedstatements.html" onMouseOver="funcPopup(event,'getendedstatements')">getEndedStatements</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>);
<a name="l207"><span class="linenum"> 207</span></a>              }
<a name="l208"><span class="linenum"> 208</span></a>              return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>;
<a name="l209"><span class="linenum"> 209</span></a>          } else {
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>).<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('statement_end')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/statement_end.html">statement_end</a>;
<a name="l211"><span class="linenum"> 211</span></a>              return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>;
<a name="l212"><span class="linenum"> 212</span></a>          }
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>      <span class="comment">/**</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     * Given one xmldb_table, checks if it exists in DB (true/false).</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     *</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     * @param mixed $table The table to be searched (string name or xmldb_table instance).</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * @return boolean true/false</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     */</span>
<a name="l221"><span class="linenum"> 221</span></a>      public function <a class="function" onClick="logFunction('table_exists')" href="../../_functions/table_exists.html" onMouseOver="funcPopup(event,'table_exists')">table_exists</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l222"><span class="linenum"> 222</span></a>          if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>)) {
<a name="l223"><span class="linenum"> 223</span></a>              <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>;
<a name="l224"><span class="linenum"> 224</span></a>          } else {
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">            // Calculate the name of the table</span>
<a name="l226"><span class="linenum"> 226</span></a>              <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l227"><span class="linenum"> 227</span></a>          }
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('temptables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/temptables.html">temptables</a>-&gt;<a class="function" onClick="logFunction('is_temptable')" href="../../_functions/is_temptable.html" onMouseOver="funcPopup(event,'is_temptable')">is_temptable</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>)) {
<a name="l230"><span class="linenum"> 230</span></a>              return true;
<a name="l231"><span class="linenum"> 231</span></a>          }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">        // Get all tables in moodle database.</span>
<a name="l234"><span class="linenum"> 234</span></a>          <a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_tables')" href="../../_functions/get_tables.html" onMouseOver="funcPopup(event,'get_tables')">get_tables</a>();
<a name="l235"><span class="linenum"> 235</span></a>          return isset(<a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a>[<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>]);
<a name="l236"><span class="linenum"> 236</span></a>      }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * This function will return the SQL code needed to create db tables and statements.</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @see xmldb_structure</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     *</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * @param xmldb_structure $xmldb_structure An xmldb_structure instance.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * @return array</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     */</span>
<a name="l245"><span class="linenum"> 245</span></a>      public function <a class="function" onClick="logFunction('getCreateStructureSQL')" href="../../_functions/getcreatestructuresql.html" onMouseOver="funcPopup(event,'getcreatestructuresql')">getCreateStructureSQL</a>(<a class="var it269" onMouseOver="hilite(269)" onMouseOut="lolite()" onClick="logVariable('xmldb_structure')" href="../../_variables/xmldb_structure.html">$xmldb_structure</a>) {
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>          if (<a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a> = <a class="var it269" onMouseOver="hilite(269)" onMouseOut="lolite()" onClick="logVariable('xmldb_structure')" href="../../_variables/xmldb_structure.html">$xmldb_structure</a>-&gt;<a class="function" onClick="logFunction('getTables')" href="../../_functions/gettables.html" onMouseOver="funcPopup(event,'gettables')">getTables</a>()) {
<a name="l249"><span class="linenum"> 249</span></a>              foreach (<a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l250"><span class="linenum"> 250</span></a>                  <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateTableSQL')" href="../../_functions/getcreatetablesql.html" onMouseOver="funcPopup(event,'getcreatetablesql')">getCreateTableSQL</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l251"><span class="linenum"> 251</span></a>              }
<a name="l252"><span class="linenum"> 252</span></a>          }
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l255"><span class="linenum"> 255</span></a>      }
<a name="l256"><span class="linenum"> 256</span></a>  
<a name="l257"><span class="linenum"> 257</span></a>      <span class="comment">/**</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     * Given one xmldb_table, this returns it's correct name, depending of all the parameterization.</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     * eg: This appends $prefix to the table name.</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     *</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * @see $prefix</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     *</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table whose name we want.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @param boolean $quoted To specify if the name must be quoted (if reserved word, only!).</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * @return string The correct name of the table.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     */</span>
<a name="l267"><span class="linenum"> 267</span></a>      public function <a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(xmldb_table <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it28486" onMouseOver="hilite(28486)" onMouseOut="lolite()" onClick="logVariable('quoted')" href="../../_variables/quoted.html">$quoted</a>=true) {
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">        // Get the name</span>
<a name="l269"><span class="linenum"> 269</span></a>          <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a>.<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">        // Apply quotes optionally</span>
<a name="l272"><span class="linenum"> 272</span></a>          if (<a class="var it28486" onMouseOver="hilite(28486)" onMouseOut="lolite()" onClick="logVariable('quoted')" href="../../_variables/quoted.html">$quoted</a>) {
<a name="l273"><span class="linenum"> 273</span></a>              <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l274"><span class="linenum"> 274</span></a>          }
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>          return <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>;
<a name="l277"><span class="linenum"> 277</span></a>      }
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>      <span class="comment">/**</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * Given one correct xmldb_table, returns the SQL statements</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * to create it (inside one array).</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     *</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table An xmldb_table instance.</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * @return array An array of SQL statements, starting with the table creation SQL followed</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * by any of its comments, indexes and sequence creation SQL statements.</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     */</span>
<a name="l287"><span class="linenum"> 287</span></a>      public function <a class="function" onClick="logFunction('getCreateTableSQL')" href="../../_functions/getcreatetablesql.html" onMouseOver="funcPopup(event,'getcreatetablesql')">getCreateTableSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l288"><span class="linenum"> 288</span></a>          if (<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('validateDefinition')" href="../../_functions/validatedefinition.html" onMouseOver="funcPopup(event,'validatedefinition')">validateDefinition</a>()) {
<a name="l289"><span class="linenum"> 289</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>);
<a name="l290"><span class="linenum"> 290</span></a>          }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();  <span class="comment">//Array where all the sentences will be stored</span>
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">        // Table header</span>
<a name="l295"><span class="linenum"> 295</span></a>          <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> = 'CREATE TABLE ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) . ' (';
<a name="l296"><span class="linenum"> 296</span></a>  
<a name="l297"><span class="linenum"> 297</span></a>          if (!<a class="var it13609" onMouseOver="hilite(13609)" onMouseOut="lolite()" onClick="logVariable('xmldb_fields')" href="../../_variables/xmldb_fields.html">$xmldb_fields</a> = <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>()) {
<a name="l298"><span class="linenum"> 298</span></a>              return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l299"><span class="linenum"> 299</span></a>          }
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>          <a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a> = null;
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">        // Add the fields, separated by commas</span>
<a name="l304"><span class="linenum"> 304</span></a>          foreach (<a class="var it13609" onMouseOver="hilite(13609)" onMouseOut="lolite()" onClick="logVariable('xmldb_fields')" href="../../_variables/xmldb_fields.html">$xmldb_fields</a> as <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l305"><span class="linenum"> 305</span></a>              if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getSequence')" href="../../_functions/getsequence.html" onMouseOver="funcPopup(event,'getsequence')">getSequence</a>()) {
<a name="l306"><span class="linenum"> 306</span></a>                  <a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a> = <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l307"><span class="linenum"> 307</span></a>              }
<a name="l308"><span class="linenum"> 308</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> .= &quot;\n    &quot; . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getFieldSQL')" href="../../_functions/getfieldsql.html" onMouseOver="funcPopup(event,'getfieldsql')">getFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l309"><span class="linenum"> 309</span></a>              <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> .= ',';
<a name="l310"><span class="linenum"> 310</span></a>          }
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">        // Add the keys, separated by commas</span>
<a name="l312"><span class="linenum"> 312</span></a>          if (<a class="var it21051" onMouseOver="hilite(21051)" onMouseOut="lolite()" onClick="logVariable('xmldb_keys')" href="../../_variables/xmldb_keys.html">$xmldb_keys</a> = <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getKeys')" href="../../_functions/getkeys.html" onMouseOver="funcPopup(event,'getkeys')">getKeys</a>()) {
<a name="l313"><span class="linenum"> 313</span></a>              foreach (<a class="var it21051" onMouseOver="hilite(21051)" onMouseOut="lolite()" onClick="logVariable('xmldb_keys')" href="../../_variables/xmldb_keys.html">$xmldb_keys</a> as <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) {
<a name="l314"><span class="linenum"> 314</span></a>                  if (<a class="var it34652" onMouseOver="hilite(34652)" onMouseOut="lolite()" onClick="logVariable('keytext')" href="../../_variables/keytext.html">$keytext</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getKeySQL')" href="../../_functions/getkeysql.html" onMouseOver="funcPopup(event,'getkeysql')">getKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>)) {
<a name="l315"><span class="linenum"> 315</span></a>                      <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> .= &quot;\nCONSTRAINT &quot; . <a class="var it34652" onMouseOver="hilite(34652)" onMouseOut="lolite()" onClick="logVariable('keytext')" href="../../_variables/keytext.html">$keytext</a> . ',';
<a name="l316"><span class="linenum"> 316</span></a>                  }
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">                // If the key is XMLDB_KEY_FOREIGN_UNIQUE, create it as UNIQUE too</span>
<a name="l318"><span class="linenum"> 318</span></a>                  if (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a>) {
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">                    //Duplicate the key</span>
<a name="l320"><span class="linenum"> 320</span></a>                      <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>(<a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>);
<a name="l321"><span class="linenum"> 321</span></a>                      if (<a class="var it34652" onMouseOver="hilite(34652)" onMouseOut="lolite()" onClick="logVariable('keytext')" href="../../_variables/keytext.html">$keytext</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getKeySQL')" href="../../_functions/getkeysql.html" onMouseOver="funcPopup(event,'getkeysql')">getKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>)) {
<a name="l322"><span class="linenum"> 322</span></a>                          <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> .= &quot;\nCONSTRAINT &quot; . <a class="var it34652" onMouseOver="hilite(34652)" onMouseOut="lolite()" onClick="logVariable('keytext')" href="../../_variables/keytext.html">$keytext</a> . ',';
<a name="l323"><span class="linenum"> 323</span></a>                      }
<a name="l324"><span class="linenum"> 324</span></a>                  }
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">                // make sure sequence field is unique</span>
<a name="l326"><span class="linenum"> 326</span></a>                  if (<a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a> and <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_PRIMARY')" href="../../_constants/XMLDB_KEY_PRIMARY.html" onMouseOver="constPopup(event,'XMLDB_KEY_PRIMARY')">XMLDB_KEY_PRIMARY</a>) {
<a name="l327"><span class="linenum"> 327</span></a>                      <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>();
<a name="l328"><span class="linenum"> 328</span></a>                      <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>);
<a name="l329"><span class="linenum"> 329</span></a>                      if (<a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a> === <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>) {
<a name="l330"><span class="linenum"> 330</span></a>                          <a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a> = null;
<a name="l331"><span class="linenum"> 331</span></a>                      }
<a name="l332"><span class="linenum"> 332</span></a>                  }
<a name="l333"><span class="linenum"> 333</span></a>              }
<a name="l334"><span class="linenum"> 334</span></a>          }
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">        // throw error if sequence field does not have unique key defined</span>
<a name="l336"><span class="linenum"> 336</span></a>          if (<a class="var it34651" onMouseOver="hilite(34651)" onMouseOut="lolite()" onClick="logVariable('sequencefield')" href="../../_variables/sequencefield.html">$sequencefield</a>) {
<a name="l337"><span class="linenum"> 337</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('ddl_exception')" href="../../_classes/ddl_exception.html" onMouseOver="classPopup(event,'ddl_exception')">ddl_exception</a>('ddsequenceerror', <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l338"><span class="linenum"> 338</span></a>          }
<a name="l339"><span class="linenum"> 339</span></a>  
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">        // Table footer, trim the latest comma</span>
<a name="l341"><span class="linenum"> 341</span></a>          <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>,',');
<a name="l342"><span class="linenum"> 342</span></a>          <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> .= &quot;\n)&quot;;
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">        // Add the CREATE TABLE to results</span>
<a name="l345"><span class="linenum"> 345</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>;
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">        // Add comments if specified and it exists</span>
<a name="l348"><span class="linenum"> 348</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('add_table_comments')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/add_table_comments.html">add_table_comments</a> &amp;&amp; <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getComment')" href="../../_functions/getcomment.html" onMouseOver="funcPopup(event,'getcomment')">getComment</a>()) {
<a name="l349"><span class="linenum"> 349</span></a>              <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCommentSQL')" href="../../_functions/getcommentsql.html" onMouseOver="funcPopup(event,'getcommentsql')">getCommentSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">            // Add the COMMENT to results</span>
<a name="l351"><span class="linenum"> 351</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('comment')" href="../../_variables/comment.html">$comment</a>);
<a name="l352"><span class="linenum"> 352</span></a>          }
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">        // Add the indexes (each one, one statement)</span>
<a name="l355"><span class="linenum"> 355</span></a>          if (<a class="var it21052" onMouseOver="hilite(21052)" onMouseOut="lolite()" onClick="logVariable('xmldb_indexes')" href="../../_variables/xmldb_indexes.html">$xmldb_indexes</a> = <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getIndexes')" href="../../_functions/getindexes.html" onMouseOver="funcPopup(event,'getindexes')">getIndexes</a>()) {
<a name="l356"><span class="linenum"> 356</span></a>              foreach (<a class="var it21052" onMouseOver="hilite(21052)" onMouseOut="lolite()" onClick="logVariable('xmldb_indexes')" href="../../_variables/xmldb_indexes.html">$xmldb_indexes</a> as <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>) {
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">                //tables do not exist yet, which means indexed can not exist yet</span>
<a name="l358"><span class="linenum"> 358</span></a>                  if (<a class="var it34653" onMouseOver="hilite(34653)" onMouseOut="lolite()" onClick="logVariable('indextext')" href="../../_variables/indextext.html">$indextext</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateIndexSQL')" href="../../_functions/getcreateindexsql.html" onMouseOver="funcPopup(event,'getcreateindexsql')">getCreateIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>)) {
<a name="l359"><span class="linenum"> 359</span></a>                      <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34653" onMouseOver="hilite(34653)" onMouseOut="lolite()" onClick="logVariable('indextext')" href="../../_variables/indextext.html">$indextext</a>);
<a name="l360"><span class="linenum"> 360</span></a>                  }
<a name="l361"><span class="linenum"> 361</span></a>              }
<a name="l362"><span class="linenum"> 362</span></a>          }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">        // Also, add the indexes needed from keys, based on configuration (each one, one statement)</span>
<a name="l365"><span class="linenum"> 365</span></a>          if (<a class="var it21051" onMouseOver="hilite(21051)" onMouseOut="lolite()" onClick="logVariable('xmldb_keys')" href="../../_variables/xmldb_keys.html">$xmldb_keys</a> = <a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getKeys')" href="../../_functions/getkeys.html" onMouseOver="funcPopup(event,'getkeys')">getKeys</a>()) {
<a name="l366"><span class="linenum"> 366</span></a>              foreach (<a class="var it21051" onMouseOver="hilite(21051)" onMouseOut="lolite()" onClick="logVariable('xmldb_keys')" href="../../_variables/xmldb_keys.html">$xmldb_keys</a> as <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) {
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">                // If we aren't creating the keys OR if the key is XMLDB_KEY_FOREIGN (not underlying index generated</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">                // automatically by the RDBMS) create the underlying (created by us) index (if doesn't exists)</span>
<a name="l369"><span class="linenum"> 369</span></a>                  if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getKeySQL')" href="../../_functions/getkeysql.html" onMouseOver="funcPopup(event,'getkeysql')">getKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) || <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>) {
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">                    // Create the interim index</span>
<a name="l371"><span class="linenum"> 371</span></a>                      <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_index')" href="../../_classes/xmldb_index.html" onMouseOver="classPopup(event,'xmldb_index')">xmldb_index</a>('anyname');
<a name="l372"><span class="linenum"> 372</span></a>                      <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>-&gt;<a class="function" onClick="logFunction('setFields')" href="../../_functions/setfields.html" onMouseOver="funcPopup(event,'setfields')">setFields</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>());
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">                    //tables do not exist yet, which means indexed can not exist yet</span>
<a name="l374"><span class="linenum"> 374</span></a>                      <a class="var it34654" onMouseOver="hilite(34654)" onMouseOut="lolite()" onClick="logVariable('createindex')" href="../../_variables/createindex.html">$createindex</a> = false; <span class="comment">//By default</span>
<a name="l375"><span class="linenum"> 375</span></a>                      switch (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>()) {
<a name="l376"><span class="linenum"> 376</span></a>                          case <a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>:
<a name="l377"><span class="linenum"> 377</span></a>                          case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a>:
<a name="l378"><span class="linenum"> 378</span></a>                              <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>-&gt;<a class="function" onClick="logFunction('setUnique')" href="../../_functions/setunique.html" onMouseOver="funcPopup(event,'setunique')">setUnique</a>(true);
<a name="l379"><span class="linenum"> 379</span></a>                              <a class="var it34654" onMouseOver="hilite(34654)" onMouseOut="lolite()" onClick="logVariable('createindex')" href="../../_variables/createindex.html">$createindex</a> = true;
<a name="l380"><span class="linenum"> 380</span></a>                              break;
<a name="l381"><span class="linenum"> 381</span></a>                          case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>:
<a name="l382"><span class="linenum"> 382</span></a>                              <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>-&gt;<a class="function" onClick="logFunction('setUnique')" href="../../_functions/setunique.html" onMouseOver="funcPopup(event,'setunique')">setUnique</a>(false);
<a name="l383"><span class="linenum"> 383</span></a>                              <a class="var it34654" onMouseOver="hilite(34654)" onMouseOut="lolite()" onClick="logVariable('createindex')" href="../../_variables/createindex.html">$createindex</a> = true;
<a name="l384"><span class="linenum"> 384</span></a>                              break;
<a name="l385"><span class="linenum"> 385</span></a>                      }
<a name="l386"><span class="linenum"> 386</span></a>                      if (<a class="var it34654" onMouseOver="hilite(34654)" onMouseOut="lolite()" onClick="logVariable('createindex')" href="../../_variables/createindex.html">$createindex</a>) {
<a name="l387"><span class="linenum"> 387</span></a>                          if (<a class="var it34653" onMouseOver="hilite(34653)" onMouseOut="lolite()" onClick="logVariable('indextext')" href="../../_variables/indextext.html">$indextext</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateIndexSQL')" href="../../_functions/getcreateindexsql.html" onMouseOver="funcPopup(event,'getcreateindexsql')">getCreateIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>)) {
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">                            // Add the INDEX to the array</span>
<a name="l389"><span class="linenum"> 389</span></a>                              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34653" onMouseOver="hilite(34653)" onMouseOut="lolite()" onClick="logVariable('indextext')" href="../../_variables/indextext.html">$indextext</a>);
<a name="l390"><span class="linenum"> 390</span></a>                          }
<a name="l391"><span class="linenum"> 391</span></a>                      }
<a name="l392"><span class="linenum"> 392</span></a>                  }
<a name="l393"><span class="linenum"> 393</span></a>              }
<a name="l394"><span class="linenum"> 394</span></a>          }
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">        // Add sequence extra code if needed</span>
<a name="l397"><span class="linenum"> 397</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_extra_code')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/sequence_extra_code.html">sequence_extra_code</a>) {
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">            // Iterate over fields looking for sequences</span>
<a name="l399"><span class="linenum"> 399</span></a>              foreach (<a class="var it13609" onMouseOver="hilite(13609)" onMouseOut="lolite()" onClick="logVariable('xmldb_fields')" href="../../_variables/xmldb_fields.html">$xmldb_fields</a> as <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l400"><span class="linenum"> 400</span></a>                  if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getSequence')" href="../../_functions/getsequence.html" onMouseOver="funcPopup(event,'getsequence')">getSequence</a>()) {
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">                    // returns an array of statements needed to create one sequence</span>
<a name="l402"><span class="linenum"> 402</span></a>                      <a class="var it34655" onMouseOver="hilite(34655)" onMouseOut="lolite()" onClick="logVariable('sequence_sentences')" href="../../_variables/sequence_sentences.html">$sequence_sentences</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateSequenceSQL')" href="../../_functions/getcreatesequencesql.html" onMouseOver="funcPopup(event,'getcreatesequencesql')">getCreateSequenceSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">                    // Add the SEQUENCE to the array</span>
<a name="l404"><span class="linenum"> 404</span></a>                      <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34655" onMouseOver="hilite(34655)" onMouseOut="lolite()" onClick="logVariable('sequence_sentences')" href="../../_variables/sequence_sentences.html">$sequence_sentences</a>);
<a name="l405"><span class="linenum"> 405</span></a>                  }
<a name="l406"><span class="linenum"> 406</span></a>              }
<a name="l407"><span class="linenum"> 407</span></a>          }
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l410"><span class="linenum"> 410</span></a>      }
<a name="l411"><span class="linenum"> 411</span></a>  
<a name="l412"><span class="linenum"> 412</span></a>      <span class="comment">/**</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * Given one correct xmldb_index, returns the SQL statements</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     * needed to create it (in array).</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     *</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table instance to create the index on.</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * @param xmldb_index $xmldb_index The xmldb_index to create.</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     * @return array An array of SQL statements to create the index.</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @throws coding_exception Thrown if the xmldb_index does not validate with the xmldb_table.</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     */</span>
<a name="l421"><span class="linenum"> 421</span></a>      public function <a class="function" onClick="logFunction('getCreateIndexSQL')" href="../../_functions/getcreateindexsql.html" onMouseOver="funcPopup(event,'getcreateindexsql')">getCreateIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>) {
<a name="l422"><span class="linenum"> 422</span></a>          if (<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>-&gt;<a class="function" onClick="logFunction('validateDefinition')" href="../../_functions/validatedefinition.html" onMouseOver="funcPopup(event,'validatedefinition')">validateDefinition</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>)) {
<a name="l423"><span class="linenum"> 423</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>);
<a name="l424"><span class="linenum"> 424</span></a>          }
<a name="l425"><span class="linenum"> 425</span></a>  
<a name="l426"><span class="linenum"> 426</span></a>          <a class="var it3720" onMouseOver="hilite(3720)" onMouseOut="lolite()" onClick="logVariable('unique')" href="../../_variables/unique.html">$unique</a> = '';
<a name="l427"><span class="linenum"> 427</span></a>          <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a> = 'ix';
<a name="l428"><span class="linenum"> 428</span></a>          if (<a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>-&gt;<a class="function" onClick="logFunction('getUnique')" href="../../_functions/getunique.html" onMouseOver="funcPopup(event,'getunique')">getUnique</a>()) {
<a name="l429"><span class="linenum"> 429</span></a>              <a class="var it3720" onMouseOver="hilite(3720)" onMouseOut="lolite()" onClick="logVariable('unique')" href="../../_variables/unique.html">$unique</a> = ' UNIQUE';
<a name="l430"><span class="linenum"> 430</span></a>              <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a> = 'uix';
<a name="l431"><span class="linenum"> 431</span></a>          }
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> = 'CREATE' . <a class="var it3720" onMouseOver="hilite(3720)" onMouseOut="lolite()" onClick="logVariable('unique')" href="../../_variables/unique.html">$unique</a> . ' INDEX ';
<a name="l434"><span class="linenum"> 434</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>()), <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>);
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> .= ' ON ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l436"><span class="linenum"> 436</span></a>          <a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a> .= ' (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>())) . ')';
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>          return array(<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>);
<a name="l439"><span class="linenum"> 439</span></a>      }
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>      <span class="comment">/**</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     * Given one correct xmldb_field, returns the complete SQL line to create it.</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     *</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     * @param string $skip_type_clause The type clause on alter columns, NULL by default.</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     * @param string $skip_default_clause The default clause on alter columns, NULL by default.</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * @param string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     * @param string $specify_nulls_clause To force a specific null clause, NULL by default.</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * @param bool $specify_field_name Flag to specify fieldname in return.</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * @return string The field generating SQL statement.</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     * @throws coding_exception Thrown when xmldb_field doesn't validate with the xmldb_table.</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     */</span>
<a name="l454"><span class="linenum"> 454</span></a>      public function <a class="function" onClick="logFunction('getFieldSQL')" href="../../_functions/getfieldsql.html" onMouseOver="funcPopup(event,'getfieldsql')">getFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL, <a class="var it34656" onMouseOver="hilite(34656)" onMouseOut="lolite()" onClick="logVariable('specify_nulls_clause')" href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a> = NULL, <a class="var it34657" onMouseOver="hilite(34657)" onMouseOut="lolite()" onClick="logVariable('specify_field_name')" href="../../_variables/specify_field_name.html">$specify_field_name</a> = true)  {
<a name="l455"><span class="linenum"> 455</span></a>          if (<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a> = <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('validateDefinition')" href="../../_functions/validatedefinition.html" onMouseOver="funcPopup(event,'validatedefinition')">validateDefinition</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>)) {
<a name="l456"><span class="linenum"> 456</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../_variables/error.html">$error</a>);
<a name="l457"><span class="linenum"> 457</span></a>          }
<a name="l458"><span class="linenum"> 458</span></a>  
<a name="l459"><span class="linenum"> 459</span></a>          <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_type.html">alter_column_skip_type</a> : <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>;
<a name="l460"><span class="linenum"> 460</span></a>          <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_default')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_default.html">alter_column_skip_default</a> : <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>;
<a name="l461"><span class="linenum"> 461</span></a>          <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_notnull')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_notnull.html">alter_column_skip_notnull</a> : <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>;
<a name="l462"><span class="linenum"> 462</span></a>          <a class="var it34656" onMouseOver="hilite(34656)" onMouseOut="lolite()" onClick="logVariable('specify_nulls_clause')" href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it34656" onMouseOver="hilite(34656)" onMouseOut="lolite()" onClick="logVariable('specify_nulls_clause')" href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('specify_nulls')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/specify_nulls.html">specify_nulls</a> : <a class="var it34656" onMouseOver="hilite(34656)" onMouseOut="lolite()" onClick="logVariable('specify_nulls_clause')" href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a>;
<a name="l463"><span class="linenum"> 463</span></a>  
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">        // First of all, convert integers to numbers if defined</span>
<a name="l465"><span class="linenum"> 465</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('integer_to_number')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/integer_to_number.html">integer_to_number</a>) {
<a name="l466"><span class="linenum"> 466</span></a>              if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_INTEGER')" href="../../_constants/XMLDB_TYPE_INTEGER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_INTEGER')">XMLDB_TYPE_INTEGER</a>) {
<a name="l467"><span class="linenum"> 467</span></a>                  <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>(<a class="constant" onClick="logConstant('XMLDB_TYPE_NUMBER')" href="../../_constants/XMLDB_TYPE_NUMBER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_NUMBER')">XMLDB_TYPE_NUMBER</a>);
<a name="l468"><span class="linenum"> 468</span></a>              }
<a name="l469"><span class="linenum"> 469</span></a>          }
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">        // Same for floats</span>
<a name="l471"><span class="linenum"> 471</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('float_to_number')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/float_to_number.html">float_to_number</a>) {
<a name="l472"><span class="linenum"> 472</span></a>              if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_FLOAT')" href="../../_constants/XMLDB_TYPE_FLOAT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_FLOAT')">XMLDB_TYPE_FLOAT</a>) {
<a name="l473"><span class="linenum"> 473</span></a>                  <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>(<a class="constant" onClick="logConstant('XMLDB_TYPE_NUMBER')" href="../../_constants/XMLDB_TYPE_NUMBER.html" onMouseOver="constPopup(event,'XMLDB_TYPE_NUMBER')">XMLDB_TYPE_NUMBER</a>);
<a name="l474"><span class="linenum"> 474</span></a>              }
<a name="l475"><span class="linenum"> 475</span></a>          }
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> = ''; <span class="comment">// Let's accumulate the whole expression based on params and settings</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">        // The name</span>
<a name="l479"><span class="linenum"> 479</span></a>          if (<a class="var it34657" onMouseOver="hilite(34657)" onMouseOut="lolite()" onClick="logVariable('specify_field_name')" href="../../_variables/specify_field_name.html">$specify_field_name</a>) {
<a name="l480"><span class="linenum"> 480</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l481"><span class="linenum"> 481</span></a>          }
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">        // The type and length only if we don't want to skip it</span>
<a name="l483"><span class="linenum"> 483</span></a>          if (!<a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>) {
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">            // The type and length</span>
<a name="l485"><span class="linenum"> 485</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> .= ' ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTypeSQL')" href="../../_functions/gettypesql.html" onMouseOver="funcPopup(event,'gettypesql')">getTypeSQL</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>(), <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getLength')" href="../../_functions/getlength.html" onMouseOver="funcPopup(event,'getlength')">getLength</a>(), <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDecimals')" href="../../_functions/getdecimals.html" onMouseOver="funcPopup(event,'getdecimals')">getDecimals</a>());
<a name="l486"><span class="linenum"> 486</span></a>          }
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">        // note: unsigned is not supported any more since moodle 2.3, all numbers are signed</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">        // Calculate the not null clause</span>
<a name="l489"><span class="linenum"> 489</span></a>          <a class="var it2984" onMouseOver="hilite(2984)" onMouseOut="lolite()" onClick="logVariable('notnull')" href="../../_variables/notnull.html">$notnull</a> = '';
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">        // Only if we don't want to skip it</span>
<a name="l491"><span class="linenum"> 491</span></a>          if (!<a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>) {
<a name="l492"><span class="linenum"> 492</span></a>              if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotNull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotNull</a>()) {
<a name="l493"><span class="linenum"> 493</span></a>                  <a class="var it2984" onMouseOver="hilite(2984)" onMouseOut="lolite()" onClick="logVariable('notnull')" href="../../_variables/notnull.html">$notnull</a> = ' NOT NULL';
<a name="l494"><span class="linenum"> 494</span></a>              } else {
<a name="l495"><span class="linenum"> 495</span></a>                  if (<a class="var it34656" onMouseOver="hilite(34656)" onMouseOut="lolite()" onClick="logVariable('specify_nulls_clause')" href="../../_variables/specify_nulls_clause.html">$specify_nulls_clause</a>) {
<a name="l496"><span class="linenum"> 496</span></a>                      <a class="var it2984" onMouseOver="hilite(2984)" onMouseOut="lolite()" onClick="logVariable('notnull')" href="../../_variables/notnull.html">$notnull</a> = ' NULL';
<a name="l497"><span class="linenum"> 497</span></a>                  }
<a name="l498"><span class="linenum"> 498</span></a>              }
<a name="l499"><span class="linenum"> 499</span></a>          }
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">        // Calculate the default clause</span>
<a name="l501"><span class="linenum"> 501</span></a>          <a class="var it32690" onMouseOver="hilite(32690)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a> = '';
<a name="l502"><span class="linenum"> 502</span></a>          if (!<a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) { //Only if we don't want to skip it
<a name="l503"><span class="linenum"> 503</span></a>              <a class="var it32690" onMouseOver="hilite(32690)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDefaultClause')" href="../../_functions/getdefaultclause.html" onMouseOver="funcPopup(event,'getdefaultclause')">getDefaultClause</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l504"><span class="linenum"> 504</span></a>          }
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">        // Based on default_after_null, set both clauses properly</span>
<a name="l506"><span class="linenum"> 506</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_after_null')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/default_after_null.html">default_after_null</a>) {
<a name="l507"><span class="linenum"> 507</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> .= <a class="var it2984" onMouseOver="hilite(2984)" onMouseOut="lolite()" onClick="logVariable('notnull')" href="../../_variables/notnull.html">$notnull</a> . <a class="var it32690" onMouseOver="hilite(32690)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a>;
<a name="l508"><span class="linenum"> 508</span></a>          } else {
<a name="l509"><span class="linenum"> 509</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> .= <a class="var it32690" onMouseOver="hilite(32690)" onMouseOut="lolite()" onClick="logVariable('default_clause')" href="../../_variables/default_clause.html">$default_clause</a> . <a class="var it2984" onMouseOver="hilite(2984)" onMouseOut="lolite()" onClick="logVariable('notnull')" href="../../_variables/notnull.html">$notnull</a>;
<a name="l510"><span class="linenum"> 510</span></a>          }
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">        // The sequence</span>
<a name="l512"><span class="linenum"> 512</span></a>          if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getSequence')" href="../../_functions/getsequence.html" onMouseOver="funcPopup(event,'getsequence')">getSequence</a>()) {
<a name="l513"><span class="linenum"> 513</span></a>              if(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getLength')" href="../../_functions/getlength.html" onMouseOver="funcPopup(event,'getlength')">getLength</a>()&lt;=9 &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_name_small')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/sequence_name_small.html">sequence_name_small</a>) {
<a name="l514"><span class="linenum"> 514</span></a>                  <a class="var it32692" onMouseOver="hilite(32692)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a>=<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_name_small')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/sequence_name_small.html">sequence_name_small</a>;
<a name="l515"><span class="linenum"> 515</span></a>              } else {
<a name="l516"><span class="linenum"> 516</span></a>                  <a class="var it32692" onMouseOver="hilite(32692)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a>=<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_name')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/sequence_name.html">sequence_name</a>;
<a name="l517"><span class="linenum"> 517</span></a>              }
<a name="l518"><span class="linenum"> 518</span></a>              <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a> .= ' ' . <a class="var it32692" onMouseOver="hilite(32692)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a>;
<a name="l519"><span class="linenum"> 519</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sequence_only')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/sequence_only.html">sequence_only</a>) {
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">                // We only want the field name and sequence name to be printed</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">                // so, calculate it and return</span>
<a name="l522"><span class="linenum"> 522</span></a>                  <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>()) . ' ' . <a class="var it32692" onMouseOver="hilite(32692)" onMouseOut="lolite()" onClick="logVariable('sequencename')" href="../../_variables/sequencename.html">$sequencename</a>;
<a name="l523"><span class="linenum"> 523</span></a>                  return <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>;
<a name="l524"><span class="linenum"> 524</span></a>              }
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>          return <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>;
<a name="l527"><span class="linenum"> 527</span></a>      }
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>      <span class="comment">/**</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     * Given one correct xmldb_key, returns its specs.</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     *</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_key.</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * @param xmldb_key $xmldb_key The xmldb_key's specifications requested.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     * @return string SQL statement about the xmldb_key.</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     */</span>
<a name="l536"><span class="linenum"> 536</span></a>      public function <a class="function" onClick="logFunction('getKeySQL')" href="../../_functions/getkeysql.html" onMouseOver="funcPopup(event,'getkeysql')">getKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) {
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = '';
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>          switch (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>()) {
<a name="l541"><span class="linenum"> 541</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_PRIMARY')" href="../../_constants/XMLDB_KEY_PRIMARY.html" onMouseOver="constPopup(event,'XMLDB_KEY_PRIMARY')">XMLDB_KEY_PRIMARY</a>:
<a name="l542"><span class="linenum"> 542</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primary_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/primary_keys.html">primary_keys</a>) {
<a name="l543"><span class="linenum"> 543</span></a>                      if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primary_key_name')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/primary_key_name.html">primary_key_name</a> !== null) {
<a name="l544"><span class="linenum"> 544</span></a>                          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primary_key_name')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/primary_key_name.html">primary_key_name</a>);
<a name="l545"><span class="linenum"> 545</span></a>                      } else {
<a name="l546"><span class="linenum"> 546</span></a>                          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>()), 'pk');
<a name="l547"><span class="linenum"> 547</span></a>                      }
<a name="l548"><span class="linenum"> 548</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> .= ' PRIMARY <a class="phpfunction" onClick="logFunction('KEY')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">KEY</a> (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>())) . ')';
<a name="l549"><span class="linenum"> 549</span></a>                  }
<a name="l550"><span class="linenum"> 550</span></a>                  break;
<a name="l551"><span class="linenum"> 551</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>:
<a name="l552"><span class="linenum"> 552</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a>) {
<a name="l553"><span class="linenum"> 553</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>()), 'uk');
<a name="l554"><span class="linenum"> 554</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> .= ' <a class="function" onClick="logFunction('UNIQUE')" href="../../_functions/unique.html" onMouseOver="funcPopup(event,'unique')">UNIQUE</a> (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>())) . ')';
<a name="l555"><span class="linenum"> 555</span></a>                  }
<a name="l556"><span class="linenum"> 556</span></a>                  break;
<a name="l557"><span class="linenum"> 557</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>:
<a name="l558"><span class="linenum"> 558</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a>:
<a name="l559"><span class="linenum"> 559</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('foreign_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/foreign_keys.html">foreign_keys</a>) {
<a name="l560"><span class="linenum"> 560</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>(), <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>()), 'fk');
<a name="l561"><span class="linenum"> 561</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> .= ' FOREIGN <a class="phpfunction" onClick="logFunction('KEY')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">KEY</a> (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>())) . ')';
<a name="l562"><span class="linenum"> 562</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> .= ' REFERENCES ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a> . <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getRefTable')" href="../../_functions/getreftable.html" onMouseOver="funcPopup(event,'getreftable')">getRefTable</a>());
<a name="l563"><span class="linenum"> 563</span></a>                      <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> .= ' (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getRefFields')" href="../../_functions/getreffields.html" onMouseOver="funcPopup(event,'getreffields')">getRefFields</a>())) . ')';
<a name="l564"><span class="linenum"> 564</span></a>                  }
<a name="l565"><span class="linenum"> 565</span></a>                  break;
<a name="l566"><span class="linenum"> 566</span></a>          }
<a name="l567"><span class="linenum"> 567</span></a>  
<a name="l568"><span class="linenum"> 568</span></a>          return <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l569"><span class="linenum"> 569</span></a>      }
<a name="l570"><span class="linenum"> 570</span></a>  
<a name="l571"><span class="linenum"> 571</span></a>      <span class="comment">/**</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     * Give one xmldb_field, returns the correct &quot;default value&quot; for the current configuration</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     *</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The field.</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * @return The default value of the field.</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     */</span>
<a name="l577"><span class="linenum"> 577</span></a>      public function <a class="function" onClick="logFunction('getDefaultValue')" href="../../_functions/getdefaultvalue.html" onMouseOver="funcPopup(event,'getdefaultvalue')">getDefaultValue</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l578"><span class="linenum"> 578</span></a>  
<a name="l579"><span class="linenum"> 579</span></a>          <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = null;
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>          if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() !== NULL) {
<a name="l582"><span class="linenum"> 582</span></a>              if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_CHAR')" href="../../_constants/XMLDB_TYPE_CHAR.html" onMouseOver="constPopup(event,'XMLDB_TYPE_CHAR')">XMLDB_TYPE_CHAR</a> ||
<a name="l583"><span class="linenum"> 583</span></a>                  <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a>) {
<a name="l584"><span class="linenum"> 584</span></a>                      if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() === '') { // If passing empty default, use the <a class="var it15692" onMouseOver="hilite(15692)" onMouseOut="lolite()" onClick="logVariable('default_for_char')" href="../../_variables/default_for_char.html">$default_for_char</a> one instead
<a name="l585"><span class="linenum"> 585</span></a>                          <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = &quot;'&quot; . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_for_char')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/default_for_char.html">default_for_char</a> . &quot;'&quot;;
<a name="l586"><span class="linenum"> 586</span></a>                      } else {
<a name="l587"><span class="linenum"> 587</span></a>                          <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = &quot;'&quot; . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>()) . &quot;'&quot;;
<a name="l588"><span class="linenum"> 588</span></a>                      }
<a name="l589"><span class="linenum"> 589</span></a>              } else {
<a name="l590"><span class="linenum"> 590</span></a>                  <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>();
<a name="l591"><span class="linenum"> 591</span></a>              }
<a name="l592"><span class="linenum"> 592</span></a>          } else {
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">            // We force default '' for not null char columns without proper default</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">            // some day this should be out!</span>
<a name="l595"><span class="linenum"> 595</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_for_char')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/default_for_char.html">default_for_char</a> !== NULL &amp;&amp;
<a name="l596"><span class="linenum"> 596</span></a>                  <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_TYPE_CHAR')" href="../../_constants/XMLDB_TYPE_CHAR.html" onMouseOver="constPopup(event,'XMLDB_TYPE_CHAR')">XMLDB_TYPE_CHAR</a> &amp;&amp;
<a name="l597"><span class="linenum"> 597</span></a>                  <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotNull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotNull</a>()) {
<a name="l598"><span class="linenum"> 598</span></a>                  <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = &quot;'&quot; . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_for_char')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/default_for_char.html">default_for_char</a> . &quot;'&quot;;
<a name="l599"><span class="linenum"> 599</span></a>              } else {
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">                // If the DB requires to explicity define some clause to drop one default, do it here</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">                // never applying defaults to TEXT and BINARY fields</span>
<a name="l602"><span class="linenum"> 602</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_default_value_required')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_default_value_required.html">drop_default_value_required</a> &amp;&amp;
<a name="l603"><span class="linenum"> 603</span></a>                      <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() != <a class="constant" onClick="logConstant('XMLDB_TYPE_TEXT')" href="../../_constants/XMLDB_TYPE_TEXT.html" onMouseOver="constPopup(event,'XMLDB_TYPE_TEXT')">XMLDB_TYPE_TEXT</a> &amp;&amp;
<a name="l604"><span class="linenum"> 604</span></a>                      <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() != <a class="constant" onClick="logConstant('XMLDB_TYPE_BINARY')" href="../../_constants/XMLDB_TYPE_BINARY.html" onMouseOver="constPopup(event,'XMLDB_TYPE_BINARY')">XMLDB_TYPE_BINARY</a> &amp;&amp; !<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getNotNull')" href="../../_functions/getnotnull.html" onMouseOver="funcPopup(event,'getnotnull')">getNotNull</a>()) {
<a name="l605"><span class="linenum"> 605</span></a>                      <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_default_value')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_default_value.html">drop_default_value</a>;
<a name="l606"><span class="linenum"> 606</span></a>                  }
<a name="l607"><span class="linenum"> 607</span></a>              }
<a name="l608"><span class="linenum"> 608</span></a>          }
<a name="l609"><span class="linenum"> 609</span></a>          return <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../_variables/default.html">$default</a>;
<a name="l610"><span class="linenum"> 610</span></a>      }
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>      <span class="comment">/**</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     * Given one xmldb_field, returns the correct &quot;default clause&quot; for the current configuration.</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     *</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field.</span>
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">     * @return The SQL clause for generating the default value as in $xmldb_field.</span>
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment">     */</span>
<a name="l618"><span class="linenum"> 618</span></a>      public function <a class="function" onClick="logFunction('getDefaultClause')" href="../../_functions/getdefaultclause.html" onMouseOver="funcPopup(event,'getdefaultclause')">getDefaultClause</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>          <a class="var it2212" onMouseOver="hilite(2212)" onMouseOut="lolite()" onClick="logVariable('defaultvalue')" href="../../_variables/defaultvalue.html">$defaultvalue</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('getDefaultValue')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/getDefaultValue.html">getDefaultValue</a> (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>          if (<a class="var it2212" onMouseOver="hilite(2212)" onMouseOut="lolite()" onClick="logVariable('defaultvalue')" href="../../_variables/defaultvalue.html">$defaultvalue</a> !== null) {
<a name="l623"><span class="linenum"> 623</span></a>              return ' DEFAULT ' . <a class="var it2212" onMouseOver="hilite(2212)" onMouseOut="lolite()" onClick="logVariable('defaultvalue')" href="../../_variables/defaultvalue.html">$defaultvalue</a>;
<a name="l624"><span class="linenum"> 624</span></a>          } else {
<a name="l625"><span class="linenum"> 625</span></a>              return null;
<a name="l626"><span class="linenum"> 626</span></a>          }
<a name="l627"><span class="linenum"> 627</span></a>      }
<a name="l628"><span class="linenum"> 628</span></a>  
<a name="l629"><span class="linenum"> 629</span></a>      <span class="comment">/**</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     * Given one correct xmldb_table and the new name, returns the SQL statements</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     * to rename it (inside one array).</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     *</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table to rename.</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">     * @param string $newname The new name to rename the table to.</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">     * @return array SQL statement(s) to rename the table.</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">     */</span>
<a name="l637"><span class="linenum"> 637</span></a>      public function <a class="function" onClick="logFunction('getRenameTableSQL')" href="../../_functions/getrenametablesql.html" onMouseOver="funcPopup(event,'getrenametablesql')">getRenameTableSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l638"><span class="linenum"> 638</span></a>  
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();  <span class="comment">//Array where all the sentences will be stored</span>
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>          <a class="var it12971" onMouseOver="hilite(12971)" onMouseOut="lolite()" onClick="logVariable('newt')" href="../../_variables/newt.html">$newt</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_table')" href="../../_classes/xmldb_table.html" onMouseOver="classPopup(event,'xmldb_table')">xmldb_table</a>(<a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>); <span class="comment">//Temporal table for name calculations</span>
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>          <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('OLDNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rename_table_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rename_table_sql.html">rename_table_sql</a>);
<a name="l644"><span class="linenum"> 644</span></a>          <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('NEWNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it12971" onMouseOver="hilite(12971)" onMouseOut="lolite()" onClick="logVariable('newt')" href="../../_variables/newt.html">$newt</a>), <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a>);
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a>;
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">        // Call to getRenameTableExtraSQL() override if needed</span>
<a name="l649"><span class="linenum"> 649</span></a>          <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getRenameTableExtraSQL')" href="../../_functions/getrenametableextrasql.html" onMouseOver="funcPopup(event,'getrenametableextrasql')">getRenameTableExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>);
<a name="l650"><span class="linenum"> 650</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a>);
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l653"><span class="linenum"> 653</span></a>      }
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>      <span class="comment">/**</span>
<a name="l656"><span class="linenum"> 656</span></a>  <span class="comment">     * Given one correct xmldb_table and the new name, returns the SQL statements</span>
<a name="l657"><span class="linenum"> 657</span></a>  <span class="comment">     * to drop it (inside one array). Works also for temporary tables.</span>
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">     *</span>
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table to drop.</span>
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment">     * @return array SQL statement(s) for dropping the specified table.</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">     */</span>
<a name="l662"><span class="linenum"> 662</span></a>      public function <a class="function" onClick="logFunction('getDropTableSQL')" href="../../_functions/getdroptablesql.html" onMouseOver="funcPopup(event,'getdroptablesql')">getDropTableSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l663"><span class="linenum"> 663</span></a>  
<a name="l664"><span class="linenum"> 664</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();  <span class="comment">//Array where all the sentences will be stored</span>
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>          <a class="var it9936" onMouseOver="hilite(9936)" onMouseOut="lolite()" onClick="logVariable('drop')" href="../../_variables/drop.html">$drop</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_table_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_table_sql.html">drop_table_sql</a>);
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it9936" onMouseOver="hilite(9936)" onMouseOut="lolite()" onClick="logVariable('drop')" href="../../_variables/drop.html">$drop</a>;
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">        // call to getDropTableExtraSQL(), override if needed</span>
<a name="l671"><span class="linenum"> 671</span></a>          <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropTableExtraSQL')" href="../../_functions/getdroptableextrasql.html" onMouseOver="funcPopup(event,'getdroptableextrasql')">getDropTableExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l672"><span class="linenum"> 672</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a>);
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l675"><span class="linenum"> 675</span></a>      }
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>      <span class="comment">/**</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to add the field to the table.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     *</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     * @param string $skip_type_clause The type clause on alter columns, NULL by default.</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">     * @param string $skip_default_clause The default clause on alter columns, NULL by default.</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">     * @param string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.</span>
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment">     * @return array The SQL statement for adding a field to the table.</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">     */</span>
<a name="l687"><span class="linenum"> 687</span></a>      public function <a class="function" onClick="logFunction('getAddFieldSQL')" href="../../_functions/getaddfieldsql.html" onMouseOver="funcPopup(event,'getaddfieldsql')">getAddFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL) {
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>          <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_type.html">alter_column_skip_type</a> : <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>;
<a name="l690"><span class="linenum"> 690</span></a>          <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_default')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_default.html">alter_column_skip_default</a> : <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>;
<a name="l691"><span class="linenum"> 691</span></a>          <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_notnull')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_notnull.html">alter_column_skip_notnull</a> : <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>;
<a name="l692"><span class="linenum"> 692</span></a>  
<a name="l693"><span class="linenum"> 693</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l694"><span class="linenum"> 694</span></a>  
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">        // Get the quoted name of the table and field</span>
<a name="l696"><span class="linenum"> 696</span></a>          <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">        // Build the standard alter table add</span>
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getFieldSQL')" href="../../_functions/getfieldsql.html" onMouseOver="funcPopup(event,'getfieldsql')">getFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>,
<a name="l700"><span class="linenum"> 700</span></a>                                    <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>,
<a name="l701"><span class="linenum"> 701</span></a>                                    <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>);
<a name="l702"><span class="linenum"> 702</span></a>          <a class="var it34660" onMouseOver="hilite(34660)" onMouseOut="lolite()" onClick="logVariable('altertable')" href="../../_variables/altertable.html">$altertable</a> = 'ALTER TABLE ' . <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' ADD ' . <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>;
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">        // Add the after clause if necessary</span>
<a name="l704"><span class="linenum"> 704</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('add_after_clause')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/add_after_clause.html">add_after_clause</a> &amp;&amp; <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getPrevious')" href="../../_functions/getprevious.html" onMouseOver="funcPopup(event,'getprevious')">getPrevious</a>()) {
<a name="l705"><span class="linenum"> 705</span></a>              <a class="var it34660" onMouseOver="hilite(34660)" onMouseOut="lolite()" onClick="logVariable('altertable')" href="../../_variables/altertable.html">$altertable</a> .= ' AFTER ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getPrevious')" href="../../_functions/getprevious.html" onMouseOver="funcPopup(event,'getprevious')">getPrevious</a>());
<a name="l706"><span class="linenum"> 706</span></a>          }
<a name="l707"><span class="linenum"> 707</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it34660" onMouseOver="hilite(34660)" onMouseOut="lolite()" onClick="logVariable('altertable')" href="../../_variables/altertable.html">$altertable</a>;
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>      <span class="comment">/**</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop the field from the table.</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     *</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     * @return array The SQL statement for dropping a field from the table.</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">     */</span>
<a name="l719"><span class="linenum"> 719</span></a>      public function <a class="function" onClick="logFunction('getDropFieldSQL')" href="../../_functions/getdropfieldsql.html" onMouseOver="funcPopup(event,'getdropfieldsql')">getDropFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l720"><span class="linenum"> 720</span></a>  
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment">        // Get the quoted name of the table and field</span>
<a name="l724"><span class="linenum"> 724</span></a>          <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l725"><span class="linenum"> 725</span></a>          <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">        // Build the standard alter table drop</span>
<a name="l728"><span class="linenum"> 728</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = 'ALTER TABLE ' . <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> . ' DROP COLUMN ' . <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a>;
<a name="l729"><span class="linenum"> 729</span></a>  
<a name="l730"><span class="linenum"> 730</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l731"><span class="linenum"> 731</span></a>      }
<a name="l732"><span class="linenum"> 732</span></a>  
<a name="l733"><span class="linenum"> 733</span></a>      <span class="comment">/**</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to alter the field in the table.</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     *</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to create the SQL from.</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     * @param string $skip_type_clause The type clause on alter columns, NULL by default.</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     * @param string $skip_default_clause The default clause on alter columns, NULL by default.</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">     * @param string $skip_notnull_clause The null/notnull clause on alter columns, NULL by default.</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * @return string The field altering SQL statement.</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     */</span>
<a name="l743"><span class="linenum"> 743</span></a>      public function <a class="function" onClick="logFunction('getAlterFieldSQL')" href="../../_functions/getalterfieldsql.html" onMouseOver="funcPopup(event,'getalterfieldsql')">getAlterFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = NULL, <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = NULL, <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = NULL) {
<a name="l744"><span class="linenum"> 744</span></a>  
<a name="l745"><span class="linenum"> 745</span></a>          <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_type')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_type.html">alter_column_skip_type</a> : <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>;
<a name="l746"><span class="linenum"> 746</span></a>          <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_default')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_default.html">alter_column_skip_default</a> : <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>;
<a name="l747"><span class="linenum"> 747</span></a>          <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_skip_notnull')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_skip_notnull.html">alter_column_skip_notnull</a> : <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>;
<a name="l748"><span class="linenum"> 748</span></a>  
<a name="l749"><span class="linenum"> 749</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">        // Get the quoted name of the table and field</span>
<a name="l752"><span class="linenum"> 752</span></a>          <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l753"><span class="linenum"> 753</span></a>          <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l754"><span class="linenum"> 754</span></a>  
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">        // Build de alter sentence using the alter_column_sql template</span>
<a name="l756"><span class="linenum"> 756</span></a>          <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('alter')" href="../../_variables/alter.html">$alter</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('alter_column_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/alter_column_sql.html">alter_column_sql</a>);
<a name="l757"><span class="linenum"> 757</span></a>          <a class="var it34661" onMouseOver="hilite(34661)" onMouseOut="lolite()" onClick="logVariable('colspec')" href="../../_variables/colspec.html">$colspec</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getFieldSQL')" href="../../_functions/getfieldsql.html" onMouseOver="funcPopup(event,'getfieldsql')">getFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it15710" onMouseOver="hilite(15710)" onMouseOut="lolite()" onClick="logVariable('skip_type_clause')" href="../../_variables/skip_type_clause.html">$skip_type_clause</a>,
<a name="l758"><span class="linenum"> 758</span></a>                                        <a class="var it15711" onMouseOver="hilite(15711)" onMouseOut="lolite()" onClick="logVariable('skip_default_clause')" href="../../_variables/skip_default_clause.html">$skip_default_clause</a>,
<a name="l759"><span class="linenum"> 759</span></a>                                        <a class="var it15712" onMouseOver="hilite(15712)" onMouseOut="lolite()" onClick="logVariable('skip_notnull_clause')" href="../../_variables/skip_notnull_clause.html">$skip_notnull_clause</a>,
<a name="l760"><span class="linenum"> 760</span></a>                                        true);
<a name="l761"><span class="linenum"> 761</span></a>          <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('alter')" href="../../_variables/alter.html">$alter</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('COLUMNSPECS', <a class="var it34661" onMouseOver="hilite(34661)" onMouseOut="lolite()" onClick="logVariable('colspec')" href="../../_variables/colspec.html">$colspec</a>, <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('alter')" href="../../_variables/alter.html">$alter</a>);
<a name="l762"><span class="linenum"> 762</span></a>  
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">        // Add the after clause if necessary</span>
<a name="l764"><span class="linenum"> 764</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('add_after_clause')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/add_after_clause.html">add_after_clause</a> &amp;&amp; <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getPrevious')" href="../../_functions/getprevious.html" onMouseOver="funcPopup(event,'getprevious')">getPrevious</a>()) {
<a name="l765"><span class="linenum"> 765</span></a>              <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('alter')" href="../../_variables/alter.html">$alter</a> .= ' after ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getPrevious')" href="../../_functions/getprevious.html" onMouseOver="funcPopup(event,'getprevious')">getPrevious</a>());
<a name="l766"><span class="linenum"> 766</span></a>          }
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment">        // Build the standard alter table modify</span>
<a name="l769"><span class="linenum"> 769</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it32303" onMouseOver="hilite(32303)" onMouseOut="lolite()" onClick="logVariable('alter')" href="../../_variables/alter.html">$alter</a>;
<a name="l770"><span class="linenum"> 770</span></a>  
<a name="l771"><span class="linenum"> 771</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l772"><span class="linenum"> 772</span></a>      }
<a name="l773"><span class="linenum"> 773</span></a>  
<a name="l774"><span class="linenum"> 774</span></a>      <span class="comment">/**</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to modify the default of the field in the table.</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     *</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to get the modified default value from.</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * @return array The SQL statement for modifying the default value.</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     */</span>
<a name="l781"><span class="linenum"> 781</span></a>      public function <a class="function" onClick="logFunction('getModifyDefaultSQL')" href="../../_functions/getmodifydefaultsql.html" onMouseOver="funcPopup(event,'getmodifydefaultsql')">getModifyDefaultSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l784"><span class="linenum"> 784</span></a>  
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">        // Get the quoted name of the table and field</span>
<a name="l786"><span class="linenum"> 786</span></a>          <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it2227" onMouseOver="hilite(2227)" onMouseOut="lolite()" onClick="logVariable('fieldname')" href="../../_variables/fieldname.html">$fieldname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">        // Decide if we are going to create/modify or to drop the default</span>
<a name="l790"><span class="linenum"> 790</span></a>          if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getDefault')" href="../../_functions/getdefault.html" onMouseOver="funcPopup(event,'getdefault')">getDefault</a>() === null) {
<a name="l791"><span class="linenum"> 791</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropDefaultSQL')" href="../../_functions/getdropdefaultsql.html" onMouseOver="funcPopup(event,'getdropdefaultsql')">getDropDefaultSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>); <span class="comment">//Drop</span>
<a name="l792"><span class="linenum"> 792</span></a>          } else {
<a name="l793"><span class="linenum"> 793</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateDefaultSQL')" href="../../_functions/getcreatedefaultsql.html" onMouseOver="funcPopup(event,'getcreatedefaultsql')">getCreateDefaultSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>); <span class="comment">//Create/modify</span>
<a name="l794"><span class="linenum"> 794</span></a>          }
<a name="l795"><span class="linenum"> 795</span></a>  
<a name="l796"><span class="linenum"> 796</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l797"><span class="linenum"> 797</span></a>      }
<a name="l798"><span class="linenum"> 798</span></a>  
<a name="l799"><span class="linenum"> 799</span></a>      <span class="comment">/**</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * Given one correct xmldb_field and the new name, returns the SQL statements</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     * to rename it (inside one array).</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     *</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_field.</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The instance of xmldb_field to get the renamed field from.</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">     * @param string $newname The new name to rename the field to.</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * @return array The SQL statements for renaming the field.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     */</span>
<a name="l808"><span class="linenum"> 808</span></a>      public function <a class="function" onClick="logFunction('getRenameFieldSQL')" href="../../_functions/getrenamefieldsql.html" onMouseOver="funcPopup(event,'getrenamefieldsql')">getRenameFieldSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l809"><span class="linenum"> 809</span></a>  
<a name="l810"><span class="linenum"> 810</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();  <span class="comment">//Array where all the sentences will be stored</span>
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">        // Although this is checked in database_manager::rename_field() - double check</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">        // that we aren't trying to rename one &quot;id&quot; field. Although it could be</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">        // implemented (if adding the necessary code to rename sequences, defaults,</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">        // triggers... and so on under each getRenameFieldExtraSQL() function, it's</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">        // better to forbid it, mainly because this field is the default PK and</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment">        // in the future, a lot of FKs can be pointing here. So, this field, more</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">        // or less, must be considered immutable!</span>
<a name="l819"><span class="linenum"> 819</span></a>          if (<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>() == 'id') {
<a name="l820"><span class="linenum"> 820</span></a>              return array();
<a name="l821"><span class="linenum"> 821</span></a>          }
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>          <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rename_column_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rename_column_sql.html">rename_column_sql</a>);
<a name="l824"><span class="linenum"> 824</span></a>          <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('OLDFIELDNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>()), <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a>);
<a name="l825"><span class="linenum"> 825</span></a>          <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('NEWFIELDNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>), <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a>);
<a name="l826"><span class="linenum"> 826</span></a>  
<a name="l827"><span class="linenum"> 827</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it31074" onMouseOver="hilite(31074)" onMouseOut="lolite()" onClick="logVariable('rename')" href="../../_variables/rename.html">$rename</a>;
<a name="l828"><span class="linenum"> 828</span></a>  
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">        // Call to getRenameFieldExtraSQL(), override if needed</span>
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getRenameFieldExtraSQL')" href="../../_functions/getrenamefieldextrasql.html" onMouseOver="funcPopup(event,'getrenamefieldextrasql')">getRenameFieldExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>);
<a name="l831"><span class="linenum"> 831</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it34659" onMouseOver="hilite(34659)" onMouseOut="lolite()" onClick="logVariable('extra_sentences')" href="../../_variables/extra_sentences.html">$extra_sentences</a>);
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l834"><span class="linenum"> 834</span></a>      }
<a name="l835"><span class="linenum"> 835</span></a>  
<a name="l836"><span class="linenum"> 836</span></a>      <span class="comment">/**</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_key, return the SQL statements needed to add the key to the table</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">     * note that undelying indexes will be added as parametrised by $xxxx_keys and $xxxx_index parameters.</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment">     *</span>
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_key.</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment">     * @param xmldb_key $xmldb_key The xmldb_key to add.</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">     * @return array SQL statement to add the xmldb_key.</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">     */</span>
<a name="l844"><span class="linenum"> 844</span></a>      public function <a class="function" onClick="logFunction('getAddKeySQL')" href="../../_functions/getaddkeysql.html" onMouseOver="funcPopup(event,'getaddkeysql')">getAddKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) {
<a name="l845"><span class="linenum"> 845</span></a>  
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment">        // Just use the CreateKeySQL function</span>
<a name="l849"><span class="linenum"> 849</span></a>          if (<a class="var it34662" onMouseOver="hilite(34662)" onMouseOut="lolite()" onClick="logVariable('keyclause')" href="../../_variables/keyclause.html">$keyclause</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getKeySQL')" href="../../_functions/getkeysql.html" onMouseOver="funcPopup(event,'getkeysql')">getKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>)) {
<a name="l850"><span class="linenum"> 850</span></a>              <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = 'ALTER TABLE ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) .
<a name="l851"><span class="linenum"> 851</span></a>                 ' ADD CONSTRAINT ' . <a class="var it34662" onMouseOver="hilite(34662)" onMouseOut="lolite()" onClick="logVariable('keyclause')" href="../../_variables/keyclause.html">$keyclause</a>;
<a name="l852"><span class="linenum"> 852</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l853"><span class="linenum"> 853</span></a>          }
<a name="l854"><span class="linenum"> 854</span></a>  
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">        // If we aren't creating the keys OR if the key is XMLDB_KEY_FOREIGN (not underlying index generated</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment">        // automatically by the RDBMS) create the underlying (created by us) index (if doesn't exists)</span>
<a name="l857"><span class="linenum"> 857</span></a>          if (!<a class="var it34662" onMouseOver="hilite(34662)" onMouseOut="lolite()" onClick="logVariable('keyclause')" href="../../_variables/keyclause.html">$keyclause</a> || <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>) {
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment">            // Only if they don't exist</span>
<a name="l859"><span class="linenum"> 859</span></a>              if (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>) {      //Calculate type of index based on type ok key
<a name="l860"><span class="linenum"> 860</span></a>                  <a class="var it34663" onMouseOver="hilite(34663)" onMouseOut="lolite()" onClick="logVariable('indextype')" href="../../_variables/indextype.html">$indextype</a> = <a class="constant" onClick="logConstant('XMLDB_INDEX_NOTUNIQUE')" href="../../_constants/XMLDB_INDEX_NOTUNIQUE.html" onMouseOver="constPopup(event,'XMLDB_INDEX_NOTUNIQUE')">XMLDB_INDEX_NOTUNIQUE</a>;
<a name="l861"><span class="linenum"> 861</span></a>              } else {
<a name="l862"><span class="linenum"> 862</span></a>                  <a class="var it34663" onMouseOver="hilite(34663)" onMouseOut="lolite()" onClick="logVariable('indextype')" href="../../_variables/indextype.html">$indextype</a> = <a class="constant" onClick="logConstant('XMLDB_INDEX_UNIQUE')" href="../../_constants/XMLDB_INDEX_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_INDEX_UNIQUE')">XMLDB_INDEX_UNIQUE</a>;
<a name="l863"><span class="linenum"> 863</span></a>              }
<a name="l864"><span class="linenum"> 864</span></a>              <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_index')" href="../../_classes/xmldb_index.html" onMouseOver="classPopup(event,'xmldb_index')">xmldb_index</a>('anyname', <a class="var it34663" onMouseOver="hilite(34663)" onMouseOut="lolite()" onClick="logVariable('indextype')" href="../../_variables/indextype.html">$indextype</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>());
<a name="l865"><span class="linenum"> 865</span></a>              if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('index_exists')" href="../../_functions/index_exists.html" onMouseOver="funcPopup(event,'index_exists')">index_exists</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>)) {
<a name="l866"><span class="linenum"> 866</span></a>                  <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getAddIndexSQL')" href="../../_functions/getaddindexsql.html" onMouseOver="funcPopup(event,'getaddindexsql')">getAddIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>));
<a name="l867"><span class="linenum"> 867</span></a>              }
<a name="l868"><span class="linenum"> 868</span></a>          }
<a name="l869"><span class="linenum"> 869</span></a>  
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment">        // If the key is XMLDB_KEY_FOREIGN_UNIQUE, create it as UNIQUE too</span>
<a name="l871"><span class="linenum"> 871</span></a>          if (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a> &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a>) {
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment">            //Duplicate the key</span>
<a name="l873"><span class="linenum"> 873</span></a>              <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>(<a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>);
<a name="l874"><span class="linenum"> 874</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getAddKeySQL')" href="../../_functions/getaddkeysql.html" onMouseOver="funcPopup(event,'getaddkeysql')">getAddKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>));
<a name="l875"><span class="linenum"> 875</span></a>          }
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">        // Return results</span>
<a name="l878"><span class="linenum"> 878</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l879"><span class="linenum"> 879</span></a>      }
<a name="l880"><span class="linenum"> 880</span></a>  
<a name="l881"><span class="linenum"> 881</span></a>      <span class="comment">/**</span>
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table.</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">     *</span>
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_key.</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">     * @param xmldb_key $xmldb_key The xmldb_key to drop.</span>
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment">     * @return array SQL statement to drop the xmldb_key.</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">     */</span>
<a name="l888"><span class="linenum"> 888</span></a>      public function <a class="function" onClick="logFunction('getDropKeySQL')" href="../../_functions/getdropkeysql.html" onMouseOver="funcPopup(event,'getdropkeysql')">getDropKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>) {
<a name="l889"><span class="linenum"> 889</span></a>  
<a name="l890"><span class="linenum"> 890</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l891"><span class="linenum"> 891</span></a>  
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment">        // Get the key name (note that this doesn't introspect DB, so could cause some problems sometimes!)</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">        // TODO: We'll need to overwrite the whole getDropKeySQL() method inside each DB to do the proper queries</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">        // against the dictionary or require ADOdb to support it or change the find_key_name() method to</span>
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">        // perform DB introspection directly. But, for now, as we aren't going to enable referential integrity</span>
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment">        // it won't be a problem at all</span>
<a name="l897"><span class="linenum"> 897</span></a>          <a class="var it34664" onMouseOver="hilite(34664)" onMouseOut="lolite()" onClick="logVariable('dbkeyname')" href="../../_variables/dbkeyname.html">$dbkeyname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('find_key_name')" href="../../_functions/find_key_name.html" onMouseOver="funcPopup(event,'find_key_name')">find_key_name</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>);
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment">        // Only if such type of key generation is enabled</span>
<a name="l900"><span class="linenum"> 900</span></a>          <a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a> = false;
<a name="l901"><span class="linenum"> 901</span></a>          switch (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>()) {
<a name="l902"><span class="linenum"> 902</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_PRIMARY')" href="../../_constants/XMLDB_KEY_PRIMARY.html" onMouseOver="constPopup(event,'XMLDB_KEY_PRIMARY')">XMLDB_KEY_PRIMARY</a>:
<a name="l903"><span class="linenum"> 903</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primary_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/primary_keys.html">primary_keys</a>) {
<a name="l904"><span class="linenum"> 904</span></a>                      <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('template')" href="../../_variables/template.html">$template</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_primary_key')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_primary_key.html">drop_primary_key</a>;
<a name="l905"><span class="linenum"> 905</span></a>                      <a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a> = true;
<a name="l906"><span class="linenum"> 906</span></a>                  }
<a name="l907"><span class="linenum"> 907</span></a>                  break;
<a name="l908"><span class="linenum"> 908</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>:
<a name="l909"><span class="linenum"> 909</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a>) {
<a name="l910"><span class="linenum"> 910</span></a>                      <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('template')" href="../../_variables/template.html">$template</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_unique_key')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_unique_key.html">drop_unique_key</a>;
<a name="l911"><span class="linenum"> 911</span></a>                      <a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a> = true;
<a name="l912"><span class="linenum"> 912</span></a>                  }
<a name="l913"><span class="linenum"> 913</span></a>                  break;
<a name="l914"><span class="linenum"> 914</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a>:
<a name="l915"><span class="linenum"> 915</span></a>              case <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>:
<a name="l916"><span class="linenum"> 916</span></a>                  if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('foreign_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/foreign_keys.html">foreign_keys</a>) {
<a name="l917"><span class="linenum"> 917</span></a>                      <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('template')" href="../../_variables/template.html">$template</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_foreign_key')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_foreign_key.html">drop_foreign_key</a>;
<a name="l918"><span class="linenum"> 918</span></a>                      <a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a> = true;
<a name="l919"><span class="linenum"> 919</span></a>                  }
<a name="l920"><span class="linenum"> 920</span></a>                  break;
<a name="l921"><span class="linenum"> 921</span></a>          }
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">        // If we have decided to drop the key, let's do it</span>
<a name="l923"><span class="linenum"> 923</span></a>          if (<a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a>) {
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">            // Replace TABLENAME, CONSTRAINTTYPE and KEYNAME as needed</span>
<a name="l925"><span class="linenum"> 925</span></a>              <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it2289" onMouseOver="hilite(2289)" onMouseOut="lolite()" onClick="logVariable('template')" href="../../_variables/template.html">$template</a>);
<a name="l926"><span class="linenum"> 926</span></a>              <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('KEYNAME', <a class="var it34664" onMouseOver="hilite(34664)" onMouseOut="lolite()" onClick="logVariable('dbkeyname')" href="../../_variables/dbkeyname.html">$dbkeyname</a>, <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a>);
<a name="l927"><span class="linenum"> 927</span></a>  
<a name="l928"><span class="linenum"> 928</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a>;
<a name="l929"><span class="linenum"> 929</span></a>          }
<a name="l930"><span class="linenum"> 930</span></a>  
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">        // If we aren't dropping the keys OR if the key is XMLDB_KEY_FOREIGN (not underlying index generated</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">        // automatically by the RDBMS) drop the underlying (created by us) index (if exists)</span>
<a name="l933"><span class="linenum"> 933</span></a>          if (!<a class="var it11699" onMouseOver="hilite(11699)" onMouseOut="lolite()" onClick="logVariable('dropkey')" href="../../_variables/dropkey.html">$dropkey</a> || <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a>) {
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">            // Only if they exist</span>
<a name="l935"><span class="linenum"> 935</span></a>              <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_index')" href="../../_classes/xmldb_index.html" onMouseOver="classPopup(event,'xmldb_index')">xmldb_index</a>('anyname', <a class="constant" onClick="logConstant('XMLDB_INDEX_UNIQUE')" href="../../_constants/XMLDB_INDEX_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_INDEX_UNIQUE')">XMLDB_INDEX_UNIQUE</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>());
<a name="l936"><span class="linenum"> 936</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('index_exists')" href="../../_functions/index_exists.html" onMouseOver="funcPopup(event,'index_exists')">index_exists</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>)) {
<a name="l937"><span class="linenum"> 937</span></a>                  <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropIndexSQL')" href="../../_functions/getdropindexsql.html" onMouseOver="funcPopup(event,'getdropindexsql')">getDropIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>));
<a name="l938"><span class="linenum"> 938</span></a>              }
<a name="l939"><span class="linenum"> 939</span></a>          }
<a name="l940"><span class="linenum"> 940</span></a>  
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">        // If the key is XMLDB_KEY_FOREIGN_UNIQUE, drop the UNIQUE too</span>
<a name="l942"><span class="linenum"> 942</span></a>          if (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a> &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a>) {
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">            //Duplicate the key</span>
<a name="l944"><span class="linenum"> 944</span></a>              <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>(<a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a>);
<a name="l945"><span class="linenum"> 945</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDropKeySQL')" href="../../_functions/getdropkeysql.html" onMouseOver="funcPopup(event,'getdropkeysql')">getDropKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>));
<a name="l946"><span class="linenum"> 946</span></a>          }
<a name="l947"><span class="linenum"> 947</span></a>  
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">        // Return results</span>
<a name="l949"><span class="linenum"> 949</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l950"><span class="linenum"> 950</span></a>      }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>      <span class="comment">/**</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_key, return the SQL statements needed to rename the key in the table</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">     * Experimental! Shouldn't be used at all!</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment">     *</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The table related to $xmldb_key.</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * @param xmldb_key $xmldb_key The xmldb_key to rename.</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * @param string $newname The xmldb_key's new name.</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     * @return array SQL statement to rename the xmldb_key.</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     */</span>
<a name="l961"><span class="linenum"> 961</span></a>      public function <a class="function" onClick="logFunction('getRenameKeySQL')" href="../../_functions/getrenamekeysql.html" onMouseOver="funcPopup(event,'getrenamekeysql')">getRenameKeySQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l964"><span class="linenum"> 964</span></a>  
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">        // Get the real key name</span>
<a name="l966"><span class="linenum"> 966</span></a>          <a class="var it34664" onMouseOver="hilite(34664)" onMouseOut="lolite()" onClick="logVariable('dbkeyname')" href="../../_variables/dbkeyname.html">$dbkeyname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('find_key_name')" href="../../_functions/find_key_name.html" onMouseOver="funcPopup(event,'find_key_name')">find_key_name</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>);
<a name="l967"><span class="linenum"> 967</span></a>  
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">        // Check we are really generating this type of keys</span>
<a name="l969"><span class="linenum"> 969</span></a>          if ((<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_PRIMARY')" href="../../_constants/XMLDB_KEY_PRIMARY.html" onMouseOver="constPopup(event,'XMLDB_KEY_PRIMARY')">XMLDB_KEY_PRIMARY</a> &amp;&amp; !<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('primary_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/primary_keys.html">primary_keys</a>) ||
<a name="l970"><span class="linenum"> 970</span></a>              (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_UNIQUE')" href="../../_constants/XMLDB_KEY_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_UNIQUE')">XMLDB_KEY_UNIQUE</a> &amp;&amp; !<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a>) ||
<a name="l971"><span class="linenum"> 971</span></a>              (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN')" href="../../_constants/XMLDB_KEY_FOREIGN.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN')">XMLDB_KEY_FOREIGN</a> &amp;&amp; !<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('foreign_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/foreign_keys.html">foreign_keys</a>) ||
<a name="l972"><span class="linenum"> 972</span></a>              (<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="phpfunction" onClick="logFunction('getType')" href="../../_functions/gettype.html" onMouseOver="phpfuncPopup(event,'gettype')">getType</a>() == <a class="constant" onClick="logConstant('XMLDB_KEY_FOREIGN_UNIQUE')" href="../../_constants/XMLDB_KEY_FOREIGN_UNIQUE.html" onMouseOver="constPopup(event,'XMLDB_KEY_FOREIGN_UNIQUE')">XMLDB_KEY_FOREIGN_UNIQUE</a> &amp;&amp; !<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('unique_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/unique_keys.html">unique_keys</a> &amp;&amp; !<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('foreign_keys')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/foreign_keys.html">foreign_keys</a>)) {
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">            // We aren't generating this type of keys, delegate to child indexes</span>
<a name="l974"><span class="linenum"> 974</span></a>              <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a> = <span class="keyword">new </span><a class="class" onClick="logClass('xmldb_index')" href="../../_classes/xmldb_index.html" onMouseOver="classPopup(event,'xmldb_index')">xmldb_index</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l975"><span class="linenum"> 975</span></a>              <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>-&gt;<a class="function" onClick="logFunction('setFields')" href="../../_functions/setfields.html" onMouseOver="funcPopup(event,'setfields')">setFields</a>(<a class="var it15699" onMouseOver="hilite(15699)" onMouseOut="lolite()" onClick="logVariable('xmldb_key')" href="../../_variables/xmldb_key.html">$xmldb_key</a>-&gt;<a class="function" onClick="logFunction('getFields')" href="../../_functions/getfields.html" onMouseOver="funcPopup(event,'getfields')">getFields</a>());
<a name="l976"><span class="linenum"> 976</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getRenameIndexSQL')" href="../../_functions/getrenameindexsql.html" onMouseOver="funcPopup(event,'getrenameindexsql')">getRenameIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>);
<a name="l977"><span class="linenum"> 977</span></a>          }
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment">        // Arrived here so we are working with keys, lets rename them</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">        // Replace TABLENAME and KEYNAME as needed</span>
<a name="l981"><span class="linenum"> 981</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rename_key_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rename_key_sql.html">rename_key_sql</a>);
<a name="l982"><span class="linenum"> 982</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('OLDKEYNAME', <a class="var it34664" onMouseOver="hilite(34664)" onMouseOut="lolite()" onClick="logVariable('dbkeyname')" href="../../_variables/dbkeyname.html">$dbkeyname</a>, <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>);
<a name="l983"><span class="linenum"> 983</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('NEWKEYNAME', <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>, <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>);
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment">        // Some DB doesn't support key renaming so this can be empty</span>
<a name="l986"><span class="linenum"> 986</span></a>          if (<a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>) {
<a name="l987"><span class="linenum"> 987</span></a>              <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>;
<a name="l988"><span class="linenum"> 988</span></a>          }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l991"><span class="linenum"> 991</span></a>      }
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>      <span class="comment">/**</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_index, return the SQL statements needed to add the index to the table.</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     *</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table instance to add the index on.</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">     * @param xmldb_index $xmldb_index The xmldb_index to add.</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">     * @return array An array of SQL statements to add the index.</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment">     */</span>
<a name="l1000"><span class="linenum">1000</span></a>      public function <a class="function" onClick="logFunction('getAddIndexSQL')" href="../../_functions/getaddindexsql.html" onMouseOver="funcPopup(event,'getaddindexsql')">getAddIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>) {
<a name="l1001"><span class="linenum">1001</span></a>  
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment">        // Just use the CreateIndexSQL function</span>
<a name="l1003"><span class="linenum">1003</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getCreateIndexSQL')" href="../../_functions/getcreateindexsql.html" onMouseOver="funcPopup(event,'getcreateindexsql')">getCreateIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>);
<a name="l1004"><span class="linenum">1004</span></a>      }
<a name="l1005"><span class="linenum">1005</span></a>  
<a name="l1006"><span class="linenum">1006</span></a>      <span class="comment">/**</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table.</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">     *</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table instance to drop the index on.</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">     * @param xmldb_index $xmldb_index The xmldb_index to drop.</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     * @return array An array of SQL statements to drop the index.</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     */</span>
<a name="l1013"><span class="linenum">1013</span></a>      public function <a class="function" onClick="logFunction('getDropIndexSQL')" href="../../_functions/getdropindexsql.html" onMouseOver="funcPopup(event,'getdropindexsql')">getDropIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>) {
<a name="l1014"><span class="linenum">1014</span></a>  
<a name="l1015"><span class="linenum">1015</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l1016"><span class="linenum">1016</span></a>  
<a name="l1017"><span class="linenum">1017</span></a>  <span class="comment">        // Get the real index name</span>
<a name="l1018"><span class="linenum">1018</span></a>          <a class="var it34667" onMouseOver="hilite(34667)" onMouseOut="lolite()" onClick="logVariable('dbindexnames')" href="../../_variables/dbindexnames.html">$dbindexnames</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('find_index_name')" href="../../_functions/find_index_name.html" onMouseOver="funcPopup(event,'find_index_name')">find_index_name</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>, true);
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment">        // Replace TABLENAME and INDEXNAME as needed</span>
<a name="l1021"><span class="linenum">1021</span></a>          if (<a class="var it34667" onMouseOver="hilite(34667)" onMouseOut="lolite()" onClick="logVariable('dbindexnames')" href="../../_variables/dbindexnames.html">$dbindexnames</a>) {
<a name="l1022"><span class="linenum">1022</span></a>              foreach (<a class="var it34667" onMouseOver="hilite(34667)" onMouseOut="lolite()" onClick="logVariable('dbindexnames')" href="../../_variables/dbindexnames.html">$dbindexnames</a> as <a class="var it15715" onMouseOver="hilite(15715)" onMouseOut="lolite()" onClick="logVariable('dbindexname')" href="../../_variables/dbindexname.html">$dbindexname</a>) {
<a name="l1023"><span class="linenum">1023</span></a>                  <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('drop_index_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/drop_index_sql.html">drop_index_sql</a>);
<a name="l1024"><span class="linenum">1024</span></a>                  <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('INDEXNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15715" onMouseOver="hilite(15715)" onMouseOut="lolite()" onClick="logVariable('dbindexname')" href="../../_variables/dbindexname.html">$dbindexname</a>), <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a>);
<a name="l1025"><span class="linenum">1025</span></a>                  <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it34665" onMouseOver="hilite(34665)" onMouseOut="lolite()" onClick="logVariable('dropsql')" href="../../_variables/dropsql.html">$dropsql</a>;
<a name="l1026"><span class="linenum">1026</span></a>              }
<a name="l1027"><span class="linenum">1027</span></a>          }
<a name="l1028"><span class="linenum">1028</span></a>  
<a name="l1029"><span class="linenum">1029</span></a>          return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l1030"><span class="linenum">1030</span></a>      }
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>      <span class="comment">/**</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_index, return the SQL statements needed to rename the index in the table</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     * Experimental! Shouldn't be used at all!</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     *</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table instance to rename the index on.</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * @param xmldb_index $xmldb_index The xmldb_index to rename.</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @param string $newname The xmldb_index's new name.</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     * @return array An array of SQL statements to rename the index.</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     */</span>
<a name="l1041"><span class="linenum">1041</span></a>      function <a class="function" onClick="logFunction('getRenameIndexSQL')" href="../../_functions/getrenameindexsql.html" onMouseOver="funcPopup(event,'getrenameindexsql')">getRenameIndexSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">        // Some DB doesn't support index renaming (MySQL) so this can be empty</span>
<a name="l1043"><span class="linenum">1043</span></a>          if (empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rename_index_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rename_index_sql.html">rename_index_sql</a>)) {
<a name="l1044"><span class="linenum">1044</span></a>              return array();
<a name="l1045"><span class="linenum">1045</span></a>          }
<a name="l1046"><span class="linenum">1046</span></a>  
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">        // Get the real index name</span>
<a name="l1048"><span class="linenum">1048</span></a>          <a class="var it15715" onMouseOver="hilite(15715)" onMouseOut="lolite()" onClick="logVariable('dbindexname')" href="../../_variables/dbindexname.html">$dbindexname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('find_index_name')" href="../../_functions/find_index_name.html" onMouseOver="funcPopup(event,'find_index_name')">find_index_name</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it15714" onMouseOver="hilite(15714)" onMouseOut="lolite()" onClick="logVariable('xmldb_index')" href="../../_variables/xmldb_index.html">$xmldb_index</a>);
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">        // Replace TABLENAME and INDEXNAME as needed</span>
<a name="l1050"><span class="linenum">1050</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('TABLENAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getTableName')" href="../../_functions/gettablename.html" onMouseOver="funcPopup(event,'gettablename')">getTableName</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rename_index_sql')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/rename_index_sql.html">rename_index_sql</a>);
<a name="l1051"><span class="linenum">1051</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('OLDINDEXNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it15715" onMouseOver="hilite(15715)" onMouseOut="lolite()" onClick="logVariable('dbindexname')" href="../../_variables/dbindexname.html">$dbindexname</a>), <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>);
<a name="l1052"><span class="linenum">1052</span></a>          <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('NEWINDEXNAME', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>), <a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>);
<a name="l1053"><span class="linenum">1053</span></a>  
<a name="l1054"><span class="linenum">1054</span></a>          return array(<a class="var it34666" onMouseOver="hilite(34666)" onMouseOut="lolite()" onClick="logVariable('renamesql')" href="../../_variables/renamesql.html">$renamesql</a>);
<a name="l1055"><span class="linenum">1055</span></a>      }
<a name="l1056"><span class="linenum">1056</span></a>  
<a name="l1057"><span class="linenum">1057</span></a>      <span class="comment">/**</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment">     * Given three strings (table name, list of fields (comma separated) and suffix),</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment">     * create the proper object name quoting it if necessary.</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">     *</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">     * IMPORTANT: This function must be used to CALCULATE NAMES of objects TO BE CREATED,</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">     *            NEVER TO GUESS NAMES of EXISTING objects!!!</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">     *</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment">     * @param string $tablename The table name.</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment">     * @param string $fields A list of comma separated fields.</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment">     * @param string $suffix A suffix for the object name.</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment">     * @return string Object's name.</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment">     */</span>
<a name="l1069"><span class="linenum">1069</span></a>      public function <a class="function" onClick="logFunction('getNameForObject')" href="../../_functions/getnameforobject.html" onMouseOver="funcPopup(event,'getnameforobject')">getNameForObject</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>, <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>='') {
<a name="l1070"><span class="linenum">1070</span></a>  
<a name="l1071"><span class="linenum">1071</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = '';
<a name="l1072"><span class="linenum">1072</span></a>  
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">        // Implement one basic cache to avoid object name duplication</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">        // along all the request life, but never to return cached results</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">        // We need this because sql statements are created before executing</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">        // them, hence names doesn't exist &quot;physically&quot; yet in DB, so we need</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">        // to known which ones have been used</span>
<a name="l1078"><span class="linenum">1078</span></a>          static <a class="var it34668" onMouseOver="hilite(34668)" onMouseOut="lolite()" onClick="logVariable('used_names')" href="../../_variables/used_names.html">$used_names</a> = array();
<a name="l1079"><span class="linenum">1079</span></a>  
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">        // Use standard naming. See http://docs.moodle.org/en/XMLDB_key_and_index_naming</span>
<a name="l1081"><span class="linenum">1081</span></a>          <a class="var it34669" onMouseOver="hilite(34669)" onMouseOut="lolite()" onClick="logVariable('tablearr')" href="../../_variables/tablearr.html">$tablearr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a> ('_', <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l1082"><span class="linenum">1082</span></a>          foreach (<a class="var it34669" onMouseOver="hilite(34669)" onMouseOut="lolite()" onClick="logVariable('tablearr')" href="../../_variables/tablearr.html">$tablearr</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l1083"><span class="linenum">1083</span></a>              <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>),0,4);
<a name="l1084"><span class="linenum">1084</span></a>          }
<a name="l1085"><span class="linenum">1085</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> .= '_';
<a name="l1086"><span class="linenum">1086</span></a>          <a class="var it3748" onMouseOver="hilite(3748)" onMouseOut="lolite()" onClick="logVariable('fieldsarr')" href="../../_variables/fieldsarr.html">$fieldsarr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a> (',', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>);
<a name="l1087"><span class="linenum">1087</span></a>          foreach (<a class="var it3748" onMouseOver="hilite(3748)" onMouseOut="lolite()" onClick="logVariable('fieldsarr')" href="../../_variables/fieldsarr.html">$fieldsarr</a> as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>) {
<a name="l1088"><span class="linenum">1088</span></a>              <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> .= <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>),0,3);
<a name="l1089"><span class="linenum">1089</span></a>          }
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment">        // Prepend the prefix</span>
<a name="l1091"><span class="linenum">1091</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a> . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">        // Make sure name does not exceed the maximum name length and add suffix.</span>
<a name="l1094"><span class="linenum">1094</span></a>          <a class="var it34670" onMouseOver="hilite(34670)" onMouseOut="lolite()" onClick="logVariable('maxlengthwithoutsuffix')" href="../../_variables/maxlengthwithoutsuffix.html">$maxlengthwithoutsuffix</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('names_max_length')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/names_max_length.html">names_max_length</a> - <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>) - (<a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a> ? 1 : 0);
<a name="l1095"><span class="linenum">1095</span></a>          <a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 0, <a class="var it34670" onMouseOver="hilite(34670)" onMouseOut="lolite()" onClick="logVariable('maxlengthwithoutsuffix')" href="../../_variables/maxlengthwithoutsuffix.html">$maxlengthwithoutsuffix</a>) . (<a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a> ? ('_' . <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>) : '');
<a name="l1096"><span class="linenum">1096</span></a>  
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">        // If the calculated name is in the cache, or if we detect it by introspecting the DB let's modify if</span>
<a name="l1098"><span class="linenum">1098</span></a>          <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a> = 1;
<a name="l1099"><span class="linenum">1099</span></a>          while (<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a>, <a class="var it34668" onMouseOver="hilite(34668)" onMouseOut="lolite()" onClick="logVariable('used_names')" href="../../_variables/used_names.html">$used_names</a>) || <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('isNameInUse')" href="../../_functions/isnameinuse.html" onMouseOver="funcPopup(event,'isnameinuse')">isNameInUse</a>(<a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a>, <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>, <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>)) {
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">            // Now iterate until not used name is found, incrementing the counter</span>
<a name="l1101"><span class="linenum">1101</span></a>              <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a>++;
<a name="l1102"><span class="linenum">1102</span></a>              <a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 0, <a class="var it34670" onMouseOver="hilite(34670)" onMouseOut="lolite()" onClick="logVariable('maxlengthwithoutsuffix')" href="../../_variables/maxlengthwithoutsuffix.html">$maxlengthwithoutsuffix</a> - <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a>)) .
<a name="l1103"><span class="linenum">1103</span></a>                      <a class="var it3434" onMouseOver="hilite(3434)" onMouseOut="lolite()" onClick="logVariable('counter')" href="../../_variables/counter.html">$counter</a> . (<a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a> ? ('_' . <a class="var it4927" onMouseOver="hilite(4927)" onMouseOut="lolite()" onClick="logVariable('suffix')" href="../../_variables/suffix.html">$suffix</a>) : '');
<a name="l1104"><span class="linenum">1104</span></a>          }
<a name="l1105"><span class="linenum">1105</span></a>  
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">        // Add the name to the cache</span>
<a name="l1107"><span class="linenum">1107</span></a>          <a class="var it34668" onMouseOver="hilite(34668)" onMouseOut="lolite()" onClick="logVariable('used_names')" href="../../_variables/used_names.html">$used_names</a>[] = <a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a>;
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment">        // Quote it if necessary (reserved words)</span>
<a name="l1110"><span class="linenum">1110</span></a>          <a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a>);
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>          return <a class="var it34671" onMouseOver="hilite(34671)" onMouseOut="lolite()" onClick="logVariable('namewithsuffix')" href="../../_variables/namewithsuffix.html">$namewithsuffix</a>;
<a name="l1113"><span class="linenum">1113</span></a>      }
<a name="l1114"><span class="linenum">1114</span></a>  
<a name="l1115"><span class="linenum">1115</span></a>      <span class="comment">/**</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment">     * Given any string (or one array), enclose it by the proper quotes</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment">     * if it's a reserved word</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment">     *</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment">     * @param string|array $input String to quote.</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment">     * @return string Quoted string.</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">     */</span>
<a name="l1122"><span class="linenum">1122</span></a>      public function <a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>) {
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>)) {
<a name="l1125"><span class="linenum">1125</span></a>              foreach (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>=&gt;<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>) {
<a name="l1126"><span class="linenum">1126</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../_variables/content.html">$content</a>);
<a name="l1127"><span class="linenum">1127</span></a>              }
<a name="l1128"><span class="linenum">1128</span></a>              return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>;
<a name="l1129"><span class="linenum">1129</span></a>          } else {
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment">            // Always lowercase</span>
<a name="l1131"><span class="linenum">1131</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>);
<a name="l1132"><span class="linenum">1132</span></a>  <span class="comment">            // if reserved or quote_all or has hyphens, quote it</span>
<a name="l1133"><span class="linenum">1133</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quote_all')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/quote_all.html">quote_all</a> || <a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('reserved_words')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/reserved_words.html">reserved_words</a>) || <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>, '-') !== false) {
<a name="l1134"><span class="linenum">1134</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quote_string')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/quote_string.html">quote_string</a> . <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a> . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quote_string')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/quote_string.html">quote_string</a>;
<a name="l1135"><span class="linenum">1135</span></a>              }
<a name="l1136"><span class="linenum">1136</span></a>              return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../_variables/input.html">$input</a>;
<a name="l1137"><span class="linenum">1137</span></a>          }
<a name="l1138"><span class="linenum">1138</span></a>      }
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>      <span class="comment">/**</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment">     * Given one XMLDB Statement, build the needed SQL insert sentences to execute it.</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment">     *</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment">     * @param string $statement SQL statement.</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * @return array Array of sentences in the SQL statement.</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     */</span>
<a name="l1146"><span class="linenum">1146</span></a>      function <a class="function" onClick="logFunction('getExecuteInsertSQL')" href="../../_functions/getexecuteinsertsql.html" onMouseOver="funcPopup(event,'getexecuteinsertsql')">getExecuteInsertSQL</a>(<a class="var it4941" onMouseOver="hilite(4941)" onMouseOut="lolite()" onClick="logVariable('statement')" href="../../_variables/statement.html">$statement</a>) {
<a name="l1147"><span class="linenum">1147</span></a>  
<a name="l1148"><span class="linenum">1148</span></a>           <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();  <span class="comment">//Array where all the sentences will be stored</span>
<a name="l1149"><span class="linenum">1149</span></a>  
<a name="l1150"><span class="linenum">1150</span></a>           if (<a class="var it34672" onMouseOver="hilite(34672)" onMouseOut="lolite()" onClick="logVariable('sentences')" href="../../_variables/sentences.html">$sentences</a> = <a class="var it4941" onMouseOver="hilite(4941)" onMouseOut="lolite()" onClick="logVariable('statement')" href="../../_variables/statement.html">$statement</a>-&gt;getSentences()) {
<a name="l1151"><span class="linenum">1151</span></a>               foreach (<a class="var it34672" onMouseOver="hilite(34672)" onMouseOut="lolite()" onClick="logVariable('sentences')" href="../../_variables/sentences.html">$sentences</a> as <a class="var it34673" onMouseOver="hilite(34673)" onMouseOut="lolite()" onClick="logVariable('sentence')" href="../../_variables/sentence.html">$sentence</a>) {
<a name="l1152"><span class="linenum">1152</span></a>  <span class="comment">                 // Get the list of fields</span>
<a name="l1153"><span class="linenum">1153</span></a>                   <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = <a class="var it4941" onMouseOver="hilite(4941)" onMouseOut="lolite()" onClick="logVariable('statement')" href="../../_variables/statement.html">$statement</a>-&gt;getFieldsFromInsertSentence(<a class="var it34673" onMouseOver="hilite(34673)" onMouseOut="lolite()" onClick="logVariable('sentence')" href="../../_variables/sentence.html">$sentence</a>);
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment">                 // Get the values of fields</span>
<a name="l1155"><span class="linenum">1155</span></a>                   <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> = <a class="var it4941" onMouseOver="hilite(4941)" onMouseOut="lolite()" onClick="logVariable('statement')" href="../../_variables/statement.html">$statement</a>-&gt;getValuesFromInsertSentence(<a class="var it34673" onMouseOver="hilite(34673)" onMouseOut="lolite()" onClick="logVariable('sentence')" href="../../_variables/sentence.html">$sentence</a>);
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment">                 // Look if we have some CONCAT value and transform it dynamically</span>
<a name="l1157"><span class="linenum">1157</span></a>                   foreach(<a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">                     // Trim single quotes</span>
<a name="l1159"><span class="linenum">1159</span></a>                       <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>,&quot;'&quot;);
<a name="l1160"><span class="linenum">1160</span></a>                       if (<a class="phpfunction" onClick="logFunction('stristr')" href="../../_functions/stristr.html" onMouseOver="phpfuncPopup(event,'stristr')">stristr</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, 'CONCAT') !== false){
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment">                         // Look for data between parenthesis</span>
<a name="l1162"><span class="linenum">1162</span></a>                           <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(&quot;/CONCAT\s*\((.*)\)$/is&quot;, <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>), <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1163"><span class="linenum">1163</span></a>                           if (isset(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1])) {
<a name="l1164"><span class="linenum">1164</span></a>                               <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">                             // Convert the comma separated string to an array</span>
<a name="l1166"><span class="linenum">1166</span></a>                               <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a> = <a class="class" onClick="logClass('xmldb_object')" href="../../_classes/xmldb_object.html" onMouseOver="classPopup(event,'xmldb_object')">xmldb_object</a>::<a class="function" onClick="logFunction('comma2array')" href="../../_functions/comma2array.html" onMouseOver="funcPopup(event,'comma2array')">comma2array</a>(<a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../../_variables/part.html">$part</a>);
<a name="l1167"><span class="linenum">1167</span></a>                               if (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>) {
<a name="l1168"><span class="linenum">1168</span></a>                                   <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getConcatSQL')" href="../../_functions/getconcatsql.html" onMouseOver="funcPopup(event,'getconcatsql')">getConcatSQL</a>(<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../_variables/arr.html">$arr</a>);
<a name="l1169"><span class="linenum">1169</span></a>                               }
<a name="l1170"><span class="linenum">1170</span></a>                           }
<a name="l1171"><span class="linenum">1171</span></a>                       }
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">                     // Values to be sent to DB must be properly escaped</span>
<a name="l1173"><span class="linenum">1173</span></a>                       <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="phpfunction" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">                     // Back trimmed quotes</span>
<a name="l1175"><span class="linenum">1175</span></a>                       <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = &quot;'&quot; . <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> . &quot;'&quot;;
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">                     // Back to the array</span>
<a name="l1177"><span class="linenum">1177</span></a>                       <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1178"><span class="linenum">1178</span></a>                   }
<a name="l1179"><span class="linenum">1179</span></a>  
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">                 // Iterate over fields, escaping them if necessary</span>
<a name="l1181"><span class="linenum">1181</span></a>                   foreach(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>) {
<a name="l1182"><span class="linenum">1182</span></a>                       <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../_variables/field.html">$field</a>);
<a name="l1183"><span class="linenum">1183</span></a>                   }
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">                 // Build the final SQL sentence and add it to the array of results</span>
<a name="l1185"><span class="linenum">1185</span></a>               <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'INSERT INTO ' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getEncQuoted')" href="../../_functions/getencquoted.html" onMouseOver="funcPopup(event,'getencquoted')">getEncQuoted</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('prefix')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/prefix.html">prefix</a> . <a class="var it4941" onMouseOver="hilite(4941)" onMouseOut="lolite()" onClick="logVariable('statement')" href="../../_variables/statement.html">$statement</a>-&gt;<a class="function" onClick="logFunction('getTable')" href="../../_functions/gettable.html" onMouseOver="funcPopup(event,'gettable')">getTable</a>()) .
<a name="l1186"><span class="linenum">1186</span></a>                           '(' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>) . ') ' .
<a name="l1187"><span class="linenum">1187</span></a>                           'VALUES (' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../../_variables/values.html">$values</a>) . ')';
<a name="l1188"><span class="linenum">1188</span></a>                   <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>;
<a name="l1189"><span class="linenum">1189</span></a>               }
<a name="l1190"><span class="linenum">1190</span></a>  
<a name="l1191"><span class="linenum">1191</span></a>           }
<a name="l1192"><span class="linenum">1192</span></a>           return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l1193"><span class="linenum">1193</span></a>      }
<a name="l1194"><span class="linenum">1194</span></a>  
<a name="l1195"><span class="linenum">1195</span></a>      <span class="comment">/**</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">     * Given one array of elements, build the proper CONCAT expression, based</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">     * in the $concat_character setting. If such setting is empty, then</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment">     * MySQL's CONCAT function will be used instead.</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">     *</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">     * @param array $elements An array of elements to concatenate.</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">     * @return mixed Returns the result of moodle_database::sql_concat() or false.</span>
<a name="l1202"><span class="linenum">1202</span></a>  <span class="comment">     * @uses moodle_database::sql_concat()</span>
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">     * @uses call_user_func_array()</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">     */</span>
<a name="l1205"><span class="linenum">1205</span></a>      public function <a class="function" onClick="logFunction('getConcatSQL')" href="../../_functions/getconcatsql.html" onMouseOver="funcPopup(event,'getconcatsql')">getConcatSQL</a>(<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../../_variables/elements.html">$elements</a>) {
<a name="l1206"><span class="linenum">1206</span></a>  
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">        // Replace double quoted elements by single quotes</span>
<a name="l1208"><span class="linenum">1208</span></a>          foreach(<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../../_variables/elements.html">$elements</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>) {
<a name="l1209"><span class="linenum">1209</span></a>              <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>);
<a name="l1210"><span class="linenum">1210</span></a>              if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 0, 1) == '&quot;' &amp;&amp;
<a name="l1211"><span class="linenum">1211</span></a>                  <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, -1, 1) == '&quot;') {
<a name="l1212"><span class="linenum">1212</span></a>                      <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../../_variables/elements.html">$elements</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = &quot;'&quot; . <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, '&quot;') . &quot;'&quot;;
<a name="l1213"><span class="linenum">1213</span></a>              }
<a name="l1214"><span class="linenum">1214</span></a>          }
<a name="l1215"><span class="linenum">1215</span></a>  
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">        // Now call the standard $DB-&gt;sql_concat() DML function</span>
<a name="l1217"><span class="linenum">1217</span></a>          return <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>(array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('mdb')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/mdb.html">mdb</a>, 'sql_concat'), <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('elements')" href="../../_variables/elements.html">$elements</a>);
<a name="l1218"><span class="linenum">1218</span></a>      }
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>      <span class="comment">/**</span>
<a name="l1221"><span class="linenum">1221</span></a>  <span class="comment">     * Returns the name (string) of the sequence used in the table for the autonumeric pk</span>
<a name="l1222"><span class="linenum">1222</span></a>  <span class="comment">     * Only some DB have this implemented.</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment">     *</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table instance.</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment">     * @return bool Returns the sequence from the DB or false.</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment">     */</span>
<a name="l1227"><span class="linenum">1227</span></a>      public function <a class="function" onClick="logFunction('getSequenceFromDB')" href="../../_functions/getsequencefromdb.html" onMouseOver="funcPopup(event,'getsequencefromdb')">getSequenceFromDB</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l1228"><span class="linenum">1228</span></a>          return false;
<a name="l1229"><span class="linenum">1229</span></a>      }
<a name="l1230"><span class="linenum">1230</span></a>  
<a name="l1231"><span class="linenum">1231</span></a>      <span class="comment">/**</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     * Given one object name and it's type (pk, uk, fk, ck, ix, uix, seq, trg).</span>
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">     *</span>
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment">     * (MySQL requires the whole xmldb_table object to be specified, so we add it always)</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">     *</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">     * This is invoked from getNameForObject().</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment">     * Only some DB have this implemented.</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment">     *</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment">     * @param string $object_name The object's name to check for.</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment">     * @param string $type The object's type (pk, uk, fk, ck, ix, uix, seq, trg).</span>
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment">     * @param string $table_name The table's name to check in</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment">     * @return bool If such name is currently in use (true) or no (false)</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">     */</span>
<a name="l1244"><span class="linenum">1244</span></a>      public function <a class="function" onClick="logFunction('isNameInUse')" href="../../_functions/isnameinuse.html" onMouseOver="funcPopup(event,'isnameinuse')">isNameInUse</a>(<a class="var it15716" onMouseOver="hilite(15716)" onMouseOut="lolite()" onClick="logVariable('object_name')" href="../../_variables/object_name.html">$object_name</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>, <a class="var it4731" onMouseOver="hilite(4731)" onMouseOut="lolite()" onClick="logVariable('table_name')" href="../../_variables/table_name.html">$table_name</a>) {
<a name="l1245"><span class="linenum">1245</span></a>          return false; <span class="comment">//For generators not implementing introspection,</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">                      //we always return with the name being free to be used</span>
<a name="l1247"><span class="linenum">1247</span></a>      }
<a name="l1248"><span class="linenum">1248</span></a>  
<a name="l1249"><span class="linenum">1249</span></a>  
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment">// ====== FOLLOWING FUNCTION MUST BE CUSTOMISED BY ALL THE XMLDGenerator classes ========</span>
<a name="l1251"><span class="linenum">1251</span></a>  
<a name="l1252"><span class="linenum">1252</span></a>      <span class="comment">/**</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">     * Reset a sequence to the id field of a table.</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     *</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @param xmldb_table|string $table name of table or the table object.</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * @return array of sql statements</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     */</span>
<a name="l1258"><span class="linenum">1258</span></a>      public abstract function <a class="function" onClick="logFunction('getResetSequenceSQL')" href="../../_functions/getresetsequencesql.html" onMouseOver="funcPopup(event,'getresetsequencesql')">getResetSequenceSQL</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>);
<a name="l1259"><span class="linenum">1259</span></a>  
<a name="l1260"><span class="linenum">1260</span></a>      <span class="comment">/**</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * Given one correct xmldb_table, returns the SQL statements</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     * to create temporary table (inside one array).</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment">     *</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment">     * @return array of sql statements</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment">     */</span>
<a name="l1267"><span class="linenum">1267</span></a>      abstract public function <a class="function" onClick="logFunction('getCreateTempTableSQL')" href="../../_functions/getcreatetemptablesql.html" onMouseOver="funcPopup(event,'getcreatetemptablesql')">getCreateTempTableSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l1268"><span class="linenum">1268</span></a>  
<a name="l1269"><span class="linenum">1269</span></a>      <span class="comment">/**</span>
<a name="l1270"><span class="linenum">1270</span></a>  <span class="comment">     * Given one XMLDB Type, length and decimals, returns the DB proper SQL type.</span>
<a name="l1271"><span class="linenum">1271</span></a>  <span class="comment">     *</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">     * @param int $xmldb_type The xmldb_type defined constant. XMLDB_TYPE_INTEGER and other XMLDB_TYPE_* constants.</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment">     * @param int $xmldb_length The length of that data type.</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">     * @param int $xmldb_decimals The decimal places of precision of the data type.</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">     * @return string The DB defined data type.</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">     */</span>
<a name="l1277"><span class="linenum">1277</span></a>      public abstract function <a class="function" onClick="logFunction('getTypeSQL')" href="../../_functions/gettypesql.html" onMouseOver="funcPopup(event,'gettypesql')">getTypeSQL</a>(<a class="var it15704" onMouseOver="hilite(15704)" onMouseOut="lolite()" onClick="logVariable('xmldb_type')" href="../../_variables/xmldb_type.html">$xmldb_type</a>, <a class="var it15705" onMouseOver="hilite(15705)" onMouseOut="lolite()" onClick="logVariable('xmldb_length')" href="../../_variables/xmldb_length.html">$xmldb_length</a>=null, <a class="var it15706" onMouseOver="hilite(15706)" onMouseOut="lolite()" onClick="logVariable('xmldb_decimals')" href="../../_variables/xmldb_decimals.html">$xmldb_decimals</a>=null);
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>      <span class="comment">/**</span>
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">     * Returns the code (array of statements) needed to execute extra statements on field rename.</span>
<a name="l1281"><span class="linenum">1281</span></a>  <span class="comment">     *</span>
<a name="l1282"><span class="linenum">1282</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l1284"><span class="linenum">1284</span></a>  <span class="comment">     * @return array Array of extra SQL statements to run with a field being renamed.</span>
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">     */</span>
<a name="l1286"><span class="linenum">1286</span></a>      public function <a class="function" onClick="logFunction('getRenameFieldExtraSQL')" href="../../_functions/getrenamefieldextrasql.html" onMouseOver="funcPopup(event,'getrenamefieldextrasql')">getRenameFieldExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l1287"><span class="linenum">1287</span></a>          return array();
<a name="l1288"><span class="linenum">1288</span></a>      }
<a name="l1289"><span class="linenum">1289</span></a>  
<a name="l1290"><span class="linenum">1290</span></a>      <span class="comment">/**</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment">     * Returns the code (array of statements) needed</span>
<a name="l1292"><span class="linenum">1292</span></a>  <span class="comment">     * to create one sequence for the xmldb_table and xmldb_field passed in.</span>
<a name="l1293"><span class="linenum">1293</span></a>  <span class="comment">     *</span>
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">     * @return array Array of SQL statements to create the sequence.</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">     */</span>
<a name="l1298"><span class="linenum">1298</span></a>      public function <a class="function" onClick="logFunction('getCreateSequenceSQL')" href="../../_functions/getcreatesequencesql.html" onMouseOver="funcPopup(event,'getcreatesequencesql')">getCreateSequenceSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>) {
<a name="l1299"><span class="linenum">1299</span></a>          return array();
<a name="l1300"><span class="linenum">1300</span></a>      }
<a name="l1301"><span class="linenum">1301</span></a>  
<a name="l1302"><span class="linenum">1302</span></a>      <span class="comment">/**</span>
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment">     * Returns the code (array of statements) needed to add one comment to the table.</span>
<a name="l1304"><span class="linenum">1304</span></a>  <span class="comment">     *</span>
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1306"><span class="linenum">1306</span></a>  <span class="comment">     * @return array Array of SQL statements to add one comment to the table.</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">     */</span>
<a name="l1308"><span class="linenum">1308</span></a>      public abstract function <a class="function" onClick="logFunction('getCommentSQL')" href="../../_functions/getcommentsql.html" onMouseOver="funcPopup(event,'getcommentsql')">getCommentSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>);
<a name="l1309"><span class="linenum">1309</span></a>  
<a name="l1310"><span class="linenum">1310</span></a>      <span class="comment">/**</span>
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">     * Returns the code (array of statements) needed to execute extra statements on table rename.</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">     *</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment">     * @param string $newname The new name for the table.</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment">     * @return array Array of extra SQL statements to rename a table.</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">     */</span>
<a name="l1317"><span class="linenum">1317</span></a>      public function <a class="function" onClick="logFunction('getRenameTableExtraSQL')" href="../../_functions/getrenametableextrasql.html" onMouseOver="funcPopup(event,'getrenametableextrasql')">getRenameTableExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it225" onMouseOver="hilite(225)" onMouseOut="lolite()" onClick="logVariable('newname')" href="../../_variables/newname.html">$newname</a>) {
<a name="l1318"><span class="linenum">1318</span></a>          return array();
<a name="l1319"><span class="linenum">1319</span></a>      }
<a name="l1320"><span class="linenum">1320</span></a>  
<a name="l1321"><span class="linenum">1321</span></a>      <span class="comment">/**</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment">     * Returns the code (array of statements) needed to execute extra statements on table drop</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment">     *</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">     * @return array Array of extra SQL statements to drop a table.</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     */</span>
<a name="l1327"><span class="linenum">1327</span></a>      public function <a class="function" onClick="logFunction('getDropTableExtraSQL')" href="../../_functions/getdroptableextrasql.html" onMouseOver="funcPopup(event,'getdroptableextrasql')">getDropTableExtraSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>) {
<a name="l1328"><span class="linenum">1328</span></a>          return array();
<a name="l1329"><span class="linenum">1329</span></a>      }
<a name="l1330"><span class="linenum">1330</span></a>  
<a name="l1331"><span class="linenum">1331</span></a>      <span class="comment">/**</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop its default</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment">     * (usually invoked from getModifyDefaultSQL()</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">     *</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">     * Note that this method may be dropped in future.</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">     *</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     * @return array Array of SQL statements to create a field's default.</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     *</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment">     * @todo MDL-31147 Moodle 2.1 - Drop getDropDefaultSQL()</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment">     */</span>
<a name="l1343"><span class="linenum">1343</span></a>      public abstract function <a class="function" onClick="logFunction('getDropDefaultSQL')" href="../../_functions/getdropdefaultsql.html" onMouseOver="funcPopup(event,'getdropdefaultsql')">getDropDefaultSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l1344"><span class="linenum">1344</span></a>  
<a name="l1345"><span class="linenum">1345</span></a>      <span class="comment">/**</span>
<a name="l1346"><span class="linenum">1346</span></a>  <span class="comment">     * Given one xmldb_table and one xmldb_field, return the SQL statements needed to add its default</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">     * (usually invoked from getModifyDefaultSQL()</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment">     *</span>
<a name="l1349"><span class="linenum">1349</span></a>  <span class="comment">     * @param xmldb_table $xmldb_table The xmldb_table object instance.</span>
<a name="l1350"><span class="linenum">1350</span></a>  <span class="comment">     * @param xmldb_field $xmldb_field The xmldb_field object instance.</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment">     * @return array Array of SQL statements to create a field's default.</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">     */</span>
<a name="l1353"><span class="linenum">1353</span></a>      public abstract function <a class="function" onClick="logFunction('getCreateDefaultSQL')" href="../../_functions/getcreatedefaultsql.html" onMouseOver="funcPopup(event,'getcreatedefaultsql')">getCreateDefaultSQL</a>(<a class="var it8627" onMouseOver="hilite(8627)" onMouseOut="lolite()" onClick="logVariable('xmldb_table')" href="../../_variables/xmldb_table.html">$xmldb_table</a>, <a class="var it13610" onMouseOver="hilite(13610)" onMouseOut="lolite()" onClick="logVariable('xmldb_field')" href="../../_variables/xmldb_field.html">$xmldb_field</a>);
<a name="l1354"><span class="linenum">1354</span></a>  
<a name="l1355"><span class="linenum">1355</span></a>      <span class="comment">/**</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment">     * Returns an array of reserved words (lowercase) for this DB</span>
<a name="l1357"><span class="linenum">1357</span></a>  <span class="comment">     * You MUST provide the real list for each DB inside every XMLDB class.</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment">     * @return array An array of database specific reserved words.</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     * @throws coding_exception Thrown if not implemented for the specific DB.</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     */</span>
<a name="l1361"><span class="linenum">1361</span></a>      public static function <a class="function" onClick="logFunction('getReservedWords')" href="../../_functions/getreservedwords.html" onMouseOver="funcPopup(event,'getreservedwords')">getReservedWords</a>() {
<a name="l1362"><span class="linenum">1362</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('getReservedWords')" href="../../_functions/getreservedwords.html" onMouseOver="funcPopup(event,'getreservedwords')">getReservedWords</a>() method needs to be overridden in each subclass of sql_generator');
<a name="l1363"><span class="linenum">1363</span></a>      }
<a name="l1364"><span class="linenum">1364</span></a>  
<a name="l1365"><span class="linenum">1365</span></a>      <span class="comment">/**</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">     * Returns all reserved words in supported databases.</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     * Reserved words should be lowercase.</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     * @return array ('word'=&gt;array(databases))</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     */</span>
<a name="l1370"><span class="linenum">1370</span></a>      public static function <a class="function" onClick="logFunction('getAllReservedWords')" href="../../_functions/getallreservedwords.html" onMouseOver="funcPopup(event,'getallreservedwords')">getAllReservedWords</a>() {
<a name="l1371"><span class="linenum">1371</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1372"><span class="linenum">1372</span></a>  
<a name="l1373"><span class="linenum">1373</span></a>          <a class="var it21156" onMouseOver="hilite(21156)" onMouseOut="lolite()" onClick="logVariable('generators')" href="../../_variables/generators.html">$generators</a> = array('mysql', 'postgres', 'oracle', 'mssql');
<a name="l1374"><span class="linenum">1374</span></a>          <a class="var it15717" onMouseOver="hilite(15717)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a> = array();
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>          foreach(<a class="var it21156" onMouseOver="hilite(21156)" onMouseOut="lolite()" onClick="logVariable('generators')" href="../../_variables/generators.html">$generators</a> as <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>) {
<a name="l1377"><span class="linenum">1377</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a> . '_sql_generator';
<a name="l1378"><span class="linenum">1378</span></a>              require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/ddl/<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>.php&quot;);
<a name="l1379"><span class="linenum">1379</span></a>              foreach (<a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(array(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>, 'getReservedWords')) as <a class="var it6546" onMouseOver="hilite(6546)" onMouseOut="lolite()" onClick="logVariable('word')" href="../../_variables/word.html">$word</a>) {
<a name="l1380"><span class="linenum">1380</span></a>                  <a class="var it15717" onMouseOver="hilite(15717)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a>[<a class="var it6546" onMouseOver="hilite(6546)" onMouseOut="lolite()" onClick="logVariable('word')" href="../../_variables/word.html">$word</a>][] = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>;
<a name="l1381"><span class="linenum">1381</span></a>              }
<a name="l1382"><span class="linenum">1382</span></a>          }
<a name="l1383"><span class="linenum">1383</span></a>          <a class="phpfunction" onClick="logFunction('ksort')" href="../../_functions/ksort.html" onMouseOver="phpfuncPopup(event,'ksort')">ksort</a>(<a class="var it15717" onMouseOver="hilite(15717)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a>);
<a name="l1384"><span class="linenum">1384</span></a>          return <a class="var it15717" onMouseOver="hilite(15717)" onMouseOut="lolite()" onClick="logVariable('reserved_words')" href="../../_variables/reserved_words.html">$reserved_words</a>;
<a name="l1385"><span class="linenum">1385</span></a>      }
<a name="l1386"><span class="linenum">1386</span></a>  
<a name="l1387"><span class="linenum">1387</span></a>      <span class="comment">/**</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment">     * Adds slashes to string.</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment">     * @param string $s</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">     * @return string The escaped string.</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment">     */</span>
<a name="l1392"><span class="linenum">1392</span></a>      public function <a class="function" onClick="logFunction('addslashes')" href="../../_functions/addslashes.html" onMouseOver="funcPopup(event,'addslashes')">addslashes</a>(<a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>) {
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment">        // do not use php addslashes() because it depends on PHP quote settings!</span>
<a name="l1394"><span class="linenum">1394</span></a>          <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('\\','\\\\',<a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l1395"><span class="linenum">1395</span></a>          <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;\0&quot;,&quot;\\\0&quot;, <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l1396"><span class="linenum">1396</span></a>          <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(&quot;'&quot;,  &quot;\\'&quot;, <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>);
<a name="l1397"><span class="linenum">1397</span></a>          return <a class="var it105" onMouseOver="hilite(105)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../_variables/s.html">$s</a>;
<a name="l1398"><span class="linenum">1398</span></a>      }
<a name="l1399"><span class="linenum">1399</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'getcreatestructuresql': ['getcreatestructuresql', 'This function will return the SQL code needed to create db tables and statements. ', [['lib/ddl','sql_generator.php',238]], 2],
'getcreatetablesql': ['getcreatetablesql', 'Given one correct xmldb_table, returns the SQL statements to create it (inside one array). ', [['lib/ddl','mysql_sql_generator.php',198],['lib/ddl','sql_generator.php',279]], 9],
'index_exists': ['index_exists', 'Given one xmldb_index, check if it exists in DB (true/false). ', [['lib/ddl','database_manager.php',214]], 44],
'getprevious': ['getprevious', 'This function will return the name of the previous xmldb_object ', [['lib/xmldb','xmldb_object.php',102]], 52],
'getaddkeysql': ['getaddkeysql', 'Given one xmldb_table and one xmldb_key, return the SQL statements needed to add the key to the table note that underlying indexes will be added as parametrised by $xxxx_keys and $xxxx_index parameters ', [['lib/ddl','sqlite_sql_generator.php',292],['lib/ddl','sql_generator.php',836]], 2],
'gettable': ['gettable', 'Returns one xmldb_table ', [['lib/xmldb','xmldb_structure.php',67],['lib/phpunit/classes','arraydataset.php',78],['lib/google/src/Google/Service','SQLAdmin.php',2490]], 67],
'getfields': ['getfields', 'Get the key fields ', [['lib/xmldb','xmldb_key.php',115],['lib/google/src/Google/Service','Bigquery.php',3354],['lib/google/src/Google/Service','Bigquery.php',3560],['lib/google/src/Google/Service','Directory.php',5740],['lib/xmldb','xmldb_table.php',240],['lib/xmldb','xmldb_index.php',109]], 64],
'getcreatetemptablesql': ['getcreatetemptablesql', 'Given one correct xmldb_table, returns the SQL statements to create temporary table (inside one array). ', [['lib/ddl','mysql_sql_generator.php',321],['lib/ddl','oracle_sql_generator.php',134],['lib/ddl','mssql_sql_generator.php',143],['lib/ddl','postgres_sql_generator.php',92]], 2],
'getendedstatements': ['getendedstatements', 'Given one string (or one array), ends it with $statement_end . ', [['lib/ddl','sql_generator.php',194]], 7],
'getname': ['getname', '', [['lib/spout/src/Spout/Reader/ODS','Sheet.php',62],['lib/pear/HTML/QuickForm','static.php',87],['lib/google/src/Google/Service','DataTransfer.php',304],['lib/google/src/Google/Service','Freebase.php',305],['lib/google/src/Google/Service','Freebase.php',339],['lib/google/src/Google/Service','AdSense.php',2162],['lib/google/src/Google/Service','AdSense.php',2577],['lib/google/src/Google/Service','AdSense.php',2916],['lib/google/src/Google/Service','AdSense.php',3060],['lib/google/src/Google/Service','AdSense.php',3384],['lib/google/src/Google/Service','AdSense.php',3465],['mod/wiki/editors','wikifiletable.php',76],['lib/google/src/Google/Service','Replicapool.php',725],['lib/google/src/Google/Service','Replicapool.php',1015],['lib/google/src/Google/Service','GamesManagement.php',1238],['lib/form','filemanager.php',119],['lib/google/src/Google/Service','Partners.php',720],['lib/pear/HTML/QuickForm','select.php',160],['lib/google/src/Google/Service','AndroidPublisher.php',2881],['lib/pear/HTML/QuickForm','input.php',98],['lib/google/src/Google/Service','YouTubeReporting.php',473],['lib/google/src/Google/Service','YouTubeReporting.php',670],['lib/google/src/Google/Service','Computeaccounts.php',834],['lib/google/src/Google/Service','Computeaccounts.php',1218],['lib/google/src/Google/Service','Computeaccounts.php',1606],['lib/phpexcel/PHPExcel','Chart.php',188],['lib/google/src/Google/Service','YouTubeAnalytics.php',727],['lib/google/src/Google/Service','YouTubeAnalytics.php',1193],['lib/google/src/Google/Service','MapsEngine.php',3421],['lib/google/src/Google/Service','MapsEngine.php',3611],['lib/google/src/Google/Service','MapsEngine.php',4067],['lib/google/src/Google/Service','MapsEngine.php',4097],['lib/google/src/Google/Service','MapsEngine.php',4348],['lib/google/src/Google/Service','MapsEngine.php',4640],['lib/google/src/Google/Service','MapsEngine.php',4755],['lib/google/src/Google/Service','MapsEngine.php',4820],['lib/google/src/Google/Service','MapsEngine.php',4877],['lib/google/src/Google/Service','MapsEngine.php',5197],['lib/google/src/Google/Service','MapsEngine.php',5265],['lib/google/src/Google/Service','MapsEngine.php',5356],['lib/google/src/Google/Service','MapsEngine.php',5534],['lib/google/src/Google/Service','MapsEngine.php',5696],['lib/google/src/Google/Service','MapsEngine.php',5830],['lib/google/src/Google/Service','MapsEngine.php',6217],['lib/google/src/Google/Service','MapsEngine.php',6291],['lib/google/src/Google/Service','Dns.php',662],['lib/google/src/Google/Service','Dns.php',861],['lib/google/src/Google/Service','Appengine.php',687],['lib/google/src/Google/Service','Appengine.php',1048],['lib/google/src/Google/Service','Appengine.php',1185],['lib/google/src/Google/Service','Appengine.php',1229],['lib/google/src/Google/Service','Appengine.php',1275],['lib/google/src/Google/Service','Appengine.php',1964],['lib/google/src/Google/Service','Translate.php',320],['lib/google/src/Google/Service','AdExchangeBuyer.php',1872],['lib/google/src/Google/Service','AdExchangeBuyer.php',2029],['lib/google/src/Google/Service','AdExchangeBuyer.php',2073],['lib/google/src/Google/Service','AdExchangeBuyer.php',2189],['lib/google/src/Google/Service','AdExchangeBuyer.php',2392],['lib/google/src/Google/Service','AdExchangeBuyer.php',3250],['lib/google/src/Google/Service','AdExchangeBuyer.php',4338],['lib/google/src/Google/Service','AdExchangeBuyer.php',4658],['lib/google/src/Google/Service','AdExchangeBuyer.php',4862],['lib/google/src/Google/Service','AdExchangeBuyer.php',6618],['lib/google/src/Google/Service','CivicInfo.php',355],['lib/google/src/Google/Service','CivicInfo.php',469],['lib/google/src/Google/Service','CivicInfo.php',543],['lib/google/src/Google/Service','CivicInfo.php',885],['lib/google/src/Google/Service','CivicInfo.php',929],['lib/google/src/Google/Service','CivicInfo.php',974],['lib/google/src/Google/Service','CivicInfo.php',1045],['lib/google/src/Google/Service','CivicInfo.php',1081],['lib/google/src/Google/Service','CivicInfo.php',1129],['lib/google/src/Google/Service','CivicInfo.php',1204],['lib/google/src/Google/Service','CivicInfo.php',1288],['lib/google/src/Google/Service','CivicInfo.php',1522],['lib/horde/framework/Horde/Mime','Part.php',374],['lib/google/src/Google/Service','Books.php',3528],['lib/google/src/Google/Service','Oauth2.php',483],['lib/google/src/Google/Service','Analytics.php',3826],['lib/google/src/Google/Service','Analytics.php',3938],['lib/google/src/Google/Service','Analytics.php',4058],['lib/google/src/Google/Service','Analytics.php',4450],['lib/google/src/Google/Service','Analytics.php',4717],['lib/google/src/Google/Service','Analytics.php',4963],['lib/google/src/Google/Service','Analytics.php',5177],['lib/google/src/Google/Service','Analytics.php',5614],['lib/google/src/Google/Service','Analytics.php',5797],['lib/google/src/Google/Service','Analytics.php',6013],['lib/google/src/Google/Service','Analytics.php',6353],['lib/google/src/Google/Service','Analytics.php',6706],['lib/google/src/Google/Service','Analytics.php',7079],['lib/google/src/Google/Service','Analytics.php',7340],['lib/google/src/Google/Service','Analytics.php',7673],['lib/google/src/Google/Service','Analytics.php',8036],['lib/google/src/Google/Service','Analytics.php',8411],['lib/google/src/Google/Service','Analytics.php',8455],['lib/google/src/Google/Service','Analytics.php',8673],['lib/google/src/Google/Service','Analytics.php',8860],['lib/google/src/Google/Service','Analytics.php',9515],['lib/google/src/Google/Service','Analytics.php',9572],['lib/google/src/Google/Service','Analytics.php',9777],['lib/google/src/Google/Service','Coordinate.php',897],['lib/google/src/Google/Service','Coordinate.php',1449],['lib/pear/HTML/QuickForm','xbutton.php',90],['lib/google/src/Google/Service','Script.php',282],['lib/google/src/Google/Service','DeploymentManager.php',928],['lib/google/src/Google/Service','DeploymentManager.php',1031],['lib/google/src/Google/Service','DeploymentManager.php',1230],['lib/google/src/Google/Service','DeploymentManager.php',1305],['lib/google/src/Google/Service','DeploymentManager.php',1454],['lib/google/src/Google/Service','DeploymentManager.php',1979],['lib/google/src/Google/Service','Blogger.php',1770],['lib/google/src/Google/Service','Blogger.php',3010],['lib/google/src/Google/Service','Dataflow.php',927],['lib/google/src/Google/Service','Dataflow.php',1030],['lib/google/src/Google/Service','Dataflow.php',1483],['lib/google/src/Google/Service','Dataflow.php',1561],['lib/google/src/Google/Service','Dataflow.php',1645],['lib/google/src/Google/Service','Dataflow.php',1745],['lib/google/src/Google/Service','Dataflow.php',2069],['lib/google/src/Google/Service','Dataflow.php',2687],['lib/pear/HTML/QuickForm','textarea.php',93],['lib/google/src/Google/Service','CloudUserAccounts.php',1229],['lib/google/src/Google/Service','CloudUserAccounts.php',1657],['lib/google/src/Google/Service','CloudUserAccounts.php',2202],['lib/google/src/Google/Service','Cloudresourcemanager.php',800],['lib/google/src/Google/Service','Customsearch.php',1077],['lib/google/src/Google/Service','TagManager.php',1793],['lib/google/src/Google/Service','TagManager.php',1915],['lib/google/src/Google/Service','TagManager.php',2084],['lib/google/src/Google/Service','TagManager.php',2182],['lib/google/src/Google/Service','TagManager.php',2241],['lib/google/src/Google/Service','TagManager.php',2337],['lib/google/src/Google/Service','TagManager.php',2617],['lib/google/src/Google/Service','TagManager.php',2805],['lib/google/src/Google/Service','TagManager.php',2952],['lib/google/src/Google/Service','TagManager.php',3202],['lib/google/src/Google/Service','TagManager.php',3385],['lib/google/src/Google/Service','Replicapoolupdater.php',776],['lib/spout/src/Spout/Writer/Common','Sheet.php',59],['lib/google/src/Google/Service','Bigquery.php',3370],['lib/google/src/Google/Service','ShoppingContent.php',2156],['lib/google/src/Google/Service','ShoppingContent.php',2363],['lib/google/src/Google/Service','ShoppingContent.php',2492],['lib/google/src/Google/Service','ShoppingContent.php',2563],['lib/google/src/Google/Service','ShoppingContent.php',2646],['lib/google/src/Google/Service','ShoppingContent.php',3882],['lib/google/src/Google/Service','ShoppingContent.php',4882],['lib/google/src/Google/Service','ShoppingContent.php',7879],['lib/google/src/Google/Service','ShoppingContent.php',7931],['lib/google/src/Google/Service','Clouddebugger.php',662],['lib/google/src/Google/Service','Clouddebugger.php',1315],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',60],['lib/form','selectgroups.php',124],['lib/pear/HTML/QuickForm','group.php',138],['lib/google/src/Google/Service','Container.php',567],['lib/google/src/Google/Service','Container.php',816],['lib/form','editor.php',138],['lib/google/src/Google/Service','Audit.php',334],['lib/google/src/Google/Service','Audit.php',360],['lib/google/src/Google/Service','Datastore.php',580],['lib/google/src/Google/Service','Datastore.php',652],['lib/google/src/Google/Service','Datastore.php',669],['lib/google/src/Google/Service','Datastore.php',1097],['lib/google/src/Google/Service','Storage.php',2088],['lib/google/src/Google/Service','Storage.php',2767],['lib/google/src/Google/Service','Storage.php',3260],['lib/google/src/Google/Service','QPXExpress.php',128],['lib/google/src/Google/Service','QPXExpress.php',172],['lib/google/src/Google/Service','QPXExpress.php',261],['lib/google/src/Google/Service','QPXExpress.php',305],['lib/google/src/Google/Service','QPXExpress.php',1224],['lib/google/src/Google/Service','Genomics.php',1598],['lib/google/src/Google/Service','Genomics.php',1720],['lib/google/src/Google/Service','Genomics.php',2208],['lib/google/src/Google/Service','Genomics.php',2396],['lib/google/src/Google/Service','Genomics.php',2680],['lib/google/src/Google/Service','Genomics.php',2773],['lib/google/src/Google/Service','Genomics.php',2845],['lib/google/src/Google/Service','Genomics.php',2997],['lib/google/src/Google/Service','Genomics.php',3078],['lib/google/src/Google/Service','Games.php',2358],['lib/google/src/Google/Service','Games.php',2925],['lib/google/src/Google/Service','Games.php',3556],['lib/google/src/Google/Service','Games.php',3632],['lib/google/src/Google/Service','Games.php',3868],['lib/google/src/Google/Service','Games.php',4531],['lib/google/src/Google/Service','Games.php',5449],['lib/google/src/Google/Service','Fitness.php',924],['lib/google/src/Google/Service','Fitness.php',1148],['lib/google/src/Google/Service','Fitness.php',1184],['lib/google/src/Google/Service','Fitness.php',1211],['lib/google/src/Google/Service','Fitness.php',1483],['lib/xmldb','xmldb_object.php',118],['lib/google/src/Google/Service','Reports.php',621],['lib/google/src/Google/Service','Reports.php',692],['lib/google/src/Google/Service','Reports.php',1001],['lib/google/src/Google/Service','Gmail.php',1596],['lib/google/src/Google/Service','Gmail.php',1997],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',154],['lib/google/src/Google/Service','Doubleclicksearch.php',865],['lib/google/src/Google/Service','Doubleclicksearch.php',891],['lib/google/src/Google/Service','Autoscaler.php',575],['lib/google/src/Google/Service','Autoscaler.php',929],['lib/google/src/Google/Service','Autoscaler.php',1274],['lib/google/src/Google/Service','Autoscaler.php',1397],['lib/google/src/Google/Service','AdExchangeSeller.php',861],['lib/google/src/Google/Service','AdExchangeSeller.php',1133],['lib/google/src/Google/Service','AdExchangeSeller.php',1467],['lib/google/src/Google/Service','AdExchangeSeller.php',1582],['lib/google/src/Google/Service','Appsactivity.php',392],['lib/google/src/Google/Service','Appsactivity.php',539],['lib/google/src/Google/Service','Appsactivity.php',558],['lib/google/src/Google/Service','Drive.php',2740],['lib/google/src/Google/Service','Drive.php',3129],['lib/google/src/Google/Service','Drive.php',5242],['lib/google/src/Google/Service','Spectrum.php',246],['lib/phpexcel/PHPExcel','NamedRange.php',90],['lib/google/src/Google/Service','Proximitybeacon.php',1013],['lib/google/src/Google/Service','Groupssettings.php',315],['lib/google/src/Google/Service','Directory.php',3539],['lib/google/src/Google/Service','Directory.php',4499],['lib/google/src/Google/Service','Directory.php',4862],['lib/google/src/Google/Service','Directory.php',5259],['lib/google/src/Google/Service','Directory.php',6256],['lib/google/src/Google/Service','Directory.php',6787],['lib/google/src/Google/Service','Fusiontables.php',1439],['lib/google/src/Google/Service','Fusiontables.php',2031],['lib/google/src/Google/Service','Fusiontables.php',2204],['lib/google/src/Google/Service','Fusiontables.php',2419],['lib/google/src/Google/Service','AdSenseHost.php',1254],['lib/google/src/Google/Service','AdSenseHost.php',1624],['lib/google/src/Google/Service','AdSenseHost.php',1927],['lib/google/src/Google/Service','AdSenseHost.php',2073],['lib/google/src/Google/Service','Plus.php',902],['lib/google/src/Google/Service','Plus.php',2515],['lib/google/src/Google/Service','Plus.php',3071],['lib/google/src/Google/Service','Plus.php',3462],['lib/pear/HTML/QuickForm','element.php',152],['lib/google/src/Google/Service','AndroidEnterprise.php',2200],['lib/google/src/Google/Service','AndroidEnterprise.php',2397],['lib/google/src/Google/Service','AndroidEnterprise.php',2774],['lib/google/src/Google/Service','Playmoviespartner.php',1022],['lib/google/src/Google/Service','Playmoviespartner.php',1326],['lib/google/src/Google/Service','Playmoviespartner.php',1576],['lib/pear/HTML/QuickForm','link.php',99],['lib/google/src/Google/Service','Cloudtrace.php',409],['lib/google/src/Google/Service','Cloudbilling.php',334],['lib/google/src/Google/Service','Cloudbilling.php',434],['lib/google/src/Google/Service','PlusDomains.php',1193],['lib/google/src/Google/Service','PlusDomains.php',3290],['lib/google/src/Google/Service','PlusDomains.php',3655],['lib/google/src/Google/Service','Storagetransfer.php',850],['lib/google/src/Google/Service','Storagetransfer.php',1207],['lib/google/src/Google/Service','Storagetransfer.php',1292],['lib/google/src/Google/Service','GamesConfiguration.php',617],['lib/google/src/Google/Service','GamesConfiguration.php',948],['lib/google/src/Google/Service','Resourceviews.php',744],['lib/google/src/Google/Service','Resourceviews.php',1099],['lib/google/src/Google/Service','Resourceviews.php',1149],['lib/phpexcel/PHPExcel/Style','Font.php',219],['lib/google/src/Google/Service','Classroom.php',1112],['lib/google/src/Google/Service','Classroom.php',1513],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',94],['lib/google/src/Google/Service','SQLAdmin.php',1587],['lib/google/src/Google/Service','SQLAdmin.php',1910],['lib/google/src/Google/Service','SQLAdmin.php',1944],['lib/google/src/Google/Service','SQLAdmin.php',2066],['lib/google/src/Google/Service','SQLAdmin.php',2373],['lib/google/src/Google/Service','SQLAdmin.php',2930],['lib/google/src/Google/Service','SQLAdmin.php',3659],['lib/google/src/Google/Service','Compute.php',8458],['lib/google/src/Google/Service','Compute.php',8541],['lib/google/src/Google/Service','Compute.php',8997],['lib/google/src/Google/Service','Compute.php',9519],['lib/google/src/Google/Service','Compute.php',9787],['lib/google/src/Google/Service','Compute.php',10089],['lib/google/src/Google/Service','Compute.php',10479],['lib/google/src/Google/Service','Compute.php',10679],['lib/google/src/Google/Service','Compute.php',11098],['lib/google/src/Google/Service','Compute.php',11278],['lib/google/src/Google/Service','Compute.php',11471],['lib/google/src/Google/Service','Compute.php',11722],['lib/google/src/Google/Service','Compute.php',11913],['lib/google/src/Google/Service','Compute.php',12170],['lib/google/src/Google/Service','Compute.php',13075],['lib/google/src/Google/Service','Compute.php',13311],['lib/google/src/Google/Service','Compute.php',13432],['lib/google/src/Google/Service','Compute.php',13885],['lib/google/src/Google/Service','Compute.php',13966],['lib/google/src/Google/Service','Compute.php',14004],['lib/google/src/Google/Service','Compute.php',14188],['lib/google/src/Google/Service','Compute.php',14644],['lib/google/src/Google/Service','Compute.php',14757],['lib/google/src/Google/Service','Compute.php',14885],['lib/google/src/Google/Service','Compute.php',15063],['lib/google/src/Google/Service','Compute.php',15436],['lib/google/src/Google/Service','Compute.php',15603],['lib/google/src/Google/Service','Compute.php',15756],['lib/google/src/Google/Service','Compute.php',15902],['lib/google/src/Google/Service','Compute.php',16046],['lib/google/src/Google/Service','Compute.php',16368],['lib/google/src/Google/Service','Compute.php',16786],['lib/google/src/Google/Service','Compute.php',17162],['lib/google/src/Google/Service','Compute.php',17488],['lib/google/src/Google/Service','Compute.php',17826],['lib/google/src/Google/Service','Compute.php',17949],['lib/google/src/Google/Service','Pubsub.php',954],['lib/google/src/Google/Service','Pubsub.php',987],['lib/google/src/Google/Service','YouTube.php',5438],['lib/google/src/Google/Service','YouTube.php',8084],['lib/google/src/Google/Service','YouTube.php',8210],['lib/google/src/Google/Service','YouTube.php',9156],['lib/google/src/Google/Service','Dfareporting.php',9031],['lib/google/src/Google/Service','Dfareporting.php',9163],['lib/google/src/Google/Service','Dfareporting.php',9206],['lib/google/src/Google/Service','Dfareporting.php',9370],['lib/google/src/Google/Service','Dfareporting.php',9819],['lib/google/src/Google/Service','Dfareporting.php',9947],['lib/google/src/Google/Service','Dfareporting.php',10120],['lib/google/src/Google/Service','Dfareporting.php',10188],['lib/google/src/Google/Service','Dfareporting.php',10297],['lib/google/src/Google/Service','Dfareporting.php',10334],['lib/google/src/Google/Service','Dfareporting.php',10396],['lib/google/src/Google/Service','Dfareporting.php',10664],['lib/google/src/Google/Service','Dfareporting.php',11068],['lib/google/src/Google/Service','Dfareporting.php',11111],['lib/google/src/Google/Service','Dfareporting.php',11309],['lib/google/src/Google/Service','Dfareporting.php',11418],['lib/google/src/Google/Service','Dfareporting.php',11491],['lib/google/src/Google/Service','Dfareporting.php',11850],['lib/google/src/Google/Service','Dfareporting.php',12438],['lib/google/src/Google/Service','Dfareporting.php',12796],['lib/google/src/Google/Service','Dfareporting.php',13012],['lib/google/src/Google/Service','Dfareporting.php',13113],['lib/google/src/Google/Service','Dfareporting.php',13682],['lib/google/src/Google/Service','Dfareporting.php',13994],['lib/google/src/Google/Service','Dfareporting.php',14390],['lib/google/src/Google/Service','Dfareporting.php',14855],['lib/google/src/Google/Service','Dfareporting.php',14954],['lib/google/src/Google/Service','Dfareporting.php',15057],['lib/google/src/Google/Service','Dfareporting.php',15692],['lib/google/src/Google/Service','Dfareporting.php',15855],['lib/google/src/Google/Service','Dfareporting.php',16113],['lib/google/src/Google/Service','Dfareporting.php',16184],['lib/google/src/Google/Service','Dfareporting.php',16265],['lib/google/src/Google/Service','Dfareporting.php',16434],['lib/google/src/Google/Service','Dfareporting.php',16489],['lib/google/src/Google/Service','Dfareporting.php',16708],['lib/google/src/Google/Service','Dfareporting.php',17328],['lib/google/src/Google/Service','Dfareporting.php',17691],['lib/google/src/Google/Service','Dfareporting.php',17881],['lib/google/src/Google/Service','Dfareporting.php',18009],['lib/google/src/Google/Service','Dfareporting.php',18606],['lib/google/src/Google/Service','Dfareporting.php',18872],['lib/google/src/Google/Service','Dfareporting.php',19027],['lib/google/src/Google/Service','Dfareporting.php',19246],['lib/google/src/Google/Service','Dfareporting.php',20213],['lib/google/src/Google/Service','Dfareporting.php',20527],['lib/google/src/Google/Service','Dfareporting.php',20589],['lib/google/src/Google/Service','Dfareporting.php',20884],['lib/google/src/Google/Service','Dfareporting.php',21234],['lib/google/src/Google/Service','Dfareporting.php',21303],['lib/google/src/Google/Service','Dfareporting.php',21346],['lib/google/src/Google/Service','Manager.php',405],['lib/google/src/Google/Service','Manager.php',641],['lib/google/src/Google/Service','Manager.php',1300],['lib/google/src/Google/Service','Manager.php',1821],['lib/google/src/Google/Service','CloudMonitoring.php',730]], 827],
'getnameforobject': ['getnameforobject', 'Given three strings (table name, list of fields (comma separated) and suffix), create the proper object name quoting it if necessary. ', [['lib/ddl','sql_generator.php',1057],['lib/ddl','mssql_sql_generator.php',561]], 19],
'table_exists': ['table_exists', 'Given one xmldb_table, checks if it exists in DB (true/false). ', [['lib/ddl','sql_generator.php',215],['lib/ddl','database_manager.php',90]], 131],
'getkeys': ['getkeys', '', [['lib/google/src/Google/Service','Computeaccounts.php',770],['lib/google/src/Google/Service','Oauth2.php',232],['lib/google/src/Google/Service','CloudUserAccounts.php',1067],['lib/google/src/Google/Service','Webmasters.php',651],['lib/horde/framework/Horde/Support','Array.php',86],['lib/google/src/Google/Service','Datastore.php',253],['lib/google/src/Google/Service','Datastore.php',282],['lib/google/src/Google/Service','Datastore.php',690],['lib/xmldb','xmldb_table.php',248]], 22],
'getaddfieldsql': ['getaddfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to add the field to the table. ', [['lib/ddl','mysql_sql_generator.php',288],['lib/ddl','sql_generator.php',677]], 3],
'__construct': ['__construct', '', [['lib/adodb/drivers','adodb-odbc_mssql.inc.php',50],['lib/adodb/drivers','adodb-odbc_mssql.inc.php',359],['question/classes/statistics/responses','analyser.php',69],['auth/radius','auth.php',38],['lib/xmldb','xmldb_file.php',43],['lib/lessphp/Tree/Mixin','Definition.php',18],['cache/stores/static','lib.php',127],['lib/classes/session','file.php',40],['lib/htmlpurifier/HTMLPurifier/Lexer','DOMLex.php',35],['backup/util/ui','base_moodleform.class.php',68],['lib/simplepie/library/SimplePie','Author.php',81],['lib/filestorage','zip_archive.php',66],['backup/util/structure','restore_path_element.class.php',47],['backup/util/structure','restore_path_element.class.php',128],['lib/htmlpurifier/HTMLPurifier/ChildDef','Chameleon.php',36],['lib/phpexcel/PHPExcel','HashTable.php',44],['mod/quiz/tests','repaginate_test.php',39],['lib/form','modvisible.php',43],['lib/phpexcel/PHPExcel/Worksheet','Row.php',44],['cache','disabledlib.php',44],['lib/phpexcel/PHPExcel/Worksheet','Dimension.php',58],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',27],['question/type/ddwtos','question.php',61],['mnet/xmlrpc','client.php',25],['lib/horde/framework/Horde/Imap/Client','Url.php',112],['lib/classes','useragent.php',115],['lib/pear/HTML/QuickForm','advcheckbox.php',66],['lib/classes/update','checker_exception.php',37],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',53],['lib/jabber/XMPP','XMPP.php',101],['lib/form','radio.php',44],['lib/spout/src/Spout/Reader/XLSX/Helper','StyleHelper.php',45],['auth/cas/CAS/CAS/ProxiedService/Http','Abstract.php',58],['lib/phpexcel/PHPExcel/Style','Border.php',67],['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',182],['lib/adodb/drivers','adodb-oci8quercus.inc.php',31],['lib/adodb/drivers','adodb-oci8quercus.inc.php',45],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',29],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',91],['lib/phpexcel/PHPExcel','DocumentProperties.php',123],['lib/typo3','class.t3lib_cs.php',509],['mod/workshop/allocation/scheduled','lib.php',48],['lib/adodb/drivers','adodb-netezza.inc.php',53],['lib/adodb/drivers','adodb-netezza.inc.php',144],['mod/feedback/classes','complete_form.php',58],['search/classes','document.php',188],['webservice/rest','locallib.php',40],['lib/dml','mssql_native_moodle_recordset.php',34],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',57],['lib/htmlpurifier/HTMLPurifier','TokenFactory.php',43],['backup/moodle2','backup_block_task.class.php',43],['lib/lessphp/Tree','Negative.php',14],['lib/minify/lib/Minify/Cache','APC.php',19],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',54],['lib/pear/HTML/QuickForm','header.php',33],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','InMemoryStrategy.php',26],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',51],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',110],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',60],['lib/spout/src/Spout/Reader/ODS','Sheet.php',33],['question/type/calculated/tests','helper.php',205],['lib/adodb/drivers','adodb-odbtp.inc.php',38],['lib/adodb/drivers','adodb-odbtp.inc.php',673],['lib/adodb/drivers','adodb-odbtp.inc.php',796],['lib/adodb/drivers','adodb-odbtp.inc.php',806],['lib/adodb/drivers','adodb-odbtp.inc.php',816],['lib/adodb/drivers','adodb-odbtp.inc.php',826],['lib/adodb/drivers','adodb-odbtp.inc.php',836],['enrol/lti/ims-blti','blti.php',28],['backup/cc','cc2moodle.php',105],['mod/chat','locallib.php',181],['mod/chat','locallib.php',229],['user/filters','simpleselect.php',45],['lib/phpexcel/PHPExcel/CachedObjectStorage','Memcache.php',244],['lib/dml','pdo_moodle_database.php',42],['lib/adodb/drivers','adodb-sqlite3.inc.php',36],['lib/adodb/drivers','adodb-sqlite3.inc.php',350],['lib/pear/HTML/QuickForm','static.php',44],['competency/classes/external','comment_area_exporter.php',48],['lib/lessphp/Tree','Selector.php',31],['auth/cas/CAS/CAS','TypeMismatchException.php',43],['auth/fc','fcFPP.php',33],['lib/xmldb','xmldb_key.php',43],['grade/grading/form/rubric','rubriceditor.php',56],['lib/google/src/Google/Service','Cloudlatencytest.php',40],['course','moodleform_mod.php',69],['auth/nntp','auth.php',35],['grade/report/grader','lib.php',111],['admin/tool/generator/classes','course_backend.php',116],['lib/minify/lib','FirePHP.php',189],['lib/adodb/drivers','adodb-sqlitepo.inc.php',38],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',67],['lib/phpexcel/PHPExcel/CachedObjectStorage','CacheBase.php',66],['lib/lessphp/Tree','Rule.php',24],['lib/behat/features/bootstrap','behat_init_context.php',45],['lib','dmllib.php',69],['lib','dmllib.php',84],['lib','dmllib.php',104],['lib','dmllib.php',129],['lib','dmllib.php',159],['lib','dmllib.php',187],['lib','dmllib.php',240],['lib','dmllib.php',270],['lib/google/src/Google/Service','DataTransfer.php',44],['lib/google/src/Google/Http','Batch.php',42],['backup/util/structure','base_processor.class.php',49],['admin/tool/lpmigrate/classes','framework_mapper.php',50],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',46],['lib/lessphp/Tree','NameValue.php',22],['mod/quiz/classes','admin_review_setting.php',82],['lib/htmlpurifier/HTMLPurifier','Generator.php',67],['mod/quiz/report','attemptsreport_table.php',76],['blocks/lp/classes/output','summary.php',59],['lib/google/src/Google/IO','Stream.php',45],['lib/google/src/Google/Service','Freebase.php',38],['grade/tests','reportlib_test.php',36],['search/classes','manager.php',100],['question/behaviour/adaptive','behaviour.php',310],['admin/tool/lp/classes/form','framework_autocomplete.php',48],['lib/minify/lib','JSMinPlus.php',193],['lib/minify/lib','JSMinPlus.php',726],['lib/minify/lib','JSMinPlus.php',1638],['lib/minify/lib','JSMinPlus.php',1656],['lib/minify/lib','JSMinPlus.php',1748],['lib/simplepie/library/SimplePie','Copyright.php',73],['lib/phpexcel/PHPExcel/Style','Conditional.php',93],['lib/google/src/Google/Task','Runner.php',76],['backup/util/settings/root','root_backup_setting.class.php',34],['lib','componentlib.class.php',179],['lib','componentlib.class.php',610],['lib','componentlib.class.php',834],['lib/google/src/Google/Service','AdSense.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef','Clone.php',18],['lib/spout/src/Spout/Reader/CSV','Sheet.php',24],['lib/filebrowser','file_info_context_system.php',37],['lib/grade','grade_item.php',260],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',27],['repository/boxnet','lib.php',56],['auth/email','auth.php',34],['mod/wiki/editors','wikifiletable.php',40],['lib/google/src/Google/Service','Replicapool.php',51],['lib/dtl','database_exporter.php',55],['lib/horde/framework/Horde/Imap/Client/Namespace','List.php',34],['lib/phpexcel/PHPExcel/Writer','CSV.php',79],['lib/google/src/Google/Service','Tasks.php',44],['lib/dml','mysqli_native_moodle_recordset.php',42],['lib/google/src/Google/Service','GamesManagement.php',50],['lib/minify/lib/Minify','Source.php',43],['lib/jabber/XMPP','Roster.php',48],['lib/lessphp/Tree','Element.php',19],['lib/classes','string_manager_install.php',43],['question/type','questiontypebase.php',55],['question/type','questiontypebase.php',1442],['lib/form','filemanager.php',54],['lib/form','filemanager.php',316],['lib/htmlpurifier/HTMLPurifier/ChildDef','Custom.php',36],['backup/util/ui','renderer.php',813],['lib/simplepie/library/SimplePie','Rating.php',73],['lib/phpexcel/PHPExcel/Cell','Hyperlink.php',44],['question/classes/statistics/questions','calculator.php',66],['backup/moodle2','backup_xml_transformer.class.php',50],['lib/google/src/Google/Service','Resource.php',62],['lib/form','autocomplete.php',56],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',60],['mod/lesson/classes','file_info.php',45],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',40],['lib/google/src/Google/Service','Partners.php',43],['cache','lib.php',66],['cache','lib.php',109],['cache','lib.php',138],['cache','lib.php',183],['grade/edit/tree','lib.php',57],['grade/edit/tree','lib.php',635],['grade/edit/tree','lib.php',668],['grade/edit/tree','lib.php',834],['lib/simplepie/library/SimplePie','Cache.php',69],['mod/wiki/diff','difflib.php',277],['mod/wiki/diff','difflib.php',381],['mod/wiki/diff','difflib.php',478],['lib/pear/HTML/QuickForm','select.php',58],['lib/classes/output','mustache_javascript_helper.php',40],['lib/phpexcel/PHPExcel/Reader/Excel2007','Theme.php',68],['mod/data','export_form.php',16],['lib/pear/HTML/QuickForm','autocomplete.php',67],['question/type/shortanswer','question.php',44],['lib/google/src/Google/Service','AndroidPublisher.php',52],['lib/google/src/Google/Verifier','Pem.php',31],['lib/classes/antivirus','scanner.php',41],['lib/phpexcel/PHPExcel/Reader','Excel5.php',414],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',69],['lib/classes/output','mustache_filesystem_loader.php',39],['lib/classes/output','inplace_editable.php',107],['lib/adodb/drivers','adodb-informix.inc.php',37],['competency/classes','competency_rule.php',45],['lib/phpexcel/PHPExcel','RichText.php',37],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',59],['lib/pear/HTML/QuickForm','input.php',38],['repository/picasa','lib.php',41],['mod/feedback/classes','structure.php',48],['backup/util/plan','backup_structure_step.class.php',38],['question/classes/bank','random_question_loader.php',61],['mod/quiz/report/statistics/classes','calculated.php',43],['lib/horde/framework/Horde/Stream','String.php',27],['backup/util/helper','restore_decode_content.class.php',50],['backup/util/helper','restore_decode_content.class.php',125],['mod/workshop/backup/moodle1','lib.php',308],['lib/google/src/Google/Service','YouTubeReporting.php',47],['grade/export/txt','grade_export_txt.php',27],['lib/mustache/src/Mustache/Exception','SyntaxException.php',23],['lib/tcpdf','tcpdf_barcodes_2d.php',58],['mod/imscp','locallib.php',289],['lib/form','selectyesno.php',42],['lib/horde/framework/Horde/Mail/Transport','Smtphorde.php',62],['mod/lti/service/toolsettings/classes/local/service','toolsettings.php',41],['mod/lti/service/profile/classes/local/service','profile.php',41],['repository/flickr_public','lib.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','BackgroundPosition.php',57],['admin/tool/lp/classes/output','template_cohorts_table.php',53],['lib/simplepie/library','SimplePie.php',611],['lib/horde/framework/Horde/Imap/Client/Base','Debug.php',55],['lib/google/src/Google/Service','Reseller.php',44],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Border.php',18],['lib/testing/generator','component_generator_base.php',45],['lib/horde/framework/Horde/Translation/Handler','Gettext.php',34],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooter.php',175],['lib/classes','plugin_manager.php',91],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',28],['lib/horde/framework/Horde/Support','CombineStream.php',29],['lib/xmldb','xmldb_field.php',84],['lib/adodb/drivers','adodb-ibase.inc.php',59],['lib/adodb/drivers','adodb-ibase.inc.php',764],['lib/htmlpurifier/HTMLPurifier/AttrDef','URI.php',23],['admin/roles/classes','view_role_definition_table.php',28],['lib/google/src/Google/Cache','Memcache.php',44],['lib/pear/HTML/QuickForm','radio.php',48],['lib/filebrowser','file_info_context_coursecat.php',39],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',37],['mod/workshop/eval/best','lib.php',44],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',38],['grade/report','lib.php',156],['lib','csslib.php',1501],['lib','csslib.php',1587],['lib','csslib.php',2068],['lib','csslib.php',2136],['lib','csslib.php',2242],['availability/classes','info_module.php',40],['mod/book','locallib.php',414],['question/engine','datalib.php',68],['question/engine','datalib.php',1331],['question/engine','datalib.php',1632],['question/engine','datalib.php',1740],['question/engine','datalib.php',1870],['question/engine','datalib.php',1941],['webservice','lib.php',745],['webservice','lib.php',841],['lib/adodb/drivers','adodb-informix72.inc.php',59],['lib/adodb/drivers','adodb-informix72.inc.php',399],['lib/adodb','adodb-pager.inc.php',60],['user/classes/output/myprofile','category.php',68],['lib/lessphp/Visitor','extendFinder.php',15],['backup/util/settings','base_setting.class.php',89],['backup/util/settings','base_setting.class.php',556],['lib','filelib.php',2720],['lib','filelib.php',3601],['lib/phpunit/classes','database_driver_testcase.php',55],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',32],['report/competency/classes/output','report.php',56],['lib/google/src/Google/Service','Computeaccounts.php',49],['question/type','edit_question_form.php',96],['lib/filebrowser','file_info_context_user.php',39],['admin/tool/lp/classes/output','template_plans_page.php',37],['lib/phpexcel/PHPExcel','Style.php',93],['lib/minify/lib/Minify','HTML.php',49],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ListStyle.php',20],['lib/form','password.php',44],['backup','backup.class.php',146],['mod/feedback/classes','course_select_form.php',39],['lib/google/src/Google/Auth','AppIdentity.php',39],['lib/adodb','adodb-active-record.inc.php',121],['lib/phpexcel/PHPExcel','Chart.php',169],['lib/horde/framework/Horde/Mail/Rfc822','List.php',61],['admin/roles/classes','allow_switch_page.php',33],['lib/grade','grade_object.php',80],['lib/google/src/Google/IO','Exception.php',29],['auth/lti','auth.php',38],['mod/quiz/report/statistics/classes','calculator.php',39],['lib/htmlpurifier','HTMLPurifier.php',104],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',47],['mod/assign/feedback/editpdf/classes','widget.php',53],['lib/evalmath','evalmath.class.php',120],['lib/form','url.php',46],['lib/dml','pdo_moodle_recordset.php',41],['lib/htmlpurifier/HTMLPurifier/TagTransform','Simple.php',19],['backup/cc/cc_lib','xmlbase.php',52],['badges/lib','bakerlib.php',52],['lib/google/src/Google/Signer','P12.php',35],['availability/classes','info_section.php',40],['lib/form','static.php',47],['backup/converter','convertlib.php',52],['backup/converter','convertlib.php',277],['lib/google/src/Google/Service','YouTubeAnalytics.php',56],['admin/roles/classes','check_capability_table.php',40],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',14],['lib/adodb/drivers','adodb-postgres64.inc.php',127],['lib/adodb/drivers','adodb-postgres64.inc.php',919],['backup/util/helper','restore_prechecks_helper.class.php',213],['user/profile','lib.php',59],['lib/google/src/Google/Service','Admin.php',40],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',62],['lib/google/src/Google/Service','MapsEngine.php',66],['lib','listlib.php',82],['lib','listlib.php',485],['lib/phpexcel/PHPExcel/Writer','HTML.php',128],['backup/moodle2','restore_activity_task.class.php',48],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',68],['lib/simplepie/library/SimplePie','Source.php',61],['completion','data_object.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','ID.php',28],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',49],['lib/horde/framework/Horde/Support','Stack.php',18],['lib/google/src/Google/Cache','File.php',41],['lib/horde/framework/Horde/Mail/Transport','Mock.php',76],['backup/util/ui','backup_moodleform.class.php',41],['availability/condition/grouping/classes','condition.php',46],['lib/classes/session','memcache.php',50],['cache/classes','dummystore.php',62],['badges/classes','assertion.php',49],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',87],['availability/tests/fixtures','mock_condition.php',52],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',33],['mod/quiz/report','attemptsreport_options.php',95],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',39],['lib/minify/lib/Minify/CSS','Compressor.php',51],['lib/google/src/Google/Service','Dns.php',53],['question/type/calculatedmulti','edit_calculatedmulti_form.php',47],['backup/moodle2','restore_block_task.class.php',45],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',54],['lib/form','recaptcha.php',48],['lib','csvlib.class.php',64],['lib','csvlib.class.php',398],['lib/simplepie/library/SimplePie/Cache','File.php',82],['lib/phpexcel/PHPExcel/Chart','Legend.php',75],['lib/phpexcel/PHPExcel','WorksheetIterator.php',44],['cache/classes','loaders.php',196],['cache/classes','loaders.php',1189],['cache/classes','loaders.php',1586],['lib/google/src/Google/Service','Appengine.php',44],['admin/tool/lp/classes/output','template_cohorts_page.php',37],['search/classes','engine.php',77],['backup/cc/cc_lib','cc_assesment_essay.php',25],['lib/classes/progress','display.php',48],['lib/lessphp/Tree','Call.php',19],['course/format','lib.php',78],['question/type/calculated','datasetdefinitions_form.php',53],['lib/google/src/Google/Service','Translate.php',40],['enrol/database','settingslib.php',34],['lib/lessphp/Tree/Mixin','Call.php',14],['admin/tool/log/store/standard/classes/log','store.php',37],['lib/google/src/Google/Service','Urlshortener.php',40],['lib/horde/framework/Horde/Imap/Client','Socket.php',168],['lib/tests','collator_test.php',310],['lib/google/src/Google/Auth','Simple.php',31],['backup/cc/cc_lib','cc_manifest.php',45],['lib/bennu','iCalendar_properties.php',28],['lib/bennu','iCalendar_properties.php',220],['lib/bennu','iCalendar_properties.php',238],['lib/bennu','iCalendar_properties.php',259],['lib/bennu','iCalendar_properties.php',275],['lib/bennu','iCalendar_properties.php',296],['lib/bennu','iCalendar_properties.php',343],['lib/bennu','iCalendar_properties.php',358],['lib/bennu','iCalendar_properties.php',376],['lib/bennu','iCalendar_properties.php',391],['lib/bennu','iCalendar_properties.php',406],['lib/bennu','iCalendar_properties.php',447],['lib/bennu','iCalendar_properties.php',462],['lib/bennu','iCalendar_properties.php',485],['lib/bennu','iCalendar_properties.php',509],['lib/bennu','iCalendar_properties.php',524],['lib/bennu','iCalendar_properties.php',555],['lib/bennu','iCalendar_properties.php',573],['lib/bennu','iCalendar_properties.php',594],['lib/bennu','iCalendar_properties.php',637],['lib/bennu','iCalendar_properties.php',680],['lib/bennu','iCalendar_properties.php',724],['lib/bennu','iCalendar_properties.php',747],['lib/bennu','iCalendar_properties.php',782],['lib/bennu','iCalendar_properties.php',808],['lib/bennu','iCalendar_properties.php',849],['lib/bennu','iCalendar_properties.php',864],['lib/bennu','iCalendar_properties.php',905],['lib/bennu','iCalendar_properties.php',938],['lib/bennu','iCalendar_properties.php',952],['lib/bennu','iCalendar_properties.php',965],['lib/bennu','iCalendar_properties.php',987],['lib/bennu','iCalendar_properties.php',1017],['lib/bennu','iCalendar_properties.php',1031],['lib/bennu','iCalendar_properties.php',1061],['lib/bennu','iCalendar_properties.php',1075],['lib/bennu','iCalendar_properties.php',1098],['lib/bennu','iCalendar_properties.php',1110],['lib/bennu','iCalendar_properties.php',1139],['lib/bennu','iCalendar_properties.php',1160],['lib/bennu','iCalendar_properties.php',1181],['lib/bennu','iCalendar_properties.php',1203],['lib/bennu','iCalendar_properties.php',1227],['lib/bennu','iCalendar_properties.php',1260],['lib/bennu','iCalendar_properties.php',1386],['lib/bennu','iCalendar_properties.php',1407],['lib/bennu','iCalendar_properties.php',1429],['lib/bennu','iCalendar_properties.php',1450],['lib/mustache/src/Mustache/Exception','UnknownTemplateException.php',22],['lib/phpmailer','moodle_phpmailer.php',47],['availability/tests/fixtures','mock_info.php',40],['lib/horde/framework/Horde/Mail/Transport','Smtpmx.php',138],['admin/tool/lp/classes/form','persistent.php',68],['lib/adodb/drivers','adodb-mysqlt.inc.php',32],['lib/adodb/drivers','adodb-mysqlt.inc.php',96],['webservice/tests','lib_test.php',213],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',35],['filter','local_settings_form.php',33],['mod/quiz/accessrule','accessrulebase.php',52],['lib/horde/framework/Horde/Exception','Wrapped.php',16],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',170],['lib/lessphp/Tree','Dimension.php',15],['lib/minify/lib/HTTP','ConditionalGet.php',109],['lib/adodb/perf','perf-oci8.inc.php',203],['lib/phpexcel','PHPExcel.php',361],['backup/util/helper','restore_questions_parser_processor.class.php',42],['backup/moodle2','backup_plugin.class.php',44],['lib/classes/antivirus','scanner_exception.php',38],['webservice/xmlrpc','lib.php',43],['report/loglive/classes','renderable.php',73],['course','dnduploadlib.php',109],['course','dnduploadlib.php',407],['lib/filebrowser','file_info.php',43],['lib/adodb/drivers','adodb-access.inc.php',34],['lib/adodb/drivers','adodb-access.inc.php',83],['mod/feedback/classes','responses_table.php',54],['lib/editor/tinymce','adminlib.php',36],['admin/tool/monitor/classes','rule.php',44],['lib/google/src/Google/Service','AdExchangeBuyer.php',55],['lib/filebrowser','virtual_root_file.php',45],['lib/phpexcel/PHPExcel/RichText','Run.php',35],['admin/tool/monitor/classes/output/managesubs','subs.php',51],['auth/cas/CAS/CAS','ProxyChain.php',48],['lib/htmlpurifier/HTMLPurifier','DefinitionCache.php',22],['lib/google/src/Google/Service','CivicInfo.php',40],['mod/feedback/classes/output','summary.php',52],['lib/minify/lib/Minify','Build.php',77],['lib/adodb/drivers','adodb-ado_mssql.inc.php',146],['lib/adodb/drivers','adodb-odbc.inc.php',44],['lib/adodb/drivers','adodb-odbc.inc.php',611],['lib','moodlelib.php',9421],['lib','moodlelib.php',9632],['user/selector','lib.php',85],['user/selector','lib.php',674],['admin/tool/lp/classes/output','plan_page.php',49],['repository/dropbox','lib.php',49],['lib/horde/framework/Horde/Mime','Part.php',261],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','CachingStrategyFactory.php',56],['lib/phpexcel/PHPExcel/Chart','Layout.php',143],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',20],['lib/phpexcel/PHPExcel/Shared/JAMA','EigenvalueDecomposition.php',777],['lib/google/src/Google/Service','Books.php',60],['lib/google/src/Google/Service','Oauth2.php',50],['admin/tool/log/classes/log','store.php',30],['admin/tool/recyclebin/classes','category_bin.php',45],['lib/phpexcel/PHPExcel/Style','Color.php',64],['lib/phpexcel/PHPExcel/Worksheet','SheetView.php',69],['lib/htmlpurifier/HTMLPurifier/Token','Text.php',34],['lib/classes/update','checker.php',50],['lib/horde/framework/Horde/Socket','Client.php',52],['lib/phpexcel/PHPExcel/CachedObjectStorage','APC.php',243],['lib/horde/framework/Horde/Imap/Client/Cache','Backend.php',33],['lib/phpexcel/PHPExcel/Chart','Title.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',32],['lib/adodb/drivers','adodb-text.inc.php',93],['lib/adodb/drivers','adodb-text.inc.php',379],['lib/phpexcel/PHPExcel','Calculation.php',2071],['lib/adodb/drivers','adodb-sqlite.inc.php',36],['lib/adodb/drivers','adodb-sqlite.inc.php',367],['lib/google/src/Google/Service','Analytics.php',77],['blocks/lp/classes/output','plans_to_review_page.php',48],['lib/google/src/Google/Service','Coordinate.php',48],['availability/condition/group/classes','condition.php',43],['lib/lessphp/Exception','Chunk.php',19],['lib/htmlpurifier/HTMLPurifier','PropertyListIterator.php',22],['backup/cc/cc_lib','cc_resources.php',102],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',45],['backup/util/structure','base_optigroup.class.php',35],['backup/util/structure','base_optigroup.class.php',169],['question/classes/statistics/questions','calculated.php',181],['lib/horde/framework/Horde/Imap/Client/Interaction','Command.php',72],['lib/htmlpurifier/HTMLPurifier/Strategy','Core.php',8],['lib/htmlpurifier/HTMLPurifier/Filter','ExtractStyleBlocks.php',57],['backup/cc/cc_lib','cc_converter_url.php',29],['lib/xmldb','xmldb_structure.php',40],['lib/ddl','sqlite_sql_generator.php',73],['lib/pear/HTML/QuickForm','Renderer.php',31],['backup/util/helper','restore_moodlexml_parser_processor.class.php',38],['lib/pear/HTML/QuickForm','file.php',54],['lib/minify/lib/Minify/Cache','File.php',9],['lib/pear/HTML/QuickForm','xbutton.php',39],['lib/htmlpurifier','locallib.php',134],['admin/tool/recyclebin/classes','course_bin.php',45],['backup/util/plan','backup_task.class.php',32],['backup/util/plan','backup_task.class.php',56],['lib/phpexcel/PHPExcel/CachedObjectStorage','PHPTemp.php',174],['backup/util/helper','backup_helper.class.php',381],['lib/form','htmleditor.php',48],['lib','oauthlib.php',65],['lib','oauthlib.php',409],['auth/cas/CAS/CAS/PGTStorage','File.php',105],['auth/cas/CAS/CAS/ProxiedService','Imap.php',51],['repository/skydrive','lib.php',42],['lib/htmlpurifier/HTMLPurifier','ErrorCollector.php',57],['lib/classes/lock','postgres_lock_factory.php',81],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite.php',260],['lib/horde/framework/Horde/Support','ConsistentHash.php',56],['lib/horde/framework/Horde/Exception','Pear.php',22],['lib/portfolio','exceptions.php',50],['backup/moodle2','restore_plugin.class.php',43],['lib/phpexcel/PHPExcel/CachedObjectStorage','DiscISAM.php',177],['lib/google/src/Google/Service','DoubleClickBidManager.php',40],['lib/minify/lib/Minify/JS','ClosureCompiler.php',101],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',38],['lib/form','dateselector.php',70],['lib/spout/src/Spout/Common/Helper','EncodingHelper.php',38],['report/competency/classes/output','user_course_navigation.php',51],['lib/adodb/drivers','adodb-postgres7.inc.php',98],['lib/adodb/drivers','adodb-postgres7.inc.php',311],['lib/adodb/drivers','adodb-postgres7.inc.php',342],['lib/lessphp/Tree','Alpha.php',13],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',46],['lib/tcpdf','tcpdf.php',1822],['lib/adodb/drivers','adodb-sybase.inc.php',47],['lib/adodb/drivers','adodb-sybase.inc.php',313],['lib/adodb/drivers','adodb-sybase.inc.php',394],['lib/phpexcel/PHPExcel/Chart','PlotArea.php',44],['lib/phpexcel/PHPExcel/Chart','DataSeries.php',136],['mod/lesson','editpage_form.php',41],['question/classes/statistics/responses','analysis_for_question.php',58],['lib/horde/framework/Horde','Domhtml.php',53],['lib','formslib.php',142],['lib','formslib.php',1442],['lib','formslib.php',2653],['rating','lib.php',114],['rating','lib.php',1070],['lib/phpexcel/PHPExcel/Worksheet','Column.php',44],['lib/google/src/Google/Service','Script.php',67],['lib/adodb','adodb-xmlschema.inc.php',118],['lib/adodb','adodb-xmlschema.inc.php',245],['lib/adodb','adodb-xmlschema.inc.php',637],['lib/adodb','adodb-xmlschema.inc.php',781],['lib/adodb','adodb-xmlschema.inc.php',982],['lib/adodb','adodb-xmlschema.inc.php',1295],['lib/google/src/Google/Service','DeploymentManager.php',54],['mod/quiz','attemptlib.php',41],['mod/quiz','attemptlib.php',82],['mod/quiz','attemptlib.php',546],['mod/quiz','attemptlib.php',2337],['mod/quiz','attemptlib.php',2392],['backup/cc/cc_lib','cc_converter_forum.php',29],['lib','boxlib.php',264],['lib/simplepie/library/SimplePie','Restriction.php',81],['admin/roles/classes','allow_assign_page.php',31],['lib/adodb/drivers','adodb-pdo.inc.php',90],['lib/adodb/drivers','adodb-pdo.inc.php',553],['lib/adodb/drivers','adodb-pdo.inc.php',630],['tag/classes/output','tagareacollection.php',40],['admin/tool/lp/classes','template_statistics.php',62],['lib','weblib.php',313],['lib','weblib.php',3183],['lib','weblib.php',3483],['lib','weblib.php',3518],['lib','weblib.php',3593],['backup/cc/cc_lib','cc_converter_basiclti.php',29],['lib/html2text','Html2Text.php',232],['mod/assign/feedback/editpdf/classes','annotation.php',66],['lib/pear/HTML/QuickForm/Renderer','Array.php',143],['question/engine','lib.php',774],['question/engine','lib.php',1011],['question/engine','lib.php',1059],['lib/jabber/XMPP','XMLObj.php',76],['lib/horde/framework/Horde/Exception','PermissionDenied.php',15],['lib/editor/atto','adminlib.php',109],['lib/pear/HTML/QuickForm/Renderer','Tableless.php',116],['grade/report/history/classes/output','tablelog.php',72],['lib/google/src/Google/IO','Curl.php',38],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',31],['lib/pear/HTML/QuickForm','hiddenselect.php',41],['backup/util/ui','backup_ui_setting.class.php',70],['backup/util/ui','backup_ui_setting.class.php',200],['backup/util/ui','backup_ui_setting.class.php',398],['backup/util/ui','backup_ui_setting.class.php',504],['backup/util/ui','backup_ui_setting.class.php',583],['lib/adodb/drivers','adodb-mysqlpo.inc.php',35],['lib/adodb/drivers','adodb-mysqlpo.inc.php',82],['lib/adodb/drivers','adodb-mysqlpo.inc.php',119],['lib/google/src/Google/Service','Blogger.php',50],['backup/util/xml/output','file_xml_output.class.php',37],['lib/form','tags.php',75],['admin/tool/installaddon/classes','installer.php',219],['lib/htmlpurifier/HTMLPurifier/AttrDef','Enum.php',30],['lib/simplepie/library/SimplePie','IRI.php',252],['comment','locallib.php',39],['question/engine','states.php',61],['lib/spout/src/Spout/Reader/XLSX/Helper','CellValueFormatter.php',52],['lib/google/src/Google/Service','Dataflow.php',45],['mod/data','locallib.php',66],['mod/data','locallib.php',433],['lib/horde/framework/Horde','Variables.php',60],['backup/util/ui','base_ui.class.php',84],['lib/simplepie/library/SimplePie','Registry.php',99],['cache/locks/file','lib.php',66],['question/classes/statistics/responses','analysis_for_class.php',68],['lib/filebrowser','file_info_stored.php',51],['tag/classes/output','tagcollname.php',42],['competency/classes','persistent.php',54],['admin/tool/lp/classes/output','competency_plan_navigation.php',54],['lib/phpexcel/PHPExcel/Cell','DataValidation.php',146],['lib/pear/HTML/QuickForm','textarea.php',48],['lib/lessphp','Visitor.php',14],['lib/google/src/Google/Service','CloudUserAccounts.php',52],['question/classes/bank','column_base.php',44],['lib/minify/lib/MrClay','Cli.php',74],['lib','outputcomponents.php',80],['lib','outputcomponents.php',204],['lib','outputcomponents.php',469],['lib','outputcomponents.php',523],['lib','outputcomponents.php',589],['lib','outputcomponents.php',665],['lib','outputcomponents.php',783],['lib','outputcomponents.php',925],['lib','outputcomponents.php',1009],['lib','outputcomponents.php',2183],['lib','outputcomponents.php',2222],['lib','outputcomponents.php',2295],['lib','outputcomponents.php',2376],['lib','outputcomponents.php',2579],['lib','outputcomponents.php',2627],['lib','outputcomponents.php',2687],['lib','outputcomponents.php',2860],['lib','outputcomponents.php',3030],['lib','outputcomponents.php',3134],['lib','outputcomponents.php',3201],['lib','outputcomponents.php',3329],['lib','outputcomponents.php',3613],['lib','outputcomponents.php',3642],['lib','outputcomponents.php',3668],['lib','outputcomponents.php',3690],['lib','outputcomponents.php',3719],['lib','outputcomponents.php',3751],['lib/google/src/Google/Service','Pagespeedonline.php',39],['lib/phpexcel/PHPExcel','Cell.php',114],['lib/dml','sqlsrv_native_moodle_recordset.php',40],['repository/wikimedia','wikimedia.php',35],['lib/phpexcel/PHPExcel/Style','Fill.php',81],['lib/google/src/Google/Service','Cloudresourcemanager.php',42],['lib/editor/tinymce/classes','plugin.php',49],['mod/wiki/parser/markups','html.php',21],['lib/simplepie/library/SimplePie/Parse','Date.php',536],['lib/horde/framework/Horde/Support','Inflector.php',115],['question/type/gapselect','question.php',55],['lib/google/src/Google','Config.php',33],['badges/criteria','award_criteria_activity.php',45],['backup/util/xml/output','xml_output.class.php',52],['backup/util/xml/output','xml_output.class.php',158],['course/format/topics','renderer.php',38],['lib/adodb/drivers','adodb-oci8po.inc.php',33],['lib/adodb/drivers','adodb-oci8po.inc.php',99],['mod/workshop/allocation/random','lib.php',52],['mod/workshop/allocation/random','lib.php',727],['backup/util/structure','base_final_element.class.php',38],['backup/util/structure','base_final_element.class.php',239],['backup/util/structure','base_final_element.class.php',256],['lib/htmlpurifier/HTMLPurifier','Zipper.php',25],['lib/horde/framework/Horde/Imap/Client/Data','Thread.php',41],['lib/mustache/src/Mustache/Exception','UnknownHelperException.php',22],['backup/util/settings/activity','activity_backup_setting.class.php',25],['lib/filestorage','tgz_packer.php',749],['lib/filestorage','tgz_packer.php',831],['tag/classes','index_builder.php',96],['lib/pear/HTML/QuickForm','reset.php',37],['lib/classes/lock','lock.php',55],['admin/roles/classes','assign_user_selector_base.php',40],['backup/util/output','output_controller.class.php',44],['question/type/randomsamatch','question.php',114],['lib/google/src/Google/Service','Customsearch.php',38],['lib/lessphp/Tree','Extend.php',28],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',215],['lib/google/src/Google/Service','TagManager.php',67],['question/type/gapselect/tests','edit_form_test.php',41],['mod/lesson','locallib.php',2004],['mod/lesson','locallib.php',2611],['backup/util/helper','restore_structure_parser_processor.class.php',41],['course','renderer.php',52],['backup/util/xml/parser/processors','selective_exact_parser_processor.class.php',35],['lib','modinfolib.php',429],['lib','modinfolib.php',1665],['lib','modinfolib.php',2492],['lib','tablelib.php',128],['lib','tablelib.php',1468],['lib','tablelib.php',1633],['lib','tablelib.php',1698],['user/filters','cohort.php',36],['user/filters','text.php',37],['lib','outputrenderers.php',120],['lib','outputrenderers.php',285],['lib','outputrenderers.php',408],['lib','outputrenderers.php',4578],['lib','outputrenderers.php',4831],['repository','lib.php',116],['repository','lib.php',533],['lib','adminlib.php',791],['lib','adminlib.php',1138],['lib','adminlib.php',1212],['lib','adminlib.php',1355],['lib','adminlib.php',1556],['lib','adminlib.php',1928],['lib','adminlib.php',2040],['lib','adminlib.php',2106],['lib','adminlib.php',2199],['lib','adminlib.php',2260],['lib','adminlib.php',2302],['lib','adminlib.php',2341],['lib','adminlib.php',2429],['lib','adminlib.php',2463],['lib','adminlib.php',2621],['lib','adminlib.php',2706],['lib','adminlib.php',2935],['lib','adminlib.php',3091],['lib','adminlib.php',3233],['lib','adminlib.php',3324],['lib','adminlib.php',3488],['lib','adminlib.php',3571],['lib','adminlib.php',3682],['lib','adminlib.php',3833],['lib','adminlib.php',4067],['lib','adminlib.php',4134],['lib','adminlib.php',4352],['lib','adminlib.php',4381],['lib','adminlib.php',4410],['lib','adminlib.php',4434],['lib','adminlib.php',4464],['lib','adminlib.php',4500],['lib','adminlib.php',4535],['lib','adminlib.php',4567],['lib','adminlib.php',4657],['lib','adminlib.php',4690],['lib','adminlib.php',4748],['lib','adminlib.php',4790],['lib','adminlib.php',4814],['lib','adminlib.php',4840],['lib','adminlib.php',4863],['lib','adminlib.php',4880],['lib','adminlib.php',4925],['lib','adminlib.php',4943],['lib','adminlib.php',5002],['lib','adminlib.php',5045],['lib','adminlib.php',5080],['lib','adminlib.php',5123],['lib','adminlib.php',5206],['lib','adminlib.php',5336],['lib','adminlib.php',5378],['lib','adminlib.php',5423],['lib','adminlib.php',5480],['lib','adminlib.php',5496],['lib','adminlib.php',5552],['lib','adminlib.php',5777],['lib','adminlib.php',5831],['lib','adminlib.php',5885],['lib','adminlib.php',5902],['lib','adminlib.php',5950],['lib','adminlib.php',5992],['lib','adminlib.php',6043],['lib','adminlib.php',6099],['lib','adminlib.php',6328],['lib','adminlib.php',6508],['lib','adminlib.php',6688],['lib','adminlib.php',6782],['lib','adminlib.php',6931],['lib','adminlib.php',7088],['lib','adminlib.php',7712],['lib','adminlib.php',8147],['lib','adminlib.php',8330],['lib','adminlib.php',8617],['lib','adminlib.php',8764],['lib','adminlib.php',8924],['lib','adminlib.php',9071],['lib','adminlib.php',9235],['lib','adminlib.php',9428],['lib','adminlib.php',9482],['lib','adminlib.php',9544],['lib','adminlib.php',9589],['lib','adminlib.php',9626],['backup/cc/cc_lib','cc_organization.php',47],['backup/cc/cc_lib','cc_organization.php',145],['lib/phpexcel/PHPExcel/Chart','DataSeriesValues.php',81],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',34],['question/type/numerical','questiontype.php',507],['auth/mnet','auth.php',35],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',68],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',29],['auth/imap','auth.php',35],['tag/classes/output','taglist.php',54],['lib','pdflib.php',161],['lib/phpexcel/PHPExcel/RichText','TextElement.php',35],['lib/dml','database_column_info.php',112],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportExtension.php',33],['mod/wiki/editors','wikieditor.php',36],['lib/lessphp/SourceMap','Base64VLQ.php',67],['repository/s3','lib.php',44],['admin/tool/uploadcourse/classes','course.php',111],['lib/google/src/Google/Service','Replicapoolupdater.php',51],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',25],['lib/bennu','iCalendar_components.php',21],['lib/bennu','iCalendar_components.php',333],['lib/bennu','iCalendar_components.php',355],['lib/bennu','iCalendar_components.php',433],['lib/bennu','iCalendar_components.php',513],['lib/bennu','iCalendar_components.php',551],['lib/bennu','iCalendar_components.php',602],['lib/bennu','iCalendar_components.php',659],['lib/bennu','iCalendar_components.php',679],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',102],['mod/feedback/item','feedback_item_class.php',28],['lib/adodb/drivers','adodb-mssql_n.inc.php',245],['lib','badgeslib.php',133],['lib/pear/HTML/QuickForm','text.php',38],['lib/simplepie/library/SimplePie','Enclosure.php',219],['calendar/classes','rrule_manager.php',182],['auth/webservice','auth.php',35],['lib','outputrequirementslib.php',171],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',44],['lib','questionlib.php',1261],['lib','questionlib.php',1505],['lib','uploadlib.php',40],['lib/spout/src/Spout/Writer/Common/Helper','ZipHelper.php',28],['lib/google/src/Google/Service','Cloudsearch.php',40],['backup/util/structure','backup_nested_element.class.php',44],['lib/spout/src/Spout/Writer/Common','Sheet.php',39],['question/behaviour','behaviourbase.php',50],['blocks/rss_client/classes/output','footer.php',47],['lib/dtl','file_xml_database_importer.php',34],['admin/roles/classes','capability_table_with_risks.php',45],['lib/adodb/drivers','adodb-mssql.inc.php',110],['lib/adodb/drivers','adodb-mssql.inc.php',870],['lib/adodb/drivers','adodb-mssql.inc.php',1077],['lib/google/src/Google/Service','Bigquery.php',62],['lib/google/src/Google/Service','ShoppingContent.php',50],['mod/lti','OAuth.php',73],['mod/lti','OAuth.php',89],['mod/lti','OAuth.php',244],['mod/lti','OAuth.php',499],['repository/equella','lib.php',42],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',80],['backup/cc/cc_lib','cc_converter_quiz.php',33],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',60],['lib/phpexcel/PHPExcel/Shared/trend','polynomialBestFitClass.php',199],['backup/util/helper','restore_decode_processor.class.php',47],['backup/util/helper','restore_decode_processor.class.php',182],['cache/classes','helper.php',90],['lib/simplepie/library/SimplePie','Credit.php',81],['lib/classes','chart_series.php',62],['lib/classes/dml','recordset_walk.php',64],['lib/google/src/Google/Service','Webmasters.php',47],['lib/tcpdf/include/barcodes','qrcode.php',631],['backup/moodle2','backup_settingslib.php',42],['backup/moodle2','backup_settingslib.php',138],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',40],['course/tests/fixtures','course_capability_assignment.php',60],['mod/forum/classes','subscriber_selector_base.php',53],['lib','blocklib.php',54],['lib','blocklib.php',152],['report/loglive/classes','table_log.php',50],['lib','navigationlib.php',147],['lib','navigationlib.php',1015],['lib','navigationlib.php',2825],['lib','navigationlib.php',3086],['lib','navigationlib.php',3412],['lib','navigationlib.php',3459],['lib','navigationlib.php',4888],['lib','navigationlib.php',5070],['lib/phpexcel/PHPExcel/Shared/JAMA','CholeskyDecomposition.php',41],['grade/report/history/classes/output','user_button.php',40],['user/filters','courserole.php',34],['lib/phpexcel/PHPExcel','IOFactory.php',69],['lib/lessphp/Tree','Color.php',15],['lib/phpexcel/PHPExcel/Worksheet','MemoryDrawing.php',70],['lib/adodb/drivers','adodb-vfp.inc.php',72],['lib/horde/framework/Horde/Support','Backtrace.php',20],['lib/google/src/Google/Service','Clouddebugger.php',50],['lib/horde/framework/Horde/Exception','NotFound.php',15],['admin/tool/lp/classes/output','user_competency_course_navigation.php',55],['lib/lessphp/Tree','UnicodeDescriptor.php',14],['lib/phpexcel/PHPExcel/Worksheet','PageSetup.php',277],['grade/report/singleview/classes/local/ui','bulk_insert.php',40],['lib','mathslib.php',45],['lib/filestorage','tgz_extractor.php',119],['lib/horde/framework/Horde/Imap/Client/Interaction/Command','Continuation.php',42],['lib/horde/framework/Horde/Imap/Client','Exception.php',247],['filter/emoticon/tests','filter_test.php',68],['mnet/xmlrpc','xmlparser.php',15],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',31],['admin/roles/classes','capability_table_base.php',51],['lib/simplepie/library/SimplePie','Item.php',82],['lib/form','selectgroups.php',57],['auth/shibboleth','auth.php',38],['admin/tool/langimport/classes','controller.php',48],['lib/form','warning.php',49],['lib/filestorage','stored_file.php',63],['grade/grading/form/guide','guideeditor.php',49],['lib/pear/HTML/QuickForm','group.php',80],['backup/moodle2','restore_subplugin.class.php',45],['grade/export','lib.php',60],['grade/export','lib.php',625],['lib/phpexcel/PHPExcel/Style','NumberFormat.php',98],['backup/moodle2','backup_section_task.class.php',40],['lib/htmlpurifier/HTMLPurifier','Config.php',100],['lib','flickrlib.php',53],['mod/assign/classes/output','grading_app.php',59],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',47],['user/profile/field/menu','field.class.php',39],['lib/spout/src/Spout/Writer/Common/Internal','AbstractWorkbook.php',30],['lib/portfolio','exporter.php',113],['lib','ddllib.php',80],['lib','ddllib.php',93],['lib','ddllib.php',107],['lib','ddllib.php',126],['lib','ddllib.php',140],['lib/horde/framework/Horde/Crypt','Blowfish.php',54],['lib/horde/framework/Horde','Secret.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef','Integer.php',36],['lib/classes/update','info.php',48],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',31],['lib/lessphp/Tree','Anonymous.php',21],['admin/tool/lp/classes','course_competencies_form_element.php',43],['lib/lessphp/Tree','Comment.php',17],['auth/cas/CAS/CAS','OutOfSequenceBeforeAuthenticationCallException.php',47],['question/type/calculatedsimple','edit_calculatedsimple_form.php',72],['lib/adodb/drivers','adodb-mysql.inc.php',54],['lib/adodb/drivers','adodb-mysql.inc.php',717],['lib/adodb/drivers','adodb-mysql.inc.php',880],['enrol/ldap','lib.php',43],['mod/quiz/report/statistics','statistics_table.php',45],['lib/form','listing.php',68],['lib/google/src/Google/Service','Container.php',43],['mod/quiz','accessmanager.php',45],['lib/classes/message/inbound','processing_failed_exception.php',36],['blocks/online_users/classes','fetcher.php',45],['lib/pear/HTML/QuickForm','checkbox.php',48],['auth/cas/CAS/CAS','OutOfSequenceBeforeProxyException.php',48],['mod/lti/service/toolproxy/classes/local/service','toolproxy.php',41],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','URI.php',15],['lib/classes','chart_axis.php',65],['mod/glossary/classes','entry_query_builder.php',83],['mod/feedback/item/label','lib.php',26],['lib/adodb/drivers','adodb-mssqlnative.inc.php',131],['lib/adodb/drivers','adodb-mssqlnative.inc.php',847],['lib/adodb/drivers','adodb-mssqlnative.inc.php',1099],['lib/horde/framework/Horde/Imap/Client','Ids.php',78],['lib/form','editor.php',62],['lib','environmentlib.php',1258],['mod/workshop','fileinfolib.php',43],['mod/workshop','fileinfolib.php',198],['mod/feedback/classes','templates_table.php',39],['tag/classes','manage_table.php',44],['lib/adodb/drivers','adodb-odbc_db2.inc.php',115],['lib/adodb/drivers','adodb-odbc_db2.inc.php',309],['backup/cc/cc_lib/gral_lib','cssparser.php',21],['lib/horde/framework/Horde/Support','Array.php',21],['lib/google/src/Google/Service','GroupsMigration.php',40],['admin/tool/lp/classes/output','user_evidence_list_page.php',61],['lib/google/src/Google/Service','Audit.php',39],['lib/simplepie/library/SimplePie','File.php',68],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',62],['enrol/lti/classes','manage_table.php',62],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',69],['question/type','questionbase.php',124],['question/type','questionbase.php',438],['question/type','questionbase.php',531],['question/type','questionbase.php',750],['question/type','questionbase.php',835],['question/type','questionbase.php',868],['question/type','questionbase.php',914],['question/type','questionbase.php',1013],['question/type/ddimageortext','question.php',64],['question/type/ddimageortext','question.php',122],['lib','excellib.class.php',47],['lib','excellib.class.php',155],['lib','excellib.class.php',456],['lib/minify/lib','CSSmin.php',43],['lib/dml','moodle_temptables.php',51],['lib/minify/lib/Minify/Cache','ZendPlatform.php',23],['backup/util/xml/parser','progressive_parser.class.php',79],['backup/util/xml/parser','progressive_parser.class.php',305],['blocks/rss_client/classes/output','block.php',47],['question/type/ddmarker','question.php',417],['question/type/ddmarker','question.php',469],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Percentage.php',18],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',51],['backup/util/helper','convert_helper.class.php',378],['lib/classes/update','validator.php',265],['lib/lessphp/Tree','Attribute.php',16],['admin/tool/generator/classes','backend.php',84],['backup/util/loggers','file_logger.class.php',35],['lib/adodb','adodb-exceptions.inc.php',30],['lib/google/src/Google','Client.php',70],['user/filters','profilefield.php',36],['backup/util/helper','restore_inforef_parser_processor.class.php',37],['cache/tests/fixtures','lib.php',326],['mod/lti/service/profile/classes/local/resource','profile.php',43],['competency/classes','invalid_persistent_exception.php',38],['backup/util/plan','backup_plan.class.php',36],['backup/util/plan','backup_plan.class.php',130],['lib/phpexcel/PHPExcel/Writer/Excel2007','WriterPart.php',63],['backup/util/settings','setting_dependency.class.php',68],['backup/util/settings','setting_dependency.class.php',175],['backup/util/settings','setting_dependency.class.php',328],['backup/util/settings','setting_dependency.class.php',439],['backup/util/settings','setting_dependency.class.php',465],['backup/util/settings','setting_dependency.class.php',491],['backup/util/settings','setting_dependency.class.php',556],['backup/util/xml','xml_writer.class.php',57],['backup/util/xml','xml_writer.class.php',284],['enrol/imsenterprise','locallib.php',38],['enrol/imsenterprise','locallib.php',115],['lib/dml','moodle_database.php',139],['search/classes','base.php',69],['admin/tool/lp/classes/output','competency_summary.php',54],['lib','upgradelib.php',45],['lib','upgradelib.php',61],['lib','upgradelib.php',76],['lib','upgradelib.php',94],['lib','upgradelib.php',111],['lib/htmlpurifier/HTMLPurifier/AttrTransform','NameSync.php',11],['mod/workshop/form/rubric','lib.php',105],['grade','lib.php',103],['grade','lib.php',927],['grade','lib.php',1089],['grade','lib.php',2053],['grade','lib.php',2213],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',32],['lib/phpexcel/PHPExcel/Reader/Excel5','RC4.php',35],['lib/google/src/Google/Service','Datastore.php',46],['admin/tool/lpmigrate/classes','framework_processor.php',98],['lib/dtl','database_importer.php',61],['lib/horde/framework/Horde/Imap/Client/Password','Xoauth2.php',44],['badges/lib','awardlib.php',55],['backup/util/helper','backup_array_iterator.class.php',39],['admin/tool/monitor/classes','subscription.php',43],['question/type/calculated','edit_calculated_form.php',51],['lib/spout/src/Spout/Reader/XLSX/Helper/SharedStringsCaching','FileBasedStrategy.php',57],['lib/form','datetimeselector.php',72],['lib/horde/framework/Horde/Imap/Client','Base.php',153],['lib/classes','collator.php',58],['admin/tool/lp/classes','course_competency_statistics.php',48],['lib/google/src/Google/Service','Storage.php',57],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',28],['lib/lessphp/Tree','Paren.php',14],['mod/lti/classes','service_exception_handler.php',63],['lib/tcpdf/include/barcodes','pdf417.php',523],['mod/assign/feedback/offline','importgradeslib.php',66],['lib/filestorage','file_exceptions.php',36],['lib/filestorage','file_exceptions.php',57],['lib/filestorage','file_exceptions.php',89],['lib/filestorage','file_exceptions.php',108],['lib/filestorage','file_exceptions.php',129],['lib/horde/framework/Horde/Mail/Transport','Smtp.php',100],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',17],['question/engine/upgrade','upgradelib.php',283],['question/engine/upgrade','upgradelib.php',384],['question/type/numerical','question.php',323],['lib/pear/PEAR','Exception.php',107],['course/format','renderer.php',44],['lib/dml','oci_native_moodle_recordset.php',34],['question/behaviour','behaviourtypebase.php',133],['lib/pear/HTML','QuickForm.php',246],['lib/pear/HTML','QuickForm.php',1979],['backup/util/structure','base_atom.class.php',41],['backup/util/structure','base_atom.class.php',114],['backup/util/structure','base_atom.class.php',135],['backup/util/structure','base_atom.class.php',156],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',39],['lib/google/src/Google/Auth','LoginTicket.php',37],['lib/adodb/drivers','adodb-csv.inc.php',41],['lib/adodb/drivers','adodb-csv.inc.php',196],['user/filters','yesno.php',33],['mod/wiki/parser','parser.php',98],['lib/htmlpurifier/HTMLPurifier/Token','Comment.php',19],['lib/phpexcel/PHPExcel/Calculation','FormulaParser.php',87],['backup/cc/cc_lib','cc_assesment_truefalse.php',27],['lib/htmlpurifier/HTMLPurifier','Encoder.php',10],['admin/tool/lpmigrate/classes/form','migrate_framework.php',45],['backup/util/xml/parser/tests','parser_test.php',797],['lib/htmlpurifier/HTMLPurifier/AttrTransform','EnumToCSS.php',34],['lib/tests','medialib_test.php',644],['lib/google/src/Google/Service','QPXExpress.php',39],['tag/classes/output','tagname.php',41],['lib/mustache/src/Mustache','Context.php',20],['lib/adodb/drivers','adodb-oracle.inc.php',32],['lib/adodb/drivers','adodb-oracle.inc.php',224],['backup/moodle2','restore_section_task.class.php',42],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Composite.php',25],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Nofollow.php',16],['mod/forum/classes/output','forum_post.php',110],['admin/tool/assignmentupgrade','locallib.php',50],['admin/tool/assignmentupgrade','locallib.php',93],['repository/googledocs','lib.php',65],['cache/stores/memcache','lib.php',120],['lib/filestorage','file_storage.php',78],['admin/tool/monitor/classes/output/managerules','renderable.php',56],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',45],['lib/form','duration.php',55],['lib','outputlib.php',480],['lib','outputlib.php',2038],['filter/tex','latex.php',13],['backup/moodle2','backup_course_task.class.php',39],['lib/adodb','adodb.inc.php',310],['lib/adodb','adodb.inc.php',3035],['lib/adodb','adodb.inc.php',3160],['lib/adodb','adodb.inc.php',3242],['lib/adodb','adodb.inc.php',4353],['lib/horde/framework/Horde/Support','Randomid.php',26],['lib/google/src/Google/Logger','File.php',51],['admin/roles/classes','allow_role_page.php',37],['mod/quiz/report/overview','overview_table.php',41],['lib/lessphp/Tree','Keyword.php',17],['lib/htmlpurifier/HTMLPurifier/Node','Comment.php',19],['question/type/ddmarker','questiontype.php',48],['mod/folder','renderer.php',159],['lib','portfoliolib.php',101],['tag/classes/output','tagcollsearchable.php',40],['webservice/soap/classes','wsdl.php',88],['lib/lessphp/Exception','Parser.php',30],['badges','renderer.php',973],['badges','renderer.php',1014],['badges','renderer.php',1078],['badges','renderer.php',1111],['badges','renderer.php',1137],['competency/classes/external','exporter.php',56],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',47],['lib/google/src/Google/Service','Genomics.php',63],['lib/phpexcel/PHPExcel/Writer','PDF.php',38],['lib/phpexcel/PHPExcel/Shared/trend','exponentialBestFitClass.php',125],['lib/google/src/Google/Service','Games.php',60],['backup/converter/moodle1','lib.php',725],['backup/converter/moodle1','lib.php',865],['backup/converter/moodle1','lib.php',1145],['backup/converter/moodle1','lib.php',1190],['backup/converter/moodle1','lib.php',1480],['backup/util/helper','restore_logs_processor.class.php',45],['backup/util/helper','restore_logs_processor.class.php',141],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Input.php',14],['lib/google/src/Google/Service','Licensing.php',40],['mod/workshop/form/comments','lib.php',99],['backup/util/settings/section','section_backup_setting.class.php',25],['lib/htmlpurifier/HTMLPurifier','Doctype.php',48],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Font.php',22],['lib/google/src/Google/Service','Fitness.php',58],['blocks/private_files','renderer.php',83],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',51],['enrol/flatfile','adminlib.php',35],['lib/xmldb','xmldb_object.php',55],['lib/google/src/Google/Service','Reports.php',47],['question/classes/statistics/responses','analysis_for_actual_response.php',70],['auth/pam','auth.php',53],['lib/horde/framework/Horde','Stream.php',50],['comment','lib.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',10],['lib/htmlpurifier/HTMLPurifier/Node','Text.php',35],['lib/phpexcel/PHPExcel/Worksheet','RowDimension.php',53],['lib/google/src/Google/Service','Gmail.php',64],['lib/google/src/Google/Service','Taskqueue.php',44],['lib/minify/lib/Minify','ImportProcessor.php',48],['lib/horde/framework/Horde/Mime','Related.php',32],['blocks','moodleblock.class.php',111],['lib/tcpdf','tcpdf_parser.php',92],['backup/util/plan','restore_structure_step.class.php',46],['blocks/rss_client/classes/output','channel_image.php',61],['lib/pear/HTML/QuickForm','hierselect.php',105],['question/type/numerical/tests','form_test.php',40],['badges/lib','backpacklib.php',40],['mod/workshop/allocation/manual','lib.php',51],['mod/quiz/report/responses','last_responses_table.php',39],['lib/simplepie','autoloader.php',62],['lib/spout/src/Spout/Common/Helper','StringHelper.php',21],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',121],['lib/pear/Crypt','CHAP.php',82],['lib/pear/Crypt','CHAP.php',170],['lib/pear/Crypt','CHAP.php',424],['lib/spout/src/Spout/Writer/Common/Helper','AbstractStyleHelper.php',22],['backup/util/xml/parser/processors','progressive_parser_processor.class.php',57],['mod/quiz/classes/question','qubaids_for_users_attempts.php',37],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',63],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',77],['lib/simplepie/library/SimplePie','gzdecode.php',186],['mod/wiki','renderer.php',540],['lib/adodb','adodb-active-recordx.inc.php',138],['availability/classes','result.php',46],['lib','accesslib.php',5352],['lib','accesslib.php',5897],['lib','accesslib.php',6167],['lib','accesslib.php',6408],['lib','accesslib.php',6595],['lib','accesslib.php',6827],['lib','accesslib.php',7049],['lib','accesslib.php',7291],['lib/phpexcel/PHPExcel/Shared/OLE','PPS.php',110],['grade/grading/form','lib.php',82],['grade/grading/form','lib.php',766],['question/engine','questionusage.php',78],['question/engine','questionusage.php',973],['auth/manual','auth.php',46],['question/engine/upgrade','behaviourconverters.php',78],['mod/wiki/diff','diff_nwiki.php',35],['mod/wiki/diff','diff_nwiki.php',50],['mod/wiki/diff','diff_nwiki.php',63],['mod/wiki/diff','diff_nwiki.php',76],['mod/wiki/diff','diff_nwiki.php',495],['mod/wiki/diff','diff_nwiki.php',640],['mod/wiki/diff','diff_nwiki.php',850],['mod/wiki/diff','diff_nwiki.php',901],['mod/wiki/diff','diff_nwiki.php',953],['lib/adodb/drivers','adodb-proxy.inc.php',28],['lib/classes/lock','file_lock_factory.php',57],['lib/google/src/Google/Auth','OAuth2.php',55],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Pixels.php',17],['lib/filebrowser','file_info_context_module.php',47],['auth/none','auth.php',34],['lib/simplepie/library/SimplePie/Cache','Base.php',70],['lib/htmlpurifier/HTMLPurifier','Queue.php',24],['lib/horde/framework/Horde/Text','Flowed.php',75],['admin/tool/log/store/legacy/classes/log','store.php',33],['lib/mustache/src/Mustache','HelperCollection.php',19],['backup/util/structure','backup_structure_processor.class.php',45],['backup/util/structure','backup_structure_processor.class.php',133],['admin/tool/lp/classes/output','related_competencies.php',47],['mod/quiz/classes/question/bank','custom_view.php',44],['files','renderer.php',1083],['lib/form','text.php',47],['lib/phpexcel/PHPExcel/Shared/trend','bestFitClass.php',398],['backup/cc','cc112moodle.php',59],['admin/tool/cohortroles/classes/output','cohort_role_assignments_table.php',45],['lib/horde/framework/Horde/Imap/Client/Data','Envelope.php',46],['lib/google/src/Google/Service','Logging.php',39],['lib/lessphp/Tree','Expression.php',16],['mod/lti/classes/local/ltiservice','service_base.php',63],['lib/phpexcel/PHPExcel/Reader','HTML.php',118],['search/engine/solr/classes','schema.php',60],['backup/util/xml/parser/processors','simplified_parser_processor.class.php',46],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',50],['lib/adodb/drivers','adodb-ado5.inc.php',42],['lib/adodb/drivers','adodb-ado5.inc.php',380],['mod/assign/feedback/editpdf/classes','comment.php',58],['cache/classes','interfaces.php',473],['lib/phpexcel/PHPExcel/Worksheet','Protection.php',157],['repository/merlot','lib.php',37],['lib/adodb/drivers','adodb-firebird.inc.php',69],['backup/util/settings','backup_setting.class.php',43],['lib/adodb/drivers','adodb-fbsql.inc.php',28],['lib/adodb/drivers','adodb-fbsql.inc.php',167],['mnet/xmlrpc','serverlib.php',674],['webservice/soap','lib.php',45],['admin/tool/log/store/database/classes/log','store.php',47],['lib/google/src/Google/Service','Doubleclicksearch.php',43],['lib/form','passwordunmask.php',46],['lib/lessphp/Tree','Variable.php',20],['report/log/classes','renderable.php',96],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',43],['question/classes/bank','view.php',70],['grade/report/singleview/classes/local/ui','range.php',38],['lib/simplepie/library/SimplePie/Cache','MySQL.php',80],['admin/roles/classes','define_role_table_basic.php',31],['backup/cc/cc_lib','cc_converter_resource.php',28],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',78],['blocks/rss_client','editfeed.php',36],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',55],['blocks/lp/classes/output','competencies_to_review_page.php',49],['lib/horde/framework/Horde/Crypt/Blowfish/Php','Base.php',318],['backup/util/loggers','base_logger.class.php',42],['backup/util/loggers','base_logger.class.php',187],['mod/assign/feedback/file','renderable.php',44],['backup/cc/cc_lib','cc_utils.php',313],['backup/cc/cc_lib','cc_utils.php',381],['backup/cc/cc_lib','cc_utils.php',437],['lib/adodb/drivers','adodb-db2.inc.php',66],['lib/adodb/drivers','adodb-db2.inc.php',731],['lib/adodb','adodb-xmlschema03.inc.php',136],['lib/adodb','adodb-xmlschema03.inc.php',270],['lib/adodb','adodb-xmlschema03.inc.php',678],['lib/adodb','adodb-xmlschema03.inc.php',823],['lib/adodb','adodb-xmlschema03.inc.php',1081],['lib/adodb','adodb-xmlschema03.inc.php',1399],['repository/youtube','lib.php',58],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',38],['auth/cas/CAS/CAS','GracefullTerminationException.php',48],['lib/adodb/drivers','adodb-sybase_ase.inc.php',25],['lib/adodb/drivers','adodb-sybase_ase.inc.php',115],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Background.php',20],['lib/adodb','adodb-memcache.lib.inc.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','FrameTarget.php',19],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',118],['lib/minify/lib/MrClay/Cli','Arg.php',82],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',117],['lib/simplepie','moodle_simplepie.php',50],['lib/simplepie','moodle_simplepie.php',121],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','FontFamily.php',11],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',80],['lib/spout/src/Spout/Common/Helper','FileSystemHelper.php',22],['lib/pear/HTML/QuickForm','button.php',37],['lib/google/src/Google/Service','Autoscaler.php',46],['lib/mustache/src/Mustache','Engine.php',63],['lib/google/src/Google/Http','MediaFileUpload.php',75],['lib/phpexcel/PHPExcel','Worksheet.php',327],['mod/assign','gradingtable.php',68],['lib/google/src/Google/Service','AdExchangeSeller.php',53],['question/engine/tests','helpers.php',582],['question/engine/tests','helpers.php',594],['question/engine/tests','helpers.php',608],['question/engine/tests','helpers.php',623],['question/engine/tests','helpers.php',637],['question/engine/tests','helpers.php',652],['question/engine/tests','helpers.php',665],['question/engine/tests','helpers.php',676],['question/engine/tests','helpers.php',1196],['repository/webdav','lib.php',38],['tag/classes/output','tagisstandard.php',39],['lib/google/src/Google/Service','Appsactivity.php',52],['badges/criteria','award_criteria_course.php',47],['lib','searchlib.php',53],['lib','searchlib.php',95],['lib/lessphp/Output','Mapped.php',39],['availability/classes','tree.php',118],['lib/lessphp/Tree','Javascript.php',20],['lib/horde/framework/Horde/Imap/Client','Cache.php',53],['lib/htmlpurifier/HTMLPurifier','AttrCollections.php',16],['lib/mustache/src/Mustache/Loader','InlineLoader.php',56],['repository/url','lib.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','SQLite3.php',293],['lib/lessphp/Tree','Ruleset.php',45],['tag/classes/output','tagindex.php',52],['backup/util/ui','backup_ui_stage.class.php',43],['backup/util/ui','backup_ui_stage.class.php',79],['backup/util/ui','backup_ui_stage.class.php',234],['backup/util/ui','backup_ui_stage.class.php',387],['backup/util/ui','backup_ui_stage.class.php',516],['backup/util/ui','backup_ui_stage.class.php',575],['grade/report/singleview/classes/local/screen','screen.php',67],['lib/tcpdf/include/barcodes','datamatrix.php',229],['lib/horde/framework/Horde/Imap/Client/Socket','Catenate.php',37],['lib/google/src/Google/Service','Prediction.php',51],['lib/classes/output','notification.php',101],['lib/lessphp/Tree','Unit.php',16],['backup/util/settings/course','course_backup_setting.class.php',25],['lib/spout/src/Spout/Writer','AbstractWriter.php',68],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','DenyElementDecorator.php',21],['lib','outputfactories.php',120],['lib','outputfactories.php',367],['lib','dtllib.php',66],['mod/assign','assignmentplugin.php',50],['mnet/service/enrol','locallib.php',48],['mnet/service/enrol','locallib.php',466],['mnet/service/enrol','locallib.php',537],['backup/cc/cc_lib','cc_version11.php',57],['availability/condition/completion/classes','condition.php',48],['admin/roles/classes','allow_override_page.php',31],['mod/workshop/allocation','lib.php',103],['lib/htmlpurifier/HTMLPurifier/AttrTransform','BoolToCSS.php',24],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',59],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',23],['lib/google/src/Google/Service','SiteVerification.php',43],['lib/phpexcel/PHPExcel/Calculation','Function.php',64],['availability/classes','capability_checker.php',49],['lib/google/src/Google/Service','Drive.php',76],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',12],['lib/phpexcel/PHPExcel/Shared/JAMA','LUDecomposition.php',56],['lib','setuplib.php',67],['lib','setuplib.php',113],['lib','setuplib.php',165],['lib','setuplib.php',184],['lib','setuplib.php',199],['lib','setuplib.php',219],['lib','setuplib.php',249],['lib','setuplib.php',271],['lib','setuplib.php',287],['lib','setuplib.php',309],['lib','setuplib.php',328],['lib','setuplib.php',346],['lib/form','textarea.php',50],['webservice/soap','locallib.php',57],['availability/classes','info.php',55],['lib/tcpdf','tcpdf_barcodes_1d.php',58],['lib/spout/src/Spout/Reader/XLSX/Helper','SheetHelper.php',49],['filter/urltolink/tests','filter_test.php',209],['lib/simplepie/library/SimplePie','Category.php',81],['admin/tool/lp/classes/output','manage_competencies_page.php',65],['lib/markdown','Markdown.php',99],['mod/assign','locallib.php',160],['mod/assign','locallib.php',8131],['lib/adodb/drivers','adodb-ldap.inc.php',48],['lib/adodb/drivers','adodb-ldap.inc.php',297],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',32],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',373],['lib','odslib.class.php',42],['lib','odslib.class.php',124],['lib','odslib.class.php',422],['lib','odslib.class.php',827],['lib/horde/framework/Horde/Crypt/Blowfish','Base.php',56],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',36],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',42],['lib/lessphp/Tree','Quoted.php',20],['mod/lesson','mod_form.php',36],['blocks/rss_client/classes/output','item.php',89],['lib/google/src/Google/Service','IdentityToolkit.php',38],['lib/horde/framework/Horde/Stream','Temp.php',25],['tag/classes/output','tagflag.php',39],['admin/tool/monitor/classes/output/managesubs','rules.php',56],['lib/htmlpurifier/HTMLPurifier/ChildDef','Table.php',57],['lib/behat/form_field','behat_form_field.php',59],['lib/phpexcel/PHPExcel/Worksheet/Drawing','Shadow.php',93],['lib/spout/src/Spout/Reader/ODS/Helper','CellValueFormatter.php',42],['tag/classes','collections_table.php',36],['lib/google/src/Google/Service','Spectrum.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','Length.php',19],['admin/tool/lp/classes/output','user_competency_summary.php',49],['lib/phpexcel/PHPExcel','NamedRange.php',65],['lib/pear/HTML/QuickForm','image.php',36],['lib/htmlpurifier/HTMLPurifier/AttrDef/URI','Host.php',15],['lib/form','searchableselector.php',44],['lib/phpexcel/PHPExcel/Shared/JAMA','SingularValueDecomposition.php',52],['lib/adodb/drivers','adodb-oci805.inc.php',51],['lib/google/src/Google','Service.php',28],['lib/google/src/Google/IO','Abstract.php',50],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',46],['lib/form','header.php',45],['question/type/randomsamatch/tests','helper.php',121],['mod/workshop/form/accumulative','lib.php',99],['lib/phpexcel/PHPExcel/Shared/trend','linearBestFitClass.php',89],['lib/form','submit.php',41],['report/log/classes','table_log.php',45],['admin/roles/classes','admins_potential_selector.php',30],['question/classes/engine/variants','least_used_strategy.php',51],['question/engine/upgrade','logger.php',42],['question/engine/upgrade','logger.php',87],['mod/data','lib.php',68],['mod/data','lib.php',2278],['mod/data','lib.php',2552],['mod/data','lib.php',2573],['backup/util/xml/parser/processors','grouped_parser_processor.class.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','NoSupportPop3.php',26],['mod/scorm','renderer.php',129],['lib/phpunit/classes','advanced_testcase.php',45],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',41],['backup/cc/cc_lib','cc_version1.php',57],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','LinkTypes.php',21],['tag/classes','areas_table.php',36],['lib/phpexcel/PHPExcel/Shared/trend','powerBestFitClass.php',125],['lib/portfolio/formats/leap2a','lib.php',62],['lib/portfolio/formats/leap2a','lib.php',258],['lib/portfolio/formats/leap2a','lib.php',503],['lib/google/src/Google/Service','Proximitybeacon.php',42],['lib/pear','PEAR.php',139],['lib/pear','PEAR.php',818],['competency/classes/external','persistent_exporter.php',42],['lib/google/src/Google/Service','Groupssettings.php',40],['lib/phpexcel/PHPExcel/Reader','CSV.php',87],['lib/horde/framework/Horde/Exception','LastError.php',16],['lib/google/src/Google/Service','Directory.php',134],['lib/google/src/Google/Service','Fusiontables.php',48],['question/type/missingtype','edit_missingtype_form.php',38],['lib/google/src/Google/Service','AdSenseHost.php',49],['lib/lessphp/Tree','Directive.php',20],['auth/ldap','auth.php',119],['auth/cas/CAS/CAS','CookieJar.php',46],['lib/phpexcel/PHPExcel/CachedObjectStorage','Wincache.php',245],['availability/condition/date/classes','condition.php',52],['lib/horde/framework/Horde/Mime','Mail.php',93],['lib','outputactions.php',60],['lib','outputactions.php',91],['lib','outputactions.php',148],['lib/horde/framework/Horde/Crypt/Blowfish','Mcrypt.php',47],['lib/classes','string_manager_standard.php',53],['repository/skydrive','microsoftliveapi.php',50],['user/filters','globalrole.php',35],['enrol/lti/ims-blti','OAuth.php',16],['enrol/lti/ims-blti','OAuth.php',32],['enrol/lti/ims-blti','OAuth.php',187],['enrol/lti/ims-blti','OAuth.php',451],['course/classes/output','course_module_name.php',46],['lib/google/src/Google/Service','Plus.php',52],['lib/horde/framework/Horde/Mime','Mdn.php',35],['lib/pear/HTML/QuickForm','html.php',36],['repository/s3','S3.php',193],['repository/s3','S3.php',2018],['repository/s3','S3.php',2374],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',39],['question/classes/bank/search','hidden_condition.php',42],['lib/htmlpurifier/HTMLPurifier/ChildDef','Empty.php',22],['lib/pear/HTML/QuickForm','element.php',73],['question/classes/statistics/responses','analysis_for_subpart.php',50],['admin/tool/log/classes','setting_managestores.php',30],['lib/google/src/Google/Service','Mirror.php',49],['lib/adodb/drivers','adodb-db2ora.inc.php',80],['lib/minify/lib/HTTP','Encoder.php',75],['mod/feedback/classes','completion.php',47],['admin/tool/uploadcourse/classes','processor.php',122],['lib/lessphp','Parser.php',78],['lib/adodb/drivers','adodb-sapdb.inc.php',36],['lib/adodb/drivers','adodb-sapdb.inc.php',179],['lib/ddl','sql_generator.php',175],['lib/google/src/Google/Service','AndroidEnterprise.php',51],['admin/tool/lp/classes/output','template_competencies_page.php',70],['lib/horde/framework/Horde/Support','ObjectStub.php',29],['mod/assignment/backup/moodle1','lib.php',223],['blocks','edit_form.php',47],['lib/simplepie/library/SimplePie/Cache','Memcache.php',81],['mod/quiz/report/statistics','statistics_question_table.php',49],['mod/workshop/form/numerrors','lib.php',102],['mod/quiz/classes','repaginate.php',49],['lib/classes/session','memcached.php',51],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',43],['lib/phpexcel/PHPExcel/Writer/PDF','Core.php',206],['mod/workshop','mod_form.php',43],['mod/assign/feedback/editpdf/fpdi','pdf_context.php',48],['availability/condition/profile/classes','condition.php',73],['lib/horde/framework/Horde/Imap/Client','DateTime.php',29],['auth/cas/CAS/CAS','Client.php',862],['lib/xhprof','xhprof_moodle.php',788],['lib/dtl','file_xml_database_exporter.php',36],['course','lib.php',3061],['lib/adodb/drivers','adodb-mssqlpo.inc.php',54],['lib/xmldb','xmldb_table.php',49],['lib/adodb/perf','perf-postgres.inc.php',92],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Filter.php',15],['question/type/ddmarker','shapes.php',40],['question/type/ddmarker','shapes.php',203],['question/type/ddmarker','shapes.php',267],['question/type/ddmarker','shapes.php',332],['question/type/ddmarker','shapes.php',470],['mod/lti/classes/local/ltiservice','response.php',58],['backup/util/helper','restore_users_parser_processor.class.php',43],['lib/pear/HTML','Common.php',79],['mod/glossary','locallib.php',481],['lib/adodb/perf','perf-mssqlnative.inc.php',70],['lib/adodb/perf','perf-mssql.inc.php',70],['backup/util/plan','base_plan.class.php',39],['backup/util/plan','base_plan.class.php',215],['backup/util/plan','restore_task.class.php',32],['backup/util/plan','restore_task.class.php',121],['lib/classes/event','base.php',124],['lib/form','checkbox.php',46],['admin/roles/classes','permissions_table.php',38],['lib/pear/HTML/QuickForm','submit.php',37],['auth/fc','auth.php',37],['enrol/ldap','settingslib.php',32],['enrol/ldap','settingslib.php',90],['enrol/ldap','settingslib.php',204],['lib/minify/lib/Minify/Cache','Memcache.php',22],['lib/lessphp/Tree','Condition.php',18],['admin/tool/lp/classes/output','plans_page.php',59],['lib/mustache/src/Mustache','Autoloader.php',19],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',52],['lib/phpexcel/PHPExcel','Comment.php',93],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','AlphaValue.php',6],['lib/lessphp/Tree','Url.php',17],['mod/lesson','override_form.php',58],['lib/form','button.php',45],['admin/tool/lp/classes/output','manage_templates_page.php',56],['lib/google/src/Google/Service','Playmoviespartner.php',44],['backup/util/ui','base_ui_stage.class.php',67],['backup/cc/cc_lib','cc_converters.php',75],['lib/dtl','database_mover.php',33],['enrol','locallib.php',125],['enrol','locallib.php',1256],['enrol','locallib.php',1379],['enrol','locallib.php',1430],['enrol','locallib.php',1463],['lib/htmlpurifier/HTMLPurifier','URI.php',58],['backup/moodle2','restore_course_task.class.php',41],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',40],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',221],['lib','xmlize.php',31],['lib','googleapi.php',52],['lib','googleapi.php',243],['grade/report/singleview/classes/local/ui','element.php',47],['lib/html2text','lib.php',43],['user/filters','lib.php',52],['user/filters','lib.php',272],['auth/cas/CAS/CAS/PGTStorage','Db.php',122],['lib/classes/lock','db_record_lock_factory.php',61],['lib/pear/HTML/QuickForm','link.php',47],['backup/cc/cc_lib','cc_asssesment.php',290],['backup/cc/cc_lib','cc_asssesment.php',345],['backup/cc/cc_lib','cc_asssesment.php',364],['backup/cc/cc_lib','cc_asssesment.php',415],['backup/cc/cc_lib','cc_asssesment.php',476],['backup/cc/cc_lib','cc_asssesment.php',486],['backup/cc/cc_lib','cc_asssesment.php',561],['backup/cc/cc_lib','cc_asssesment.php',585],['backup/cc/cc_lib','cc_asssesment.php',635],['backup/cc/cc_lib','cc_asssesment.php',668],['backup/cc/cc_lib','cc_asssesment.php',693],['backup/cc/cc_lib','cc_asssesment.php',788],['backup/cc/cc_lib','cc_asssesment.php',814],['backup/cc/cc_lib','cc_asssesment.php',838],['backup/cc/cc_lib','cc_asssesment.php',965],['backup/cc/cc_lib','cc_asssesment.php',971],['backup/cc/cc_lib','cc_asssesment.php',986],['backup/cc/cc_lib','cc_asssesment.php',1003],['backup/cc/cc_lib','cc_asssesment.php',1017],['backup/cc/cc_lib','cc_asssesment.php',1045],['backup/cc/cc_lib','cc_asssesment.php',1186],['backup/cc/cc_lib','cc_asssesment.php',1263],['backup/cc/cc_lib','cc_asssesment.php',1317],['backup/cc/cc_lib','cc_asssesment.php',1389],['backup/cc/cc_lib','cc_asssesment.php',1451],['backup/cc/cc_lib','cc_asssesment.php',1558],['backup/cc/cc_lib','cc_asssesment.php',1620],['backup/cc/cc_lib','cc_asssesment.php',1648],['backup/cc/cc_lib','cc_asssesment.php',1716],['backup/cc/cc_lib','cc_asssesment.php',2155],['backup/cc/cc_lib','cc_asssesment.php',2264],['backup/cc/cc_lib','cc_asssesment.php',2469],['lib/phpunit/classes','hint_resultprinter.php',37],['lib/horde/framework/Horde/Mail/Transport','Mail.php',53],['auth/pop3','auth.php',35],['lib/adodb/drivers','adodb-oci8.inc.php',106],['lib/adodb/drivers','adodb-oci8.inc.php',1539],['lib/adodb/drivers','adodb-oci8.inc.php',1805],['lib/classes/session','database.php',52],['backup/util/ui','restore_ui_components.php',81],['backup/util/ui','restore_ui_components.php',287],['backup/util/ui','restore_ui_components.php',382],['question/classes/bank/search','category_condition.php',60],['lib/google/src/Google/Auth','AssertionCredentials.php',53],['backup/util/plan','restore_plan.class.php',43],['backup/util/plan','restore_plan.class.php',203],['backup/util/xml/parser/processors','findpaths_parser_processor.class.php',35],['lib/phpexcel/PHPExcel/CalcEngine','Logger.php',63],['lib/jabber/XMPP','Log.php',67],['lib/horde/framework/Horde/Imap/Client/Exception','ServerResponse.php',44],['lib/lessphp/Tree','Assignment.php',15],['lib/dtl','string_xml_database_importer.php',34],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',62],['question/type/calculated','question.php',188],['question/type/calculated','question.php',303],['repository/recent','lib.php',39],['grade/report/singleview/classes/local/ui','text_attribute.php',42],['admin/webservice','lib.php',38],['lib','coursecatlib.php',194],['lib','coursecatlib.php',2782],['lib/google/src/Google/Service','Cloudtrace.php',43],['lib','filterlib.php',73],['lib','filterlib.php',377],['lib','filterlib.php',456],['lib/classes/lock','lock_factory.php',39],['lib/filebrowser','file_info_context_course.php',39],['lib/filebrowser','file_info_context_course.php',492],['lib/filebrowser','file_info_context_course.php',596],['lib/filebrowser','file_info_context_course.php',745],['enrol','renderer.php',426],['enrol','renderer.php',723],['question/classes/statistics/questions','calculated_for_subquestion.php',57],['backup/moodle2','backup_format_plugin.class.php',40],['admin/tool/lp/classes','course_competency_rule_form_element.php',45],['auth/cas/CAS/CAS','ProxyTicketException.php',46],['lib/phpunit/classes','basic_testcase.php',39],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',49],['backup/util/dbops','backup_dbops.class.php',37],['admin/tool/customlang','locallib.php',44],['admin/tool/customlang','locallib.php',405],['admin/tool/customlang','locallib.php',471],['backup/util/structure','backup_optigroup_element.class.php',51],['mod/quiz/report/grading','gradingsettings_form.php',44],['backup/util/plan','restore_step.class.php',32],['backup/util/plan','restore_step.class.php',104],['lib/form','hidden.php',44],['repository/filesystem','lib.php',48],['backup/controller','backup_controller.class.php',68],['backup/controller','backup_controller.class.php',409],['backup/util/helper','restore_log_rule.class.php',62],['tag/classes','tag.php',77],['lib/htmlpurifier/HTMLPurifier/AttrTransform','SafeParam.php',27],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',38],['lib/spout/src/Spout/Writer/Style','StyleBuilder.php',19],['lib/dml','sqlsrv_native_moodle_database.php',53],['user/filters','date.php',40],['auth/nologin','auth.php',35],['lib/google/src/Google','Model.php',35],['lib/horde/framework/Horde/Imap/Client/Socket','ClientSort.php',37],['lib/horde/framework/Horde/Imap/Client/Exception','SearchCharset.php',34],['lib/horde/framework/Horde/Support','StringStream.php',30],['lib/adodb/drivers','adodb-mysqli.inc.php',66],['lib/adodb/drivers','adodb-mysqli.inc.php',887],['lib/adodb/drivers','adodb-mysqli.inc.php',1193],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','ImportantDecorator.php',21],['lib/form','questioncategory.php',46],['lib/mustache/src/Mustache','Template.php',29],['backup/util/structure','base_nested_element.class.php',44],['backup/util/structure','base_nested_element.class.php',258],['lib/google/src/Google/Logger','Abstract.php',123],['backup/cc/cc_lib','cc_general.php',38],['lib/phpexcel/PHPExcel','ReferenceHelper.php',58],['lib/pear/HTML/QuickForm','password.php',37],['lib/dml','moodle_transaction.php',40],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',53],['lib/htmlpurifier/HTMLPurifier/AttrDef','Switch.php',29],['repository/flickr','lib.php',51],['lib/form','grading.php',57],['lib/classes/update','api.php',71],['backup/cc/cc_lib','cc_converter_lti.php',29],['backup/moodle2','backup_subplugin.class.php',44],['lib/portfolio','caller.php',67],['lib/classes/progress','display_if_slow.php',60],['lib/adodb/perf','perf-informix.inc.php',66],['lib/classes','chart_base.php',52],['lib/lessphp/Tree','Media.php',18],['lib/spout/src/Spout/Common/Escaper','XLSX.php',19],['grade/export/ods','grade_export_ods.php',24],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Length.php',23],['lib/google/src/Google/Service','Calendar.php',50],['lib/form','group.php',44],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',44],['lib/pear/HTML/QuickForm/Renderer','Object.php',75],['admin/tool/lp/classes/output','user_evidence_page.php',48],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',54],['grade/export/xls','grade_export_xls.php',24],['lib/classes/output','mustache_pix_helper.php',43],['lib/horde/framework/Horde/Imap/Client/Mailbox','List.php',46],['lib/google/src/Google/Auth','ComputeEngine.php',35],['cache/stores/session','lib.php',131],['lib/mustache/src/Mustache/Logger','StreamLogger.php',44],['admin/tool/log/store/database/backup/moodle2','backup_logstore_database_nested_element.php',43],['user','renderer.php',220],['lib/htmlpurifier/HTMLPurifier/ChildDef','Required.php',23],['availability/condition/grade/classes','condition.php',46],['lib/lessphp/Tree','RulesetCall.php',14],['blocks/rss_client/classes/output','feed.php',75],['lib/form','select.php',47],['lib/htmlpurifier/HTMLPurifier','ContentSets.php',33],['lib/lessphp/Visitor','toCSS.php',13],['lib','outputfragmentrequirementslib.php',40],['backup/util/ui','restore_moodleform.class.php',34],['lib/google/src/Google/Service','Cloudbilling.php',43],['lib/google/src/Google/Service','PlusDomains.php',72],['lib','externallib.php',37],['lib','externallib.php',531],['lib','externallib.php',562],['lib','externallib.php',593],['lib','externallib.php',622],['lib','externallib.php',648],['lib','externallib.php',778],['lib','externallib.php',813],['lib','externallib.php',984],['lib','externallib.php',1177],['blog','locallib.php',71],['blog','locallib.php',564],['blog','locallib.php',847],['blog','locallib.php',892],['blog','locallib.php',965],['blog','locallib.php',1016],['blog','locallib.php',1041],['blog','locallib.php',1051],['blog','locallib.php',1063],['blog','locallib.php',1084],['lib/phpexcel/PHPExcel/Worksheet','ColumnDimension.php',53],['auth/cas','auth.php',39],['lib','lexer.php',41],['lib','lexer.php',145],['lib','lexer.php',217],['lib/phpexcel/PHPExcel/Shared/JAMA','QRDecomposition.php',48],['lib/google/src/Google/Service','Exception.php',34],['lib/htmlpurifier/HTMLPurifier','Printer.php',21],['tag/classes/output','tagcloud.php',49],['lib/google/src/Google/Service','Storagetransfer.php',44],['user/filters','select.php',46],['cache/stores/mongodb','lib.php',116],['admin/tool/lp/classes/output','course_competencies_page.php',73],['lib/google/src/Google/Cache','Null.php',28],['lib','graphlib.php',1176],['lib/phpexcel/PHPExcel/Style','Protection.php',49],['lib/google/src/Google/Service','GamesConfiguration.php',42],['repository/dropbox','locallib.php',46],['lib/phpexcel/PHPExcel/Style','Alignment.php',100],['lib/htmlpurifier/HTMLPurifier','Language.php',63],['cache/stores/file','lib.php',117],['tag/classes/output','tagareashowstandard.php',41],['question/type/multianswer','edit_multianswer_form.php',63],['lib/htmlpurifier/HTMLPurifier/AttrDef/HTML','Bool.php',22],['mod/assign','renderable.php',41],['mod/assign','renderable.php',71],['mod/assign','renderable.php',103],['mod/assign','renderable.php',139],['mod/assign','renderable.php',191],['mod/assign','renderable.php',242],['mod/assign','renderable.php',291],['mod/assign','renderable.php',395],['mod/assign','renderable.php',531],['mod/assign','renderable.php',586],['mod/assign','renderable.php',670],['mod/assign','renderable.php',707],['mod/assign','renderable.php',747],['mod/assign','renderable.php',800],['mod/assign','renderable.php',854],['lib/form','selectwithlink.php',56],['backup/moodle2','backup_activity_task.class.php',45],['lib/phpmailer','class.phpmailer.php',633],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',39],['auth/db','auth.php',36],['lib/lessphp/Tree','Value.php',14],['lib/form','course.php',62],['question/engine','questionattemptstep.php',97],['question/engine','questionattemptstep.php',608],['cohort','locallib.php',37],['cohort','locallib.php',101],['badges/criteria','award_criteria.php',127],['lib/adodb/perf','perf-mysql.inc.php',86],['cache/stores/memcached','lib.php',133],['grade/report/singleview/classes/local/ui','empty_element.php',38],['lib/google/src/Google/Service','AppState.php',40],['lib/adodb/drivers','adodb-odbc_oracle.inc.php',107],['lib/pear/HTML/QuickForm/Renderer','Default.php',139],['tag/classes/output','tag.php',46],['question','previewlib.php',122],['backup/util/loggers','database_logger.class.php',40],['mod/forum/classes','potential_subscriber_selector.php',47],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',15],['lib/phpexcel/PHPExcel/Reader','SYLK.php',67],['lib/form','submitlink.php',47],['backup/util/dbops','restore_dbops.class.php',1788],['lib/xmldb','xmldb_index.php',56],['question','category_class.php',58],['question','category_class.php',160],['lib/google/src/Google/Service','Webfonts.php',38],['webservice/xmlrpc','locallib.php',41],['admin/roles/classes','check_users_selector.php',38],['lib/htmlpurifier/HTMLPurifier/AttrTransform','ImgSpace.php',24],['user/profile/field/checkbox','field.class.php',33],['lib/form','cancel.php',47],['lib/google/src/Google/Service','Resourceviews.php',57],['lib/phpexcel/PHPExcel/Style','Font.php',100],['lib/portfolio','plugin.php',445],['calendar','lib.php',2003],['calendar','lib.php',2774],['mod/wiki','pagelib.php',93],['mod/wiki','pagelib.php',380],['mod/wiki','pagelib.php',981],['mod/wiki','pagelib.php',1190],['mod/wiki','pagelib.php',2194],['mod/wiki','pagelib.php',2422],['tag/classes/output','tagfeed.php',43],['tag/classes/output','tagareaenabled.php',38],['backup/util/xml/parser/processors','selective_like_parser_processor.class.php',35],['mod/workshop','locallib.php',183],['mod/workshop','locallib.php',2976],['mod/workshop','locallib.php',3411],['mod/workshop','locallib.php',3647],['mod/workshop','locallib.php',3889],['mod/workshop','locallib.php',3975],['mod/workshop','locallib.php',4060],['mod/workshop','locallib.php',4079],['lib/form','advcheckbox.php',48],['backup/cc/cc_lib','cc_assesment_sfib.php',27],['cohort/classes/output','cohortidnumber.php',37],['lib/adodb/drivers','adodb-ado.inc.php',42],['lib/adodb/drivers','adodb-ado.inc.php',346],['lib/form','filepicker.php',53],['mod/assign','adminlib.php',41],['mod/assign','adminlib.php',102],['lib/tests/fixtures','test_renderer_factory.php',41],['backup/cc/cc_lib','cc_converter_label.php',28],['lib/htmlpurifier/HTMLPurifier','Lexer.php',152],['grade/report/singleview','lib.php',69],['backup/cc/cc_lib','cc_converter_page.php',28],['lib/google/src/Google/Logger','Psr.php',39],['lib/simplepie/library/SimplePie/HTTP','Parser.php',131],['backup/util/plan','backup_step.class.php',32],['backup/util/plan','backup_step.class.php',55],['lib/lessphp/Tree','Import.php',30],['lib/jabber/XMPP','XMPP_Old.php',45],['lib/phpexcel/PHPExcel/Worksheet','Drawing.php',37],['lib/google/src/Google/Service','Classroom.php',60],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',875],['admin/tool/lp/classes/external','competency_path_exporter.php',38],['cohort/classes/output','cohortname.php',37],['grade/report/overview','lib.php',76],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',66],['admin/roles/classes','admins_existing_selector.php',30],['lib/phpunit/classes','arraydataset.php',45],['question/engine','questionattempt.php',166],['question/engine','questionattempt.php',1532],['question/engine','questionattempt.php',1618],['question/engine','questionattempt.php',1703],['lib/horde/framework/Horde/Support','Uuid.php',23],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',27],['webservice/rest','lib.php',47],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',79],['backup/util/xml/output','memory_xml_output.class.php',37],['repository/flickr_public','image.php',34],['mod/lti/classes/local/ltiservice','resource_base.php',62],['admin/tool/lp/classes/output','template_plans_table.php',53],['mod/quiz','mod_form.php',48],['lib/simplepie/library/SimplePie','Caption.php',98],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Multiple.php',33],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',20],['lib/phpexcel/PHPExcel/Calculation','ExceptionHandler.php',30],['lib/htmlpurifier/HTMLPurifier/Token','Tag.php',33],['backup/moodle2','backup_theme_plugin.class.php',61],['mod/chat','chatd.php',78],['mod/chat','chatd.php',103],['lib/phpexcel/PHPExcel','DocumentSecurity.php',65],['lib/htmlpurifier/HTMLPurifier','URIDefinition.php',21],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',45],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',49],['lib/lessphp/Tree','Operation.php',19],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',461],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',1699],['backup/cc/cc_lib','cc_converter_folder.php',28],['backup/util/helper','restore_roles_parser_processor.class.php',39],['lib/simplepie/library/SimplePie','Locator.php',68],['lib/google/src/Google/Service','SQLAdmin.php',50],['lib/lessphp/Tree','DetachedRuleset.php',15],['admin/tool/assignmentupgrade','upgradableassignmentstable.php',49],['backup/cc','validator.php',30],['backup/cc','validator.php',116],['backup/cc','validator.php',202],['backup/cc','validator.php',230],['backup/cc','validator.php',236],['backup/cc','validator.php',242],['backup/cc','validator.php',248],['backup/cc','validator.php',254],['backup/cc','validator.php',260],['lib/horde/framework/Horde/Imap/Client/Interaction','Client.php',34],['mod/quiz','override_form.php',58],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',57],['lib/htmlpurifier/HTMLPurifier','Length.php',41],['backup/util/helper','restore_decode_rule.class.php',47],['backup/util/helper','restore_decode_rule.class.php',192],['lib/horde/framework/Horde/Imap/Client/Data','Sync.php',133],['lib/phpexcel/PHPExcel/Shared/trend','logarithmicBestFitClass.php',97],['lib/adodb/perf','perf-db2.inc.php',61],['lib/phpexcel/PHPExcel/Style','Supervisor.php',44],['lib/htmlpurifier/HTMLPurifier/AttrTransform','TargetBlank.php',17],['lib/ddl','database_manager.php',48],['lib/mustache/src/Mustache/Exception','UnknownFilterException.php',22],['admin/roles/classes','define_role_table_advanced.php',46],['lib/dml','oci_native_moodle_temptables.php',40],['lib/horde/framework/Horde/Stream','Existing.php',28],['enrol/manual','locallib.php',37],['enrol/manual','locallib.php',102],['availability/classes','multiple_messages.php',56],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',55],['admin/roles/classes','override_permissions_table_advanced.php',31],['lib/pear/Net','GeoIP.php',323],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',31],['lib/form','modgrade.php',78],['admin/tool/log/store/database/backup/moodle2','restore_logstore_database_subplugin.class.php',40],['cache/classes','config.php',80],['lib/pear/HTML/QuickForm','hidden.php',37],['question/type/calculated','datasetitems_form.php',72],['lib/tests','navigationlib_test.php',554],['lib/tests','navigationlib_test.php',612],['lib/tests','navigationlib_test.php',639],['lib/htmlpurifier/HTMLPurifier/AttrDef/CSS','Number.php',18],['lib/tests','completionlib_test.php',882],['admin/tool/generator/classes','site_backend.php',58],['lib/jabber/XMPP','XMLStream.php',171],['lib/simplepie/library/SimplePie','Sanitize.php',75],['cache/classes','factory.php',149],['lib/minify/lib/Minify/Cache','WinCache.php',20],['user/classes/output/myprofile','node.php',82],['lib/horde/framework/Horde/Stream','TempString.php',40],['lib/adodb/drivers','adodb-borland_ibase.inc.php',83],['mod/forum','locallib.php',55],['mod/forum','locallib.php',419],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',44],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',262],['lib/classes/update','code_manager.php',57],['search/engine/solr/classes','engine.php',103],['lib/horde/framework/Horde/Imap/Client/Interaction/Server','Tagged.php',36],['lib/google/src/Google/Service','Compute.php',89],['lib/phpexcel/PHPExcel/Style','Borders.php',113],['lib','completionlib.php',243],['lib/google/src/Google/Service','Pubsub.php',44],['lib/adodb/drivers','adodb-ads.inc.php',69],['lib/adodb/drivers','adodb-ads.inc.php',657],['lib/markdown','MarkdownExtra.php',56],['lib/minify/lib/Minify/Cache','XCache.php',22],['lib/google/src/Google/Service','YouTube.php',75],['lib/lessphp','Functions.php',15],['auth/cas/CAS/CAS','AuthenticationException.php',53],['mod/quiz','locallib.php',1923],['competency/classes/external','stored_file_exporter.php',45],['user/filters','checkbox.php',51],['backup/moodle2','restore_settingslib.php',86],['backup/moodle2','restore_settingslib.php',149],['lib/htmlpurifier/HTMLPurifier/Node','Element.php',39],['lib/pear/HTML/QuickForm','date.php',260],['lib/lessphp/SourceMap','Generator.php',82],['backup/util/plan','base_step.class.php',35],['backup/util/plan','base_step.class.php',127],['mod/lti/service/memberships/classes/local/service','memberships.php',50],['lib/google/src/Google/Cache','Apc.php',37],['backup/util/ui','restore_ui_stage.class.php',42],['backup/util/ui','restore_ui_stage.class.php',265],['backup/util/ui','restore_ui_stage.class.php',452],['backup/util/ui','restore_ui_stage.class.php',592],['backup/util/ui','restore_ui_stage.class.php',704],['backup/util/ui','restore_ui_stage.class.php',852],['backup/util/ui','restore_ui_stage.class.php',959],['backup/util/ui','restore_ui_stage.class.php',1100],['lib/pear/Auth','RADIUS.php',120],['lib/pear/Auth','RADIUS.php',579],['lib/pear/Auth','RADIUS.php',672],['lib/pear/Auth','RADIUS.php',879],['lib/adodb/drivers','adodb-ado_access.inc.php',46],['admin/tool/xmldb/actions','XMLDBAction.class.php',56],['backup/converter/moodle1','handlerlib.php',120],['backup/converter/moodle1','handlerlib.php',1710],['backup/converter/moodle1','handlerlib.php',1902],['backup/converter/moodle1','handlerlib.php',2155],['backup/controller','restore_controller.class.php',63],['backup/controller','restore_controller.class.php',519],['lib/google/src/Google/Http','Request.php',58],['lib/google/src/Google/Service','Dfareporting.php',99],['lib/google/src/Google/Service','Manager.php',60],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',73],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',30],['lib/google/src/Google/Service','CloudMonitoring.php',45],['lib/editor/tinymce/plugins/spellchecker/classes','SpellChecker.php',11],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',44],['lib/horde/framework/Horde/Mail/Transport','Sendmail.php',65],['lib','webdavlib.php',84],['lib/dml','pgsql_native_moodle_recordset.php',43],['lib/horde/framework/Horde/Support','Guid.php',24],['lib/mustache/src/Mustache','LambdaHelper.php',25],['question/engine/upgrade/tests','helper.php',45],['admin/tool/uploadcourse/classes','tracker.php',72],['grade/report/user','lib.php',188],['lib/adodb/drivers','adodb-sqlanywhere.inc.php',156],['auth/cas/CAS/CAS','OutOfSequenceBeforeClientException.php',47],['backup/util/plan','base_task.class.php',40],['backup/util/plan','base_task.class.php',277],['lib/adodb/drivers','adodb-db2oci.inc.php',220]], 1102],
'getmodifydefaultsql': ['getmodifydefaultsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to modify the default of the field in the table. ', [['lib/ddl','sql_generator.php',774],['lib/ddl','mssql_sql_generator.php',450]], 1],
'getrenameindexsql': ['getrenameindexsql', 'Given one xmldb_table and one xmldb_index, return the SQL statements needed to rename the index in the table ', [['lib/ddl','sqlite_sql_generator.php',328],['lib/ddl','sql_generator.php',1032]], 2],
'gettablename': ['gettablename', 'Given one xmldb_table, returns it\'s correct name, depending of all the parametrization Overridden to allow change of names in temp tables ', [['lib/ddl','oracle_sql_generator.php',110],['lib/ddl','sql_generator.php',257],['lib/ddl','mssql_sql_generator.php',119]], 36],
'getallreservedwords': ['getallreservedwords', 'Returns all reserved words in supported databases. Reserved words should be lowercase. ', [['lib/ddl','sql_generator.php',1365]], 4],
'getrenamekeysql': ['getrenamekeysql', 'Given one xmldb_table and one xmldb_key, return the SQL statements needed to rename the key in the table Experimental! Shouldn\'t be used at all! ', [['lib/ddl','sqlite_sql_generator.php',340],['lib/ddl','sql_generator.php',952]], 1],
'getcreatesequencesql': ['getcreatesequencesql', 'Returns the code (array of statements) needed to create one sequence for the xmldb_table and xmldb_field passed in. ', [['lib/ddl','oracle_sql_generator.php',219],['lib/ddl','sql_generator.php',1290]], 1],
'get_tables': ['get_tables', 'Return tables in database WITHOUT current prefix ', [['lib/dml','oci_native_moodle_database.php',384],['lib/dml','sqlite3_pdo_moodle_database.php',137],['lib/dml','pgsql_native_moodle_database.php',272],['lib/dml','mssql_native_moodle_database.php',349],['lib/dml','mysqli_native_moodle_database.php',512],['lib/dml','sqlsrv_native_moodle_database.php',407],['lib/dml/tests','dml_test.php',5536]], 36],
'getaddindexsql': ['getaddindexsql', 'Given one xmldb_table and one xmldb_index, return the SQL statements needed to add the index to the table. ', [['lib/ddl','sql_generator.php',993]], 3],
'getcommentsql': ['getcommentsql', '', [['lib/adodb/datadict','datadict-oci8.inc.php',288],['lib/ddl','sqlite_sql_generator.php',394],['lib/ddl','mysql_sql_generator.php',512],['lib/ddl','oracle_sql_generator.php',291],['lib/adodb','adodb-datadict.inc.php',186],['lib/ddl','mssql_sql_generator.php',627],['lib/ddl','postgres_sql_generator.php',213]], 2],
'getreffields': ['getreffields', 'Get the key reffields ', [['lib/xmldb','xmldb_key.php',131]], 10],
'getalterfieldsql': ['getalterfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to alter the field in the table. ', [['lib/ddl','sqlite_sql_generator.php',278],['lib/ddl','oracle_sql_generator.php',351],['lib/ddl','sql_generator.php',733],['lib/ddl','mssql_sql_generator.php',310],['lib/ddl','postgres_sql_generator.php',251]], 13],
'dispose': ['dispose', '', [['lib/classes/log','dummy_manager.php',35],['lib/dml','oci_native_moodle_database.php',225],['admin/tool/log/classes/log','store.php',38],['admin/tool/log/classes/helper','buffered_writer.php',119],['lib/dml','pgsql_native_moodle_database.php',187],['lib/dml','moodle_temptables.php',131],['lib/dml','mssql_native_moodle_database.php',247],['lib/dml','mysqli_native_moodle_database.php',475],['lib/dml','moodle_database.php',377],['admin/tool/log/store/legacy/classes/log','store.php',180],['admin/tool/log/store/database/classes/log','store.php',297],['admin/tool/log/classes/log','manager.php',188],['lib/classes/log','manager.php',47],['lib/ddl','sql_generator.php',187],['lib/dml','sqlsrv_native_moodle_database.php',259],['lib/dml','moodle_transaction.php',68],['lib/ddl','database_manager.php',58]], 47],
'gettypesql': ['gettypesql', 'Given one XMLDB Type, length and decimals, returns the DB proper SQL type. ', [['lib/ddl','sqlite_sql_generator.php',135],['lib/ddl','mysql_sql_generator.php',368],['lib/ddl','oracle_sql_generator.php',164],['lib/ddl','mssql_sql_generator.php',171],['lib/ddl','postgres_sql_generator.php',152]], 2],
'getkeysql': ['getkeysql', 'Given one correct xmldb_key, returns its specs ', [['lib/ddl','sqlite_sql_generator.php',97],['lib/ddl','sql_generator.php',529]], 5],
'getreftable': ['getreftable', 'Get the key reftable ', [['lib/xmldb','xmldb_key.php',123]], 8],
'get_prefix': ['get_prefix', 'Returns database table prefix Note: can be used before connect() ', [['lib/dml','moodle_database.php',162],['backup/util/loggers','base_logger.class.php',170]], 28],
'getindexes': ['getindexes', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',7566],['lib/xmldb','xmldb_table.php',256]], 18],
'getdecimals': ['getdecimals', 'Get the decimals ', [['lib/xmldb','xmldb_field.php',157]], 13],
'getdroptableextrasql': ['getdroptableextrasql', 'Returns the code (array of statements) needed to execute extra statements on table drop ', [['lib/ddl','oracle_sql_generator.php',305],['lib/ddl','sql_generator.php',1321]], 1],
'validatedefinition': ['validatedefinition', 'Validates the field restrictions. ', [['lib/xmldb','xmldb_field.php',752],['lib/xmldb','xmldb_object.php',410],['lib/xmldb','xmldb_table.php',704],['lib/xmldb','xmldb_index.php',330]], 5],
'getlength': ['getlength', 'Get the length ', [['lib/xmldb','xmldb_field.php',149],['lib/google/src/Google/Service','Genomics.php',2829]], 57],
'getcomment': ['getcomment', 'This function returns the comment of one xmldb_object ', [['lib/xmldb','xmldb_object.php',86],['lib/phpexcel/PHPExcel','Worksheet.php',2244],['lib/pear/HTML','Common.php',414],['lib/google/src/Google/Service','Calendar.php',3065],['lib/google/src/Google/Service','YouTube.php',4648],['lib/google/src/Google/Service','Dfareporting.php',9915],['lib/google/src/Google/Service','Dfareporting.php',10552],['lib/google/src/Google/Service','Dfareporting.php',17224],['lib/google/src/Google/Service','Dfareporting.php',17611]], 24],
'getdefaultvalue': ['getdefaultvalue', 'Give one xmldb_field, returns the correct "default value" for the current configuration ', [['lib/ddl','sql_generator.php',571],['lib/google/src/Google/Service','AndroidEnterprise.php',2008]], 2],
'setunique': ['setunique', 'Set the index unique ', [['lib/xmldb','xmldb_index.php',93]], 6],
'getdropdefaultsql': ['getdropdefaultsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop its default (usually invoked from getModifyDefaultSQL() ', [['lib/ddl','sqlite_sql_generator.php',378],['lib/ddl','mysql_sql_generator.php',494],['lib/ddl','oracle_sql_generator.php',552],['lib/ddl','mssql_sql_generator.php',506],['lib/ddl','postgres_sql_generator.php',392]], 5],
'getdefault': ['getdefault', 'Get the default ', [['lib/xmldb','xmldb_field.php',190],['lib/google/src/Google/Service','YouTube.php',9541],['lib/google/src/Google/Service','YouTube.php',11048],['lib/google/src/Google/Service','Dfareporting.php',15831]], 27],
'get_manager': ['get_manager', 'Returns the sql generator used for db manipulation. Used mostly in upgrade.php scripts. ', [['lib/dml','moodle_database.php',1080]], 229],
'getreservedwords': ['getreservedwords', 'Returns an array of reserved words (lowercase) for this DB ', [['lib/ddl','sqlite_sql_generator.php',422],['lib/ddl','mysql_sql_generator.php',563],['lib/ddl','oracle_sql_generator.php',672],['lib/ddl','sql_generator.php',1355],['lib/ddl','mssql_sql_generator.php',648],['lib/ddl','postgres_sql_generator.php',509]], 2],
'getrenamefieldextrasql': ['getrenamefieldextrasql', 'Returns the code (array of statements) needed to execute extra statements on field rename. ', [['lib/ddl','sql_generator.php',1279]], 1],
'addslashes': ['addslashes', 'Adds slashes to string. ', [['lib/ddl','sqlite_sql_generator.php',453],['lib/ddl','oracle_sql_generator.php',661],['lib/ddl','sql_generator.php',1387],['lib/ddl','mssql_sql_generator.php',637],['lib/ddl','postgres_sql_generator.php',410]], 28],
'getsequencefromdb': ['getsequencefromdb', 'Given one xmldb_table returns one string with the sequence of the table in the table (fetched from DB) The sequence name for oracle is calculated by looking the corresponding trigger and retrieving the sequence name from it (because sequences are independent elements) ', [['lib/ddl','oracle_sql_generator.php',570],['lib/ddl','sql_generator.php',1220],['lib/ddl','postgres_sql_generator.php',433]], 4],
'getnotnull': ['getnotnull', 'Get the notnull ', [['lib/xmldb','xmldb_field.php',165]], 16],
'getrenametablesql': ['getrenametablesql', 'Given one correct xmldb_table and the new name, returns the SQL statements to rename it (inside one array). ', [['lib/ddl','sql_generator.php',629]], 1],
'find_index_name': ['find_index_name', 'Given one xmldb_index, the function returns the name of the index in DB of false if it doesn\'t exist ', [['lib/ddl','database_manager.php',164]], 9],
'setfields': ['setfields', 'Set the key fields ', [['lib/xmldb','xmldb_key.php',91],['lib/google/src/Google/Service','Bigquery.php',3350],['lib/google/src/Google/Service','Bigquery.php',3556],['lib/google/src/Google/Service','Directory.php',5736],['lib/xmldb','xmldb_table.php',387],['lib/xmldb','xmldb_index.php',101]], 11],
'getconcatsql': ['getconcatsql', 'Given one array of elements, build the proper CONCAT expression, based in the $concat_character setting. If such setting is empty, then MySQL\'s CONCAT function will be used instead. ', [['lib/ddl','sql_generator.php',1195]], 1],
'getdroptablesql': ['getdroptablesql', 'Given one correct xmldb_table, returns the SQL statements to drop it (inside one array). ', [['lib/ddl','mysql_sql_generator.php',352],['lib/ddl','oracle_sql_generator.php',148],['lib/ddl','sql_generator.php',655],['lib/ddl','mssql_sql_generator.php',156],['lib/ddl','postgres_sql_generator.php',106]], 5],
'comma2array': ['comma2array', 'Returns one array of elements from one comma separated string, supporting quoted strings containing commas and concat function calls ', [['lib/xmldb','xmldb_object.php',356]], 1],
'gettables': ['gettables', '', [['lib/google/src/Google/Service','MapsEngine.php',6327],['lib/xmldb','xmldb_structure.php',108],['lib/google/src/Google/Service','Bigquery.php',3425],['lib/google/src/Google/Service','SQLAdmin.php',2283]], 22],
'getsequence': ['getsequence', 'Get the sequence ', [['lib/xmldb','xmldb_field.php',182],['lib/google/src/Google/Service','Genomics.php',2069],['lib/google/src/Google/Service','Calendar.php',2922],['lib/google/src/Google/Service','Dfareporting.php',12609]], 7],
'getdropindexsql': ['getdropindexsql', 'Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table ', [['lib/ddl','sqlite_sql_generator.php',362],['lib/ddl','sql_generator.php',1006]], 2],
'find_key_name': ['find_key_name', 'This function IS NOT IMPLEMENTED. ONCE WE\'LL BE USING RELATIONAL INTEGRITY IT WILL BECOME MORE USEFUL. FOR NOW, JUST CALCULATE "OFFICIAL" KEY NAMES WITHOUT ACCESSING TO DB AT ALL. Given one xmldb_key, the function returns the name of the key in DB (if exists) of false if it doesn\'t exist ', [['lib/ddl','database_manager.php',228]], 3],
'getencquoted': ['getencquoted', 'Given any string (or one array), enclose it by the proper quotes if it\'s a reserved word ', [['lib/ddl','sql_generator.php',1115]], 42],
'getfieldsql': ['getfieldsql', 'Given one correct xmldb_field, returns the complete SQL line to create it. ', [['lib/ddl','sql_generator.php',441]], 5],
'getcreateindexsql': ['getcreateindexsql', 'Given one correct xmldb_index, returns the SQL statements needed to create it (in array). ', [['lib/ddl','sql_generator.php',412],['lib/ddl','postgres_sql_generator.php',121]], 6],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'getresetsequencesql': ['getresetsequencesql', 'Reset a sequence to the id field of a table. ', [['lib/ddl','sqlite_sql_generator.php',80],['lib/ddl','mysql_sql_generator.php',94],['lib/ddl','oracle_sql_generator.php',80],['lib/ddl','mssql_sql_generator.php',89],['lib/ddl','postgres_sql_generator.php',72]], 2],
'getexecuteinsertsql': ['getexecuteinsertsql', 'Given one XMLDB Statement, build the needed SQL insert sentences to execute it. ', [['lib/ddl','sql_generator.php',1140]], 0],
'getdropkeysql': ['getdropkeysql', 'Given one xmldb_table and one xmldb_index, return the SQL statements needed to drop the index from the table ', [['lib/ddl','sqlite_sql_generator.php',370],['lib/ddl','sql_generator.php',881]], 2],
'getcreatedefaultsql': ['getcreatedefaultsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to add its default (usually invoked from getModifyDefaultSQL() ', [['lib/ddl','sqlite_sql_generator.php',301],['lib/ddl','mysql_sql_generator.php',454],['lib/ddl','oracle_sql_generator.php',538],['lib/ddl','mssql_sql_generator.php',478],['lib/ddl','postgres_sql_generator.php',378]], 5],
'isnameinuse': ['isnameinuse', 'Given one object name and it\'s type (pk, uk, fk, ck, ix, uix, seq, trg). ', [['lib/ddl','sqlite_sql_generator.php',404],['lib/ddl','mysql_sql_generator.php',528],['lib/ddl','oracle_sql_generator.php',622],['lib/ddl','sql_generator.php',1231],['lib/ddl','mssql_sql_generator.php',588],['lib/ddl','postgres_sql_generator.php',460]], 1],
'getrenametableextrasql': ['getrenametableextrasql', 'Returns the code (array of statements) needed to execute extra statements on table rename. ', [['lib/ddl','oracle_sql_generator.php',316],['lib/ddl','sql_generator.php',1310],['lib/ddl','mssql_sql_generator.php',296],['lib/ddl','postgres_sql_generator.php',227]], 1],
'is_temptable': ['is_temptable', 'Returns if one table, based in the information present in the store, is a temp table ', [['lib/dml','moodle_temptables.php',96]], 27],
'unique': ['unique', 'Removes duplicate addresses from list. This method ignores Group objects. ', [['lib/horde/framework/Horde/Mail/Rfc822','List.php',155]], 31],
'getdefaultclause': ['getdefaultclause', 'Given one xmldb_field, returns the correct "default clause" for the current configuration. ', [['lib/ddl','sql_generator.php',612]], 6],
'getrenamefieldsql': ['getrenamefieldsql', 'Given one correct xmldb_field and the new name, returns the SQL statements to rename it (inside one array). ', [['lib/ddl','sqlite_sql_generator.php',313],['lib/ddl','mysql_sql_generator.php',468],['lib/ddl','sql_generator.php',799],['lib/ddl','mssql_sql_generator.php',263]], 2],
'getunique': ['getunique', 'Get the index unique ', [['lib/xmldb','xmldb_index.php',85]], 6],
'getdropfieldsql': ['getdropfieldsql', 'Given one xmldb_table and one xmldb_field, return the SQL statements needed to drop the field from the table. ', [['lib/ddl','sqlite_sql_generator.php',351],['lib/ddl','sql_generator.php',712],['lib/ddl','mssql_sql_generator.php',236]], 3],
'trim': ['trim', '', [], 1948],
'implode': ['implode', '', [], 1281],
'strpos': ['strpos', '', [], 1604],
'is_array': ['is_array', '', [], 1608],
'key': ['key', '', [], 204],
'is_null': ['is_null', '', [], 2003],
'in_array': ['in_array', '', [], 1234],
'substr': ['substr', '', [], 2823],
'explode': ['explode', '', [], 1572],
'is_string': ['is_string', '', [], 536],
'ksort': ['ksort', '', [], 153],
'settype': ['settype', '', [], 1429],
'strtolower': ['strtolower', '', [], 817],
'array_merge': ['array_merge', '', [], 2944],
'call_user_func_array': ['call_user_func_array', '', [], 94],
'defined': ['defined', '', [], 4731],
'gettype': ['gettype', '', [], 266],
'call_user_func': ['call_user_func', '', [], 113],
'preg_match': ['preg_match', '', [], 1286],
'stristr': ['stristr', '', [], 53],
'str_replace': ['str_replace', '', [], 1648],
'addslashes': ['addslashes', '', [], 28],
'reset': ['reset', '', [], 1213]};
CLASS_DATA={
'xmldb_table': ['xmldb_table', '', [['lib/xmldb','xmldb_table.php',29]], 230],
'ddl_exception': ['ddl_exception', 'DDL exception class, use instead of print_error() and "return false;" in ddl code. ', [['lib','ddllib.php',72]], 42],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'xmldb_object': ['xmldb_object', '', [['lib/xmldb','xmldb_object.php',29]], 7],
'xmldb_index': ['xmldb_index', '', [['lib/xmldb','xmldb_index.php',29]], 54]};
CONST_DATA={
'XMLDB_TYPE_TEXT': ['XMLDB_TYPE_TEXT', '', [['lib/xmldb','xmldb_constants.php',52]], 107],
'XMLDB_TYPE_NUMBER': ['XMLDB_TYPE_NUMBER', '', [['lib/xmldb','xmldb_constants.php',46]], 66],
'XMLDB_KEY_FOREIGN': ['XMLDB_KEY_FOREIGN', '', [['lib/xmldb','xmldb_constants.php',68]], 64],
'XMLDB_KEY_UNIQUE': ['XMLDB_KEY_UNIQUE', '', [['lib/xmldb','xmldb_constants.php',66]], 31],
'XMLDB_INDEX_UNIQUE': ['XMLDB_INDEX_UNIQUE', '', [['lib/xmldb','xmldb_constants.php',82]], 36],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'XMLDB_TYPE_INTEGER': ['XMLDB_TYPE_INTEGER', '', [['lib/xmldb','xmldb_constants.php',44]], 583],
'XMLDB_KEY_FOREIGN_UNIQUE': ['XMLDB_KEY_FOREIGN_UNIQUE', '', [['lib/xmldb','xmldb_constants.php',72]], 37],
'XMLDB_INDEX_NOTUNIQUE': ['XMLDB_INDEX_NOTUNIQUE', '', [['lib/xmldb','xmldb_constants.php',84]], 72],
'XMLDB_TYPE_FLOAT': ['XMLDB_TYPE_FLOAT', '', [['lib/xmldb','xmldb_constants.php',48]], 48],
'XMLDB_TYPE_CHAR': ['XMLDB_TYPE_CHAR', '', [['lib/xmldb','xmldb_constants.php',50]], 181],
'XMLDB_TYPE_BINARY': ['XMLDB_TYPE_BINARY', '', [['lib/xmldb','xmldb_constants.php',54]], 41],
'XMLDB_KEY_PRIMARY': ['XMLDB_KEY_PRIMARY', '', [['lib/xmldb','xmldb_constants.php',64]], 189]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
