<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of blocklib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='blocklib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="blocklib.php.source.html">blocklib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="blocklib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>Block Class and Functions This file defines the {@link block_manager} class,</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  http://dougiamas.com</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2225 lines (86 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 2 classes</h3>
<div class="inset">
<p><b>block_not_on_page_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>block_manager::</b> (66 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_regions">get_regions</a>()<br>
&nbsp;&nbsp;<a href="#get_default_region">get_default_region</a>()<br>
&nbsp;&nbsp;<a href="#get_addable_blocks">get_addable_blocks</a>()<br>
&nbsp;&nbsp;<a href="#is_block_present">is_block_present</a>()<br>
&nbsp;&nbsp;<a href="#is_known_block_type">is_known_block_type</a>()<br>
&nbsp;&nbsp;<a href="#is_known_region">is_known_region</a>()<br>
&nbsp;&nbsp;<a href="#get_blocks_for_region">get_blocks_for_region</a>()<br>
&nbsp;&nbsp;<a href="#get_content_for_region">get_content_for_region</a>()<br>
&nbsp;&nbsp;<a href="#get_move_target_url">get_move_target_url</a>()<br>
&nbsp;&nbsp;<a href="#region_has_content">region_has_content</a>()<br>
&nbsp;&nbsp;<a href="#get_installed_blocks">get_installed_blocks</a>()<br>
&nbsp;&nbsp;<a href="#get_undeletable_block_types">get_undeletable_block_types</a>()<br>
&nbsp;&nbsp;<a href="#add_region">add_region</a>()<br>
&nbsp;&nbsp;<a href="#add_regions">add_regions</a>()<br>
&nbsp;&nbsp;<a href="#add_custom_regions_for_pagetype">add_custom_regions_for_pagetype</a>()<br>
&nbsp;&nbsp;<a href="#set_default_region">set_default_region</a>()<br>
&nbsp;&nbsp;<a href="#add_fake_block">add_fake_block</a>()<br>
&nbsp;&nbsp;<a href="#region_completely_docked">region_completely_docked</a>()<br>
&nbsp;&nbsp;<a href="#region_uses_dock">region_uses_dock</a>()<br>
&nbsp;&nbsp;<a href="#load_blocks">load_blocks</a>()<br>
&nbsp;&nbsp;<a href="#add_block">add_block</a>()<br>
&nbsp;&nbsp;<a href="#add_block_at_end_of_default_region">add_block_at_end_of_default_region</a>()<br>
&nbsp;&nbsp;<a href="#add_blocks">add_blocks</a>()<br>
&nbsp;&nbsp;<a href="#reposition_block">reposition_block</a>()<br>
&nbsp;&nbsp;<a href="#find_instance">find_instance</a>()<br>
&nbsp;&nbsp;<a href="#check_not_yet_loaded">check_not_yet_loaded</a>()<br>
&nbsp;&nbsp;<a href="#check_is_loaded">check_is_loaded</a>()<br>
&nbsp;&nbsp;<a href="#check_known_block_type">check_known_block_type</a>()<br>
&nbsp;&nbsp;<a href="#check_region_is_known">check_region_is_known</a>()<br>
&nbsp;&nbsp;<a href="#prepare_per_region_arrays">prepare_per_region_arrays</a>()<br>
&nbsp;&nbsp;<a href="#create_block_instances">create_block_instances</a>()<br>
&nbsp;&nbsp;<a href="#create_all_block_instances">create_all_block_instances</a>()<br>
&nbsp;&nbsp;<a href="#create_block_contents">create_block_contents</a>()<br>
&nbsp;&nbsp;<a href="#ensure_instances_exist">ensure_instances_exist</a>()<br>
&nbsp;&nbsp;<a href="#ensure_content_created">ensure_content_created</a>()<br>
&nbsp;&nbsp;<a href="#edit_controls">edit_controls</a>()<br>
&nbsp;&nbsp;<a href="#user_can_delete_block">user_can_delete_block</a>()<br>
&nbsp;&nbsp;<a href="#process_url_actions">process_url_actions</a>()<br>
&nbsp;&nbsp;<a href="#process_url_add">process_url_add</a>()<br>
&nbsp;&nbsp;<a href="#process_url_delete">process_url_delete</a>()<br>
&nbsp;&nbsp;<a href="#process_url_show_hide">process_url_show_hide</a>()<br>
&nbsp;&nbsp;<a href="#process_url_edit">process_url_edit</a>()<br>
&nbsp;&nbsp;<a href="#process_url_move">process_url_move</a>()<br>
&nbsp;&nbsp;<a href="#show_only_fake_blocks">show_only_fake_blocks</a>()<br>
&nbsp;&nbsp;<a href="#block_method_result">block_method_result</a>()<br>
&nbsp;&nbsp;<a href="#block_instance">block_instance</a>()<br>
&nbsp;&nbsp;<a href="#block_load_class">block_load_class</a>()<br>
&nbsp;&nbsp;<a href="#matching_page_type_patterns">matching_page_type_patterns</a>()<br>
&nbsp;&nbsp;<a href="#matching_page_type_patterns_from_pattern">matching_page_type_patterns_from_pattern</a>()<br>
&nbsp;&nbsp;<a href="#generate_page_type_patterns">generate_page_type_patterns</a>()<br>
&nbsp;&nbsp;<a href="#default_page_type_list">default_page_type_list</a>()<br>
&nbsp;&nbsp;<a href="#my_page_type_list">my_page_type_list</a>()<br>
&nbsp;&nbsp;<a href="#mod_page_type_list">mod_page_type_list</a>()<br>
&nbsp;&nbsp;<a href="#block_add_block_ui">block_add_block_ui</a>()<br>
&nbsp;&nbsp;<a href="#blocks_remove_inappropriate">blocks_remove_inappropriate</a>()<br>
&nbsp;&nbsp;<a href="#blocks_name_allowed_in_format">blocks_name_allowed_in_format</a>()<br>
&nbsp;&nbsp;<a href="#blocks_delete_instance">blocks_delete_instance</a>()<br>
&nbsp;&nbsp;<a href="#blocks_delete_all_for_context">blocks_delete_all_for_context</a>()<br>
&nbsp;&nbsp;<a href="#blocks_set_visibility">blocks_set_visibility</a>()<br>
&nbsp;&nbsp;<a href="#blocks_get_record">blocks_get_record</a>()<br>
&nbsp;&nbsp;<a href="#blocks_find_block">blocks_find_block</a>()<br>
&nbsp;&nbsp;<a href="#blocks_parse_default_blocks_list">blocks_parse_default_blocks_list</a>()<br>
&nbsp;&nbsp;<a href="#blocks_get_default_site_course_blocks">blocks_get_default_site_course_blocks</a>()<br>
&nbsp;&nbsp;<a href="#blocks_add_default_course_blocks">blocks_add_default_course_blocks</a>()<br>
&nbsp;&nbsp;<a href="#blocks_add_default_system_blocks">blocks_add_default_system_blocks</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="block_not_on_page_exception"><b>block_not_on_page_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/block_not_on_page_exception.html"><small>X-Ref</small></a>
</p>
<b>Exception thrown when someone tried to do something with a block that does<BR>
not exist on a page.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'blocklib.php.source.html#l54')" href="blocklib.php.source.html#l54">__construct</a>(<a href="../_variables/instanceid.html">$instanceid</a>, <a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> int $instanceid the block instance id of the block that was looked for.<br>
<b>param:</b> object $page the current page.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="block_manager"><b>block_manager</b></a>&nbsp;&nbsp;- <a href="../_classes/block_manager.html"><small>X-Ref</small></a>
</p>
<b>This class keeps track of the block that should appear on a moodle_page.<BR>
</b><br>
The page to work with as passed to the constructor.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'blocklib.php.source.html#l152')" href="blocklib.php.source.html#l152">__construct</a>(<a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR><b>param:</b> object $page the moodle_page object object we are managing the blocks for,<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_regions" onClick="logFunction('get_regions', 'blocklib.php.source.html#l164')" href="blocklib.php.source.html#l164">get_regions</a>()&nbsp;&nbsp;
<a href="../_functions/get_regions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get an array of all region names on this page where a block may appear<BR>
</b><BR><b>return:</b> array the internal names of the regions on this page where block may appear.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_default_region" onClick="logFunction('get_default_region', 'blocklib.php.source.html#l176')" href="blocklib.php.source.html#l176">get_default_region</a>()&nbsp;&nbsp;
<a href="../_functions/get_default_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the region name of the region blocks are added to by default<BR>
</b><BR><b>return:</b> string the internal names of the region where new blocks are added<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_addable_blocks" onClick="logFunction('get_addable_blocks', 'blocklib.php.source.html#l189')" href="blocklib.php.source.html#l189">get_addable_blocks</a>()&nbsp;&nbsp;
<a href="../_functions/get_addable_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The list of block types that may be added to this page.<BR>
</b><BR><b>return:</b> array block name =&gt; record from block table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_block_present" onClick="logFunction('is_block_present', 'blocklib.php.source.html#l226')" href="blocklib.php.source.html#l226">is_block_present</a>(<a href="../_variables/blockname.html">$blockname</a>)&nbsp;&nbsp;
<a href="../_functions/is_block_present.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a block name, find out of any of them are currently present in the page<BR>
</b><BR><b>param:</b> string $blockname - the basic name of a block (eg &quot;navigation&quot;)<br>
<b>return:</b> boolean - is there one of these blocks in the current page?<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_known_block_type" onClick="logFunction('is_known_block_type', 'blocklib.php.source.html#l250')" href="blocklib.php.source.html#l250">is_known_block_type</a>(<a href="../_variables/blockname.html">$blockname</a>, <a href="../_variables/includeinvisible.html">$includeinvisible</a> = false)&nbsp;&nbsp;
<a href="../_functions/is_known_block_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find out if a block type is known by the system<BR>
</b><BR><b>param:</b> string $blockname the name of the type of block.<br>
<b>param:</b> boolean $includeinvisible if false (default) only check 'visible' blocks, that is, blocks enabled by the admin.<br>
<b>return:</b> boolean true if this block in installed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_known_region" onClick="logFunction('is_known_region', 'blocklib.php.source.html#l267')" href="blocklib.php.source.html#l267">is_known_region</a>(<a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/is_known_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find out if a region exists on a page<BR>
</b><BR><b>param:</b> string $region a region name<br>
<b>return:</b> boolean true if this region exists on this page.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_blocks_for_region" onClick="logFunction('get_blocks_for_region', 'blocklib.php.source.html#l277')" href="blocklib.php.source.html#l277">get_blocks_for_region</a>(<a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/get_blocks_for_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get an array of all blocks within a given region<BR>
</b><BR><b>param:</b> string $region a block region that exists on this page.<br>
<b>return:</b> array of block instances.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_content_for_region" onClick="logFunction('get_content_for_region', 'blocklib.php.source.html#l289')" href="blocklib.php.source.html#l289">get_content_for_region</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/get_content_for_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of block content objects that exist in a region<BR>
</b><BR><b>param:</b> string $region a block region that exists on this page.<br>
<b>return:</b> array of block block_contents objects for all the blocks in a region.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_move_target_url" onClick="logFunction('get_move_target_url', 'blocklib.php.source.html#l301')" href="blocklib.php.source.html#l301">get_move_target_url</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/weight.html">$weight</a>)&nbsp;&nbsp;
<a href="../_functions/get_move_target_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper method used by get_content_for_region.<BR>
</b><BR><b>param:</b> string $region region name<br>
<b>param:</b> float $weight weight. May be fractional, since you may want to move a block<br>
<b>return:</b> string URL for moving block $this-&gt;movingblock to this position.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="region_has_content" onClick="logFunction('region_has_content', 'blocklib.php.source.html#l313')" href="blocklib.php.source.html#l313">region_has_content</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/region_has_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine whether a region contains anything. (Either any real blocks, or<BR>
the add new block UI.)<BR>
</b><BR>(You may wonder why the $output parameter is required. Unfortunately,<BR>
because of the way that blocks work, the only reliable way to find out<BR>
if a block will be visible is to get the content for output, and to<BR>
get the content, you need a renderer. Fortunately, this is not a<BR>
performance problem, because we cache the output that is generated, and<BR>
in almost every case where we call region_has_content, we are about to<BR>
output the blocks anyway, so we are not doing wasted effort.)<BR>
<BR>
<b>param:</b> string $region a block region that exists on this page.<br>
<b>param:</b> core_renderer $output a core_renderer. normally the global $OUTPUT.<br>
<b>return:</b> boolean Whether there is anything in this region.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_installed_blocks" onClick="logFunction('get_installed_blocks', 'blocklib.php.source.html#l346')" href="blocklib.php.source.html#l346">get_installed_blocks</a>()&nbsp;&nbsp;
<a href="../_functions/get_installed_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get an array of all of the installed blocks.<BR>
</b><BR><b>return:</b> array contents of the block table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_undeletable_block_types" onClick="logFunction('get_undeletable_block_types', 'blocklib.php.source.html#l362')" href="blocklib.php.source.html#l362">get_undeletable_block_types</a>()&nbsp;&nbsp;
<a href="../_functions/get_undeletable_block_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> array names of block types that cannot be added or deleted. E.g. array('navigation','settings').<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_region" onClick="logFunction('add_region', 'blocklib.php.source.html#l376')" href="blocklib.php.source.html#l376">add_region</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/custom.html">$custom</a> = true)&nbsp;&nbsp;
<a href="../_functions/add_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a region to a page<BR>
</b><BR><b>param:</b> string $region add a named region where blocks may appear on the current page.<br>
<b>param:</b> bool $custom True if this is a custom block region, being added by the page rather than the theme layout.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_regions" onClick="logFunction('add_regions', 'blocklib.php.source.html#l406')" href="blocklib.php.source.html#l406">add_regions</a>(<a href="../_variables/regions.html">$regions</a>, <a href="../_variables/custom.html">$custom</a> = true)&nbsp;&nbsp;
<a href="../_functions/add_regions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add an array of regions<BR>
</b><BR><b>param:</b> array $regions this utility method calls add_region for each array element.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_custom_regions_for_pagetype" onClick="logFunction('add_custom_regions_for_pagetype', 'blocklib.php.source.html#l418')" href="blocklib.php.source.html#l418">add_custom_regions_for_pagetype</a>(<a href="../_variables/pagetype.html">$pagetype</a>)&nbsp;&nbsp;
<a href="../_functions/add_custom_regions_for_pagetype.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds custom block regions associated with a page type and registers them with this block manager.<BR>
</b><BR><b>param:</b> string $pagetype<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_default_region" onClick="logFunction('set_default_region', 'blocklib.php.source.html#l432')" href="blocklib.php.source.html#l432">set_default_region</a>(<a href="../_variables/defaultregion.html">$defaultregion</a>)&nbsp;&nbsp;
<a href="../_functions/set_default_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the default region for new blocks on the page<BR>
</b><BR><b>param:</b> string $defaultregion the internal names of the region where new<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_fake_block" onClick="logFunction('add_fake_block', 'blocklib.php.source.html#l447')" href="blocklib.php.source.html#l447">add_fake_block</a>(<a href="../_variables/bc.html">$bc</a>, <a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/add_fake_block.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add something that looks like a block, but which isn't an actual block_instance,<BR>
to this page.<BR>
</b><BR><b>param:</b> block_contents $bc the content of the block-like thing.<br>
<b>param:</b> string $region a block region that exists on this page.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="region_completely_docked" onClick="logFunction('region_completely_docked', 'blocklib.php.source.html#l470')" href="blocklib.php.source.html#l470">region_completely_docked</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/region_completely_docked.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks to see whether all of the blocks within the given region are docked<BR>
</b><BR><b>param:</b> string $region<br>
<b>return:</b> bool True if all of the blocks within that region are docked<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="region_uses_dock" onClick="logFunction('region_uses_dock', 'blocklib.php.source.html#l508')" href="blocklib.php.source.html#l508">region_uses_dock</a>(<a href="../_variables/regions.html">$regions</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/region_uses_dock.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks to see whether any of the blocks within the given regions are docked<BR>
</b><BR><b>param:</b> array|string $regions array of regions (or single region)<br>
<b>return:</b> bool True if any of the blocks within that region are docked<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_blocks" onClick="logFunction('load_blocks', 'blocklib.php.source.html#l533')" href="blocklib.php.source.html#l533">load_blocks</a>(<a href="../_variables/includeinvisible.html">$includeinvisible</a> = null)&nbsp;&nbsp;
<a href="../_functions/load_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method actually loads the blocks for our page from the database.<BR>
</b><BR><b>param:</b> boolean|null $includeinvisible<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_block" onClick="logFunction('add_block', 'blocklib.php.source.html#l666')" href="blocklib.php.source.html#l666">add_block</a>(<a href="../_variables/blockname.html">$blockname</a>, <a href="../_variables/region.html">$region</a>, <a href="../_variables/weight.html">$weight</a>, <a href="../_variables/showinsubcontexts.html">$showinsubcontexts</a>, <a href="../_variables/pagetypepattern.html">$pagetypepattern</a> = NULL, <a href="../_variables/subpagepattern.html">$subpagepattern</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/add_block.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a block to the current page, or related pages. The block is added to<BR>
context $this-&gt;page-&gt;contextid. If $pagetypepattern $subpagepattern<BR>
</b><BR><b>param:</b> string $blockname The type of block to add.<br>
<b>param:</b> string $region the block region on this page to add the block to.<br>
<b>param:</b> integer $weight determines the order where this block appears in the region.<br>
<b>param:</b> boolean $showinsubcontexts whether this block appears in subcontexts, or just the current context.<br>
<b>param:</b> string|null $pagetypepattern which page types this block should appear on. Defaults to just the current page type.<br>
<b>param:</b> string|null $subpagepattern which subpage this block should appear on. NULL = any (the default), otherwise only the specified subpage.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_block_at_end_of_default_region" onClick="logFunction('add_block_at_end_of_default_region', 'blocklib.php.source.html#l708')" href="blocklib.php.source.html#l708">add_block_at_end_of_default_region</a>(<a href="../_variables/blockname.html">$blockname</a>)&nbsp;&nbsp;
<a href="../_functions/add_block_at_end_of_default_region.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_blocks" onClick="logFunction('add_blocks', 'blocklib.php.source.html#l752')" href="blocklib.php.source.html#l752">add_blocks</a>(<a href="../_variables/blocks.html">$blocks</a>, <a href="../_variables/pagetypepattern.html">$pagetypepattern</a> = NULL, <a href="../_variables/subpagepattern.html">$subpagepattern</a> = NULL, <a href="../_variables/showinsubcontexts.html">$showinsubcontexts</a>=false, <a href="../_variables/weight.html">$weight</a>=0)&nbsp;&nbsp;
<a href="../_functions/add_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Convenience method, calls add_block repeatedly for all the blocks in $blocks. Optionally, a starting weight<BR>
can be used to decide the starting point that blocks are added in the region, the weight is passed to {@link add_block}<BR>
and incremented by the position of the block in the $blocks array<BR>
</b><BR><b>param:</b> array $blocks array with array keys the region names, and values an array of block names.<br>
<b>param:</b> string $pagetypepattern optional. Passed to {@link add_block()}<br>
<b>param:</b> string $subpagepattern optional. Passed to {@link add_block()}<br>
<b>param:</b> boolean $showinsubcontexts optional. Passed to {@link add_block()}<br>
<b>param:</b> integer $weight optional. Determines the starting point that the blocks are added in the region.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reposition_block" onClick="logFunction('reposition_block', 'blocklib.php.source.html#l774')" href="blocklib.php.source.html#l774">reposition_block</a>(<a href="../_variables/blockinstanceid.html">$blockinstanceid</a>, <a href="../_variables/newregion.html">$newregion</a>, <a href="../_variables/newweight.html">$newweight</a>)&nbsp;&nbsp;
<a href="../_functions/reposition_block.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move a block to a new position on this page.<BR>
</b><BR>If this block cannot appear on any other pages, then we change defaultposition/weight<BR>
in the block_instances table. Otherwise we just set the position on this page.<BR>
<BR>
<b>param:</b> $blockinstanceid the block instance id.<br>
<b>param:</b> $newregion the new region name.<br>
<b>param:</b> $newweight the new weight.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_instance" onClick="logFunction('find_instance', 'blocklib.php.source.html#l835')" href="blocklib.php.source.html#l835">find_instance</a>(<a href="../_variables/instanceid.html">$instanceid</a>)&nbsp;&nbsp;
<a href="../_functions/find_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find a given block by its instance id<BR>
</b><BR><b>param:</b> integer $instanceid<br>
<b>return:</b> block_base<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_not_yet_loaded" onClick="logFunction('check_not_yet_loaded', 'blocklib.php.source.html#l855')" href="blocklib.php.source.html#l855">check_not_yet_loaded</a>()&nbsp;&nbsp;
<a href="../_functions/check_not_yet_loaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check whether the page blocks have been loaded yet<BR>
</b><BR><b>return:</b> void Throws coding exception if already loaded<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_is_loaded" onClick="logFunction('check_is_loaded', 'blocklib.php.source.html#l866')" href="blocklib.php.source.html#l866">check_is_loaded</a>()&nbsp;&nbsp;
<a href="../_functions/check_is_loaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check whether the page blocks have been loaded yet<BR>
</b><BR>Nearly identical to the above function {@link check_not_yet_loaded()} except different message<BR>
<BR>
<b>return:</b> void Throws coding exception if already loaded<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_known_block_type" onClick="logFunction('check_known_block_type', 'blocklib.php.source.html#l879')" href="blocklib.php.source.html#l879">check_known_block_type</a>(<a href="../_variables/blockname.html">$blockname</a>, <a href="../_variables/includeinvisible.html">$includeinvisible</a> = false)&nbsp;&nbsp;
<a href="../_functions/check_known_block_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if a block type is known and usable<BR>
</b><BR><b>param:</b> string $blockname The block type name to search for<br>
<b>param:</b> bool $includeinvisible Include disabled block types in the initial pass<br>
<b>return:</b> void Coding Exception thrown if unknown or not enabled<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_region_is_known" onClick="logFunction('check_region_is_known', 'blocklib.php.source.html#l896')" href="blocklib.php.source.html#l896">check_region_is_known</a>(<a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/check_region_is_known.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if a region is known by its name<BR>
</b><BR><b>param:</b> string $region<br>
<b>return:</b> void Coding Exception thrown if the region is not known<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepare_per_region_arrays" onClick="logFunction('prepare_per_region_arrays', 'blocklib.php.source.html#l908')" href="blocklib.php.source.html#l908">prepare_per_region_arrays</a>()&nbsp;&nbsp;
<a href="../_functions/prepare_per_region_arrays.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of region names as keys and nested arrays for values<BR>
</b><BR><b>return:</b> array an array where the array keys are the region names, and the array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_block_instances" onClick="logFunction('create_block_instances', 'blocklib.php.source.html#l922')" href="blocklib.php.source.html#l922">create_block_instances</a>(<a href="../_variables/birecords.html">$birecords</a>)&nbsp;&nbsp;
<a href="../_functions/create_block_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a set of new block instance from a record array<BR>
</b><BR><b>param:</b> array $birecords An array of block instance records<br>
<b>return:</b> array An array of instantiated block_instance objects<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_all_block_instances" onClick="logFunction('create_all_block_instances', 'blocklib.php.source.html#l938')" href="blocklib.php.source.html#l938">create_all_block_instances</a>()&nbsp;&nbsp;
<a href="../_functions/create_all_block_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create all the block instances for all the blocks that were loaded by<BR>
load_blocks. This is used, for example, to ensure that all blocks get a<BR>
chance to initialise themselves via the {@link block_base::specialize()}<BR>
method, before any output is done.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_block_contents" onClick="logFunction('create_block_contents', 'blocklib.php.source.html#l950')" href="blocklib.php.source.html#l950">create_block_contents</a>(<a href="../_variables/instances.html">$instances</a>, <a href="../_variables/output.html">$output</a>, <a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/create_block_contents.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an array of content objects from a set of block instances<BR>
</b><BR><b>param:</b> array $instances An array of block instances<br>
<b>param:</b> renderer_base The renderer to use.<br>
<b>param:</b> string $region the region name.<br>
<b>return:</b> array An array of block_content (and possibly block_move_target) objects.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ensure_instances_exist" onClick="logFunction('ensure_instances_exist', 'blocklib.php.source.html#l998')" href="blocklib.php.source.html#l998">ensure_instances_exist</a>(<a href="../_variables/region.html">$region</a>)&nbsp;&nbsp;
<a href="../_functions/ensure_instances_exist.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure block instances exist for a given region<BR>
</b><BR><b>param:</b> string $region Check for bi's with the instance with this name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ensure_content_created" onClick="logFunction('ensure_content_created', 'blocklib.php.source.html#l1011')" href="blocklib.php.source.html#l1011">ensure_content_created</a>(<a href="../_variables/region.html">$region</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/ensure_content_created.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that there is some content within the given region<BR>
</b><BR><b>param:</b> string $region The name of the region to check<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="edit_controls" onClick="logFunction('edit_controls', 'blocklib.php.source.html#l1036')" href="blocklib.php.source.html#l1036">edit_controls</a>(<a href="../_variables/block.html">$block</a>)&nbsp;&nbsp;
<a href="../_functions/edit_controls.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the appropriate list of editing icons for a block. This is used<BR>
to set {@link block_contents::$controls} in {@link block_base::get_contents_for_output()}.<BR>
</b><BR><b>param:</b> $output The core_renderer to use when generating the output. (Need to get icon paths.)<br>
<b>return:</b> an array in the format for {@link block_contents::$controls}<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_can_delete_block" onClick="logFunction('user_can_delete_block', 'blocklib.php.source.html#l1131')" href="blocklib.php.source.html#l1131">user_can_delete_block</a>(<a href="../_variables/block.html">$block</a>)&nbsp;&nbsp;
<a href="../_functions/user_can_delete_block.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> block_base $block a block that appears on this page.<br>
<b>return:</b> boolean boolean whether the currently logged in user is allowed to delete this block.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_actions" onClick="logFunction('process_url_actions', 'blocklib.php.source.html#l1137')" href="blocklib.php.source.html#l1137">process_url_actions</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_actions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Process any block actions that were specified in the URL.<BR>
</b><BR><b>return:</b> boolean true if anything was done. False if not.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_add" onClick="logFunction('process_url_add', 'blocklib.php.source.html#l1151')" href="blocklib.php.source.html#l1151">process_url_add</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle adding a block.<BR>
</b><BR><b>return:</b> boolean true if anything was done. False if not.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_delete" onClick="logFunction('process_url_delete', 'blocklib.php.source.html#l1179')" href="blocklib.php.source.html#l1179">process_url_delete</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_delete.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle deleting a block.<BR>
</b><BR><b>return:</b> boolean true if anything was done. False if not.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_show_hide" onClick="logFunction('process_url_show_hide', 'blocklib.php.source.html#l1266')" href="blocklib.php.source.html#l1266">process_url_show_hide</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_show_hide.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle showing or hiding a block.<BR>
</b><BR><b>return:</b> boolean true if anything was done. False if not.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_edit" onClick="logFunction('process_url_edit', 'blocklib.php.source.html#l1298')" href="blocklib.php.source.html#l1298">process_url_edit</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_edit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle showing/processing the submission from the block editing form.<BR>
</b><BR><b>return:</b> boolean true if the form was submitted and the new config saved. Does not<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="process_url_move" onClick="logFunction('process_url_move', 'blocklib.php.source.html#l1499')" href="blocklib.php.source.html#l1499">process_url_move</a>()&nbsp;&nbsp;
<a href="../_functions/process_url_move.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle showing/processing the submission from the block editing form.<BR>
</b><BR><b>return:</b> boolean true if the form was submitted and the new config saved. Does not<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="show_only_fake_blocks" onClick="logFunction('show_only_fake_blocks', 'blocklib.php.source.html#l1627')" href="blocklib.php.source.html#l1627">show_only_fake_blocks</a>(<a href="../_variables/setting.html">$setting</a> = true)&nbsp;&nbsp;
<a href="../_functions/show_only_fake_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Turns the display of normal blocks either on or off.<BR>
</b><BR><b>param:</b> bool $setting<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="block_method_result" onClick="logFunction('block_method_result', 'blocklib.php.source.html#l1639')" href="blocklib.php.source.html#l1639">block_method_result</a>(<a href="../_variables/blockname.html">$blockname</a>, <a href="../_variables/method.html">$method</a>, <a href="../_variables/param.html">$param</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/block_method_result.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Call a class method (one that does not require a block instance) on a block class.<BR>
</b><BR><b>param:</b> string $blockname the name of the block.<br>
<b>param:</b> string $method the method name.<br>
<b>param:</b> array $param parameters to pass to the method.<br>
<b>return:</b> mixed whatever the method returns.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="block_instance" onClick="logFunction('block_instance', 'blocklib.php.source.html#l1654')" href="blocklib.php.source.html#l1654">block_instance</a>(<a href="../_variables/blockname.html">$blockname</a>, <a href="../_variables/instance.html">$instance</a> = NULL, <a href="../_variables/page.html">$page</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/block_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a new instance of the specified block class.<BR>
</b><BR><b>param:</b> string $blockname the name of the block.<br>
<b>param:</b> $instance block_instances DB table row (optional).<br>
<b>param:</b> moodle_page $page the page this block is appearing on.<br>
<b>return:</b> block_base the requested block instance.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="block_load_class" onClick="logFunction('block_load_class', 'blocklib.php.source.html#l1678')" href="blocklib.php.source.html#l1678">block_load_class</a>(<a href="../_variables/blockname.html">$blockname</a>)&nbsp;&nbsp;
<a href="../_functions/block_load_class.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Load the block class for a particular type of block.<BR>
</b><BR><b>param:</b> string $blockname the name of the block.<br>
<b>return:</b> boolean success or failure.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="matching_page_type_patterns" onClick="logFunction('matching_page_type_patterns', 'blocklib.php.source.html#l1710')" href="blocklib.php.source.html#l1710">matching_page_type_patterns</a>(<a href="../_variables/pagetype.html">$pagetype</a>)&nbsp;&nbsp;
<a href="../_functions/matching_page_type_patterns.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a specific page type, return all the page type patterns that might<BR>
match it.<BR>
</b><BR><b>param:</b> string $pagetype for example 'course-view-weeks' or 'mod-quiz-view'.<br>
<b>return:</b> array an array of all the page type patterns that might match this page type.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="matching_page_type_patterns_from_pattern" onClick="logFunction('matching_page_type_patterns_from_pattern', 'blocklib.php.source.html#l1735')" href="blocklib.php.source.html#l1735">matching_page_type_patterns_from_pattern</a>(<a href="../_variables/pattern.html">$pattern</a>)&nbsp;&nbsp;
<a href="../_functions/matching_page_type_patterns_from_pattern.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Give an specific pattern, return all the page type patterns that would also match it.<BR>
</b><BR><b>param:</b> string $pattern the pattern, e.g. 'mod-forum-*' or 'mod-quiz-view'.<br>
<b>return:</b> array of all the page type patterns matching.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_page_type_patterns" onClick="logFunction('generate_page_type_patterns', 'blocklib.php.source.html#l1759')" href="blocklib.php.source.html#l1759">generate_page_type_patterns</a>(<a href="../_variables/pagetype.html">$pagetype</a>, <a href="../_variables/parentcontext.html">$parentcontext</a> = null, <a href="../_variables/currentcontext.html">$currentcontext</a> = null)&nbsp;&nbsp;
<a href="../_functions/generate_page_type_patterns.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a specific page type, parent context and currect context, return all the page type patterns<BR>
that might be used by this block.<BR>
</b><BR><b>param:</b> string $pagetype for example 'course-view-weeks' or 'mod-quiz-view'.<br>
<b>param:</b> stdClass $parentcontext Block's parent context<br>
<b>param:</b> stdClass $currentcontext Current context of block<br>
<b>return:</b> array an array of all the page type patterns that might match this page type.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_page_type_list" onClick="logFunction('default_page_type_list', 'blocklib.php.source.html#l1850')" href="blocklib.php.source.html#l1850">default_page_type_list</a>(<a href="../_variables/pagetype.html">$pagetype</a>, <a href="../_variables/parentcontext.html">$parentcontext</a> = null, <a href="../_variables/currentcontext.html">$currentcontext</a> = null)&nbsp;&nbsp;
<a href="../_functions/default_page_type_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates a default page type list when a more appropriate callback cannot be decided upon.<BR>
</b><BR><b>param:</b> string $pagetype<br>
<b>param:</b> stdClass $parentcontext<br>
<b>param:</b> stdClass $currentcontext<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="my_page_type_list" onClick="logFunction('my_page_type_list', 'blocklib.php.source.html#l1878')" href="blocklib.php.source.html#l1878">my_page_type_list</a>(<a href="../_variables/pagetype.html">$pagetype</a>, <a href="../_variables/parentcontext.html">$parentcontext</a> = null, <a href="../_variables/currentcontext.html">$currentcontext</a> = null)&nbsp;&nbsp;
<a href="../_functions/my_page_type_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates the page type list for the my moodle page<BR>
</b><BR><b>param:</b> string $pagetype<br>
<b>param:</b> stdClass $parentcontext<br>
<b>param:</b> stdClass $currentcontext<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mod_page_type_list" onClick="logFunction('mod_page_type_list', 'blocklib.php.source.html#l1890')" href="blocklib.php.source.html#l1890">mod_page_type_list</a>(<a href="../_variables/pagetype.html">$pagetype</a>, <a href="../_variables/parentcontext.html">$parentcontext</a> = null, <a href="../_variables/currentcontext.html">$currentcontext</a> = null)&nbsp;&nbsp;
<a href="../_functions/mod_page_type_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates the page type list for a module by either locating and using the modules callback<BR>
or by generating a default list.<BR>
</b><BR><b>param:</b> string $pagetype<br>
<b>param:</b> stdClass $parentcontext<br>
<b>param:</b> stdClass $currentcontext<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="block_add_block_ui" onClick="logFunction('block_add_block_ui', 'blocklib.php.source.html#l1916')" href="blocklib.php.source.html#l1916">block_add_block_ui</a>(<a href="../_variables/page.html">$page</a>, <a href="../_variables/output.html">$output</a>)&nbsp;&nbsp;
<a href="../_functions/block_add_block_ui.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a {@link block_contents} representing the add a new block UI, if<BR>
this user is allowed to see it.<BR>
</b><BR><b>return:</b> block_contents an appropriate block_contents, or null if the user<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_remove_inappropriate" onClick="logFunction('blocks_remove_inappropriate', 'blocklib.php.source.html#l1956')" href="blocklib.php.source.html#l1956">blocks_remove_inappropriate</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_remove_inappropriate.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Actually delete from the database any blocks that are currently on this page,<BR>
but which should not be there according to blocks_name_allowed_in_format.<BR>
</b><BR><b>param:</b> $course<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_name_allowed_in_format" onClick="logFunction('blocks_name_allowed_in_format', 'blocklib.php.source.html#l1987')" href="blocklib.php.source.html#l1987">blocks_name_allowed_in_format</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/pageformat.html">$pageformat</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_name_allowed_in_format.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check that a given name is in a permittable format<BR>
</b><BR><b>param:</b> string $name<br>
<b>param:</b> string $pageformat<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_delete_instance" onClick="logFunction('blocks_delete_instance', 'blocklib.php.source.html#l2019')" href="blocklib.php.source.html#l2019">blocks_delete_instance</a>(<a href="../_variables/instance.html">$instance</a>, <a href="../_variables/nolongerused.html">$nolongerused</a> = false, <a href="../_variables/skipblockstables.html">$skipblockstables</a> = false)&nbsp;&nbsp;
<a href="../_functions/blocks_delete_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a block, and associated data.<BR>
</b><BR><b>param:</b> object $instance a row from the block_instances table<br>
<b>param:</b> bool $nolongerused legacy parameter. Not used, but kept for backwards compatibility.<br>
<b>param:</b> bool $skipblockstables for internal use only. Makes @see blocks_delete_all_for_context() more efficient.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_delete_all_for_context" onClick="logFunction('blocks_delete_all_for_context', 'blocklib.php.source.html#l2041')" href="blocklib.php.source.html#l2041">blocks_delete_all_for_context</a>(<a href="../_variables/contextid.html">$contextid</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_delete_all_for_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete all the blocks that belong to a particular context.<BR>
</b><BR><b>param:</b> int $contextid the context id.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_set_visibility" onClick="logFunction('blocks_set_visibility', 'blocklib.php.source.html#l2057')" href="blocklib.php.source.html#l2057">blocks_set_visibility</a>(<a href="../_variables/instance.html">$instance</a>, <a href="../_variables/page.html">$page</a>, <a href="../_variables/newvisibility.html">$newvisibility</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_set_visibility.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set a block to be visible or hidden on a particular page.<BR>
</b><BR><b>param:</b> object $instance a row from the block_instances, preferably LEFT JOINed with the<br>
<b>param:</b> moodle_page $page the back to set the visibility with respect to.<br>
<b>param:</b> integer $newvisibility 1 for visible, 0 for hidden.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_get_record" onClick="logFunction('blocks_get_record', 'blocklib.php.source.html#l2087')" href="blocklib.php.source.html#l2087">blocks_get_record</a>(<a href="../_variables/blockid.html">$blockid</a> = NULL, <a href="../_variables/notusedanymore.html">$notusedanymore</a> = false)&nbsp;&nbsp;
<a href="../_functions/blocks_get_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the block record for a particular blockid - that is, a particular type os block.<BR>
</b><BR><b>param:</b> $int blockid block type id. If null, an array of all block types is returned.<br>
<b>param:</b> bool $notusedanymore No longer used.<br>
<b>return:</b> array|object row from block table, or all rows.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_find_block" onClick="logFunction('blocks_find_block', 'blocklib.php.source.html#l2106')" href="blocklib.php.source.html#l2106">blocks_find_block</a>(<a href="../_variables/blockid.html">$blockid</a>, <a href="../_variables/blocksarray.html">$blocksarray</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_find_block.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find a given block by its blockid within a provide array<BR>
</b><BR><b>param:</b> int $blockid<br>
<b>param:</b> array $blocksarray<br>
<b>return:</b> bool|object Instance if found else false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_parse_default_blocks_list" onClick="logFunction('blocks_parse_default_blocks_list', 'blocklib.php.source.html#l2132')" href="blocklib.php.source.html#l2132">blocks_parse_default_blocks_list</a>(<a href="../_variables/blocksstr.html">$blocksstr</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_parse_default_blocks_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parse a list of default blocks. See config-dist for a description of the format.<BR>
</b><BR><b>param:</b> string $blocksstr Determines the starting point that the blocks are added in the region.<br>
<b>return:</b> array the parsed list of default blocks<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_get_default_site_course_blocks" onClick="logFunction('blocks_get_default_site_course_blocks', 'blocklib.php.source.html#l2159')" href="blocklib.php.source.html#l2159">blocks_get_default_site_course_blocks</a>()&nbsp;&nbsp;
<a href="../_functions/blocks_get_default_site_course_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> array the blocks that should be added to the site course by default.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_add_default_course_blocks" onClick="logFunction('blocks_add_default_course_blocks', 'blocklib.php.source.html#l2172')" href="blocklib.php.source.html#l2172">blocks_add_default_course_blocks</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/blocks_add_default_course_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add the default blocks to a course.<BR>
</b><BR><b>param:</b> object $course a course object.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="blocks_add_default_system_blocks" onClick="logFunction('blocks_add_default_system_blocks', 'blocklib.php.source.html#l2205')" href="blocklib.php.source.html#l2205">blocks_add_default_system_blocks</a>()&nbsp;&nbsp;
<a href="../_functions/blocks_add_default_system_blocks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add the default system-context blocks. E.g. the admin tree.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
