<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/tests/statslib_test.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/tests';
filename='statslib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/tests/</a> -> <a href="statslib_test.php.html">statslib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="statslib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="statslib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Tests for ../statslib.php</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_stats</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   phpunit</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2012 Tyler Bannister</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/adminlib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/statslib.php');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/cronlib.php');
<a name="l32"><span class="linenum">  32</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../lib/tests/fixtures/stats_events.php.html" onMouseOver="reqPopup(event, 'stats_events.php', '../../lib/tests/fixtures/stats_events.php')">(__DIR__ . '/fixtures/stats_events.php')</a>;
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">/**</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * Test functions that affect daily stats.</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_statslib_testcase')" href="../../_classes/core_statslib_testcase.html" onMouseOver="classPopup(event,'core_statslib_testcase')">core_statslib_testcase</a> extends advanced_testcase {
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">    /** The day to use for testing **/</span>
<a name="l39"><span class="linenum">  39</span></a>      const DAY = 1272672000;
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">    /** The timezone to use for testing **/</span>
<a name="l42"><span class="linenum">  42</span></a>      const TIMEZONE = 0;
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">    /** @var array The list of temporary tables created for the statistic calculations **/</span>
<a name="l45"><span class="linenum">  45</span></a>      protected <a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a> = array('temp_log1', 'temp_log2', 'temp_stats_daily', 'temp_stats_user_daily');
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">    /** @var array The replacements to be used when loading XML files **/</span>
<a name="l48"><span class="linenum">  48</span></a>      protected <a class="var it1094" onMouseOver="hilite(1094)" onMouseOut="lolite()" onClick="logVariable('replacements')" href="../../_variables/replacements.html">$replacements</a> = null;
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * Setup function</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     *   - Allow changes to CFG-&gt;debug for testing purposes.</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      protected function <a class="function" onClick="logFunction('setUp')" href="../../_functions/setup.html" onMouseOver="funcPopup(event,'setup')">setUp</a>() {
<a name="l56"><span class="linenum">  56</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l57"><span class="linenum">  57</span></a>          parent::<a class="function" onClick="logFunction('setUp')" href="../../_functions/setup.html" onMouseOver="funcPopup(event,'setup')">setUp</a>();
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">        // Settings to force statistic to run during testing.</span>
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setTimezone')" href="../../_functions/settimezone.html" onMouseOver="funcPopup(event,'settimezone')">setTimezone</a>(self::TIMEZONE);
<a name="l61"><span class="linenum">  61</span></a>          <a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('set_default_server_timezone')" href="../../_functions/set_default_server_timezone.html" onMouseOver="funcPopup(event,'set_default_server_timezone')">set_default_server_timezone</a>();
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsfirstrun')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsfirstrun.html">statsfirstrun</a>           = 'all';
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statslastdaily')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statslastdaily.html">statslastdaily</a>          = 0;
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statslastexecution')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statslastexecution.html">statslastexecution</a>      = 0;
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // Figure out the broken day start so I can figure out when to the start time should be.</span>
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>   = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">        // This nonsense needs to be rewritten.</span>
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> = new DateTime('now', <a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_server_timezone_object')" href="../../_functions/get_server_timezone_object.html" onMouseOver="funcPopup(event,'get_server_timezone_object')">get_server_timezone_object</a>());
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a> = <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a>-&gt;<a class="function" onClick="logFunction('getOffset')" href="../../_functions/getoffset.html" onMouseOver="funcPopup(event,'getoffset')">getOffset</a>();
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('stime')" href="../../_variables/stime.html">$stime</a>  = <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> + <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>;
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('stime')" href="../../_variables/stime.html">$stime</a>  = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('stime')" href="../../_variables/stime.html">$stime</a> / (60*60*24)) * 60*60*24;
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('stime')" href="../../_variables/stime.html">$stime</a> -= <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../../_variables/offset.html">$offset</a>;
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it1100" onMouseOver="hilite(1100)" onMouseOut="lolite()" onClick="logVariable('shour')" href="../../_variables/shour.html">$shour</a>  = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>((<a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> - <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('stime')" href="../../_variables/stime.html">$stime</a>) / (60*60));
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsruntimestarthour')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsruntimestarthour.html">statsruntimestarthour</a>   = <a class="var it1100" onMouseOver="hilite(1100)" onMouseOut="lolite()" onClick="logVariable('shour')" href="../../_variables/shour.html">$shour</a>;
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsruntimestartminute')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsruntimestartminute.html">statsruntimestartminute</a> = 0;
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>          if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('user', array('username' =&gt; 'user1'))) {
<a name="l81"><span class="linenum">  81</span></a>              return;
<a name="l82"><span class="linenum">  82</span></a>          }
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">        // Set up the database.</span>
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it1103" onMouseOver="hilite(1103)" onMouseOut="lolite()" onClick="logVariable('datagen')" href="../../_variables/datagen.html">$datagen</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>();
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>   = <a class="var it1103" onMouseOver="hilite(1103)" onMouseOut="lolite()" onClick="logVariable('datagen')" href="../../_variables/datagen.html">$datagen</a>-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>(array('username'=&gt;'user1'));
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a>   = <a class="var it1103" onMouseOver="hilite(1103)" onMouseOut="lolite()" onClick="logVariable('datagen')" href="../../_variables/datagen.html">$datagen</a>-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>(array('username'=&gt;'user2'));
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a> = <a class="var it1103" onMouseOver="hilite(1103)" onMouseOut="lolite()" onClick="logVariable('datagen')" href="../../_variables/datagen.html">$datagen</a>-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>(array('shortname'=&gt;'course1'));
<a name="l91"><span class="linenum">  91</span></a>          <a class="var it1103" onMouseOver="hilite(1103)" onMouseOut="lolite()" onClick="logVariable('datagen')" href="../../_variables/datagen.html">$datagen</a>-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a>-&gt;<a onClick="logVariable('id')" class="var it43179" onMouseOver="hilite(43179)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('generate_replacement_list')" href="../../_functions/generate_replacement_list.html" onMouseOver="funcPopup(event,'generate_replacement_list')">generate_replacement_list</a>();
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">        // Reset between tests.</span>
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>();
<a name="l97"><span class="linenum">  97</span></a>      }
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>      <span class="comment">/**</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">     * Function to setup database.</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">     *</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     * @param array $dataset An array of tables including the log table.</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     * @param array $tables</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     */</span>
<a name="l105"><span class="linenum"> 105</span></a>      protected function <a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>, <a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a>) {
<a name="l106"><span class="linenum"> 106</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>          foreach (<a class="var it1093" onMouseOver="hilite(1093)" onMouseOut="lolite()" onClick="logVariable('tables')" href="../../_variables/tables.html">$tables</a> as <a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>) {
<a name="l109"><span class="linenum"> 109</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>);
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>              foreach (<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>                  if (<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a> == <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>                      <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getRowCount')" href="../../_functions/getrowcount.html" onMouseOver="funcPopup(event,'getrowcount')">getRowCount</a>();
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>                      for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l118"><span class="linenum"> 118</span></a>                          <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getRow')" href="../../_functions/getrow.html" onMouseOver="funcPopup(event,'getrow')">getRow</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>                          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>(<a class="var it1105" onMouseOver="hilite(1105)" onMouseOut="lolite()" onClick="logVariable('tablename')" href="../../_variables/tablename.html">$tablename</a>, <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>, false, true);
<a name="l121"><span class="linenum"> 121</span></a>                      }
<a name="l122"><span class="linenum"> 122</span></a>                  }
<a name="l123"><span class="linenum"> 123</span></a>              }
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>      }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>      <span class="comment">/**</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * Load dataset from XML file.</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     */</span>
<a name="l130"><span class="linenum"> 130</span></a>      protected function <a class="function" onClick="logFunction('generate_replacement_list')" href="../../_functions/generate_replacement_list.html" onMouseOver="funcPopup(event,'generate_replacement_list')">generate_replacement_list</a>() {
<a name="l131"><span class="linenum"> 131</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('replacements')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/replacements.html">replacements</a> !== null) {
<a name="l134"><span class="linenum"> 134</span></a>              return;
<a name="l135"><span class="linenum"> 135</span></a>          }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setTimezone')" href="../../_functions/settimezone.html" onMouseOver="funcPopup(event,'settimezone')">setTimezone</a>(self::TIMEZONE);
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it1107" onMouseOver="hilite(1107)" onMouseOut="lolite()" onClick="logVariable('guest')" href="../../_variables/guest.html">$guest</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('siteguest')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/siteguest.html">siteguest</a>));
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('username' =&gt; 'user1'));
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('username' =&gt; 'user2'));
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>          if ((<a class="var it1107" onMouseOver="hilite(1107)" onMouseOut="lolite()" onClick="logVariable('guest')" href="../../_variables/guest.html">$guest</a> === false) || (<a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a> === false) || (<a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a> === false)) {
<a name="l144"><span class="linenum"> 144</span></a>              <a class="phpfunction" onClick="logFunction('trigger_error')" href="../../_functions/trigger_error.html" onMouseOver="phpfuncPopup(event,'trigger_error')">trigger_error</a>('User setup incomplete', E_USER_ERROR);
<a name="l145"><span class="linenum"> 145</span></a>          }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../../_variables/site.html">$site</a>    = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>));
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('shortname' =&gt; 'course1'));
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          if ((<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('site')" href="../../_variables/site.html">$site</a> === false) || (<a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a> === false)) {
<a name="l151"><span class="linenum"> 151</span></a>              <a class="phpfunction" onClick="logFunction('trigger_error')" href="../../_functions/trigger_error.html" onMouseOver="phpfuncPopup(event,'trigger_error')">trigger_error</a>('Course setup incomplete', E_USER_ERROR);
<a name="l152"><span class="linenum"> 152</span></a>          }
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>      = <a class="function" onClick="logFunction('stats_get_base_daily')" href="../../_functions/stats_get_base_daily.html" onMouseOver="funcPopup(event,'stats_get_base_daily')">stats_get_base_daily</a>(self::DAY + 3600);
<a name="l155"><span class="linenum"> 155</span></a>          <a class="var it1109" onMouseOver="hilite(1109)" onMouseOut="lolite()" onClick="logVariable('startnolog')" href="../../_variables/startnolog.html">$startnolog</a> = <a class="function" onClick="logFunction('stats_get_base_daily')" href="../../_functions/stats_get_base_daily.html" onMouseOver="funcPopup(event,'stats_get_base_daily')">stats_get_base_daily</a>(<a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'));
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it1110" onMouseOver="hilite(1110)" onMouseOut="lolite()" onClick="logVariable('gr')" href="../../_variables/gr.html">$gr</a>         = <a class="function" onClick="logFunction('get_guest_role')" href="../../_functions/get_guest_role.html" onMouseOver="funcPopup(event,'get_guest_role')">get_guest_role</a>();
<a name="l157"><span class="linenum"> 157</span></a>          <a class="var it1111" onMouseOver="hilite(1111)" onMouseOut="lolite()" onClick="logVariable('studentrole')" href="../../_variables/studentrole.html">$studentrole</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('shortname' =&gt; 'student'));
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('replacements')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/replacements.html">replacements</a> = array(
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">            // Start and end times.</span>
<a name="l161"><span class="linenum"> 161</span></a>              '[start_0]'          =&gt; <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> -  14410,  // 4 hours before.
<a name="l162"><span class="linenum"> 162</span></a>              '[start_1]'          =&gt; <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> +  14410,  // 4 hours after.
<a name="l163"><span class="linenum"> 163</span></a>              '[start_2]'          =&gt; <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> +  14420,
<a name="l164"><span class="linenum"> 164</span></a>              '[start_3]'          =&gt; <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> +  14430,
<a name="l165"><span class="linenum"> 165</span></a>              '[start_4]'          =&gt; <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> + 100800, // 28 hours after.
<a name="l166"><span class="linenum"> 166</span></a>              '[end]'              =&gt; <a class="function" onClick="logFunction('stats_get_next_day_start')" href="../../_functions/stats_get_next_day_start.html" onMouseOver="funcPopup(event,'stats_get_next_day_start')">stats_get_next_day_start</a>(<a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>),
<a name="l167"><span class="linenum"> 167</span></a>              '[end_no_logs]'      =&gt; <a class="function" onClick="logFunction('stats_get_next_day_start')" href="../../_functions/stats_get_next_day_start.html" onMouseOver="funcPopup(event,'stats_get_next_day_start')">stats_get_next_day_start</a>(<a class="var it1109" onMouseOver="hilite(1109)" onMouseOut="lolite()" onClick="logVariable('startnolog')" href="../../_variables/startnolog.html">$startnolog</a>),
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">            // User ids.</span>
<a name="l170"><span class="linenum"> 170</span></a>              '[guest_id]'         =&gt; <a class="var it1107" onMouseOver="hilite(1107)" onMouseOut="lolite()" onClick="logVariable('guest')" href="../../_variables/guest.html">$guest</a>-&gt;<a onClick="logVariable('id')" class="var it43840" onMouseOver="hilite(43840)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l171"><span class="linenum"> 171</span></a>              '[user1_id]'         =&gt; <a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it42951" onMouseOver="hilite(42951)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l172"><span class="linenum"> 172</span></a>              '[user2_id]'         =&gt; <a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../../_variables/user2.html">$user2</a>-&gt;<a onClick="logVariable('id')" class="var it42952" onMouseOver="hilite(42952)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">            // Course ids.</span>
<a name="l175"><span class="linenum"> 175</span></a>              '[course1_id]'       =&gt; <a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a>-&gt;<a onClick="logVariable('id')" class="var it43179" onMouseOver="hilite(43179)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l176"><span class="linenum"> 176</span></a>              '[site_id]'          =&gt; <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>,
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">            // Role ids.</span>
<a name="l179"><span class="linenum"> 179</span></a>              '[frontpage_roleid]' =&gt; (int) <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultfrontpageroleid')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/defaultfrontpageroleid.html">defaultfrontpageroleid</a>,
<a name="l180"><span class="linenum"> 180</span></a>              '[guest_roleid]'     =&gt; <a class="var it1110" onMouseOver="hilite(1110)" onMouseOut="lolite()" onClick="logVariable('gr')" href="../../_variables/gr.html">$gr</a>-&gt;<a onClick="logVariable('id')" class="var it44514" onMouseOver="hilite(44514)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l181"><span class="linenum"> 181</span></a>              '[student_roleid]'   =&gt; <a class="var it1111" onMouseOver="hilite(1111)" onMouseOut="lolite()" onClick="logVariable('studentrole')" href="../../_variables/studentrole.html">$studentrole</a>-&gt;<a onClick="logVariable('id')" class="var it42933" onMouseOver="hilite(42933)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l182"><span class="linenum"> 182</span></a>          );
<a name="l183"><span class="linenum"> 183</span></a>      }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>      <span class="comment">/**</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * Load dataset from XML file.</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     *</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * @param string $file The name of the file to load</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * @return array</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     */</span>
<a name="l191"><span class="linenum"> 191</span></a>      protected function <a class="function" onClick="logFunction('load_xml_data_file')" href="../../_functions/load_xml_data_file.html" onMouseOver="funcPopup(event,'load_xml_data_file')">load_xml_data_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l192"><span class="linenum"> 192</span></a>          static <a class="var it1094" onMouseOver="hilite(1094)" onMouseOut="lolite()" onClick="logVariable('replacements')" href="../../_variables/replacements.html">$replacements</a> = null;
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>          <a class="var it535" onMouseOver="hilite(535)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../../_variables/raw.html">$raw</a>   = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('createXMLDataSet')" href="../../_functions/createxmldataset.html" onMouseOver="funcPopup(event,'createxmldataset')">createXMLDataSet</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>);
<a name="l195"><span class="linenum"> 195</span></a>          <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('clean')" href="../../_variables/clean.html">$clean</a> = new PHPUnit_Extensions_Database_DataSet_ReplacementDataSet(<a class="var it535" onMouseOver="hilite(535)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../../_variables/raw.html">$raw</a>);
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('replacements')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/replacements.html">replacements</a> as <a class="var it1114" onMouseOver="hilite(1114)" onMouseOut="lolite()" onClick="logVariable('placeholder')" href="../../_variables/placeholder.html">$placeholder</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('clean')" href="../../_variables/clean.html">$clean</a>-&gt;addFullReplacement(<a class="var it1114" onMouseOver="hilite(1114)" onMouseOut="lolite()" onClick="logVariable('placeholder')" href="../../_variables/placeholder.html">$placeholder</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l199"><span class="linenum"> 199</span></a>          }
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a> = new PHPUnit_Extensions_Database_DataSet_DataSetFilter(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('clean')" href="../../_variables/clean.html">$clean</a>);
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>-&gt;addIncludeTables(array('log'));
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>          <a class="var it1116" onMouseOver="hilite(1116)" onMouseOut="lolite()" onClick="logVariable('stats')" href="../../_variables/stats.html">$stats</a> = new PHPUnit_Extensions_Database_DataSet_DataSetFilter(<a class="var it1113" onMouseOver="hilite(1113)" onMouseOut="lolite()" onClick="logVariable('clean')" href="../../_variables/clean.html">$clean</a>);
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it1116" onMouseOver="hilite(1116)" onMouseOut="lolite()" onClick="logVariable('stats')" href="../../_variables/stats.html">$stats</a>-&gt;addIncludeTables(array('stats_daily', 'stats_user_daily'));
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>          return array(<a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>, <a class="var it1116" onMouseOver="hilite(1116)" onMouseOut="lolite()" onClick="logVariable('stats')" href="../../_variables/stats.html">$stats</a>);
<a name="l208"><span class="linenum"> 208</span></a>      }
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>      <span class="comment">/**</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     * Provides the log data for test_statslib_cron_daily.</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     *</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * @return array of fixture XML log file names.</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     */</span>
<a name="l215"><span class="linenum"> 215</span></a>      public function <a class="function" onClick="logFunction('daily_log_provider')" href="../../_functions/daily_log_provider.html" onMouseOver="funcPopup(event,'daily_log_provider')">daily_log_provider</a>() {
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it1117" onMouseOver="hilite(1117)" onMouseOut="lolite()" onClick="logVariable('logfiles')" href="../../_variables/logfiles.html">$logfiles</a> = array();
<a name="l217"><span class="linenum"> 217</span></a>          <a class="var it1118" onMouseOver="hilite(1118)" onMouseOut="lolite()" onClick="logVariable('fileno')" href="../../_variables/fileno.html">$fileno</a> = array('00', '01', '02', '03', '04', '05', '06', '07', '08');
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>          foreach (<a class="var it1118" onMouseOver="hilite(1118)" onMouseOut="lolite()" onClick="logVariable('fileno')" href="../../_variables/fileno.html">$fileno</a> as <a class="var it1119" onMouseOver="hilite(1119)" onMouseOut="lolite()" onClick="logVariable('no')" href="../../_variables/no.html">$no</a>) {
<a name="l220"><span class="linenum"> 220</span></a>              <a class="var it1117" onMouseOver="hilite(1117)" onMouseOut="lolite()" onClick="logVariable('logfiles')" href="../../_variables/logfiles.html">$logfiles</a>[] = array(&quot;statslib-test{<a class="var it1119" onMouseOver="hilite(1119)" onMouseOut="lolite()" onClick="logVariable('no')" href="../../_variables/no.html">$no</a>}.xml&quot;);
<a name="l221"><span class="linenum"> 221</span></a>          }
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>          return <a class="var it1117" onMouseOver="hilite(1117)" onMouseOut="lolite()" onClick="logVariable('logfiles')" href="../../_variables/logfiles.html">$logfiles</a>;
<a name="l224"><span class="linenum"> 224</span></a>      }
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>      <span class="comment">/**</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * Compare the expected stats to those in the database.</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     *</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     * @param array $expected</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     * @param string $output</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     */</span>
<a name="l232"><span class="linenum"> 232</span></a>      protected function <a class="function" onClick="logFunction('verify_stats')" href="../../_functions/verify_stats.html" onMouseOver="funcPopup(event,'verify_stats')">verify_stats</a>(<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a>, <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = '') {
<a name="l233"><span class="linenum"> 233</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">        // Note: We can not use $this-&gt;assertDataSetEqual($expected, $actual) because there's no</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">        //       $this-&gt;getConnection() in advanced_testcase.</span>
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>          foreach (<a class="var it947" onMouseOver="hilite(947)" onMouseOut="lolite()" onClick="logVariable('expected')" href="../../_variables/expected.html">$expected</a> as <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> =&gt; <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l239"><span class="linenum"> 239</span></a>              <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>);
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>              <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a> = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getRowCount')" href="../../_functions/getrowcount.html" onMouseOver="funcPopup(event,'getrowcount')">getRowCount</a>();
<a name="l242"><span class="linenum"> 242</span></a>  
<a name="l243"><span class="linenum"> 243</span></a>              <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = 'Incorrect number of results returned for '. <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>              if (<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> != '') {
<a name="l246"><span class="linenum"> 246</span></a>                  <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> .= &quot;\nCron output:\n<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>&quot;;
<a name="l247"><span class="linenum"> 247</span></a>              }
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(<a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a>, <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>);
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>              for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l252"><span class="linenum"> 252</span></a>                  <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>   = <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>-&gt;<a class="function" onClick="logFunction('getRow')" href="../../_functions/getrow.html" onMouseOver="funcPopup(event,'getrow')">getRow</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l253"><span class="linenum"> 253</span></a>                  <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = 0;
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>                  foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l256"><span class="linenum"> 256</span></a>                      <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = (array) <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>;
<a name="l257"><span class="linenum"> 257</span></a>                      unset(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>['id']);
<a name="l258"><span class="linenum"> 258</span></a>                      <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('diff')" href="../../_variables/diff.html">$diff</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="phpfunction" onClick="logFunction('array_diff_assoc')" href="../../_functions/array_diff_assoc.html" onMouseOver="phpfuncPopup(event,'array_diff_assoc')">array_diff_assoc</a>(<a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>, <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>),
<a name="l259"><span class="linenum"> 259</span></a>                              <a class="phpfunction" onClick="logFunction('array_diff_assoc')" href="../../_functions/array_diff_assoc.html" onMouseOver="phpfuncPopup(event,'array_diff_assoc')">array_diff_assoc</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>, <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>));
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>                      if (empty(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('diff')" href="../../_variables/diff.html">$diff</a>)) {
<a name="l262"><span class="linenum"> 262</span></a>                          <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l263"><span class="linenum"> 263</span></a>                          break;
<a name="l264"><span class="linenum"> 264</span></a>                      }
<a name="l265"><span class="linenum"> 265</span></a>                  }
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertGreaterThan(0, <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a>, 'Expected log '. <a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>, true)
<a name="l268"><span class="linenum"> 268</span></a>                                          .&quot; was not found in <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a> &quot;. <a class="phpfunction" onClick="logFunction('var_export')" href="../../_functions/var_export.html" onMouseOver="phpfuncPopup(event,'var_export')">var_export</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>, true));
<a name="l269"><span class="linenum"> 269</span></a>                  unset(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a>[<a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a>]);
<a name="l270"><span class="linenum"> 270</span></a>              }
<a name="l271"><span class="linenum"> 271</span></a>          }
<a name="l272"><span class="linenum"> 272</span></a>      }
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>      <span class="comment">/**</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * Test progress output when debug is on.</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     */</span>
<a name="l277"><span class="linenum"> 277</span></a>      public function <a class="function" onClick="logFunction('test_statslib_progress_debug')" href="../../_functions/test_statslib_progress_debug.html" onMouseOver="funcPopup(event,'test_statslib_progress_debug')">test_statslib_progress_debug</a>() {
<a name="l278"><span class="linenum"> 278</span></a>          <a class="function" onClick="logFunction('set_debugging')" href="../../_functions/set_debugging.html" onMouseOver="funcPopup(event,'set_debugging')">set_debugging</a>(<a class="constant" onClick="logConstant('DEBUG_ALL')" href="../../_constants/DEBUG_ALL.html" onMouseOver="constPopup(event,'DEBUG_ALL')">DEBUG_ALL</a>);
<a name="l279"><span class="linenum"> 279</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;expectOutputString('1:0 ');
<a name="l280"><span class="linenum"> 280</span></a>          <a class="function" onClick="logFunction('stats_progress')" href="../../_functions/stats_progress.html" onMouseOver="funcPopup(event,'stats_progress')">stats_progress</a>('init');
<a name="l281"><span class="linenum"> 281</span></a>          <a class="function" onClick="logFunction('stats_progress')" href="../../_functions/stats_progress.html" onMouseOver="funcPopup(event,'stats_progress')">stats_progress</a>('1');
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetDebugging')" href="../../_functions/resetdebugging.html" onMouseOver="funcPopup(event,'resetdebugging')">resetDebugging</a>();
<a name="l283"><span class="linenum"> 283</span></a>      }
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>      <span class="comment">/**</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * Test progress output when debug is off.</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     */</span>
<a name="l288"><span class="linenum"> 288</span></a>      public function <a class="function" onClick="logFunction('test_statslib_progress_no_debug')" href="../../_functions/test_statslib_progress_no_debug.html" onMouseOver="funcPopup(event,'test_statslib_progress_no_debug')">test_statslib_progress_no_debug</a>() {
<a name="l289"><span class="linenum"> 289</span></a>          <a class="function" onClick="logFunction('set_debugging')" href="../../_functions/set_debugging.html" onMouseOver="funcPopup(event,'set_debugging')">set_debugging</a>(<a class="constant" onClick="logConstant('DEBUG_NONE')" href="../../_constants/DEBUG_NONE.html" onMouseOver="constPopup(event,'DEBUG_NONE')">DEBUG_NONE</a>);
<a name="l290"><span class="linenum"> 290</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;expectOutputString('.');
<a name="l291"><span class="linenum"> 291</span></a>          <a class="function" onClick="logFunction('stats_progress')" href="../../_functions/stats_progress.html" onMouseOver="funcPopup(event,'stats_progress')">stats_progress</a>('init');
<a name="l292"><span class="linenum"> 292</span></a>          <a class="function" onClick="logFunction('stats_progress')" href="../../_functions/stats_progress.html" onMouseOver="funcPopup(event,'stats_progress')">stats_progress</a>('1');
<a name="l293"><span class="linenum"> 293</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetDebugging')" href="../../_functions/resetdebugging.html" onMouseOver="funcPopup(event,'resetdebugging')">resetDebugging</a>();
<a name="l294"><span class="linenum"> 294</span></a>      }
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>      <span class="comment">/**</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * Test the function that gets the start date from the config.</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     */</span>
<a name="l299"><span class="linenum"> 299</span></a>      public function <a class="function" onClick="logFunction('test_statslib_get_start_from')" href="../../_functions/test_statslib_get_start_from.html" onMouseOver="funcPopup(event,'test_statslib_get_start_from')">test_statslib_get_start_from</a>() {
<a name="l300"><span class="linenum"> 300</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>          <a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_xml_data_file')" href="../../_functions/load_xml_data_file.html" onMouseOver="funcPopup(event,'load_xml_data_file')">load_xml_data_file</a>(__DIR__.&quot;/fixtures/statslib-test01.xml&quot;);
<a name="l303"><span class="linenum"> 303</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('log');
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> = new DateTime('now', <a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_server_timezone_object')" href="../../_functions/get_server_timezone_object.html" onMouseOver="funcPopup(event,'get_server_timezone_object')">get_server_timezone_object</a>());
<a name="l306"><span class="linenum"> 306</span></a>          <a class="var it1120" onMouseOver="hilite(1120)" onMouseOut="lolite()" onClick="logVariable('day')" href="../../_variables/day.html">$day</a> = self::DAY - <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a>-&gt;<a class="function" onClick="logFunction('getOffset')" href="../../_functions/getoffset.html" onMouseOver="funcPopup(event,'getoffset')">getOffset</a>();
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsfirstrun')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsfirstrun.html">statsfirstrun</a> = 'all';
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">        // Allow 1 second difference in case we cross a second boundary.</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">        // Note: within 3 days of a DST change - -3 days != 3 * 24 hours (it may be more or less).</span>
<a name="l311"><span class="linenum"> 311</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertLessThanOrEqual(1, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily') - <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>('-3 days', <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()), 'All start time');
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>[0], array('log'));
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../../_variables/records.html">$records</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('log');
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1120" onMouseOver="hilite(1120)" onMouseOut="lolite()" onClick="logVariable('day')" href="../../_variables/day.html">$day</a> + 14410, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'), 'Log entry start');
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsfirstrun')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsfirstrun.html">statsfirstrun</a> = 'none';
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertLessThanOrEqual(1, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily') - <a class="phpfunction" onClick="logFunction('strtotime')" href="../../_functions/strtotime.html" onMouseOver="phpfuncPopup(event,'strtotime')">strtotime</a>('-3 days', <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()), 'None start time');
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsfirstrun')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsfirstrun.html">statsfirstrun</a> = 14515200;
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertLessThanOrEqual(1, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily') - (<a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() - (14515200)), 'Specified start time');
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>[1], array('stats_daily'));
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1120" onMouseOver="hilite(1120)" onMouseOut="lolite()" onClick="logVariable('day')" href="../../_variables/day.html">$day</a> + <a class="constant" onClick="logConstant('DAYSECS')" href="../../_constants/DAYSECS.html" onMouseOver="constPopup(event,'DAYSECS')">DAYSECS</a>, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'), 'Daily stats start time');
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">        // New log stores.</span>
<a name="l328"><span class="linenum"> 328</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('preventResetByRollback')" href="../../_functions/preventresetbyrollback.html" onMouseOver="funcPopup(event,'preventresetbyrollback')">preventResetByRollback</a>();
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFileExists(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a>/tool/log/store/standard/version.php&quot;);
<a name="l331"><span class="linenum"> 331</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('enabled_stores', 'logstore_standard', 'tool_log');
<a name="l332"><span class="linenum"> 332</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('buffersize', 0, 'logstore_standard');
<a name="l333"><span class="linenum"> 333</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('logguests', 1, 'logstore_standard');
<a name="l334"><span class="linenum"> 334</span></a>          <a class="function" onClick="logFunction('get_log_manager')" href="../../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>(true);
<a name="l335"><span class="linenum"> 335</span></a>  
<a name="l336"><span class="linenum"> 336</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(0, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('logstore_standard_log'));
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('stats_daily');
<a name="l339"><span class="linenum"> 339</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('statsfirstrun')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/statsfirstrun.html">statsfirstrun</a> = 'all';
<a name="l340"><span class="linenum"> 340</span></a>          <a class="var it1121" onMouseOver="hilite(1121)" onMouseOut="lolite()" onClick="logVariable('firstoldtime')" href="../../_variables/firstoldtime.html">$firstoldtime</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>('SELECT <a class="phpfunction" onClick="logFunction('MIN')" href="../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">MIN</a>(time) FROM {log}');
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1121" onMouseOver="hilite(1121)" onMouseOut="lolite()" onClick="logVariable('firstoldtime')" href="../../_variables/firstoldtime.html">$firstoldtime</a>, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'));
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>          \core_tests\event\<a class="class" onClick="logClass('create_executed')" href="../../_classes/create_executed.html" onMouseOver="classPopup(event,'create_executed')">create_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l345"><span class="linenum"> 345</span></a>          \core_tests\event\<a class="class" onClick="logClass('read_executed')" href="../../_classes/read_executed.html" onMouseOver="classPopup(event,'read_executed')">read_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l346"><span class="linenum"> 346</span></a>          \core_tests\event\<a class="class" onClick="logClass('update_executed')" href="../../_classes/update_executed.html" onMouseOver="classPopup(event,'update_executed')">update_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l347"><span class="linenum"> 347</span></a>          \core_tests\event\<a class="class" onClick="logClass('delete_executed')" href="../../_classes/delete_executed.html" onMouseOver="classPopup(event,'delete_executed')">delete_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">        // Fake the origin of events.</span>
<a name="l350"><span class="linenum"> 350</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('logstore_standard_log', 'origin', 'web', array());
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>          <a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('logstore_standard_log');
<a name="l353"><span class="linenum"> 353</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(4, <a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>);
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>          <a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>);
<a name="l356"><span class="linenum"> 356</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertGreaterThan(<a class="var it1121" onMouseOver="hilite(1121)" onMouseOut="lolite()" onClick="logVariable('firstoldtime')" href="../../_variables/firstoldtime.html">$firstoldtime</a>, <a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44515" onMouseOver="hilite(44515)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>);
<a name="l357"><span class="linenum"> 357</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('logstore_standard_log', 'timecreated', 10, array('id' =&gt; <a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a>-&gt;<a onClick="logVariable('id')" class="var it44515" onMouseOver="hilite(44515)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l358"><span class="linenum"> 358</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(10, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'));
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('logstore_standard_log', 'timecreated', <a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44515" onMouseOver="hilite(44515)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>, array('id' =&gt; <a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a>-&gt;<a onClick="logVariable('id')" class="var it44515" onMouseOver="hilite(44515)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l361"><span class="linenum"> 361</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('log');
<a name="l362"><span class="linenum"> 362</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1122" onMouseOver="hilite(1122)" onMouseOut="lolite()" onClick="logVariable('firstnew')" href="../../_variables/firstnew.html">$firstnew</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44515" onMouseOver="hilite(44515)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>, <a class="function" onClick="logFunction('stats_get_start_from')" href="../../_functions/stats_get_start_from.html" onMouseOver="funcPopup(event,'stats_get_start_from')">stats_get_start_from</a>('daily'));
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('enabled_stores', '', 'tool_log');
<a name="l365"><span class="linenum"> 365</span></a>          <a class="function" onClick="logFunction('get_log_manager')" href="../../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>(true);
<a name="l366"><span class="linenum"> 366</span></a>      }
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>      <span class="comment">/**</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * Test the function that calculates the start of the day.</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     *</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * NOTE: I don't think this is the way this function should work.</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     *       This test documents the current functionality.</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     */</span>
<a name="l374"><span class="linenum"> 374</span></a>      public function <a class="function" onClick="logFunction('test_statslib_get_base_daily')" href="../../_functions/test_statslib_get_base_daily.html" onMouseOver="funcPopup(event,'test_statslib_get_base_daily')">test_statslib_get_base_daily</a>() {
<a name="l375"><span class="linenum"> 375</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>          for (<a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> = 0; <a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> &lt; 13; <a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> += 1) {
<a name="l378"><span class="linenum"> 378</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setTimezone')" href="../../_functions/settimezone.html" onMouseOver="funcPopup(event,'settimezone')">setTimezone</a>(<a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a>);
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>              <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> = 1272672000 - (<a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> * 3600);
<a name="l381"><span class="linenum"> 381</span></a>              if (<a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> &gt;= 20) {
<a name="l382"><span class="linenum"> 382</span></a>                  <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> += (24 * 3600);
<a name="l383"><span class="linenum"> 383</span></a>              }
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="function" onClick="logFunction('stats_get_base_daily')" href="../../_functions/stats_get_base_daily.html" onMouseOver="funcPopup(event,'stats_get_base_daily')">stats_get_base_daily</a>(1272686410), &quot;Timezone <a class="var it1123" onMouseOver="hilite(1123)" onMouseOut="lolite()" onClick="logVariable('x')" href="../../_variables/x.html">$x</a> check&quot;);
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>      }
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>      <span class="comment">/**</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     * Test the function that gets the start of the next day.</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     */</span>
<a name="l392"><span class="linenum"> 392</span></a>      public function <a class="function" onClick="logFunction('test_statslib_get_next_day_start')" href="../../_functions/test_statslib_get_next_day_start.html" onMouseOver="funcPopup(event,'test_statslib_get_next_day_start')">test_statslib_get_next_day_start</a>() {
<a name="l393"><span class="linenum"> 393</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setTimezone')" href="../../_functions/settimezone.html" onMouseOver="funcPopup(event,'settimezone')">setTimezone</a>(0);
<a name="l394"><span class="linenum"> 394</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1272758400, <a class="function" onClick="logFunction('stats_get_next_day_start')" href="../../_functions/stats_get_next_day_start.html" onMouseOver="funcPopup(event,'stats_get_next_day_start')">stats_get_next_day_start</a>(1272686410));
<a name="l395"><span class="linenum"> 395</span></a>      }
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>      <span class="comment">/**</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     * Test the function that gets the action names.</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">     *</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * Note: The function results depend on installed modules.  The hard coded lists are the</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     *       defaults for a new Moodle 2.3 install.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     */</span>
<a name="l403"><span class="linenum"> 403</span></a>      public function <a class="function" onClick="logFunction('test_statslib_get_action_names')" href="../../_functions/test_statslib_get_action_names.html" onMouseOver="funcPopup(event,'test_statslib_get_action_names')">test_statslib_get_action_names</a>() {
<a name="l404"><span class="linenum"> 404</span></a>          <a class="var it1124" onMouseOver="hilite(1124)" onMouseOut="lolite()" onClick="logVariable('basepostactions')" href="../../_variables/basepostactions.html">$basepostactions</a> = array (
<a name="l405"><span class="linenum"> 405</span></a>              0 =&gt; 'add',
<a name="l406"><span class="linenum"> 406</span></a>              1 =&gt; 'delete',
<a name="l407"><span class="linenum"> 407</span></a>              2 =&gt; 'edit',
<a name="l408"><span class="linenum"> 408</span></a>              3 =&gt; 'add mod',
<a name="l409"><span class="linenum"> 409</span></a>              4 =&gt; 'delete mod',
<a name="l410"><span class="linenum"> 410</span></a>              5 =&gt; 'edit sectionenrol',
<a name="l411"><span class="linenum"> 411</span></a>              6 =&gt; 'loginas',
<a name="l412"><span class="linenum"> 412</span></a>              7 =&gt; 'new',
<a name="l413"><span class="linenum"> 413</span></a>              8 =&gt; 'unenrol',
<a name="l414"><span class="linenum"> 414</span></a>              9 =&gt; 'update',
<a name="l415"><span class="linenum"> 415</span></a>              10 =&gt; 'update mod',
<a name="l416"><span class="linenum"> 416</span></a>              11 =&gt; 'upload',
<a name="l417"><span class="linenum"> 417</span></a>              12 =&gt; 'submit',
<a name="l418"><span class="linenum"> 418</span></a>              13 =&gt; 'submit for grading',
<a name="l419"><span class="linenum"> 419</span></a>              14 =&gt; 'talk',
<a name="l420"><span class="linenum"> 420</span></a>              15 =&gt; 'choose',
<a name="l421"><span class="linenum"> 421</span></a>              16 =&gt; 'choose again',
<a name="l422"><span class="linenum"> 422</span></a>              17 =&gt; 'record delete',
<a name="l423"><span class="linenum"> 423</span></a>              18 =&gt; 'add discussion',
<a name="l424"><span class="linenum"> 424</span></a>              19 =&gt; 'add post',
<a name="l425"><span class="linenum"> 425</span></a>              20 =&gt; 'delete discussion',
<a name="l426"><span class="linenum"> 426</span></a>              21 =&gt; 'delete post',
<a name="l427"><span class="linenum"> 427</span></a>              22 =&gt; 'move discussion',
<a name="l428"><span class="linenum"> 428</span></a>              23 =&gt; 'prune post',
<a name="l429"><span class="linenum"> 429</span></a>              24 =&gt; 'update post',
<a name="l430"><span class="linenum"> 430</span></a>              25 =&gt; 'add category',
<a name="l431"><span class="linenum"> 431</span></a>              26 =&gt; 'add entry',
<a name="l432"><span class="linenum"> 432</span></a>              27 =&gt; 'approve entry',
<a name="l433"><span class="linenum"> 433</span></a>              28 =&gt; 'delete category',
<a name="l434"><span class="linenum"> 434</span></a>              29 =&gt; 'delete entry',
<a name="l435"><span class="linenum"> 435</span></a>              30 =&gt; 'edit category',
<a name="l436"><span class="linenum"> 436</span></a>              31 =&gt; 'update entry',
<a name="l437"><span class="linenum"> 437</span></a>              32 =&gt; 'end',
<a name="l438"><span class="linenum"> 438</span></a>              33 =&gt; 'start',
<a name="l439"><span class="linenum"> 439</span></a>              34 =&gt; 'attempt',
<a name="l440"><span class="linenum"> 440</span></a>              35 =&gt; 'close attempt',
<a name="l441"><span class="linenum"> 441</span></a>              36 =&gt; 'preview',
<a name="l442"><span class="linenum"> 442</span></a>              37 =&gt; 'editquestions',
<a name="l443"><span class="linenum"> 443</span></a>              38 =&gt; 'delete attempt',
<a name="l444"><span class="linenum"> 444</span></a>              39 =&gt; 'manualgrade',
<a name="l445"><span class="linenum"> 445</span></a>          );
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>           <a class="var it1125" onMouseOver="hilite(1125)" onMouseOut="lolite()" onClick="logVariable('baseviewactions')" href="../../_variables/baseviewactions.html">$baseviewactions</a> = array (
<a name="l448"><span class="linenum"> 448</span></a>              0 =&gt; 'view',
<a name="l449"><span class="linenum"> 449</span></a>              1 =&gt; 'view all',
<a name="l450"><span class="linenum"> 450</span></a>              2 =&gt; 'history',
<a name="l451"><span class="linenum"> 451</span></a>              3 =&gt; 'view submission',
<a name="l452"><span class="linenum"> 452</span></a>              4 =&gt; 'view feedback',
<a name="l453"><span class="linenum"> 453</span></a>              5 =&gt; 'print',
<a name="l454"><span class="linenum"> 454</span></a>              6 =&gt; 'report',
<a name="l455"><span class="linenum"> 455</span></a>              7 =&gt; 'view discussion',
<a name="l456"><span class="linenum"> 456</span></a>              8 =&gt; 'search',
<a name="l457"><span class="linenum"> 457</span></a>              9 =&gt; 'forum',
<a name="l458"><span class="linenum"> 458</span></a>              10 =&gt; 'forums',
<a name="l459"><span class="linenum"> 459</span></a>              11 =&gt; 'subscribers',
<a name="l460"><span class="linenum"> 460</span></a>              12 =&gt; 'view forum',
<a name="l461"><span class="linenum"> 461</span></a>              13 =&gt; 'view entry',
<a name="l462"><span class="linenum"> 462</span></a>              14 =&gt; 'review',
<a name="l463"><span class="linenum"> 463</span></a>              15 =&gt; 'pre-view',
<a name="l464"><span class="linenum"> 464</span></a>              16 =&gt; 'download',
<a name="l465"><span class="linenum"> 465</span></a>              17 =&gt; 'view form',
<a name="l466"><span class="linenum"> 466</span></a>              18 =&gt; 'view graph',
<a name="l467"><span class="linenum"> 467</span></a>              19 =&gt; 'view report',
<a name="l468"><span class="linenum"> 468</span></a>          );
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>          <a class="var it1126" onMouseOver="hilite(1126)" onMouseOut="lolite()" onClick="logVariable('postactions')" href="../../_variables/postactions.html">$postactions</a> = <a class="function" onClick="logFunction('stats_get_action_names')" href="../../_functions/stats_get_action_names.html" onMouseOver="funcPopup(event,'stats_get_action_names')">stats_get_action_names</a>('post');
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>          foreach (<a class="var it1124" onMouseOver="hilite(1124)" onMouseOut="lolite()" onClick="logVariable('basepostactions')" href="../../_variables/basepostactions.html">$basepostactions</a> as <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>) {
<a name="l473"><span class="linenum"> 473</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertContains(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>, <a class="var it1126" onMouseOver="hilite(1126)" onMouseOut="lolite()" onClick="logVariable('postactions')" href="../../_variables/postactions.html">$postactions</a>);
<a name="l474"><span class="linenum"> 474</span></a>          }
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('viewactions')" href="../../_variables/viewactions.html">$viewactions</a> = <a class="function" onClick="logFunction('stats_get_action_names')" href="../../_functions/stats_get_action_names.html" onMouseOver="funcPopup(event,'stats_get_action_names')">stats_get_action_names</a>('view');
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>          foreach (<a class="var it1125" onMouseOver="hilite(1125)" onMouseOut="lolite()" onClick="logVariable('baseviewactions')" href="../../_variables/baseviewactions.html">$baseviewactions</a> as <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>) {
<a name="l479"><span class="linenum"> 479</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertContains(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>, <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('viewactions')" href="../../_variables/viewactions.html">$viewactions</a>);
<a name="l480"><span class="linenum"> 480</span></a>          }
<a name="l481"><span class="linenum"> 481</span></a>      }
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>      <span class="comment">/**</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * Test the temporary table creation and deletion.</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     */</span>
<a name="l486"><span class="linenum"> 486</span></a>      public function <a class="function" onClick="logFunction('test_statslib_temp_table_create_and_drop')" href="../../_functions/test_statslib_temp_table_create_and_drop.html" onMouseOver="funcPopup(event,'test_statslib_temp_table_create_and_drop')">test_statslib_temp_table_create_and_drop</a>() {
<a name="l487"><span class="linenum"> 487</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l490"><span class="linenum"> 490</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('table_exists')" href="../../_functions/table_exists.html" onMouseOver="funcPopup(event,'table_exists')">table_exists</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l491"><span class="linenum"> 491</span></a>          }
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>          <a class="function" onClick="logFunction('stats_temp_table_create')" href="../../_functions/stats_temp_table_create.html" onMouseOver="funcPopup(event,'stats_temp_table_create')">stats_temp_table_create</a>();
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l496"><span class="linenum"> 496</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('table_exists')" href="../../_functions/table_exists.html" onMouseOver="funcPopup(event,'table_exists')">table_exists</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l497"><span class="linenum"> 497</span></a>          }
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>          <a class="function" onClick="logFunction('stats_temp_table_drop')" href="../../_functions/stats_temp_table_drop.html" onMouseOver="funcPopup(event,'stats_temp_table_drop')">stats_temp_table_drop</a>();
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tables')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/tables.html">tables</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>) {
<a name="l502"><span class="linenum"> 502</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFalse(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_manager')" href="../../_functions/get_manager.html" onMouseOver="funcPopup(event,'get_manager')">get_manager</a>()-&gt;<a class="function" onClick="logFunction('table_exists')" href="../../_functions/table_exists.html" onMouseOver="funcPopup(event,'table_exists')">table_exists</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l503"><span class="linenum"> 503</span></a>          }
<a name="l504"><span class="linenum"> 504</span></a>      }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>      <span class="comment">/**</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">     * Test the temporary table creation and deletion.</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">     *</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     * @depends test_statslib_temp_table_create_and_drop</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">     */</span>
<a name="l511"><span class="linenum"> 511</span></a>      public function <a class="function" onClick="logFunction('test_statslib_temp_table_fill')" href="../../_functions/test_statslib_temp_table_fill.html" onMouseOver="funcPopup(event,'test_statslib_temp_table_fill')">test_statslib_temp_table_fill</a>() {
<a name="l512"><span class="linenum"> 512</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>          <a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_xml_data_file')" href="../../_functions/load_xml_data_file.html" onMouseOver="funcPopup(event,'load_xml_data_file')">load_xml_data_file</a>(__DIR__.&quot;/fixtures/statslib-test09.xml&quot;);
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>[0], array('log'));
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">        // This nonsense needs to be rewritten.</span>
<a name="l519"><span class="linenum"> 519</span></a>          <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> = new DateTime('now', <a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_server_timezone_object')" href="../../_functions/get_server_timezone_object.html" onMouseOver="funcPopup(event,'get_server_timezone_object')">get_server_timezone_object</a>());
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> = self::DAY - <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a>-&gt;<a class="function" onClick="logFunction('getOffset')" href="../../_functions/getoffset.html" onMouseOver="funcPopup(event,'getoffset')">getOffset</a>();
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>   = <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a> + (24 * 3600);
<a name="l522"><span class="linenum"> 522</span></a>  
<a name="l523"><span class="linenum"> 523</span></a>          <a class="function" onClick="logFunction('stats_temp_table_create')" href="../../_functions/stats_temp_table_create.html" onMouseOver="funcPopup(event,'stats_temp_table_create')">stats_temp_table_create</a>();
<a name="l524"><span class="linenum"> 524</span></a>          <a class="function" onClick="logFunction('stats_temp_table_fill')" href="../../_functions/stats_temp_table_fill.html" onMouseOver="funcPopup(event,'stats_temp_table_fill')">stats_temp_table_fill</a>(<a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>, <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>);
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('temp_log1'));
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('temp_log2'));
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          <a class="function" onClick="logFunction('stats_temp_table_drop')" href="../../_functions/stats_temp_table_drop.html" onMouseOver="funcPopup(event,'stats_temp_table_drop')">stats_temp_table_drop</a>();
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">        // New log stores.</span>
<a name="l532"><span class="linenum"> 532</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('preventResetByRollback')" href="../../_functions/preventresetbyrollback.html" onMouseOver="funcPopup(event,'preventresetbyrollback')">preventResetByRollback</a>();
<a name="l533"><span class="linenum"> 533</span></a>          <a class="function" onClick="logFunction('stats_temp_table_create')" href="../../_functions/stats_temp_table_create.html" onMouseOver="funcPopup(event,'stats_temp_table_create')">stats_temp_table_create</a>();
<a name="l534"><span class="linenum"> 534</span></a>  
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l537"><span class="linenum"> 537</span></a>          <a class="var it1129" onMouseOver="hilite(1129)" onMouseOut="lolite()" onClick="logVariable('fcontext')" href="../../_variables/fcontext.html">$fcontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>);
<a name="l538"><span class="linenum"> 538</span></a>          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l539"><span class="linenum"> 539</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setUser')" href="../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>);
<a name="l540"><span class="linenum"> 540</span></a>  
<a name="l541"><span class="linenum"> 541</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertFileExists(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/admin.html">admin</a>/tool/log/store/standard/version.php&quot;);
<a name="l542"><span class="linenum"> 542</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('enabled_stores', 'logstore_standard', 'tool_log');
<a name="l543"><span class="linenum"> 543</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('buffersize', 0, 'logstore_standard');
<a name="l544"><span class="linenum"> 544</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('logguests', 1, 'logstore_standard');
<a name="l545"><span class="linenum"> 545</span></a>          <a class="function" onClick="logFunction('get_log_manager')" href="../../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>(true);
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('logstore_standard_log');
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>          \core_tests\event\<a class="class" onClick="logClass('create_executed')" href="../../_classes/create_executed.html" onMouseOver="classPopup(event,'create_executed')">create_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="var it1129" onMouseOver="hilite(1129)" onMouseOut="lolite()" onClick="logVariable('fcontext')" href="../../_variables/fcontext.html">$fcontext</a>, 'courseid' =&gt; <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l550"><span class="linenum"> 550</span></a>          \core_tests\event\<a class="class" onClick="logClass('read_executed')" href="../../_classes/read_executed.html" onMouseOver="classPopup(event,'read_executed')">read_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, 'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l551"><span class="linenum"> 551</span></a>          \core_tests\event\<a class="class" onClick="logClass('update_executed')" href="../../_classes/update_executed.html" onMouseOver="classPopup(event,'update_executed')">update_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l552"><span class="linenum"> 552</span></a>          \core_tests\event\<a class="class" onClick="logClass('delete_executed')" href="../../_classes/delete_executed.html" onMouseOver="classPopup(event,'delete_executed')">delete_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>          \core\event\<a class="class" onClick="logClass('user_loggedin')" href="../../_classes/user_loggedin.html" onMouseOver="classPopup(event,'user_loggedin')">user_loggedin</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(
<a name="l555"><span class="linenum"> 555</span></a>              array(
<a name="l556"><span class="linenum"> 556</span></a>                  'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l557"><span class="linenum"> 557</span></a>                  'objectid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l558"><span class="linenum"> 558</span></a>                  'other' =&gt; array('username' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('username')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/username.html">username</a>),
<a name="l559"><span class="linenum"> 559</span></a>              )
<a name="l560"><span class="linenum"> 560</span></a>          )-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l561"><span class="linenum"> 561</span></a>  
<a name="l562"><span class="linenum"> 562</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('logstore_standard_log', 'timecreated', 10);
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(5, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('logstore_standard_log'));
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>          \core_tests\event\<a class="class" onClick="logClass('delete_executed')" href="../../_classes/delete_executed.html" onMouseOver="classPopup(event,'delete_executed')">delete_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l567"><span class="linenum"> 567</span></a>          \core_tests\event\<a class="class" onClick="logClass('delete_executed')" href="../../_classes/delete_executed.html" onMouseOver="classPopup(event,'delete_executed')">delete_executed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array('context' =&gt; <a class="class" onClick="logClass('context_system')" href="../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()))-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l568"><span class="linenum"> 568</span></a>  
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">        // Fake the origin of events.</span>
<a name="l570"><span class="linenum"> 570</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('logstore_standard_log', 'origin', 'web', array());
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(7, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('logstore_standard_log'));
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>          <a class="function" onClick="logFunction('stats_temp_table_fill')" href="../../_functions/stats_temp_table_fill.html" onMouseOver="funcPopup(event,'stats_temp_table_fill')">stats_temp_table_fill</a>(9, 11);
<a name="l575"><span class="linenum"> 575</span></a>  
<a name="l576"><span class="linenum"> 576</span></a>          <a class="var it1130" onMouseOver="hilite(1130)" onMouseOut="lolite()" onClick="logVariable('logs1')" href="../../_variables/logs1.html">$logs1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('temp_log1');
<a name="l577"><span class="linenum"> 577</span></a>          <a class="var it1131" onMouseOver="hilite(1131)" onMouseOut="lolite()" onClick="logVariable('logs2')" href="../../_variables/logs2.html">$logs2</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('temp_log2');
<a name="l578"><span class="linenum"> 578</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(5, <a class="var it1130" onMouseOver="hilite(1130)" onMouseOut="lolite()" onClick="logVariable('logs1')" href="../../_variables/logs1.html">$logs1</a>);
<a name="l579"><span class="linenum"> 579</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(5, <a class="var it1131" onMouseOver="hilite(1131)" onMouseOut="lolite()" onClick="logVariable('logs2')" href="../../_variables/logs2.html">$logs2</a>);
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">        // The order of records in the temp tables is not guaranteed...</span>
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>          <a class="var it1132" onMouseOver="hilite(1132)" onMouseOut="lolite()" onClick="logVariable('viewcount')" href="../../_variables/viewcount.html">$viewcount</a> = 0;
<a name="l583"><span class="linenum"> 583</span></a>          <a class="var it1133" onMouseOver="hilite(1133)" onMouseOut="lolite()" onClick="logVariable('updatecount')" href="../../_variables/updatecount.html">$updatecount</a> = 0;
<a name="l584"><span class="linenum"> 584</span></a>          <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('logincount')" href="../../_variables/logincount.html">$logincount</a> = 0;
<a name="l585"><span class="linenum"> 585</span></a>          foreach (<a class="var it1130" onMouseOver="hilite(1130)" onMouseOut="lolite()" onClick="logVariable('logs1')" href="../../_variables/logs1.html">$logs1</a> as <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>) {
<a name="l586"><span class="linenum"> 586</span></a>              if (<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('course')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/course.html">course</a> == <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) {
<a name="l587"><span class="linenum"> 587</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('view', <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/action.html">action</a>);
<a name="l588"><span class="linenum"> 588</span></a>                  <a class="var it1132" onMouseOver="hilite(1132)" onMouseOut="lolite()" onClick="logVariable('viewcount')" href="../../_variables/viewcount.html">$viewcount</a>++;
<a name="l589"><span class="linenum"> 589</span></a>              } else {
<a name="l590"><span class="linenum"> 590</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/action.html">action</a>, array('update', 'login')));
<a name="l591"><span class="linenum"> 591</span></a>                  if (<a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/action.html">action</a> === 'update') {
<a name="l592"><span class="linenum"> 592</span></a>                      <a class="var it1133" onMouseOver="hilite(1133)" onMouseOut="lolite()" onClick="logVariable('updatecount')" href="../../_variables/updatecount.html">$updatecount</a>++;
<a name="l593"><span class="linenum"> 593</span></a>                  } else {
<a name="l594"><span class="linenum"> 594</span></a>                      <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('logincount')" href="../../_variables/logincount.html">$logincount</a>++;
<a name="l595"><span class="linenum"> 595</span></a>                  }
<a name="l596"><span class="linenum"> 596</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>, <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('course')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>);
<a name="l597"><span class="linenum"> 597</span></a>              }
<a name="l598"><span class="linenum"> 598</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('userid')" class="var it43193" onMouseOver="hilite(43193)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>);
<a name="l599"><span class="linenum"> 599</span></a>          }
<a name="l600"><span class="linenum"> 600</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it1132" onMouseOver="hilite(1132)" onMouseOut="lolite()" onClick="logVariable('viewcount')" href="../../_variables/viewcount.html">$viewcount</a>);
<a name="l601"><span class="linenum"> 601</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(3, <a class="var it1133" onMouseOver="hilite(1133)" onMouseOut="lolite()" onClick="logVariable('updatecount')" href="../../_variables/updatecount.html">$updatecount</a>);
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it1134" onMouseOver="hilite(1134)" onMouseOut="lolite()" onClick="logVariable('logincount')" href="../../_variables/logincount.html">$logincount</a>);
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>          <a class="function" onClick="logFunction('set_config')" href="../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('enabled_stores', '', 'tool_log');
<a name="l605"><span class="linenum"> 605</span></a>          <a class="function" onClick="logFunction('get_log_manager')" href="../../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>(true);
<a name="l606"><span class="linenum"> 606</span></a>          <a class="function" onClick="logFunction('stats_temp_table_drop')" href="../../_functions/stats_temp_table_drop.html" onMouseOver="funcPopup(event,'stats_temp_table_drop')">stats_temp_table_drop</a>();
<a name="l607"><span class="linenum"> 607</span></a>      }
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>      <span class="comment">/**</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * Test the temporary table creation and deletion.</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     *</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     * @depends test_statslib_temp_table_create_and_drop</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     */</span>
<a name="l614"><span class="linenum"> 614</span></a>      public function <a class="function" onClick="logFunction('test_statslib_temp_table_setup')" href="../../_functions/test_statslib_temp_table_setup.html" onMouseOver="funcPopup(event,'test_statslib_temp_table_setup')">test_statslib_temp_table_setup</a>() {
<a name="l615"><span class="linenum"> 615</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l616"><span class="linenum"> 616</span></a>  
<a name="l617"><span class="linenum"> 617</span></a>          <a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a> = array();
<a name="l618"><span class="linenum"> 618</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>, array('log'));
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>          <a class="function" onClick="logFunction('stats_temp_table_create')" href="../../_functions/stats_temp_table_create.html" onMouseOver="funcPopup(event,'stats_temp_table_create')">stats_temp_table_create</a>();
<a name="l621"><span class="linenum"> 621</span></a>          <a class="function" onClick="logFunction('stats_temp_table_setup')" href="../../_functions/stats_temp_table_setup.html" onMouseOver="funcPopup(event,'stats_temp_table_setup')">stats_temp_table_setup</a>();
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('temp_enroled'));
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>          <a class="function" onClick="logFunction('stats_temp_table_drop')" href="../../_functions/stats_temp_table_drop.html" onMouseOver="funcPopup(event,'stats_temp_table_drop')">stats_temp_table_drop</a>();
<a name="l626"><span class="linenum"> 626</span></a>      }
<a name="l627"><span class="linenum"> 627</span></a>  
<a name="l628"><span class="linenum"> 628</span></a>      <span class="comment">/**</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment">     * Test the function that clean out the temporary tables.</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">     *</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     * @depends test_statslib_temp_table_create_and_drop</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     */</span>
<a name="l633"><span class="linenum"> 633</span></a>      public function <a class="function" onClick="logFunction('test_statslib_temp_table_clean')" href="../../_functions/test_statslib_temp_table_clean.html" onMouseOver="funcPopup(event,'test_statslib_temp_table_clean')">test_statslib_temp_table_clean</a>() {
<a name="l634"><span class="linenum"> 634</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>          <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a> = array(
<a name="l637"><span class="linenum"> 637</span></a>              'temp_log1'             =&gt; array('id' =&gt; 1, 'course' =&gt; 1),
<a name="l638"><span class="linenum"> 638</span></a>              'temp_log2'             =&gt; array('id' =&gt; 1, 'course' =&gt; 1),
<a name="l639"><span class="linenum"> 639</span></a>              'temp_stats_daily'      =&gt; array('id' =&gt; 1, 'courseid' =&gt; 1),
<a name="l640"><span class="linenum"> 640</span></a>              'temp_stats_user_daily' =&gt; array('id' =&gt; 1, 'courseid' =&gt; 1),
<a name="l641"><span class="linenum"> 641</span></a>          );
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>          <a class="function" onClick="logFunction('stats_temp_table_create')" href="../../_functions/stats_temp_table_create.html" onMouseOver="funcPopup(event,'stats_temp_table_create')">stats_temp_table_create</a>();
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>          foreach (<a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> =&gt; <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>) {
<a name="l646"><span class="linenum"> 646</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record_raw')" href="../../_functions/insert_record_raw.html" onMouseOver="funcPopup(event,'insert_record_raw')">insert_record_raw</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>, <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>);
<a name="l647"><span class="linenum"> 647</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l648"><span class="linenum"> 648</span></a>          }
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>          <a class="function" onClick="logFunction('stats_temp_table_clean')" href="../../_functions/stats_temp_table_clean.html" onMouseOver="funcPopup(event,'stats_temp_table_clean')">stats_temp_table_clean</a>();
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>          foreach (<a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../../_variables/rows.html">$rows</a> as <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a> =&gt; <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../_variables/row.html">$row</a>) {
<a name="l653"><span class="linenum"> 653</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(0, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../_variables/table.html">$table</a>));
<a name="l654"><span class="linenum"> 654</span></a>          }
<a name="l655"><span class="linenum"> 655</span></a>  
<a name="l656"><span class="linenum"> 656</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('stats_daily'));
<a name="l657"><span class="linenum"> 657</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('stats_user_daily'));
<a name="l658"><span class="linenum"> 658</span></a>  
<a name="l659"><span class="linenum"> 659</span></a>          <a class="function" onClick="logFunction('stats_temp_table_drop')" href="../../_functions/stats_temp_table_drop.html" onMouseOver="funcPopup(event,'stats_temp_table_drop')">stats_temp_table_drop</a>();
<a name="l660"><span class="linenum"> 660</span></a>      }
<a name="l661"><span class="linenum"> 661</span></a>  
<a name="l662"><span class="linenum"> 662</span></a>      <span class="comment">/**</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment">     * Test the daily stats function.</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">     *</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">     * @depends test_statslib_get_base_daily</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     * @depends test_statslib_get_next_day_start</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     * @depends test_statslib_get_start_from</span>
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">     * @depends test_statslib_temp_table_create_and_drop</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">     * @depends test_statslib_temp_table_setup</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">     * @depends test_statslib_temp_table_fill</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">     * @dataProvider daily_log_provider</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     */</span>
<a name="l673"><span class="linenum"> 673</span></a>      public function <a class="function" onClick="logFunction('test_statslib_cron_daily')" href="../../_functions/test_statslib_cron_daily.html" onMouseOver="funcPopup(event,'test_statslib_cron_daily')">test_statslib_cron_daily</a>(<a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('xmlfile')" href="../../_variables/xmlfile.html">$xmlfile</a>) {
<a name="l674"><span class="linenum"> 674</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l675"><span class="linenum"> 675</span></a>  
<a name="l676"><span class="linenum"> 676</span></a>          <a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_xml_data_file')" href="../../_functions/load_xml_data_file.html" onMouseOver="funcPopup(event,'load_xml_data_file')">load_xml_data_file</a>(__DIR__.&quot;/fixtures/{<a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('xmlfile')" href="../../_variables/xmlfile.html">$xmlfile</a>}&quot;);
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>, <a class="var it1116" onMouseOver="hilite(1116)" onMouseOut="lolite()" onClick="logVariable('stats')" href="../../_variables/stats.html">$stats</a>) = <a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>;
<a name="l679"><span class="linenum"> 679</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1115" onMouseOver="hilite(1115)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../../_variables/logs.html">$logs</a>, array('log'));
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">        // Stats cron daily uses mtrace, turn on buffering to silence output.</span>
<a name="l682"><span class="linenum"> 682</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l683"><span class="linenum"> 683</span></a>          <a class="function" onClick="logFunction('stats_cron_daily')" href="../../_functions/stats_cron_daily.html" onMouseOver="funcPopup(event,'stats_cron_daily')">stats_cron_daily</a>(1);
<a name="l684"><span class="linenum"> 684</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l685"><span class="linenum"> 685</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('verify_stats')" href="../../_functions/verify_stats.html" onMouseOver="funcPopup(event,'verify_stats')">verify_stats</a>(<a class="var it1116" onMouseOver="hilite(1116)" onMouseOut="lolite()" onClick="logVariable('stats')" href="../../_variables/stats.html">$stats</a>, <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l688"><span class="linenum"> 688</span></a>      }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>      <span class="comment">/**</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * Test the daily stats function.</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     *</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     * @depends test_statslib_get_base_daily</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     * @depends test_statslib_get_next_day_start</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     */</span>
<a name="l696"><span class="linenum"> 696</span></a>      public function <a class="function" onClick="logFunction('test_statslib_cron_daily_no_default_profile_id')" href="../../_functions/test_statslib_cron_daily_no_default_profile_id.html" onMouseOver="funcPopup(event,'test_statslib_cron_daily_no_default_profile_id')">test_statslib_cron_daily_no_default_profile_id</a>() {
<a name="l697"><span class="linenum"> 697</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l698"><span class="linenum"> 698</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultfrontpageroleid')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/defaultfrontpageroleid.html">defaultfrontpageroleid</a> = 0;
<a name="l699"><span class="linenum"> 699</span></a>  
<a name="l700"><span class="linenum"> 700</span></a>          <a class="var it690" onMouseOver="hilite(690)" onMouseOut="lolite()" onClick="logVariable('course1')" href="../../_variables/course1.html">$course1</a>  = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('shortname' =&gt; 'course1'));
<a name="l701"><span class="linenum"> 701</span></a>          <a class="var it1137" onMouseOver="hilite(1137)" onMouseOut="lolite()" onClick="logVariable('guestid')" href="../../_variables/guestid.html">$guestid</a>  = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('siteguest')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/siteguest.html">siteguest</a>;
<a name="l702"><span class="linenum"> 702</span></a>          <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>    = <a class="function" onClick="logFunction('stats_get_base_daily')" href="../../_functions/stats_get_base_daily.html" onMouseOver="funcPopup(event,'stats_get_base_daily')">stats_get_base_daily</a>(1272758400);
<a name="l703"><span class="linenum"> 703</span></a>          <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>      = <a class="function" onClick="logFunction('stats_get_next_day_start')" href="../../_functions/stats_get_next_day_start.html" onMouseOver="funcPopup(event,'stats_get_next_day_start')">stats_get_next_day_start</a>(<a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../../_variables/start.html">$start</a>);
<a name="l704"><span class="linenum"> 704</span></a>          <a class="var it1138" onMouseOver="hilite(1138)" onMouseOut="lolite()" onClick="logVariable('fpid')" href="../../_variables/fpid.html">$fpid</a>     = (int) <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultfrontpageroleid')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/defaultfrontpageroleid.html">defaultfrontpageroleid</a>;
<a name="l705"><span class="linenum"> 705</span></a>          <a class="var it1110" onMouseOver="hilite(1110)" onMouseOut="lolite()" onClick="logVariable('gr')" href="../../_variables/gr.html">$gr</a>       = <a class="function" onClick="logFunction('get_guest_role')" href="../../_functions/get_guest_role.html" onMouseOver="funcPopup(event,'get_guest_role')">get_guest_role</a>();
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>          <a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_xml_data_file')" href="../../_functions/load_xml_data_file.html" onMouseOver="funcPopup(event,'load_xml_data_file')">load_xml_data_file</a>(__DIR__.&quot;/fixtures/statslib-test10.xml&quot;);
<a name="l708"><span class="linenum"> 708</span></a>  
<a name="l709"><span class="linenum"> 709</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('prepare_db')" href="../../_functions/prepare_db.html" onMouseOver="funcPopup(event,'prepare_db')">prepare_db</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>[0], array('log'));
<a name="l710"><span class="linenum"> 710</span></a>  
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">        // Stats cron daily uses mtrace, turn on buffering to silence output.</span>
<a name="l712"><span class="linenum"> 712</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l713"><span class="linenum"> 713</span></a>          <a class="function" onClick="logFunction('stats_cron_daily')" href="../../_functions/stats_cron_daily.html" onMouseOver="funcPopup(event,'stats_cron_daily')">stats_cron_daily</a>(<a class="var it1139" onMouseOver="hilite(1139)" onMouseOut="lolite()" onClick="logVariable('maxdays')" href="../../_variables/maxdays.html">$maxdays</a>=1);
<a name="l714"><span class="linenum"> 714</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l715"><span class="linenum"> 715</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('verify_stats')" href="../../_functions/verify_stats.html" onMouseOver="funcPopup(event,'verify_stats')">verify_stats</a>(<a class="var it1104" onMouseOver="hilite(1104)" onMouseOut="lolite()" onClick="logVariable('dataset')" href="../../_variables/dataset.html">$dataset</a>[1], <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l718"><span class="linenum"> 718</span></a>      }
<a name="l719"><span class="linenum"> 719</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'enrol_user': ['enrol_user', 'Enrol user into course via enrol instance. ', [['enrol/flatfile','lib.php',144],['lib','enrollib.php',1270],['lib/testing/generator','data_generator.php',891],['enrol/lti/classes','helper.php',233],['enrol/self','externallib.php',122],['enrol/mnet','enrol.php',115],['enrol/guest','lib.php',60]], 745],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'test_statslib_temp_table_setup': ['test_statslib_temp_table_setup', 'Test the temporary table creation and deletion. ', [['lib/tests','statslib_test.php',609]], 0],
'test_statslib_progress_debug': ['test_statslib_progress_debug', 'Test progress output when debug is on. ', [['lib/tests','statslib_test.php',274]], 0],
'stats_temp_table_clean': ['stats_temp_table_clean', 'Deletes summary logs table for stats calculation ', [['lib','statslib.php',1816]], 2],
'get_log_manager': ['get_log_manager', 'Get instance of log manager. ', [['lib','datalib.php',1520]], 51],
'set_debugging': ['set_debugging', 'Alter debugging level for the current request, the change is not saved in database. ', [['lib','weblib.php',2994]], 36],
'stats_temp_table_setup': ['stats_temp_table_setup', 'Fills the temporary stats tables with new data ', [['lib','statslib.php',1702]], 2],
'preventresetbyrollback': ['preventresetbyrollback', 'Call this method from test if you want to make sure that the resetting of database is done the slow way without transaction rollback. ', [['lib/phpunit/classes','advanced_testcase.php',230]], 51],
'test_statslib_get_next_day_start': ['test_statslib_get_next_day_start', 'Test the function that gets the start of the next day. ', [['lib/tests','statslib_test.php',389]], 0],
'stats_get_base_daily': ['stats_get_base_daily', 'Start of day ', [['lib','statslib.php',983]], 17],
'test_statslib_temp_table_clean': ['test_statslib_temp_table_clean', 'Test the function that clean out the temporary tables. ', [['lib/tests','statslib_test.php',628]], 0],
'assertequals': ['assertequals', 'Asserts that two variables are equal. ', [['lib/tests','completionlib_test.php',68]], 12471],
'count_records': ['count_records', 'Count a list of records. ', [['competency/classes','persistent.php',815],['mod/glossary/classes','entry_query_builder.php',152],['lib/dml','moodle_database.php',1766]], 1630],
'create_course': ['create_course', 'Creates the actual course. ', [['admin/tool/generator/classes','course_backend.php',246],['lib/testing/generator','data_generator.php',366],['enrol/ldap','lib.php',949],['course','lib.php',2654]], 1178],
'stats_temp_table_drop': ['stats_temp_table_drop', 'Deletes summary logs table for stats calculation ', [['lib','statslib.php',1678]], 7],
'setup': ['setup', '', [['lib/htmlpurifier/HTMLPurifier/HTMLModule','Target.php',16],['search/tests/generator','lib.php',37],['mod/quiz/tests','repaginate_test.php',71],['lib/tests','statslib_test.php',51],['comment/tests','externallib_test.php',44],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeEmbed.php',16],['mod/feedback/tests','events_test.php',59],['search/tests','engine_test.php',40],['question/behaviour/adaptive/tests','mark_display_test.php',47],['mod/wiki/tests','search_test.php',46],['mnet/tests','events_test.php',37],['blocks/comments/tests','events_test.php',43],['mod/workshop/eval/best/tests','lib_test.php',43],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Proprietary.php',17],['message/tests','events_test.php',30],['lib/grade/tests/fixtures','lib.php',52],['mod/glossary/tests','search_test.php',47],['question/behaviour/deferredcbm/tests','behaviourtype_test.php',46],['lib/ddl/tests','ddl_test.php',32],['mod/assign/feedback/editpdf/tests','editpdf_test.php',46],['question/type/gapselect/tests','questiontype_test.php',43],['rating/tests','rating_test.php',42],['webservice/xmlrpc/tests','locallib_test.php',41],['calendar/tests','externallib_test.php',43],['mod/book/tool/importhtml/tests','locallib_test.php',41],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Iframe.php',26],['question/type/tests','question_first_matching_answer_grading_strategy_test.php',61],['question/type/ddimageortext/tests','questiontype_test.php',43],['availability/tests','tree_test.php',38],['mod/choice/tests','events_test.php',50],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Object.php',23],['webservice/tests','events_test.php',38],['mod/lesson/tests','events_test.php',40],['backup/util/plan/tests','step_test.php',39],['mod/book/tool/exportimscp/tests','events_test.php',39],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',71],['question/behaviour/informationitem/tests','behaviourtype_test.php',45],['report/usersessions/tests','lib_test.php',55],['lib/form/tests','dateselector_test.php',50],['admin/tool/recyclebin/tests','events_test.php',38],['lib/tests','blocklib_test.php',42],['course/tests','externallib_test.php',42],['search/tests','document_test.php',46],['report/loglive/tests','events_test.php',38],['question/engine/tests','questionattempt_test.php',50],['report/log/tests','lib_test.php',53],['competency/tests','exporter_test.php',42],['lib/phpunit/classes','database_driver_testcase.php',104],['admin/tool/langimport/tests','events_test.php',36],['question/engine/tests','questionattemptstepiterator_test.php',44],['enrol/tests','role_external_test.php',35],['lib/htmlpurifier/HTMLPurifier','HTMLModuleManager.php',227],['webservice/xmlrpc/tests','xmlrpc_server_test.php',41],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeScripting.php',17],['lib/tests','rsslib_test.php',43],['lib/tests','gdlib_test.php',41],['question/type/ddwtos/tests','questiontype_test.php',43],['availability/condition/date/tests','condition_test.php',38],['question/type/essay/tests','questiontype_test.php',42],['lib/tests','collator_test.php',48],['admin/tool/monitor/tests','generator_test.php',39],['question/type/calculatedsimple/tests','questiontype_test.php',51],['backup/util/plan/tests','task_test.php',39],['admin/tool/lp/tests','externallib_test.php',75],['course/tests','search_test.php',46],['lib/tests','csvclass_test.php',39],['lib/phpunit/tests','basic_test.php',40],['lib/tests','externallib_test.php',35],['webservice/tests','lib_test.php',40],['mod/assign/submission/file/tests','locallib_test.php',53],['mod/assign/submission/onlinetext/tests','events_test.php',53],['question/engine/tests','questionattempt_with_steps_test.php',47],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Name.php',13],['search/engine/solr/tests','engine_test.php',71],['message/tests','inbound_test.php',36],['lib/tests','eventslib_test.php',34],['admin/tool/capability/tests','events_test.php',36],['backup/util/dbops/tests','backup_dbops_test.php',40],['lib/tests','questionlib_test.php',45],['cache/tests','config_writer_test.php',44],['lib/tests','coursecatlib_test.php',38],['calendar/tests','lib_test.php',38],['lib/htmlpurifier','locallib.php',178],['backup/util/structure/tests','structure_test.php',56],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',273],['question/type/match/tests','questiontype_test.php',45],['message/tests','externallib_test.php',35],['mod/workshop/form/numerrors/tests','lib_test.php',43],['webservice/xmlrpc/tests','lib_test.php',41],['badges/tests','badgeslib_test.php',41],['report/questioninstances/tests','events_test.php',36],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',23],['question/type/truefalse/tests','questiontype_test.php',44],['admin/tool/monitor/tests','events_test.php',33],['lib/tests','moodle_page_test.php',40],['mod/folder/tests','events_test.php',30],['competency/tests','persistent_test.php',37],['mod/lti/tests','externallib_test.php',45],['blocks/online_users/tests','online_users_test.php',44],['lib/htmlpurifier/HTMLPurifier/HTMLModule','TargetBlank.php',17],['question/engine/tests','questionattemptiterator_test.php',45],['mod/scorm/tests','events_test.php',50],['message/output/airnotifier/tests','externallib_test.php',42],['mod/scorm/tests','lib_test.php',45],['question/behaviour/immediatecbm/tests','behaviourtype_test.php',45],['admin/tool/monitor/tests','task_check_subscriptions_test.php',36],['lib','tablelib.php',437],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Tables.php',16],['lib/htmlpurifier/HTMLPurifier/HTMLModule','StyleAttribute.php',27],['lib/htmlpurifier/HTMLPurifier/HTMLModule','List.php',30],['mod/folder/tests','search_test.php',46],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Presentation.php',24],['calendar/tests','calendartype_test.php',59],['notes/tests','lib_test.php',53],['admin/tool/cohortroles/tests','api_test.php',49],['question/behaviour/missing/tests','behaviourtype_test.php',45],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Edit.php',18],['report/stats/tests','events_test.php',38],['user/tests','search_test.php',44],['mod/workshop/form/rubric/tests','lib_test.php',42],['mod/assign/submission/file/tests','events_test.php',59],['mod/quiz/tests','external_test.php',77],['admin/tool/recyclebin/tests','course_bin_test.php',46],['question/behaviour/interactive/tests','behaviourtype_test.php',45],['competency/tests','external_test.php',96],['lib/antivirus/clamav/tests','scanner_test.php',31],['question/behaviour/manualgraded/tests','behaviourtype_test.php',45],['report/stats/tests','lib_test.php',51],['calendar/tests','events_test.php',48],['mod/forum/tests','events_test.php',38],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Text.php',32],['tag/tests','taglib_test.php',32],['filter/algebra/tests','filter_test.php',47],['question/type/random/tests','questiontype_test.php',42],['question/type/multianswer/tests','questiontype_test.php',46],['lib/tests','myprofilelib_test.php',54],['mod/workshop/allocation/random/tests','allocator_test.php',42],['lib/tests','notification_test.php',39],['mod/resource/tests','search_test.php',46],['mod/book/tool/print/tests','events_test.php',39],['auth/manual/tests','manual_test.php',47],['mod/survey/tests','events_test.php',36],['mod/forum/tests','lib_test.php',33],['question/behaviour/interactivecountback/tests','behaviourtype_test.php',45],['enrol/imsenterprise/tests','imsenterprise_test.php',47],['badges/tests','external_test.php',45],['mod/forum/tests','mail_test.php',34],['question/type/numerical/tests','questiontype_test.php',50],['admin/tool/monitor/tests','task_clean_events_test.php',35],['enrol/lti/tests','helper_test.php',46],['lib/tests','medialib_test.php',39],['webservice/tests','externallib_test.php',33],['lib/htmlpurifier/HTMLPurifier','Definition.php',41],['filter/glossary','filter.php',43],['mod/book/tests','search_test.php',46],['admin/tool/monitor/tests','subscription_test.php',34],['lib/tests','lock_test.php',39],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Bdo.php',25],['lib/form/tests','duration_test.php',47],['question/behaviour/adaptive/tests','behaviourtype_test.php',45],['question/type/numerical/tests','form_test.php',65],['lib/form/tests','datetimeselector_test.php',50],['question/tests','events_test.php',34],['calendar/tests','ical_test.php',40],['backup/util/checks/tests','checks_test.php',42],['backup/util/plan/tests','plan_test.php',39],['mod/survey/tests','externallib_test.php',45],['availability/condition/grouping/tests','condition_test.php',37],['search/engine/solr/classes','schema.php',104],['mod/book/tests','events_test.php',39],['mod/assign/tests','search_test.php',47],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Legacy.php',29],['lib/tests','event_user_graded_test.php',44],['availability/condition/completion/tests','condition_test.php',40],['mod/wiki/tests','externallib_test.php',45],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Scripting.php',41],['mod/assign','gradingtable.php',1425],['question/engine/tests','helpers.php',704],['question/behaviour/immediatefeedback/tests','behaviourtype_test.php',45],['question/engine/tests','unitofwork_test.php',50],['admin/tool/monitor/tests','eventobservers_test.php',38],['cache/tests','cache_test.php',44],['question/behaviour/deferredfeedback/tests','behaviourtype_test.php',45],['report/log/tests','events_test.php',38],['lib/tests','unoconv_test.php',42],['filter/mathjaxloader','filter.php',97],['lib/markdown','Markdown.php',132],['mod/wiki/tests','events_test.php',44],['lib/dml/tests','recordset_walk_test.php',38],['mod/forum/tests','search_test.php',48],['calendar/tests','rrule_manager_tests.php',30],['lib/tests','filterlib_test.php',45],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Image.php',19],['mod/feedback/tests','upgradelib_test.php',54],['mod/scorm/tests','externallib_test.php',45],['question/type/shortanswer/tests','questiontype_test.php',48],['lib/filestorage/tests','zip_packer_test.php',40],['report/completion/tests','events_test.php',38],['availability/condition/profile/tests','condition_test.php',48],['question/tests','externallib_test.php',45],['mod/forum/tests','generator_test.php',39],['mod/data/tests','search_test.php',93],['message/tests','messagelib_test.php',44],['search/tests','manager_test.php',44],['lib/htmlpurifier/HTMLPurifier/HTMLModule','SafeObject.php',19],['notes/tests','events_test.php',44],['blog/tests','lib_test.php',42],['question/type/description/tests','questiontype_test.php',44],['backup/controller/tests','controller_test.php',41],['mod/glossary/tests','events_test.php',38],['lib','filterlib.php',400],['lib/tests','events_test.php',32],['mod/forum/tests','maildigest_test.php',41],['grade/report/user/tests','lib_test.php',54],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Hypertext.php',17],['lib/tests','ajaxlib_test.php',32],['question/type/multichoice/tests','questiontype_test.php',43],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Nofollow.php',18],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Forms.php',29],['filter/tex/tests','filter_test.php',43],['admin/tool/monitor/tests','rule_manager_test.php',37],['backup/converter/moodle1/tests','moodle1_converter_test.php',41],['mod/assign/tests','base_test.php',85],['mod/resource/tests','events_test.php',36],['question/type/calculated/tests','questiontype_test.php',48],['mod/workshop/tests','locallib_test.php',42],['lib/tests','customcontext_test.php',103],['availability/condition/group/tests','condition_test.php',37],['mod/forum/tests','subscriptions_test.php',32],['cache/tests','administration_helper_test.php',45],['my/tests','events_test.php',40],['mod/assign/tests','lib_test.php',42],['availability/tests','info_test.php',39],['tag/tests','events_test.php',36],['admin/tool/recyclebin/tests','category_bin_test.php',46],['lib/editor/atto/plugins/equation/tests','upgradelib_testcase.php',44],['lib/dml/tests','dml_test.php',30],['question/type/ddmarker/tests','questiontype_test.php',44],['backup/util/factories/tests','factories_test.php',43],['mod/data/tests','events_test.php',32],['mod/workshop/form/accumulative/tests','lib_test.php',41],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Tidy.php',36],['report/outline/tests','lib_test.php',53],['lib/htmlpurifier/HTMLPurifier/HTMLModule','Ruby.php',18],['mod/assign/submission/onlinetext/tests','locallib_test.php',53],['admin/tool/lpmigrate/tests','processor_test.php',42],['mod/forum/tests','externallib_test.php',34],['lib/tests','user_test.php',34],['mod/workshop/tests','events_test.php',49],['lib/markdown','MarkdownExtra.php',99],['mod/assign/tests','externallib_test.php',33],['question/engine/upgrade/tests','helper.php',100],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',14]], 153],
'resetdebugging': ['resetdebugging', 'Clear all previous debugging messages in current test. ', [['lib/phpunit/classes','database_driver_testcase.php',169],['lib/phpunit/classes','advanced_testcase.php',264]], 21],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'getrowcount': ['getrowcount', '', [['lib/google/src/Google/Service','Doubleclicksearch.php',967],['lib/google/src/Google/Service','Doubleclicksearch.php',1223]], 10],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'settimezone': ['settimezone', '', [['lib/google/src/Google/Service','AdSense.php',2182],['lib/google/src/Google/Service','Analytics.php',8096],['lib/google/src/Google/Service','ShoppingContent.php',3941],['lib/google/src/Google/Service','IdentityToolkit.php',1704],['lib/phpunit/classes','advanced_testcase.php',557],['lib/google/src/Google/Service','Calendar.php',2140],['lib/google/src/Google/Service','Calendar.php',2368],['lib/google/src/Google/Service','Calendar.php',3204],['lib/google/src/Google/Service','Calendar.php',3548],['lib/google/src/Google/Service','Calendar.php',3677],['lib/phpexcel/PHPExcel/Shared','TimeZone.php',61]], 94],
'stats_temp_table_fill': ['stats_temp_table_fill', 'Fills the temporary stats tables with new data ', [['lib','statslib.php',1725]], 3],
'set_config': ['set_config', 'Set a key in global configuration ', [['lib','moodlelib.php',1336],['lib','enrollib.php',1153],['lib/editor/tinymce/classes','plugin.php',84],['mod/assign','assignmentplugin.php',314],['lib/portfolio','plugin.php',515]], 1119],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',246]], 1528],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'test_statslib_get_start_from': ['test_statslib_get_start_from', 'Test the function that gets the start date from the config. ', [['lib/tests','statslib_test.php',296]], 0],
'generate_replacement_list': ['generate_replacement_list', 'Load dataset from XML file. ', [['lib/tests','statslib_test.php',127]], 1],
'stats_get_start_from': ['stats_get_start_from', 'Return starting date of stats processing ', [['lib','statslib.php',933]], 13],
'getrow': ['getrow', 'Get cell coordinate row ', [['lib/phpexcel/PHPExcel','Cell.php',151],['lib/adodb','adodb.inc.php',1809]], 39],
'get_server_timezone_object': ['get_server_timezone_object', 'Returns server timezone. ', [['lib/classes','date.php',180]], 5],
'create_user': ['create_user', 'Create a test user ', [['lib/testing/generator','data_generator.php',137]], 1376],
'test_statslib_get_base_daily': ['test_statslib_get_base_daily', 'Test the function that calculates the start of the day. ', [['lib/tests','statslib_test.php',368]], 0],
'prepare_db': ['prepare_db', 'Function to setup database. ', [['lib/tests','statslib_test.php',99]], 6],
'test_statslib_cron_daily': ['test_statslib_cron_daily', 'Test the daily stats function. ', [['lib/tests','statslib_test.php',662]], 0],
'test_statslib_temp_table_fill': ['test_statslib_temp_table_fill', 'Test the temporary table creation and deletion. ', [['lib/tests','statslib_test.php',506]], 0],
'set_default_server_timezone': ['set_default_server_timezone', 'Set PHP default timezone to $CFG->timezone. ', [['lib/classes','date.php',189]], 23],
'stats_progress': ['stats_progress', 'Print daily cron progress ', [['lib','statslib.php',77]], 37],
'stats_temp_table_create': ['stats_temp_table_create', 'Create temporary tables to speed up log generation ', [['lib','statslib.php',1593]], 6],
'test_statslib_cron_daily_no_default_profile_id': ['test_statslib_cron_daily_no_default_profile_id', 'Test the daily stats function. ', [['lib/tests','statslib_test.php',690]], 0],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1588]], 138],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',570]], 4450],
'test_statslib_progress_no_debug': ['test_statslib_progress_no_debug', 'Test progress output when debug is off. ', [['lib/tests','statslib_test.php',285]], 0],
'get_guest_role': ['get_guest_role', 'Get the default guest role, this is used for guest account, search engine spiders, etc. ', [['lib','accesslib.php',315]], 7],
'insert_record_raw': ['insert_record_raw', 'Insert new record into database, as fast as possible, no safety checks, lobs not supported. ', [['lib/dml','pdo_moodle_database.php',343],['lib/dml','oci_native_moodle_database.php',1226],['lib/dml','pgsql_native_moodle_database.php',827],['lib/dml','mssql_native_moodle_database.php',861],['lib/dml','mysqli_native_moodle_database.php',1132],['lib/dml','sqlsrv_native_moodle_database.php',947],['lib/dml/tests','dml_test.php',5547]], 37],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'stats_get_next_day_start': ['stats_get_next_day_start', 'Start of next day ', [['lib','statslib.php',1037]], 7],
'daily_log_provider': ['daily_log_provider', 'Provides the log data for test_statslib_cron_daily. ', [['lib/tests','statslib_test.php',210]], 0],
'get_manager': ['get_manager', 'Returns the sql generator used for db manipulation. Used mostly in upgrade.php scripts. ', [['lib/dml','moodle_database.php',1080]], 229],
'createxmldataset': ['createxmldataset', 'Creates a new XMLDataSet with the given $xmlFile. (absolute path.) ', [['lib/phpunit/classes','advanced_testcase.php',156]], 2],
'load_xml_data_file': ['load_xml_data_file', 'Load dataset from XML file. ', [['lib/tests','statslib_test.php',185]], 4],
'test_statslib_get_action_names': ['test_statslib_get_action_names', 'Test the function that gets the action names. ', [['lib/tests','statslib_test.php',397]], 0],
'table_exists': ['table_exists', 'Given one xmldb_table, checks if it exists in DB (true/false). ', [['lib/ddl','sql_generator.php',215],['lib/ddl','database_manager.php',90]], 131],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'test_statslib_temp_table_create_and_drop': ['test_statslib_temp_table_create_and_drop', 'Test the temporary table creation and deletion. ', [['lib/tests','statslib_test.php',483]], 0],
'stats_cron_daily': ['stats_cron_daily', 'Execute daily statistics gathering ', [['lib','statslib.php',121]], 3],
'verify_stats': ['verify_stats', 'Compare the expected stats to those in the database. ', [['lib/tests','statslib_test.php',226]], 2],
'setuser': ['setuser', '', [['lib/google/src/Google/Service','Replicapool.php',1091],['lib/google/src/Google/Service','Computeaccounts.php',1294],['lib/google/src/Google/Service','Appengine.php',1341],['lib/google/src/Google/Service','DeploymentManager.php',1530],['lib/google/src/Google/Service','CloudUserAccounts.php',1733],['lib/google/src/Google/Service','Replicapoolupdater.php',852],['lib/google/src/Google/Service','Replicapoolupdater.php',1194],['lib/google/src/Google/Service','Autoscaler.php',1005],['lib/google/src/Google/Service','Appsactivity.php',273],['lib/google/src/Google/Service','Appsactivity.php',420],['lib/google/src/Google/Service','Drive.php',2824],['lib/phpunit/classes','advanced_testcase.php',511],['lib/google/src/Google/Service','AndroidEnterprise.php',2240],['lib/google/src/Google/Service','AndroidEnterprise.php',2634],['lib/google/src/Google/Service','AndroidEnterprise.php',3101],['lib/google/src/Google/Service','Resourceviews.php',820],['lib/google/src/Google/Service','SQLAdmin.php',2990],['lib/google/src/Google/Service','Compute.php',14264]], 1070],
'stats_get_action_names': ['stats_get_action_names', '', [['lib','statslib.php',1320]], 4],
'getoffset': ['getoffset', '', [['lib/google/src/Google/Service','Datastore.php',1168],['lib/google/src/Google/Service','Genomics.php',2061],['lib/google/src/Google/Service','Dfareporting.php',12268],['lib/google/src/Google/Service','Dfareporting.php',18072]], 18],
'trigger_error': ['trigger_error', '', [], 124],
'min': ['min', '', [], 898],
'time': ['time', '', [], 1959],
'intval': ['intval', '', [], 455],
'in_array': ['in_array', '', [], 1234],
'array_diff_assoc': ['array_diff_assoc', '', [], 2],
'array_merge': ['array_merge', '', [], 2944],
'strtotime': ['strtotime', '', [], 245],
'defined': ['defined', '', [], 4731],
'reset': ['reset', '', [], 1213],
'var_export': ['var_export', '', [], 71],
'ob_start': ['ob_start', '', [], 101],
'ob_get_contents': ['ob_get_contents', '', [], 62],
'ob_end_clean': ['ob_end_clean', '', [], 76]};
CLASS_DATA={
'core_date': ['core_date', 'Core date and time related code. ', [['lib/classes','date.php',26]], 192],
'read_executed': ['read_executed', '', [['lib/tests/fixtures','stats_events.php',38]], 2],
'user_loggedin': ['user_loggedin', 'User login event class. ', [['lib/classes/event','user_loggedin.php',29]], 3],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'delete_executed': ['delete_executed', '', [['lib/tests/fixtures','stats_events.php',52]], 4],
'create_executed': ['create_executed', '', [['lib/tests/fixtures','stats_events.php',31]], 2],
'core_statslib_testcase': ['core_statslib_testcase', 'Test functions that affect daily stats. ', [['lib/tests','statslib_test.php',34]], 0],
'update_executed': ['update_executed', '', [['lib/tests/fixtures','stats_events.php',45]], 2],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147]};
CONST_DATA={
'DAYSECS': ['DAYSECS', '', [['lib','moodlelib.php',49]], 122],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'DEBUG_NONE': ['DEBUG_NONE', '', [['lib','setuplib.php',32]], 14],
'SITEID': ['SITEID', '', [['admin/cli','install.php',219],['lib/db','install.php',87],['','install.php',242],['lib','setup.php',755]], 608],
'DEBUG_ALL': ['DEBUG_ALL', '', [['lib','setuplib.php',38]], 17]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
