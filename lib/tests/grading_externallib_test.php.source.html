<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/tests/grading_externallib_test.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/tests';
filename='grading_externallib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/tests/</a> -> <a href="grading_externallib_test.php.html">grading_externallib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="grading_externallib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="grading_externallib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l20"><span class="linenum">  20</span></a>  
<a name="l21"><span class="linenum">  21</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../webservice/tests/helpers.php.html">/webservice/tests/helpers.php</a>');
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">/**</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * Unit tests for the grading API defined in core_grading_external class.</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @package core_grading</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @category external</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @copyright 2013 Paul Charsley</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grading_externallib_testcase')" href="../../_classes/core_grading_externallib_testcase.html" onMouseOver="classPopup(event,'core_grading_externallib_testcase')">core_grading_externallib_testcase</a> extends externallib_advanced_testcase {
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>      <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">     * Test get_definitions</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">     */</span>
<a name="l36"><span class="linenum">  36</span></a>      public function <a class="function" onClick="logFunction('test_get_definitions')" href="../../_functions/test_get_definitions.html" onMouseOver="funcPopup(event,'test_get_definitions')">test_get_definitions</a>() {
<a name="l37"><span class="linenum">  37</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>(true);
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">        // Create a course and assignment.</span>
<a name="l41"><span class="linenum">  41</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['idnumber'] = 'idnumbercourse';
<a name="l42"><span class="linenum">  42</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['fullname'] = 'Lightwork Course';
<a name="l43"><span class="linenum">  43</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['summary'] = 'Lightwork Course description';
<a name="l44"><span class="linenum">  44</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['summaryformat'] = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l45"><span class="linenum">  45</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>(<a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>);
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>          <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>['course'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>['name'] = 'lightwork assignment';
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_module')" href="../../_functions/create_module.html" onMouseOver="funcPopup(event,'create_module')">create_module</a>('assign', <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">        // Create manual enrolment record.</span>
<a name="l53"><span class="linenum">  53</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['enrol'] = 'manual';
<a name="l54"><span class="linenum">  54</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['status'] = 0;
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['courseid'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it1439" onMouseOver="hilite(1439)" onMouseOut="lolite()" onClick="logVariable('enrolid')" href="../../_variables/enrolid.html">$enrolid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('enrol', <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>);
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">        // Create a teacher and give them capabilities.</span>
<a name="l59"><span class="linenum">  59</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('moodle/course:viewparticipants', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('id')" class="var it43118" onMouseOver="hilite(43118)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 3);
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('cmid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('mod/assign:grade', <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a>-&gt;<a onClick="logVariable('id')" class="var it44254" onMouseOver="hilite(44254)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">        // Create the teacher's enrolment record.</span>
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['status'] = 0;
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['enrolid'] = <a class="var it1439" onMouseOver="hilite(1439)" onMouseOut="lolite()" onClick="logVariable('enrolid')" href="../../_variables/enrolid.html">$enrolid</a>;
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('user_enrolments', <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>);
<a name="l69"><span class="linenum">  69</span></a>  
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">        // Create a grading area.</span>
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a> = array(
<a name="l72"><span class="linenum">  72</span></a>              'contextid' =&gt; <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a>-&gt;<a onClick="logVariable('id')" class="var it44254" onMouseOver="hilite(44254)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l73"><span class="linenum">  73</span></a>              'component' =&gt; 'mod_assign',
<a name="l74"><span class="linenum">  74</span></a>              'areaname' =&gt; 'submissions',
<a name="l75"><span class="linenum">  75</span></a>              'activemethod' =&gt; 'rubric'
<a name="l76"><span class="linenum">  76</span></a>          );
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../_variables/areaid.html">$areaid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_areas', <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>);
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">        // Create a rubric grading definition.</span>
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a> = array (
<a name="l81"><span class="linenum">  81</span></a>              'areaid' =&gt; <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../_variables/areaid.html">$areaid</a>,
<a name="l82"><span class="linenum">  82</span></a>              'method' =&gt; 'rubric',
<a name="l83"><span class="linenum">  83</span></a>              'name' =&gt; 'test',
<a name="l84"><span class="linenum">  84</span></a>              'status' =&gt; 20,
<a name="l85"><span class="linenum">  85</span></a>              'copiedfromid' =&gt; 1,
<a name="l86"><span class="linenum">  86</span></a>              'timecreated' =&gt; 1,
<a name="l87"><span class="linenum">  87</span></a>              'usercreated' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l88"><span class="linenum">  88</span></a>              'timemodified' =&gt; 1,
<a name="l89"><span class="linenum">  89</span></a>              'usermodified' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l90"><span class="linenum">  90</span></a>              'timecopied' =&gt; 0
<a name="l91"><span class="linenum">  91</span></a>          );
<a name="l92"><span class="linenum">  92</span></a>          <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_definitions', <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>);
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">        // Create a criterion with levels.</span>
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a> = array (
<a name="l96"><span class="linenum">  96</span></a>              'definitionid' =&gt; <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>,
<a name="l97"><span class="linenum">  97</span></a>              'sortorder' =&gt; 1,
<a name="l98"><span class="linenum">  98</span></a>              'description' =&gt; 'Demonstrate an understanding of disease control',
<a name="l99"><span class="linenum">  99</span></a>              'descriptionformat' =&gt; 0
<a name="l100"><span class="linenum"> 100</span></a>          );
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it33182" onMouseOver="hilite(33182)" onMouseOut="lolite()" onClick="logVariable('criterionid1')" href="../../_variables/criterionid1.html">$criterionid1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_criteria', <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>);
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a> = array (
<a name="l103"><span class="linenum"> 103</span></a>              'criterionid' =&gt; <a class="var it33182" onMouseOver="hilite(33182)" onMouseOut="lolite()" onClick="logVariable('criterionid1')" href="../../_variables/criterionid1.html">$criterionid1</a>,
<a name="l104"><span class="linenum"> 104</span></a>              'score' =&gt; 5,
<a name="l105"><span class="linenum"> 105</span></a>              'definition' =&gt; 'pass',
<a name="l106"><span class="linenum"> 106</span></a>              'definitionformat' =&gt; 0
<a name="l107"><span class="linenum"> 107</span></a>          );
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_levels', <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a>);
<a name="l109"><span class="linenum"> 109</span></a>          <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a> = array (
<a name="l110"><span class="linenum"> 110</span></a>              'criterionid' =&gt; <a class="var it33182" onMouseOver="hilite(33182)" onMouseOut="lolite()" onClick="logVariable('criterionid1')" href="../../_variables/criterionid1.html">$criterionid1</a>,
<a name="l111"><span class="linenum"> 111</span></a>              'score' =&gt; 10,
<a name="l112"><span class="linenum"> 112</span></a>              'definition' =&gt; 'excellent',
<a name="l113"><span class="linenum"> 113</span></a>              'definitionformat' =&gt; 0
<a name="l114"><span class="linenum"> 114</span></a>          );
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_levels', <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a>);
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">        // Create a second criterion with levels.</span>
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it33185" onMouseOver="hilite(33185)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria2')" href="../../_variables/rubriccriteria2.html">$rubriccriteria2</a> = array (
<a name="l119"><span class="linenum"> 119</span></a>              'definitionid' =&gt; <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>,
<a name="l120"><span class="linenum"> 120</span></a>              'sortorder' =&gt; 2,
<a name="l121"><span class="linenum"> 121</span></a>              'description' =&gt; 'Demonstrate an understanding of brucellosis',
<a name="l122"><span class="linenum"> 122</span></a>              'descriptionformat' =&gt; 0
<a name="l123"><span class="linenum"> 123</span></a>          );
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it33186" onMouseOver="hilite(33186)" onMouseOut="lolite()" onClick="logVariable('criterionid2')" href="../../_variables/criterionid2.html">$criterionid2</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_criteria', <a class="var it33185" onMouseOver="hilite(33185)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria2')" href="../../_variables/rubriccriteria2.html">$rubriccriteria2</a>);
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a> = array (
<a name="l126"><span class="linenum"> 126</span></a>              'criterionid' =&gt; <a class="var it33186" onMouseOver="hilite(33186)" onMouseOut="lolite()" onClick="logVariable('criterionid2')" href="../../_variables/criterionid2.html">$criterionid2</a>,
<a name="l127"><span class="linenum"> 127</span></a>              'score' =&gt; 5,
<a name="l128"><span class="linenum"> 128</span></a>              'definition' =&gt; 'pass',
<a name="l129"><span class="linenum"> 129</span></a>              'definitionformat' =&gt; 0
<a name="l130"><span class="linenum"> 130</span></a>          );
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_levels', <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a>);
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a> = array (
<a name="l133"><span class="linenum"> 133</span></a>              'criterionid' =&gt; <a class="var it33186" onMouseOver="hilite(33186)" onMouseOut="lolite()" onClick="logVariable('criterionid2')" href="../../_variables/criterionid2.html">$criterionid2</a>,
<a name="l134"><span class="linenum"> 134</span></a>              'score' =&gt; 10,
<a name="l135"><span class="linenum"> 135</span></a>              'definition' =&gt; 'excellent',
<a name="l136"><span class="linenum"> 136</span></a>              'definitionformat' =&gt; 0
<a name="l137"><span class="linenum"> 137</span></a>          );
<a name="l138"><span class="linenum"> 138</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_levels', <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a>);
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">        // Call the external function.</span>
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it14697" onMouseOver="hilite(14697)" onMouseOut="lolite()" onClick="logVariable('cmids')" href="../../_variables/cmids.html">$cmids</a> = array (<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('cmid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it2225" onMouseOver="hilite(2225)" onMouseOut="lolite()" onClick="logVariable('areaname')" href="../../_variables/areaname.html">$areaname</a> = 'submissions';
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('get_definitions')" href="../../_functions/get_definitions.html" onMouseOver="funcPopup(event,'get_definitions')">get_definitions</a>(<a class="var it14697" onMouseOver="hilite(14697)" onMouseOut="lolite()" onClick="logVariable('cmids')" href="../../_variables/cmids.html">$cmids</a>, <a class="var it2225" onMouseOver="hilite(2225)" onMouseOut="lolite()" onClick="logVariable('areaname')" href="../../_variables/areaname.html">$areaname</a>);
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('clean_returnvalue')" href="../../_functions/clean_returnvalue.html" onMouseOver="funcPopup(event,'clean_returnvalue')">clean_returnvalue</a>(<a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('get_definitions_returns')" href="../../_functions/get_definitions_returns.html" onMouseOver="funcPopup(event,'get_definitions_returns')">get_definitions_returns</a>(), <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>);
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['areas']));
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['areas'][0]['definitions']));
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['areas'][0]['definitions'][0];
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['method'], <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method']);
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['usercreated']);
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/lib.php&quot;);
<a name="l154"><span class="linenum"> 154</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['method'].'/lib.php');
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a> = <a class="function" onClick="logFunction('get_grading_manager')" href="../../_functions/get_grading_manager.html" onMouseOver="funcPopup(event,'get_grading_manager')">get_grading_manager</a>(<a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../_variables/areaid.html">$areaid</a>);
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>[<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['method']]));
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it33187" onMouseOver="hilite(33187)" onMouseOut="lolite()" onClick="logVariable('rubricdetails')" href="../../_variables/rubricdetails.html">$rubricdetails</a> = <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>[<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['method']];
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['method'].'_controller::get_external_definition_details');
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(2, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it33187" onMouseOver="hilite(33187)" onMouseOut="lolite()" onClick="logVariable('rubricdetails')" href="../../_variables/rubricdetails.html">$rubricdetails</a>[<a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>)]));
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>          <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = false;
<a name="l166"><span class="linenum"> 166</span></a>          foreach (<a class="var it33187" onMouseOver="hilite(33187)" onMouseOut="lolite()" onClick="logVariable('rubricdetails')" href="../../_variables/rubricdetails.html">$rubricdetails</a>[<a class="phpfunction" onClick="logFunction('key')" href="../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>)] as <a class="var it3857" onMouseOver="hilite(3857)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>) {
<a name="l167"><span class="linenum"> 167</span></a>              if (<a class="var it3857" onMouseOver="hilite(3857)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>['id'] == <a class="var it33182" onMouseOver="hilite(33182)" onMouseOut="lolite()" onClick="logVariable('criterionid1')" href="../../_variables/criterionid1.html">$criterionid1</a>) {
<a name="l168"><span class="linenum"> 168</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>['description'], <a class="var it3857" onMouseOver="hilite(3857)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>['description']);
<a name="l169"><span class="linenum"> 169</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(2, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3857" onMouseOver="hilite(3857)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>['levels']));
<a name="l170"><span class="linenum"> 170</span></a>                  <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = true;
<a name="l171"><span class="linenum"> 171</span></a>                  break;
<a name="l172"><span class="linenum"> 172</span></a>              }
<a name="l173"><span class="linenum"> 173</span></a>          }
<a name="l174"><span class="linenum"> 174</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a>);
<a name="l175"><span class="linenum"> 175</span></a>      }
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>      <span class="comment">/**</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * Test get_gradingform_instances</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     */</span>
<a name="l180"><span class="linenum"> 180</span></a>      public function <a class="function" onClick="logFunction('test_get_gradingform_instances')" href="../../_functions/test_get_gradingform_instances.html" onMouseOver="funcPopup(event,'test_get_gradingform_instances')">test_get_gradingform_instances</a>() {
<a name="l181"><span class="linenum"> 181</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>(true);
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">        // Create a course and assignment.</span>
<a name="l185"><span class="linenum"> 185</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['idnumber'] = 'idnumbercourse';
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['fullname'] = 'Lightwork Course';
<a name="l187"><span class="linenum"> 187</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['summary'] = 'Lightwork Course description';
<a name="l188"><span class="linenum"> 188</span></a>          <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>['summaryformat'] = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l189"><span class="linenum"> 189</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>(<a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>);
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>['course'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l192"><span class="linenum"> 192</span></a>          <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>['name'] = 'lightwork assignment';
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_module')" href="../../_functions/create_module.html" onMouseOver="funcPopup(event,'create_module')">create_module</a>('assign', <a class="var it33176" onMouseOver="hilite(33176)" onMouseOut="lolite()" onClick="logVariable('assigndata')" href="../../_variables/assigndata.html">$assigndata</a>);
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">        // Create manual enrolment record.</span>
<a name="l197"><span class="linenum"> 197</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['enrol'] = 'manual';
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['status'] = 0;
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>['courseid'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l200"><span class="linenum"> 200</span></a>          <a class="var it1439" onMouseOver="hilite(1439)" onMouseOut="lolite()" onClick="logVariable('enrolid')" href="../../_variables/enrolid.html">$enrolid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('enrol', <a class="var it33177" onMouseOver="hilite(33177)" onMouseOut="lolite()" onClick="logVariable('manualenroldata')" href="../../_variables/manualenroldata.html">$manualenroldata</a>);
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">        // Create a teacher and give them capabilities.</span>
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l204"><span class="linenum"> 204</span></a>          <a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('moodle/course:viewparticipants', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('id')" class="var it43118" onMouseOver="hilite(43118)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 3);
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('cmid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('mod/assign:grade', <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a>-&gt;<a onClick="logVariable('id')" class="var it44254" onMouseOver="hilite(44254)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../../_variables/roleid.html">$roleid</a>);
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">        // Create the teacher's enrolment record.</span>
<a name="l209"><span class="linenum"> 209</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['status'] = 0;
<a name="l210"><span class="linenum"> 210</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['enrolid'] = <a class="var it1439" onMouseOver="hilite(1439)" onMouseOut="lolite()" onClick="logVariable('enrolid')" href="../../_variables/enrolid.html">$enrolid</a>;
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>['userid'] = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l212"><span class="linenum"> 212</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('user_enrolments', <a class="var it33178" onMouseOver="hilite(33178)" onMouseOut="lolite()" onClick="logVariable('userenrolmentdata')" href="../../_variables/userenrolmentdata.html">$userenrolmentdata</a>);
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">        // Create a student with an assignment grade.</span>
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a> = new stdClass();
<a name="l217"><span class="linenum"> 217</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('assignment')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l218"><span class="linenum"> 218</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('userid')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>-&gt;<a onClick="logVariable('id')" class="var it42939" onMouseOver="hilite(42939)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l219"><span class="linenum"> 219</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('timecreated')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>;
<a name="l221"><span class="linenum"> 221</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('grader')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/grader.html">grader</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l222"><span class="linenum"> 222</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('grade')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = 50;
<a name="l223"><span class="linenum"> 223</span></a>          <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it44438" onMouseOver="hilite(44438)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a> = 0;
<a name="l224"><span class="linenum"> 224</span></a>          <a class="var it2844" onMouseOver="hilite(2844)" onMouseOut="lolite()" onClick="logVariable('gid')" href="../../_variables/gid.html">$gid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('assign_grades', <a class="var it33188" onMouseOver="hilite(33188)" onMouseOut="lolite()" onClick="logVariable('assigngrade')" href="../../_variables/assigngrade.html">$assigngrade</a>);
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">        // Create a grading area.</span>
<a name="l227"><span class="linenum"> 227</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a> = array(
<a name="l228"><span class="linenum"> 228</span></a>              'contextid' =&gt; <a class="var it8109" onMouseOver="hilite(8109)" onMouseOut="lolite()" onClick="logVariable('modulecontext')" href="../../_variables/modulecontext.html">$modulecontext</a>-&gt;<a onClick="logVariable('id')" class="var it44254" onMouseOver="hilite(44254)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l229"><span class="linenum"> 229</span></a>              'component' =&gt; 'mod_assign',
<a name="l230"><span class="linenum"> 230</span></a>              'areaname' =&gt; 'submissions',
<a name="l231"><span class="linenum"> 231</span></a>              'activemethod' =&gt; 'rubric'
<a name="l232"><span class="linenum"> 232</span></a>          );
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../_variables/areaid.html">$areaid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_areas', <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>);
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">        // Create a rubric grading definition.</span>
<a name="l236"><span class="linenum"> 236</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a> = array (
<a name="l237"><span class="linenum"> 237</span></a>              'areaid' =&gt; <a class="var it1948" onMouseOver="hilite(1948)" onMouseOut="lolite()" onClick="logVariable('areaid')" href="../../_variables/areaid.html">$areaid</a>,
<a name="l238"><span class="linenum"> 238</span></a>              'method' =&gt; 'rubric',
<a name="l239"><span class="linenum"> 239</span></a>              'name' =&gt; 'test',
<a name="l240"><span class="linenum"> 240</span></a>              'status' =&gt; 20,
<a name="l241"><span class="linenum"> 241</span></a>              'copiedfromid' =&gt; 1,
<a name="l242"><span class="linenum"> 242</span></a>              'timecreated' =&gt; 1,
<a name="l243"><span class="linenum"> 243</span></a>              'usercreated' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l244"><span class="linenum"> 244</span></a>              'timemodified' =&gt; 1,
<a name="l245"><span class="linenum"> 245</span></a>              'usermodified' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l246"><span class="linenum"> 246</span></a>              'timecopied' =&gt; 0
<a name="l247"><span class="linenum"> 247</span></a>          );
<a name="l248"><span class="linenum"> 248</span></a>          <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_definitions', <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>);
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">        // Create a criterion with a level.</span>
<a name="l251"><span class="linenum"> 251</span></a>          <a class="var it33189" onMouseOver="hilite(33189)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria')" href="../../_variables/rubriccriteria.html">$rubriccriteria</a> = array (
<a name="l252"><span class="linenum"> 252</span></a>              'definitionid' =&gt; <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>,
<a name="l253"><span class="linenum"> 253</span></a>              'sortorder' =&gt; 1,
<a name="l254"><span class="linenum"> 254</span></a>              'description' =&gt; 'Demonstrate an understanding of disease control',
<a name="l255"><span class="linenum"> 255</span></a>              'descriptionformat' =&gt; 0
<a name="l256"><span class="linenum"> 256</span></a>          );
<a name="l257"><span class="linenum"> 257</span></a>          <a class="var it24402" onMouseOver="hilite(24402)" onMouseOut="lolite()" onClick="logVariable('criterionid')" href="../../_variables/criterionid.html">$criterionid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_criteria', <a class="var it33189" onMouseOver="hilite(33189)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria')" href="../../_variables/rubriccriteria.html">$rubriccriteria</a>);
<a name="l258"><span class="linenum"> 258</span></a>          <a class="var it33190" onMouseOver="hilite(33190)" onMouseOut="lolite()" onClick="logVariable('rubriclevel')" href="../../_variables/rubriclevel.html">$rubriclevel</a> = array (
<a name="l259"><span class="linenum"> 259</span></a>              'criterionid' =&gt; <a class="var it24402" onMouseOver="hilite(24402)" onMouseOut="lolite()" onClick="logVariable('criterionid')" href="../../_variables/criterionid.html">$criterionid</a>,
<a name="l260"><span class="linenum"> 260</span></a>              'score' =&gt; 50,
<a name="l261"><span class="linenum"> 261</span></a>              'definition' =&gt; 'pass',
<a name="l262"><span class="linenum"> 262</span></a>              'definitionformat' =&gt; 0
<a name="l263"><span class="linenum"> 263</span></a>          );
<a name="l264"><span class="linenum"> 264</span></a>          <a class="var it3861" onMouseOver="hilite(3861)" onMouseOut="lolite()" onClick="logVariable('levelid')" href="../../_variables/levelid.html">$levelid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_levels', <a class="var it33190" onMouseOver="hilite(33190)" onMouseOut="lolite()" onClick="logVariable('rubriclevel')" href="../../_variables/rubriclevel.html">$rubriclevel</a>);
<a name="l265"><span class="linenum"> 265</span></a>  
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">        // Create a grading instance.</span>
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = array (
<a name="l268"><span class="linenum"> 268</span></a>              'definitionid' =&gt; <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>,
<a name="l269"><span class="linenum"> 269</span></a>              'raterid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l270"><span class="linenum"> 270</span></a>              'itemid' =&gt; <a class="var it2844" onMouseOver="hilite(2844)" onMouseOut="lolite()" onClick="logVariable('gid')" href="../../_variables/gid.html">$gid</a>,
<a name="l271"><span class="linenum"> 271</span></a>              'status' =&gt; 1,
<a name="l272"><span class="linenum"> 272</span></a>              'feedbackformat' =&gt; 0,
<a name="l273"><span class="linenum"> 273</span></a>              'timemodified' =&gt; 1
<a name="l274"><span class="linenum"> 274</span></a>          );
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../_variables/instanceid.html">$instanceid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('grading_instances', <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>);
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">        // Create a filling.</span>
<a name="l278"><span class="linenum"> 278</span></a>          <a class="var it14711" onMouseOver="hilite(14711)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a> = array (
<a name="l279"><span class="linenum"> 279</span></a>              'instanceid' =&gt; <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../../_variables/instanceid.html">$instanceid</a>,
<a name="l280"><span class="linenum"> 280</span></a>              'criterionid' =&gt; <a class="var it24402" onMouseOver="hilite(24402)" onMouseOut="lolite()" onClick="logVariable('criterionid')" href="../../_variables/criterionid.html">$criterionid</a>,
<a name="l281"><span class="linenum"> 281</span></a>              'levelid' =&gt; <a class="var it3861" onMouseOver="hilite(3861)" onMouseOut="lolite()" onClick="logVariable('levelid')" href="../../_variables/levelid.html">$levelid</a>,
<a name="l282"><span class="linenum"> 282</span></a>              'remark' =&gt; 'excellent work',
<a name="l283"><span class="linenum"> 283</span></a>              'remarkformat' =&gt; 0
<a name="l284"><span class="linenum"> 284</span></a>          );
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('gradingform_rubric_fillings', <a class="var it14711" onMouseOver="hilite(14711)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>);
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">        // Call the external function.</span>
<a name="l288"><span class="linenum"> 288</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('get_gradingform_instances')" href="../../_functions/get_gradingform_instances.html" onMouseOver="funcPopup(event,'get_gradingform_instances')">get_gradingform_instances</a>(<a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>, 0);
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('clean_returnvalue')" href="../../_functions/clean_returnvalue.html" onMouseOver="funcPopup(event,'clean_returnvalue')">clean_returnvalue</a>(<a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('get_gradingform_instances_returns')" href="../../_functions/get_gradingform_instances_returns.html" onMouseOver="funcPopup(event,'get_gradingform_instances_returns')">get_gradingform_instances_returns</a>(), <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>);
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances']));
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['raterid']);
<a name="l293"><span class="linenum"> 293</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it2844" onMouseOver="hilite(2844)" onMouseOut="lolite()" onClick="logVariable('gid')" href="../../_variables/gid.html">$gid</a>, <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['itemid']);
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['status']);
<a name="l295"><span class="linenum"> 295</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['timemodified']);
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['rubric']));
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['rubric']['criteria']));
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a> = <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['instances'][0]['rubric']['criteria'];
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it24402" onMouseOver="hilite(24402)" onMouseOut="lolite()" onClick="logVariable('criterionid')" href="../../_variables/criterionid.html">$criterionid</a>, <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a>[0]['criterionid']);
<a name="l300"><span class="linenum"> 300</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it3861" onMouseOver="hilite(3861)" onMouseOut="lolite()" onClick="logVariable('levelid')" href="../../_variables/levelid.html">$levelid</a>, <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a>[0]['levelid']);
<a name="l301"><span class="linenum"> 301</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('excellent work', <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a>[0]['remark']);
<a name="l302"><span class="linenum"> 302</span></a>      }
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>      <span class="comment">/**</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     *</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * Test save_definitions for rubric grading method</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     */</span>
<a name="l308"><span class="linenum"> 308</span></a>      public function <a class="function" onClick="logFunction('test_save_definitions_rubric')" href="../../_functions/test_save_definitions_rubric.html" onMouseOver="funcPopup(event,'test_save_definitions_rubric')">test_save_definitions_rubric</a>() {
<a name="l309"><span class="linenum"> 309</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>(true);
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">        // Create a course and assignment.</span>
<a name="l313"><span class="linenum"> 313</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('get_plugin_generator')" href="../../_functions/get_plugin_generator.html" onMouseOver="funcPopup(event,'get_plugin_generator')">get_plugin_generator</a>('mod_assign');
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['course'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l316"><span class="linenum"> 316</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_instance')" href="../../_functions/create_instance.html" onMouseOver="funcPopup(event,'create_instance')">create_instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l317"><span class="linenum"> 317</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('id')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">        // Create the teacher.</span>
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('shortname' =&gt; 'editingteacher'));
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('moodle/grade:managegradingforms', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l326"><span class="linenum"> 326</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l327"><span class="linenum"> 327</span></a>                                                <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l328"><span class="linenum"> 328</span></a>                                                <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">        // The grading area to insert.</span>
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a> = array(
<a name="l332"><span class="linenum"> 332</span></a>              'cmid' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l333"><span class="linenum"> 333</span></a>              'contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l334"><span class="linenum"> 334</span></a>              'component' =&gt; 'mod_assign',
<a name="l335"><span class="linenum"> 335</span></a>              'areaname'  =&gt; 'submissions',
<a name="l336"><span class="linenum"> 336</span></a>              'activemethod' =&gt; 'rubric'
<a name="l337"><span class="linenum"> 337</span></a>          );
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">        // The rubric definition to insert.</span>
<a name="l340"><span class="linenum"> 340</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a> = array(
<a name="l341"><span class="linenum"> 341</span></a>              'method' =&gt; 'rubric',
<a name="l342"><span class="linenum"> 342</span></a>              'name' =&gt; 'test',
<a name="l343"><span class="linenum"> 343</span></a>              'description' =&gt; '',
<a name="l344"><span class="linenum"> 344</span></a>              'status' =&gt; 20,
<a name="l345"><span class="linenum"> 345</span></a>              'copiedfromid' =&gt; 1,
<a name="l346"><span class="linenum"> 346</span></a>              'timecreated' =&gt; 1,
<a name="l347"><span class="linenum"> 347</span></a>              'usercreated' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l348"><span class="linenum"> 348</span></a>              'timemodified' =&gt; 1,
<a name="l349"><span class="linenum"> 349</span></a>              'usermodified' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l350"><span class="linenum"> 350</span></a>              'timecopied' =&gt; 0
<a name="l351"><span class="linenum"> 351</span></a>          );
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">        // The criterion to insert.</span>
<a name="l354"><span class="linenum"> 354</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a> = array (
<a name="l355"><span class="linenum"> 355</span></a>               'sortorder' =&gt; 1,
<a name="l356"><span class="linenum"> 356</span></a>               'description' =&gt; 'Demonstrate an understanding of disease control',
<a name="l357"><span class="linenum"> 357</span></a>               'descriptionformat' =&gt; 0
<a name="l358"><span class="linenum"> 358</span></a>          );
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">        // 3 levels for the criterion.</span>
<a name="l361"><span class="linenum"> 361</span></a>          <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a> = array (
<a name="l362"><span class="linenum"> 362</span></a>              'score' =&gt; 50,
<a name="l363"><span class="linenum"> 363</span></a>              'definition' =&gt; 'pass',
<a name="l364"><span class="linenum"> 364</span></a>              'definitionformat' =&gt; 0
<a name="l365"><span class="linenum"> 365</span></a>          );
<a name="l366"><span class="linenum"> 366</span></a>          <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a> = array (
<a name="l367"><span class="linenum"> 367</span></a>              'score' =&gt; 100,
<a name="l368"><span class="linenum"> 368</span></a>              'definition' =&gt; 'excellent',
<a name="l369"><span class="linenum"> 369</span></a>              'definitionformat' =&gt; 0
<a name="l370"><span class="linenum"> 370</span></a>          );
<a name="l371"><span class="linenum"> 371</span></a>          <a class="var it33191" onMouseOver="hilite(33191)" onMouseOut="lolite()" onClick="logVariable('rubriclevel3')" href="../../_variables/rubriclevel3.html">$rubriclevel3</a> = array (
<a name="l372"><span class="linenum"> 372</span></a>              'score' =&gt; 0,
<a name="l373"><span class="linenum"> 373</span></a>              'definition' =&gt; 'fail',
<a name="l374"><span class="linenum"> 374</span></a>              'definitionformat' =&gt; 0
<a name="l375"><span class="linenum"> 375</span></a>          );
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>['levels'] = array(<a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a>, <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a>, <a class="var it33191" onMouseOver="hilite(33191)" onMouseOut="lolite()" onClick="logVariable('rubriclevel3')" href="../../_variables/rubriclevel3.html">$rubriclevel3</a>);
<a name="l378"><span class="linenum"> 378</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['rubric'] = array('rubric_criteria' =&gt; array(<a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>));
<a name="l379"><span class="linenum"> 379</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>);
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_areas',
<a name="l384"><span class="linenum"> 384</span></a>                                  array('contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'component' =&gt; 'mod_assign', 'areaname' =&gt; 'submissions'),
<a name="l385"><span class="linenum"> 385</span></a>                                  '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l386"><span class="linenum"> 386</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('activemethod')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/activemethod.html">activemethod</a>, 'rubric');
<a name="l387"><span class="linenum"> 387</span></a>  
<a name="l388"><span class="linenum"> 388</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_definitions', array('areaid' =&gt; <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('id')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'method' =&gt; 'rubric'), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l389"><span class="linenum"> 389</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['name'], <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('name')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>);
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>          <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_criteria', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l392"><span class="linenum"> 392</span></a>          <a class="var it3859" onMouseOver="hilite(3859)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../../_variables/levels.html">$levels</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('gradingform_rubric_levels', array('criterionid' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l393"><span class="linenum"> 393</span></a>          <a class="var it33194" onMouseOver="hilite(33194)" onMouseOut="lolite()" onClick="logVariable('validlevelcount')" href="../../_variables/validlevelcount.html">$validlevelcount</a> = 0;
<a name="l394"><span class="linenum"> 394</span></a>          <a class="var it19387" onMouseOver="hilite(19387)" onMouseOut="lolite()" onClick="logVariable('expectedvalue')" href="../../_variables/expectedvalue.html">$expectedvalue</a> = true;
<a name="l395"><span class="linenum"> 395</span></a>          foreach (<a class="var it3859" onMouseOver="hilite(3859)" onMouseOut="lolite()" onClick="logVariable('levels')" href="../../_variables/levels.html">$levels</a> as <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>) {
<a name="l396"><span class="linenum"> 396</span></a>              if (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('score')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/score.html">score</a> == 0) {
<a name="l397"><span class="linenum"> 397</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('fail', <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('definition')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/definition.html">definition</a>);
<a name="l398"><span class="linenum"> 398</span></a>                  <a class="var it33194" onMouseOver="hilite(33194)" onMouseOut="lolite()" onClick="logVariable('validlevelcount')" href="../../_variables/validlevelcount.html">$validlevelcount</a>++;
<a name="l399"><span class="linenum"> 399</span></a>              } else if (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('score')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/score.html">score</a> == 50) {
<a name="l400"><span class="linenum"> 400</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('pass', <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('definition')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/definition.html">definition</a>);
<a name="l401"><span class="linenum"> 401</span></a>                  <a class="var it33194" onMouseOver="hilite(33194)" onMouseOut="lolite()" onClick="logVariable('validlevelcount')" href="../../_variables/validlevelcount.html">$validlevelcount</a>++;
<a name="l402"><span class="linenum"> 402</span></a>              } else if (<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('score')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/score.html">score</a> == 100) {
<a name="l403"><span class="linenum"> 403</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('excellent', <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('definition')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/definition.html">definition</a>);
<a name="l404"><span class="linenum"> 404</span></a>                  <a class="var it33195" onMouseOver="hilite(33195)" onMouseOut="lolite()" onClick="logVariable('excellentlevelid')" href="../../_variables/excellentlevelid.html">$excellentlevelid</a> = <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>-&gt;<a onClick="logVariable('id')" class="var it43718" onMouseOver="hilite(43718)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l405"><span class="linenum"> 405</span></a>                  <a class="var it33194" onMouseOver="hilite(33194)" onMouseOut="lolite()" onClick="logVariable('validlevelcount')" href="../../_variables/validlevelcount.html">$validlevelcount</a>++;
<a name="l406"><span class="linenum"> 406</span></a>              } else {
<a name="l407"><span class="linenum"> 407</span></a>                  <a class="var it19387" onMouseOver="hilite(19387)" onMouseOut="lolite()" onClick="logVariable('expectedvalue')" href="../../_variables/expectedvalue.html">$expectedvalue</a> = false;
<a name="l408"><span class="linenum"> 408</span></a>              }
<a name="l409"><span class="linenum"> 409</span></a>          }
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(3, <a class="var it33194" onMouseOver="hilite(33194)" onMouseOut="lolite()" onClick="logVariable('validlevelcount')" href="../../_variables/validlevelcount.html">$validlevelcount</a>);
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertTrue(<a class="var it19387" onMouseOver="hilite(19387)" onMouseOut="lolite()" onClick="logVariable('expectedvalue')" href="../../_variables/expectedvalue.html">$expectedvalue</a>, 'A level with an unexpected score was found');
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">        // Test add a new level and modify an existing.</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">        // Test add a new criteria and modify an existing.</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">        // Test modify a definition.</span>
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">        // The rubric definition to update.</span>
<a name="l418"><span class="linenum"> 418</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a> = array(
<a name="l419"><span class="linenum"> 419</span></a>              'id' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l420"><span class="linenum"> 420</span></a>              'method' =&gt; 'rubric',
<a name="l421"><span class="linenum"> 421</span></a>              'name' =&gt; 'test changed',
<a name="l422"><span class="linenum"> 422</span></a>              'description' =&gt; '',
<a name="l423"><span class="linenum"> 423</span></a>              'status' =&gt; 20,
<a name="l424"><span class="linenum"> 424</span></a>              'copiedfromid' =&gt; 1,
<a name="l425"><span class="linenum"> 425</span></a>              'timecreated' =&gt; 1,
<a name="l426"><span class="linenum"> 426</span></a>              'usercreated' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l427"><span class="linenum"> 427</span></a>              'timemodified' =&gt; 1,
<a name="l428"><span class="linenum"> 428</span></a>              'usermodified' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l429"><span class="linenum"> 429</span></a>              'timecopied' =&gt; 0
<a name="l430"><span class="linenum"> 430</span></a>          );
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">        // A criterion to update.</span>
<a name="l433"><span class="linenum"> 433</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a> = array (
<a name="l434"><span class="linenum"> 434</span></a>               'id' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l435"><span class="linenum"> 435</span></a>               'sortorder' =&gt; 1,
<a name="l436"><span class="linenum"> 436</span></a>               'description' =&gt; 'Demonstrate an understanding of rabies control',
<a name="l437"><span class="linenum"> 437</span></a>               'descriptionformat' =&gt; 0
<a name="l438"><span class="linenum"> 438</span></a>          );
<a name="l439"><span class="linenum"> 439</span></a>  
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">        // A new criterion to add.</span>
<a name="l441"><span class="linenum"> 441</span></a>          <a class="var it33185" onMouseOver="hilite(33185)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria2')" href="../../_variables/rubriccriteria2.html">$rubriccriteria2</a> = array (
<a name="l442"><span class="linenum"> 442</span></a>               'sortorder' =&gt; 2,
<a name="l443"><span class="linenum"> 443</span></a>               'description' =&gt; 'Demonstrate an understanding of anthrax control',
<a name="l444"><span class="linenum"> 444</span></a>               'descriptionformat' =&gt; 0
<a name="l445"><span class="linenum"> 445</span></a>          );
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">        // A level to update.</span>
<a name="l448"><span class="linenum"> 448</span></a>          <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a> = array (
<a name="l449"><span class="linenum"> 449</span></a>              'id' =&gt; <a class="var it33195" onMouseOver="hilite(33195)" onMouseOut="lolite()" onClick="logVariable('excellentlevelid')" href="../../_variables/excellentlevelid.html">$excellentlevelid</a>,
<a name="l450"><span class="linenum"> 450</span></a>              'score' =&gt; 75,
<a name="l451"><span class="linenum"> 451</span></a>              'definition' =&gt; 'excellent',
<a name="l452"><span class="linenum"> 452</span></a>              'definitionformat' =&gt; 0
<a name="l453"><span class="linenum"> 453</span></a>          );
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">        // A level to insert.</span>
<a name="l456"><span class="linenum"> 456</span></a>          <a class="var it33196" onMouseOver="hilite(33196)" onMouseOut="lolite()" onClick="logVariable('rubriclevel4')" href="../../_variables/rubriclevel4.html">$rubriclevel4</a> = array (
<a name="l457"><span class="linenum"> 457</span></a>              'score' =&gt; 100,
<a name="l458"><span class="linenum"> 458</span></a>              'definition' =&gt; 'superb',
<a name="l459"><span class="linenum"> 459</span></a>              'definitionformat' =&gt; 0
<a name="l460"><span class="linenum"> 460</span></a>          );
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>['levels'] = array(<a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a>, <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a>, <a class="var it33191" onMouseOver="hilite(33191)" onMouseOut="lolite()" onClick="logVariable('rubriclevel3')" href="../../_variables/rubriclevel3.html">$rubriclevel3</a>, <a class="var it33196" onMouseOver="hilite(33196)" onMouseOut="lolite()" onClick="logVariable('rubriclevel4')" href="../../_variables/rubriclevel4.html">$rubriclevel4</a>);
<a name="l463"><span class="linenum"> 463</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['rubric'] = array('rubric_criteria' =&gt; array(<a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>, <a class="var it33185" onMouseOver="hilite(33185)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria2')" href="../../_variables/rubriccriteria2.html">$rubriccriteria2</a>));
<a name="l464"><span class="linenum"> 464</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>);
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l467"><span class="linenum"> 467</span></a>  
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">        // Test definition name change.</span>
<a name="l469"><span class="linenum"> 469</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_definitions', array('id' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l470"><span class="linenum"> 470</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('test changed', <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('name')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>);
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">        // Test criteria description change.</span>
<a name="l473"><span class="linenum"> 473</span></a>          <a class="var it33197" onMouseOver="hilite(33197)" onMouseOut="lolite()" onClick="logVariable('modifiedcriteria')" href="../../_variables/modifiedcriteria.html">$modifiedcriteria</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_criteria', array('id' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l474"><span class="linenum"> 474</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('Demonstrate an understanding of rabies control', <a class="var it33197" onMouseOver="hilite(33197)" onMouseOut="lolite()" onClick="logVariable('modifiedcriteria')" href="../../_variables/modifiedcriteria.html">$modifiedcriteria</a>-&gt;<a onClick="logVariable('description')" class="var it44441" onMouseOver="hilite(44441)" onMouseOut="lolite()" href="../../_variables/description.html">description</a>);
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">        // Test new criteria added.</span>
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it29643" onMouseOver="hilite(29643)" onMouseOut="lolite()" onClick="logVariable('newcriteria')" href="../../_variables/newcriteria.html">$newcriteria</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_criteria',
<a name="l478"><span class="linenum"> 478</span></a>                                         array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'sortorder' =&gt; 2), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l479"><span class="linenum"> 479</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('Demonstrate an understanding of anthrax control', <a class="var it29643" onMouseOver="hilite(29643)" onMouseOut="lolite()" onClick="logVariable('newcriteria')" href="../../_variables/newcriteria.html">$newcriteria</a>-&gt;<a onClick="logVariable('description')" class="var it44442" onMouseOver="hilite(44442)" onMouseOut="lolite()" href="../../_variables/description.html">description</a>);
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">        // Test excellent level score change from 100 to 75.</span>
<a name="l482"><span class="linenum"> 482</span></a>          <a class="var it33198" onMouseOver="hilite(33198)" onMouseOut="lolite()" onClick="logVariable('modifiedlevel')" href="../../_variables/modifiedlevel.html">$modifiedlevel</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_levels', array('id' =&gt; <a class="var it33195" onMouseOver="hilite(33195)" onMouseOut="lolite()" onClick="logVariable('excellentlevelid')" href="../../_variables/excellentlevelid.html">$excellentlevelid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l483"><span class="linenum"> 483</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(75, <a class="var it33198" onMouseOver="hilite(33198)" onMouseOut="lolite()" onClick="logVariable('modifiedlevel')" href="../../_variables/modifiedlevel.html">$modifiedlevel</a>-&gt;<a onClick="logVariable('score')" class="var it44443" onMouseOver="hilite(44443)" onMouseOut="lolite()" href="../../_variables/score.html">score</a>);
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">        // Test new superb level added.</span>
<a name="l486"><span class="linenum"> 486</span></a>          <a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('newlevel')" href="../../_variables/newlevel.html">$newlevel</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_levels',
<a name="l487"><span class="linenum"> 487</span></a>                                         array('criterionid' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'score' =&gt; 100), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l488"><span class="linenum"> 488</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('superb', <a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('newlevel')" href="../../_variables/newlevel.html">$newlevel</a>-&gt;<a onClick="logVariable('definition')" class="var it44444" onMouseOver="hilite(44444)" onMouseOut="lolite()" href="../../_variables/definition.html">definition</a>);
<a name="l489"><span class="linenum"> 489</span></a>  
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">        // Test remove a level</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">        // Test remove a criterion</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">        // The rubric definition with the removed criterion and levels.</span>
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a> = array(
<a name="l494"><span class="linenum"> 494</span></a>              'id' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l495"><span class="linenum"> 495</span></a>              'method' =&gt; 'rubric',
<a name="l496"><span class="linenum"> 496</span></a>              'name' =&gt; 'test changed',
<a name="l497"><span class="linenum"> 497</span></a>              'description' =&gt; '',
<a name="l498"><span class="linenum"> 498</span></a>              'status' =&gt; 20,
<a name="l499"><span class="linenum"> 499</span></a>              'copiedfromid' =&gt; 1,
<a name="l500"><span class="linenum"> 500</span></a>              'timecreated' =&gt; 1,
<a name="l501"><span class="linenum"> 501</span></a>              'usercreated' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l502"><span class="linenum"> 502</span></a>              'timemodified' =&gt; 1,
<a name="l503"><span class="linenum"> 503</span></a>              'usermodified' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l504"><span class="linenum"> 504</span></a>              'timecopied' =&gt; 0
<a name="l505"><span class="linenum"> 505</span></a>          );
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a> = array (
<a name="l508"><span class="linenum"> 508</span></a>               'id' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l509"><span class="linenum"> 509</span></a>               'sortorder' =&gt; 1,
<a name="l510"><span class="linenum"> 510</span></a>               'description' =&gt; 'Demonstrate an understanding of rabies control',
<a name="l511"><span class="linenum"> 511</span></a>               'descriptionformat' =&gt; 0
<a name="l512"><span class="linenum"> 512</span></a>          );
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>          <a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a> = array (
<a name="l515"><span class="linenum"> 515</span></a>              'score' =&gt; 0,
<a name="l516"><span class="linenum"> 516</span></a>              'definition' =&gt; 'fail',
<a name="l517"><span class="linenum"> 517</span></a>              'definitionformat' =&gt; 0
<a name="l518"><span class="linenum"> 518</span></a>          );
<a name="l519"><span class="linenum"> 519</span></a>          <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a> = array (
<a name="l520"><span class="linenum"> 520</span></a>              'score' =&gt; 100,
<a name="l521"><span class="linenum"> 521</span></a>              'definition' =&gt; 'pass',
<a name="l522"><span class="linenum"> 522</span></a>              'definitionformat' =&gt; 0
<a name="l523"><span class="linenum"> 523</span></a>          );
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          <a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>['levels'] = array(<a class="var it33183" onMouseOver="hilite(33183)" onMouseOut="lolite()" onClick="logVariable('rubriclevel1')" href="../../_variables/rubriclevel1.html">$rubriclevel1</a>, <a class="var it33184" onMouseOver="hilite(33184)" onMouseOut="lolite()" onClick="logVariable('rubriclevel2')" href="../../_variables/rubriclevel2.html">$rubriclevel2</a>);
<a name="l526"><span class="linenum"> 526</span></a>          <a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>['rubric'] = array('rubric_criteria' =&gt; array(<a class="var it33181" onMouseOver="hilite(33181)" onMouseOut="lolite()" onClick="logVariable('rubriccriteria1')" href="../../_variables/rubriccriteria1.html">$rubriccriteria1</a>));
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33180" onMouseOver="hilite(33180)" onMouseOut="lolite()" onClick="logVariable('rubricdefinition')" href="../../_variables/rubricdefinition.html">$rubricdefinition</a>);
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">        // Only 1 criterion should now exist.</span>
<a name="l532"><span class="linenum"> 532</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('gradingform_rubric_criteria', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l533"><span class="linenum"> 533</span></a>          <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('gradingform_rubric_criteria', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l534"><span class="linenum"> 534</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('Demonstrate an understanding of rabies control', <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('description')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/description.html">description</a>);
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">        // This criterion should only have 2 levels.</span>
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(2, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('gradingform_rubric_levels', array('criterionid' =&gt; <a class="var it33193" onMouseOver="hilite(33193)" onMouseOut="lolite()" onClick="logVariable('criterion1')" href="../../_variables/criterion1.html">$criterion1</a>-&gt;<a onClick="logVariable('id')" class="var it44440" onMouseOver="hilite(44440)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['activemethod'] = 'invalid';
<a name="l539"><span class="linenum"> 539</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;expectException('moodle_exception');
<a name="l540"><span class="linenum"> 540</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l541"><span class="linenum"> 541</span></a>      }
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>      <span class="comment">/**</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     *</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     * Tests save_definitions for the marking guide grading method</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment">     */</span>
<a name="l547"><span class="linenum"> 547</span></a>      public function <a class="function" onClick="logFunction('test_save_definitions_marking_guide')" href="../../_functions/test_save_definitions_marking_guide.html" onMouseOver="funcPopup(event,'test_save_definitions_marking_guide')">test_save_definitions_marking_guide</a>() {
<a name="l548"><span class="linenum"> 548</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>(true);
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">        // Create a course and assignment.</span>
<a name="l552"><span class="linenum"> 552</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('get_plugin_generator')" href="../../_functions/get_plugin_generator.html" onMouseOver="funcPopup(event,'get_plugin_generator')">get_plugin_generator</a>('mod_assign');
<a name="l554"><span class="linenum"> 554</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['course'] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l555"><span class="linenum"> 555</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <a class="var it657" onMouseOver="hilite(657)" onMouseOut="lolite()" onClick="logVariable('generator')" href="../../_variables/generator.html">$generator</a>-&gt;<a class="function" onClick="logFunction('create_instance')" href="../../_functions/create_instance.html" onMouseOver="funcPopup(event,'create_instance')">create_instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l556"><span class="linenum"> 556</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('id')" class="var it43004" onMouseOver="hilite(43004)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l557"><span class="linenum"> 557</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l558"><span class="linenum"> 558</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">        // Create the teacher.</span>
<a name="l561"><span class="linenum"> 561</span></a>          <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l562"><span class="linenum"> 562</span></a>          <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l563"><span class="linenum"> 563</span></a>          <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('shortname' =&gt; 'editingteacher'));
<a name="l564"><span class="linenum"> 564</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assignUserCapability')" href="../../_functions/assignusercapability.html" onMouseOver="funcPopup(event,'assignusercapability')">assignUserCapability</a>('moodle/grade:managegradingforms', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l565"><span class="linenum"> 565</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l566"><span class="linenum"> 566</span></a>                                                <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l567"><span class="linenum"> 567</span></a>                                                <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l568"><span class="linenum"> 568</span></a>  
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">        // Test insert a grading area with guide definition, criteria and comments.</span>
<a name="l570"><span class="linenum"> 570</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a> = array(
<a name="l571"><span class="linenum"> 571</span></a>              'cmid' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l572"><span class="linenum"> 572</span></a>              'contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l573"><span class="linenum"> 573</span></a>              'component' =&gt; 'mod_assign',
<a name="l574"><span class="linenum"> 574</span></a>              'areaname'  =&gt; 'submissions',
<a name="l575"><span class="linenum"> 575</span></a>              'activemethod' =&gt; 'guide'
<a name="l576"><span class="linenum"> 576</span></a>          );
<a name="l577"><span class="linenum"> 577</span></a>  
<a name="l578"><span class="linenum"> 578</span></a>          <a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a> = array(
<a name="l579"><span class="linenum"> 579</span></a>              'method' =&gt; 'guide',
<a name="l580"><span class="linenum"> 580</span></a>              'name' =&gt; 'test',
<a name="l581"><span class="linenum"> 581</span></a>              'description' =&gt; '',
<a name="l582"><span class="linenum"> 582</span></a>              'status' =&gt; 20,
<a name="l583"><span class="linenum"> 583</span></a>              'copiedfromid' =&gt; 1,
<a name="l584"><span class="linenum"> 584</span></a>              'timecreated' =&gt; 1,
<a name="l585"><span class="linenum"> 585</span></a>              'usercreated' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l586"><span class="linenum"> 586</span></a>              'timemodified' =&gt; 1,
<a name="l587"><span class="linenum"> 587</span></a>              'usermodified' =&gt; <a class="var it10717" onMouseOver="hilite(10717)" onMouseOut="lolite()" onClick="logVariable('teacher')" href="../../_variables/teacher.html">$teacher</a>-&gt;<a onClick="logVariable('id')" class="var it42935" onMouseOver="hilite(42935)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l588"><span class="linenum"> 588</span></a>              'timecopied' =&gt; 0
<a name="l589"><span class="linenum"> 589</span></a>          );
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>          <a class="var it33200" onMouseOver="hilite(33200)" onMouseOut="lolite()" onClick="logVariable('guidecomment')" href="../../_variables/guidecomment.html">$guidecomment</a> = array(
<a name="l592"><span class="linenum"> 592</span></a>               'sortorder' =&gt; 1,
<a name="l593"><span class="linenum"> 593</span></a>               'description' =&gt; 'Students need to show that they understand the control of zoonoses',
<a name="l594"><span class="linenum"> 594</span></a>               'descriptionformat' =&gt; 0
<a name="l595"><span class="linenum"> 595</span></a>          );
<a name="l596"><span class="linenum"> 596</span></a>          <a class="var it33201" onMouseOver="hilite(33201)" onMouseOut="lolite()" onClick="logVariable('guidecriteria1')" href="../../_variables/guidecriteria1.html">$guidecriteria1</a> = array (
<a name="l597"><span class="linenum"> 597</span></a>               'sortorder' =&gt; 1,
<a name="l598"><span class="linenum"> 598</span></a>               'shortname' =&gt; 'Rabies Control',
<a name="l599"><span class="linenum"> 599</span></a>               'description' =&gt; 'Understand rabies control techniques',
<a name="l600"><span class="linenum"> 600</span></a>               'descriptionformat' =&gt; 0,
<a name="l601"><span class="linenum"> 601</span></a>               'descriptionmarkers' =&gt; 'Student must demonstrate that they understand rabies control',
<a name="l602"><span class="linenum"> 602</span></a>               'descriptionmarkersformat' =&gt; 0,
<a name="l603"><span class="linenum"> 603</span></a>               'maxscore' =&gt; 50
<a name="l604"><span class="linenum"> 604</span></a>          );
<a name="l605"><span class="linenum"> 605</span></a>          <a class="var it33202" onMouseOver="hilite(33202)" onMouseOut="lolite()" onClick="logVariable('guidecriteria2')" href="../../_variables/guidecriteria2.html">$guidecriteria2</a> = array (
<a name="l606"><span class="linenum"> 606</span></a>               'sortorder' =&gt; 2,
<a name="l607"><span class="linenum"> 607</span></a>               'shortname' =&gt; 'Anthrax Control',
<a name="l608"><span class="linenum"> 608</span></a>               'description' =&gt; 'Understand anthrax control',
<a name="l609"><span class="linenum"> 609</span></a>               'descriptionformat' =&gt; 0,
<a name="l610"><span class="linenum"> 610</span></a>               'descriptionmarkers' =&gt; 'Student must demonstrate that they understand anthrax control',
<a name="l611"><span class="linenum"> 611</span></a>               'descriptionmarkersformat' =&gt; 0,
<a name="l612"><span class="linenum"> 612</span></a>               'maxscore' =&gt; 50
<a name="l613"><span class="linenum"> 613</span></a>          );
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>          <a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>['guide'] = array('guide_criteria' =&gt; array(<a class="var it33201" onMouseOver="hilite(33201)" onMouseOut="lolite()" onClick="logVariable('guidecriteria1')" href="../../_variables/guidecriteria1.html">$guidecriteria1</a>, <a class="var it33202" onMouseOver="hilite(33202)" onMouseOut="lolite()" onClick="logVariable('guidecriteria2')" href="../../_variables/guidecriteria2.html">$guidecriteria2</a>),
<a name="l616"><span class="linenum"> 616</span></a>                                            'guide_comments' =&gt; array(<a class="var it33200" onMouseOver="hilite(33200)" onMouseOut="lolite()" onClick="logVariable('guidecomment')" href="../../_variables/guidecomment.html">$guidecomment</a>));
<a name="l617"><span class="linenum"> 617</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>);
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l620"><span class="linenum"> 620</span></a>          <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_areas',
<a name="l621"><span class="linenum"> 621</span></a>                                  array('contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'component' =&gt; 'mod_assign', 'areaname' =&gt; 'submissions'),
<a name="l622"><span class="linenum"> 622</span></a>                                  '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('activemethod')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/activemethod.html">activemethod</a>, 'guide');
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_definitions', array('areaid' =&gt; <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('id')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'method' =&gt; 'guide'), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l626"><span class="linenum"> 626</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>['name'], <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('name')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>);
<a name="l627"><span class="linenum"> 627</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(2, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('gradingform_guide_criteria', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l628"><span class="linenum"> 628</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('gradingform_guide_comments', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">        // Test removal of a criteria.</span>
<a name="l631"><span class="linenum"> 631</span></a>          <a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>['guide'] = array('guide_criteria' =&gt; array(<a class="var it33201" onMouseOver="hilite(33201)" onMouseOut="lolite()" onClick="logVariable('guidecriteria1')" href="../../_variables/guidecriteria1.html">$guidecriteria1</a>),
<a name="l632"><span class="linenum"> 632</span></a>                                            'guide_comments' =&gt; array(<a class="var it33200" onMouseOver="hilite(33200)" onMouseOut="lolite()" onClick="logVariable('guidecomment')" href="../../_variables/guidecomment.html">$guidecomment</a>));
<a name="l633"><span class="linenum"> 633</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>);
<a name="l634"><span class="linenum"> 634</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l635"><span class="linenum"> 635</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(1, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('gradingform_guide_criteria', array('definitionid' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('id')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">        // Test an invalid method in the definition.</span>
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>['method'] = 'invalid';
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>['definitions'] = array(<a class="var it33199" onMouseOver="hilite(33199)" onMouseOut="lolite()" onClick="logVariable('guidedefinition')" href="../../_variables/guidedefinition.html">$guidedefinition</a>);
<a name="l640"><span class="linenum"> 640</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;expectException('invalid_parameter_exception');
<a name="l641"><span class="linenum"> 641</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = <a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a>::<a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(array(<a class="var it33179" onMouseOver="hilite(33179)" onMouseOut="lolite()" onClick="logVariable('gradingarea')" href="../../_variables/gradingarea.html">$gradingarea</a>));
<a name="l642"><span class="linenum"> 642</span></a>      }
<a name="l643"><span class="linenum"> 643</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'test_get_gradingform_instances': ['test_get_gradingform_instances', 'Test get_gradingform_instances ', [['lib/tests','grading_externallib_test.php',177]], 0],
'get_gradingform_instances': ['get_gradingform_instances', 'Returns the instances and fillings for the requested definition id ', [['lib/classes','grading_external.php',310]], 1],
'get_grading_manager': ['get_grading_manager', 'Factory method returning an instance of the grading manager ', [['grade/grading','lib.php',27]], 37],
'test_save_definitions_rubric': ['test_save_definitions_rubric', 'Test save_definitions for rubric grading method ', [['lib/tests','grading_externallib_test.php',304]], 0],
'get_definitions': ['get_definitions', 'Returns the definitions for the requested course module ids ', [['lib/classes','grading_external.php',52],['cache/classes','config.php',389]], 11],
'enrol_user': ['enrol_user', 'Enrol user into course via enrol instance. ', [['enrol/flatfile','lib.php',144],['lib','enrollib.php',1270],['lib/testing/generator','data_generator.php',891],['enrol/lti/classes','helper.php',233],['enrol/self','externallib.php',122],['enrol/mnet','enrol.php',115],['enrol/guest','lib.php',60]], 745],
'get_gradingform_instances_returns': ['get_gradingform_instances_returns', 'Describes the get_gradingform_instances return value ', [['lib/classes','grading_external.php',432]], 1],
'assignusercapability': ['assignusercapability', 'Assign a capability to $USER The function creates a student $USER if $USER->id is empty ', [['webservice/tests','helpers.php',36]], 134],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'create_module': ['create_module', 'Create a test activity module. ', [['lib/testing/generator','data_generator.php',481],['course','lib.php',3522]], 762],
'create_course': ['create_course', 'Creates the actual course. ', [['admin/tool/generator/classes','course_backend.php',246],['lib/testing/generator','data_generator.php',366],['enrol/ldap','lib.php',949],['course','lib.php',2654]], 1178],
'count_records': ['count_records', 'Count a list of records. ', [['competency/classes','persistent.php',815],['mod/glossary/classes','entry_query_builder.php',152],['lib/dml','moodle_database.php',1766]], 1630],
'assertequals': ['assertequals', 'Asserts that two variables are equal. ', [['lib/tests','completionlib_test.php',68]], 12471],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',246]], 1528],
'create_user': ['create_user', 'Create a test user ', [['lib/testing/generator','data_generator.php',137]], 1376],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1300]], 441],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',570]], 4450],
'test_save_definitions_marking_guide': ['test_save_definitions_marking_guide', 'Tests save_definitions for the marking guide grading method ', [['lib/tests','grading_externallib_test.php',543]], 0],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'create_instance': ['create_instance', '', [['mod/imscp/tests/generator','lib.php',38],['mod/forum/tests/generator','lib.php',67],['mod/workshop/tests/generator','lib.php',38],['lib/testing/generator','module_generator.php',210],['mod/book/tests/generator','lib.php',53],['mod/survey/tests/generator','lib.php',49],['notes/tests/generator','lib.php',52],['lib/testing/generator','repository_generator.php',106],['mod/lti/tests/generator','lib.php',40],['mod/lesson/tests/generator','lib.php',53],['mod/page/tests/generator','lib.php',39],['mod/glossary/tests/generator','lib.php',59],['lib/testing/generator','block_generator.php',100],['grade/grading/form','lib.php',493],['mod/choice/tests/generator','lib.php',38],['mod/chat/tests/generator','lib.php',53],['mod/assignment/tests/generator','lib.php',39],['mod/folder/tests/generator','lib.php',38],['mod/assign/tests','base_test.php',200],['mod/feedback/tests/generator','lib.php',38],['lib/portfolio','plugin.php',412],['mod/assign/tests/generator','lib.php',29],['mod/data/tests/generator','lib.php',39],['mod/quiz/tests/generator','lib.php',28],['mod/url/tests/generator','lib.php',38],['mod/resource/tests/generator','lib.php',37],['mod/wiki/tests/generator','lib.php',53],['mod/scorm/tests/generator','lib.php',38]], 328],
'get_definitions_returns': ['get_definitions_returns', 'Describes the get_definitions return value ', [['lib/classes','grading_external.php',272]], 1],
'get_plugin_generator': ['get_plugin_generator', 'Return generator for given plugin or component. ', [['lib/testing/generator','data_generator.php',100]], 619],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'save_definitions': ['save_definitions', 'Saves the areas and definitions ', [['lib/classes','grading_external.php',461]], 7],
'clean_returnvalue': ['clean_returnvalue', 'Clean response If a response attribute is unknown from the description, we just ignore the attribute. If a response attribute is incorrect, invalid_response_exception is thrown. Note: this function is similar to validate parameters, however it is distinct because parameters validation must be distinct from cleaning return values. ', [['lib','externallib.php',358]], 733],
'test_get_definitions': ['test_get_definitions', 'Test get_definitions ', [['lib/tests','grading_externallib_test.php',33]], 0],
'defined': ['defined', '', [], 4731],
'call_user_func': ['call_user_func', '', [], 113],
'time': ['time', '', [], 1959],
'count': ['count', '', [], 4095],
'key': ['key', '', [], 204]};
CLASS_DATA={
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'core_grading_external': ['core_grading_external', 'core grading functions ', [['lib/classes','grading_external.php',31]], 11],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'core_grading_externallib_testcase': ['core_grading_externallib_testcase', 'Unit tests for the grading API defined in core_grading_external class. ', [['lib/tests','grading_externallib_test.php',23]], 0]};
CONST_DATA={
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 506]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
