<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/deprecatedlib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='deprecatedlib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="deprecatedlib.php.html">deprecatedlib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="deprecatedlib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="deprecatedlib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * deprecatedlib.php - Old functions retained only for backward compatibility</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * Old functions retained only for backward compatibility.  New code should not</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * use any of these functions.</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @package    core</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @subpackage deprecated</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @deprecated</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> */</span>
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/* === Functions that needs to be kept longer in deprecated lib than normal time period === */</span>
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * Add an entry to the legacy log table.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @deprecated since 2.7 use new events instead</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> *</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @param    int     $courseid  The course id</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @param    string  $module  The module name  e.g. forum, journal, resource, course, user etc</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @param    string  $action  'view', 'update', 'add' or 'delete', possibly followed by another word to clarify.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * @param    string  $url     The file and parameters used to see the results of the action</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @param    string  $info    Additional description information</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @param    int     $cm      The course_module-&gt;id if there is one</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @param    int|stdClass $user If log regards $user other than $USER</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @return void</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> */</span>
<a name="l49"><span class="linenum">  49</span></a>  function <a class="function" onClick="logFunction('add_to_log')" href="../_functions/add_to_log.html" onMouseOver="funcPopup(event,'add_to_log')">add_to_log</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>='', <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>='', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=0, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>=0) {
<a name="l50"><span class="linenum">  50</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('add_to_log')" href="../_functions/add_to_log.html" onMouseOver="funcPopup(event,'add_to_log')">add_to_log</a>() has been deprecated, please rewrite your code to the new events API', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">    // This is a nasty hack that allows us to put all the legacy stuff into legacy storage,</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">    // this way we may move all the legacy settings there too.</span>
<a name="l54"><span class="linenum">  54</span></a>      <a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a> = <a class="function" onClick="logFunction('get_log_manager')" href="../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>();
<a name="l55"><span class="linenum">  55</span></a>      if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, 'legacy_add_to_log')) {
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('legacy_add_to_log')" href="../_functions/legacy_add_to_log.html" onMouseOver="funcPopup(event,'legacy_add_to_log')">legacy_add_to_log</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l57"><span class="linenum">  57</span></a>      }
<a name="l58"><span class="linenum">  58</span></a>  }
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">/**</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * Function to call all event handlers when triggering an event</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> *</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> *</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> * @param string $eventname name of the event</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> * @param mixed $eventdata event data object</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment"> * @return int number of failed events</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment"> */</span>
<a name="l69"><span class="linenum">  69</span></a>  function <a class="function" onClick="logFunction('events_trigger')" href="../_functions/events_trigger.html" onMouseOver="funcPopup(event,'events_trigger')">events_trigger</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>) {
<a name="l70"><span class="linenum">  70</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('events_trigger')" href="../_functions/events_trigger.html" onMouseOver="funcPopup(event,'events_trigger')">events_trigger</a>() is deprecated, please use new events instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l71"><span class="linenum">  71</span></a>      return <a class="function" onClick="logFunction('events_trigger_legacy')" href="../_functions/events_trigger_legacy.html" onMouseOver="funcPopup(event,'events_trigger_legacy')">events_trigger_legacy</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>);
<a name="l72"><span class="linenum">  72</span></a>  }
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">/**</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment"> * List all core subsystems and their location</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment"> *</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment"> * This is a whitelist of components that are part of the core and their</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment"> * language strings are defined in /lang/en/&lt;&lt;subsystem&gt;&gt;.php. If a given</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment"> * plugin is not listed here and it does not have proper plugintype prefix,</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment"> * then it is considered as course activity module.</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment"> *</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment"> * The location is optionally dirroot relative path. NULL means there is no special</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment"> * directory for this subsystem. If the location is set, the subsystem's</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment"> * renderer.php is expected to be there.</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment"> *</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_core_subsystems()</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment"> *</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> * @param bool $fullpaths false means relative paths from dirroot, use true for performance reasons</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * @return array of (string)name =&gt; (string|null)location</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> */</span>
<a name="l91"><span class="linenum">  91</span></a>  function <a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>(<a class="var it2533" onMouseOver="hilite(2533)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a> = false) {
<a name="l92"><span class="linenum">  92</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>      <a class="var it2534" onMouseOver="hilite(2534)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>();
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>      if (<a class="var it2533" onMouseOver="hilite(2533)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a>) {
<a name="l99"><span class="linenum">  99</span></a>          return <a class="var it2534" onMouseOver="hilite(2534)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>;
<a name="l100"><span class="linenum"> 100</span></a>      }
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Short paths are deprecated when using <a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>(), please fix the code to use fullpaths instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>      <a class="var it2535" onMouseOver="hilite(2535)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>);
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      foreach (<a class="var it2534" onMouseOver="hilite(2534)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l107"><span class="linenum"> 107</span></a>          if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a> === null) {
<a name="l108"><span class="linenum"> 108</span></a>              continue;
<a name="l109"><span class="linenum"> 109</span></a>          }
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it2534" onMouseOver="hilite(2534)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>, <a class="var it2535" onMouseOver="hilite(2535)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a>+1);
<a name="l111"><span class="linenum"> 111</span></a>      }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>      return <a class="var it2534" onMouseOver="hilite(2534)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>;
<a name="l114"><span class="linenum"> 114</span></a>  }
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">/**</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment"> * Lists all plugin types.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment"> *</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_types()</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> *</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment"> * @param bool $fullpaths false means relative paths from dirroot</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment"> * @return array Array of strings - name=&gt;location</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment"> */</span>
<a name="l124"><span class="linenum"> 124</span></a>  function <a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>(<a class="var it2533" onMouseOver="hilite(2533)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a> = true) {
<a name="l125"><span class="linenum"> 125</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>();
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>      if (<a class="var it2533" onMouseOver="hilite(2533)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a>) {
<a name="l132"><span class="linenum"> 132</span></a>          return <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>;
<a name="l133"><span class="linenum"> 133</span></a>      }
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Short paths are deprecated when using <a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>(), please fix the code to use fullpaths instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>      <a class="var it2535" onMouseOver="hilite(2535)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>);
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>      foreach (<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l140"><span class="linenum"> 140</span></a>          if (<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> === 'theme') {
<a name="l141"><span class="linenum"> 141</span></a>              <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = 'theme';
<a name="l142"><span class="linenum"> 142</span></a>              continue;
<a name="l143"><span class="linenum"> 143</span></a>          }
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>, <a class="var it2535" onMouseOver="hilite(2535)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a>+1);
<a name="l145"><span class="linenum"> 145</span></a>      }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>      return <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>;
<a name="l148"><span class="linenum"> 148</span></a>  }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">/**</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment"> * Use when listing real plugins of one type.</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment"> *</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_list()</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> *</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> * @param string $plugintype type of plugin</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment"> * @return array name=&gt;fulllocation pairs of plugins of given type</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment"> */</span>
<a name="l158"><span class="linenum"> 158</span></a>  function <a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>) {
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>      if (<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> === '') {
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> = 'mod';
<a name="l164"><span class="linenum"> 164</span></a>      }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>);
<a name="l167"><span class="linenum"> 167</span></a>  }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">/**</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment"> * Get a list of all the plugins of a given type that define a certain class</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment"> * in a certain file. The plugin component names and class names are returned.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> *</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_list_with_class()</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> *</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> * @param string $plugintype the type of plugin, e.g. 'mod' or 'report'.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment"> * @param string $class the part of the name of the class after the</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment"> *      frankenstyle prefix. e.g 'thing' if you are looking for classes with</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment"> *      names like report_courselist_thing. If you are looking for classes with</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment"> *      the same name as the plugin name (e.g. qtype_multichoice) then pass ''.</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment"> * @param string $file the name of file within the plugin that defines the class.</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment"> * @return array with frankenstyle plugin names as keys (e.g. 'report_courselist', 'mod_forum')</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment"> *      and the class names as values (e.g. 'report_courselist_thing', 'qtype_multichoice').</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment"> */</span>
<a name="l184"><span class="linenum"> 184</span></a>  function <a class="function" onClick="logFunction('get_plugin_list_with_class')" href="../_functions/get_plugin_list_with_class.html" onMouseOver="funcPopup(event,'get_plugin_list_with_class')">get_plugin_list_with_class</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_class')" href="../_functions/get_plugin_list_with_class.html" onMouseOver="funcPopup(event,'get_plugin_list_with_class')">get_plugin_list_with_class</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>);
<a name="l189"><span class="linenum"> 189</span></a>  }
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">/**</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment"> * Returns the exact absolute path to plugin directory.</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment"> *</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_directory()</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment"> *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment"> * @param string $plugintype type of plugin</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment"> * @param string $name name of the plugin</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment"> * @return string full path to plugin directory; NULL if not found</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment"> */</span>
<a name="l200"><span class="linenum"> 200</span></a>  function <a class="function" onClick="logFunction('get_plugin_directory')" href="../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>) {
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>      if (<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> === '') {
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> = 'mod';
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_directory')" href="../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>);
<a name="l209"><span class="linenum"> 209</span></a>  }
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">/**</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment"> * Normalize the component name using the &quot;frankenstyle&quot; names.</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment"> *</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::normalize_component()</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> *</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment"> * @param string $component</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> * @return array as (string)$type =&gt; (string)$plugin</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> */</span>
<a name="l219"><span class="linenum"> 219</span></a>  function <a class="function" onClick="logFunction('normalize_component')" href="../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('normalize_component')" href="../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l224"><span class="linenum"> 224</span></a>  }
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">/**</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> * Return exact absolute path to a plugin directory.</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> *</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::normalize_component()</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment"> *</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> * @param string $component name such as 'moodle', 'mod_forum'</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment"> * @return string full path to component directory; NULL if not found</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> */</span>
<a name="l234"><span class="linenum"> 234</span></a>  function <a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l239"><span class="linenum"> 239</span></a>  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">/**</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment"> * Get the context instance as an object. This function will create the</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> * context instance if it does not exist yet.</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * @deprecated since 2.2, use context_course::instance() or other relevant class instead</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> * @todo This will be deleted in Moodle 2.8, refer MDL-34472</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> * @param integer $contextlevel The context level, for example CONTEXT_COURSE, or CONTEXT_MODULE.</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment"> * @param integer $instance The instance id. For $level = CONTEXT_COURSE, this would be $course-&gt;id,</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment"> *      for $level = CONTEXT_MODULE, this would be $cm-&gt;id. And so on. Defaults to 0</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment"> * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment"> *      MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment"> * @return context The context object.</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment"> */</span>
<a name="l254"><span class="linenum"> 254</span></a>  function <a class="function" onClick="logFunction('get_context_instance')" href="../_functions/get_context_instance.html" onMouseOver="funcPopup(event,'get_context_instance')">get_context_instance</a>(<a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a> = 0, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a> = <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_context_instance')" href="../_functions/get_context_instance.html" onMouseOver="funcPopup(event,'get_context_instance')">get_context_instance</a>() is deprecated, please use context_xxxx::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>      <a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = (array)<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>;
<a name="l259"><span class="linenum"> 259</span></a>      <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a> = array();
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>      <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_class_for_level')" href="../_functions/get_class_for_level.html" onMouseOver="funcPopup(event,'get_class_for_level')">get_class_for_level</a>(<a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>);
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">    // we do not load multiple contexts any more, PAGE should be responsible for any preloading</span>
<a name="l264"><span class="linenum"> 264</span></a>      foreach (<a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> as <a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>) {
<a name="l265"><span class="linenum"> 265</span></a>          <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>[<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>] = <a class="var it202" onMouseOver="hilite(202)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a>);
<a name="l266"><span class="linenum"> 266</span></a>      }
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>)) {
<a name="l269"><span class="linenum"> 269</span></a>          return <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>;
<a name="l270"><span class="linenum"> 270</span></a>      } else {
<a name="l271"><span class="linenum"> 271</span></a>          return <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>[<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>];
<a name="l272"><span class="linenum"> 272</span></a>      }
<a name="l273"><span class="linenum"> 273</span></a>  }
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">/* === End of long term deprecated api list === */</span>
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">/**</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment"> * Adds a file upload to the log table so that clam can resolve the filename to the user later if necessary</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment"> *</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment"> *</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment"> */</span>
<a name="l282"><span class="linenum"> 282</span></a>  function <a class="function" onClick="logFunction('clam_log_upload')" href="../_functions/clam_log_upload.html" onMouseOver="funcPopup(event,'clam_log_upload')">clam_log_upload</a>(<a class="var it2110" onMouseOver="hilite(2110)" onMouseOut="lolite()" onClick="logVariable('newfilepath')" href="../_variables/newfilepath.html">$newfilepath</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>=null, <a class="var it2539" onMouseOver="hilite(2539)" onMouseOut="lolite()" onClick="logVariable('nourl')" href="../_variables/nourl.html">$nourl</a>=false) {
<a name="l283"><span class="linenum"> 283</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_log_upload')" href="../_functions/clam_log_upload.html" onMouseOver="funcPopup(event,'clam_log_upload')">clam_log_upload</a>() can not be used any more, please use file picker instead');
<a name="l284"><span class="linenum"> 284</span></a>  }
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment"> * This function logs to error_log and to the log table that an infected file has been found and what's happened to it.</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment"> *</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment"> *</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment"> */</span>
<a name="l292"><span class="linenum"> 292</span></a>  function <a class="function" onClick="logFunction('clam_log_infected')" href="../_functions/clam_log_infected.html" onMouseOver="funcPopup(event,'clam_log_infected')">clam_log_infected</a>(<a class="var it2540" onMouseOver="hilite(2540)" onMouseOut="lolite()" onClick="logVariable('oldfilepath')" href="../_variables/oldfilepath.html">$oldfilepath</a>='', <a class="var it2110" onMouseOver="hilite(2110)" onMouseOut="lolite()" onClick="logVariable('newfilepath')" href="../_variables/newfilepath.html">$newfilepath</a>='', <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0) {
<a name="l293"><span class="linenum"> 293</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_log_infected')" href="../_functions/clam_log_infected.html" onMouseOver="funcPopup(event,'clam_log_infected')">clam_log_infected</a>() can not be used any more, please use file picker instead');
<a name="l294"><span class="linenum"> 294</span></a>  }
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">/**</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * Some of the modules allow moving attachments (glossary), in which case we need to hunt down an original log and change the path.</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> *</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> */</span>
<a name="l302"><span class="linenum"> 302</span></a>  function <a class="function" onClick="logFunction('clam_change_log')" href="../_functions/clam_change_log.html" onMouseOver="funcPopup(event,'clam_change_log')">clam_change_log</a>(<a class="var it2541" onMouseOver="hilite(2541)" onMouseOut="lolite()" onClick="logVariable('oldpath')" href="../_variables/oldpath.html">$oldpath</a>, <a class="var it2542" onMouseOver="hilite(2542)" onMouseOut="lolite()" onClick="logVariable('newpath')" href="../_variables/newpath.html">$newpath</a>, <a class="var it2088" onMouseOver="hilite(2088)" onMouseOut="lolite()" onClick="logVariable('update')" href="../_variables/update.html">$update</a>=true) {
<a name="l303"><span class="linenum"> 303</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_change_log')" href="../_functions/clam_change_log.html" onMouseOver="funcPopup(event,'clam_change_log')">clam_change_log</a>() can not be used any more, please use file picker instead');
<a name="l304"><span class="linenum"> 304</span></a>  }
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">/**</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment"> * Replaces the given file with a string.</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment"> *</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment"> * @deprecated since 2.7 - infected files are now deleted in file picker</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment"> *</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment"> */</span>
<a name="l312"><span class="linenum"> 312</span></a>  function <a class="function" onClick="logFunction('clam_replace_infected_file')" href="../_functions/clam_replace_infected_file.html" onMouseOver="funcPopup(event,'clam_replace_infected_file')">clam_replace_infected_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l313"><span class="linenum"> 313</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_replace_infected_file')" href="../_functions/clam_replace_infected_file.html" onMouseOver="funcPopup(event,'clam_replace_infected_file')">clam_replace_infected_file</a>() can not be used any more, please use file picker instead');
<a name="l314"><span class="linenum"> 314</span></a>  }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">/**</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> * Deals with an infected file - either moves it to a quarantinedir</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * (specified in CFG-&gt;quarantinedir) or deletes it.</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> *</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> * If moving it fails, it deletes it.</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> *</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment"> * @deprecated since 2.7</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment"> */</span>
<a name="l324"><span class="linenum"> 324</span></a>  function <a class="function" onClick="logFunction('clam_handle_infected_file')" href="../_functions/clam_handle_infected_file.html" onMouseOver="funcPopup(event,'clam_handle_infected_file')">clam_handle_infected_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it2543" onMouseOver="hilite(2543)" onMouseOut="lolite()" onClick="logVariable('basiconly')" href="../_variables/basiconly.html">$basiconly</a>=false) {
<a name="l325"><span class="linenum"> 325</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_handle_infected_file')" href="../_functions/clam_handle_infected_file.html" onMouseOver="funcPopup(event,'clam_handle_infected_file')">clam_handle_infected_file</a>() can not be used any more, please use file picker instead');
<a name="l326"><span class="linenum"> 326</span></a>  }
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">/**</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment"> * If $CFG-&gt;runclamonupload is set, we scan a given file. (called from {@link preprocess_files()})</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment"> *</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment"> * @deprecated since 2.7</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment"> */</span>
<a name="l333"><span class="linenum"> 333</span></a>  function <a class="function" onClick="logFunction('clam_scan_moodle_file')" href="../_functions/clam_scan_moodle_file.html" onMouseOver="funcPopup(event,'clam_scan_moodle_file')">clam_scan_moodle_file</a>(&amp;<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l334"><span class="linenum"> 334</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_scan_moodle_file')" href="../_functions/clam_scan_moodle_file.html" onMouseOver="funcPopup(event,'clam_scan_moodle_file')">clam_scan_moodle_file</a>() can not be used any more, please use file picker instead');
<a name="l335"><span class="linenum"> 335</span></a>  }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">/**</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment"> * Checks whether the password compatibility library will work with the current</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * version of PHP. This cannot be done using PHP version numbers since the fix</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> * has been backported to earlier versions in some distributions.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> *</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * See https://github.com/ircmaxell/password_compat/issues/10 for more details.</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> *</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> * @deprecated since 2.7 PHP 5.4.x should be always compatible.</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> *</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> */</span>
<a name="l348"><span class="linenum"> 348</span></a>  function <a class="function" onClick="logFunction('password_compat_not_supported')" href="../_functions/password_compat_not_supported.html" onMouseOver="funcPopup(event,'password_compat_not_supported')">password_compat_not_supported</a>() {
<a name="l349"><span class="linenum"> 349</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Do not use <a class="function" onClick="logFunction('password_compat_not_supported')" href="../_functions/password_compat_not_supported.html" onMouseOver="funcPopup(event,'password_compat_not_supported')">password_compat_not_supported</a>() - bcrypt is now always available');
<a name="l350"><span class="linenum"> 350</span></a>  }
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">/**</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment"> * Factory method that was returning moodle_session object.</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment"> *</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment"> */</span>
<a name="l357"><span class="linenum"> 357</span></a>  function <a class="function" onClick="logFunction('session_get_instance')" href="../_functions/session_get_instance.html" onMouseOver="funcPopup(event,'session_get_instance')">session_get_instance</a>() {
<a name="l358"><span class="linenum"> 358</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_get_instance')" href="../_functions/session_get_instance.html" onMouseOver="funcPopup(event,'session_get_instance')">session_get_instance</a>() is removed, use \core\session\manager instead');
<a name="l359"><span class="linenum"> 359</span></a>  }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">/**</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment"> * Returns true if legacy session used.</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment"> *</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment"> */</span>
<a name="l366"><span class="linenum"> 366</span></a>  function <a class="function" onClick="logFunction('session_is_legacy')" href="../_functions/session_is_legacy.html" onMouseOver="funcPopup(event,'session_is_legacy')">session_is_legacy</a>() {
<a name="l367"><span class="linenum"> 367</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_is_legacy')" href="../_functions/session_is_legacy.html" onMouseOver="funcPopup(event,'session_is_legacy')">session_is_legacy</a>() is removed, do not use any more');
<a name="l368"><span class="linenum"> 368</span></a>  }
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">/**</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> * Terminates all sessions, auth hooks are not executed.</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment"> *</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment"> */</span>
<a name="l375"><span class="linenum"> 375</span></a>  function <a class="function" onClick="logFunction('session_kill_all')" href="../_functions/session_kill_all.html" onMouseOver="funcPopup(event,'session_kill_all')">session_kill_all</a>() {
<a name="l376"><span class="linenum"> 376</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_kill_all')" href="../_functions/session_kill_all.html" onMouseOver="funcPopup(event,'session_kill_all')">session_kill_all</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_all_sessions')" href="../_functions/kill_all_sessions.html" onMouseOver="funcPopup(event,'kill_all_sessions')">kill_all_sessions</a>() instead');
<a name="l377"><span class="linenum"> 377</span></a>  }
<a name="l378"><span class="linenum"> 378</span></a>  
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">/**</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment"> * Mark session as accessed, prevents timeouts.</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment"> *</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment"> */</span>
<a name="l384"><span class="linenum"> 384</span></a>  function <a class="function" onClick="logFunction('session_touch')" href="../_functions/session_touch.html" onMouseOver="funcPopup(event,'session_touch')">session_touch</a>(<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>) {
<a name="l385"><span class="linenum"> 385</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_touch')" href="../_functions/session_touch.html" onMouseOver="funcPopup(event,'session_touch')">session_touch</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('touch_session')" href="../_functions/touch_session.html" onMouseOver="funcPopup(event,'touch_session')">touch_session</a>() instead');
<a name="l386"><span class="linenum"> 386</span></a>  }
<a name="l387"><span class="linenum"> 387</span></a>  
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">/**</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment"> * Terminates one sessions, auth hooks are not executed.</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment"> *</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment"> */</span>
<a name="l393"><span class="linenum"> 393</span></a>  function <a class="function" onClick="logFunction('session_kill')" href="../_functions/session_kill.html" onMouseOver="funcPopup(event,'session_kill')">session_kill</a>(<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>) {
<a name="l394"><span class="linenum"> 394</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_kill')" href="../_functions/session_kill.html" onMouseOver="funcPopup(event,'session_kill')">session_kill</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_session')" href="../_functions/kill_session.html" onMouseOver="funcPopup(event,'kill_session')">kill_session</a>() instead');
<a name="l395"><span class="linenum"> 395</span></a>  }
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">/**</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment"> * Terminates all sessions of one user, auth hooks are not executed.</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment"> *</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment"> */</span>
<a name="l402"><span class="linenum"> 402</span></a>  function <a class="function" onClick="logFunction('session_kill_user')" href="../_functions/session_kill_user.html" onMouseOver="funcPopup(event,'session_kill_user')">session_kill_user</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l403"><span class="linenum"> 403</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_kill_user')" href="../_functions/session_kill_user.html" onMouseOver="funcPopup(event,'session_kill_user')">session_kill_user</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_user_sessions')" href="../_functions/kill_user_sessions.html" onMouseOver="funcPopup(event,'kill_user_sessions')">kill_user_sessions</a>() instead');
<a name="l404"><span class="linenum"> 404</span></a>  }
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">/**</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment"> * Setup $USER object - called during login, loginas, etc.</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment"> *</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment"> * Call sync_user_enrolments() manually after log-in, or log-in-as.</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment"> *</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment"> */</span>
<a name="l413"><span class="linenum"> 413</span></a>  function <a class="function" onClick="logFunction('session_set_user')" href="../_functions/session_set_user.html" onMouseOver="funcPopup(event,'session_set_user')">session_set_user</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l414"><span class="linenum"> 414</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_set_user')" href="../_functions/session_set_user.html" onMouseOver="funcPopup(event,'session_set_user')">session_set_user</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('set_user')" href="../_functions/set_user.html" onMouseOver="funcPopup(event,'set_user')">set_user</a>() instead');
<a name="l415"><span class="linenum"> 415</span></a>  }
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">/**</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment"> * Is current $USER logged-in-as somebody else?</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment"> */</span>
<a name="l421"><span class="linenum"> 421</span></a>  function <a class="function" onClick="logFunction('session_is_loggedinas')" href="../_functions/session_is_loggedinas.html" onMouseOver="funcPopup(event,'session_is_loggedinas')">session_is_loggedinas</a>() {
<a name="l422"><span class="linenum"> 422</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_is_loggedinas')" href="../_functions/session_is_loggedinas.html" onMouseOver="funcPopup(event,'session_is_loggedinas')">session_is_loggedinas</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('is_loggedinas')" href="../_functions/is_loggedinas.html" onMouseOver="funcPopup(event,'is_loggedinas')">is_loggedinas</a>() instead');
<a name="l423"><span class="linenum"> 423</span></a>  }
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">/**</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> * Returns the $USER object ignoring current login-as session</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment"> */</span>
<a name="l429"><span class="linenum"> 429</span></a>  function <a class="function" onClick="logFunction('session_get_realuser')" href="../_functions/session_get_realuser.html" onMouseOver="funcPopup(event,'session_get_realuser')">session_get_realuser</a>() {
<a name="l430"><span class="linenum"> 430</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_get_realuser')" href="../_functions/session_get_realuser.html" onMouseOver="funcPopup(event,'session_get_realuser')">session_get_realuser</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_realuser')" href="../_functions/get_realuser.html" onMouseOver="funcPopup(event,'get_realuser')">get_realuser</a>() instead');
<a name="l431"><span class="linenum"> 431</span></a>  }
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">/**</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> * Login as another user - no security checks here.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> */</span>
<a name="l437"><span class="linenum"> 437</span></a>  function <a class="function" onClick="logFunction('session_loginas')" href="../_functions/session_loginas.html" onMouseOver="funcPopup(event,'session_loginas')">session_loginas</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l438"><span class="linenum"> 438</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('session_loginas')" href="../_functions/session_loginas.html" onMouseOver="funcPopup(event,'session_loginas')">session_loginas</a>() is removed, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('loginas')" href="../_functions/loginas.html" onMouseOver="funcPopup(event,'loginas')">loginas</a>() instead');
<a name="l439"><span class="linenum"> 439</span></a>  }
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">/**</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment"> * Minify JavaScript files.</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment"> *</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment"> */</span>
<a name="l446"><span class="linenum"> 446</span></a>  function <a class="function" onClick="logFunction('js_minify')" href="../_functions/js_minify.html" onMouseOver="funcPopup(event,'js_minify')">js_minify</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>) {
<a name="l447"><span class="linenum"> 447</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('js_minify')" href="../_functions/js_minify.html" onMouseOver="funcPopup(event,'js_minify')">js_minify</a>() is removed, use <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('js_files')" href="../_functions/js_files.html" onMouseOver="funcPopup(event,'js_files')">js_files</a>() or <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('js')" href="../_functions/js.html" onMouseOver="funcPopup(event,'js')">js</a>() instead.');
<a name="l448"><span class="linenum"> 448</span></a>  }
<a name="l449"><span class="linenum"> 449</span></a>  
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">/**</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment"> * Minify CSS files.</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment"> *</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment"> */</span>
<a name="l455"><span class="linenum"> 455</span></a>  function <a class="function" onClick="logFunction('css_minify_css')" href="../_functions/css_minify_css.html" onMouseOver="funcPopup(event,'css_minify_css')">css_minify_css</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>) {
<a name="l456"><span class="linenum"> 456</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('css_minify_css')" href="../_functions/css_minify_css.html" onMouseOver="funcPopup(event,'css_minify_css')">css_minify_css</a>() is removed, use <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('css_files')" href="../_functions/css_files.html" onMouseOver="funcPopup(event,'css_files')">css_files</a>() or <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('css')" href="../_functions/css.html" onMouseOver="funcPopup(event,'css')">css</a>() instead.');
<a name="l457"><span class="linenum"> 457</span></a>  }
<a name="l458"><span class="linenum"> 458</span></a>  
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">// === Deprecated before 2.6.0 ===</span>
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">/**</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment"> * Hack to find out the GD version by parsing phpinfo output</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment"> *</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment"> * @deprecated</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment"> */</span>
<a name="l466"><span class="linenum"> 466</span></a>  function <a class="function" onClick="logFunction('check_gd_version')" href="../_functions/check_gd_version.html" onMouseOver="funcPopup(event,'check_gd_version')">check_gd_version</a>() {
<a name="l467"><span class="linenum"> 467</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('check_gd_version')" href="../_functions/check_gd_version.html" onMouseOver="funcPopup(event,'check_gd_version')">check_gd_version</a>() is removed, GD extension is always available now');
<a name="l468"><span class="linenum"> 468</span></a>  }
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">/**</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> * Not used any more, the account lockout handling is now</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> * part of authenticate_user_login().</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @deprecated</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> */</span>
<a name="l475"><span class="linenum"> 475</span></a>  function <a class="function" onClick="logFunction('update_login_count')" href="../_functions/update_login_count.html" onMouseOver="funcPopup(event,'update_login_count')">update_login_count</a>() {
<a name="l476"><span class="linenum"> 476</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('update_login_count')" href="../_functions/update_login_count.html" onMouseOver="funcPopup(event,'update_login_count')">update_login_count</a>() is removed, all calls need to be removed');
<a name="l477"><span class="linenum"> 477</span></a>  }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">/**</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment"> * Not used any more, replaced by proper account lockout.</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment"> * @deprecated</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment"> */</span>
<a name="l483"><span class="linenum"> 483</span></a>  function <a class="function" onClick="logFunction('reset_login_count')" href="../_functions/reset_login_count.html" onMouseOver="funcPopup(event,'reset_login_count')">reset_login_count</a>() {
<a name="l484"><span class="linenum"> 484</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('reset_login_count')" href="../_functions/reset_login_count.html" onMouseOver="funcPopup(event,'reset_login_count')">reset_login_count</a>() is removed, all calls need to be removed');
<a name="l485"><span class="linenum"> 485</span></a>  }
<a name="l486"><span class="linenum"> 486</span></a>  
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">/**</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment"> * @deprecated</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment"> */</span>
<a name="l490"><span class="linenum"> 490</span></a>  function <a class="function" onClick="logFunction('update_log_display_entry')" href="../_functions/update_log_display_entry.html" onMouseOver="funcPopup(event,'update_log_display_entry')">update_log_display_entry</a>(<a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it2544" onMouseOver="hilite(2544)" onMouseOut="lolite()" onClick="logVariable('mtable')" href="../_variables/mtable.html">$mtable</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l491"><span class="linenum"> 491</span></a>  
<a name="l492"><span class="linenum"> 492</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('The <a class="function" onClick="logFunction('update_log_display_entry')" href="../_functions/update_log_display_entry.html" onMouseOver="funcPopup(event,'update_log_display_entry')">update_log_display_entry</a>() is removed, please use db/log.php description file instead.');
<a name="l493"><span class="linenum"> 493</span></a>  }
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">/**</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment"> * @deprecated use the text formatting in a standard way instead (http://docs.moodle.org/dev/Output_functions)</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment"> *             this was abused mostly for embedding of attachments</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment"> */</span>
<a name="l499"><span class="linenum"> 499</span></a>  function <a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = NULL) {
<a name="l500"><span class="linenum"> 500</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>() can not be used anymore, use <a class="function" onClick="logFunction('format_text')" href="../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(), <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>() etc instead.');
<a name="l501"><span class="linenum"> 501</span></a>  }
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">/**</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment"> * @deprecated use $PAGE-&gt;https_required() instead</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment"> */</span>
<a name="l506"><span class="linenum"> 506</span></a>  function <a class="function" onClick="logFunction('httpsrequired')" href="../_functions/httpsrequired.html" onMouseOver="funcPopup(event,'httpsrequired')">httpsrequired</a>() {
<a name="l507"><span class="linenum"> 507</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('httpsrequired')" href="../_functions/httpsrequired.html" onMouseOver="funcPopup(event,'httpsrequired')">httpsrequired</a>() can not be used any more use <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('https_required')" href="../_functions/https_required.html" onMouseOver="funcPopup(event,'https_required')">https_required</a>() instead.');
<a name="l508"><span class="linenum"> 508</span></a>  }
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">/**</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment"> * Given a physical path to a file, returns the URL through which it can be reached in Moodle.</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment"> *</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment"> * @deprecated since 3.1 - replacement legacy file API methods can be found on the moodle_url class, for example:</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment"> * The moodle_url::make_legacyfile_url() method can be used to generate a legacy course file url. To generate</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment"> * course module file.php url the moodle_url::make_file_url() should be used.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment"> *</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment"> * @param string $path Physical path to a file</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment"> * @param array $options associative array of GET variables to append to the URL</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment"> * @param string $type (questionfile|rssfile|httpscoursefile|coursefile)</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment"> * @return string URL to file</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment"> */</span>
<a name="l522"><span class="linenum"> 522</span></a>  function <a class="function" onClick="logFunction('get_file_url')" href="../_functions/get_file_url.html" onMouseOver="funcPopup(event,'get_file_url')">get_file_url</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>=null, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>='coursefile') {
<a name="l523"><span class="linenum"> 523</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_file_url')" href="../_functions/get_file_url.html" onMouseOver="funcPopup(event,'get_file_url')">get_file_url</a>() is deprecated, please use moodle_url factory methods instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l524"><span class="linenum"> 524</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>      <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('//', '/', <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l527"><span class="linenum"> 527</span></a>      <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, '/'); <span class="comment">// no leading and trailing slashes</span>
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">    // type of file</span>
<a name="l530"><span class="linenum"> 530</span></a>      switch (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) {
<a name="l531"><span class="linenum"> 531</span></a>         case 'questionfile':
<a name="l532"><span class="linenum"> 532</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.&quot;/question/exportfile.php&quot;;
<a name="l533"><span class="linenum"> 533</span></a>              break;
<a name="l534"><span class="linenum"> 534</span></a>         case 'rssfile':
<a name="l535"><span class="linenum"> 535</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>."<a class="filename" href="../rss/file.php.html">/rss/file.php</a>";
<a name="l536"><span class="linenum"> 536</span></a>              break;
<a name="l537"><span class="linenum"> 537</span></a>          case 'httpscoursefile':
<a name="l538"><span class="linenum"> 538</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('httpswwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/httpswwwroot.html">httpswwwroot</a>."<a class="filename" href="../file.php.html">/file.php</a>";
<a name="l539"><span class="linenum"> 539</span></a>              break;
<a name="l540"><span class="linenum"> 540</span></a>           case 'coursefile':
<a name="l541"><span class="linenum"> 541</span></a>          default:
<a name="l542"><span class="linenum"> 542</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>."<a class="filename" href="../file.php.html">/file.php</a>";
<a name="l543"><span class="linenum"> 543</span></a>      }
<a name="l544"><span class="linenum"> 544</span></a>  
<a name="l545"><span class="linenum"> 545</span></a>      if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('slasharguments')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/slasharguments.html">slasharguments</a>) {
<a name="l546"><span class="linenum"> 546</span></a>          <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l547"><span class="linenum"> 547</span></a>          foreach (<a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>) {
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">        /// anchor dash character should not be encoded</span>
<a name="l549"><span class="linenum"> 549</span></a>              <a class="var it2546" onMouseOver="hilite(2546)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('#', <a class="var it2545" onMouseOver="hilite(2545)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>);
<a name="l550"><span class="linenum"> 550</span></a>              <a class="var it2546" onMouseOver="hilite(2546)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('rawurlencode', <a class="var it2546" onMouseOver="hilite(2546)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a>);
<a name="l551"><span class="linenum"> 551</span></a>              <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('#', <a class="var it2546" onMouseOver="hilite(2546)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a>);
<a name="l552"><span class="linenum"> 552</span></a>          }
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>  = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it1412" onMouseOver="hilite(1412)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>);
<a name="l554"><span class="linenum"> 554</span></a>          <a class="var it2547" onMouseOver="hilite(2547)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>.'/'.<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l555"><span class="linenum"> 555</span></a>          <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '?';
<a name="l556"><span class="linenum"> 556</span></a>      } else {
<a name="l557"><span class="linenum"> 557</span></a>          <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>('/'.<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l558"><span class="linenum"> 558</span></a>          <a class="var it2547" onMouseOver="hilite(2547)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>.'?file='.<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l559"><span class="linenum"> 559</span></a>          <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '&amp;amp;';
<a name="l560"><span class="linenum"> 560</span></a>      }
<a name="l561"><span class="linenum"> 561</span></a>  
<a name="l562"><span class="linenum"> 562</span></a>      if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>) {
<a name="l563"><span class="linenum"> 563</span></a>          foreach (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>=&gt;<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l564"><span class="linenum"> 564</span></a>              <a class="var it2547" onMouseOver="hilite(2547)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it2547" onMouseOver="hilite(2547)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a>.<a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a>.<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>.'='.<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l565"><span class="linenum"> 565</span></a>              <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '&amp;amp;';
<a name="l566"><span class="linenum"> 566</span></a>          }
<a name="l567"><span class="linenum"> 567</span></a>      }
<a name="l568"><span class="linenum"> 568</span></a>  
<a name="l569"><span class="linenum"> 569</span></a>      return <a class="var it2547" onMouseOver="hilite(2547)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a>;
<a name="l570"><span class="linenum"> 570</span></a>  }
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">/**</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment"> * @deprecated use get_enrolled_users($context) instead.</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment"> */</span>
<a name="l575"><span class="linenum"> 575</span></a>  function <a class="function" onClick="logFunction('get_course_participants')" href="../_functions/get_course_participants.html" onMouseOver="funcPopup(event,'get_course_participants')">get_course_participants</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l576"><span class="linenum"> 576</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_course_participants')" href="../_functions/get_course_participants.html" onMouseOver="funcPopup(event,'get_course_participants')">get_course_participants</a>() can not be used any more, use <a class="function" onClick="logFunction('get_enrolled_users')" href="../_functions/get_enrolled_users.html" onMouseOver="funcPopup(event,'get_enrolled_users')">get_enrolled_users</a>() instead.');
<a name="l577"><span class="linenum"> 577</span></a>  }
<a name="l578"><span class="linenum"> 578</span></a>  
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">/**</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment"> * @deprecated use is_enrolled($context, $userid) instead.</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment"> */</span>
<a name="l582"><span class="linenum"> 582</span></a>  function <a class="function" onClick="logFunction('is_course_participant')" href="../_functions/is_course_participant.html" onMouseOver="funcPopup(event,'is_course_participant')">is_course_participant</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l583"><span class="linenum"> 583</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('is_course_participant')" href="../_functions/is_course_participant.html" onMouseOver="funcPopup(event,'is_course_participant')">is_course_participant</a>() can not be used any more, use <a class="function" onClick="logFunction('is_enrolled')" href="../_functions/is_enrolled.html" onMouseOver="funcPopup(event,'is_enrolled')">is_enrolled</a>() instead.');
<a name="l584"><span class="linenum"> 584</span></a>  }
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">/**</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment"> * @deprecated</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment"> */</span>
<a name="l589"><span class="linenum"> 589</span></a>  function <a class="function" onClick="logFunction('get_recent_enrolments')" href="../_functions/get_recent_enrolments.html" onMouseOver="funcPopup(event,'get_recent_enrolments')">get_recent_enrolments</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>) {
<a name="l590"><span class="linenum"> 590</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_recent_enrolments')" href="../_functions/get_recent_enrolments.html" onMouseOver="funcPopup(event,'get_recent_enrolments')">get_recent_enrolments</a>() is removed as it returned inaccurate results.');
<a name="l591"><span class="linenum"> 591</span></a>  }
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">/**</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment"> * @deprecated use clean_param($string, PARAM_FILE) instead.</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment"> */</span>
<a name="l596"><span class="linenum"> 596</span></a>  function <a class="function" onClick="logFunction('detect_munged_arguments')" href="../_functions/detect_munged_arguments.html" onMouseOver="funcPopup(event,'detect_munged_arguments')">detect_munged_arguments</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it2548" onMouseOver="hilite(2548)" onMouseOut="lolite()" onClick="logVariable('allowdots')" href="../_variables/allowdots.html">$allowdots</a>=1) {
<a name="l597"><span class="linenum"> 597</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('detect_munged_arguments')" href="../_functions/detect_munged_arguments.html" onMouseOver="funcPopup(event,'detect_munged_arguments')">detect_munged_arguments</a>() can not be used any more, please use <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(,<a class="constant" onClick="logConstant('PARAM_FILE')" href="../_constants/PARAM_FILE.html" onMouseOver="constPopup(event,'PARAM_FILE')">PARAM_FILE</a>) instead.');
<a name="l598"><span class="linenum"> 598</span></a>  }
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">/**</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment"> * Unzip one zip file to a destination dir</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment"> * Both parameters must be FULL paths</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment"> * If destination isn't specified, it will be the</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment"> * SAME directory where the zip file resides.</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment"> *</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment"> * @global object</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment"> * @param string $zipfile The zip file to unzip</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment"> * @param string $destination The location to unzip to</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment"> * @param bool $showstatus_ignored Unused</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment"> * @deprecated since 2.0 MDL-15919</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment"> */</span>
<a name="l613"><span class="linenum"> 613</span></a>  function <a class="function" onClick="logFunction('unzip_file')" href="../_functions/unzip_file.html" onMouseOver="funcPopup(event,'unzip_file')">unzip_file</a>(<a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a> = '', <a class="var it2550" onMouseOver="hilite(2550)" onMouseOut="lolite()" onClick="logVariable('showstatus_ignored')" href="../_variables/showstatus_ignored.html">$showstatus_ignored</a> = true) {
<a name="l614"><span class="linenum"> 614</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(__FUNCTION__ . '() is deprecated. '
<a name="l615"><span class="linenum"> 615</span></a>              . 'Please use the application/zip file_packer implementation instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l616"><span class="linenum"> 616</span></a>  
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment">    // Extract everything from zipfile.</span>
<a name="l618"><span class="linenum"> 618</span></a>      <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>));
<a name="l619"><span class="linenum"> 619</span></a>      <a class="var it2552" onMouseOver="hilite(2552)" onMouseOut="lolite()" onClick="logVariable('zippath')" href="../_variables/zippath.html">$zippath</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;dirname&quot;];       <span class="comment">//The path of the zip file</span>
<a name="l620"><span class="linenum"> 620</span></a>      <a class="var it2553" onMouseOver="hilite(2553)" onMouseOut="lolite()" onClick="logVariable('zipfilename')" href="../_variables/zipfilename.html">$zipfilename</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;basename&quot;];  <span class="comment">//The name of the zip file</span>
<a name="l621"><span class="linenum"> 621</span></a>      <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;extension&quot;];    <span class="comment">//The extension of the file</span>
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">    //If no file, error</span>
<a name="l624"><span class="linenum"> 624</span></a>      if (empty(<a class="var it2553" onMouseOver="hilite(2553)" onMouseOut="lolite()" onClick="logVariable('zipfilename')" href="../_variables/zipfilename.html">$zipfilename</a>)) {
<a name="l625"><span class="linenum"> 625</span></a>          return false;
<a name="l626"><span class="linenum"> 626</span></a>      }
<a name="l627"><span class="linenum"> 627</span></a>  
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">    //If no extension, error</span>
<a name="l629"><span class="linenum"> 629</span></a>      if (empty(<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>)) {
<a name="l630"><span class="linenum"> 630</span></a>          return false;
<a name="l631"><span class="linenum"> 631</span></a>      }
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">    //Clear $zipfile</span>
<a name="l634"><span class="linenum"> 634</span></a>      <a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a> = <a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>);
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">    //Check zipfile exists</span>
<a name="l637"><span class="linenum"> 637</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>)) {
<a name="l638"><span class="linenum"> 638</span></a>          return false;
<a name="l639"><span class="linenum"> 639</span></a>      }
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">    //If no destination, passed let's go with the same directory</span>
<a name="l642"><span class="linenum"> 642</span></a>      if (empty(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>)) {
<a name="l643"><span class="linenum"> 643</span></a>          <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a> = <a class="var it2552" onMouseOver="hilite(2552)" onMouseOut="lolite()" onClick="logVariable('zippath')" href="../_variables/zippath.html">$zippath</a>;
<a name="l644"><span class="linenum"> 644</span></a>      }
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">    //Clear $destination</span>
<a name="l647"><span class="linenum"> 647</span></a>      <a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>), &quot;/&quot;);
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">    //Check destination path exists</span>
<a name="l650"><span class="linenum"> 650</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>)) {
<a name="l651"><span class="linenum"> 651</span></a>          return false;
<a name="l652"><span class="linenum"> 652</span></a>      }
<a name="l653"><span class="linenum"> 653</span></a>  
<a name="l654"><span class="linenum"> 654</span></a>      <a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a> = <a class="function" onClick="logFunction('get_file_packer')" href="../_functions/get_file_packer.html" onMouseOver="funcPopup(event,'get_file_packer')">get_file_packer</a>('application/zip');
<a name="l655"><span class="linenum"> 655</span></a>  
<a name="l656"><span class="linenum"> 656</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a>-&gt;<a class="function" onClick="logFunction('extract_to_pathname')" href="../_functions/extract_to_pathname.html" onMouseOver="funcPopup(event,'extract_to_pathname')">extract_to_pathname</a>(<a class="var it2112" onMouseOver="hilite(2112)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>, <a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>);
<a name="l657"><span class="linenum"> 657</span></a>  
<a name="l658"><span class="linenum"> 658</span></a>      if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> === false) {
<a name="l659"><span class="linenum"> 659</span></a>          return false;
<a name="l660"><span class="linenum"> 660</span></a>      }
<a name="l661"><span class="linenum"> 661</span></a>  
<a name="l662"><span class="linenum"> 662</span></a>      foreach (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> as <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a>) {
<a name="l663"><span class="linenum"> 663</span></a>          if (<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> !== true) {
<a name="l664"><span class="linenum"> 664</span></a>              return false;
<a name="l665"><span class="linenum"> 665</span></a>          }
<a name="l666"><span class="linenum"> 666</span></a>      }
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      return true;
<a name="l669"><span class="linenum"> 669</span></a>  }
<a name="l670"><span class="linenum"> 670</span></a>  
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">/**</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment"> * Zip an array of files/dirs to a destination zip file</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment"> * Both parameters must be FULL paths to the files/dirs</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment"> *</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment"> * @global object</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment"> * @param array $originalfiles Files to zip</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment"> * @param string $destination The destination path</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment"> * @return bool Outcome</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment"> *</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment"> * @deprecated since 2.0 MDL-15919</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment"> */</span>
<a name="l682"><span class="linenum"> 682</span></a>  function <a class="function" onClick="logFunction('zip_files')" href="../_functions/zip_files.html" onMouseOver="funcPopup(event,'zip_files')">zip_files</a>(<a class="var it2556" onMouseOver="hilite(2556)" onMouseOut="lolite()" onClick="logVariable('originalfiles')" href="../_variables/originalfiles.html">$originalfiles</a>, <a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>) {
<a name="l683"><span class="linenum"> 683</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(__FUNCTION__ . '() is deprecated. '
<a name="l684"><span class="linenum"> 684</span></a>              . 'Please use the application/zip file_packer implementation instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l685"><span class="linenum"> 685</span></a>  
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">    // Extract everything from destination.</span>
<a name="l687"><span class="linenum"> 687</span></a>      <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it2549" onMouseOver="hilite(2549)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>));
<a name="l688"><span class="linenum"> 688</span></a>      <a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;dirname&quot;];       <span class="comment">//The path of the zip file</span>
<a name="l689"><span class="linenum"> 689</span></a>      <a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;basename&quot;];  <span class="comment">//The name of the zip file</span>
<a name="l690"><span class="linenum"> 690</span></a>      <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = <a class="var it2551" onMouseOver="hilite(2551)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;extension&quot;];    <span class="comment">//The extension of the file</span>
<a name="l691"><span class="linenum"> 691</span></a>  
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">    //If no file, error</span>
<a name="l693"><span class="linenum"> 693</span></a>      if (empty(<a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>)) {
<a name="l694"><span class="linenum"> 694</span></a>          return false;
<a name="l695"><span class="linenum"> 695</span></a>      }
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">    //If no extension, add it</span>
<a name="l698"><span class="linenum"> 698</span></a>      if (empty(<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>)) {
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = 'zip';
<a name="l700"><span class="linenum"> 700</span></a>          <a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>.'.'.<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>;
<a name="l701"><span class="linenum"> 701</span></a>      }
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">    //Check destination path exists</span>
<a name="l704"><span class="linenum"> 704</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>)) {
<a name="l705"><span class="linenum"> 705</span></a>          return false;
<a name="l706"><span class="linenum"> 706</span></a>      }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">    //Check destination path is writable. TODO!!</span>
<a name="l709"><span class="linenum"> 709</span></a>  
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">    //Clean destination filename</span>
<a name="l711"><span class="linenum"> 711</span></a>      <a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="function" onClick="logFunction('clean_filename')" href="../_functions/clean_filename.html" onMouseOver="funcPopup(event,'clean_filename')">clean_filename</a>(<a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>);
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">    //Now check and prepare every file</span>
<a name="l714"><span class="linenum"> 714</span></a>      <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a> = array();
<a name="l715"><span class="linenum"> 715</span></a>      <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> = NULL;
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>      foreach (<a class="var it2556" onMouseOver="hilite(2556)" onMouseOut="lolite()" onClick="logVariable('originalfiles')" href="../_variables/originalfiles.html">$originalfiles</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {  //Iterate over each file
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">        //Check for every file</span>
<a name="l719"><span class="linenum"> 719</span></a>          <a class="var it2559" onMouseOver="hilite(2559)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a> = <a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>); <span class="comment">// no doubleslashes!</span>
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">        //Calculate the base path for all files if it isn't set</span>
<a name="l721"><span class="linenum"> 721</span></a>          if (<a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> === NULL) {
<a name="l722"><span class="linenum"> 722</span></a>              <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it2559" onMouseOver="hilite(2559)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)), &quot;/&quot;);
<a name="l723"><span class="linenum"> 723</span></a>          }
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">        //See if the file is readable</span>
<a name="l725"><span class="linenum"> 725</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it2559" onMouseOver="hilite(2559)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)) {  //Is readable
<a name="l726"><span class="linenum"> 726</span></a>              continue;
<a name="l727"><span class="linenum"> 727</span></a>          }
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">        //See if the file/dir is in the same directory than the rest</span>
<a name="l729"><span class="linenum"> 729</span></a>          if (<a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it2559" onMouseOver="hilite(2559)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)), &quot;/&quot;) != <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a>) {
<a name="l730"><span class="linenum"> 730</span></a>              continue;
<a name="l731"><span class="linenum"> 731</span></a>          }
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">        //Add the file to the array</span>
<a name="l733"><span class="linenum"> 733</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>[] = <a class="var it2559" onMouseOver="hilite(2559)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>;
<a name="l734"><span class="linenum"> 734</span></a>      }
<a name="l735"><span class="linenum"> 735</span></a>  
<a name="l736"><span class="linenum"> 736</span></a>      <a class="var it2560" onMouseOver="hilite(2560)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a> = array();
<a name="l737"><span class="linenum"> 737</span></a>      <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a>)+1;
<a name="l738"><span class="linenum"> 738</span></a>      foreach(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l739"><span class="linenum"> 739</span></a>          <a class="var it2560" onMouseOver="hilite(2560)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a>[<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it133" onMouseOver="hilite(133)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a>)] = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>;
<a name="l740"><span class="linenum"> 740</span></a>      }
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>      <a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a> = <a class="function" onClick="logFunction('get_file_packer')" href="../_functions/get_file_packer.html" onMouseOver="funcPopup(event,'get_file_packer')">get_file_packer</a>('application/zip');
<a name="l743"><span class="linenum"> 743</span></a>  
<a name="l744"><span class="linenum"> 744</span></a>      return <a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a>-&gt;<a class="function" onClick="logFunction('archive_to_pathname')" href="../_functions/archive_to_pathname.html" onMouseOver="funcPopup(event,'archive_to_pathname')">archive_to_pathname</a>(<a class="var it2560" onMouseOver="hilite(2560)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a>, <a class="var it2555" onMouseOver="hilite(2555)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> . '/' . <a class="var it2557" onMouseOver="hilite(2557)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>);
<a name="l745"><span class="linenum"> 745</span></a>  }
<a name="l746"><span class="linenum"> 746</span></a>  
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment">/**</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment"> * @deprecated use groups_get_all_groups() instead.</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment"> */</span>
<a name="l750"><span class="linenum"> 750</span></a>  function <a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l751"><span class="linenum"> 751</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>() can not be used any more, please use <a class="function" onClick="logFunction('groups_get_all_groups')" href="../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>() instead.');
<a name="l752"><span class="linenum"> 752</span></a>  }
<a name="l753"><span class="linenum"> 753</span></a>  
<a name="l754"><span class="linenum"> 754</span></a>  
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">/**</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment"> * Returns the current group mode for a given course or activity module</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> *</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> * Could be false, SEPARATEGROUPS or VISIBLEGROUPS    (&lt;-- Martin)</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> *</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> * @deprecated since Moodle 2.0 MDL-14617 - please do not use this function any more.</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> * @todo MDL-50273 This will be deleted in Moodle 3.2.</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment"> *</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment"> * @param object $course Course Object</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment"> * @param object $cm Course Manager Object</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment"> * @return mixed $course-&gt;groupmode</span>
<a name="l766"><span class="linenum"> 766</span></a>  <span class="comment"> */</span>
<a name="l767"><span class="linenum"> 767</span></a>  function <a class="function" onClick="logFunction('groupmode')" href="../_functions/groupmode.html" onMouseOver="funcPopup(event,'groupmode')">groupmode</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=null) {
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('groupmode')" href="../_functions/groupmode.html" onMouseOver="funcPopup(event,'groupmode')">groupmode</a>() is deprecated, please use groups_get_* instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l770"><span class="linenum"> 770</span></a>      if (isset(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupmode')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>) &amp;&amp; empty(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('groupmodeforce')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/groupmodeforce.html">groupmodeforce</a>)) {
<a name="l771"><span class="linenum"> 771</span></a>          return <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupmode')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>;
<a name="l772"><span class="linenum"> 772</span></a>      }
<a name="l773"><span class="linenum"> 773</span></a>      return <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('groupmode')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>;
<a name="l774"><span class="linenum"> 774</span></a>  }
<a name="l775"><span class="linenum"> 775</span></a>  
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">/**</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment"> * Sets the current group in the session variable</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment"> * When $SESSION-&gt;currentgroup[$courseid] is set to 0 it means, show all groups.</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment"> * Sets currentgroup[$courseid] in the session variable appropriately.</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment"> * Does not do any permission checking.</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment"> *</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment"> * @deprecated Since year 2006 - please do not use this function any more.</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment"> * @todo MDL-50273 This will be deleted in Moodle 3.2.</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment"> *</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment"> * @global object</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment"> * @global object</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment"> * @param int $courseid The course being examined - relates to id field in</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment"> * 'course' table.</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment"> * @param int $groupid The group being examined.</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment"> * @return int Current group id which was set by this function</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment"> */</span>
<a name="l792"><span class="linenum"> 792</span></a>  function <a class="function" onClick="logFunction('set_current_group')" href="../_functions/set_current_group.html" onMouseOver="funcPopup(event,'set_current_group')">set_current_group</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) {
<a name="l793"><span class="linenum"> 793</span></a>      global <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l794"><span class="linenum"> 794</span></a>  
<a name="l795"><span class="linenum"> 795</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('set_current_group')" href="../_functions/set_current_group.html" onMouseOver="funcPopup(event,'set_current_group')">set_current_group</a>() is deprecated, please use <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it42907" onMouseOver="hilite(42907)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>] instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l796"><span class="linenum"> 796</span></a>      return <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it42907" onMouseOver="hilite(42907)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>] = <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>;
<a name="l797"><span class="linenum"> 797</span></a>  }
<a name="l798"><span class="linenum"> 798</span></a>  
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">/**</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment"> * Gets the current group - either from the session variable or from the database.</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment"> *</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment"> * @deprecated Since year 2006 - please do not use this function any more.</span>
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment"> * @todo MDL-50273 This will be deleted in Moodle 3.2.</span>
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment"> *</span>
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment"> * @global object</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment"> * @param int $courseid The course being examined - relates to id field in</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment"> * 'course' table.</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment"> * @param bool $full If true, the return value is a full record object.</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment"> * If false, just the id of the record.</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment"> * @return int|bool</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment"> */</span>
<a name="l812"><span class="linenum"> 812</span></a>  function <a class="function" onClick="logFunction('get_current_group')" href="../_functions/get_current_group.html" onMouseOver="funcPopup(event,'get_current_group')">get_current_group</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a> = false) {
<a name="l813"><span class="linenum"> 813</span></a>      global <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_current_group')" href="../_functions/get_current_group.html" onMouseOver="funcPopup(event,'get_current_group')">get_current_group</a>() is deprecated, please use groups_get_* instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l816"><span class="linenum"> 816</span></a>      if (isset(<a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it42907" onMouseOver="hilite(42907)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>])) {
<a name="l817"><span class="linenum"> 817</span></a>          if (<a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l818"><span class="linenum"> 818</span></a>              return <a class="function" onClick="logFunction('groups_get_group')" href="../_functions/groups_get_group.html" onMouseOver="funcPopup(event,'groups_get_group')">groups_get_group</a>(<a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it42907" onMouseOver="hilite(42907)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>]);
<a name="l819"><span class="linenum"> 819</span></a>          } else {
<a name="l820"><span class="linenum"> 820</span></a>              return <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it42907" onMouseOver="hilite(42907)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>];
<a name="l821"><span class="linenum"> 821</span></a>          }
<a name="l822"><span class="linenum"> 822</span></a>      }
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>      <a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a> = <a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l825"><span class="linenum"> 825</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>)) {
<a name="l826"><span class="linenum"> 826</span></a>          <a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l827"><span class="linenum"> 827</span></a>          <a class="function" onClick="logFunction('set_current_group')" href="../_functions/set_current_group.html" onMouseOver="funcPopup(event,'set_current_group')">set_current_group</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l828"><span class="linenum"> 828</span></a>          if (<a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l829"><span class="linenum"> 829</span></a>              return <a class="function" onClick="logFunction('groups_get_group')" href="../_functions/groups_get_group.html" onMouseOver="funcPopup(event,'groups_get_group')">groups_get_group</a>(<a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l830"><span class="linenum"> 830</span></a>          } else {
<a name="l831"><span class="linenum"> 831</span></a>              return <a class="var it957" onMouseOver="hilite(957)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>;
<a name="l832"><span class="linenum"> 832</span></a>          }
<a name="l833"><span class="linenum"> 833</span></a>      }
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>      if (<a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l836"><span class="linenum"> 836</span></a>          return false;
<a name="l837"><span class="linenum"> 837</span></a>      } else {
<a name="l838"><span class="linenum"> 838</span></a>          return 0;
<a name="l839"><span class="linenum"> 839</span></a>      }
<a name="l840"><span class="linenum"> 840</span></a>  }
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">/**</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment"> * @deprecated Since Moodle 2.8</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment"> */</span>
<a name="l845"><span class="linenum"> 845</span></a>  function <a class="function" onClick="logFunction('groups_filter_users_by_course_module_visible')" href="../_functions/groups_filter_users_by_course_module_visible.html" onMouseOver="funcPopup(event,'groups_filter_users_by_course_module_visible')">groups_filter_users_by_course_module_visible</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l846"><span class="linenum"> 846</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('groups_filter_users_by_course_module_visible')" href="../_functions/groups_filter_users_by_course_module_visible.html" onMouseOver="funcPopup(event,'groups_filter_users_by_course_module_visible')">groups_filter_users_by_course_module_visible</a>() is removed. ' .
<a name="l847"><span class="linenum"> 847</span></a>              'Replace with a call to \core_availability\<a class="class" onClick="logClass('info_module')" href="../_classes/info_module.html" onMouseOver="classPopup(event,'info_module')">info_module</a>::<a class="function" onClick="logFunction('filter_user_list')" href="../_functions/filter_user_list.html" onMouseOver="funcPopup(event,'filter_user_list')">filter_user_list</a>(), ' .
<a name="l848"><span class="linenum"> 848</span></a>              'which does basically the same thing but includes other restrictions such ' .
<a name="l849"><span class="linenum"> 849</span></a>              'as profile restrictions.');
<a name="l850"><span class="linenum"> 850</span></a>  }
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">/**</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment"> * @deprecated Since Moodle 2.8</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment"> */</span>
<a name="l855"><span class="linenum"> 855</span></a>  function <a class="function" onClick="logFunction('groups_course_module_visible')" href="../_functions/groups_course_module_visible.html" onMouseOver="funcPopup(event,'groups_course_module_visible')">groups_course_module_visible</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=null) {
<a name="l856"><span class="linenum"> 856</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('groups_course_module_visible')" href="../_functions/groups_course_module_visible.html" onMouseOver="funcPopup(event,'groups_course_module_visible')">groups_course_module_visible</a>() is removed, use <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a> to decide whether the current
<a name="l857"><span class="linenum"> 857</span></a>          user can ' . 'access an activity.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l858"><span class="linenum"> 858</span></a>  }
<a name="l859"><span class="linenum"> 859</span></a>  
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">/**</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment"> * @deprecated since 2.0</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment"> */</span>
<a name="l863"><span class="linenum"> 863</span></a>  function <a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>='') {
<a name="l864"><span class="linenum"> 864</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('notlocalisederrormessage', 'error', <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, '<a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>() is a removed, please call
<a name="l865"><span class="linenum"> 865</span></a>              <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>() instead of <a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>()');
<a name="l866"><span class="linenum"> 866</span></a>  }
<a name="l867"><span class="linenum"> 867</span></a>  
<a name="l868"><span class="linenum"> 868</span></a>  
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">/**</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment"> * @deprecated use $PAGE-&gt;theme-&gt;name instead.</span>
<a name="l871"><span class="linenum"> 871</span></a>  <span class="comment"> */</span>
<a name="l872"><span class="linenum"> 872</span></a>  function <a class="function" onClick="logFunction('current_theme')" href="../_functions/current_theme.html" onMouseOver="funcPopup(event,'current_theme')">current_theme</a>() {
<a name="l873"><span class="linenum"> 873</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('current_theme')" href="../_functions/current_theme.html" onMouseOver="funcPopup(event,'current_theme')">current_theme</a>() can not be used any more, please use <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('theme')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/theme.html">theme</a>-&gt;name instead');
<a name="l874"><span class="linenum"> 874</span></a>  }
<a name="l875"><span class="linenum"> 875</span></a>  
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">/**</span>
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment"> * @deprecated</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment"> */</span>
<a name="l879"><span class="linenum"> 879</span></a>  function <a class="function" onClick="logFunction('formerr')" href="../_functions/formerr.html" onMouseOver="funcPopup(event,'formerr')">formerr</a>(<a class="var it275" onMouseOver="hilite(275)" onMouseOut="lolite()" onClick="logVariable('error')" href="../_variables/error.html">$error</a>) {
<a name="l880"><span class="linenum"> 880</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('formerr')" href="../_functions/formerr.html" onMouseOver="funcPopup(event,'formerr')">formerr</a>() is removed. Please change your code to use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('error_text')" href="../_functions/error_text.html" onMouseOver="funcPopup(event,'error_text')">error_text</a>(<a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>).');
<a name="l881"><span class="linenum"> 881</span></a>  }
<a name="l882"><span class="linenum"> 882</span></a>  
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">/**</span>
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;skip_link_target() in instead.</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment"> */</span>
<a name="l886"><span class="linenum"> 886</span></a>  function <a class="function" onClick="logFunction('skip_main_destination')" href="../_functions/skip_main_destination.html" onMouseOver="funcPopup(event,'skip_main_destination')">skip_main_destination</a>() {
<a name="l887"><span class="linenum"> 887</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('skip_main_destination')" href="../_functions/skip_main_destination.html" onMouseOver="funcPopup(event,'skip_main_destination')">skip_main_destination</a>() can not be used any more, please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('skip_link_target')" href="../_functions/skip_link_target.html" onMouseOver="funcPopup(event,'skip_link_target')">skip_link_target</a>() instead.');
<a name="l888"><span class="linenum"> 888</span></a>  }
<a name="l889"><span class="linenum"> 889</span></a>  
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">/**</span>
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container() instead.</span>
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment"> */</span>
<a name="l893"><span class="linenum"> 893</span></a>  function <a class="function" onClick="logFunction('print_container')" href="../_functions/print_container.html" onMouseOver="funcPopup(event,'print_container')">print_container</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it2563" onMouseOver="hilite(2563)" onMouseOut="lolite()" onClick="logVariable('clearfix')" href="../_variables/clearfix.html">$clearfix</a>=false, <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>='', <a class="var it2564" onMouseOver="hilite(2564)" onMouseOut="lolite()" onClick="logVariable('idbase')" href="../_variables/idbase.html">$idbase</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l894"><span class="linenum"> 894</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container')" href="../_functions/print_container.html" onMouseOver="funcPopup(event,'print_container')">print_container</a>() can not be used any more. Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container')" href="../_functions/container.html" onMouseOver="funcPopup(event,'container')">container</a>() instead.');
<a name="l895"><span class="linenum"> 895</span></a>  }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment">/**</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container_start() instead.</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment"> */</span>
<a name="l900"><span class="linenum"> 900</span></a>  function <a class="function" onClick="logFunction('print_container_start')" href="../_functions/print_container_start.html" onMouseOver="funcPopup(event,'print_container_start')">print_container_start</a>(<a class="var it2563" onMouseOver="hilite(2563)" onMouseOut="lolite()" onClick="logVariable('clearfix')" href="../_variables/clearfix.html">$clearfix</a>=false, <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>='', <a class="var it2564" onMouseOver="hilite(2564)" onMouseOut="lolite()" onClick="logVariable('idbase')" href="../_variables/idbase.html">$idbase</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l901"><span class="linenum"> 901</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container_start')" href="../_functions/print_container_start.html" onMouseOver="funcPopup(event,'print_container_start')">print_container_start</a>() can not be used any more. Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_start')" href="../_functions/container_start.html" onMouseOver="funcPopup(event,'container_start')">container_start</a>() instead.');
<a name="l902"><span class="linenum"> 902</span></a>  }
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>  <span class="comment">/**</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container_end() instead.</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment"> */</span>
<a name="l907"><span class="linenum"> 907</span></a>  function <a class="function" onClick="logFunction('print_container_end')" href="../_functions/print_container_end.html" onMouseOver="funcPopup(event,'print_container_end')">print_container_end</a>(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l908"><span class="linenum"> 908</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container_end')" href="../_functions/print_container_end.html" onMouseOver="funcPopup(event,'print_container_end')">print_container_end</a>() can not be used any more. Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_end')" href="../_functions/container_end.html" onMouseOver="funcPopup(event,'container_end')">container_end</a>() instead.');
<a name="l909"><span class="linenum"> 909</span></a>  }
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">/**</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment"> * Print a bold message in an optional color.</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment"> *</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment"> * @deprecated since Moodle 2.0 MDL-19077 - use $OUTPUT-&gt;notification instead.</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment"> * @todo MDL-50469 This will be deleted in Moodle 3.3.</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment"> * @param string $message The message to print out</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment"> * @param string $classes Optional style to display message text in</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment"> * @param string $align Alignment option</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment"> * @param bool $return whether to return an output string or echo now</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment"> * @return string|bool Depending on $result</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment"> */</span>
<a name="l922"><span class="linenum"> 922</span></a>  function <a class="function" onClick="logFunction('notify')" href="../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'error', <a class="var it1850" onMouseOver="hilite(1850)" onMouseOut="lolite()" onClick="logVariable('align')" href="../_variables/align.html">$align</a> = 'center', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = false) {
<a name="l923"><span class="linenum"> 923</span></a>      global <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l924"><span class="linenum"> 924</span></a>  
<a name="l925"><span class="linenum"> 925</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('notify')" href="../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>() is deprecated, please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>      if (<a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> == 'green') {
<a name="l928"><span class="linenum"> 928</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Use of deprecated class name &quot;green&quot; in notify. Please change to &quot;success&quot;.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l929"><span class="linenum"> 929</span></a>          <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'success'; <span class="comment">// Backward compatible with old color system.</span>
<a name="l930"><span class="linenum"> 930</span></a>      }
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it1465" onMouseOver="hilite(1465)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>);
<a name="l933"><span class="linenum"> 933</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l934"><span class="linenum"> 934</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l935"><span class="linenum"> 935</span></a>      } else {
<a name="l936"><span class="linenum"> 936</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l937"><span class="linenum"> 937</span></a>      }
<a name="l938"><span class="linenum"> 938</span></a>  }
<a name="l939"><span class="linenum"> 939</span></a>  
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">/**</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;continue_button() instead.</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment"> */</span>
<a name="l943"><span class="linenum"> 943</span></a>  function <a class="function" onClick="logFunction('print_continue')" href="../_functions/print_continue.html" onMouseOver="funcPopup(event,'print_continue')">print_continue</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = false) {
<a name="l944"><span class="linenum"> 944</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_continue')" href="../_functions/print_continue.html" onMouseOver="funcPopup(event,'print_continue')">print_continue</a>() can not be used any more. Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>() instead.');
<a name="l945"><span class="linenum"> 945</span></a>  }
<a name="l946"><span class="linenum"> 946</span></a>  
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">/**</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment"> * @deprecated use $PAGE methods instead.</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment"> */</span>
<a name="l950"><span class="linenum"> 950</span></a>  function <a class="function" onClick="logFunction('print_header')" href="../_functions/print_header.html" onMouseOver="funcPopup(event,'print_header')">print_header</a>(<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='', <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>='', <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>='',
<a name="l951"><span class="linenum"> 951</span></a>                        <a class="var it2566" onMouseOver="hilite(2566)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>='', <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>=true, <a class="var it2196" onMouseOver="hilite(2196)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>='&amp;nbsp;', <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>=null,
<a name="l952"><span class="linenum"> 952</span></a>                        <a class="var it2567" onMouseOver="hilite(2567)" onMouseOut="lolite()" onClick="logVariable('usexml')" href="../_variables/usexml.html">$usexml</a>=false, <a class="var it2568" onMouseOver="hilite(2568)" onMouseOut="lolite()" onClick="logVariable('bodytags')" href="../_variables/bodytags.html">$bodytags</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l953"><span class="linenum"> 953</span></a>  
<a name="l954"><span class="linenum"> 954</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_header')" href="../_functions/print_header.html" onMouseOver="funcPopup(event,'print_header')">print_header</a>() can not be used any more. Please use <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a> methods instead.');
<a name="l955"><span class="linenum"> 955</span></a>  }
<a name="l956"><span class="linenum"> 956</span></a>  
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">/**</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment"> * @deprecated use $PAGE methods instead.</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment"> */</span>
<a name="l960"><span class="linenum"> 960</span></a>  function <a class="function" onClick="logFunction('print_header_simple')" href="../_functions/print_header_simple.html" onMouseOver="funcPopup(event,'print_header_simple')">print_header_simple</a>(<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='', <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>='', <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>='', <a class="var it2566" onMouseOver="hilite(2566)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>='',
<a name="l961"><span class="linenum"> 961</span></a>                         <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>=true, <a class="var it2196" onMouseOver="hilite(2196)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>='&amp;nbsp;', <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>='', <a class="var it2567" onMouseOver="hilite(2567)" onMouseOut="lolite()" onClick="logVariable('usexml')" href="../_variables/usexml.html">$usexml</a>=false, <a class="var it2568" onMouseOver="hilite(2568)" onMouseOut="lolite()" onClick="logVariable('bodytags')" href="../_variables/bodytags.html">$bodytags</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_header_simple')" href="../_functions/print_header_simple.html" onMouseOver="funcPopup(event,'print_header_simple')">print_header_simple</a>() can not be used any more. Please use <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a> methods instead.');
<a name="l964"><span class="linenum"> 964</span></a>  }
<a name="l965"><span class="linenum"> 965</span></a>  
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment">/**</span>
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;block() instead.</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment"> */</span>
<a name="l969"><span class="linenum"> 969</span></a>  function <a class="function" onClick="logFunction('print_side_block')" href="../_functions/print_side_block.html" onMouseOver="funcPopup(event,'print_side_block')">print_side_block</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>='', <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a>=NULL, <a class="var it2569" onMouseOver="hilite(2569)" onMouseOut="lolite()" onClick="logVariable('icons')" href="../_variables/icons.html">$icons</a>=NULL, <a class="var it2148" onMouseOver="hilite(2148)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>='', <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array(), <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='') {
<a name="l970"><span class="linenum"> 970</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_side_block')" href="../_functions/print_side_block.html" onMouseOver="funcPopup(event,'print_side_block')">print_side_block</a>() can not be used any more, please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('block')" href="../_functions/block.html" onMouseOver="funcPopup(event,'block')">block</a>() instead.');
<a name="l971"><span class="linenum"> 971</span></a>  }
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">/**</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment"> * Prints a basic textarea field.</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment"> *</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment"> *</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment"> * When using this function, you should</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment"> *</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment"> * @global object</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment"> * @param bool $unused No longer used.</span>
<a name="l982"><span class="linenum"> 982</span></a>  <span class="comment"> * @param int $rows Number of rows to display  (minimum of 10 when $height is non-null)</span>
<a name="l983"><span class="linenum"> 983</span></a>  <span class="comment"> * @param int $cols Number of columns to display (minimum of 65 when $width is non-null)</span>
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment"> * @param null $width (Deprecated) Width of the element; if a value is passed, the minimum value for $cols will be 65. Value is otherwise ignored.</span>
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment"> * @param null $height (Deprecated) Height of the element; if a value is passe, the minimum value for $rows will be 10. Value is otherwise ignored.</span>
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment"> * @param string $name Name to use for the textarea element.</span>
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment"> * @param string $value Initial content to display in the textarea.</span>
<a name="l988"><span class="linenum"> 988</span></a>  <span class="comment"> * @param int $obsolete deprecated</span>
<a name="l989"><span class="linenum"> 989</span></a>  <span class="comment"> * @param bool $return If false, will output string. If true, will return string value.</span>
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment"> * @param string $id CSS ID to add to the textarea element.</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment"> * @return string|void depending on the value of $return</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment"> */</span>
<a name="l993"><span class="linenum"> 993</span></a>  function <a class="function" onClick="logFunction('print_textarea')" href="../_functions/print_textarea.html" onMouseOver="funcPopup(event,'print_textarea')">print_textarea</a>(<a class="var it1292" onMouseOver="hilite(1292)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>, <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a>, <a class="var it1604" onMouseOver="hilite(1604)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a>, <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>, <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>='', <a class="var it2570" onMouseOver="hilite(2570)" onMouseOut="lolite()" onClick="logVariable('obsolete')" href="../_variables/obsolete.html">$obsolete</a>=0, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>='') {
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">    /// $width and height are legacy fields and no longer used as pixels like they used to be.</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">    /// However, you can set them to zero to override the mincols and minrows values below.</span>
<a name="l996"><span class="linenum"> 996</span></a>  
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment">    // Disabling because there is not yet a viable $OUTPUT option for cases when mforms can't be used</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">    // debugging('print_textarea() has been deprecated. You should be using mforms and the editor element.');</span>
<a name="l999"><span class="linenum"> 999</span></a>  
<a name="l1000"><span class="linenum">1000</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1001"><span class="linenum">1001</span></a>  
<a name="l1002"><span class="linenum">1002</span></a>      <a class="var it2571" onMouseOver="hilite(2571)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a> = 65;
<a name="l1003"><span class="linenum">1003</span></a>      <a class="var it2572" onMouseOver="hilite(2572)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a> = 10;
<a name="l1004"><span class="linenum">1004</span></a>      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = '';
<a name="l1005"><span class="linenum">1005</span></a>  
<a name="l1006"><span class="linenum">1006</span></a>      if (<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> === '') {
<a name="l1007"><span class="linenum">1007</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = 'edit-'.<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>;
<a name="l1008"><span class="linenum">1008</span></a>      }
<a name="l1009"><span class="linenum">1009</span></a>  
<a name="l1010"><span class="linenum">1010</span></a>      if (<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a> &amp;&amp; (<a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> &lt; <a class="var it2572" onMouseOver="hilite(2572)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a>)) {
<a name="l1011"><span class="linenum">1011</span></a>          <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> = <a class="var it2572" onMouseOver="hilite(2572)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a>;
<a name="l1012"><span class="linenum">1012</span></a>      }
<a name="l1013"><span class="linenum">1013</span></a>      if (<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a> &amp;&amp; (<a class="var it1604" onMouseOver="hilite(1604)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> &lt; <a class="var it2571" onMouseOver="hilite(2571)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a>)) {
<a name="l1014"><span class="linenum">1014</span></a>          <a class="var it1604" onMouseOver="hilite(1604)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> = <a class="var it2571" onMouseOver="hilite(2571)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a>;
<a name="l1015"><span class="linenum">1015</span></a>      }
<a name="l1016"><span class="linenum">1016</span></a>  
<a name="l1017"><span class="linenum">1017</span></a>      <a class="function" onClick="logFunction('editors_head_setup')" href="../_functions/editors_head_setup.html" onMouseOver="funcPopup(event,'editors_head_setup')">editors_head_setup</a>();
<a name="l1018"><span class="linenum">1018</span></a>      <a class="var it1042" onMouseOver="hilite(1042)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a> = <a class="function" onClick="logFunction('editors_get_preferred_editor')" href="../_functions/editors_get_preferred_editor.html" onMouseOver="funcPopup(event,'editors_get_preferred_editor')">editors_get_preferred_editor</a>(<a class="constant" onClick="logConstant('FORMAT_HTML')" href="../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>);
<a name="l1019"><span class="linenum">1019</span></a>      <a class="var it1042" onMouseOver="hilite(1042)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>-&gt;<a class="function" onClick="logFunction('set_text')" href="../_functions/set_text.html" onMouseOver="funcPopup(event,'set_text')">set_text</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>);
<a name="l1020"><span class="linenum">1020</span></a>      <a class="var it1042" onMouseOver="hilite(1042)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>-&gt;<a class="function" onClick="logFunction('use_editor')" href="../_functions/use_editor.html" onMouseOver="funcPopup(event,'use_editor')">use_editor</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, array('legacy'=&gt;true));
<a name="l1021"><span class="linenum">1021</span></a>  
<a name="l1022"><span class="linenum">1022</span></a>      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= &quot;\n&quot;.'&lt;textarea class=&quot;form-textarea&quot; id=&quot;'. <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> .'&quot; name=&quot;'. <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> .'&quot; rows=&quot;'. <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> .'&quot; cols=&quot;'. <a class="var it1604" onMouseOver="hilite(1604)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> .'&quot; spellcheck=&quot;true&quot;&gt;'.&quot;\n&quot;;
<a name="l1023"><span class="linenum">1023</span></a>      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>); <span class="comment">// needed for editing of cleaned text!</span>
<a name="l1024"><span class="linenum">1024</span></a>      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;/textarea&gt;'.&quot;\n&quot;;
<a name="l1025"><span class="linenum">1025</span></a>  
<a name="l1026"><span class="linenum">1026</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1027"><span class="linenum">1027</span></a>          return <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1028"><span class="linenum">1028</span></a>      }
<a name="l1029"><span class="linenum">1029</span></a>      echo <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1030"><span class="linenum">1030</span></a>  }
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment">/**</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment"> * Returns an image of an up or down arrow, used for column sorting. To avoid unnecessary DB accesses, please</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment"> * provide this function with the language strings for sortasc and sortdesc.</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment"> *</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;arrow() instead.</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment"> * @todo final deprecation of this function once MDL-45448 is resolved</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment"> *</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment"> * If no sort string is associated with the direction, an arrow with no alt text will be printed/returned.</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment"> *</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment"> * @global object</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment"> * @param string $direction 'up' or 'down'</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment"> * @param string $strsort The language string used for the alt attribute of this image</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment"> * @param bool $return Whether to print directly or return the html string</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment"> * @return string|void depending on $return</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment"> *</span>
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment"> */</span>
<a name="l1048"><span class="linenum">1048</span></a>  function <a class="function" onClick="logFunction('print_arrow')" href="../_functions/print_arrow.html" onMouseOver="funcPopup(event,'print_arrow')">print_arrow</a>(<a class="var it2573" onMouseOver="hilite(2573)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>='up', <a class="var it2574" onMouseOver="hilite(2574)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>=null, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1049"><span class="linenum">1049</span></a>      global <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('print_arrow')" href="../_functions/print_arrow.html" onMouseOver="funcPopup(event,'print_arrow')">print_arrow</a>() is deprecated. Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('arrow')" href="../_functions/arrow.html" onMouseOver="funcPopup(event,'arrow')">arrow</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it2573" onMouseOver="hilite(2573)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>, array('up', 'down', 'right', 'left', 'move'))) {
<a name="l1054"><span class="linenum">1054</span></a>          return null;
<a name="l1055"><span class="linenum">1055</span></a>      }
<a name="l1056"><span class="linenum">1056</span></a>  
<a name="l1057"><span class="linenum">1057</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = null;
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>      switch (<a class="var it2573" onMouseOver="hilite(2573)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>) {
<a name="l1060"><span class="linenum">1060</span></a>          case 'up':
<a name="l1061"><span class="linenum">1061</span></a>              <a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'asc';
<a name="l1062"><span class="linenum">1062</span></a>              break;
<a name="l1063"><span class="linenum">1063</span></a>          case 'down':
<a name="l1064"><span class="linenum">1064</span></a>              <a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'desc';
<a name="l1065"><span class="linenum">1065</span></a>              break;
<a name="l1066"><span class="linenum">1066</span></a>          case 'move':
<a name="l1067"><span class="linenum">1067</span></a>              <a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'asc';
<a name="l1068"><span class="linenum">1068</span></a>              break;
<a name="l1069"><span class="linenum">1069</span></a>          default:
<a name="l1070"><span class="linenum">1070</span></a>              <a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = null;
<a name="l1071"><span class="linenum">1071</span></a>              break;
<a name="l1072"><span class="linenum">1072</span></a>      }
<a name="l1073"><span class="linenum">1073</span></a>  
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">    // Prepare language string</span>
<a name="l1075"><span class="linenum">1075</span></a>      <a class="var it2574" onMouseOver="hilite(2574)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a> = '';
<a name="l1076"><span class="linenum">1076</span></a>      if (empty(<a class="var it2574" onMouseOver="hilite(2574)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>) &amp;&amp; !empty(<a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a>)) {
<a name="l1077"><span class="linenum">1077</span></a>          <a class="var it2574" onMouseOver="hilite(2574)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sort' . <a class="var it2575" onMouseOver="hilite(2575)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a>, 'grades');
<a name="l1078"><span class="linenum">1078</span></a>      }
<a name="l1079"><span class="linenum">1079</span></a>  
<a name="l1080"><span class="linenum">1080</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = ' &lt;img src=&quot;'.<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('t/' . <a class="var it2573" onMouseOver="hilite(2573)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>) . '&quot; alt=&quot;'.<a class="var it2574" onMouseOver="hilite(2574)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>.'&quot; /&gt; ';
<a name="l1081"><span class="linenum">1081</span></a>  
<a name="l1082"><span class="linenum">1082</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1083"><span class="linenum">1083</span></a>          return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l1084"><span class="linenum">1084</span></a>      } else {
<a name="l1085"><span class="linenum">1085</span></a>          echo <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l1086"><span class="linenum">1086</span></a>      }
<a name="l1087"><span class="linenum">1087</span></a>  }
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">/**</span>
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l1091"><span class="linenum">1091</span></a>  <span class="comment"> */</span>
<a name="l1092"><span class="linenum">1092</span></a>  function <a class="function" onClick="logFunction('choose_from_menu')" href="../_functions/choose_from_menu.html" onMouseOver="funcPopup(event,'choose_from_menu')">choose_from_menu</a> (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it569" onMouseOver="hilite(569)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>='', <a class="var it2576" onMouseOver="hilite(2576)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>='choose', <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a>='',
<a name="l1093"><span class="linenum">1093</span></a>                             <a class="var it2577" onMouseOver="hilite(2577)" onMouseOut="lolite()" onClick="logVariable('nothingvalue')" href="../_variables/nothingvalue.html">$nothingvalue</a>='0', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../_variables/disabled.html">$disabled</a>=false, <a class="var it2578" onMouseOver="hilite(2578)" onMouseOut="lolite()" onClick="logVariable('tabindex')" href="../_variables/tabindex.html">$tabindex</a>=0,
<a name="l1094"><span class="linenum">1094</span></a>                             <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>='', <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('listbox')" href="../_variables/listbox.html">$listbox</a>=false, <a class="var it2580" onMouseOver="hilite(2580)" onMouseOut="lolite()" onClick="logVariable('multiple')" href="../_variables/multiple.html">$multiple</a>=false, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>='') {
<a name="l1095"><span class="linenum">1095</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('choose_from_menu')" href="../_functions/choose_from_menu.html" onMouseOver="funcPopup(event,'choose_from_menu')">choose_from_menu</a>() is removed. Please change your code to use <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>().');
<a name="l1096"><span class="linenum">1096</span></a>  
<a name="l1097"><span class="linenum">1097</span></a>  }
<a name="l1098"><span class="linenum">1098</span></a>  
<a name="l1099"><span class="linenum">1099</span></a>  <span class="comment">/**</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;help_icon_scale($courseid, $scale) instead.</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment"> */</span>
<a name="l1102"><span class="linenum">1102</span></a>  function <a class="function" onClick="logFunction('print_scale_menu_helpbutton')" href="../_functions/print_scale_menu_helpbutton.html" onMouseOver="funcPopup(event,'print_scale_menu_helpbutton')">print_scale_menu_helpbutton</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1103"><span class="linenum">1103</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_scale_menu_helpbutton')" href="../_functions/print_scale_menu_helpbutton.html" onMouseOver="funcPopup(event,'print_scale_menu_helpbutton')">print_scale_menu_helpbutton</a>() can not be used any more. '.
<a name="l1104"><span class="linenum">1104</span></a>          'Please use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('help_icon_scale')" href="../_functions/help_icon_scale.html" onMouseOver="funcPopup(event,'help_icon_scale')">help_icon_scale</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>) instead.');
<a name="l1105"><span class="linenum">1105</span></a>  }
<a name="l1106"><span class="linenum">1106</span></a>  
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment">/**</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment"> * @deprecated use html_writer::checkbox() instead.</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment"> */</span>
<a name="l1110"><span class="linenum">1110</span></a>  function <a class="function" onClick="logFunction('print_checkbox')" href="../_functions/print_checkbox.html" onMouseOver="funcPopup(event,'print_checkbox')">print_checkbox</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it2581" onMouseOver="hilite(2581)" onMouseOut="lolite()" onClick="logVariable('checked')" href="../_variables/checked.html">$checked</a> = true, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = '', <a class="var it2582" onMouseOver="hilite(2582)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = '', <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1111"><span class="linenum">1111</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_checkbox')" href="../_functions/print_checkbox.html" onMouseOver="funcPopup(event,'print_checkbox')">print_checkbox</a>() can not be used any more. Please use <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('checkbox')" href="../_functions/checkbox.html" onMouseOver="funcPopup(event,'checkbox')">checkbox</a>() instead.');
<a name="l1112"><span class="linenum">1112</span></a>  }
<a name="l1113"><span class="linenum">1113</span></a>  
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment">/**</span>
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment"> * Prints the 'update this xxx' button that appears on module pages.</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment"> *</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment"> *</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment"> * @param string $cmid the course_module id.</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment"> * @param string $ignored not used any more. (Used to be courseid.)</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment"> * @param string $string the module name - get_string('modulename', 'xxx')</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment"> * @return string the HTML for the button, if this user has permission to edit it, else an empty string.</span>
<a name="l1123"><span class="linenum">1123</span></a>  <span class="comment"> */</span>
<a name="l1124"><span class="linenum">1124</span></a>  function <a class="function" onClick="logFunction('update_module_button')" href="../_functions/update_module_button.html" onMouseOver="funcPopup(event,'update_module_button')">update_module_button</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, <a class="var it2583" onMouseOver="hilite(2583)" onMouseOut="lolite()" onClick="logVariable('ignored')" href="../_variables/ignored.html">$ignored</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>) {
<a name="l1125"><span class="linenum">1125</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1126"><span class="linenum">1126</span></a>  
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">    // debugging('update_module_button() has been deprecated. Please change your code to use $OUTPUT-&gt;update_module_button().');</span>
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">    //NOTE: DO NOT call new output method because it needs the module name we do not have here!</span>
<a name="l1130"><span class="linenum">1130</span></a>  
<a name="l1131"><span class="linenum">1131</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>))) {
<a name="l1132"><span class="linenum">1132</span></a>          <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('updatethis', '', <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l1133"><span class="linenum">1133</span></a>  
<a name="l1134"><span class="linenum">1134</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/course/mod.php&quot;, array('update' =&gt; <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, 'return' =&gt; true, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l1135"><span class="linenum">1135</span></a>          return <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it126" onMouseOver="hilite(126)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l1136"><span class="linenum">1136</span></a>      } else {
<a name="l1137"><span class="linenum">1137</span></a>          return '';
<a name="l1138"><span class="linenum">1138</span></a>      }
<a name="l1139"><span class="linenum">1139</span></a>  }
<a name="l1140"><span class="linenum">1140</span></a>  
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment">/**</span>
<a name="l1142"><span class="linenum">1142</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;navbar() instead</span>
<a name="l1143"><span class="linenum">1143</span></a>  <span class="comment"> */</span>
<a name="l1144"><span class="linenum">1144</span></a>  function <a class="function" onClick="logFunction('print_navigation')" href="../_functions/print_navigation.html" onMouseOver="funcPopup(event,'print_navigation')">print_navigation</a> (<a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>, <a class="var it2203" onMouseOver="hilite(2203)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a>=0, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1145"><span class="linenum">1145</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_navigation')" href="../_functions/print_navigation.html" onMouseOver="funcPopup(event,'print_navigation')">print_navigation</a>() can not be used any more, please update use <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('navbar')" href="../_functions/navbar.html" onMouseOver="funcPopup(event,'navbar')">navbar</a>() instead.');
<a name="l1146"><span class="linenum">1146</span></a>  }
<a name="l1147"><span class="linenum">1147</span></a>  
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">/**</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment"> * @deprecated Please use $PAGE-&gt;navabar methods instead.</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment"> */</span>
<a name="l1151"><span class="linenum">1151</span></a>  function <a class="function" onClick="logFunction('build_navigation')" href="../_functions/build_navigation.html" onMouseOver="funcPopup(event,'build_navigation')">build_navigation</a>(<a class="var it2584" onMouseOver="hilite(2584)" onMouseOut="lolite()" onClick="logVariable('extranavlinks')" href="../_variables/extranavlinks.html">$extranavlinks</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = null) {
<a name="l1152"><span class="linenum">1152</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('build_navigation')" href="../_functions/build_navigation.html" onMouseOver="funcPopup(event,'build_navigation')">build_navigation</a>() can not be used any more, please use <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a> methods instead.');
<a name="l1153"><span class="linenum">1153</span></a>  }
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment">/**</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> * @deprecated not relevant with global navigation in Moodle 2.x+</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment"> */</span>
<a name="l1158"><span class="linenum">1158</span></a>  function <a class="function" onClick="logFunction('navmenu')" href="../_functions/navmenu.html" onMouseOver="funcPopup(event,'navmenu')">navmenu</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=NULL, <a class="var it2585" onMouseOver="hilite(2585)" onMouseOut="lolite()" onClick="logVariable('targetwindow')" href="../_variables/targetwindow.html">$targetwindow</a>='self') {
<a name="l1159"><span class="linenum">1159</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('navmenu')" href="../_functions/navmenu.html" onMouseOver="funcPopup(event,'navmenu')">navmenu</a>() can not be used any more, it is no longer relevant with global navigation.');
<a name="l1160"><span class="linenum">1160</span></a>  }
<a name="l1161"><span class="linenum">1161</span></a>  
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment">/// CALENDAR MANAGEMENT  ////////////////////////////////////////////////////////////////</span>
<a name="l1163"><span class="linenum">1163</span></a>  
<a name="l1164"><span class="linenum">1164</span></a>  
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">/**</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment"> * @deprecated please use calendar_event::create() instead.</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment"> */</span>
<a name="l1168"><span class="linenum">1168</span></a>  function <a class="function" onClick="logFunction('add_event')" href="../_functions/add_event.html" onMouseOver="funcPopup(event,'add_event')">add_event</a>(<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1169"><span class="linenum">1169</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('add_event')" href="../_functions/add_event.html" onMouseOver="funcPopup(event,'add_event')">add_event</a>() can not be used any more, please use <a class="class" onClick="logClass('calendar_event')" href="../_classes/calendar_event.html" onMouseOver="classPopup(event,'calendar_event')">calendar_event</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>() instead.');
<a name="l1170"><span class="linenum">1170</span></a>  }
<a name="l1171"><span class="linenum">1171</span></a>  
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">/**</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment"> * @deprecated please calendar_event-&gt;update() instead.</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment"> */</span>
<a name="l1175"><span class="linenum">1175</span></a>  function <a class="function" onClick="logFunction('update_event')" href="../_functions/update_event.html" onMouseOver="funcPopup(event,'update_event')">update_event</a>(<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1176"><span class="linenum">1176</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('update_event')" href="../_functions/update_event.html" onMouseOver="funcPopup(event,'update_event')">update_event</a>() is removed, please use calendar_event-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>() instead.');
<a name="l1177"><span class="linenum">1177</span></a>  }
<a name="l1178"><span class="linenum">1178</span></a>  
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment">/**</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;delete() instead.</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment"> */</span>
<a name="l1182"><span class="linenum">1182</span></a>  function <a class="function" onClick="logFunction('delete_event')" href="../_functions/delete_event.html" onMouseOver="funcPopup(event,'delete_event')">delete_event</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) {
<a name="l1183"><span class="linenum">1183</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('delete_event')" href="../_functions/delete_event.html" onMouseOver="funcPopup(event,'delete_event')">delete_event</a>() can not be used any more, please use '.
<a name="l1184"><span class="linenum">1184</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('delete')" href="../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>() instead.');
<a name="l1185"><span class="linenum">1185</span></a>  }
<a name="l1186"><span class="linenum">1186</span></a>  
<a name="l1187"><span class="linenum">1187</span></a>  <span class="comment">/**</span>
<a name="l1188"><span class="linenum">1188</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;toggle_visibility(false) instead.</span>
<a name="l1189"><span class="linenum">1189</span></a>  <span class="comment"> */</span>
<a name="l1190"><span class="linenum">1190</span></a>  function <a class="function" onClick="logFunction('hide_event')" href="../_functions/hide_event.html" onMouseOver="funcPopup(event,'hide_event')">hide_event</a>(<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1191"><span class="linenum">1191</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('hide_event')" href="../_functions/hide_event.html" onMouseOver="funcPopup(event,'hide_event')">hide_event</a>() can not be used any more, please use '.
<a name="l1192"><span class="linenum">1192</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('toggle_visibility')" href="../_functions/toggle_visibility.html" onMouseOver="funcPopup(event,'toggle_visibility')">toggle_visibility</a>(false) instead.');
<a name="l1193"><span class="linenum">1193</span></a>  }
<a name="l1194"><span class="linenum">1194</span></a>  
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">/**</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;toggle_visibility(true) instead.</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment"> */</span>
<a name="l1198"><span class="linenum">1198</span></a>  function <a class="function" onClick="logFunction('show_event')" href="../_functions/show_event.html" onMouseOver="funcPopup(event,'show_event')">show_event</a>(<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1199"><span class="linenum">1199</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('show_event')" href="../_functions/show_event.html" onMouseOver="funcPopup(event,'show_event')">show_event</a>() can not be used any more, please use '.
<a name="l1200"><span class="linenum">1200</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('toggle_visibility')" href="../_functions/toggle_visibility.html" onMouseOver="funcPopup(event,'toggle_visibility')">toggle_visibility</a>(true) instead.');
<a name="l1201"><span class="linenum">1201</span></a>  }
<a name="l1202"><span class="linenum">1202</span></a>  
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">/**</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment"> * @deprecated since Moodle 2.2 use core_text::xxxx() instead.</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment"> * @see core_text</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment"> */</span>
<a name="l1207"><span class="linenum">1207</span></a>  function <a class="function" onClick="logFunction('textlib_get_instance')" href="../_functions/textlib_get_instance.html" onMouseOver="funcPopup(event,'textlib_get_instance')">textlib_get_instance</a>() {
<a name="l1208"><span class="linenum">1208</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('textlib_get_instance')" href="../_functions/textlib_get_instance.html" onMouseOver="funcPopup(event,'textlib_get_instance')">textlib_get_instance</a>() can not be used any more, please use '.
<a name="l1209"><span class="linenum">1209</span></a>          '<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::functioname() instead.');
<a name="l1210"><span class="linenum">1210</span></a>  }
<a name="l1211"><span class="linenum">1211</span></a>  
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment">/**</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment"> * @see get_section_name()</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment"> * @see format_base::get_section_name()</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment"></span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment"> */</span>
<a name="l1218"><span class="linenum">1218</span></a>  function <a class="function" onClick="logFunction('get_generic_section_name')" href="../_functions/get_generic_section_name.html" onMouseOver="funcPopup(event,'get_generic_section_name')">get_generic_section_name</a>(<a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>, stdClass <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>) {
<a name="l1219"><span class="linenum">1219</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_generic_section_name')" href="../_functions/get_generic_section_name.html" onMouseOver="funcPopup(event,'get_generic_section_name')">get_generic_section_name</a>() is deprecated. Please use appropriate functionality from class format_base');
<a name="l1220"><span class="linenum">1220</span></a>  }
<a name="l1221"><span class="linenum">1221</span></a>  
<a name="l1222"><span class="linenum">1222</span></a>  <span class="comment">/**</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment"> * Returns an array of sections for the requested course id</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment"> *</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment"> * It is usually not recommended to display the list of sections used</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment"> * in course because the course format may have it's own way to do it.</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment"> *</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment"> * If you need to just display the name of the section please call:</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment"> * get_section_name($course, $section)</span>
<a name="l1230"><span class="linenum">1230</span></a>  <span class="comment"> * {@link get_section_name()}</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment"> * from 2.4 $section may also be just the field course_sections.section</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment"> *</span>
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment"> * If you need the list of all sections it is more efficient to get this data by calling</span>
<a name="l1234"><span class="linenum">1234</span></a>  <span class="comment"> * $modinfo = get_fast_modinfo($courseorid);</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment"> * $sections = $modinfo-&gt;get_section_info_all()</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment"> * {@link get_fast_modinfo()}</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment"> * {@link course_modinfo::get_section_info_all()}</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment"> *</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment"> * Information about one section (instance of section_info):</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment"> * get_fast_modinfo($courseorid)-&gt;get_sections_info($section)</span>
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment"> * {@link course_modinfo::get_section_info()}</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment"> *</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment"> */</span>
<a name="l1245"><span class="linenum">1245</span></a>  function <a class="function" onClick="logFunction('get_all_sections')" href="../_functions/get_all_sections.html" onMouseOver="funcPopup(event,'get_all_sections')">get_all_sections</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1246"><span class="linenum">1246</span></a>  
<a name="l1247"><span class="linenum">1247</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_all_sections')" href="../_functions/get_all_sections.html" onMouseOver="funcPopup(event,'get_all_sections')">get_all_sections</a>() is removed. See phpdocs for this function');
<a name="l1248"><span class="linenum">1248</span></a>  }
<a name="l1249"><span class="linenum">1249</span></a>  
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment">/**</span>
<a name="l1251"><span class="linenum">1251</span></a>  <span class="comment"> * This function is deprecated, please use {@link course_add_cm_to_section()}</span>
<a name="l1252"><span class="linenum">1252</span></a>  <span class="comment"> * Note that course_add_cm_to_section() also updates field course_modules.section and</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment"> * calls rebuild_course_cache()</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment"> *</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment"> */</span>
<a name="l1257"><span class="linenum">1257</span></a>  function <a class="function" onClick="logFunction('add_mod_to_section')" href="../_functions/add_mod_to_section.html" onMouseOver="funcPopup(event,'add_mod_to_section')">add_mod_to_section</a>(<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it2587" onMouseOver="hilite(2587)" onMouseOut="lolite()" onClick="logVariable('beforemod')" href="../_variables/beforemod.html">$beforemod</a> = null) {
<a name="l1258"><span class="linenum">1258</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('add_mod_to_section')" href="../_functions/add_mod_to_section.html" onMouseOver="funcPopup(event,'add_mod_to_section')">add_mod_to_section</a>() is removed, please use <a class="function" onClick="logFunction('course_add_cm_to_section')" href="../_functions/course_add_cm_to_section.html" onMouseOver="funcPopup(event,'course_add_cm_to_section')">course_add_cm_to_section</a>()');
<a name="l1259"><span class="linenum">1259</span></a>  }
<a name="l1260"><span class="linenum">1260</span></a>  
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">/**</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment"> * Returns a number of useful structures for course displays</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment"> *</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment"> * Function get_all_mods() is deprecated in 2.4</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment"> * Instead of:</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment"> * &lt;code&gt;</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment"> * get_all_mods($courseid, $mods, $modnames, $modnamesplural, $modnamesused);</span>
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment"> * &lt;/code&gt;</span>
<a name="l1269"><span class="linenum">1269</span></a>  <span class="comment"> * please use:</span>
<a name="l1270"><span class="linenum">1270</span></a>  <span class="comment"> * &lt;code&gt;</span>
<a name="l1271"><span class="linenum">1271</span></a>  <span class="comment"> * $mods = get_fast_modinfo($courseorid)-&gt;get_cms();</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment"> * $modnames = get_module_types_names();</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment"> * $modnamesplural = get_module_types_names(true);</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment"> * $modnamesused = get_fast_modinfo($courseorid)-&gt;get_used_module_names();</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment"> * &lt;/code&gt;</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment"> *</span>
<a name="l1277"><span class="linenum">1277</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1278"><span class="linenum">1278</span></a>  <span class="comment"> */</span>
<a name="l1279"><span class="linenum">1279</span></a>  function <a class="function" onClick="logFunction('get_all_mods')" href="../_functions/get_all_mods.html" onMouseOver="funcPopup(event,'get_all_mods')">get_all_mods</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, &amp;<a class="var it2588" onMouseOver="hilite(2588)" onMouseOut="lolite()" onClick="logVariable('mods')" href="../_variables/mods.html">$mods</a>, &amp;<a class="var it733" onMouseOver="hilite(733)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../_variables/modnames.html">$modnames</a>, &amp;<a class="var it2589" onMouseOver="hilite(2589)" onMouseOut="lolite()" onClick="logVariable('modnamesplural')" href="../_variables/modnamesplural.html">$modnamesplural</a>, &amp;<a class="var it2590" onMouseOver="hilite(2590)" onMouseOut="lolite()" onClick="logVariable('modnamesused')" href="../_variables/modnamesused.html">$modnamesused</a>) {
<a name="l1280"><span class="linenum">1280</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_all_mods')" href="../_functions/get_all_mods.html" onMouseOver="funcPopup(event,'get_all_mods')">get_all_mods</a>() is removed. Use <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>() and <a class="function" onClick="logFunction('get_module_types_names')" href="../_functions/get_module_types_names.html" onMouseOver="funcPopup(event,'get_module_types_names')">get_module_types_names</a>() instead. See phpdocs for details');
<a name="l1281"><span class="linenum">1281</span></a>  }
<a name="l1282"><span class="linenum">1282</span></a>  
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">/**</span>
<a name="l1284"><span class="linenum">1284</span></a>  <span class="comment"> * Returns course section - creates new if does not exist yet</span>
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment"> *</span>
<a name="l1286"><span class="linenum">1286</span></a>  <span class="comment"> * This function is deprecated. To create a course section call:</span>
<a name="l1287"><span class="linenum">1287</span></a>  <span class="comment"> * course_create_sections_if_missing($courseorid, $sections);</span>
<a name="l1288"><span class="linenum">1288</span></a>  <span class="comment"> * to get the section call:</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment"> * get_fast_modinfo($courseorid)-&gt;get_section_info($sectionnum);</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment"> *</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment"> * @see course_create_sections_if_missing()</span>
<a name="l1292"><span class="linenum">1292</span></a>  <span class="comment"> * @see get_fast_modinfo()</span>
<a name="l1293"><span class="linenum">1293</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment"> */</span>
<a name="l1295"><span class="linenum">1295</span></a>  function <a class="function" onClick="logFunction('get_course_section')" href="../_functions/get_course_section.html" onMouseOver="funcPopup(event,'get_course_section')">get_course_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1296"><span class="linenum">1296</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_course_section')" href="../_functions/get_course_section.html" onMouseOver="funcPopup(event,'get_course_section')">get_course_section</a>() is removed. Please use <a class="function" onClick="logFunction('course_create_sections_if_missing')" href="../_functions/course_create_sections_if_missing.html" onMouseOver="funcPopup(event,'course_create_sections_if_missing')">course_create_sections_if_missing</a>() and <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>() instead.');
<a name="l1297"><span class="linenum">1297</span></a>  }
<a name="l1298"><span class="linenum">1298</span></a>  
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">/**</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment"> * @see format_weeks::get_section_dates()</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment"> */</span>
<a name="l1303"><span class="linenum">1303</span></a>  function <a class="function" onClick="logFunction('format_weeks_get_section_dates')" href="../_functions/format_weeks_get_section_dates.html" onMouseOver="funcPopup(event,'format_weeks_get_section_dates')">format_weeks_get_section_dates</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1304"><span class="linenum">1304</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('format_weeks_get_section_dates')" href="../_functions/format_weeks_get_section_dates.html" onMouseOver="funcPopup(event,'format_weeks_get_section_dates')">format_weeks_get_section_dates</a>() is removed. It is not recommended to'.
<a name="l1305"><span class="linenum">1305</span></a>              ' use it outside of format_weeks plugin');
<a name="l1306"><span class="linenum">1306</span></a>  }
<a name="l1307"><span class="linenum">1307</span></a>  
<a name="l1308"><span class="linenum">1308</span></a>  <span class="comment">/**</span>
<a name="l1309"><span class="linenum">1309</span></a>  <span class="comment"> * Deprecated. Instead of:</span>
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment"> * list($content, $name) = get_print_section_cm_text($cm, $course);</span>
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment"> * use:</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment"> * $content = $cm-&gt;get_formatted_content(array('overflowdiv' =&gt; true, 'noclean' =&gt; true));</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment"> * $name = $cm-&gt;get_formatted_name();</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment"> *</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment"> * @see cm_info::get_formatted_content()</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment"> * @see cm_info::get_formatted_name()</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment"> */</span>
<a name="l1319"><span class="linenum">1319</span></a>  function <a class="function" onClick="logFunction('get_print_section_cm_text')" href="../_functions/get_print_section_cm_text.html" onMouseOver="funcPopup(event,'get_print_section_cm_text')">get_print_section_cm_text</a>(cm_info <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1320"><span class="linenum">1320</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_print_section_cm_text')" href="../_functions/get_print_section_cm_text.html" onMouseOver="funcPopup(event,'get_print_section_cm_text')">get_print_section_cm_text</a>() is removed. Please use '.
<a name="l1321"><span class="linenum">1321</span></a>              '<a class="class" onClick="logClass('cm_info')" href="../_classes/cm_info.html" onMouseOver="classPopup(event,'cm_info')">cm_info</a>::<a class="function" onClick="logFunction('get_formatted_content')" href="../_functions/get_formatted_content.html" onMouseOver="funcPopup(event,'get_formatted_content')">get_formatted_content</a>() and <a class="class" onClick="logClass('cm_info')" href="../_classes/cm_info.html" onMouseOver="classPopup(event,'cm_info')">cm_info</a>::<a class="function" onClick="logFunction('get_formatted_name')" href="../_functions/get_formatted_name.html" onMouseOver="funcPopup(event,'get_formatted_name')">get_formatted_name</a>()');
<a name="l1322"><span class="linenum">1322</span></a>  }
<a name="l1323"><span class="linenum">1323</span></a>  
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">/**</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment"> * $output = $courserenderer-&gt;course_section_add_cm_control($course, $section, $sectionreturn,</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment"> *    array('inblock' =&gt; $vertical));</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment"> * echo $output;</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment"> *</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment"> * @see core_course_renderer::course_section_add_cm_control()</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment"> */</span>
<a name="l1334"><span class="linenum">1334</span></a>  function <a class="function" onClick="logFunction('print_section_add_menus')" href="../_functions/print_section_add_menus.html" onMouseOver="funcPopup(event,'print_section_add_menus')">print_section_add_menus</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it733" onMouseOver="hilite(733)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../_variables/modnames.html">$modnames</a> = null, <a class="var it2591" onMouseOver="hilite(2591)" onMouseOut="lolite()" onClick="logVariable('vertical')" href="../_variables/vertical.html">$vertical</a>=false, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it2592" onMouseOver="hilite(2592)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>=null) {
<a name="l1335"><span class="linenum">1335</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_section_add_menus')" href="../_functions/print_section_add_menus.html" onMouseOver="funcPopup(event,'print_section_add_menus')">print_section_add_menus</a>() is removed. Please use course renderer '.
<a name="l1336"><span class="linenum">1336</span></a>              'function <a class="function" onClick="logFunction('course_section_add_cm_control')" href="../_functions/course_section_add_cm_control.html" onMouseOver="funcPopup(event,'course_section_add_cm_control')">course_section_add_cm_control</a>()');
<a name="l1337"><span class="linenum">1337</span></a>  }
<a name="l1338"><span class="linenum">1338</span></a>  
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">/**</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment"> * $actions = course_get_cm_edit_actions($mod, $indent, $section);</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment"> * return ' ' . $courserenderer-&gt;course_section_cm_edit_actions($actions);</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment"> *</span>
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1346"><span class="linenum">1346</span></a>  <span class="comment"> * @see course_get_cm_edit_actions()</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment"> * @see core_course_renderer-&gt;course_section_cm_edit_actions()</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment"> */</span>
<a name="l1349"><span class="linenum">1349</span></a>  function <a class="function" onClick="logFunction('make_editing_buttons')" href="../_functions/make_editing_buttons.html" onMouseOver="funcPopup(event,'make_editing_buttons')">make_editing_buttons</a>(stdClass <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it2593" onMouseOver="hilite(2593)" onMouseOut="lolite()" onClick="logVariable('absolute_ignored')" href="../_variables/absolute_ignored.html">$absolute_ignored</a> = true, <a class="var it2594" onMouseOver="hilite(2594)" onMouseOut="lolite()" onClick="logVariable('moveselect')" href="../_variables/moveselect.html">$moveselect</a> = true, <a class="var it2595" onMouseOver="hilite(2595)" onMouseOut="lolite()" onClick="logVariable('indent')" href="../_variables/indent.html">$indent</a>=-1, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>=null) {
<a name="l1350"><span class="linenum">1350</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('make_editing_buttons')" href="../_functions/make_editing_buttons.html" onMouseOver="funcPopup(event,'make_editing_buttons')">make_editing_buttons</a>() is removed, please see PHPdocs in '.
<a name="l1351"><span class="linenum">1351</span></a>              'lib/deprecatedlib.php on how to replace it');
<a name="l1352"><span class="linenum">1352</span></a>  }
<a name="l1353"><span class="linenum">1353</span></a>  
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">/**</span>
<a name="l1355"><span class="linenum">1355</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1356"><span class="linenum">1356</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1357"><span class="linenum">1357</span></a>  <span class="comment"> * echo $courserenderer-&gt;course_section_cm_list($course, $section, $sectionreturn,</span>
<a name="l1358"><span class="linenum">1358</span></a>  <span class="comment"> *     array('hidecompletion' =&gt; $hidecompletion));</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment"> *</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment"> * @see core_course_renderer::course_section_cm_list()</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment"> */</span>
<a name="l1363"><span class="linenum">1363</span></a>  function <a class="function" onClick="logFunction('print_section')" href="../_functions/print_section.html" onMouseOver="funcPopup(event,'print_section')">print_section</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it2588" onMouseOver="hilite(2588)" onMouseOut="lolite()" onClick="logVariable('mods')" href="../_variables/mods.html">$mods</a>, <a class="var it2590" onMouseOver="hilite(2590)" onMouseOut="lolite()" onClick="logVariable('modnamesused')" href="../_variables/modnamesused.html">$modnamesused</a>, <a class="var it2596" onMouseOver="hilite(2596)" onMouseOut="lolite()" onClick="logVariable('absolute')" href="../_variables/absolute.html">$absolute</a>=false, <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;, <a class="var it2597" onMouseOver="hilite(2597)" onMouseOut="lolite()" onClick="logVariable('hidecompletion')" href="../_variables/hidecompletion.html">$hidecompletion</a>=false, <a class="var it2592" onMouseOver="hilite(2592)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>=null) {
<a name="l1364"><span class="linenum">1364</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_section')" href="../_functions/print_section.html" onMouseOver="funcPopup(event,'print_section')">print_section</a>() is removed. Please use course renderer function '.
<a name="l1365"><span class="linenum">1365</span></a>              '<a class="function" onClick="logFunction('course_section_cm_list')" href="../_functions/course_section_cm_list.html" onMouseOver="funcPopup(event,'course_section_cm_list')">course_section_cm_list</a>() instead.');
<a name="l1366"><span class="linenum">1366</span></a>  }
<a name="l1367"><span class="linenum">1367</span></a>  
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">/**</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment"> */</span>
<a name="l1371"><span class="linenum">1371</span></a>  function <a class="function" onClick="logFunction('print_overview')" href="../_functions/print_overview.html" onMouseOver="funcPopup(event,'print_overview')">print_overview</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>, array <a class="var it2598" onMouseOver="hilite(2598)" onMouseOut="lolite()" onClick="logVariable('remote_courses')" href="../_variables/remote_courses.html">$remote_courses</a>=array()) {
<a name="l1372"><span class="linenum">1372</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_overview')" href="../_functions/print_overview.html" onMouseOver="funcPopup(event,'print_overview')">print_overview</a>() is removed. Use block course_overview to display this information');
<a name="l1373"><span class="linenum">1373</span></a>  }
<a name="l1374"><span class="linenum">1374</span></a>  
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment">/**</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment"> */</span>
<a name="l1378"><span class="linenum">1378</span></a>  function <a class="function" onClick="logFunction('print_recent_activity')" href="../_functions/print_recent_activity.html" onMouseOver="funcPopup(event,'print_recent_activity')">print_recent_activity</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1379"><span class="linenum">1379</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_recent_activity')" href="../_functions/print_recent_activity.html" onMouseOver="funcPopup(event,'print_recent_activity')">print_recent_activity</a>() is removed. It is not recommended to'.
<a name="l1380"><span class="linenum">1380</span></a>              ' use it outside of block_recent_activity');
<a name="l1381"><span class="linenum">1381</span></a>  }
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">/**</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment"> */</span>
<a name="l1386"><span class="linenum">1386</span></a>  function <a class="function" onClick="logFunction('delete_course_module')" href="../_functions/delete_course_module.html" onMouseOver="funcPopup(event,'delete_course_module')">delete_course_module</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) {
<a name="l1387"><span class="linenum">1387</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('delete_course_module')" href="../_functions/delete_course_module.html" onMouseOver="funcPopup(event,'delete_course_module')">delete_course_module</a>() is removed. Please use <a class="function" onClick="logFunction('course_delete_module')" href="../_functions/course_delete_module.html" onMouseOver="funcPopup(event,'course_delete_module')">course_delete_module</a>() instead.');
<a name="l1388"><span class="linenum">1388</span></a>  }
<a name="l1389"><span class="linenum">1389</span></a>  
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">/**</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment"> */</span>
<a name="l1393"><span class="linenum">1393</span></a>  function <a class="function" onClick="logFunction('update_category_button')" href="../_functions/update_category_button.html" onMouseOver="funcPopup(event,'update_category_button')">update_category_button</a>(<a class="var it904" onMouseOver="hilite(904)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a> = 0) {
<a name="l1394"><span class="linenum">1394</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('update_category_button')" href="../_functions/update_category_button.html" onMouseOver="funcPopup(event,'update_category_button')">update_category_button</a>() is removed. Pages to view '.
<a name="l1395"><span class="linenum">1395</span></a>              'and edit courses are now separate and no longer depend on editing mode.');
<a name="l1396"><span class="linenum">1396</span></a>  }
<a name="l1397"><span class="linenum">1397</span></a>  
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">/**</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment"> * This function is deprecated! For list of categories use</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment"> * coursecat::make_all_categories($requiredcapability, $excludeid, $separator)</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment"> * For parents of one particular category use</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_parents()</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment"> *</span>
<a name="l1404"><span class="linenum">1404</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1405"><span class="linenum">1405</span></a>  <span class="comment"> */</span>
<a name="l1406"><span class="linenum">1406</span></a>  function <a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>(&amp;<a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a>, &amp;<a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>, <a class="var it2599" onMouseOver="hilite(2599)" onMouseOut="lolite()" onClick="logVariable('requiredcapability')" href="../_variables/requiredcapability.html">$requiredcapability</a> = '',
<a name="l1407"><span class="linenum">1407</span></a>          <a class="var it2600" onMouseOver="hilite(2600)" onMouseOut="lolite()" onClick="logVariable('excludeid')" href="../_variables/excludeid.html">$excludeid</a> = 0, <a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = NULL, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = &quot;&quot;) {
<a name="l1408"><span class="linenum">1408</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Global function <a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>() is removed. Please use '.
<a name="l1409"><span class="linenum">1409</span></a>              '<a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>() and <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_parents')" href="../_functions/get_parents.html" onMouseOver="funcPopup(event,'get_parents')">get_parents</a>()');
<a name="l1410"><span class="linenum">1410</span></a>  }
<a name="l1411"><span class="linenum">1411</span></a>  
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">/**</span>
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1414"><span class="linenum">1414</span></a>  <span class="comment"> */</span>
<a name="l1415"><span class="linenum">1415</span></a>  function <a class="function" onClick="logFunction('category_delete_move')" href="../_functions/category_delete_move.html" onMouseOver="funcPopup(event,'category_delete_move')">category_delete_move</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it2601" onMouseOver="hilite(2601)" onMouseOut="lolite()" onClick="logVariable('newparentid')" href="../_variables/newparentid.html">$newparentid</a>, <a class="var it2602" onMouseOver="hilite(2602)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>=true) {
<a name="l1416"><span class="linenum">1416</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('category_delete_move')" href="../_functions/category_delete_move.html" onMouseOver="funcPopup(event,'category_delete_move')">category_delete_move</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('delete_move')" href="../_functions/delete_move.html" onMouseOver="funcPopup(event,'delete_move')">delete_move</a>() instead.');
<a name="l1417"><span class="linenum">1417</span></a>  }
<a name="l1418"><span class="linenum">1418</span></a>  
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">/**</span>
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment"> */</span>
<a name="l1422"><span class="linenum">1422</span></a>  function <a class="function" onClick="logFunction('category_delete_full')" href="../_functions/category_delete_full.html" onMouseOver="funcPopup(event,'category_delete_full')">category_delete_full</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it2602" onMouseOver="hilite(2602)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>=true) {
<a name="l1423"><span class="linenum">1423</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('category_delete_full')" href="../_functions/category_delete_full.html" onMouseOver="funcPopup(event,'category_delete_full')">category_delete_full</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('delete_full')" href="../_functions/delete_full.html" onMouseOver="funcPopup(event,'delete_full')">delete_full</a>() instead.');
<a name="l1424"><span class="linenum">1424</span></a>  }
<a name="l1425"><span class="linenum">1425</span></a>  
<a name="l1426"><span class="linenum">1426</span></a>  <span class="comment">/**</span>
<a name="l1427"><span class="linenum">1427</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment"> * $coursecat = coursecat::get($category-&gt;id);</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment"> * if ($coursecat-&gt;can_change_parent($newparentcat-&gt;id)) {</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment"> *     $coursecat-&gt;change_parent($newparentcat-&gt;id);</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment"> * }</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment"> *</span>
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment"> * Alternatively you can use</span>
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment"> * $coursecat-&gt;update(array('parent' =&gt; $newparentcat-&gt;id));</span>
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment"> *</span>
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment"> * @see coursecat::change_parent()</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment"> * @see coursecat::update()</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment"> */</span>
<a name="l1440"><span class="linenum">1440</span></a>  function <a class="function" onClick="logFunction('move_category')" href="../_functions/move_category.html" onMouseOver="funcPopup(event,'move_category')">move_category</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it2603" onMouseOver="hilite(2603)" onMouseOut="lolite()" onClick="logVariable('newparentcat')" href="../_variables/newparentcat.html">$newparentcat</a>) {
<a name="l1441"><span class="linenum">1441</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('move_category')" href="../_functions/move_category.html" onMouseOver="funcPopup(event,'move_category')">move_category</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('change_parent')" href="../_functions/change_parent.html" onMouseOver="funcPopup(event,'change_parent')">change_parent</a>() instead.');
<a name="l1442"><span class="linenum">1442</span></a>  }
<a name="l1443"><span class="linenum">1443</span></a>  
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">/**</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;hide();</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment"> *</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment"> * @see coursecat::hide()</span>
<a name="l1449"><span class="linenum">1449</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1450"><span class="linenum">1450</span></a>  <span class="comment"> */</span>
<a name="l1451"><span class="linenum">1451</span></a>  function <a class="function" onClick="logFunction('course_category_hide')" href="../_functions/course_category_hide.html" onMouseOver="funcPopup(event,'course_category_hide')">course_category_hide</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l1452"><span class="linenum">1452</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('course_category_hide')" href="../_functions/course_category_hide.html" onMouseOver="funcPopup(event,'course_category_hide')">course_category_hide</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('hide')" href="../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>() instead.');
<a name="l1453"><span class="linenum">1453</span></a>  }
<a name="l1454"><span class="linenum">1454</span></a>  
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">/**</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;show();</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment"> *</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment"> * @see coursecat::show()</span>
<a name="l1460"><span class="linenum">1460</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1461"><span class="linenum">1461</span></a>  <span class="comment"> */</span>
<a name="l1462"><span class="linenum">1462</span></a>  function <a class="function" onClick="logFunction('course_category_show')" href="../_functions/course_category_show.html" onMouseOver="funcPopup(event,'course_category_show')">course_category_show</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l1463"><span class="linenum">1463</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('course_category_show')" href="../_functions/course_category_show.html" onMouseOver="funcPopup(event,'course_category_show')">course_category_show</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('show')" href="../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>() instead.');
<a name="l1464"><span class="linenum">1464</span></a>  }
<a name="l1465"><span class="linenum">1465</span></a>  
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">/**</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment"> * This function is deprecated.</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment"> * To get the category with the specified it please use:</span>
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment"> * coursecat::get($catid, IGNORE_MISSING);</span>
<a name="l1470"><span class="linenum">1470</span></a>  <span class="comment"> * or</span>
<a name="l1471"><span class="linenum">1471</span></a>  <span class="comment"> * coursecat::get($catid, MUST_EXIST);</span>
<a name="l1472"><span class="linenum">1472</span></a>  <span class="comment"> *</span>
<a name="l1473"><span class="linenum">1473</span></a>  <span class="comment"> * To get the first available category please use</span>
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment"> * coursecat::get_default();</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment"> *</span>
<a name="l1476"><span class="linenum">1476</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1477"><span class="linenum">1477</span></a>  <span class="comment"> */</span>
<a name="l1478"><span class="linenum">1478</span></a>  function <a class="function" onClick="logFunction('get_course_category')" href="../_functions/get_course_category.html" onMouseOver="funcPopup(event,'get_course_category')">get_course_category</a>(<a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>=0) {
<a name="l1479"><span class="linenum">1479</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_course_category')" href="../_functions/get_course_category.html" onMouseOver="funcPopup(event,'get_course_category')">get_course_category</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(), see phpdocs for more details');
<a name="l1480"><span class="linenum">1480</span></a>  }
<a name="l1481"><span class="linenum">1481</span></a>  
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">/**</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment"> * This function is deprecated. It is replaced with the method create() in class coursecat.</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment"> * {@link coursecat::create()} also verifies the data, fixes sortorder and logs the action</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment"> *</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment"> */</span>
<a name="l1488"><span class="linenum">1488</span></a>  function <a class="function" onClick="logFunction('create_course_category')" href="../_functions/create_course_category.html" onMouseOver="funcPopup(event,'create_course_category')">create_course_category</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l1489"><span class="linenum">1489</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('create_course_category')" href="../_functions/create_course_category.html" onMouseOver="funcPopup(event,'create_course_category')">create_course_category</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(), see phpdocs for more details');
<a name="l1490"><span class="linenum">1490</span></a>  }
<a name="l1491"><span class="linenum">1491</span></a>  
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">/**</span>
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment"> * This function is deprecated.</span>
<a name="l1494"><span class="linenum">1494</span></a>  <span class="comment"> *</span>
<a name="l1495"><span class="linenum">1495</span></a>  <span class="comment"> * To get visible children categories of the given category use:</span>
<a name="l1496"><span class="linenum">1496</span></a>  <span class="comment"> * coursecat::get($categoryid)-&gt;get_children();</span>
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment"> * This function will return the array or coursecat objects, on each of them</span>
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment"> * you can call get_children() again</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment"> *</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment"> * @see coursecat::get()</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment"> * @see coursecat::get_children()</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment"> *</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1504"><span class="linenum">1504</span></a>  <span class="comment"> */</span>
<a name="l1505"><span class="linenum">1505</span></a>  function <a class="function" onClick="logFunction('get_all_subcategories')" href="../_functions/get_all_subcategories.html" onMouseOver="funcPopup(event,'get_all_subcategories')">get_all_subcategories</a>(<a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>) {
<a name="l1506"><span class="linenum">1506</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_all_subcategories')" href="../_functions/get_all_subcategories.html" onMouseOver="funcPopup(event,'get_all_subcategories')">get_all_subcategories</a>() is removed. Please use appropriate methods() of coursecat
<a name="l1507"><span class="linenum">1507</span></a>              class. See phpdocs for more details');
<a name="l1508"><span class="linenum">1508</span></a>  }
<a name="l1509"><span class="linenum">1509</span></a>  
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment">/**</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment"> * This function is deprecated. Please use functions in class coursecat:</span>
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;has_children()</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment"> * tells if the category has children (visible or not to the current user)</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment"> *</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;get_children()</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment"> * returns an array of coursecat objects, each of them represents a children category visible</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment"> * to the current user (i.e. visible=1 or user has capability to view hidden categories)</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment"> *</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;get_children_count()</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment"> * returns number of children categories visible to the current user</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment"> *</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment"> * - coursecat::count_all()</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment"> * returns total count of all categories in the system (both visible and not)</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment"> *</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment"> * - coursecat::get_default()</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment"> * returns the first category (usually to be used if count_all() == 1)</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment"> *</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment"> */</span>
<a name="l1530"><span class="linenum">1530</span></a>  function <a class="function" onClick="logFunction('get_child_categories')" href="../_functions/get_child_categories.html" onMouseOver="funcPopup(event,'get_child_categories')">get_child_categories</a>(<a class="var it2605" onMouseOver="hilite(2605)" onMouseOut="lolite()" onClick="logVariable('parentid')" href="../_variables/parentid.html">$parentid</a>) {
<a name="l1531"><span class="linenum">1531</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_child_categories')" href="../_functions/get_child_categories.html" onMouseOver="funcPopup(event,'get_child_categories')">get_child_categories</a>() is removed. Use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() or see phpdocs for
<a name="l1532"><span class="linenum">1532</span></a>              more details.');
<a name="l1533"><span class="linenum">1533</span></a>  }
<a name="l1534"><span class="linenum">1534</span></a>  
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">/**</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment"> *</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment"> *</span>
<a name="l1539"><span class="linenum">1539</span></a>  <span class="comment"> * This function is deprecated. Use appropriate functions from class coursecat.</span>
<a name="l1540"><span class="linenum">1540</span></a>  <span class="comment"> * Examples:</span>
<a name="l1541"><span class="linenum">1541</span></a>  <span class="comment"> *</span>
<a name="l1542"><span class="linenum">1542</span></a>  <span class="comment"> * coursecat::get($categoryid)-&gt;get_children()</span>
<a name="l1543"><span class="linenum">1543</span></a>  <span class="comment"> * - returns all children of the specified category as instances of class</span>
<a name="l1544"><span class="linenum">1544</span></a>  <span class="comment"> * coursecat, which means on each of them method get_children() can be called again.</span>
<a name="l1545"><span class="linenum">1545</span></a>  <span class="comment"> * Only categories visible to the current user are returned.</span>
<a name="l1546"><span class="linenum">1546</span></a>  <span class="comment"> *</span>
<a name="l1547"><span class="linenum">1547</span></a>  <span class="comment"> * coursecat::get(0)-&gt;get_children()</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment"> * - returns all top-level categories visible to the current user.</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment"> *</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment"> * Sort fields can be specified, see phpdocs to {@link coursecat::get_children()}</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment"> *</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment"> * coursecat::make_categories_list()</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment"> * - returns an array of all categories id/names in the system.</span>
<a name="l1554"><span class="linenum">1554</span></a>  <span class="comment"> * Also only returns categories visible to current user and can additionally be</span>
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment"> * filetered by capability, see phpdocs to {@link coursecat::make_categories_list()}</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment"> *</span>
<a name="l1557"><span class="linenum">1557</span></a>  <span class="comment"> * make_categories_options()</span>
<a name="l1558"><span class="linenum">1558</span></a>  <span class="comment"> * - Returns full course categories tree to be used in html_writer::select()</span>
<a name="l1559"><span class="linenum">1559</span></a>  <span class="comment"> *</span>
<a name="l1560"><span class="linenum">1560</span></a>  <span class="comment"> * Also see functions {@link coursecat::get_children_count()}, {@link coursecat::count_all()},</span>
<a name="l1561"><span class="linenum">1561</span></a>  <span class="comment"> * {@link coursecat::get_default()}</span>
<a name="l1562"><span class="linenum">1562</span></a>  <span class="comment"> */</span>
<a name="l1563"><span class="linenum">1563</span></a>  function <a class="function" onClick="logFunction('get_categories')" href="../_functions/get_categories.html" onMouseOver="funcPopup(event,'get_categories')">get_categories</a>(<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>='none', <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>=NULL, <a class="var it2606" onMouseOver="hilite(2606)" onMouseOut="lolite()" onClick="logVariable('shallow')" href="../_variables/shallow.html">$shallow</a>=true) {
<a name="l1564"><span class="linenum">1564</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_categories')" href="../_functions/get_categories.html" onMouseOver="funcPopup(event,'get_categories')">get_categories</a>() is removed. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() or see phpdocs for other alternatives');
<a name="l1565"><span class="linenum">1565</span></a>  }
<a name="l1566"><span class="linenum">1566</span></a>  
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment">/**</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">* This function is deprecated, please use course renderer:</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">* $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">* echo $renderer-&gt;course_search_form($value, $format);</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">*</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment">* @deprecated since 2.5</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment">*/</span>
<a name="l1574"><span class="linenum">1574</span></a>  function <a class="function" onClick="logFunction('print_course_search')" href="../_functions/print_course_search.html" onMouseOver="funcPopup(event,'print_course_search')">print_course_search</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>=&quot;&quot;, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>=&quot;plain&quot;) {
<a name="l1575"><span class="linenum">1575</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_course_search')" href="../_functions/print_course_search.html" onMouseOver="funcPopup(event,'print_course_search')">print_course_search</a>() is removed, please use course renderer');
<a name="l1576"><span class="linenum">1576</span></a>  }
<a name="l1577"><span class="linenum">1577</span></a>  
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">/**</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment"> * This function is deprecated, please use:</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_my_courses()</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment"> *</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment"> */</span>
<a name="l1585"><span class="linenum">1585</span></a>  function <a class="function" onClick="logFunction('print_my_moodle')" href="../_functions/print_my_moodle.html" onMouseOver="funcPopup(event,'print_my_moodle')">print_my_moodle</a>() {
<a name="l1586"><span class="linenum">1586</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_my_moodle')" href="../_functions/print_my_moodle.html" onMouseOver="funcPopup(event,'print_my_moodle')">print_my_moodle</a>() is removed, please use course renderer function <a class="function" onClick="logFunction('frontpage_my_courses')" href="../_functions/frontpage_my_courses.html" onMouseOver="funcPopup(event,'frontpage_my_courses')">frontpage_my_courses</a>()');
<a name="l1587"><span class="linenum">1587</span></a>  }
<a name="l1588"><span class="linenum">1588</span></a>  
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">/**</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment"> * This function is deprecated, it is replaced with protected function</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment"> * {@link core_course_renderer::frontpage_remote_course()}</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment"> * It is only used from function {@link core_course_renderer::frontpage_my_courses()}</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment"> *</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment"> */</span>
<a name="l1596"><span class="linenum">1596</span></a>  function <a class="function" onClick="logFunction('print_remote_course')" href="../_functions/print_remote_course.html" onMouseOver="funcPopup(event,'print_remote_course')">print_remote_course</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;) {
<a name="l1597"><span class="linenum">1597</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_remote_course')" href="../_functions/print_remote_course.html" onMouseOver="funcPopup(event,'print_remote_course')">print_remote_course</a>() is removed, please use course renderer');
<a name="l1598"><span class="linenum">1598</span></a>  }
<a name="l1599"><span class="linenum">1599</span></a>  
<a name="l1600"><span class="linenum">1600</span></a>  <span class="comment">/**</span>
<a name="l1601"><span class="linenum">1601</span></a>  <span class="comment"> * This function is deprecated, it is replaced with protected function</span>
<a name="l1602"><span class="linenum">1602</span></a>  <span class="comment"> * {@link core_course_renderer::frontpage_remote_host()}</span>
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment"> * It is only used from function {@link core_course_renderer::frontpage_my_courses()}</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment"> *</span>
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment"> */</span>
<a name="l1607"><span class="linenum">1607</span></a>  function <a class="function" onClick="logFunction('print_remote_host')" href="../_functions/print_remote_host.html" onMouseOver="funcPopup(event,'print_remote_host')">print_remote_host</a>(<a class="var it213" onMouseOver="hilite(213)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>, <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;) {
<a name="l1608"><span class="linenum">1608</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_remote_host')" href="../_functions/print_remote_host.html" onMouseOver="funcPopup(event,'print_remote_host')">print_remote_host</a>() is removed, please use course renderer');
<a name="l1609"><span class="linenum">1609</span></a>  }
<a name="l1610"><span class="linenum">1610</span></a>  
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment">/**</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment"> *</span>
<a name="l1614"><span class="linenum">1614</span></a>  <span class="comment"> * See http://docs.moodle.org/dev/Courses_lists_upgrade_to_2.5</span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment"> */</span>
<a name="l1616"><span class="linenum">1616</span></a>  function <a class="function" onClick="logFunction('print_whole_category_list')" href="../_functions/print_whole_category_list.html" onMouseOver="funcPopup(event,'print_whole_category_list')">print_whole_category_list</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>=NULL, <a class="var it2607" onMouseOver="hilite(2607)" onMouseOut="lolite()" onClick="logVariable('displaylist')" href="../_variables/displaylist.html">$displaylist</a>=NULL, <a class="var it2608" onMouseOver="hilite(2608)" onMouseOut="lolite()" onClick="logVariable('parentslist')" href="../_variables/parentslist.html">$parentslist</a>=NULL, <a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>=-1, <a class="var it2609" onMouseOver="hilite(2609)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a> = true, <a class="var it2610" onMouseOver="hilite(2610)" onMouseOut="lolite()" onClick="logVariable('categorycourses')" href="../_variables/categorycourses.html">$categorycourses</a>=NULL) {
<a name="l1617"><span class="linenum">1617</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_whole_category_list')" href="../_functions/print_whole_category_list.html" onMouseOver="funcPopup(event,'print_whole_category_list')">print_whole_category_list</a>() is removed, please use course renderer');
<a name="l1618"><span class="linenum">1618</span></a>  }
<a name="l1619"><span class="linenum">1619</span></a>  
<a name="l1620"><span class="linenum">1620</span></a>  <span class="comment">/**</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1622"><span class="linenum">1622</span></a>  <span class="comment"> */</span>
<a name="l1623"><span class="linenum">1623</span></a>  function <a class="function" onClick="logFunction('print_category_info')" href="../_functions/print_category_info.html" onMouseOver="funcPopup(event,'print_category_info')">print_category_info</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> = 0, <a class="var it2609" onMouseOver="hilite(2609)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a> = false, array <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = null) {
<a name="l1624"><span class="linenum">1624</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_category_info')" href="../_functions/print_category_info.html" onMouseOver="funcPopup(event,'print_category_info')">print_category_info</a>() is removed, please use course renderer');
<a name="l1625"><span class="linenum">1625</span></a>  }
<a name="l1626"><span class="linenum">1626</span></a>  
<a name="l1627"><span class="linenum">1627</span></a>  <span class="comment">/**</span>
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment"> *</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment"> * This function is not used any more in moodle core and course renderer does not have render function for it.</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment"> * Combo list on the front page is displayed as:</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_combo_list()</span>
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment"> *</span>
<a name="l1635"><span class="linenum">1635</span></a>  <span class="comment"> * The new class {@link coursecat} stores the information about course category tree</span>
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment"> * To get children categories use:</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_children()</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment"> * To get list of courses use:</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses()</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment"> *</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment"> * See http://docs.moodle.org/dev/Courses_lists_upgrade_to_2.5</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment"> */</span>
<a name="l1643"><span class="linenum">1643</span></a>  function <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = 0, <a class="var it1466" onMouseOver="hilite(1466)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> = 0) {
<a name="l1644"><span class="linenum">1644</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>() is removed, please use course renderer or coursecat class,
<a name="l1645"><span class="linenum">1645</span></a>              see function phpdocs for more info');
<a name="l1646"><span class="linenum">1646</span></a>  }
<a name="l1647"><span class="linenum">1647</span></a>  
<a name="l1648"><span class="linenum">1648</span></a>  <span class="comment">/**</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1650"><span class="linenum">1650</span></a>  <span class="comment"> *</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment"> * To print a generic list of courses use:</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment"> * echo $renderer-&gt;courses_list($courses);</span>
<a name="l1654"><span class="linenum">1654</span></a>  <span class="comment"> *</span>
<a name="l1655"><span class="linenum">1655</span></a>  <span class="comment"> * To print list of all courses:</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1657"><span class="linenum">1657</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_available_courses();</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment"> *</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment"> * To print list of courses inside category:</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1661"><span class="linenum">1661</span></a>  <span class="comment"> * echo $renderer-&gt;course_category($category); // this will also print subcategories</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment"> */</span>
<a name="l1663"><span class="linenum">1663</span></a>  function <a class="function" onClick="logFunction('print_courses')" href="../_functions/print_courses.html" onMouseOver="funcPopup(event,'print_courses')">print_courses</a>(<a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l1664"><span class="linenum">1664</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_courses')" href="../_functions/print_courses.html" onMouseOver="funcPopup(event,'print_courses')">print_courses</a>() is removed, please use course renderer');
<a name="l1665"><span class="linenum">1665</span></a>  }
<a name="l1666"><span class="linenum">1666</span></a>  
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">/**</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment"> *</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment"> * Please use course renderer to display a course information box.</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment"> * echo $renderer-&gt;courses_list($courses); // will print list of courses</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment"> * echo $renderer-&gt;course_info_box($course); // will print one course wrapped in div.generalbox</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment"> */</span>
<a name="l1675"><span class="linenum">1675</span></a>  function <a class="function" onClick="logFunction('print_course')" href="../_functions/print_course.html" onMouseOver="funcPopup(event,'print_course')">print_course</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it2611" onMouseOver="hilite(2611)" onMouseOut="lolite()" onClick="logVariable('highlightterms')" href="../_variables/highlightterms.html">$highlightterms</a> = '') {
<a name="l1676"><span class="linenum">1676</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('print_course')" href="../_functions/print_course.html" onMouseOver="funcPopup(event,'print_course')">print_course</a>() is removed, please use course renderer');
<a name="l1677"><span class="linenum">1677</span></a>  }
<a name="l1678"><span class="linenum">1678</span></a>  
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">/**</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment"> *</span>
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment"> * This function is not used any more in moodle core and course renderer does not have render function for it.</span>
<a name="l1683"><span class="linenum">1683</span></a>  <span class="comment"> * Combo list on the front page is displayed as:</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_combo_list()</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment"> *</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment"> * The new class {@link coursecat} stores the information about course category tree</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="comment"> * To get children categories use:</span>
<a name="l1689"><span class="linenum">1689</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_children()</span>
<a name="l1690"><span class="linenum">1690</span></a>  <span class="comment"> * To get list of courses use:</span>
<a name="l1691"><span class="linenum">1691</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses()</span>
<a name="l1692"><span class="linenum">1692</span></a>  <span class="comment"> */</span>
<a name="l1693"><span class="linenum">1693</span></a>  function <a class="function" onClick="logFunction('get_category_courses_array')" href="../_functions/get_category_courses_array.html" onMouseOver="funcPopup(event,'get_category_courses_array')">get_category_courses_array</a>(<a class="var it904" onMouseOver="hilite(904)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a> = 0) {
<a name="l1694"><span class="linenum">1694</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_category_courses_array')" href="../_functions/get_category_courses_array.html" onMouseOver="funcPopup(event,'get_category_courses_array')">get_category_courses_array</a>() is removed, please use methods of coursecat class');
<a name="l1695"><span class="linenum">1695</span></a>  }
<a name="l1696"><span class="linenum">1696</span></a>  
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">/**</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment"> */</span>
<a name="l1700"><span class="linenum">1700</span></a>  function <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>(array &amp;<a class="var it2612" onMouseOver="hilite(2612)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>, <a class="var it261" onMouseOver="hilite(261)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l1701"><span class="linenum">1701</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>() is removed, please use methods of coursecat class', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1702"><span class="linenum">1702</span></a>  }
<a name="l1703"><span class="linenum">1703</span></a>  
<a name="l1704"><span class="linenum">1704</span></a>  <span class="comment">/**</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment"> * @deprecated since Moodle 2.5 MDL-27814 - please do not use this function any more.</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment"> */</span>
<a name="l1707"><span class="linenum">1707</span></a>  function <a class="function" onClick="logFunction('blog_get_context_url')" href="../_functions/blog_get_context_url.html" onMouseOver="funcPopup(event,'blog_get_context_url')">blog_get_context_url</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>=null) {
<a name="l1708"><span class="linenum">1708</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function  <a class="function" onClick="logFunction('blog_get_context_url')" href="../_functions/blog_get_context_url.html" onMouseOver="funcPopup(event,'blog_get_context_url')">blog_get_context_url</a>() is removed, getting params from context is not reliable for blogs.');
<a name="l1709"><span class="linenum">1709</span></a>  }
<a name="l1710"><span class="linenum">1710</span></a>  
<a name="l1711"><span class="linenum">1711</span></a>  <span class="comment">/**</span>
<a name="l1712"><span class="linenum">1712</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1713"><span class="linenum">1713</span></a>  <span class="comment"> *</span>
<a name="l1714"><span class="linenum">1714</span></a>  <span class="comment"> * To get list of all courses with course contacts ('managers') use</span>
<a name="l1715"><span class="linenum">1715</span></a>  <span class="comment"> * coursecat::get(0)-&gt;get_courses(array('recursive' =&gt; true, 'coursecontacts' =&gt; true));</span>
<a name="l1716"><span class="linenum">1716</span></a>  <span class="comment"> *</span>
<a name="l1717"><span class="linenum">1717</span></a>  <span class="comment"> * To get list of courses inside particular category use</span>
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses(array('coursecontacts' =&gt; true));</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment"> *</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment"> * Additionally you can specify sort order, offset and maximum number of courses,</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment"> * see {@link coursecat::get_courses()}</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment"> */</span>
<a name="l1723"><span class="linenum">1723</span></a>  function <a class="function" onClick="logFunction('get_courses_wmanagers')" href="../_functions/get_courses_wmanagers.html" onMouseOver="funcPopup(event,'get_courses_wmanagers')">get_courses_wmanagers</a>(<a class="var it904" onMouseOver="hilite(904)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>=0, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>=&quot;c.sortorder ASC&quot;, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>=array()) {
<a name="l1724"><span class="linenum">1724</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('get_courses_wmanagers')" href="../_functions/get_courses_wmanagers.html" onMouseOver="funcPopup(event,'get_courses_wmanagers')">get_courses_wmanagers</a>() is removed, please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_courses')" href="../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>()');
<a name="l1725"><span class="linenum">1725</span></a>  }
<a name="l1726"><span class="linenum">1726</span></a>  
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment">/**</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment"> */</span>
<a name="l1730"><span class="linenum">1730</span></a>  function <a class="function" onClick="logFunction('convert_tree_to_html')" href="../_functions/convert_tree_to_html.html" onMouseOver="funcPopup(event,'convert_tree_to_html')">convert_tree_to_html</a>(<a class="var it2105" onMouseOver="hilite(2105)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>, <a class="var it57" onMouseOver="hilite(57)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>=0) {
<a name="l1731"><span class="linenum">1731</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('convert_tree_to_html')" href="../_functions/convert_tree_to_html.html" onMouseOver="funcPopup(event,'convert_tree_to_html')">convert_tree_to_html</a>() is removed. Consider using <span class="keyword">class </span><a class="class" onClick="logClass('tabtree')" href="../_classes/tabtree.html" onMouseOver="classPopup(event,'tabtree')">tabtree</a> and <a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a>::<a class="function" onClick="logFunction('render_tabtree')" href="../_functions/render_tabtree.html" onMouseOver="funcPopup(event,'render_tabtree')">render_tabtree</a>()');
<a name="l1732"><span class="linenum">1732</span></a>  }
<a name="l1733"><span class="linenum">1733</span></a>  
<a name="l1734"><span class="linenum">1734</span></a>  <span class="comment">/**</span>
<a name="l1735"><span class="linenum">1735</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1736"><span class="linenum">1736</span></a>  <span class="comment"> */</span>
<a name="l1737"><span class="linenum">1737</span></a>  function <a class="function" onClick="logFunction('convert_tabrows_to_tree')" href="../_functions/convert_tabrows_to_tree.html" onMouseOver="funcPopup(event,'convert_tabrows_to_tree')">convert_tabrows_to_tree</a>(<a class="var it2613" onMouseOver="hilite(2613)" onMouseOut="lolite()" onClick="logVariable('tabrows')" href="../_variables/tabrows.html">$tabrows</a>, <a class="var it569" onMouseOver="hilite(569)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it2443" onMouseOver="hilite(2443)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>, <a class="var it2444" onMouseOver="hilite(2444)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a>) {
<a name="l1738"><span class="linenum">1738</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('convert_tabrows_to_tree')" href="../_functions/convert_tabrows_to_tree.html" onMouseOver="funcPopup(event,'convert_tabrows_to_tree')">convert_tabrows_to_tree</a>() is removed. Consider using <span class="keyword">class </span><a class="class" onClick="logClass('tabtree')" href="../_classes/tabtree.html" onMouseOver="classPopup(event,'tabtree')">tabtree</a>');
<a name="l1739"><span class="linenum">1739</span></a>  }
<a name="l1740"><span class="linenum">1740</span></a>  
<a name="l1741"><span class="linenum">1741</span></a>  <span class="comment">/**</span>
<a name="l1742"><span class="linenum">1742</span></a>  <span class="comment"> * @deprecated since 2.5 - do not use, the textrotate.js will work it out automatically</span>
<a name="l1743"><span class="linenum">1743</span></a>  <span class="comment"> */</span>
<a name="l1744"><span class="linenum">1744</span></a>  function <a class="function" onClick="logFunction('can_use_rotated_text')" href="../_functions/can_use_rotated_text.html" onMouseOver="funcPopup(event,'can_use_rotated_text')">can_use_rotated_text</a>() {
<a name="l1745"><span class="linenum">1745</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('can_use_rotated_text')" href="../_functions/can_use_rotated_text.html" onMouseOver="funcPopup(event,'can_use_rotated_text')">can_use_rotated_text</a>() is removed. JS feature detection is used automatically.');
<a name="l1746"><span class="linenum">1746</span></a>  }
<a name="l1747"><span class="linenum">1747</span></a>  
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment">/**</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment"> * @deprecated since Moodle 2.2 MDL-35009 - please do not use this function any more.</span>
<a name="l1750"><span class="linenum">1750</span></a>  <span class="comment"> * @see context::instance_by_id($id)</span>
<a name="l1751"><span class="linenum">1751</span></a>  <span class="comment"> */</span>
<a name="l1752"><span class="linenum">1752</span></a>  function <a class="function" onClick="logFunction('get_context_instance_by_id')" href="../_functions/get_context_instance_by_id.html" onMouseOver="funcPopup(event,'get_context_instance_by_id')">get_context_instance_by_id</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a> = <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l1753"><span class="linenum">1753</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_context_instance_by_id')" href="../_functions/get_context_instance_by_id.html" onMouseOver="funcPopup(event,'get_context_instance_by_id')">get_context_instance_by_id</a>() is now removed, please use context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) instead.');
<a name="l1754"><span class="linenum">1754</span></a>  }
<a name="l1755"><span class="linenum">1755</span></a>  
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">/**</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment"> * Returns system context or null if can not be created yet.</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment"> *</span>
<a name="l1759"><span class="linenum">1759</span></a>  <span class="comment"> * @see context_system::instance()</span>
<a name="l1760"><span class="linenum">1760</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment"> * @param bool $cache use caching</span>
<a name="l1762"><span class="linenum">1762</span></a>  <span class="comment"> * @return context system context (null if context table not created yet)</span>
<a name="l1763"><span class="linenum">1763</span></a>  <span class="comment"> */</span>
<a name="l1764"><span class="linenum">1764</span></a>  function <a class="function" onClick="logFunction('get_system_context')" href="../_functions/get_system_context.html" onMouseOver="funcPopup(event,'get_system_context')">get_system_context</a>(<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a> = true) {
<a name="l1765"><span class="linenum">1765</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_system_context')" href="../_functions/get_system_context.html" onMouseOver="funcPopup(event,'get_system_context')">get_system_context</a>() is deprecated, please use <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1766"><span class="linenum">1766</span></a>      return <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(0, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>, <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>);
<a name="l1767"><span class="linenum">1767</span></a>  }
<a name="l1768"><span class="linenum">1768</span></a>  
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">/**</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment"> * @see context::get_parent_context_ids()</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment"> * @deprecated since 2.2, use $context-&gt;get_parent_context_ids() instead</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment"> */</span>
<a name="l1773"><span class="linenum">1773</span></a>  function <a class="function" onClick="logFunction('get_parent_contexts')" href="../_functions/get_parent_contexts.html" onMouseOver="funcPopup(event,'get_parent_contexts')">get_parent_contexts</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it2614" onMouseOver="hilite(2614)" onMouseOut="lolite()" onClick="logVariable('includeself')" href="../_variables/includeself.html">$includeself</a> = false) {
<a name="l1774"><span class="linenum">1774</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_parent_contexts')" href="../_functions/get_parent_contexts.html" onMouseOver="funcPopup(event,'get_parent_contexts')">get_parent_contexts</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>() instead.');
<a name="l1775"><span class="linenum">1775</span></a>  }
<a name="l1776"><span class="linenum">1776</span></a>  
<a name="l1777"><span class="linenum">1777</span></a>  <span class="comment">/**</span>
<a name="l1778"><span class="linenum">1778</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l1779"><span class="linenum">1779</span></a>  <span class="comment"> * @see context::get_parent_context()</span>
<a name="l1780"><span class="linenum">1780</span></a>  <span class="comment"> */</span>
<a name="l1781"><span class="linenum">1781</span></a>  function <a class="function" onClick="logFunction('get_parent_contextid')" href="../_functions/get_parent_contextid.html" onMouseOver="funcPopup(event,'get_parent_contextid')">get_parent_contextid</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1782"><span class="linenum">1782</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_parent_contextid')" href="../_functions/get_parent_contextid.html" onMouseOver="funcPopup(event,'get_parent_contextid')">get_parent_contextid</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context')" href="../_functions/get_parent_context.html" onMouseOver="funcPopup(event,'get_parent_context')">get_parent_context</a>() instead.');
<a name="l1783"><span class="linenum">1783</span></a>  }
<a name="l1784"><span class="linenum">1784</span></a>  
<a name="l1785"><span class="linenum">1785</span></a>  <span class="comment">/**</span>
<a name="l1786"><span class="linenum">1786</span></a>  <span class="comment"> * @see context::get_child_contexts()</span>
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment"> */</span>
<a name="l1789"><span class="linenum">1789</span></a>  function <a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1790"><span class="linenum">1790</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>() instead.');
<a name="l1791"><span class="linenum">1791</span></a>  }
<a name="l1792"><span class="linenum">1792</span></a>  
<a name="l1793"><span class="linenum">1793</span></a>  <span class="comment">/**</span>
<a name="l1794"><span class="linenum">1794</span></a>  <span class="comment"> * @see context_helper::create_instances()</span>
<a name="l1795"><span class="linenum">1795</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1796"><span class="linenum">1796</span></a>  <span class="comment"> */</span>
<a name="l1797"><span class="linenum">1797</span></a>  function <a class="function" onClick="logFunction('create_contexts')" href="../_functions/create_contexts.html" onMouseOver="funcPopup(event,'create_contexts')">create_contexts</a>(<a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a> = null, <a class="var it2615" onMouseOver="hilite(2615)" onMouseOut="lolite()" onClick="logVariable('buildpaths')" href="../_variables/buildpaths.html">$buildpaths</a> = true) {
<a name="l1798"><span class="linenum">1798</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('create_contexts')" href="../_functions/create_contexts.html" onMouseOver="funcPopup(event,'create_contexts')">create_contexts</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('create_instances')" href="../_functions/create_instances.html" onMouseOver="funcPopup(event,'create_instances')">create_instances</a>() instead.');
<a name="l1799"><span class="linenum">1799</span></a>  }
<a name="l1800"><span class="linenum">1800</span></a>  
<a name="l1801"><span class="linenum">1801</span></a>  <span class="comment">/**</span>
<a name="l1802"><span class="linenum">1802</span></a>  <span class="comment"> * @see context_helper::cleanup_instances()</span>
<a name="l1803"><span class="linenum">1803</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1804"><span class="linenum">1804</span></a>  <span class="comment"> */</span>
<a name="l1805"><span class="linenum">1805</span></a>  function <a class="function" onClick="logFunction('cleanup_contexts')" href="../_functions/cleanup_contexts.html" onMouseOver="funcPopup(event,'cleanup_contexts')">cleanup_contexts</a>() {
<a name="l1806"><span class="linenum">1806</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('cleanup_contexts')" href="../_functions/cleanup_contexts.html" onMouseOver="funcPopup(event,'cleanup_contexts')">cleanup_contexts</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('cleanup_instances')" href="../_functions/cleanup_instances.html" onMouseOver="funcPopup(event,'cleanup_instances')">cleanup_instances</a>() instead.');
<a name="l1807"><span class="linenum">1807</span></a>  }
<a name="l1808"><span class="linenum">1808</span></a>  
<a name="l1809"><span class="linenum">1809</span></a>  <span class="comment">/**</span>
<a name="l1810"><span class="linenum">1810</span></a>  <span class="comment"> * Populate context.path and context.depth where missing.</span>
<a name="l1811"><span class="linenum">1811</span></a>  <span class="comment"> *</span>
<a name="l1812"><span class="linenum">1812</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1813"><span class="linenum">1813</span></a>  <span class="comment"> */</span>
<a name="l1814"><span class="linenum">1814</span></a>  function <a class="function" onClick="logFunction('build_context_path')" href="../_functions/build_context_path.html" onMouseOver="funcPopup(event,'build_context_path')">build_context_path</a>(<a class="var it116" onMouseOver="hilite(116)" onMouseOut="lolite()" onClick="logVariable('force')" href="../_variables/force.html">$force</a> = false) {
<a name="l1815"><span class="linenum">1815</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('build_context_path')" href="../_functions/build_context_path.html" onMouseOver="funcPopup(event,'build_context_path')">build_context_path</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('build_all_paths')" href="../_functions/build_all_paths.html" onMouseOver="funcPopup(event,'build_all_paths')">build_all_paths</a>() instead.');
<a name="l1816"><span class="linenum">1816</span></a>  }
<a name="l1817"><span class="linenum">1817</span></a>  
<a name="l1818"><span class="linenum">1818</span></a>  <span class="comment">/**</span>
<a name="l1819"><span class="linenum">1819</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1820"><span class="linenum">1820</span></a>  <span class="comment"> */</span>
<a name="l1821"><span class="linenum">1821</span></a>  function <a class="function" onClick="logFunction('rebuild_contexts')" href="../_functions/rebuild_contexts.html" onMouseOver="funcPopup(event,'rebuild_contexts')">rebuild_contexts</a>(array <a class="var it2616" onMouseOver="hilite(2616)" onMouseOut="lolite()" onClick="logVariable('fixcontexts')" href="../_variables/fixcontexts.html">$fixcontexts</a>) {
<a name="l1822"><span class="linenum">1822</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('rebuild_contexts')" href="../_functions/rebuild_contexts.html" onMouseOver="funcPopup(event,'rebuild_contexts')">rebuild_contexts</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('reset_paths')" href="../_functions/reset_paths.html" onMouseOver="funcPopup(event,'reset_paths')">reset_paths</a>(true) instead.');
<a name="l1823"><span class="linenum">1823</span></a>  }
<a name="l1824"><span class="linenum">1824</span></a>  
<a name="l1825"><span class="linenum">1825</span></a>  <span class="comment">/**</span>
<a name="l1826"><span class="linenum">1826</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l1827"><span class="linenum">1827</span></a>  <span class="comment"> * @see context_helper::preload_course()</span>
<a name="l1828"><span class="linenum">1828</span></a>  <span class="comment"> */</span>
<a name="l1829"><span class="linenum">1829</span></a>  function <a class="function" onClick="logFunction('preload_course_contexts')" href="../_functions/preload_course_contexts.html" onMouseOver="funcPopup(event,'preload_course_contexts')">preload_course_contexts</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1830"><span class="linenum">1830</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('preload_course_contexts')" href="../_functions/preload_course_contexts.html" onMouseOver="funcPopup(event,'preload_course_contexts')">preload_course_contexts</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_course')" href="../_functions/preload_course.html" onMouseOver="funcPopup(event,'preload_course')">preload_course</a>() instead.');
<a name="l1831"><span class="linenum">1831</span></a>  }
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>  <span class="comment">/**</span>
<a name="l1834"><span class="linenum">1834</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l1835"><span class="linenum">1835</span></a>  <span class="comment"> * @see context::update_moved()</span>
<a name="l1836"><span class="linenum">1836</span></a>  <span class="comment"> */</span>
<a name="l1837"><span class="linenum">1837</span></a>  function <a class="function" onClick="logFunction('context_moved')" href="../_functions/context_moved.html" onMouseOver="funcPopup(event,'context_moved')">context_moved</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, context <a class="var it315" onMouseOver="hilite(315)" onMouseOut="lolite()" onClick="logVariable('newparent')" href="../_variables/newparent.html">$newparent</a>) {
<a name="l1838"><span class="linenum">1838</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('context_moved')" href="../_functions/context_moved.html" onMouseOver="funcPopup(event,'context_moved')">context_moved</a>() is removed, please use context::<a class="function" onClick="logFunction('update_moved')" href="../_functions/update_moved.html" onMouseOver="funcPopup(event,'update_moved')">update_moved</a>() instead.');
<a name="l1839"><span class="linenum">1839</span></a>  }
<a name="l1840"><span class="linenum">1840</span></a>  
<a name="l1841"><span class="linenum">1841</span></a>  <span class="comment">/**</span>
<a name="l1842"><span class="linenum">1842</span></a>  <span class="comment"> * @see context::get_capabilities()</span>
<a name="l1843"><span class="linenum">1843</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1844"><span class="linenum">1844</span></a>  <span class="comment"> */</span>
<a name="l1845"><span class="linenum">1845</span></a>  function <a class="function" onClick="logFunction('fetch_context_capabilities')" href="../_functions/fetch_context_capabilities.html" onMouseOver="funcPopup(event,'fetch_context_capabilities')">fetch_context_capabilities</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1846"><span class="linenum">1846</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('fetch_context_capabilities')" href="../_functions/fetch_context_capabilities.html" onMouseOver="funcPopup(event,'fetch_context_capabilities')">fetch_context_capabilities</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_capabilities')" href="../_functions/get_capabilities.html" onMouseOver="funcPopup(event,'get_capabilities')">get_capabilities</a>() instead.');
<a name="l1847"><span class="linenum">1847</span></a>  }
<a name="l1848"><span class="linenum">1848</span></a>  
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">/**</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment"> * @see context_helper::preload_from_record()</span>
<a name="l1852"><span class="linenum">1852</span></a>  <span class="comment"> */</span>
<a name="l1853"><span class="linenum">1853</span></a>  function <a class="function" onClick="logFunction('context_instance_preload')" href="../_functions/context_instance_preload.html" onMouseOver="funcPopup(event,'context_instance_preload')">context_instance_preload</a>(stdClass <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>) {
<a name="l1854"><span class="linenum">1854</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('context_instance_preload')" href="../_functions/context_instance_preload.html" onMouseOver="funcPopup(event,'context_instance_preload')">context_instance_preload</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>() instead.');
<a name="l1855"><span class="linenum">1855</span></a>  }
<a name="l1856"><span class="linenum">1856</span></a>  
<a name="l1857"><span class="linenum">1857</span></a>  <span class="comment">/**</span>
<a name="l1858"><span class="linenum">1858</span></a>  <span class="comment"> * Returns context level name</span>
<a name="l1859"><span class="linenum">1859</span></a>  <span class="comment"> *</span>
<a name="l1860"><span class="linenum">1860</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment"> * @see context_helper::get_level_name()</span>
<a name="l1862"><span class="linenum">1862</span></a>  <span class="comment"> */</span>
<a name="l1863"><span class="linenum">1863</span></a>  function <a class="function" onClick="logFunction('get_contextlevel_name')" href="../_functions/get_contextlevel_name.html" onMouseOver="funcPopup(event,'get_contextlevel_name')">get_contextlevel_name</a>(<a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>) {
<a name="l1864"><span class="linenum">1864</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_contextlevel_name')" href="../_functions/get_contextlevel_name.html" onMouseOver="funcPopup(event,'get_contextlevel_name')">get_contextlevel_name</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_level_name')" href="../_functions/get_level_name.html" onMouseOver="funcPopup(event,'get_level_name')">get_level_name</a>() instead.');
<a name="l1865"><span class="linenum">1865</span></a>  }
<a name="l1866"><span class="linenum">1866</span></a>  
<a name="l1867"><span class="linenum">1867</span></a>  <span class="comment">/**</span>
<a name="l1868"><span class="linenum">1868</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1869"><span class="linenum">1869</span></a>  <span class="comment"> * @see context::get_context_name()</span>
<a name="l1870"><span class="linenum">1870</span></a>  <span class="comment"> */</span>
<a name="l1871"><span class="linenum">1871</span></a>  function <a class="function" onClick="logFunction('print_context_name')" href="../_functions/print_context_name.html" onMouseOver="funcPopup(event,'print_context_name')">print_context_name</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it2617" onMouseOver="hilite(2617)" onMouseOut="lolite()" onClick="logVariable('withprefix')" href="../_variables/withprefix.html">$withprefix</a> = true, <a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../_variables/short.html">$short</a> = false) {
<a name="l1872"><span class="linenum">1872</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_context_name')" href="../_functions/print_context_name.html" onMouseOver="funcPopup(event,'print_context_name')">print_context_name</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_context_name')" href="../_functions/get_context_name.html" onMouseOver="funcPopup(event,'get_context_name')">get_context_name</a>() instead.');
<a name="l1873"><span class="linenum">1873</span></a>  }
<a name="l1874"><span class="linenum">1874</span></a>  
<a name="l1875"><span class="linenum">1875</span></a>  <span class="comment">/**</span>
<a name="l1876"><span class="linenum">1876</span></a>  <span class="comment"> * @deprecated since 2.2, use $context-&gt;mark_dirty() instead</span>
<a name="l1877"><span class="linenum">1877</span></a>  <span class="comment"> * @see context::mark_dirty()</span>
<a name="l1878"><span class="linenum">1878</span></a>  <span class="comment"> */</span>
<a name="l1879"><span class="linenum">1879</span></a>  function <a class="function" onClick="logFunction('mark_context_dirty')" href="../_functions/mark_context_dirty.html" onMouseOver="funcPopup(event,'mark_context_dirty')">mark_context_dirty</a>(<a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>) {
<a name="l1880"><span class="linenum">1880</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('mark_context_dirty')" href="../_functions/mark_context_dirty.html" onMouseOver="funcPopup(event,'mark_context_dirty')">mark_context_dirty</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('mark_dirty')" href="../_functions/mark_dirty.html" onMouseOver="funcPopup(event,'mark_dirty')">mark_dirty</a>() instead.');
<a name="l1881"><span class="linenum">1881</span></a>  }
<a name="l1882"><span class="linenum">1882</span></a>  
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">/**</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment"> * @see context_helper::delete_instance() or context::delete_content()</span>
<a name="l1886"><span class="linenum">1886</span></a>  <span class="comment"> */</span>
<a name="l1887"><span class="linenum">1887</span></a>  function <a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>(<a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it1184" onMouseOver="hilite(1184)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>, <a class="var it2619" onMouseOver="hilite(2619)" onMouseOut="lolite()" onClick="logVariable('deleterecord')" href="../_variables/deleterecord.html">$deleterecord</a> = true) {
<a name="l1888"><span class="linenum">1888</span></a>      if (<a class="var it2619" onMouseOver="hilite(2619)" onMouseOut="lolite()" onClick="logVariable('deleterecord')" href="../_variables/deleterecord.html">$deleterecord</a>) {
<a name="l1889"><span class="linenum">1889</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('delete_instance')" href="../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>() instead.');
<a name="l1890"><span class="linenum">1890</span></a>      } else {
<a name="l1891"><span class="linenum">1891</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('delete_content')" href="../_functions/delete_content.html" onMouseOver="funcPopup(event,'delete_content')">delete_content</a>() instead.');
<a name="l1892"><span class="linenum">1892</span></a>      }
<a name="l1893"><span class="linenum">1893</span></a>  }
<a name="l1894"><span class="linenum">1894</span></a>  
<a name="l1895"><span class="linenum">1895</span></a>  <span class="comment">/**</span>
<a name="l1896"><span class="linenum">1896</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1897"><span class="linenum">1897</span></a>  <span class="comment"> * @see context::get_url()</span>
<a name="l1898"><span class="linenum">1898</span></a>  <span class="comment"> */</span>
<a name="l1899"><span class="linenum">1899</span></a>  function <a class="function" onClick="logFunction('get_context_url')" href="../_functions/get_context_url.html" onMouseOver="funcPopup(event,'get_context_url')">get_context_url</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1900"><span class="linenum">1900</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_context_url')" href="../_functions/get_context_url.html" onMouseOver="funcPopup(event,'get_context_url')">get_context_url</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>() instead.');
<a name="l1901"><span class="linenum">1901</span></a>  }
<a name="l1902"><span class="linenum">1902</span></a>  
<a name="l1903"><span class="linenum">1903</span></a>  <span class="comment">/**</span>
<a name="l1904"><span class="linenum">1904</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1905"><span class="linenum">1905</span></a>  <span class="comment"> * @see context::get_course_context()</span>
<a name="l1906"><span class="linenum">1906</span></a>  <span class="comment"> */</span>
<a name="l1907"><span class="linenum">1907</span></a>  function <a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1908"><span class="linenum">1908</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(true) instead.');
<a name="l1909"><span class="linenum">1909</span></a>  }
<a name="l1910"><span class="linenum">1910</span></a>  
<a name="l1911"><span class="linenum">1911</span></a>  <span class="comment">/**</span>
<a name="l1912"><span class="linenum">1912</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment"> * @see enrol_get_users_courses()</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment"> */</span>
<a name="l1915"><span class="linenum">1915</span></a>  function <a class="function" onClick="logFunction('get_user_courses_bycap')" href="../_functions/get_user_courses_bycap.html" onMouseOver="funcPopup(event,'get_user_courses_bycap')">get_user_courses_bycap</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it2620" onMouseOver="hilite(2620)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>, <a class="var it2621" onMouseOver="hilite(2621)" onMouseOut="lolite()" onClick="logVariable('accessdata_ignored')" href="../_variables/accessdata_ignored.html">$accessdata_ignored</a>, <a class="var it2622" onMouseOver="hilite(2622)" onMouseOut="lolite()" onClick="logVariable('doanything_ignored')" href="../_variables/doanything_ignored.html">$doanything_ignored</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'c.sortorder ASC', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = null, <a class="var it2623" onMouseOver="hilite(2623)" onMouseOut="lolite()" onClick="logVariable('limit_ignored')" href="../_variables/limit_ignored.html">$limit_ignored</a> = 0) {
<a name="l1916"><span class="linenum">1916</span></a>  
<a name="l1917"><span class="linenum">1917</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_user_courses_bycap')" href="../_functions/get_user_courses_bycap.html" onMouseOver="funcPopup(event,'get_user_courses_bycap')">get_user_courses_bycap</a>() is removed, please use <a class="function" onClick="logFunction('enrol_get_users_courses')" href="../_functions/enrol_get_users_courses.html" onMouseOver="funcPopup(event,'enrol_get_users_courses')">enrol_get_users_courses</a>() instead.');
<a name="l1918"><span class="linenum">1918</span></a>  }
<a name="l1919"><span class="linenum">1919</span></a>  
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">/**</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment"> */</span>
<a name="l1923"><span class="linenum">1923</span></a>  function <a class="function" onClick="logFunction('get_role_context_caps')" href="../_functions/get_role_context_caps.html" onMouseOver="funcPopup(event,'get_role_context_caps')">get_role_context_caps</a>(<a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>, context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1924"><span class="linenum">1924</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_role_context_caps')" href="../_functions/get_role_context_caps.html" onMouseOver="funcPopup(event,'get_role_context_caps')">get_role_context_caps</a>() is removed, it is really slow. Don\'t use it.');
<a name="l1925"><span class="linenum">1925</span></a>  }
<a name="l1926"><span class="linenum">1926</span></a>  
<a name="l1927"><span class="linenum">1927</span></a>  <span class="comment">/**</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment"> * @see context::get_course_context()</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment"> */</span>
<a name="l1931"><span class="linenum">1931</span></a>  function <a class="function" onClick="logFunction('get_courseid_from_context')" href="../_functions/get_courseid_from_context.html" onMouseOver="funcPopup(event,'get_courseid_from_context')">get_courseid_from_context</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1932"><span class="linenum">1932</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_courseid_from_context')" href="../_functions/get_courseid_from_context.html" onMouseOver="funcPopup(event,'get_courseid_from_context')">get_courseid_from_context</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(false) instead.');
<a name="l1933"><span class="linenum">1933</span></a>  }
<a name="l1934"><span class="linenum">1934</span></a>  
<a name="l1935"><span class="linenum">1935</span></a>  <span class="comment">/**</span>
<a name="l1936"><span class="linenum">1936</span></a>  <span class="comment"> * If you are using this methid, you should have something like this:</span>
<a name="l1937"><span class="linenum">1937</span></a>  <span class="comment"> *</span>
<a name="l1938"><span class="linenum">1938</span></a>  <span class="comment"> *    list($ctxselect, $ctxjoin) = context_instance_preload_sql('c.id', CONTEXT_COURSE, 'ctx');</span>
<a name="l1939"><span class="linenum">1939</span></a>  <span class="comment"> *</span>
<a name="l1940"><span class="linenum">1940</span></a>  <span class="comment"> * To prevent the use of this deprecated function, replace the line above with something similar to this:</span>
<a name="l1941"><span class="linenum">1941</span></a>  <span class="comment"> *</span>
<a name="l1942"><span class="linenum">1942</span></a>  <span class="comment"> *    $ctxselect = ', ' . context_helper::get_preload_record_columns_sql('ctx');</span>
<a name="l1943"><span class="linenum">1943</span></a>  <span class="comment"> *                                                                        ^</span>
<a name="l1944"><span class="linenum">1944</span></a>  <span class="comment"> *    $ctxjoin = &quot;LEFT JOIN {context} ctx ON (ctx.instanceid = c.id AND ctx.contextlevel = :contextlevel)&quot;;</span>
<a name="l1945"><span class="linenum">1945</span></a>  <span class="comment"> *                                    ^       ^                ^        ^</span>
<a name="l1946"><span class="linenum">1946</span></a>  <span class="comment"> *    $params = array('contextlevel' =&gt; CONTEXT_COURSE);</span>
<a name="l1947"><span class="linenum">1947</span></a>  <span class="comment"> *                                      ^</span>
<a name="l1948"><span class="linenum">1948</span></a>  <span class="comment"> * @see context_helper:;get_preload_record_columns_sql()</span>
<a name="l1949"><span class="linenum">1949</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1950"><span class="linenum">1950</span></a>  <span class="comment"> */</span>
<a name="l1951"><span class="linenum">1951</span></a>  function <a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>(<a class="var it2624" onMouseOver="hilite(2624)" onMouseOut="lolite()" onClick="logVariable('joinon')" href="../_variables/joinon.html">$joinon</a>, <a class="var it28" onMouseOver="hilite(28)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it2625" onMouseOver="hilite(2625)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a>) {
<a name="l1952"><span class="linenum">1952</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>() is removed, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>() instead.');
<a name="l1953"><span class="linenum">1953</span></a>  }
<a name="l1954"><span class="linenum">1954</span></a>  
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">/**</span>
<a name="l1956"><span class="linenum">1956</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l1957"><span class="linenum">1957</span></a>  <span class="comment"> * @see context::get_parent_context_ids()</span>
<a name="l1958"><span class="linenum">1958</span></a>  <span class="comment"> */</span>
<a name="l1959"><span class="linenum">1959</span></a>  function <a class="function" onClick="logFunction('get_related_contexts_string')" href="../_functions/get_related_contexts_string.html" onMouseOver="funcPopup(event,'get_related_contexts_string')">get_related_contexts_string</a>(context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l1960"><span class="linenum">1960</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_related_contexts_string')" href="../_functions/get_related_contexts_string.html" onMouseOver="funcPopup(event,'get_related_contexts_string')">get_related_contexts_string</a>() is removed, please use <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(true) instead.');
<a name="l1961"><span class="linenum">1961</span></a>  }
<a name="l1962"><span class="linenum">1962</span></a>  
<a name="l1963"><span class="linenum">1963</span></a>  <span class="comment">/**</span>
<a name="l1964"><span class="linenum">1964</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l1965"><span class="linenum">1965</span></a>  <span class="comment"> * @see core_component::get_plugin_list_with_file()</span>
<a name="l1966"><span class="linenum">1966</span></a>  <span class="comment"> */</span>
<a name="l1967"><span class="linenum">1967</span></a>  function <a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>(<a class="var it2536" onMouseOver="hilite(2536)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it2626" onMouseOver="hilite(2626)" onMouseOut="lolite()" onClick="logVariable('include')" href="../_variables/include.html">$include</a> = false) {
<a name="l1968"><span class="linenum">1968</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>() is removed, please use <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>() instead.');
<a name="l1969"><span class="linenum">1969</span></a>  }
<a name="l1970"><span class="linenum">1970</span></a>  
<a name="l1971"><span class="linenum">1971</span></a>  <span class="comment">/**</span>
<a name="l1972"><span class="linenum">1972</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l1973"><span class="linenum">1973</span></a>  <span class="comment"> */</span>
<a name="l1974"><span class="linenum">1974</span></a>  function <a class="function" onClick="logFunction('check_browser_operating_system')" href="../_functions/check_browser_operating_system.html" onMouseOver="funcPopup(event,'check_browser_operating_system')">check_browser_operating_system</a>(<a class="var it1460" onMouseOver="hilite(1460)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>) {
<a name="l1975"><span class="linenum">1975</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('check_browser_operating_system is removed, please update your code to use core_useragent instead.');
<a name="l1976"><span class="linenum">1976</span></a>  }
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>  <span class="comment">/**</span>
<a name="l1979"><span class="linenum">1979</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l1980"><span class="linenum">1980</span></a>  <span class="comment"> */</span>
<a name="l1981"><span class="linenum">1981</span></a>  function <a class="function" onClick="logFunction('check_browser_version')" href="../_functions/check_browser_version.html" onMouseOver="funcPopup(event,'check_browser_version')">check_browser_version</a>(<a class="var it1460" onMouseOver="hilite(1460)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = null) {
<a name="l1982"><span class="linenum">1982</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('check_browser_version is removed, please update your code to use core_useragent instead.');
<a name="l1983"><span class="linenum">1983</span></a>  }
<a name="l1984"><span class="linenum">1984</span></a>  
<a name="l1985"><span class="linenum">1985</span></a>  <span class="comment">/**</span>
<a name="l1986"><span class="linenum">1986</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l1987"><span class="linenum">1987</span></a>  <span class="comment"> */</span>
<a name="l1988"><span class="linenum">1988</span></a>  function <a class="function" onClick="logFunction('get_device_type')" href="../_functions/get_device_type.html" onMouseOver="funcPopup(event,'get_device_type')">get_device_type</a>() {
<a name="l1989"><span class="linenum">1989</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_device_type is removed, please update your code to use core_useragent instead.');
<a name="l1990"><span class="linenum">1990</span></a>  }
<a name="l1991"><span class="linenum">1991</span></a>  
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">/**</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment"> */</span>
<a name="l1995"><span class="linenum">1995</span></a>  function <a class="function" onClick="logFunction('get_device_type_list')" href="../_functions/get_device_type_list.html" onMouseOver="funcPopup(event,'get_device_type_list')">get_device_type_list</a>(<a class="var it2627" onMouseOver="hilite(2627)" onMouseOut="lolite()" onClick="logVariable('incusertypes')" href="../_variables/incusertypes.html">$incusertypes</a> = true) {
<a name="l1996"><span class="linenum">1996</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_device_type_list is removed, please update your code to use core_useragent instead.');
<a name="l1997"><span class="linenum">1997</span></a>  }
<a name="l1998"><span class="linenum">1998</span></a>  
<a name="l1999"><span class="linenum">1999</span></a>  <span class="comment">/**</span>
<a name="l2000"><span class="linenum">2000</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment"> */</span>
<a name="l2002"><span class="linenum">2002</span></a>  function <a class="function" onClick="logFunction('get_selected_theme_for_device_type')" href="../_functions/get_selected_theme_for_device_type.html" onMouseOver="funcPopup(event,'get_selected_theme_for_device_type')">get_selected_theme_for_device_type</a>(<a class="var it1444" onMouseOver="hilite(1444)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = null) {
<a name="l2003"><span class="linenum">2003</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_selected_theme_for_device_type is removed, please update your code to use core_useragent instead.');
<a name="l2004"><span class="linenum">2004</span></a>  }
<a name="l2005"><span class="linenum">2005</span></a>  
<a name="l2006"><span class="linenum">2006</span></a>  <span class="comment">/**</span>
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2008"><span class="linenum">2008</span></a>  <span class="comment"> */</span>
<a name="l2009"><span class="linenum">2009</span></a>  function <a class="function" onClick="logFunction('get_device_cfg_var_name')" href="../_functions/get_device_cfg_var_name.html" onMouseOver="funcPopup(event,'get_device_cfg_var_name')">get_device_cfg_var_name</a>(<a class="var it1444" onMouseOver="hilite(1444)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = null) {
<a name="l2010"><span class="linenum">2010</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_device_cfg_var_name is removed, please update your code to use core_useragent instead.');
<a name="l2011"><span class="linenum">2011</span></a>  }
<a name="l2012"><span class="linenum">2012</span></a>  
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">/**</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2015"><span class="linenum">2015</span></a>  <span class="comment"> */</span>
<a name="l2016"><span class="linenum">2016</span></a>  function <a class="function" onClick="logFunction('set_user_device_type')" href="../_functions/set_user_device_type.html" onMouseOver="funcPopup(event,'set_user_device_type')">set_user_device_type</a>(<a class="var it1459" onMouseOver="hilite(1459)" onMouseOut="lolite()" onClick="logVariable('newdevice')" href="../_variables/newdevice.html">$newdevice</a>) {
<a name="l2017"><span class="linenum">2017</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('set_user_device_type is removed, please update your code to use core_useragent instead.');
<a name="l2018"><span class="linenum">2018</span></a>  }
<a name="l2019"><span class="linenum">2019</span></a>  
<a name="l2020"><span class="linenum">2020</span></a>  <span class="comment">/**</span>
<a name="l2021"><span class="linenum">2021</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2022"><span class="linenum">2022</span></a>  <span class="comment"> */</span>
<a name="l2023"><span class="linenum">2023</span></a>  function <a class="function" onClick="logFunction('get_user_device_type')" href="../_functions/get_user_device_type.html" onMouseOver="funcPopup(event,'get_user_device_type')">get_user_device_type</a>() {
<a name="l2024"><span class="linenum">2024</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_user_device_type is removed, please update your code to use core_useragent instead.');
<a name="l2025"><span class="linenum">2025</span></a>  }
<a name="l2026"><span class="linenum">2026</span></a>  
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment">/**</span>
<a name="l2028"><span class="linenum">2028</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2029"><span class="linenum">2029</span></a>  <span class="comment"> */</span>
<a name="l2030"><span class="linenum">2030</span></a>  function <a class="function" onClick="logFunction('get_browser_version_classes')" href="../_functions/get_browser_version_classes.html" onMouseOver="funcPopup(event,'get_browser_version_classes')">get_browser_version_classes</a>() {
<a name="l2031"><span class="linenum">2031</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('get_browser_version_classes is removed, please update your code to use core_useragent instead.');
<a name="l2032"><span class="linenum">2032</span></a>  }
<a name="l2033"><span class="linenum">2033</span></a>  
<a name="l2034"><span class="linenum">2034</span></a>  <span class="comment">/**</span>
<a name="l2035"><span class="linenum">2035</span></a>  <span class="comment"> * @deprecated since Moodle 2.6</span>
<a name="l2036"><span class="linenum">2036</span></a>  <span class="comment"> * @see core_user::get_support_user()</span>
<a name="l2037"><span class="linenum">2037</span></a>  <span class="comment"> */</span>
<a name="l2038"><span class="linenum">2038</span></a>  function <a class="function" onClick="logFunction('generate_email_supportuser')" href="../_functions/generate_email_supportuser.html" onMouseOver="funcPopup(event,'generate_email_supportuser')">generate_email_supportuser</a>() {
<a name="l2039"><span class="linenum">2039</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('generate_email_supportuser is removed, please use <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::get_support_user');
<a name="l2040"><span class="linenum">2040</span></a>  }
<a name="l2041"><span class="linenum">2041</span></a>  
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment">/**</span>
<a name="l2043"><span class="linenum">2043</span></a>  <span class="comment"> * @deprecated since Moodle 2.6</span>
<a name="l2044"><span class="linenum">2044</span></a>  <span class="comment"> */</span>
<a name="l2045"><span class="linenum">2045</span></a>  function <a class="function" onClick="logFunction('badges_get_issued_badge_info')" href="../_functions/badges_get_issued_badge_info.html" onMouseOver="funcPopup(event,'badges_get_issued_badge_info')">badges_get_issued_badge_info</a>(<a class="var it928" onMouseOver="hilite(928)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../_variables/hash.html">$hash</a>) {
<a name="l2046"><span class="linenum">2046</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('badges_get_issued_badge_info')" href="../_functions/badges_get_issued_badge_info.html" onMouseOver="funcPopup(event,'badges_get_issued_badge_info')">badges_get_issued_badge_info</a>() is removed. Please use core_badges_assertion class and methods to generate badge assertion.');
<a name="l2047"><span class="linenum">2047</span></a>  }
<a name="l2048"><span class="linenum">2048</span></a>  
<a name="l2049"><span class="linenum">2049</span></a>  <span class="comment">/**</span>
<a name="l2050"><span class="linenum">2050</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l2051"><span class="linenum">2051</span></a>  <span class="comment"> */</span>
<a name="l2052"><span class="linenum">2052</span></a>  function <a class="function" onClick="logFunction('can_use_html_editor')" href="../_functions/can_use_html_editor.html" onMouseOver="funcPopup(event,'can_use_html_editor')">can_use_html_editor</a>() {
<a name="l2053"><span class="linenum">2053</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('can_use_html_editor is removed, please update your code to assume it returns true.');
<a name="l2054"><span class="linenum">2054</span></a>  }
<a name="l2055"><span class="linenum">2055</span></a>  
<a name="l2056"><span class="linenum">2056</span></a>  
<a name="l2057"><span class="linenum">2057</span></a>  <span class="comment">/**</span>
<a name="l2058"><span class="linenum">2058</span></a>  <span class="comment"> * @deprecated since Moodle 2.7, use {@link user_count_login_failures()} instead.</span>
<a name="l2059"><span class="linenum">2059</span></a>  <span class="comment"> */</span>
<a name="l2060"><span class="linenum">2060</span></a>  function <a class="function" onClick="logFunction('count_login_failures')" href="../_functions/count_login_failures.html" onMouseOver="funcPopup(event,'count_login_failures')">count_login_failures</a>(<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, <a class="var it200" onMouseOver="hilite(200)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a>, <a class="var it1060" onMouseOver="hilite(1060)" onMouseOut="lolite()" onClick="logVariable('lastlogin')" href="../_variables/lastlogin.html">$lastlogin</a>) {
<a name="l2061"><span class="linenum">2061</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('count_login_failures')" href="../_functions/count_login_failures.html" onMouseOver="funcPopup(event,'count_login_failures')">count_login_failures</a>() can not be used any more, please use <a class="function" onClick="logFunction('user_count_login_failures')" href="../_functions/user_count_login_failures.html" onMouseOver="funcPopup(event,'user_count_login_failures')">user_count_login_failures</a>().');
<a name="l2062"><span class="linenum">2062</span></a>  }
<a name="l2063"><span class="linenum">2063</span></a>  
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">/**</span>
<a name="l2065"><span class="linenum">2065</span></a>  <span class="comment"> * @deprecated since 2.7 MDL-33099/MDL-44088 - please do not use this function any more.</span>
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment"> */</span>
<a name="l2067"><span class="linenum">2067</span></a>  function <a class="function" onClick="logFunction('ajaxenabled')" href="../_functions/ajaxenabled.html" onMouseOver="funcPopup(event,'ajaxenabled')">ajaxenabled</a>(array <a class="var it2628" onMouseOver="hilite(2628)" onMouseOut="lolite()" onClick="logVariable('browsers')" href="../_variables/browsers.html">$browsers</a> = null) {
<a name="l2068"><span class="linenum">2068</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('ajaxenabled')" href="../_functions/ajaxenabled.html" onMouseOver="funcPopup(event,'ajaxenabled')">ajaxenabled</a>() can not be used anymore. Update your code to work with JS at all times.');
<a name="l2069"><span class="linenum">2069</span></a>  }
<a name="l2070"><span class="linenum">2070</span></a>  
<a name="l2071"><span class="linenum">2071</span></a>  <span class="comment">/**</span>
<a name="l2072"><span class="linenum">2072</span></a>  <span class="comment"> * @deprecated Since Moodle 2.7 MDL-44070</span>
<a name="l2073"><span class="linenum">2073</span></a>  <span class="comment"> */</span>
<a name="l2074"><span class="linenum">2074</span></a>  function <a class="function" onClick="logFunction('coursemodule_visible_for_user')" href="../_functions/coursemodule_visible_for_user.html" onMouseOver="funcPopup(event,'coursemodule_visible_for_user')">coursemodule_visible_for_user</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0) {
<a name="l2075"><span class="linenum">2075</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('coursemodule_visible_for_user')" href="../_functions/coursemodule_visible_for_user.html" onMouseOver="funcPopup(event,'coursemodule_visible_for_user')">coursemodule_visible_for_user</a>() can not be used any more,
<a name="l2076"><span class="linenum">2076</span></a>              please use \core_availability\<a class="class" onClick="logClass('info_module')" href="../_classes/info_module.html" onMouseOver="classPopup(event,'info_module')">info_module</a>::<a class="function" onClick="logFunction('is_user_visible')" href="../_functions/is_user_visible.html" onMouseOver="funcPopup(event,'is_user_visible')">is_user_visible</a>()');
<a name="l2077"><span class="linenum">2077</span></a>  }
<a name="l2078"><span class="linenum">2078</span></a>  
<a name="l2079"><span class="linenum">2079</span></a>  <span class="comment">/**</span>
<a name="l2080"><span class="linenum">2080</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014, MDL-35618 this functionality is removed</span>
<a name="l2081"><span class="linenum">2081</span></a>  <span class="comment"> */</span>
<a name="l2082"><span class="linenum">2082</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_get_cohorts')" href="../_functions/enrol_cohort_get_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_get_cohorts')">enrol_cohort_get_cohorts</a>(course_enrolment_manager <a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>) {
<a name="l2083"><span class="linenum">2083</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('enrol_cohort_get_cohorts')" href="../_functions/enrol_cohort_get_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_get_cohorts')">enrol_cohort_get_cohorts</a>() is removed, use <a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>() or '.
<a name="l2084"><span class="linenum">2084</span></a>          '<a class="function" onClick="logFunction('cohort_get_available_cohorts')" href="../_functions/cohort_get_available_cohorts.html" onMouseOver="funcPopup(event,'cohort_get_available_cohorts')">cohort_get_available_cohorts</a>() instead');
<a name="l2085"><span class="linenum">2085</span></a>  }
<a name="l2086"><span class="linenum">2086</span></a>  
<a name="l2087"><span class="linenum">2087</span></a>  <span class="comment">/**</span>
<a name="l2088"><span class="linenum">2088</span></a>  <span class="comment"> * This function is deprecated, use {@link cohort_can_view_cohort()} instead since it also</span>
<a name="l2089"><span class="linenum">2089</span></a>  <span class="comment"> * takes into account current context</span>
<a name="l2090"><span class="linenum">2090</span></a>  <span class="comment"> *</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014 please use cohort_can_view_cohort()</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment"> */</span>
<a name="l2093"><span class="linenum">2093</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_can_view_cohort')" href="../_functions/enrol_cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'enrol_cohort_can_view_cohort')">enrol_cohort_can_view_cohort</a>(<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>) {
<a name="l2094"><span class="linenum">2094</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('enrol_cohort_can_view_cohort')" href="../_functions/enrol_cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'enrol_cohort_can_view_cohort')">enrol_cohort_can_view_cohort</a>() is removed, use <a class="function" onClick="logFunction('cohort_can_view_cohort')" href="../_functions/cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'cohort_can_view_cohort')">cohort_can_view_cohort</a>() instead');
<a name="l2095"><span class="linenum">2095</span></a>  }
<a name="l2096"><span class="linenum">2096</span></a>  
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment">/**</span>
<a name="l2098"><span class="linenum">2098</span></a>  <span class="comment"> * It is advisable to use {@link cohort_get_available_cohorts()} instead.</span>
<a name="l2099"><span class="linenum">2099</span></a>  <span class="comment"> *</span>
<a name="l2100"><span class="linenum">2100</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014 use cohort_get_available_cohorts() instead</span>
<a name="l2101"><span class="linenum">2101</span></a>  <span class="comment"> */</span>
<a name="l2102"><span class="linenum">2102</span></a>  function <a class="function" onClick="logFunction('cohort_get_visible_list')" href="../_functions/cohort_get_visible_list.html" onMouseOver="funcPopup(event,'cohort_get_visible_list')">cohort_get_visible_list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it2630" onMouseOver="hilite(2630)" onMouseOut="lolite()" onClick="logVariable('onlyenrolled')" href="../_variables/onlyenrolled.html">$onlyenrolled</a>=true) {
<a name="l2103"><span class="linenum">2103</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Function <a class="function" onClick="logFunction('cohort_get_visible_list')" href="../_functions/cohort_get_visible_list.html" onMouseOver="funcPopup(event,'cohort_get_visible_list')">cohort_get_visible_list</a>() is removed. Please use function <a class="function" onClick="logFunction('cohort_get_available_cohorts')" href="../_functions/cohort_get_available_cohorts.html" onMouseOver="funcPopup(event,'cohort_get_available_cohorts')">cohort_get_available_cohorts</a>() &quot;.
<a name="l2104"><span class="linenum">2104</span></a>          &quot;that correctly checks capabilities.');
<a name="l2105"><span class="linenum">2105</span></a>  }
<a name="l2106"><span class="linenum">2106</span></a>  
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment">/**</span>
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-35618 this functionality is removed</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment"> */</span>
<a name="l2110"><span class="linenum">2110</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_enrol_all_users')" href="../_functions/enrol_cohort_enrol_all_users.html" onMouseOver="funcPopup(event,'enrol_cohort_enrol_all_users')">enrol_cohort_enrol_all_users</a>(course_enrolment_manager <a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, <a class="var it788" onMouseOver="hilite(788)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>) {
<a name="l2111"><span class="linenum">2111</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('enrol_cohort_enrol_all_users')" href="../_functions/enrol_cohort_enrol_all_users.html" onMouseOver="funcPopup(event,'enrol_cohort_enrol_all_users')">enrol_cohort_enrol_all_users</a>() is removed. This functionality is moved to enrol_manual.');
<a name="l2112"><span class="linenum">2112</span></a>  }
<a name="l2113"><span class="linenum">2113</span></a>  
<a name="l2114"><span class="linenum">2114</span></a>  <span class="comment">/**</span>
<a name="l2115"><span class="linenum">2115</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-35618 this functionality is removed</span>
<a name="l2116"><span class="linenum">2116</span></a>  <span class="comment"> */</span>
<a name="l2117"><span class="linenum">2117</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>(course_enrolment_manager <a class="var it1045" onMouseOver="hilite(1045)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../_variables/offset.html">$offset</a> = 0, <a class="var it1051" onMouseOver="hilite(1051)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../_variables/limit.html">$limit</a> = 25, <a class="var it228" onMouseOver="hilite(228)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a> = '') {
<a name="l2118"><span class="linenum">2118</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>() is removed. This functionality is moved to enrol_manual.');
<a name="l2119"><span class="linenum">2119</span></a>  }
<a name="l2120"><span class="linenum">2120</span></a>  
<a name="l2121"><span class="linenum">2121</span></a>  <span class="comment">/* === Apis deprecated in since Moodle 2.9 === */</span>
<a name="l2122"><span class="linenum">2122</span></a>  
<a name="l2123"><span class="linenum">2123</span></a>  <span class="comment">/**</span>
<a name="l2124"><span class="linenum">2124</span></a>  <span class="comment"> * Is $USER one of the supplied users?</span>
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment"> *</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment"> * $user2 will be null if viewing a user's recent conversations</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment"> *</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-49371 - please do not use this function any more.</span>
<a name="l2129"><span class="linenum">2129</span></a>  <span class="comment"> */</span>
<a name="l2130"><span class="linenum">2130</span></a>  function <a class="function" onClick="logFunction('message_current_user_is_involved')" href="../_functions/message_current_user_is_involved.html" onMouseOver="funcPopup(event,'message_current_user_is_involved')">message_current_user_is_involved</a>(<a class="var it685" onMouseOver="hilite(685)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../_variables/user1.html">$user1</a>, <a class="var it686" onMouseOver="hilite(686)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>) {
<a name="l2131"><span class="linenum">2131</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('message_current_user_is_involved')" href="../_functions/message_current_user_is_involved.html" onMouseOver="funcPopup(event,'message_current_user_is_involved')">message_current_user_is_involved</a>() can not be used any more.');
<a name="l2132"><span class="linenum">2132</span></a>  }
<a name="l2133"><span class="linenum">2133</span></a>  
<a name="l2134"><span class="linenum">2134</span></a>  <span class="comment">/**</span>
<a name="l2135"><span class="linenum">2135</span></a>  <span class="comment"> * Print badges on user profile page.</span>
<a name="l2136"><span class="linenum">2136</span></a>  <span class="comment"> *</span>
<a name="l2137"><span class="linenum">2137</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-45898 - please do not use this function any more.</span>
<a name="l2138"><span class="linenum">2138</span></a>  <span class="comment"> */</span>
<a name="l2139"><span class="linenum">2139</span></a>  function <a class="function" onClick="logFunction('profile_display_badges')" href="../_functions/profile_display_badges.html" onMouseOver="funcPopup(event,'profile_display_badges')">profile_display_badges</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = 0) {
<a name="l2140"><span class="linenum">2140</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('profile_display_badges')" href="../_functions/profile_display_badges.html" onMouseOver="funcPopup(event,'profile_display_badges')">profile_display_badges</a>() can not be used any more.');
<a name="l2141"><span class="linenum">2141</span></a>  }
<a name="l2142"><span class="linenum">2142</span></a>  
<a name="l2143"><span class="linenum">2143</span></a>  <span class="comment">/**</span>
<a name="l2144"><span class="linenum">2144</span></a>  <span class="comment"> * Adds user preferences elements to user edit form.</span>
<a name="l2145"><span class="linenum">2145</span></a>  <span class="comment"> *</span>
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-45774 - Please do not use this function any more.</span>
<a name="l2147"><span class="linenum">2147</span></a>  <span class="comment"> */</span>
<a name="l2148"><span class="linenum">2148</span></a>  function <a class="function" onClick="logFunction('useredit_shared_definition_preferences')" href="../_functions/useredit_shared_definition_preferences.html" onMouseOver="funcPopup(event,'useredit_shared_definition_preferences')">useredit_shared_definition_preferences</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, &amp;<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>, <a class="var it2631" onMouseOver="hilite(2631)" onMouseOut="lolite()" onClick="logVariable('editoroptions')" href="../_variables/editoroptions.html">$editoroptions</a> = null, <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('filemanageroptions')" href="../_variables/filemanageroptions.html">$filemanageroptions</a> = null) {
<a name="l2149"><span class="linenum">2149</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('useredit_shared_definition_preferences')" href="../_functions/useredit_shared_definition_preferences.html" onMouseOver="funcPopup(event,'useredit_shared_definition_preferences')">useredit_shared_definition_preferences</a>() can not be used any more.');
<a name="l2150"><span class="linenum">2150</span></a>  }
<a name="l2151"><span class="linenum">2151</span></a>  
<a name="l2152"><span class="linenum">2152</span></a>  
<a name="l2153"><span class="linenum">2153</span></a>  <span class="comment">/**</span>
<a name="l2154"><span class="linenum">2154</span></a>  <span class="comment"> * Convert region timezone to php supported timezone</span>
<a name="l2155"><span class="linenum">2155</span></a>  <span class="comment"> *</span>
<a name="l2156"><span class="linenum">2156</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2157"><span class="linenum">2157</span></a>  <span class="comment"> */</span>
<a name="l2158"><span class="linenum">2158</span></a>  function <a class="function" onClick="logFunction('calendar_normalize_tz')" href="../_functions/calendar_normalize_tz.html" onMouseOver="funcPopup(event,'calendar_normalize_tz')">calendar_normalize_tz</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>) {
<a name="l2159"><span class="linenum">2159</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('calendar_normalize_tz')" href="../_functions/calendar_normalize_tz.html" onMouseOver="funcPopup(event,'calendar_normalize_tz')">calendar_normalize_tz</a>() can not be used any more, please use <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('normalise_timezone')" href="../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>() instead.');
<a name="l2160"><span class="linenum">2160</span></a>  }
<a name="l2161"><span class="linenum">2161</span></a>  
<a name="l2162"><span class="linenum">2162</span></a>  <span class="comment">/**</span>
<a name="l2163"><span class="linenum">2163</span></a>  <span class="comment"> * Returns a float which represents the user's timezone difference from GMT in hours</span>
<a name="l2164"><span class="linenum">2164</span></a>  <span class="comment"> * Checks various settings and picks the most dominant of those which have a value</span>
<a name="l2165"><span class="linenum">2165</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2166"><span class="linenum">2166</span></a>  <span class="comment"> */</span>
<a name="l2167"><span class="linenum">2167</span></a>  function <a class="function" onClick="logFunction('get_user_timezone_offset')" href="../_functions/get_user_timezone_offset.html" onMouseOver="funcPopup(event,'get_user_timezone_offset')">get_user_timezone_offset</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a> = 99) {
<a name="l2168"><span class="linenum">2168</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_user_timezone_offset')" href="../_functions/get_user_timezone_offset.html" onMouseOver="funcPopup(event,'get_user_timezone_offset')">get_user_timezone_offset</a>() can not be used any more, please use standard PHP DateTimeZone class instead');
<a name="l2169"><span class="linenum">2169</span></a>  
<a name="l2170"><span class="linenum">2170</span></a>  }
<a name="l2171"><span class="linenum">2171</span></a>  
<a name="l2172"><span class="linenum">2172</span></a>  <span class="comment">/**</span>
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment"> * Returns an int which represents the systems's timezone difference from GMT in seconds</span>
<a name="l2174"><span class="linenum">2174</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment"> */</span>
<a name="l2176"><span class="linenum">2176</span></a>  function <a class="function" onClick="logFunction('get_timezone_offset')" href="../_functions/get_timezone_offset.html" onMouseOver="funcPopup(event,'get_timezone_offset')">get_timezone_offset</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>) {
<a name="l2177"><span class="linenum">2177</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_timezone_offset')" href="../_functions/get_timezone_offset.html" onMouseOver="funcPopup(event,'get_timezone_offset')">get_timezone_offset</a>() can not be used any more, please use standard PHP DateTimeZone class instead');
<a name="l2178"><span class="linenum">2178</span></a>  }
<a name="l2179"><span class="linenum">2179</span></a>  
<a name="l2180"><span class="linenum">2180</span></a>  <span class="comment">/**</span>
<a name="l2181"><span class="linenum">2181</span></a>  <span class="comment"> * Returns a list of timezones in the current language.</span>
<a name="l2182"><span class="linenum">2182</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2183"><span class="linenum">2183</span></a>  <span class="comment"> */</span>
<a name="l2184"><span class="linenum">2184</span></a>  function <a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() {
<a name="l2185"><span class="linenum">2185</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() can not be used any more, please use <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() instead');
<a name="l2186"><span class="linenum">2186</span></a>  }
<a name="l2187"><span class="linenum">2187</span></a>  
<a name="l2188"><span class="linenum">2188</span></a>  <span class="comment">/**</span>
<a name="l2189"><span class="linenum">2189</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l2190"><span class="linenum">2190</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2191"><span class="linenum">2191</span></a>  <span class="comment"> */</span>
<a name="l2192"><span class="linenum">2192</span></a>  function <a class="function" onClick="logFunction('update_timezone_records')" href="../_functions/update_timezone_records.html" onMouseOver="funcPopup(event,'update_timezone_records')">update_timezone_records</a>(<a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../_variables/timezones.html">$timezones</a>) {
<a name="l2193"><span class="linenum">2193</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('update_timezone_records')" href="../_functions/update_timezone_records.html" onMouseOver="funcPopup(event,'update_timezone_records')">update_timezone_records</a>() can not be used any more, please use standard PHP DateTime class instead');
<a name="l2194"><span class="linenum">2194</span></a>  }
<a name="l2195"><span class="linenum">2195</span></a>  
<a name="l2196"><span class="linenum">2196</span></a>  <span class="comment">/**</span>
<a name="l2197"><span class="linenum">2197</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l2198"><span class="linenum">2198</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2199"><span class="linenum">2199</span></a>  <span class="comment"> */</span>
<a name="l2200"><span class="linenum">2200</span></a>  function <a class="function" onClick="logFunction('calculate_user_dst_table')" href="../_functions/calculate_user_dst_table.html" onMouseOver="funcPopup(event,'calculate_user_dst_table')">calculate_user_dst_table</a>(<a class="var it2634" onMouseOver="hilite(2634)" onMouseOut="lolite()" onClick="logVariable('fromyear')" href="../_variables/fromyear.html">$fromyear</a> = null, <a class="var it2635" onMouseOver="hilite(2635)" onMouseOut="lolite()" onClick="logVariable('toyear')" href="../_variables/toyear.html">$toyear</a> = null, <a class="var it2636" onMouseOver="hilite(2636)" onMouseOut="lolite()" onClick="logVariable('strtimezone')" href="../_variables/strtimezone.html">$strtimezone</a> = null) {
<a name="l2201"><span class="linenum">2201</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('calculate_user_dst_table')" href="../_functions/calculate_user_dst_table.html" onMouseOver="funcPopup(event,'calculate_user_dst_table')">calculate_user_dst_table</a>() can not be used any more, please use standard PHP DateTime class instead');
<a name="l2202"><span class="linenum">2202</span></a>  }
<a name="l2203"><span class="linenum">2203</span></a>  
<a name="l2204"><span class="linenum">2204</span></a>  <span class="comment">/**</span>
<a name="l2205"><span class="linenum">2205</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l2206"><span class="linenum">2206</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2207"><span class="linenum">2207</span></a>  <span class="comment"> */</span>
<a name="l2208"><span class="linenum">2208</span></a>  function <a class="function" onClick="logFunction('dst_changes_for_year')" href="../_functions/dst_changes_for_year.html" onMouseOver="funcPopup(event,'dst_changes_for_year')">dst_changes_for_year</a>(<a class="var it1760" onMouseOver="hilite(1760)" onMouseOut="lolite()" onClick="logVariable('year')" href="../_variables/year.html">$year</a>, <a class="var it1762" onMouseOver="hilite(1762)" onMouseOut="lolite()" onClick="logVariable('timezone')" href="../_variables/timezone.html">$timezone</a>) {
<a name="l2209"><span class="linenum">2209</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('dst_changes_for_year')" href="../_functions/dst_changes_for_year.html" onMouseOver="funcPopup(event,'dst_changes_for_year')">dst_changes_for_year</a>() can not be used any more, please use standard DateTime class instead');
<a name="l2210"><span class="linenum">2210</span></a>  }
<a name="l2211"><span class="linenum">2211</span></a>  
<a name="l2212"><span class="linenum">2212</span></a>  <span class="comment">/**</span>
<a name="l2213"><span class="linenum">2213</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l2214"><span class="linenum">2214</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l2215"><span class="linenum">2215</span></a>  <span class="comment"> */</span>
<a name="l2216"><span class="linenum">2216</span></a>  function <a class="function" onClick="logFunction('get_timezone_record')" href="../_functions/get_timezone_record.html" onMouseOver="funcPopup(event,'get_timezone_record')">get_timezone_record</a>(<a class="var it2637" onMouseOver="hilite(2637)" onMouseOut="lolite()" onClick="logVariable('timezonename')" href="../_variables/timezonename.html">$timezonename</a>) {
<a name="l2217"><span class="linenum">2217</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_timezone_record')" href="../_functions/get_timezone_record.html" onMouseOver="funcPopup(event,'get_timezone_record')">get_timezone_record</a>() can not be used any more, please use standard PHP DateTime class instead');
<a name="l2218"><span class="linenum">2218</span></a>  }
<a name="l2219"><span class="linenum">2219</span></a>  
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment">/* === Apis deprecated since Moodle 3.0 === */</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment">/**</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment"> * Returns the URL of the HTTP_REFERER, less the querystring portion if required.</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment"> *</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment"> * @deprecated since Moodle 3.0 MDL-49360 - please do not use this function any more.</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment"> * @todo MDL-50265 Remove this function in Moodle 3.4.</span>
<a name="l2226"><span class="linenum">2226</span></a>  <span class="comment"> * @param boolean $stripquery if true, also removes the query part of the url.</span>
<a name="l2227"><span class="linenum">2227</span></a>  <span class="comment"> * @return string The resulting referer or empty string.</span>
<a name="l2228"><span class="linenum">2228</span></a>  <span class="comment"> */</span>
<a name="l2229"><span class="linenum">2229</span></a>  function <a class="function" onClick="logFunction('get_referer')" href="../_functions/get_referer.html" onMouseOver="funcPopup(event,'get_referer')">get_referer</a>(<a class="var it2638" onMouseOver="hilite(2638)" onMouseOut="lolite()" onClick="logVariable('stripquery')" href="../_variables/stripquery.html">$stripquery</a> = true) {
<a name="l2230"><span class="linenum">2230</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_referer')" href="../_functions/get_referer.html" onMouseOver="funcPopup(event,'get_referer')">get_referer</a>() is deprecated. Please use <a class="function" onClick="logFunction('get_local_referer')" href="../_functions/get_local_referer.html" onMouseOver="funcPopup(event,'get_local_referer')">get_local_referer</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2231"><span class="linenum">2231</span></a>      if (isset(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_REFERER'])) {
<a name="l2232"><span class="linenum">2232</span></a>          if (<a class="var it2638" onMouseOver="hilite(2638)" onMouseOut="lolite()" onClick="logVariable('stripquery')" href="../_variables/stripquery.html">$stripquery</a>) {
<a name="l2233"><span class="linenum">2233</span></a>              return <a class="function" onClick="logFunction('strip_querystring')" href="../_functions/strip_querystring.html" onMouseOver="funcPopup(event,'strip_querystring')">strip_querystring</a>(<a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_REFERER']);
<a name="l2234"><span class="linenum">2234</span></a>          } else {
<a name="l2235"><span class="linenum">2235</span></a>              return <a class="var it836" onMouseOver="hilite(836)" onMouseOut="lolite()" onClick="logVariable('_SERVER')" href="../_variables/_SERVER.html">$_SERVER</a>['HTTP_REFERER'];
<a name="l2236"><span class="linenum">2236</span></a>          }
<a name="l2237"><span class="linenum">2237</span></a>      } else {
<a name="l2238"><span class="linenum">2238</span></a>          return '';
<a name="l2239"><span class="linenum">2239</span></a>      }
<a name="l2240"><span class="linenum">2240</span></a>  }
<a name="l2241"><span class="linenum">2241</span></a>  
<a name="l2242"><span class="linenum">2242</span></a>  <span class="comment">/**</span>
<a name="l2243"><span class="linenum">2243</span></a>  <span class="comment"> * Checks if current user is a web crawler.</span>
<a name="l2244"><span class="linenum">2244</span></a>  <span class="comment"> *</span>
<a name="l2245"><span class="linenum">2245</span></a>  <span class="comment"> * This list can not be made complete, this is not a security</span>
<a name="l2246"><span class="linenum">2246</span></a>  <span class="comment"> * restriction, we make the list only to help these sites</span>
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment"> * especially when automatic guest login is disabled.</span>
<a name="l2248"><span class="linenum">2248</span></a>  <span class="comment"> *</span>
<a name="l2249"><span class="linenum">2249</span></a>  <span class="comment"> * If admin needs security they should enable forcelogin</span>
<a name="l2250"><span class="linenum">2250</span></a>  <span class="comment"> * and disable guest access!!</span>
<a name="l2251"><span class="linenum">2251</span></a>  <span class="comment"> *</span>
<a name="l2252"><span class="linenum">2252</span></a>  <span class="comment"> * @return bool</span>
<a name="l2253"><span class="linenum">2253</span></a>  <span class="comment"> * @deprecated since Moodle 3.0 use \core_useragent::is_web_crawler instead.</span>
<a name="l2254"><span class="linenum">2254</span></a>  <span class="comment"> */</span>
<a name="l2255"><span class="linenum">2255</span></a>  function <a class="function" onClick="logFunction('is_web_crawler')" href="../_functions/is_web_crawler.html" onMouseOver="funcPopup(event,'is_web_crawler')">is_web_crawler</a>() {
<a name="l2256"><span class="linenum">2256</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('is_web_crawler')" href="../_functions/is_web_crawler.html" onMouseOver="funcPopup(event,'is_web_crawler')">is_web_crawler</a>() has been deprecated, please use <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('is_web_crawler')" href="../_functions/is_web_crawler.html" onMouseOver="funcPopup(event,'is_web_crawler')">is_web_crawler</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2257"><span class="linenum">2257</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('is_web_crawler')" href="../_functions/is_web_crawler.html" onMouseOver="funcPopup(event,'is_web_crawler')">is_web_crawler</a>();
<a name="l2258"><span class="linenum">2258</span></a>  }
<a name="l2259"><span class="linenum">2259</span></a>  
<a name="l2260"><span class="linenum">2260</span></a>  <span class="comment">/**</span>
<a name="l2261"><span class="linenum">2261</span></a>  <span class="comment"> * Update user's course completion statuses</span>
<a name="l2262"><span class="linenum">2262</span></a>  <span class="comment"> *</span>
<a name="l2263"><span class="linenum">2263</span></a>  <span class="comment"> * First update all criteria completions, then aggregate all criteria completions</span>
<a name="l2264"><span class="linenum">2264</span></a>  <span class="comment"> * and update overall course completions.</span>
<a name="l2265"><span class="linenum">2265</span></a>  <span class="comment"> *</span>
<a name="l2266"><span class="linenum">2266</span></a>  <span class="comment"> * @deprecated since Moodle 3.0 MDL-50287 - please do not use this function any more.</span>
<a name="l2267"><span class="linenum">2267</span></a>  <span class="comment"> * @todo Remove this function in Moodle 3.2 MDL-51226.</span>
<a name="l2268"><span class="linenum">2268</span></a>  <span class="comment"> */</span>
<a name="l2269"><span class="linenum">2269</span></a>  function <a class="function" onClick="logFunction('completion_cron')" href="../_functions/completion_cron.html" onMouseOver="funcPopup(event,'completion_cron')">completion_cron</a>() {
<a name="l2270"><span class="linenum">2270</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2271"><span class="linenum">2271</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../completion/cron.php.html">/completion/cron.php</a>');
<a name="l2272"><span class="linenum">2272</span></a>  
<a name="l2273"><span class="linenum">2273</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('completion_cron')" href="../_functions/completion_cron.html" onMouseOver="funcPopup(event,'completion_cron')">completion_cron</a>() is deprecated. Functionality has been moved to scheduled tasks.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2274"><span class="linenum">2274</span></a>      <a class="function" onClick="logFunction('completion_cron_mark_started')" href="../_functions/completion_cron_mark_started.html" onMouseOver="funcPopup(event,'completion_cron_mark_started')">completion_cron_mark_started</a>();
<a name="l2275"><span class="linenum">2275</span></a>  
<a name="l2276"><span class="linenum">2276</span></a>      <a class="function" onClick="logFunction('completion_cron_criteria')" href="../_functions/completion_cron_criteria.html" onMouseOver="funcPopup(event,'completion_cron_criteria')">completion_cron_criteria</a>();
<a name="l2277"><span class="linenum">2277</span></a>  
<a name="l2278"><span class="linenum">2278</span></a>      <a class="function" onClick="logFunction('completion_cron_completions')" href="../_functions/completion_cron_completions.html" onMouseOver="funcPopup(event,'completion_cron_completions')">completion_cron_completions</a>();
<a name="l2279"><span class="linenum">2279</span></a>  }
<a name="l2280"><span class="linenum">2280</span></a>  
<a name="l2281"><span class="linenum">2281</span></a>  <span class="comment">/**</span>
<a name="l2282"><span class="linenum">2282</span></a>  <span class="comment"> * Returns an ordered array of tags associated with visible courses</span>
<a name="l2283"><span class="linenum">2283</span></a>  <span class="comment"> * (boosted replacement of get_all_tags() allowing association with user and tagtype).</span>
<a name="l2284"><span class="linenum">2284</span></a>  <span class="comment"> *</span>
<a name="l2285"><span class="linenum">2285</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2286"><span class="linenum">2286</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2287"><span class="linenum">2287</span></a>  <span class="comment"> * @category tag</span>
<a name="l2288"><span class="linenum">2288</span></a>  <span class="comment"> * @param    int      $courseid A course id. Passing 0 will return all distinct tags for all visible courses</span>
<a name="l2289"><span class="linenum">2289</span></a>  <span class="comment"> * @param    int      $userid   (optional) the user id, a default of 0 will return all users tags for the course</span>
<a name="l2290"><span class="linenum">2290</span></a>  <span class="comment"> * @param    string   $tagtype  (optional) The type of tag, empty string returns all types. Currently (Moodle 2.2) there are two</span>
<a name="l2291"><span class="linenum">2291</span></a>  <span class="comment"> *                              types of tags which are used within Moodle, they are 'official' and 'default'.</span>
<a name="l2292"><span class="linenum">2292</span></a>  <span class="comment"> * @param    int      $numtags  (optional) number of tags to display, default of 80 is set in the block, 0 returns all</span>
<a name="l2293"><span class="linenum">2293</span></a>  <span class="comment"> * @param    string   $unused   (optional) was selected sorting, moved to tag_print_cloud()</span>
<a name="l2294"><span class="linenum">2294</span></a>  <span class="comment"> * @return   array</span>
<a name="l2295"><span class="linenum">2295</span></a>  <span class="comment"> */</span>
<a name="l2296"><span class="linenum">2296</span></a>  function <a class="function" onClick="logFunction('coursetag_get_tags')" href="../_functions/coursetag_get_tags.html" onMouseOver="funcPopup(event,'coursetag_get_tags')">coursetag_get_tags</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it2639" onMouseOver="hilite(2639)" onMouseOut="lolite()" onClick="logVariable('tagtype')" href="../_variables/tagtype.html">$tagtype</a>='', <a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a>=0, <a class="var it1292" onMouseOver="hilite(1292)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a> = '') {
<a name="l2297"><span class="linenum">2297</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_get_tags')" href="../_functions/coursetag_get_tags.html" onMouseOver="funcPopup(event,'coursetag_get_tags')">coursetag_get_tags</a>() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2298"><span class="linenum">2298</span></a>  
<a name="l2299"><span class="linenum">2299</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2300"><span class="linenum">2300</span></a>  
<a name="l2301"><span class="linenum">2301</span></a>  <span class="comment">    // get visible course ids</span>
<a name="l2302"><span class="linenum">2302</span></a>      <a class="var it2641" onMouseOver="hilite(2641)" onMouseOut="lolite()" onClick="logVariable('courselist')" href="../_variables/courselist.html">$courselist</a> = array();
<a name="l2303"><span class="linenum">2303</span></a>      if (<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> === 0) {
<a name="l2304"><span class="linenum">2304</span></a>          if (<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('course', 'visible=1 AND category&gt;0', null, '', 'id')) {
<a name="l2305"><span class="linenum">2305</span></a>              foreach (<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2306"><span class="linenum">2306</span></a>                  <a class="var it2641" onMouseOver="hilite(2641)" onMouseOut="lolite()" onClick="logVariable('courselist')" href="../_variables/courselist.html">$courselist</a>[] = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>;
<a name="l2307"><span class="linenum">2307</span></a>              }
<a name="l2308"><span class="linenum">2308</span></a>          }
<a name="l2309"><span class="linenum">2309</span></a>      }
<a name="l2310"><span class="linenum">2310</span></a>  
<a name="l2311"><span class="linenum">2311</span></a>  <span class="comment">    // get tags from the db ordered by highest count first</span>
<a name="l2312"><span class="linenum">2312</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l2313"><span class="linenum">2313</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT id as tkey, name, id, isstandard, rawname, f.timemodified, flag, count
<a name="l2314"><span class="linenum">2314</span></a>                FROM {tag} t,
<a name="l2315"><span class="linenum">2315</span></a>                   (SELECT tagid, <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(timemodified) as timemodified, <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(id) as count
<a name="l2316"><span class="linenum">2316</span></a>                      FROM {tag_instance}
<a name="l2317"><span class="linenum">2317</span></a>                     WHERE itemtype = 'course' &quot;;
<a name="l2318"><span class="linenum">2318</span></a>  
<a name="l2319"><span class="linenum">2319</span></a>      if (<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> &gt; 0) {
<a name="l2320"><span class="linenum">2320</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;    AND itemid = :courseid &quot;;
<a name="l2321"><span class="linenum">2321</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['courseid'] = <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l2322"><span class="linenum">2322</span></a>      } else {
<a name="l2323"><span class="linenum">2323</span></a>          if (!empty(<a class="var it2641" onMouseOver="hilite(2641)" onMouseOut="lolite()" onClick="logVariable('courselist')" href="../_variables/courselist.html">$courselist</a>)) {
<a name="l2324"><span class="linenum">2324</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2642" onMouseOver="hilite(2642)" onMouseOut="lolite()" onClick="logVariable('usql')" href="../_variables/usql.html">$usql</a>, <a class="var it2643" onMouseOver="hilite(2643)" onMouseOut="lolite()" onClick="logVariable('uparams')" href="../_variables/uparams.html">$uparams</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it2641" onMouseOver="hilite(2641)" onMouseOut="lolite()" onClick="logVariable('courselist')" href="../_variables/courselist.html">$courselist</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l2325"><span class="linenum">2325</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;AND itemid <a class="var it2642" onMouseOver="hilite(2642)" onMouseOut="lolite()" onClick="logVariable('usql')" href="../_variables/usql.html">$usql</a> &quot;;
<a name="l2326"><span class="linenum">2326</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> + <a class="var it2643" onMouseOver="hilite(2643)" onMouseOut="lolite()" onClick="logVariable('uparams')" href="../_variables/uparams.html">$uparams</a>;
<a name="l2327"><span class="linenum">2327</span></a>          }
<a name="l2328"><span class="linenum">2328</span></a>      }
<a name="l2329"><span class="linenum">2329</span></a>  
<a name="l2330"><span class="linenum">2330</span></a>      if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> &gt; 0) {
<a name="l2331"><span class="linenum">2331</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;    AND tiuserid = :userid &quot;;
<a name="l2332"><span class="linenum">2332</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['userid'] = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>;
<a name="l2333"><span class="linenum">2333</span></a>      }
<a name="l2334"><span class="linenum">2334</span></a>  
<a name="l2335"><span class="linenum">2335</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;   GROUP BY tagid) f
<a name="l2336"><span class="linenum">2336</span></a>               WHERE t.id = f.tagid &quot;;
<a name="l2337"><span class="linenum">2337</span></a>      if (<a class="var it2639" onMouseOver="hilite(2639)" onMouseOut="lolite()" onClick="logVariable('tagtype')" href="../_variables/tagtype.html">$tagtype</a> != '') {
<a name="l2338"><span class="linenum">2338</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;AND isstandard = :isstandard &quot;;
<a name="l2339"><span class="linenum">2339</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['isstandard'] = (<a class="var it2639" onMouseOver="hilite(2639)" onMouseOut="lolite()" onClick="logVariable('tagtype')" href="../_variables/tagtype.html">$tagtype</a> === 'official') ? 1 : 0;
<a name="l2340"><span class="linenum">2340</span></a>      }
<a name="l2341"><span class="linenum">2341</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;ORDER BY count DESC, name ASC&quot;;
<a name="l2342"><span class="linenum">2342</span></a>  
<a name="l2343"><span class="linenum">2343</span></a>  <span class="comment">    // limit the number of tags for output</span>
<a name="l2344"><span class="linenum">2344</span></a>      if (<a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a> == 0) {
<a name="l2345"><span class="linenum">2345</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l2346"><span class="linenum">2346</span></a>      } else {
<a name="l2347"><span class="linenum">2347</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, 0, <a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a>);
<a name="l2348"><span class="linenum">2348</span></a>      }
<a name="l2349"><span class="linenum">2349</span></a>  
<a name="l2350"><span class="linenum">2350</span></a>  <span class="comment">    // prepare the return</span>
<a name="l2351"><span class="linenum">2351</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = array();
<a name="l2352"><span class="linenum">2352</span></a>      if (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) {
<a name="l2353"><span class="linenum">2353</span></a>  <span class="comment">        // avoid print_tag_cloud()'s ksort upsetting ordering by setting the key here</span>
<a name="l2354"><span class="linenum">2354</span></a>          foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2355"><span class="linenum">2355</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l2356"><span class="linenum">2356</span></a>          }
<a name="l2357"><span class="linenum">2357</span></a>      }
<a name="l2358"><span class="linenum">2358</span></a>  
<a name="l2359"><span class="linenum">2359</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l2360"><span class="linenum">2360</span></a>  
<a name="l2361"><span class="linenum">2361</span></a>  }
<a name="l2362"><span class="linenum">2362</span></a>  
<a name="l2363"><span class="linenum">2363</span></a>  <span class="comment">/**</span>
<a name="l2364"><span class="linenum">2364</span></a>  <span class="comment"> * Returns an ordered array of tags</span>
<a name="l2365"><span class="linenum">2365</span></a>  <span class="comment"> * (replaces popular_tags_count() allowing sorting).</span>
<a name="l2366"><span class="linenum">2366</span></a>  <span class="comment"> *</span>
<a name="l2367"><span class="linenum">2367</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2368"><span class="linenum">2368</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2369"><span class="linenum">2369</span></a>  <span class="comment"> * @category tag</span>
<a name="l2370"><span class="linenum">2370</span></a>  <span class="comment"> * @param    string $unused (optional) was selected sorting - moved to tag_print_cloud()</span>
<a name="l2371"><span class="linenum">2371</span></a>  <span class="comment"> * @param    int    $numtags (optional) number of tags to display, default of 20 is set in the block, 0 returns all</span>
<a name="l2372"><span class="linenum">2372</span></a>  <span class="comment"> * @return   array</span>
<a name="l2373"><span class="linenum">2373</span></a>  <span class="comment"> */</span>
<a name="l2374"><span class="linenum">2374</span></a>  function <a class="function" onClick="logFunction('coursetag_get_all_tags')" href="../_functions/coursetag_get_all_tags.html" onMouseOver="funcPopup(event,'coursetag_get_all_tags')">coursetag_get_all_tags</a>(<a class="var it1292" onMouseOver="hilite(1292)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>='', <a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a>=0) {
<a name="l2375"><span class="linenum">2375</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function coursetag_get_all_tag() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2376"><span class="linenum">2376</span></a>  
<a name="l2377"><span class="linenum">2377</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2378"><span class="linenum">2378</span></a>  
<a name="l2379"><span class="linenum">2379</span></a>  <span class="comment">    // note that this selects all tags except for courses that are not visible</span>
<a name="l2380"><span class="linenum">2380</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT id, name, isstandard, rawname, f.timemodified, flag, count
<a name="l2381"><span class="linenum">2381</span></a>          FROM {tag} t,
<a name="l2382"><span class="linenum">2382</span></a>          (SELECT tagid, <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(timemodified) as timemodified, <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(id) as count
<a name="l2383"><span class="linenum">2383</span></a>              FROM {tag_instance} WHERE tagid NOT IN
<a name="l2384"><span class="linenum">2384</span></a>                  (SELECT tagid FROM {tag_instance} ti, {course} c
<a name="l2385"><span class="linenum">2385</span></a>                  WHERE c.visible = 0
<a name="l2386"><span class="linenum">2386</span></a>                  AND ti.itemtype = 'course'
<a name="l2387"><span class="linenum">2387</span></a>                  AND ti.itemid = c.id)
<a name="l2388"><span class="linenum">2388</span></a>          GROUP BY tagid) f
<a name="l2389"><span class="linenum">2389</span></a>          WHERE t.id = f.tagid
<a name="l2390"><span class="linenum">2390</span></a>          ORDER BY count DESC, name ASC&quot;;
<a name="l2391"><span class="linenum">2391</span></a>      if (<a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a> == 0) {
<a name="l2392"><span class="linenum">2392</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>);
<a name="l2393"><span class="linenum">2393</span></a>      } else {
<a name="l2394"><span class="linenum">2394</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, null, 0, <a class="var it2640" onMouseOver="hilite(2640)" onMouseOut="lolite()" onClick="logVariable('numtags')" href="../_variables/numtags.html">$numtags</a>);
<a name="l2395"><span class="linenum">2395</span></a>      }
<a name="l2396"><span class="linenum">2396</span></a>  
<a name="l2397"><span class="linenum">2397</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = array();
<a name="l2398"><span class="linenum">2398</span></a>      if (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) {
<a name="l2399"><span class="linenum">2399</span></a>          foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l2400"><span class="linenum">2400</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>[] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l2401"><span class="linenum">2401</span></a>          }
<a name="l2402"><span class="linenum">2402</span></a>      }
<a name="l2403"><span class="linenum">2403</span></a>  
<a name="l2404"><span class="linenum">2404</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l2405"><span class="linenum">2405</span></a>  }
<a name="l2406"><span class="linenum">2406</span></a>  
<a name="l2407"><span class="linenum">2407</span></a>  <span class="comment">/**</span>
<a name="l2408"><span class="linenum">2408</span></a>  <span class="comment"> * Returns javascript for use in tags block and supporting pages</span>
<a name="l2409"><span class="linenum">2409</span></a>  <span class="comment"> *</span>
<a name="l2410"><span class="linenum">2410</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2411"><span class="linenum">2411</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2412"><span class="linenum">2412</span></a>  <span class="comment"> * @category tag</span>
<a name="l2413"><span class="linenum">2413</span></a>  <span class="comment"> * @return   null</span>
<a name="l2414"><span class="linenum">2414</span></a>  <span class="comment"> */</span>
<a name="l2415"><span class="linenum">2415</span></a>  function <a class="function" onClick="logFunction('coursetag_get_jscript')" href="../_functions/coursetag_get_jscript.html" onMouseOver="funcPopup(event,'coursetag_get_jscript')">coursetag_get_jscript</a>() {
<a name="l2416"><span class="linenum">2416</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_get_jscript')" href="../_functions/coursetag_get_jscript.html" onMouseOver="funcPopup(event,'coursetag_get_jscript')">coursetag_get_jscript</a>() is deprecated and obsolete.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2417"><span class="linenum">2417</span></a>      return '';
<a name="l2418"><span class="linenum">2418</span></a>  }
<a name="l2419"><span class="linenum">2419</span></a>  
<a name="l2420"><span class="linenum">2420</span></a>  <span class="comment">/**</span>
<a name="l2421"><span class="linenum">2421</span></a>  <span class="comment"> * Returns javascript to create the links in the tag block footer.</span>
<a name="l2422"><span class="linenum">2422</span></a>  <span class="comment"> *</span>
<a name="l2423"><span class="linenum">2423</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2424"><span class="linenum">2424</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2425"><span class="linenum">2425</span></a>  <span class="comment"> * @category tag</span>
<a name="l2426"><span class="linenum">2426</span></a>  <span class="comment"> * @param    string   $elementid       the element to attach the footer to</span>
<a name="l2427"><span class="linenum">2427</span></a>  <span class="comment"> * @param    array    $coursetagslinks links arrays each consisting of 'title', 'onclick' and 'text' elements</span>
<a name="l2428"><span class="linenum">2428</span></a>  <span class="comment"> * @return   string   always returns a blank string</span>
<a name="l2429"><span class="linenum">2429</span></a>  <span class="comment"> */</span>
<a name="l2430"><span class="linenum">2430</span></a>  function <a class="function" onClick="logFunction('coursetag_get_jscript_links')" href="../_functions/coursetag_get_jscript_links.html" onMouseOver="funcPopup(event,'coursetag_get_jscript_links')">coursetag_get_jscript_links</a>(<a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('elementid')" href="../_variables/elementid.html">$elementid</a>, <a class="var it2645" onMouseOver="hilite(2645)" onMouseOut="lolite()" onClick="logVariable('coursetagslinks')" href="../_variables/coursetagslinks.html">$coursetagslinks</a>) {
<a name="l2431"><span class="linenum">2431</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_get_jscript_links')" href="../_functions/coursetag_get_jscript_links.html" onMouseOver="funcPopup(event,'coursetag_get_jscript_links')">coursetag_get_jscript_links</a>() is deprecated and obsolete.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2432"><span class="linenum">2432</span></a>      return '';
<a name="l2433"><span class="linenum">2433</span></a>  }
<a name="l2434"><span class="linenum">2434</span></a>  
<a name="l2435"><span class="linenum">2435</span></a>  <span class="comment">/**</span>
<a name="l2436"><span class="linenum">2436</span></a>  <span class="comment"> * Returns all tags created by a user for a course</span>
<a name="l2437"><span class="linenum">2437</span></a>  <span class="comment"> *</span>
<a name="l2438"><span class="linenum">2438</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2439"><span class="linenum">2439</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2440"><span class="linenum">2440</span></a>  <span class="comment"> * @category tag</span>
<a name="l2441"><span class="linenum">2441</span></a>  <span class="comment"> * @param    int      $courseid tags are returned for the course that has this courseid</span>
<a name="l2442"><span class="linenum">2442</span></a>  <span class="comment"> * @param    int      $userid   return tags which were created by this user</span>
<a name="l2443"><span class="linenum">2443</span></a>  <span class="comment"> */</span>
<a name="l2444"><span class="linenum">2444</span></a>  function <a class="function" onClick="logFunction('coursetag_get_records')" href="../_functions/coursetag_get_records.html" onMouseOver="funcPopup(event,'coursetag_get_records')">coursetag_get_records</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l2445"><span class="linenum">2445</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_get_records')" href="../_functions/coursetag_get_records.html" onMouseOver="funcPopup(event,'coursetag_get_records')">coursetag_get_records</a>() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2446"><span class="linenum">2446</span></a>  
<a name="l2447"><span class="linenum">2447</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2448"><span class="linenum">2448</span></a>  
<a name="l2449"><span class="linenum">2449</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT t.id, name, rawname
<a name="l2450"><span class="linenum">2450</span></a>                FROM {tag} t, {tag_instance} ti
<a name="l2451"><span class="linenum">2451</span></a>               WHERE t.id = ti.tagid
<a name="l2452"><span class="linenum">2452</span></a>                   AND ti.tiuserid = :userid
<a name="l2453"><span class="linenum">2453</span></a>                   AND ti.itemid = :courseid
<a name="l2454"><span class="linenum">2454</span></a>            ORDER BY name ASC&quot;;
<a name="l2455"><span class="linenum">2455</span></a>  
<a name="l2456"><span class="linenum">2456</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, array('userid'=&gt;<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, 'courseid'=&gt;<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l2457"><span class="linenum">2457</span></a>  }
<a name="l2458"><span class="linenum">2458</span></a>  
<a name="l2459"><span class="linenum">2459</span></a>  <span class="comment">/**</span>
<a name="l2460"><span class="linenum">2460</span></a>  <span class="comment"> * Stores a tag for a course for a user</span>
<a name="l2461"><span class="linenum">2461</span></a>  <span class="comment"> *</span>
<a name="l2462"><span class="linenum">2462</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2463"><span class="linenum">2463</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2464"><span class="linenum">2464</span></a>  <span class="comment"> * @category tag</span>
<a name="l2465"><span class="linenum">2465</span></a>  <span class="comment"> * @param    array  $tags     simple array of keywords to be stored</span>
<a name="l2466"><span class="linenum">2466</span></a>  <span class="comment"> * @param    int    $courseid the id of the course we wish to store a tag for</span>
<a name="l2467"><span class="linenum">2467</span></a>  <span class="comment"> * @param    int    $userid   the id of the user we wish to store a tag for</span>
<a name="l2468"><span class="linenum">2468</span></a>  <span class="comment"> * @param    string $tagtype  official or default only</span>
<a name="l2469"><span class="linenum">2469</span></a>  <span class="comment"> * @param    string $myurl    (optional) for logging creation of course tags</span>
<a name="l2470"><span class="linenum">2470</span></a>  <span class="comment"> */</span>
<a name="l2471"><span class="linenum">2471</span></a>  function <a class="function" onClick="logFunction('coursetag_store_keywords')" href="../_functions/coursetag_store_keywords.html" onMouseOver="funcPopup(event,'coursetag_store_keywords')">coursetag_store_keywords</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it2639" onMouseOver="hilite(2639)" onMouseOut="lolite()" onClick="logVariable('tagtype')" href="../_variables/tagtype.html">$tagtype</a>='official', <a class="var it2646" onMouseOver="hilite(2646)" onMouseOut="lolite()" onClick="logVariable('myurl')" href="../_variables/myurl.html">$myurl</a>='') {
<a name="l2472"><span class="linenum">2472</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_store_keywords')" href="../_functions/coursetag_store_keywords.html" onMouseOver="funcPopup(event,'coursetag_store_keywords')">coursetag_store_keywords</a>() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2473"><span class="linenum">2473</span></a>  
<a name="l2474"><span class="linenum">2474</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2475"><span class="linenum">2475</span></a>  
<a name="l2476"><span class="linenum">2476</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) and !empty(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l2477"><span class="linenum">2477</span></a>          if (<a class="var it2639" onMouseOver="hilite(2639)" onMouseOut="lolite()" onClick="logVariable('tagtype')" href="../_variables/tagtype.html">$tagtype</a> === 'official') {
<a name="l2478"><span class="linenum">2478</span></a>              <a class="var it2647" onMouseOver="hilite(2647)" onMouseOut="lolite()" onClick="logVariable('tagcoll')" href="../_variables/tagcoll.html">$tagcoll</a> = <a class="class" onClick="logClass('core_tag_area')" href="../_classes/core_tag_area.html" onMouseOver="classPopup(event,'core_tag_area')">core_tag_area</a>::<a class="function" onClick="logFunction('get_collection')" href="../_functions/get_collection.html" onMouseOver="funcPopup(event,'get_collection')">get_collection</a>('core', 'course');
<a name="l2479"><span class="linenum">2479</span></a>  <span class="comment">            // We don't normally need to create tags, they are created automatically when added to items. but we do here because we want them to be official.</span>
<a name="l2480"><span class="linenum">2480</span></a>              <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('create_if_missing')" href="../_functions/create_if_missing.html" onMouseOver="funcPopup(event,'create_if_missing')">create_if_missing</a>(<a class="var it2647" onMouseOver="hilite(2647)" onMouseOut="lolite()" onClick="logVariable('tagcoll')" href="../_variables/tagcoll.html">$tagcoll</a>, <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, true);
<a name="l2481"><span class="linenum">2481</span></a>          }
<a name="l2482"><span class="linenum">2482</span></a>          foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l2483"><span class="linenum">2483</span></a>              <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l2484"><span class="linenum">2484</span></a>              if (<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) &gt; 0) {
<a name="l2485"><span class="linenum">2485</span></a>                  <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('add_item_tag')" href="../_functions/add_item_tag.html" onMouseOver="funcPopup(event,'add_item_tag')">add_item_tag</a>('core', 'course', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>), <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l2486"><span class="linenum">2486</span></a>              }
<a name="l2487"><span class="linenum">2487</span></a>          }
<a name="l2488"><span class="linenum">2488</span></a>      }
<a name="l2489"><span class="linenum">2489</span></a>  
<a name="l2490"><span class="linenum">2490</span></a>  }
<a name="l2491"><span class="linenum">2491</span></a>  
<a name="l2492"><span class="linenum">2492</span></a>  <span class="comment">/**</span>
<a name="l2493"><span class="linenum">2493</span></a>  <span class="comment"> * Deletes a personal tag for a user for a course.</span>
<a name="l2494"><span class="linenum">2494</span></a>  <span class="comment"> *</span>
<a name="l2495"><span class="linenum">2495</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2496"><span class="linenum">2496</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2497"><span class="linenum">2497</span></a>  <span class="comment"> * @category tag</span>
<a name="l2498"><span class="linenum">2498</span></a>  <span class="comment"> * @param    int      $tagid    the tag we wish to delete</span>
<a name="l2499"><span class="linenum">2499</span></a>  <span class="comment"> * @param    int      $userid   the user that the tag is associated with</span>
<a name="l2500"><span class="linenum">2500</span></a>  <span class="comment"> * @param    int      $courseid the course that the tag is associated with</span>
<a name="l2501"><span class="linenum">2501</span></a>  <span class="comment"> */</span>
<a name="l2502"><span class="linenum">2502</span></a>  function <a class="function" onClick="logFunction('coursetag_delete_keyword')" href="../_functions/coursetag_delete_keyword.html" onMouseOver="funcPopup(event,'coursetag_delete_keyword')">coursetag_delete_keyword</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l2503"><span class="linenum">2503</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_delete_keyword')" href="../_functions/coursetag_delete_keyword.html" onMouseOver="funcPopup(event,'coursetag_delete_keyword')">coursetag_delete_keyword</a>() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2504"><span class="linenum">2504</span></a>  
<a name="l2505"><span class="linenum">2505</span></a>      <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>);
<a name="l2506"><span class="linenum">2506</span></a>      <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_item_tag')" href="../_functions/remove_item_tag.html" onMouseOver="funcPopup(event,'remove_item_tag')">remove_item_tag</a>('core', 'course', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('rawname')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/rawname.html">rawname</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l2507"><span class="linenum">2507</span></a>  }
<a name="l2508"><span class="linenum">2508</span></a>  
<a name="l2509"><span class="linenum">2509</span></a>  <span class="comment">/**</span>
<a name="l2510"><span class="linenum">2510</span></a>  <span class="comment"> * Get courses tagged with a tag</span>
<a name="l2511"><span class="linenum">2511</span></a>  <span class="comment"> *</span>
<a name="l2512"><span class="linenum">2512</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2513"><span class="linenum">2513</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2514"><span class="linenum">2514</span></a>  <span class="comment"> * @category tag</span>
<a name="l2515"><span class="linenum">2515</span></a>  <span class="comment"> * @param int $tagid</span>
<a name="l2516"><span class="linenum">2516</span></a>  <span class="comment"> * @return array of course objects</span>
<a name="l2517"><span class="linenum">2517</span></a>  <span class="comment"> */</span>
<a name="l2518"><span class="linenum">2518</span></a>  function <a class="function" onClick="logFunction('coursetag_get_tagged_courses')" href="../_functions/coursetag_get_tagged_courses.html" onMouseOver="funcPopup(event,'coursetag_get_tagged_courses')">coursetag_get_tagged_courses</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>) {
<a name="l2519"><span class="linenum">2519</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_get_tagged_courses')" href="../_functions/coursetag_get_tagged_courses.html" onMouseOver="funcPopup(event,'coursetag_get_tagged_courses')">coursetag_get_tagged_courses</a>() is deprecated. Userid is no longer used for tagging courses.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2520"><span class="linenum">2520</span></a>  
<a name="l2521"><span class="linenum">2521</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2522"><span class="linenum">2522</span></a>  
<a name="l2523"><span class="linenum">2523</span></a>      <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = array();
<a name="l2524"><span class="linenum">2524</span></a>  
<a name="l2525"><span class="linenum">2525</span></a>      <a class="var it1071" onMouseOver="hilite(1071)" onMouseOut="lolite()" onClick="logVariable('ctxselect')" href="../_variables/ctxselect.html">$ctxselect</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l2526"><span class="linenum">2526</span></a>  
<a name="l2527"><span class="linenum">2527</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT c.*, <a class="var it1071" onMouseOver="hilite(1071)" onMouseOut="lolite()" onClick="logVariable('ctxselect')" href="../_variables/ctxselect.html">$ctxselect</a>
<a name="l2528"><span class="linenum">2528</span></a>              FROM {course} c
<a name="l2529"><span class="linenum">2529</span></a>              JOIN {tag_instance} t ON t.itemid = c.id
<a name="l2530"><span class="linenum">2530</span></a>              JOIN {context} ctx ON ctx.instanceid = c.id
<a name="l2531"><span class="linenum">2531</span></a>              WHERE t.tagid = :tagid AND
<a name="l2532"><span class="linenum">2532</span></a>              t.itemtype = 'course' AND
<a name="l2533"><span class="linenum">2533</span></a>              ctx.contextlevel = :contextlevel
<a name="l2534"><span class="linenum">2534</span></a>              ORDER BY c.sortorder ASC&quot;;
<a name="l2535"><span class="linenum">2535</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array('tagid' =&gt; <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, 'contextlevel' =&gt; <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>);
<a name="l2536"><span class="linenum">2536</span></a>      <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l2537"><span class="linenum">2537</span></a>      foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l2538"><span class="linenum">2538</span></a>          <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l2539"><span class="linenum">2539</span></a>          if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('visible')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a> == 1 || <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewhiddencourses', <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l2540"><span class="linenum">2540</span></a>              <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l2541"><span class="linenum">2541</span></a>          }
<a name="l2542"><span class="linenum">2542</span></a>      }
<a name="l2543"><span class="linenum">2543</span></a>      return <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>;
<a name="l2544"><span class="linenum">2544</span></a>  }
<a name="l2545"><span class="linenum">2545</span></a>  
<a name="l2546"><span class="linenum">2546</span></a>  <span class="comment">/**</span>
<a name="l2547"><span class="linenum">2547</span></a>  <span class="comment"> * Course tagging function used only during the deletion of a course (called by lib/moodlelib.php) to clean up associated tags</span>
<a name="l2548"><span class="linenum">2548</span></a>  <span class="comment"> *</span>
<a name="l2549"><span class="linenum">2549</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2550"><span class="linenum">2550</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2551"><span class="linenum">2551</span></a>  <span class="comment"> * @param   int      $courseid     the course we wish to delete tag instances from</span>
<a name="l2552"><span class="linenum">2552</span></a>  <span class="comment"> * @param   bool     $showfeedback if we should output a notification of the delete to the end user</span>
<a name="l2553"><span class="linenum">2553</span></a>  <span class="comment"> */</span>
<a name="l2554"><span class="linenum">2554</span></a>  function <a class="function" onClick="logFunction('coursetag_delete_course_tags')" href="../_functions/coursetag_delete_course_tags.html" onMouseOver="funcPopup(event,'coursetag_delete_course_tags')">coursetag_delete_course_tags</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it2602" onMouseOver="hilite(2602)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>=false) {
<a name="l2555"><span class="linenum">2555</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('coursetag_delete_course_tags')" href="../_functions/coursetag_delete_course_tags.html" onMouseOver="funcPopup(event,'coursetag_delete_course_tags')">coursetag_delete_course_tags</a>() is deprecated. Use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_all_item_tags')" href="../_functions/remove_all_item_tags.html" onMouseOver="funcPopup(event,'remove_all_item_tags')">remove_all_item_tags</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2556"><span class="linenum">2556</span></a>  
<a name="l2557"><span class="linenum">2557</span></a>      global <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2558"><span class="linenum">2558</span></a>      <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_all_item_tags')" href="../_functions/remove_all_item_tags.html" onMouseOver="funcPopup(event,'remove_all_item_tags')">remove_all_item_tags</a>('core', 'course', <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l2559"><span class="linenum">2559</span></a>  
<a name="l2560"><span class="linenum">2560</span></a>      if (<a class="var it2602" onMouseOver="hilite(2602)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>) {
<a name="l2561"><span class="linenum">2561</span></a>          echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deletedcoursetags', 'tag'), 'notifysuccess');
<a name="l2562"><span class="linenum">2562</span></a>      }
<a name="l2563"><span class="linenum">2563</span></a>  }
<a name="l2564"><span class="linenum">2564</span></a>  
<a name="l2565"><span class="linenum">2565</span></a>  <span class="comment">/**</span>
<a name="l2566"><span class="linenum">2566</span></a>  <span class="comment"> * Set the type of a tag.  At this time (version 2.2) the possible values are 'default' or 'official'.  Official tags will be</span>
<a name="l2567"><span class="linenum">2567</span></a>  <span class="comment"> * displayed separately &quot;at tagging time&quot; (while selecting the tags to apply to a record).</span>
<a name="l2568"><span class="linenum">2568</span></a>  <span class="comment"> *</span>
<a name="l2569"><span class="linenum">2569</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2570"><span class="linenum">2570</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2571"><span class="linenum">2571</span></a>  <span class="comment"> * @param    string   $tagid tagid to modify</span>
<a name="l2572"><span class="linenum">2572</span></a>  <span class="comment"> * @param    string   $type either 'default' or 'official'</span>
<a name="l2573"><span class="linenum">2573</span></a>  <span class="comment"> * @return   bool     true on success, false otherwise</span>
<a name="l2574"><span class="linenum">2574</span></a>  <span class="comment"> */</span>
<a name="l2575"><span class="linenum">2575</span></a>  function <a class="function" onClick="logFunction('tag_type_set')" href="../_functions/tag_type_set.html" onMouseOver="funcPopup(event,'tag_type_set')">tag_type_set</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) {
<a name="l2576"><span class="linenum">2576</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_type_set')" href="../_functions/tag_type_set.html" onMouseOver="funcPopup(event,'tag_type_set')">tag_type_set</a>() is deprecated and can be replaced with use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2577"><span class="linenum">2577</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, '*')) {
<a name="l2578"><span class="linenum">2578</span></a>          return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(array('isstandard' =&gt; (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> === 'official') ? 1 : 0));
<a name="l2579"><span class="linenum">2579</span></a>      }
<a name="l2580"><span class="linenum">2580</span></a>      return false;
<a name="l2581"><span class="linenum">2581</span></a>  }
<a name="l2582"><span class="linenum">2582</span></a>  
<a name="l2583"><span class="linenum">2583</span></a>  <span class="comment">/**</span>
<a name="l2584"><span class="linenum">2584</span></a>  <span class="comment"> * Set the description of a tag</span>
<a name="l2585"><span class="linenum">2585</span></a>  <span class="comment"> *</span>
<a name="l2586"><span class="linenum">2586</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2587"><span class="linenum">2587</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2588"><span class="linenum">2588</span></a>  <span class="comment"> * @param    int      $tagid the id of the tag</span>
<a name="l2589"><span class="linenum">2589</span></a>  <span class="comment"> * @param    string   $description the tag's description string to be set</span>
<a name="l2590"><span class="linenum">2590</span></a>  <span class="comment"> * @param    int      $descriptionformat the moodle text format of the description</span>
<a name="l2591"><span class="linenum">2591</span></a>  <span class="comment"> *                    {@link http://docs.moodle.org/dev/Text_formats_2.0#Database_structure}</span>
<a name="l2592"><span class="linenum">2592</span></a>  <span class="comment"> * @return   bool     true on success, false otherwise</span>
<a name="l2593"><span class="linenum">2593</span></a>  <span class="comment"> */</span>
<a name="l2594"><span class="linenum">2594</span></a>  function <a class="function" onClick="logFunction('tag_description_set')" href="../_functions/tag_description_set.html" onMouseOver="funcPopup(event,'tag_description_set')">tag_description_set</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../_variables/description.html">$description</a>, <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('descriptionformat')" href="../_variables/descriptionformat.html">$descriptionformat</a>) {
<a name="l2595"><span class="linenum">2595</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_type_set')" href="../_functions/tag_type_set.html" onMouseOver="funcPopup(event,'tag_type_set')">tag_type_set</a>() is deprecated and can be replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2596"><span class="linenum">2596</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, '*')) {
<a name="l2597"><span class="linenum">2597</span></a>          return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(array('description' =&gt; <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../_variables/description.html">$description</a>, 'descriptionformat' =&gt; <a class="var it2649" onMouseOver="hilite(2649)" onMouseOut="lolite()" onClick="logVariable('descriptionformat')" href="../_variables/descriptionformat.html">$descriptionformat</a>));
<a name="l2598"><span class="linenum">2598</span></a>      }
<a name="l2599"><span class="linenum">2599</span></a>      return false;
<a name="l2600"><span class="linenum">2600</span></a>  }
<a name="l2601"><span class="linenum">2601</span></a>  
<a name="l2602"><span class="linenum">2602</span></a>  <span class="comment">/**</span>
<a name="l2603"><span class="linenum">2603</span></a>  <span class="comment"> * Get the array of db record of tags associated to a record (instances).</span>
<a name="l2604"><span class="linenum">2604</span></a>  <span class="comment"> *</span>
<a name="l2605"><span class="linenum">2605</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2606"><span class="linenum">2606</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2607"><span class="linenum">2607</span></a>  <span class="comment"> * @param string $record_type the record type for which we want to get the tags</span>
<a name="l2608"><span class="linenum">2608</span></a>  <span class="comment"> * @param int $record_id the record id for which we want to get the tags</span>
<a name="l2609"><span class="linenum">2609</span></a>  <span class="comment"> * @param string $type the tag type (either 'default' or 'official'). By default, all tags are returned.</span>
<a name="l2610"><span class="linenum">2610</span></a>  <span class="comment"> * @param int $userid (optional) only required for course tagging</span>
<a name="l2611"><span class="linenum">2611</span></a>  <span class="comment"> * @return array the array of tags</span>
<a name="l2612"><span class="linenum">2612</span></a>  <span class="comment"> */</span>
<a name="l2613"><span class="linenum">2613</span></a>  function <a class="function" onClick="logFunction('tag_get_tags')" href="../_functions/tag_get_tags.html" onMouseOver="funcPopup(event,'tag_get_tags')">tag_get_tags</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>=null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0) {
<a name="l2614"><span class="linenum">2614</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_tags')" href="../_functions/tag_get_tags.html" onMouseOver="funcPopup(event,'tag_get_tags')">tag_get_tags</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>(). ' .
<a name="l2615"><span class="linenum">2615</span></a>          'Component is now required when retrieving tag instances.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2616"><span class="linenum">2616</span></a>      <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a> = (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> === 'official' ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::STANDARD_ONLY :
<a name="l2617"><span class="linenum">2617</span></a>          (!empty(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::NOT_STANDARD_ONLY : <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::BOTH_STANDARD_AND_NOT));
<a name="l2618"><span class="linenum">2618</span></a>      <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>(null, <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l2619"><span class="linenum">2619</span></a>      <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a> = array();
<a name="l2620"><span class="linenum">2620</span></a>      foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> =&gt; <a class="var it873" onMouseOver="hilite(873)" onMouseOut="lolite()" onClick="logVariable('t')" href="../_variables/t.html">$t</a>) {
<a name="l2621"><span class="linenum">2621</span></a>          <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>[<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>] = <a class="var it873" onMouseOver="hilite(873)" onMouseOut="lolite()" onClick="logVariable('t')" href="../_variables/t.html">$t</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l2622"><span class="linenum">2622</span></a>      }
<a name="l2623"><span class="linenum">2623</span></a>      return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>;
<a name="l2624"><span class="linenum">2624</span></a>  }
<a name="l2625"><span class="linenum">2625</span></a>  
<a name="l2626"><span class="linenum">2626</span></a>  <span class="comment">/**</span>
<a name="l2627"><span class="linenum">2627</span></a>  <span class="comment"> * Get the array of tags display names, indexed by id.</span>
<a name="l2628"><span class="linenum">2628</span></a>  <span class="comment"> *</span>
<a name="l2629"><span class="linenum">2629</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2630"><span class="linenum">2630</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2631"><span class="linenum">2631</span></a>  <span class="comment"> * @param    string $record_type the record type for which we want to get the tags</span>
<a name="l2632"><span class="linenum">2632</span></a>  <span class="comment"> * @param    int    $record_id   the record id for which we want to get the tags</span>
<a name="l2633"><span class="linenum">2633</span></a>  <span class="comment"> * @param    string $type        the tag type (either 'default' or 'official'). By default, all tags are returned.</span>
<a name="l2634"><span class="linenum">2634</span></a>  <span class="comment"> * @return   array  the array of tags (with the value returned by core_tag_tag::make_display_name), indexed by id</span>
<a name="l2635"><span class="linenum">2635</span></a>  <span class="comment"> */</span>
<a name="l2636"><span class="linenum">2636</span></a>  function <a class="function" onClick="logFunction('tag_get_tags_array')" href="../_functions/tag_get_tags_array.html" onMouseOver="funcPopup(event,'tag_get_tags_array')">tag_get_tags_array</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>=null) {
<a name="l2637"><span class="linenum">2637</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_tags_array')" href="../_functions/tag_get_tags_array.html" onMouseOver="funcPopup(event,'tag_get_tags_array')">tag_get_tags_array</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags_array')" href="../_functions/get_item_tags_array.html" onMouseOver="funcPopup(event,'get_item_tags_array')">get_item_tags_array</a>(). ' .
<a name="l2638"><span class="linenum">2638</span></a>          'Component is now required when retrieving tag instances.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2639"><span class="linenum">2639</span></a>      <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a> = (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> === 'official' ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::STANDARD_ONLY :
<a name="l2640"><span class="linenum">2640</span></a>          (!empty(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::NOT_STANDARD_ONLY : <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::BOTH_STANDARD_AND_NOT));
<a name="l2641"><span class="linenum">2641</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags_array')" href="../_functions/get_item_tags_array.html" onMouseOver="funcPopup(event,'get_item_tags_array')">get_item_tags_array</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a>);
<a name="l2642"><span class="linenum">2642</span></a>  }
<a name="l2643"><span class="linenum">2643</span></a>  
<a name="l2644"><span class="linenum">2644</span></a>  <span class="comment">/**</span>
<a name="l2645"><span class="linenum">2645</span></a>  <span class="comment"> * Get a comma-separated string of tags associated to a record.</span>
<a name="l2646"><span class="linenum">2646</span></a>  <span class="comment"> *</span>
<a name="l2647"><span class="linenum">2647</span></a>  <span class="comment"> * Use {@link tag_get_tags()} to get the same information in an array.</span>
<a name="l2648"><span class="linenum">2648</span></a>  <span class="comment"> *</span>
<a name="l2649"><span class="linenum">2649</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2650"><span class="linenum">2650</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2651"><span class="linenum">2651</span></a>  <span class="comment"> * @param    string   $record_type the record type for which we want to get the tags</span>
<a name="l2652"><span class="linenum">2652</span></a>  <span class="comment"> * @param    int      $record_id   the record id for which we want to get the tags</span>
<a name="l2653"><span class="linenum">2653</span></a>  <span class="comment"> * @param    int      $html        either TAG_RETURN_HTML or TAG_RETURN_TEXT, depending on the type of output desired</span>
<a name="l2654"><span class="linenum">2654</span></a>  <span class="comment"> * @param    string   $type        either 'official' or 'default', if null, all tags are returned</span>
<a name="l2655"><span class="linenum">2655</span></a>  <span class="comment"> * @return   string   the comma-separated list of tags.</span>
<a name="l2656"><span class="linenum">2656</span></a>  <span class="comment"> */</span>
<a name="l2657"><span class="linenum">2657</span></a>  function <a class="function" onClick="logFunction('tag_get_tags_csv')" href="../_functions/tag_get_tags_csv.html" onMouseOver="funcPopup(event,'tag_get_tags_csv')">tag_get_tags_csv</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>=null, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>=null) {
<a name="l2658"><span class="linenum">2658</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2659"><span class="linenum">2659</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_tags_csv')" href="../_functions/tag_get_tags_csv.html" onMouseOver="funcPopup(event,'tag_get_tags_csv')">tag_get_tags_csv</a>() is deprecated. Instead you should use either ' .
<a name="l2660"><span class="linenum">2660</span></a>              '<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags_array')" href="../_functions/get_item_tags_array.html" onMouseOver="funcPopup(event,'get_item_tags_array')">get_item_tags_array</a>() or <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('tag_list')" href="../_functions/tag_list.html" onMouseOver="funcPopup(event,'tag_list')">tag_list</a>(<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>()). ' .
<a name="l2661"><span class="linenum">2661</span></a>          'Component is now required when retrieving tag instances.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2662"><span class="linenum">2662</span></a>      <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a> = (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> === 'official' ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::STANDARD_ONLY :
<a name="l2663"><span class="linenum">2663</span></a>          (!empty(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) ? <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::NOT_STANDARD_ONLY : <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::BOTH_STANDARD_AND_NOT));
<a name="l2664"><span class="linenum">2664</span></a>      if (<a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> != <a class="constant" onClick="logConstant('TAG_RETURN_TEXT')" href="../_constants/TAG_RETURN_TEXT.html" onMouseOver="constPopup(event,'TAG_RETURN_TEXT')">TAG_RETURN_TEXT</a>) {
<a name="l2665"><span class="linenum">2665</span></a>          return <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('tag_list')" href="../_functions/tag_list.html" onMouseOver="funcPopup(event,'tag_list')">tag_list</a>(<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a>), '');
<a name="l2666"><span class="linenum">2666</span></a>      } else {
<a name="l2667"><span class="linenum">2667</span></a>          return <a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(', ', <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags_array')" href="../_functions/get_item_tags_array.html" onMouseOver="funcPopup(event,'get_item_tags_array')">get_item_tags_array</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2652" onMouseOver="hilite(2652)" onMouseOut="lolite()" onClick="logVariable('standardonly')" href="../_variables/standardonly.html">$standardonly</a>, 0, false));
<a name="l2668"><span class="linenum">2668</span></a>      }
<a name="l2669"><span class="linenum">2669</span></a>  }
<a name="l2670"><span class="linenum">2670</span></a>  
<a name="l2671"><span class="linenum">2671</span></a>  <span class="comment">/**</span>
<a name="l2672"><span class="linenum">2672</span></a>  <span class="comment"> * Get an array of tag ids associated to a record.</span>
<a name="l2673"><span class="linenum">2673</span></a>  <span class="comment"> *</span>
<a name="l2674"><span class="linenum">2674</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2675"><span class="linenum">2675</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2676"><span class="linenum">2676</span></a>  <span class="comment"> * @param    string    $record_type the record type for which we want to get the tags</span>
<a name="l2677"><span class="linenum">2677</span></a>  <span class="comment"> * @param    int       $record_id the record id for which we want to get the tags</span>
<a name="l2678"><span class="linenum">2678</span></a>  <span class="comment"> * @return   array     tag ids, indexed and sorted by 'ordering'</span>
<a name="l2679"><span class="linenum">2679</span></a>  <span class="comment"> */</span>
<a name="l2680"><span class="linenum">2680</span></a>  function <a class="function" onClick="logFunction('tag_get_tags_ids')" href="../_functions/tag_get_tags_ids.html" onMouseOver="funcPopup(event,'tag_get_tags_ids')">tag_get_tags_ids</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>) {
<a name="l2681"><span class="linenum">2681</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_tags_ids')" href="../_functions/tag_get_tags_ids.html" onMouseOver="funcPopup(event,'tag_get_tags_ids')">tag_get_tags_ids</a>() is deprecated. Please consider using <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>() or similar methods.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2682"><span class="linenum">2682</span></a>      <a class="var it2654" onMouseOver="hilite(2654)" onMouseOut="lolite()" onClick="logVariable('tag_ids')" href="../_variables/tag_ids.html">$tag_ids</a> = array();
<a name="l2683"><span class="linenum">2683</span></a>      <a class="var it2655" onMouseOver="hilite(2655)" onMouseOut="lolite()" onClick="logVariable('tagobjects')" href="../_variables/tagobjects.html">$tagobjects</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>(null, <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>);
<a name="l2684"><span class="linenum">2684</span></a>      foreach (<a class="var it2655" onMouseOver="hilite(2655)" onMouseOut="lolite()" onClick="logVariable('tagobjects')" href="../_variables/tagobjects.html">$tagobjects</a> as <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>) {
<a name="l2685"><span class="linenum">2685</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l2686"><span class="linenum">2686</span></a>          if ( <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('ordering')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/ordering.html">ordering</a>, <a class="var it2654" onMouseOver="hilite(2654)" onMouseOut="lolite()" onClick="logVariable('tag_ids')" href="../_variables/tag_ids.html">$tag_ids</a>) ) {
<a name="l2687"><span class="linenum">2687</span></a>              <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('ordering')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/ordering.html">ordering</a>++;
<a name="l2688"><span class="linenum">2688</span></a>          }
<a name="l2689"><span class="linenum">2689</span></a>          <a class="var it2654" onMouseOver="hilite(2654)" onMouseOut="lolite()" onClick="logVariable('tag_ids')" href="../_variables/tag_ids.html">$tag_ids</a>[<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('ordering')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/ordering.html">ordering</a>] = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('id')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l2690"><span class="linenum">2690</span></a>      }
<a name="l2691"><span class="linenum">2691</span></a>      <a class="phpfunction" onClick="logFunction('ksort')" href="../_functions/ksort.html" onMouseOver="phpfuncPopup(event,'ksort')">ksort</a>(<a class="var it2654" onMouseOver="hilite(2654)" onMouseOut="lolite()" onClick="logVariable('tag_ids')" href="../_variables/tag_ids.html">$tag_ids</a>);
<a name="l2692"><span class="linenum">2692</span></a>      return <a class="var it2654" onMouseOver="hilite(2654)" onMouseOut="lolite()" onClick="logVariable('tag_ids')" href="../_variables/tag_ids.html">$tag_ids</a>;
<a name="l2693"><span class="linenum">2693</span></a>  }
<a name="l2694"><span class="linenum">2694</span></a>  
<a name="l2695"><span class="linenum">2695</span></a>  <span class="comment">/**</span>
<a name="l2696"><span class="linenum">2696</span></a>  <span class="comment"> * Returns the database ID of a set of tags.</span>
<a name="l2697"><span class="linenum">2697</span></a>  <span class="comment"> *</span>
<a name="l2698"><span class="linenum">2698</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2699"><span class="linenum">2699</span></a>  <span class="comment"> * @param    mixed $tags one tag, or array of tags, to look for.</span>
<a name="l2700"><span class="linenum">2700</span></a>  <span class="comment"> * @param    bool  $return_value specify the type of the returned value. Either TAG_RETURN_OBJECT, or TAG_RETURN_ARRAY (default).</span>
<a name="l2701"><span class="linenum">2701</span></a>  <span class="comment"> *                               If TAG_RETURN_ARRAY is specified, an array will be returned even if only one tag was passed in $tags.</span>
<a name="l2702"><span class="linenum">2702</span></a>  <span class="comment"> * @return   mixed tag-indexed array of ids (or objects, if second parameter is TAG_RETURN_OBJECT), or only an int, if only one tag</span>
<a name="l2703"><span class="linenum">2703</span></a>  <span class="comment"> *                 is given *and* the second parameter is null. No value for a key means the tag wasn't found.</span>
<a name="l2704"><span class="linenum">2704</span></a>  <span class="comment"> */</span>
<a name="l2705"><span class="linenum">2705</span></a>  function <a class="function" onClick="logFunction('tag_get_id')" href="../_functions/tag_get_id.html" onMouseOver="funcPopup(event,'tag_get_id')">tag_get_id</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it2658" onMouseOver="hilite(2658)" onMouseOut="lolite()" onClick="logVariable('return_value')" href="../_variables/return_value.html">$return_value</a> = null) {
<a name="l2706"><span class="linenum">2706</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2707"><span class="linenum">2707</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_id')" href="../_functions/tag_get_id.html" onMouseOver="funcPopup(event,'tag_get_id')">tag_get_id</a>() is deprecated and can be replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>() or <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name_bulk')" href="../_functions/get_by_name_bulk.html" onMouseOver="funcPopup(event,'get_by_name_bulk')">get_by_name_bulk</a>(). ' .
<a name="l2708"><span class="linenum">2708</span></a>          'You need to specify tag collection when retrieving tag by name', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2709"><span class="linenum">2709</span></a>  
<a name="l2710"><span class="linenum">2710</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l2711"><span class="linenum">2711</span></a>          if(<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2658" onMouseOver="hilite(2658)" onMouseOut="lolite()" onClick="logVariable('return_value')" href="../_variables/return_value.html">$return_value</a>) || <a class="var it2658" onMouseOver="hilite(2658)" onMouseOut="lolite()" onClick="logVariable('return_value')" href="../_variables/return_value.html">$return_value</a> == <a class="constant" onClick="logConstant('TAG_RETURN_OBJECT')" href="../_constants/TAG_RETURN_OBJECT.html" onMouseOver="constPopup(event,'TAG_RETURN_OBJECT')">TAG_RETURN_OBJECT</a>) {
<a name="l2712"><span class="linenum">2712</span></a>              if (<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>(<a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_default')" href="../_functions/get_default.html" onMouseOver="funcPopup(event,'get_default')">get_default</a>(), <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l2713"><span class="linenum">2713</span></a>                  return <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('id')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l2714"><span class="linenum">2714</span></a>              } else {
<a name="l2715"><span class="linenum">2715</span></a>                  return 0;
<a name="l2716"><span class="linenum">2716</span></a>              }
<a name="l2717"><span class="linenum">2717</span></a>          }
<a name="l2718"><span class="linenum">2718</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = array(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l2719"><span class="linenum">2719</span></a>      }
<a name="l2720"><span class="linenum">2720</span></a>  
<a name="l2721"><span class="linenum">2721</span></a>      <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name_bulk')" href="../_functions/get_by_name_bulk.html" onMouseOver="funcPopup(event,'get_by_name_bulk')">get_by_name_bulk</a>(<a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_default')" href="../_functions/get_default.html" onMouseOver="funcPopup(event,'get_default')">get_default</a>(), <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>,
<a name="l2722"><span class="linenum">2722</span></a>          <a class="var it2658" onMouseOver="hilite(2658)" onMouseOut="lolite()" onClick="logVariable('return_value')" href="../_variables/return_value.html">$return_value</a> == <a class="constant" onClick="logConstant('TAG_RETURN_OBJECT')" href="../_constants/TAG_RETURN_OBJECT.html" onMouseOver="constPopup(event,'TAG_RETURN_OBJECT')">TAG_RETURN_OBJECT</a> ? '*' : 'id, name');
<a name="l2723"><span class="linenum">2723</span></a>      foreach (<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>) {
<a name="l2724"><span class="linenum">2724</span></a>          if (<a class="var it2658" onMouseOver="hilite(2658)" onMouseOut="lolite()" onClick="logVariable('return_value')" href="../_variables/return_value.html">$return_value</a> != <a class="constant" onClick="logConstant('TAG_RETURN_OBJECT')" href="../_constants/TAG_RETURN_OBJECT.html" onMouseOver="constPopup(event,'TAG_RETURN_OBJECT')">TAG_RETURN_OBJECT</a>) {
<a name="l2725"><span class="linenum">2725</span></a>              <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>] = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../_variables/id.html">id</a> ? <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../_variables/id.html">id</a> : null;
<a name="l2726"><span class="linenum">2726</span></a>          } else {
<a name="l2727"><span class="linenum">2727</span></a>              <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>] = <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l2728"><span class="linenum">2728</span></a>          }
<a name="l2729"><span class="linenum">2729</span></a>      }
<a name="l2730"><span class="linenum">2730</span></a>      return <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>;
<a name="l2731"><span class="linenum">2731</span></a>  }
<a name="l2732"><span class="linenum">2732</span></a>  
<a name="l2733"><span class="linenum">2733</span></a>  <span class="comment">/**</span>
<a name="l2734"><span class="linenum">2734</span></a>  <span class="comment"> * Change the &quot;value&quot; of a tag, and update the associated 'name'.</span>
<a name="l2735"><span class="linenum">2735</span></a>  <span class="comment"> *</span>
<a name="l2736"><span class="linenum">2736</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2737"><span class="linenum">2737</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2738"><span class="linenum">2738</span></a>  <span class="comment"> * @param    int      $tagid  the id of the tag to modify</span>
<a name="l2739"><span class="linenum">2739</span></a>  <span class="comment"> * @param    string   $newrawname the new rawname</span>
<a name="l2740"><span class="linenum">2740</span></a>  <span class="comment"> * @return   bool     true on success, false otherwise</span>
<a name="l2741"><span class="linenum">2741</span></a>  <span class="comment"> */</span>
<a name="l2742"><span class="linenum">2742</span></a>  function <a class="function" onClick="logFunction('tag_rename')" href="../_functions/tag_rename.html" onMouseOver="funcPopup(event,'tag_rename')">tag_rename</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it2659" onMouseOver="hilite(2659)" onMouseOut="lolite()" onClick="logVariable('newrawname')" href="../_variables/newrawname.html">$newrawname</a>) {
<a name="l2743"><span class="linenum">2743</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_rename')" href="../_functions/tag_rename.html" onMouseOver="funcPopup(event,'tag_rename')">tag_rename</a>() is deprecated and may be replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2744"><span class="linenum">2744</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, '*')) {
<a name="l2745"><span class="linenum">2745</span></a>          return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(array('rawname' =&gt; <a class="var it2659" onMouseOver="hilite(2659)" onMouseOut="lolite()" onClick="logVariable('newrawname')" href="../_variables/newrawname.html">$newrawname</a>));
<a name="l2746"><span class="linenum">2746</span></a>      }
<a name="l2747"><span class="linenum">2747</span></a>      return false;
<a name="l2748"><span class="linenum">2748</span></a>  }
<a name="l2749"><span class="linenum">2749</span></a>  
<a name="l2750"><span class="linenum">2750</span></a>  <span class="comment">/**</span>
<a name="l2751"><span class="linenum">2751</span></a>  <span class="comment"> * Delete one instance of a tag.  If the last instance was deleted, it will also delete the tag, unless its type is 'official'.</span>
<a name="l2752"><span class="linenum">2752</span></a>  <span class="comment"> *</span>
<a name="l2753"><span class="linenum">2753</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2754"><span class="linenum">2754</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2755"><span class="linenum">2755</span></a>  <span class="comment"> * @param    string $record_type the type of the record for which to remove the instance</span>
<a name="l2756"><span class="linenum">2756</span></a>  <span class="comment"> * @param    int    $record_id   the id of the record for which to remove the instance</span>
<a name="l2757"><span class="linenum">2757</span></a>  <span class="comment"> * @param    int    $tagid       the tagid that needs to be removed</span>
<a name="l2758"><span class="linenum">2758</span></a>  <span class="comment"> * @param    int    $userid      (optional) the userid</span>
<a name="l2759"><span class="linenum">2759</span></a>  <span class="comment"> * @return   bool   true on success, false otherwise</span>
<a name="l2760"><span class="linenum">2760</span></a>  <span class="comment"> */</span>
<a name="l2761"><span class="linenum">2761</span></a>  function <a class="function" onClick="logFunction('tag_delete_instance')" href="../_functions/tag_delete_instance.html" onMouseOver="funcPopup(event,'tag_delete_instance')">tag_delete_instance</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = null) {
<a name="l2762"><span class="linenum">2762</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_delete_instance')" href="../_functions/tag_delete_instance.html" onMouseOver="funcPopup(event,'tag_delete_instance')">tag_delete_instance</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_item_tag')" href="../_functions/remove_item_tag.html" onMouseOver="funcPopup(event,'remove_item_tag')">remove_item_tag</a>() instead. ' .
<a name="l2763"><span class="linenum">2763</span></a>          'Component is required for retrieving instances', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2764"><span class="linenum">2764</span></a>      <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>);
<a name="l2765"><span class="linenum">2765</span></a>      <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_item_tag')" href="../_functions/remove_item_tag.html" onMouseOver="funcPopup(event,'remove_item_tag')">remove_item_tag</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('rawname')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/rawname.html">rawname</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l2766"><span class="linenum">2766</span></a>  }
<a name="l2767"><span class="linenum">2767</span></a>  
<a name="l2768"><span class="linenum">2768</span></a>  <span class="comment">/**</span>
<a name="l2769"><span class="linenum">2769</span></a>  <span class="comment"> * Find all records tagged with a tag of a given type ('post', 'user', etc.)</span>
<a name="l2770"><span class="linenum">2770</span></a>  <span class="comment"> *</span>
<a name="l2771"><span class="linenum">2771</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l2772"><span class="linenum">2772</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2773"><span class="linenum">2773</span></a>  <span class="comment"> * @category tag</span>
<a name="l2774"><span class="linenum">2774</span></a>  <span class="comment"> * @param    string   $tag       tag to look for</span>
<a name="l2775"><span class="linenum">2775</span></a>  <span class="comment"> * @param    string   $type      type to restrict search to.  If null, every matching record will be returned</span>
<a name="l2776"><span class="linenum">2776</span></a>  <span class="comment"> * @param    int      $limitfrom (optional, required if $limitnum is set) return a subset of records, starting at this point.</span>
<a name="l2777"><span class="linenum">2777</span></a>  <span class="comment"> * @param    int      $limitnum  (optional, required if $limitfrom is set) return a subset comprising this many records.</span>
<a name="l2778"><span class="linenum">2778</span></a>  <span class="comment"> * @return   array of matching objects, indexed by record id, from the table containing the type requested</span>
<a name="l2779"><span class="linenum">2779</span></a>  <span class="comment"> */</span>
<a name="l2780"><span class="linenum">2780</span></a>  function <a class="function" onClick="logFunction('tag_find_records')" href="../_functions/tag_find_records.html" onMouseOver="funcPopup(event,'tag_find_records')">tag_find_records</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>='', <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>='') {
<a name="l2781"><span class="linenum">2781</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_find_records')" href="../_functions/tag_find_records.html" onMouseOver="funcPopup(event,'tag_find_records')">tag_find_records</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>()-&gt;<a class="function" onClick="logFunction('get_tagged_items')" href="../_functions/get_tagged_items.html" onMouseOver="funcPopup(event,'get_tagged_items')">get_tagged_items</a>(). '.
<a name="l2782"><span class="linenum">2782</span></a>          'You need to specify tag collection when retrieving tag by name', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2783"><span class="linenum">2783</span></a>  
<a name="l2784"><span class="linenum">2784</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> || !<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) {
<a name="l2785"><span class="linenum">2785</span></a>          return array();
<a name="l2786"><span class="linenum">2786</span></a>      }
<a name="l2787"><span class="linenum">2787</span></a>  
<a name="l2788"><span class="linenum">2788</span></a>      <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>(<a class="class" onClick="logClass('core_tag_area')" href="../_classes/core_tag_area.html" onMouseOver="classPopup(event,'core_tag_area')">core_tag_area</a>::<a class="function" onClick="logFunction('get_collection')" href="../_functions/get_collection.html" onMouseOver="funcPopup(event,'get_collection')">get_collection</a>('', <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>), <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l2789"><span class="linenum">2789</span></a>      return <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a class="function" onClick="logFunction('get_tagged_items')" href="../_functions/get_tagged_items.html" onMouseOver="funcPopup(event,'get_tagged_items')">get_tagged_items</a>('', <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>);
<a name="l2790"><span class="linenum">2790</span></a>  }
<a name="l2791"><span class="linenum">2791</span></a>  
<a name="l2792"><span class="linenum">2792</span></a>  <span class="comment">/**</span>
<a name="l2793"><span class="linenum">2793</span></a>  <span class="comment"> * Adds one or more tag in the database.  This function should not be called directly : you should</span>
<a name="l2794"><span class="linenum">2794</span></a>  <span class="comment"> * use tag_set.</span>
<a name="l2795"><span class="linenum">2795</span></a>  <span class="comment"> *</span>
<a name="l2796"><span class="linenum">2796</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2797"><span class="linenum">2797</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2798"><span class="linenum">2798</span></a>  <span class="comment"> * @param   mixed    $tags     one tag, or an array of tags, to be created</span>
<a name="l2799"><span class="linenum">2799</span></a>  <span class="comment"> * @param   string   $type     type of tag to be created (&quot;default&quot; is the default value and &quot;official&quot; is the only other supported</span>
<a name="l2800"><span class="linenum">2800</span></a>  <span class="comment"> *                             value at this time). An official tag is kept even if there are no records tagged with it.</span>
<a name="l2801"><span class="linenum">2801</span></a>  <span class="comment"> * @return array     $tags ids indexed by their lowercase normalized names. Any boolean false in the array indicates an error while</span>
<a name="l2802"><span class="linenum">2802</span></a>  <span class="comment"> *                             adding the tag.</span>
<a name="l2803"><span class="linenum">2803</span></a>  <span class="comment"> */</span>
<a name="l2804"><span class="linenum">2804</span></a>  function <a class="function" onClick="logFunction('tag_add')" href="../_functions/tag_add.html" onMouseOver="funcPopup(event,'tag_add')">tag_add</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>=&quot;default&quot;) {
<a name="l2805"><span class="linenum">2805</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_add')" href="../_functions/tag_add.html" onMouseOver="funcPopup(event,'tag_add')">tag_add</a>() is deprecated. You can use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('create_if_missing')" href="../_functions/create_if_missing.html" onMouseOver="funcPopup(event,'create_if_missing')">create_if_missing</a>(), however it should not be necessary ' .
<a name="l2806"><span class="linenum">2806</span></a>          'since tags are created automatically when assigned to items', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2807"><span class="linenum">2807</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>)) {
<a name="l2808"><span class="linenum">2808</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = array(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l2809"><span class="linenum">2809</span></a>      }
<a name="l2810"><span class="linenum">2810</span></a>      <a class="var it2204" onMouseOver="hilite(2204)" onMouseOut="lolite()" onClick="logVariable('objects')" href="../_variables/objects.html">$objects</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('create_if_missing')" href="../_functions/create_if_missing.html" onMouseOver="funcPopup(event,'create_if_missing')">create_if_missing</a>(<a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_default')" href="../_functions/get_default.html" onMouseOver="funcPopup(event,'get_default')">get_default</a>(), <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>,
<a name="l2811"><span class="linenum">2811</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> === 'official');
<a name="l2812"><span class="linenum">2812</span></a>  
<a name="l2813"><span class="linenum">2813</span></a>  <span class="comment">    // New function returns the tags in different format, for BC we keep the format that this function used to have.</span>
<a name="l2814"><span class="linenum">2814</span></a>      <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a> = array();
<a name="l2815"><span class="linenum">2815</span></a>      foreach (<a class="var it2204" onMouseOver="hilite(2204)" onMouseOut="lolite()" onClick="logVariable('objects')" href="../_variables/objects.html">$objects</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>) {
<a name="l2816"><span class="linenum">2816</span></a>          if (isset(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('id')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l2817"><span class="linenum">2817</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>[<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('name')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/name.html">name</a>] = <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('id')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l2818"><span class="linenum">2818</span></a>          } else {
<a name="l2819"><span class="linenum">2819</span></a>              <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>] = false;
<a name="l2820"><span class="linenum">2820</span></a>          }
<a name="l2821"><span class="linenum">2821</span></a>      }
<a name="l2822"><span class="linenum">2822</span></a>      return <a class="var it2653" onMouseOver="hilite(2653)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>;
<a name="l2823"><span class="linenum">2823</span></a>  }
<a name="l2824"><span class="linenum">2824</span></a>  
<a name="l2825"><span class="linenum">2825</span></a>  <span class="comment">/**</span>
<a name="l2826"><span class="linenum">2826</span></a>  <span class="comment"> * Assigns a tag to a record; if the record already exists, the time and ordering will be updated.</span>
<a name="l2827"><span class="linenum">2827</span></a>  <span class="comment"> *</span>
<a name="l2828"><span class="linenum">2828</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2829"><span class="linenum">2829</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2830"><span class="linenum">2830</span></a>  <span class="comment"> * @param string $record_type the type of the record that will be tagged</span>
<a name="l2831"><span class="linenum">2831</span></a>  <span class="comment"> * @param int $record_id the id of the record that will be tagged</span>
<a name="l2832"><span class="linenum">2832</span></a>  <span class="comment"> * @param string $tagid the tag id to set on the record.</span>
<a name="l2833"><span class="linenum">2833</span></a>  <span class="comment"> * @param int $ordering the order of the instance for this record</span>
<a name="l2834"><span class="linenum">2834</span></a>  <span class="comment"> * @param int $userid (optional) only required for course tagging</span>
<a name="l2835"><span class="linenum">2835</span></a>  <span class="comment"> * @param string|null $component the component that was tagged</span>
<a name="l2836"><span class="linenum">2836</span></a>  <span class="comment"> * @param int|null $contextid the context id of where this tag was assigned</span>
<a name="l2837"><span class="linenum">2837</span></a>  <span class="comment"> * @return bool true on success, false otherwise</span>
<a name="l2838"><span class="linenum">2838</span></a>  <span class="comment"> */</span>
<a name="l2839"><span class="linenum">2839</span></a>  function <a class="function" onClick="logFunction('tag_assign')" href="../_functions/tag_assign.html" onMouseOver="funcPopup(event,'tag_assign')">tag_assign</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it2657" onMouseOver="hilite(2657)" onMouseOut="lolite()" onClick="logVariable('ordering')" href="../_variables/ordering.html">$ordering</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = 0, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = null, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> = null) {
<a name="l2840"><span class="linenum">2840</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2841"><span class="linenum">2841</span></a>      <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> = 'Function <a class="function" onClick="logFunction('tag_assign')" href="../_functions/tag_assign.html" onMouseOver="funcPopup(event,'tag_assign')">tag_assign</a>() is deprecated. Use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('set_item_tags')" href="../_functions/set_item_tags.html" onMouseOver="funcPopup(event,'set_item_tags')">set_item_tags</a>() or <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('add_item_tag')" href="../_functions/add_item_tag.html" onMouseOver="funcPopup(event,'add_item_tag')">add_item_tag</a>() instead. ' .
<a name="l2842"><span class="linenum">2842</span></a>          'Tag instance ordering should not be set manually';
<a name="l2843"><span class="linenum">2843</span></a>      if (<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> === null || <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> === null) {
<a name="l2844"><span class="linenum">2844</span></a>          <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a> .= '. You should specify the component and contextid of the item being tagged in your call to tag_assign.';
<a name="l2845"><span class="linenum">2845</span></a>      }
<a name="l2846"><span class="linenum">2846</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(<a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2847"><span class="linenum">2847</span></a>  
<a name="l2848"><span class="linenum">2848</span></a>      if (<a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) {
<a name="l2849"><span class="linenum">2849</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>);
<a name="l2850"><span class="linenum">2850</span></a>      } else {
<a name="l2851"><span class="linenum">2851</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l2852"><span class="linenum">2852</span></a>      }
<a name="l2853"><span class="linenum">2853</span></a>  
<a name="l2854"><span class="linenum">2854</span></a>  <span class="comment">    // Get the tag.</span>
<a name="l2855"><span class="linenum">2855</span></a>      <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tag', array('id' =&gt; <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>), 'name, rawname', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l2856"><span class="linenum">2856</span></a>  
<a name="l2857"><span class="linenum">2857</span></a>      <a class="var it2660" onMouseOver="hilite(2660)" onMouseOut="lolite()" onClick="logVariable('taginstanceid')" href="../_variables/taginstanceid.html">$taginstanceid</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('add_item_tag')" href="../_functions/add_item_tag.html" onMouseOver="funcPopup(event,'add_item_tag')">add_item_tag</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('rawname')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/rawname.html">rawname</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l2858"><span class="linenum">2858</span></a>  
<a name="l2859"><span class="linenum">2859</span></a>  <span class="comment">    // Alter the &quot;ordering&quot; of tag_instance. This should never be done manually and only remains here for the backward compatibility.</span>
<a name="l2860"><span class="linenum">2860</span></a>      <a class="var it2661" onMouseOver="hilite(2661)" onMouseOut="lolite()" onClick="logVariable('taginstance')" href="../_variables/taginstance.html">$taginstance</a> = new stdClass();
<a name="l2861"><span class="linenum">2861</span></a>      <a class="var it2661" onMouseOver="hilite(2661)" onMouseOut="lolite()" onClick="logVariable('taginstance')" href="../_variables/taginstance.html">$taginstance</a>-&gt;<a onClick="logVariable('id')" class="var it43266" onMouseOver="hilite(43266)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it2660" onMouseOver="hilite(2660)" onMouseOut="lolite()" onClick="logVariable('taginstanceid')" href="../_variables/taginstanceid.html">$taginstanceid</a>;
<a name="l2862"><span class="linenum">2862</span></a>      <a class="var it2661" onMouseOver="hilite(2661)" onMouseOut="lolite()" onClick="logVariable('taginstance')" href="../_variables/taginstance.html">$taginstance</a>-&gt;<a onClick="logVariable('ordering')" class="var it43266" onMouseOver="hilite(43266)" onMouseOut="lolite()" href="../_variables/ordering.html">ordering</a>     = <a class="var it2657" onMouseOver="hilite(2657)" onMouseOut="lolite()" onClick="logVariable('ordering')" href="../_variables/ordering.html">$ordering</a>;
<a name="l2863"><span class="linenum">2863</span></a>      <a class="var it2661" onMouseOver="hilite(2661)" onMouseOut="lolite()" onClick="logVariable('taginstance')" href="../_variables/taginstance.html">$taginstance</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43266" onMouseOver="hilite(43266)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l2864"><span class="linenum">2864</span></a>  
<a name="l2865"><span class="linenum">2865</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('tag_instance', <a class="var it2661" onMouseOver="hilite(2661)" onMouseOut="lolite()" onClick="logVariable('taginstance')" href="../_variables/taginstance.html">$taginstance</a>);
<a name="l2866"><span class="linenum">2866</span></a>  
<a name="l2867"><span class="linenum">2867</span></a>      return true;
<a name="l2868"><span class="linenum">2868</span></a>  }
<a name="l2869"><span class="linenum">2869</span></a>  
<a name="l2870"><span class="linenum">2870</span></a>  <span class="comment">/**</span>
<a name="l2871"><span class="linenum">2871</span></a>  <span class="comment"> * Count how many records are tagged with a specific tag.</span>
<a name="l2872"><span class="linenum">2872</span></a>  <span class="comment"> *</span>
<a name="l2873"><span class="linenum">2873</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2874"><span class="linenum">2874</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2875"><span class="linenum">2875</span></a>  <span class="comment"> * @param   string   $record_type record to look for ('post', 'user', etc.)</span>
<a name="l2876"><span class="linenum">2876</span></a>  <span class="comment"> * @param   int      $tagid       is a single tag id</span>
<a name="l2877"><span class="linenum">2877</span></a>  <span class="comment"> * @return  int      number of mathing tags.</span>
<a name="l2878"><span class="linenum">2878</span></a>  <span class="comment"> */</span>
<a name="l2879"><span class="linenum">2879</span></a>  function <a class="function" onClick="logFunction('tag_record_count')" href="../_functions/tag_record_count.html" onMouseOver="funcPopup(event,'tag_record_count')">tag_record_count</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>) {
<a name="l2880"><span class="linenum">2880</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_record_count')" href="../_functions/tag_record_count.html" onMouseOver="funcPopup(event,'tag_record_count')">tag_record_count</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('count_tagged_items')" href="../_functions/count_tagged_items.html" onMouseOver="funcPopup(event,'count_tagged_items')">count_tagged_items</a>(). '.
<a name="l2881"><span class="linenum">2881</span></a>          'Component is now required when retrieving tag instances.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2882"><span class="linenum">2882</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('count_tagged_items')" href="../_functions/count_tagged_items.html" onMouseOver="funcPopup(event,'count_tagged_items')">count_tagged_items</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>);
<a name="l2883"><span class="linenum">2883</span></a>  }
<a name="l2884"><span class="linenum">2884</span></a>  
<a name="l2885"><span class="linenum">2885</span></a>  <span class="comment">/**</span>
<a name="l2886"><span class="linenum">2886</span></a>  <span class="comment"> * Determine if a record is tagged with a specific tag</span>
<a name="l2887"><span class="linenum">2887</span></a>  <span class="comment"> *</span>
<a name="l2888"><span class="linenum">2888</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2889"><span class="linenum">2889</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2890"><span class="linenum">2890</span></a>  <span class="comment"> * @param   string   $record_type the record type to look for</span>
<a name="l2891"><span class="linenum">2891</span></a>  <span class="comment"> * @param   int      $record_id   the record id to look for</span>
<a name="l2892"><span class="linenum">2892</span></a>  <span class="comment"> * @param   string   $tag         a tag name</span>
<a name="l2893"><span class="linenum">2893</span></a>  <span class="comment"> * @return  bool/int true if it is tagged, 0 (false) otherwise</span>
<a name="l2894"><span class="linenum">2894</span></a>  <span class="comment"> */</span>
<a name="l2895"><span class="linenum">2895</span></a>  function <a class="function" onClick="logFunction('tag_record_tagged_with')" href="../_functions/tag_record_tagged_with.html" onMouseOver="funcPopup(event,'tag_record_tagged_with')">tag_record_tagged_with</a>(<a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l2896"><span class="linenum">2896</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_record_tagged_with')" href="../_functions/tag_record_tagged_with.html" onMouseOver="funcPopup(event,'tag_record_tagged_with')">tag_record_tagged_with</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('is_item_tagged_with')" href="../_functions/is_item_tagged_with.html" onMouseOver="funcPopup(event,'is_item_tagged_with')">is_item_tagged_with</a>(). '.
<a name="l2897"><span class="linenum">2897</span></a>          'Component is now required when retrieving tag instances.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2898"><span class="linenum">2898</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('is_item_tagged_with')" href="../_functions/is_item_tagged_with.html" onMouseOver="funcPopup(event,'is_item_tagged_with')">is_item_tagged_with</a>('', <a class="var it2650" onMouseOver="hilite(2650)" onMouseOut="lolite()" onClick="logVariable('record_type')" href="../_variables/record_type.html">$record_type</a>, <a class="var it2651" onMouseOver="hilite(2651)" onMouseOut="lolite()" onClick="logVariable('record_id')" href="../_variables/record_id.html">$record_id</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l2899"><span class="linenum">2899</span></a>  }
<a name="l2900"><span class="linenum">2900</span></a>  
<a name="l2901"><span class="linenum">2901</span></a>  <span class="comment">/**</span>
<a name="l2902"><span class="linenum">2902</span></a>  <span class="comment"> * Flag a tag as inappropriate.</span>
<a name="l2903"><span class="linenum">2903</span></a>  <span class="comment"> *</span>
<a name="l2904"><span class="linenum">2904</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2905"><span class="linenum">2905</span></a>  <span class="comment"> * @param int|array $tagids a single tagid, or an array of tagids</span>
<a name="l2906"><span class="linenum">2906</span></a>  <span class="comment"> */</span>
<a name="l2907"><span class="linenum">2907</span></a>  function <a class="function" onClick="logFunction('tag_set_flag')" href="../_functions/tag_set_flag.html" onMouseOver="funcPopup(event,'tag_set_flag')">tag_set_flag</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>) {
<a name="l2908"><span class="linenum">2908</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_set_flag')" href="../_functions/tag_set_flag.html" onMouseOver="funcPopup(event,'tag_set_flag')">tag_set_flag</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('flag')" href="../_functions/flag.html" onMouseOver="funcPopup(event,'flag')">flag</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2909"><span class="linenum">2909</span></a>      <a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a> = (array) <a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>;
<a name="l2910"><span class="linenum">2910</span></a>      foreach (<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a> as <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>) {
<a name="l2911"><span class="linenum">2911</span></a>          if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, '*')) {
<a name="l2912"><span class="linenum">2912</span></a>              <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('flag')" href="../_functions/flag.html" onMouseOver="funcPopup(event,'flag')">flag</a>();
<a name="l2913"><span class="linenum">2913</span></a>          }
<a name="l2914"><span class="linenum">2914</span></a>      }
<a name="l2915"><span class="linenum">2915</span></a>  }
<a name="l2916"><span class="linenum">2916</span></a>  
<a name="l2917"><span class="linenum">2917</span></a>  <span class="comment">/**</span>
<a name="l2918"><span class="linenum">2918</span></a>  <span class="comment"> * Remove the inappropriate flag on a tag.</span>
<a name="l2919"><span class="linenum">2919</span></a>  <span class="comment"> *</span>
<a name="l2920"><span class="linenum">2920</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2921"><span class="linenum">2921</span></a>  <span class="comment"> * @param int|array $tagids a single tagid, or an array of tagids</span>
<a name="l2922"><span class="linenum">2922</span></a>  <span class="comment"> */</span>
<a name="l2923"><span class="linenum">2923</span></a>  function <a class="function" onClick="logFunction('tag_unset_flag')" href="../_functions/tag_unset_flag.html" onMouseOver="funcPopup(event,'tag_unset_flag')">tag_unset_flag</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>) {
<a name="l2924"><span class="linenum">2924</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_unset_flag')" href="../_functions/tag_unset_flag.html" onMouseOver="funcPopup(event,'tag_unset_flag')">tag_unset_flag</a>() is deprecated and replaced with <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)-&gt;<a class="function" onClick="logFunction('reset_flag')" href="../_functions/reset_flag.html" onMouseOver="funcPopup(event,'reset_flag')">reset_flag</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2925"><span class="linenum">2925</span></a>      <a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a> = (array) <a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>;
<a name="l2926"><span class="linenum">2926</span></a>      foreach (<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a> as <a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>) {
<a name="l2927"><span class="linenum">2927</span></a>          if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, '*')) {
<a name="l2928"><span class="linenum">2928</span></a>              <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('reset_flag')" href="../_functions/reset_flag.html" onMouseOver="funcPopup(event,'reset_flag')">reset_flag</a>();
<a name="l2929"><span class="linenum">2929</span></a>          }
<a name="l2930"><span class="linenum">2930</span></a>      }
<a name="l2931"><span class="linenum">2931</span></a>  }
<a name="l2932"><span class="linenum">2932</span></a>  
<a name="l2933"><span class="linenum">2933</span></a>  <span class="comment">/**</span>
<a name="l2934"><span class="linenum">2934</span></a>  <span class="comment"> * Prints or returns a HTML tag cloud with varying classes styles depending on the popularity and type of each tag.</span>
<a name="l2935"><span class="linenum">2935</span></a>  <span class="comment"> *</span>
<a name="l2936"><span class="linenum">2936</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l2937"><span class="linenum">2937</span></a>  <span class="comment"> *</span>
<a name="l2938"><span class="linenum">2938</span></a>  <span class="comment"> * @param    array     $tagset Array of tags to display</span>
<a name="l2939"><span class="linenum">2939</span></a>  <span class="comment"> * @param    int       $nr_of_tags Limit for the number of tags to return/display, used if $tagset is null</span>
<a name="l2940"><span class="linenum">2940</span></a>  <span class="comment"> * @param    bool      $return     if true the function will return the generated tag cloud instead of displaying it.</span>
<a name="l2941"><span class="linenum">2941</span></a>  <span class="comment"> * @param    string    $sort (optional) selected sorting, default is alpha sort (name) also timemodified or popularity</span>
<a name="l2942"><span class="linenum">2942</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l2943"><span class="linenum">2943</span></a>  <span class="comment"> */</span>
<a name="l2944"><span class="linenum">2944</span></a>  function <a class="function" onClick="logFunction('tag_print_cloud')" href="../_functions/tag_print_cloud.html" onMouseOver="funcPopup(event,'tag_print_cloud')">tag_print_cloud</a>(<a class="var it2663" onMouseOver="hilite(2663)" onMouseOut="lolite()" onClick="logVariable('tagset')" href="../_variables/tagset.html">$tagset</a>=null, <a class="var it2664" onMouseOver="hilite(2664)" onMouseOut="lolite()" onClick="logVariable('nr_of_tags')" href="../_variables/nr_of_tags.html">$nr_of_tags</a>=150, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>='') {
<a name="l2945"><span class="linenum">2945</span></a>      global <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2946"><span class="linenum">2946</span></a>  
<a name="l2947"><span class="linenum">2947</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_cloud')" href="../_functions/tag_print_cloud.html" onMouseOver="funcPopup(event,'tag_print_cloud')">tag_print_cloud</a>() is deprecated and replaced with function <a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_tag_cloud')" href="../_functions/get_tag_cloud.html" onMouseOver="funcPopup(event,'get_tag_cloud')">get_tag_cloud</a>(), '
<a name="l2948"><span class="linenum">2948</span></a>              . 'templateable core_tag\output\tagcloud and template core_tag/tagcloud.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2949"><span class="linenum">2949</span></a>  
<a name="l2950"><span class="linenum">2950</span></a>  <span class="comment">    // Set up sort global - used to pass sort type into core_tag_collection::cloud_sort through usort() avoiding multiple sort functions.</span>
<a name="l2951"><span class="linenum">2951</span></a>      if (<a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> == 'popularity') {
<a name="l2952"><span class="linenum">2952</span></a>          <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'count';
<a name="l2953"><span class="linenum">2953</span></a>      } else if (<a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> == 'date') {
<a name="l2954"><span class="linenum">2954</span></a>          <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'timemodified';
<a name="l2955"><span class="linenum">2955</span></a>      } else {
<a name="l2956"><span class="linenum">2956</span></a>          <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'name';
<a name="l2957"><span class="linenum">2957</span></a>      }
<a name="l2958"><span class="linenum">2958</span></a>  
<a name="l2959"><span class="linenum">2959</span></a>      if (<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it2663" onMouseOver="hilite(2663)" onMouseOut="lolite()" onClick="logVariable('tagset')" href="../_variables/tagset.html">$tagset</a>)) {
<a name="l2960"><span class="linenum">2960</span></a>  <span class="comment">        // No tag set received, so fetch tags from database.</span>
<a name="l2961"><span class="linenum">2961</span></a>  <span class="comment">        // Always add query by tagcollid even when it's not known to make use of the table index.</span>
<a name="l2962"><span class="linenum">2962</span></a>          <a class="var it2665" onMouseOver="hilite(2665)" onMouseOut="lolite()" onClick="logVariable('tagcloud')" href="../_variables/tagcloud.html">$tagcloud</a> = <a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_tag_cloud')" href="../_functions/get_tag_cloud.html" onMouseOver="funcPopup(event,'get_tag_cloud')">get_tag_cloud</a>(0, false, <a class="var it2664" onMouseOver="hilite(2664)" onMouseOut="lolite()" onClick="logVariable('nr_of_tags')" href="../_variables/nr_of_tags.html">$nr_of_tags</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>);
<a name="l2963"><span class="linenum">2963</span></a>      } else {
<a name="l2964"><span class="linenum">2964</span></a>          <a class="var it2666" onMouseOver="hilite(2666)" onMouseOut="lolite()" onClick="logVariable('tagsincloud')" href="../_variables/tagsincloud.html">$tagsincloud</a> = <a class="var it2663" onMouseOver="hilite(2663)" onMouseOut="lolite()" onClick="logVariable('tagset')" href="../_variables/tagset.html">$tagset</a>;
<a name="l2965"><span class="linenum">2965</span></a>  
<a name="l2966"><span class="linenum">2966</span></a>          <a class="var it2667" onMouseOver="hilite(2667)" onMouseOut="lolite()" onClick="logVariable('etags')" href="../_variables/etags.html">$etags</a> = array();
<a name="l2967"><span class="linenum">2967</span></a>          foreach (<a class="var it2666" onMouseOver="hilite(2666)" onMouseOut="lolite()" onClick="logVariable('tagsincloud')" href="../_variables/tagsincloud.html">$tagsincloud</a> as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l2968"><span class="linenum">2968</span></a>              <a class="var it2667" onMouseOver="hilite(2667)" onMouseOut="lolite()" onClick="logVariable('etags')" href="../_variables/etags.html">$etags</a>[] = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>;
<a name="l2969"><span class="linenum">2969</span></a>          }
<a name="l2970"><span class="linenum">2970</span></a>  
<a name="l2971"><span class="linenum">2971</span></a>          core_tag_collection::<a class="var it2668" onMouseOver="hilite(2668)" onMouseOut="lolite()" onClick="logVariable('cloudsortfield')" href="../_variables/cloudsortfield.html">$cloudsortfield</a> = <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>;
<a name="l2972"><span class="linenum">2972</span></a>          <a class="phpfunction" onClick="logFunction('usort')" href="../_functions/usort.html" onMouseOver="phpfuncPopup(event,'usort')">usort</a>(<a class="var it2666" onMouseOver="hilite(2666)" onMouseOut="lolite()" onClick="logVariable('tagsincloud')" href="../_variables/tagsincloud.html">$tagsincloud</a>, &quot;<a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::cloud_sort&quot;);
<a name="l2973"><span class="linenum">2973</span></a>  
<a name="l2974"><span class="linenum">2974</span></a>          <a class="var it2665" onMouseOver="hilite(2665)" onMouseOut="lolite()" onClick="logVariable('tagcloud')" href="../_variables/tagcloud.html">$tagcloud</a> = new \core_tag\output\tagcloud(<a class="var it2666" onMouseOver="hilite(2666)" onMouseOut="lolite()" onClick="logVariable('tagsincloud')" href="../_variables/tagsincloud.html">$tagsincloud</a>);
<a name="l2975"><span class="linenum">2975</span></a>      }
<a name="l2976"><span class="linenum">2976</span></a>  
<a name="l2977"><span class="linenum">2977</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render_from_template')" href="../_functions/render_from_template.html" onMouseOver="funcPopup(event,'render_from_template')">render_from_template</a>('core_tag/tagcloud', <a class="var it2665" onMouseOver="hilite(2665)" onMouseOut="lolite()" onClick="logVariable('tagcloud')" href="../_variables/tagcloud.html">$tagcloud</a>-&gt;<a class="function" onClick="logFunction('export_for_template')" href="../_functions/export_for_template.html" onMouseOver="funcPopup(event,'export_for_template')">export_for_template</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>));
<a name="l2978"><span class="linenum">2978</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l2979"><span class="linenum">2979</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l2980"><span class="linenum">2980</span></a>      } else {
<a name="l2981"><span class="linenum">2981</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l2982"><span class="linenum">2982</span></a>      }
<a name="l2983"><span class="linenum">2983</span></a>  }
<a name="l2984"><span class="linenum">2984</span></a>  
<a name="l2985"><span class="linenum">2985</span></a>  <span class="comment">/**</span>
<a name="l2986"><span class="linenum">2986</span></a>  <span class="comment"> * Function that returns tags that start with some text, for use by the autocomplete feature</span>
<a name="l2987"><span class="linenum">2987</span></a>  <span class="comment"> *</span>
<a name="l2988"><span class="linenum">2988</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l2989"><span class="linenum">2989</span></a>  <span class="comment"> * @deprecated since 3.0</span>
<a name="l2990"><span class="linenum">2990</span></a>  <span class="comment"> * @access  private</span>
<a name="l2991"><span class="linenum">2991</span></a>  <span class="comment"> * @param   string   $text string that the tag names will be matched against</span>
<a name="l2992"><span class="linenum">2992</span></a>  <span class="comment"> * @return  mixed    an array of objects, or false if no records were found or an error occured.</span>
<a name="l2993"><span class="linenum">2993</span></a>  <span class="comment"> */</span>
<a name="l2994"><span class="linenum">2994</span></a>  function <a class="function" onClick="logFunction('tag_autocomplete')" href="../_functions/tag_autocomplete.html" onMouseOver="funcPopup(event,'tag_autocomplete')">tag_autocomplete</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>) {
<a name="l2995"><span class="linenum">2995</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_autocomplete')" href="../_functions/tag_autocomplete.html" onMouseOver="funcPopup(event,'tag_autocomplete')">tag_autocomplete</a>() is deprecated without replacement. ' .
<a name="l2996"><span class="linenum">2996</span></a>              'New form element &quot;tags&quot; does proper autocomplete.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2997"><span class="linenum">2997</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2998"><span class="linenum">2998</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT tg.id, tg.name, tg.rawname
<a name="l2999"><span class="linenum">2999</span></a>                                     FROM {tag} tg
<a name="l3000"><span class="linenum">3000</span></a>                                    WHERE tg.name LIKE ?&quot;, array(<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>).&quot;%&quot;));
<a name="l3001"><span class="linenum">3001</span></a>  }
<a name="l3002"><span class="linenum">3002</span></a>  
<a name="l3003"><span class="linenum">3003</span></a>  <span class="comment">/**</span>
<a name="l3004"><span class="linenum">3004</span></a>  <span class="comment"> * Prints a box with the description of a tag and its related tags</span>
<a name="l3005"><span class="linenum">3005</span></a>  <span class="comment"> *</span>
<a name="l3006"><span class="linenum">3006</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3007"><span class="linenum">3007</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3008"><span class="linenum">3008</span></a>  <span class="comment"> * @param   stdClass    $tag_object</span>
<a name="l3009"><span class="linenum">3009</span></a>  <span class="comment"> * @param   bool        $return     if true the function will return the generated tag cloud instead of displaying it.</span>
<a name="l3010"><span class="linenum">3010</span></a>  <span class="comment"> * @return  string/null a HTML box showing a description of the tag object and it's relationsips or null if output is done directly</span>
<a name="l3011"><span class="linenum">3011</span></a>  <span class="comment"> *                      in the function.</span>
<a name="l3012"><span class="linenum">3012</span></a>  <span class="comment"> */</span>
<a name="l3013"><span class="linenum">3013</span></a>  function <a class="function" onClick="logFunction('tag_print_description_box')" href="../_functions/tag_print_description_box.html" onMouseOver="funcPopup(event,'tag_print_description_box')">tag_print_description_box</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3014"><span class="linenum">3014</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3015"><span class="linenum">3015</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/filelib.php');
<a name="l3016"><span class="linenum">3016</span></a>  
<a name="l3017"><span class="linenum">3017</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_description_box')" href="../_functions/tag_print_description_box.html" onMouseOver="funcPopup(event,'tag_print_description_box')">tag_print_description_box</a>() is deprecated without replacement. ' .
<a name="l3018"><span class="linenum">3018</span></a>              'See core_tag_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3019"><span class="linenum">3019</span></a>  
<a name="l3020"><span class="linenum">3020</span></a>      <a class="var it2670" onMouseOver="hilite(2670)" onMouseOut="lolite()" onClick="logVariable('relatedtags')" href="../_variables/relatedtags.html">$relatedtags</a> = array();
<a name="l3021"><span class="linenum">3021</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('id')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l3022"><span class="linenum">3022</span></a>          <a class="var it2670" onMouseOver="hilite(2670)" onMouseOut="lolite()" onClick="logVariable('relatedtags')" href="../_variables/relatedtags.html">$relatedtags</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('get_related_tags')" href="../_functions/get_related_tags.html" onMouseOver="funcPopup(event,'get_related_tags')">get_related_tags</a>();
<a name="l3023"><span class="linenum">3023</span></a>      }
<a name="l3024"><span class="linenum">3024</span></a>  
<a name="l3025"><span class="linenum">3025</span></a>      <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = !empty(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('description')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/description.html">description</a>);
<a name="l3026"><span class="linenum">3026</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l3027"><span class="linenum">3027</span></a>  
<a name="l3028"><span class="linenum">3028</span></a>      if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>) {
<a name="l3029"><span class="linenum">3029</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox tag-description');
<a name="l3030"><span class="linenum">3030</span></a>      }
<a name="l3031"><span class="linenum">3031</span></a>  
<a name="l3032"><span class="linenum">3032</span></a>      if (!empty(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('description')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/description.html">description</a>)) {
<a name="l3033"><span class="linenum">3033</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = new stdClass();
<a name="l3034"><span class="linenum">3034</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('para')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../_variables/para.html">para</a> = false;
<a name="l3035"><span class="linenum">3035</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('overflowdiv')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../_variables/overflowdiv.html">overflowdiv</a> = true;
<a name="l3036"><span class="linenum">3036</span></a>          <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('description')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/description.html">description</a> = <a class="function" onClick="logFunction('file_rewrite_pluginfile_urls')" href="../_functions/file_rewrite_pluginfile_urls.html" onMouseOver="funcPopup(event,'file_rewrite_pluginfile_urls')">file_rewrite_pluginfile_urls</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('description')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, '<a class="filename" href="../pluginfile.php.html">pluginfile.php</a>', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>()-&gt;id, 'tag', 'description', <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('id')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3037"><span class="linenum">3037</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="function" onClick="logFunction('format_text')" href="../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('description')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l3038"><span class="linenum">3038</span></a>      }
<a name="l3039"><span class="linenum">3039</span></a>  
<a name="l3040"><span class="linenum">3040</span></a>      if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>) {
<a name="l3041"><span class="linenum">3041</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l3042"><span class="linenum">3042</span></a>      }
<a name="l3043"><span class="linenum">3043</span></a>  
<a name="l3044"><span class="linenum">3044</span></a>      if (<a class="var it2670" onMouseOver="hilite(2670)" onMouseOut="lolite()" onClick="logVariable('relatedtags')" href="../_variables/relatedtags.html">$relatedtags</a>) {
<a name="l3045"><span class="linenum">3045</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('tag_list')" href="../_functions/tag_list.html" onMouseOver="funcPopup(event,'tag_list')">tag_list</a>(<a class="var it2670" onMouseOver="hilite(2670)" onMouseOut="lolite()" onClick="logVariable('relatedtags')" href="../_variables/relatedtags.html">$relatedtags</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('relatedtags', 'tag'), 'tag-relatedtags');
<a name="l3046"><span class="linenum">3046</span></a>      }
<a name="l3047"><span class="linenum">3047</span></a>  
<a name="l3048"><span class="linenum">3048</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3049"><span class="linenum">3049</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3050"><span class="linenum">3050</span></a>      } else {
<a name="l3051"><span class="linenum">3051</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3052"><span class="linenum">3052</span></a>      }
<a name="l3053"><span class="linenum">3053</span></a>  }
<a name="l3054"><span class="linenum">3054</span></a>  
<a name="l3055"><span class="linenum">3055</span></a>  <span class="comment">/**</span>
<a name="l3056"><span class="linenum">3056</span></a>  <span class="comment"> * Prints a box that contains the management links of a tag</span>
<a name="l3057"><span class="linenum">3057</span></a>  <span class="comment"> *</span>
<a name="l3058"><span class="linenum">3058</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3059"><span class="linenum">3059</span></a>  <span class="comment"> * @param  core_tag_tag|stdClass    $tag_object</span>
<a name="l3060"><span class="linenum">3060</span></a>  <span class="comment"> * @param  bool        $return     if true the function will return the generated tag cloud instead of displaying it.</span>
<a name="l3061"><span class="linenum">3061</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3062"><span class="linenum">3062</span></a>  <span class="comment"> */</span>
<a name="l3063"><span class="linenum">3063</span></a>  function <a class="function" onClick="logFunction('tag_print_management_box')" href="../_functions/tag_print_management_box.html" onMouseOver="funcPopup(event,'tag_print_management_box')">tag_print_management_box</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3064"><span class="linenum">3064</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3065"><span class="linenum">3065</span></a>  
<a name="l3066"><span class="linenum">3066</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_description_box')" href="../_functions/tag_print_description_box.html" onMouseOver="funcPopup(event,'tag_print_description_box')">tag_print_description_box</a>() is deprecated without replacement. ' .
<a name="l3067"><span class="linenum">3067</span></a>              'See core_tag_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3068"><span class="linenum">3068</span></a>  
<a name="l3069"><span class="linenum">3069</span></a>      <a class="var it2390" onMouseOver="hilite(2390)" onMouseOut="lolite()" onClick="logVariable('tagname')" href="../_variables/tagname.html">$tagname</a>  = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_display_name')" href="../_functions/make_display_name.html" onMouseOver="funcPopup(event,'make_display_name')">make_display_name</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>);
<a name="l3070"><span class="linenum">3070</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l3071"><span class="linenum">3071</span></a>  
<a name="l3072"><span class="linenum">3072</span></a>      if (!<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l3073"><span class="linenum">3073</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('box','tag-management-box');
<a name="l3074"><span class="linenum">3074</span></a>          <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>   = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l3075"><span class="linenum">3075</span></a>          <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a> = array();
<a name="l3076"><span class="linenum">3076</span></a>  
<a name="l3077"><span class="linenum">3077</span></a>  <span class="comment">        // Add a link for users to add/remove this from their interests</span>
<a name="l3078"><span class="linenum">3078</span></a>          if (<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('is_enabled')" href="../_functions/is_enabled.html" onMouseOver="funcPopup(event,'is_enabled')">is_enabled</a>('core', 'user') &amp;&amp; <a class="class" onClick="logClass('core_tag_area')" href="../_classes/core_tag_area.html" onMouseOver="classPopup(event,'core_tag_area')">core_tag_area</a>::<a class="function" onClick="logFunction('get_collection')" href="../_functions/get_collection.html" onMouseOver="funcPopup(event,'get_collection')">get_collection</a>('core', 'user') == <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('tagcollid')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/tagcollid.html">tagcollid</a>) {
<a name="l3079"><span class="linenum">3079</span></a>              if (<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('is_item_tagged_with')" href="../_functions/is_item_tagged_with.html" onMouseOver="funcPopup(event,'is_item_tagged_with')">is_item_tagged_with</a>('core', 'user', <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('name')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/name.html">name</a>)) {
<a name="l3080"><span class="linenum">3080</span></a>                  <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a>[] = '&lt;a href=&quot;'. <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> .'/tag/user.php?action=removeinterest&amp;amp;sesskey='. <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>() .
<a name="l3081"><span class="linenum">3081</span></a>                          '&amp;amp;tag='. <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('name')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/name.html">name</a>) .'&quot;&gt;'.
<a name="l3082"><span class="linenum">3082</span></a>                          <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('removetagfrommyinterests', 'tag', <a class="var it2390" onMouseOver="hilite(2390)" onMouseOut="lolite()" onClick="logVariable('tagname')" href="../_variables/tagname.html">$tagname</a>) .'&lt;/a&gt;';
<a name="l3083"><span class="linenum">3083</span></a>              } else {
<a name="l3084"><span class="linenum">3084</span></a>                  <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a>[] = '&lt;a href=&quot;'. <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> .'/tag/user.php?action=addinterest&amp;amp;sesskey='. <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>() .
<a name="l3085"><span class="linenum">3085</span></a>                          '&amp;amp;tag='. <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('name')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/name.html">name</a>) .'&quot;&gt;'.
<a name="l3086"><span class="linenum">3086</span></a>                          <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addtagtomyinterests', 'tag', <a class="var it2390" onMouseOver="hilite(2390)" onMouseOut="lolite()" onClick="logVariable('tagname')" href="../_variables/tagname.html">$tagname</a>) .'&lt;/a&gt;';
<a name="l3087"><span class="linenum">3087</span></a>              }
<a name="l3088"><span class="linenum">3088</span></a>          }
<a name="l3089"><span class="linenum">3089</span></a>  
<a name="l3090"><span class="linenum">3090</span></a>  <span class="comment">        // Flag as inappropriate link.  Only people with moodle/tag:flag capability.</span>
<a name="l3091"><span class="linenum">3091</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/tag:flag', <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>)) {
<a name="l3092"><span class="linenum">3092</span></a>              <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a>[] = '&lt;a href=&quot;'. <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> .'/tag/user.php?action=flaginappropriate&amp;amp;sesskey='.
<a name="l3093"><span class="linenum">3093</span></a>                      <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>() . '&amp;amp;id='. <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('id')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/id.html">id</a> . '&quot;&gt;'. <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('flagasinappropriate',
<a name="l3094"><span class="linenum">3094</span></a>                              'tag', <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it2390" onMouseOver="hilite(2390)" onMouseOut="lolite()" onClick="logVariable('tagname')" href="../_variables/tagname.html">$tagname</a>)) .'&lt;/a&gt;';
<a name="l3095"><span class="linenum">3095</span></a>          }
<a name="l3096"><span class="linenum">3096</span></a>  
<a name="l3097"><span class="linenum">3097</span></a>  <span class="comment">        // Edit tag: Only people with moodle/tag:edit capability who either have it as an interest or can manage tags</span>
<a name="l3098"><span class="linenum">3098</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/tag:edit', <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>) ||
<a name="l3099"><span class="linenum">3099</span></a>              <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/tag:manage', <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>)) {
<a name="l3100"><span class="linenum">3100</span></a>              <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a>[] = '&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/tag/edit.php?id=' . <a class="var it2669" onMouseOver="hilite(2669)" onMouseOut="lolite()" onClick="logVariable('tag_object')" href="../_variables/tag_object.html">$tag_object</a>-&gt;<a onClick="logVariable('id')" class="var it44237" onMouseOver="hilite(44237)" onMouseOut="lolite()" href="../_variables/id.html">id</a> . '&quot;&gt;' .
<a name="l3101"><span class="linenum">3101</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edittag', 'tag') . '&lt;/a&gt;';
<a name="l3102"><span class="linenum">3102</span></a>          }
<a name="l3103"><span class="linenum">3103</span></a>  
<a name="l3104"><span class="linenum">3104</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' | ', <a class="var it1003" onMouseOver="hilite(1003)" onMouseOut="lolite()" onClick="logVariable('links')" href="../_variables/links.html">$links</a>);
<a name="l3105"><span class="linenum">3105</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l3106"><span class="linenum">3106</span></a>      }
<a name="l3107"><span class="linenum">3107</span></a>  
<a name="l3108"><span class="linenum">3108</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3109"><span class="linenum">3109</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3110"><span class="linenum">3110</span></a>      } else {
<a name="l3111"><span class="linenum">3111</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3112"><span class="linenum">3112</span></a>      }
<a name="l3113"><span class="linenum">3113</span></a>  }
<a name="l3114"><span class="linenum">3114</span></a>  
<a name="l3115"><span class="linenum">3115</span></a>  <span class="comment">/**</span>
<a name="l3116"><span class="linenum">3116</span></a>  <span class="comment"> * Prints the tag search box</span>
<a name="l3117"><span class="linenum">3117</span></a>  <span class="comment"> *</span>
<a name="l3118"><span class="linenum">3118</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3119"><span class="linenum">3119</span></a>  <span class="comment"> * @param  bool        $return if true return html string</span>
<a name="l3120"><span class="linenum">3120</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3121"><span class="linenum">3121</span></a>  <span class="comment"> */</span>
<a name="l3122"><span class="linenum">3122</span></a>  function <a class="function" onClick="logFunction('tag_print_search_box')" href="../_functions/tag_print_search_box.html" onMouseOver="funcPopup(event,'tag_print_search_box')">tag_print_search_box</a>(<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3123"><span class="linenum">3123</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3124"><span class="linenum">3124</span></a>  
<a name="l3125"><span class="linenum">3125</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_search_box')" href="../_functions/tag_print_search_box.html" onMouseOver="funcPopup(event,'tag_print_search_box')">tag_print_search_box</a>() is deprecated without replacement. ' .
<a name="l3126"><span class="linenum">3126</span></a>              'See core_tag_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3127"><span class="linenum">3127</span></a>  
<a name="l3128"><span class="linenum">3128</span></a>      <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a> = <a class="function" onClick="logFunction('optional_param')" href="../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('query', '', <a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l3129"><span class="linenum">3129</span></a>  
<a name="l3130"><span class="linenum">3130</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('','tag-search-box');
<a name="l3131"><span class="linenum">3131</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;form action=&quot;'.<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/tag/search.php&quot; style=&quot;display:inline&quot;&gt;';
<a name="l3132"><span class="linenum">3132</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div&gt;';
<a name="l3133"><span class="linenum">3133</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;label class=&quot;accesshide&quot; for=&quot;searchform_search&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('searchtags', 'tag').'&lt;/label&gt;';
<a name="l3134"><span class="linenum">3134</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;input id=&quot;searchform_search&quot; name=&quot;query&quot; type=&quot;text&quot; size=&quot;40&quot; value=&quot;'.<a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>).'&quot; /&gt;';
<a name="l3135"><span class="linenum">3135</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;button id=&quot;searchform_button&quot; type=&quot;submit&quot;&gt;'. <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('search', 'tag') .'&lt;/button&gt;&lt;br /&gt;';
<a name="l3136"><span class="linenum">3136</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;/div&gt;';
<a name="l3137"><span class="linenum">3137</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;/form&gt;';
<a name="l3138"><span class="linenum">3138</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l3139"><span class="linenum">3139</span></a>  
<a name="l3140"><span class="linenum">3140</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3141"><span class="linenum">3141</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3142"><span class="linenum">3142</span></a>      }
<a name="l3143"><span class="linenum">3143</span></a>      else {
<a name="l3144"><span class="linenum">3144</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3145"><span class="linenum">3145</span></a>      }
<a name="l3146"><span class="linenum">3146</span></a>  }
<a name="l3147"><span class="linenum">3147</span></a>  
<a name="l3148"><span class="linenum">3148</span></a>  <span class="comment">/**</span>
<a name="l3149"><span class="linenum">3149</span></a>  <span class="comment"> * Prints the tag search results</span>
<a name="l3150"><span class="linenum">3150</span></a>  <span class="comment"> *</span>
<a name="l3151"><span class="linenum">3151</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3152"><span class="linenum">3152</span></a>  <span class="comment"> * @param string       $query text that tag names will be matched against</span>
<a name="l3153"><span class="linenum">3153</span></a>  <span class="comment"> * @param int          $page current page</span>
<a name="l3154"><span class="linenum">3154</span></a>  <span class="comment"> * @param int          $perpage nr of users displayed per page</span>
<a name="l3155"><span class="linenum">3155</span></a>  <span class="comment"> * @param bool         $return if true return html string</span>
<a name="l3156"><span class="linenum">3156</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3157"><span class="linenum">3157</span></a>  <span class="comment"> */</span>
<a name="l3158"><span class="linenum">3158</span></a>  function <a class="function" onClick="logFunction('tag_print_search_results')" href="../_functions/tag_print_search_results.html" onMouseOver="funcPopup(event,'tag_print_search_results')">tag_print_search_results</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>,  <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3159"><span class="linenum">3159</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3160"><span class="linenum">3160</span></a>  
<a name="l3161"><span class="linenum">3161</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_search_results')" href="../_functions/tag_print_search_results.html" onMouseOver="funcPopup(event,'tag_print_search_results')">tag_print_search_results</a>() is deprecated without replacement. ' .
<a name="l3162"><span class="linenum">3162</span></a>              'In /tag/search.php the search results are printed using the core_tag/tagcloud template.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3163"><span class="linenum">3163</span></a>  
<a name="l3164"><span class="linenum">3164</span></a>      <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a> = <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>, <a class="constant" onClick="logConstant('PARAM_TAG')" href="../_constants/PARAM_TAG.html" onMouseOver="constPopup(event,'PARAM_TAG')">PARAM_TAG</a>);
<a name="l3165"><span class="linenum">3165</span></a>  
<a name="l3166"><span class="linenum">3166</span></a>      <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="function" onClick="logFunction('tag_find_tags')" href="../_functions/tag_find_tags.html" onMouseOver="funcPopup(event,'tag_find_tags')">tag_find_tags</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>, false));
<a name="l3167"><span class="linenum">3167</span></a>      <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = array();
<a name="l3168"><span class="linenum">3168</span></a>  
<a name="l3169"><span class="linenum">3169</span></a>      if ( <a class="var it2673" onMouseOver="hilite(2673)" onMouseOut="lolite()" onClick="logVariable('found_tags')" href="../_variables/found_tags.html">$found_tags</a> = <a class="function" onClick="logFunction('tag_find_tags')" href="../_functions/tag_find_tags.html" onMouseOver="funcPopup(event,'tag_find_tags')">tag_find_tags</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>, true,  <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a> * <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>) ) {
<a name="l3170"><span class="linenum">3170</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it2673" onMouseOver="hilite(2673)" onMouseOut="lolite()" onClick="logVariable('found_tags')" href="../_variables/found_tags.html">$found_tags</a>);
<a name="l3171"><span class="linenum">3171</span></a>      }
<a name="l3172"><span class="linenum">3172</span></a>  
<a name="l3173"><span class="linenum">3173</span></a>      <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/tag/search.php?query='. <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>);
<a name="l3174"><span class="linenum">3174</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l3175"><span class="linenum">3175</span></a>  
<a name="l3176"><span class="linenum">3176</span></a>  <span class="comment">    // link &quot;Add $query to my interests&quot;</span>
<a name="l3177"><span class="linenum">3177</span></a>      <a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a> = '';
<a name="l3178"><span class="linenum">3178</span></a>      if (<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('is_enabled')" href="../_functions/is_enabled.html" onMouseOver="funcPopup(event,'is_enabled')">is_enabled</a>('core', 'user') &amp;&amp; !<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('is_item_tagged_with')" href="../_functions/is_item_tagged_with.html" onMouseOver="funcPopup(event,'is_item_tagged_with')">is_item_tagged_with</a>('core', 'user', <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>)) {
<a name="l3179"><span class="linenum">3179</span></a>          <a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../tag/user.php.html">/tag/user.php</a>', array('action' =&gt; 'addinterest', 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(),
<a name="l3180"><span class="linenum">3180</span></a>              'tag' =&gt; <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>)), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addtagtomyinterests', 'tag', <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>)));
<a name="l3181"><span class="linenum">3181</span></a>      }
<a name="l3182"><span class="linenum">3182</span></a>  
<a name="l3183"><span class="linenum">3183</span></a>      if ( !empty(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) ) { // there are results to display!!
<a name="l3184"><span class="linenum">3184</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('searchresultsfor', 'tag', <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>)) .&quot; : {<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>}&quot;, 3, 'main');
<a name="l3185"><span class="linenum">3185</span></a>  
<a name="l3186"><span class="linenum">3186</span></a>  <span class="comment">        //print a link &quot;Add $query to my interests&quot;</span>
<a name="l3187"><span class="linenum">3187</span></a>          if (!empty(<a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a>)) {
<a name="l3188"><span class="linenum">3188</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box')" href="../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a>, 'box', 'tag-management-box');
<a name="l3189"><span class="linenum">3189</span></a>          }
<a name="l3190"><span class="linenum">3190</span></a>  
<a name="l3191"><span class="linenum">3191</span></a>          <a class="var it2675" onMouseOver="hilite(2675)" onMouseOut="lolite()" onClick="logVariable('nr_of_lis_per_ul')" href="../_variables/nr_of_lis_per_ul.html">$nr_of_lis_per_ul</a> = 6;
<a name="l3192"><span class="linenum">3192</span></a>          <a class="var it2676" onMouseOver="hilite(2676)" onMouseOut="lolite()" onClick="logVariable('nr_of_uls')" href="../_variables/nr_of_uls.html">$nr_of_uls</a> = <a class="phpfunction" onClick="logFunction('ceil')" href="../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>( sizeof(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>) / <a class="var it2675" onMouseOver="hilite(2675)" onMouseOut="lolite()" onClick="logVariable('nr_of_lis_per_ul')" href="../_variables/nr_of_lis_per_ul.html">$nr_of_lis_per_ul</a> );
<a name="l3193"><span class="linenum">3193</span></a>  
<a name="l3194"><span class="linenum">3194</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;ul id=&quot;tag-search-results&quot;&gt;';
<a name="l3195"><span class="linenum">3195</span></a>          for(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> &lt; <a class="var it2676" onMouseOver="hilite(2676)" onMouseOut="lolite()" onClick="logVariable('nr_of_uls')" href="../_variables/nr_of_uls.html">$nr_of_uls</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++) {
<a name="l3196"><span class="linenum">3196</span></a>              foreach (<a class="phpfunction" onClick="logFunction('array_slice')" href="../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> * <a class="var it2675" onMouseOver="hilite(2675)" onMouseOut="lolite()" onClick="logVariable('nr_of_lis_per_ul')" href="../_variables/nr_of_lis_per_ul.html">$nr_of_lis_per_ul</a>, <a class="var it2675" onMouseOver="hilite(2675)" onMouseOut="lolite()" onClick="logVariable('nr_of_lis_per_ul')" href="../_variables/nr_of_lis_per_ul.html">$nr_of_lis_per_ul</a>) as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3197"><span class="linenum">3197</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;li&gt;';
<a name="l3198"><span class="linenum">3198</span></a>                  <a class="var it2677" onMouseOver="hilite(2677)" onMouseOut="lolite()" onClick="logVariable('tag_link')" href="../_variables/tag_link.html">$tag_link</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_url')" href="../_functions/make_url.html" onMouseOver="funcPopup(event,'make_url')">make_url</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('tagcollid')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/tagcollid.html">tagcollid</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('rawname')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/rawname.html">rawname</a>),
<a name="l3199"><span class="linenum">3199</span></a>                      <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_display_name')" href="../_functions/make_display_name.html" onMouseOver="funcPopup(event,'make_display_name')">make_display_name</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>));
<a name="l3200"><span class="linenum">3200</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it2677" onMouseOver="hilite(2677)" onMouseOut="lolite()" onClick="logVariable('tag_link')" href="../_variables/tag_link.html">$tag_link</a>;
<a name="l3201"><span class="linenum">3201</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;/li&gt;';
<a name="l3202"><span class="linenum">3202</span></a>              }
<a name="l3203"><span class="linenum">3203</span></a>          }
<a name="l3204"><span class="linenum">3204</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;/ul&gt;';
<a name="l3205"><span class="linenum">3205</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;div&gt;&amp;nbsp;&lt;/div&gt;'; <span class="comment">// &lt;-- small layout hack in order to look good in Firefox</span>
<a name="l3206"><span class="linenum">3206</span></a>  
<a name="l3207"><span class="linenum">3207</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('paging_bar')" href="../_functions/paging_bar.html" onMouseOver="funcPopup(event,'paging_bar')">paging_bar</a>(<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../_variables/perpage.html">$perpage</a>, <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>);
<a name="l3208"><span class="linenum">3208</span></a>      }
<a name="l3209"><span class="linenum">3209</span></a>      else { //no results were found!!
<a name="l3210"><span class="linenum">3210</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('noresultsfor', 'tag', <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>)), 3, 'main');
<a name="l3211"><span class="linenum">3211</span></a>  
<a name="l3212"><span class="linenum">3212</span></a>  <span class="comment">        //print a link &quot;Add $query to my interests&quot;</span>
<a name="l3213"><span class="linenum">3213</span></a>          if (!empty(<a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a>)) {
<a name="l3214"><span class="linenum">3214</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box')" href="../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="var it2674" onMouseOver="hilite(2674)" onMouseOut="lolite()" onClick="logVariable('addtaglink')" href="../_variables/addtaglink.html">$addtaglink</a>, 'box', 'tag-management-box');
<a name="l3215"><span class="linenum">3215</span></a>          }
<a name="l3216"><span class="linenum">3216</span></a>      }
<a name="l3217"><span class="linenum">3217</span></a>  
<a name="l3218"><span class="linenum">3218</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3219"><span class="linenum">3219</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3220"><span class="linenum">3220</span></a>      }
<a name="l3221"><span class="linenum">3221</span></a>      else {
<a name="l3222"><span class="linenum">3222</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3223"><span class="linenum">3223</span></a>      }
<a name="l3224"><span class="linenum">3224</span></a>  }
<a name="l3225"><span class="linenum">3225</span></a>  
<a name="l3226"><span class="linenum">3226</span></a>  <span class="comment">/**</span>
<a name="l3227"><span class="linenum">3227</span></a>  <span class="comment"> * Prints a table of the users tagged with the tag passed as argument</span>
<a name="l3228"><span class="linenum">3228</span></a>  <span class="comment"> *</span>
<a name="l3229"><span class="linenum">3229</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3230"><span class="linenum">3230</span></a>  <span class="comment"> * @param  stdClass    $tagobject the tag we wish to return data for</span>
<a name="l3231"><span class="linenum">3231</span></a>  <span class="comment"> * @param  int         $limitfrom (optional, required if $limitnum is set) prints users starting at this point.</span>
<a name="l3232"><span class="linenum">3232</span></a>  <span class="comment"> * @param  int         $limitnum (optional, required if $limitfrom is set) prints this many users.</span>
<a name="l3233"><span class="linenum">3233</span></a>  <span class="comment"> * @param  bool        $return if true return html string</span>
<a name="l3234"><span class="linenum">3234</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3235"><span class="linenum">3235</span></a>  <span class="comment"> */</span>
<a name="l3236"><span class="linenum">3236</span></a>  function <a class="function" onClick="logFunction('tag_print_tagged_users_table')" href="../_functions/tag_print_tagged_users_table.html" onMouseOver="funcPopup(event,'tag_print_tagged_users_table')">tag_print_tagged_users_table</a>(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>='', <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3237"><span class="linenum">3237</span></a>  
<a name="l3238"><span class="linenum">3238</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_tagged_users_table')" href="../_functions/tag_print_tagged_users_table.html" onMouseOver="funcPopup(event,'tag_print_tagged_users_table')">tag_print_tagged_users_table</a>() is deprecated without replacement. ' .
<a name="l3239"><span class="linenum">3239</span></a>              'See core_user_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3240"><span class="linenum">3240</span></a>  
<a name="l3241"><span class="linenum">3241</span></a>  <span class="comment">    //List of users with this tag</span>
<a name="l3242"><span class="linenum">3242</span></a>      <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('id')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3243"><span class="linenum">3243</span></a>      <a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a> = <a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a class="function" onClick="logFunction('get_tagged_items')" href="../_functions/get_tagged_items.html" onMouseOver="funcPopup(event,'get_tagged_items')">get_tagged_items</a>('core', 'user', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>);
<a name="l3244"><span class="linenum">3244</span></a>  
<a name="l3245"><span class="linenum">3245</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="function" onClick="logFunction('tag_print_user_list')" href="../_functions/tag_print_user_list.html" onMouseOver="funcPopup(event,'tag_print_user_list')">tag_print_user_list</a>(<a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>, true);
<a name="l3246"><span class="linenum">3246</span></a>  
<a name="l3247"><span class="linenum">3247</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3248"><span class="linenum">3248</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3249"><span class="linenum">3249</span></a>      }
<a name="l3250"><span class="linenum">3250</span></a>      else {
<a name="l3251"><span class="linenum">3251</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3252"><span class="linenum">3252</span></a>      }
<a name="l3253"><span class="linenum">3253</span></a>  }
<a name="l3254"><span class="linenum">3254</span></a>  
<a name="l3255"><span class="linenum">3255</span></a>  <span class="comment">/**</span>
<a name="l3256"><span class="linenum">3256</span></a>  <span class="comment"> * Prints an individual user box</span>
<a name="l3257"><span class="linenum">3257</span></a>  <span class="comment"> *</span>
<a name="l3258"><span class="linenum">3258</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3259"><span class="linenum">3259</span></a>  <span class="comment"> * @param user_object  $user  (contains the following fields: id, firstname, lastname and picture)</span>
<a name="l3260"><span class="linenum">3260</span></a>  <span class="comment"> * @param bool         $return if true return html string</span>
<a name="l3261"><span class="linenum">3261</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3262"><span class="linenum">3262</span></a>  <span class="comment"> */</span>
<a name="l3263"><span class="linenum">3263</span></a>  function <a class="function" onClick="logFunction('tag_print_user_box')" href="../_functions/tag_print_user_box.html" onMouseOver="funcPopup(event,'tag_print_user_box')">tag_print_user_box</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3264"><span class="linenum">3264</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3265"><span class="linenum">3265</span></a>  
<a name="l3266"><span class="linenum">3266</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_user_box')" href="../_functions/tag_print_user_box.html" onMouseOver="funcPopup(event,'tag_print_user_box')">tag_print_user_box</a>() is deprecated without replacement. ' .
<a name="l3267"><span class="linenum">3267</span></a>              'See core_user_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3268"><span class="linenum">3268</span></a>  
<a name="l3269"><span class="linenum">3269</span></a>      <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3270"><span class="linenum">3270</span></a>      <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a> = '';
<a name="l3271"><span class="linenum">3271</span></a>  
<a name="l3272"><span class="linenum">3272</span></a>      if (<a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a> and (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/user:viewdetails', <a class="var it639" onMouseOver="hilite(639)" onMouseOut="lolite()" onClick="logVariable('usercontext')" href="../_variables/usercontext.html">$usercontext</a>) || <a class="function" onClick="logFunction('has_coursecontact_role')" href="../_functions/has_coursecontact_role.html" onMouseOver="funcPopup(event,'has_coursecontact_role')">has_coursecontact_role</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l3273"><span class="linenum">3273</span></a>          <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> .'/user/view.php?id='. <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3274"><span class="linenum">3274</span></a>      }
<a name="l3275"><span class="linenum">3275</span></a>  
<a name="l3276"><span class="linenum">3276</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('user-box', 'user'. <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3277"><span class="linenum">3277</span></a>      <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l3278"><span class="linenum">3278</span></a>      <a class="var it2582" onMouseOver="hilite(2582)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = '';
<a name="l3279"><span class="linenum">3279</span></a>  
<a name="l3280"><span class="linenum">3280</span></a>      if (!empty(<a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a>)) {
<a name="l3281"><span class="linenum">3281</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;a href=&quot;'. <a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a> .'&quot;&gt;';
<a name="l3282"><span class="linenum">3282</span></a>          <a class="var it2582" onMouseOver="hilite(2582)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>;
<a name="l3283"><span class="linenum">3283</span></a>      }
<a name="l3284"><span class="linenum">3284</span></a>  
<a name="l3285"><span class="linenum">3285</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array('size'=&gt;100));
<a name="l3286"><span class="linenum">3286</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;br /&gt;';
<a name="l3287"><span class="linenum">3287</span></a>  
<a name="l3288"><span class="linenum">3288</span></a>      if (!empty(<a class="var it2678" onMouseOver="hilite(2678)" onMouseOut="lolite()" onClick="logVariable('profilelink')" href="../_variables/profilelink.html">$profilelink</a>)) {
<a name="l3289"><span class="linenum">3289</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;/a&gt;';
<a name="l3290"><span class="linenum">3290</span></a>      }
<a name="l3291"><span class="linenum">3291</span></a>  
<a name="l3292"><span class="linenum">3292</span></a>  <span class="comment">    //truncate name if it's too big</span>
<a name="l3293"><span class="linenum">3293</span></a>      if (<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>) &gt; 26) {
<a name="l3294"><span class="linenum">3294</span></a>          <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>, 0, 26) .'...';
<a name="l3295"><span class="linenum">3295</span></a>      }
<a name="l3296"><span class="linenum">3296</span></a>  
<a name="l3297"><span class="linenum">3297</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;strong&gt;'. <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> .'&lt;/strong&gt;';
<a name="l3298"><span class="linenum">3298</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l3299"><span class="linenum">3299</span></a>  
<a name="l3300"><span class="linenum">3300</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3301"><span class="linenum">3301</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3302"><span class="linenum">3302</span></a>      }
<a name="l3303"><span class="linenum">3303</span></a>      else {
<a name="l3304"><span class="linenum">3304</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3305"><span class="linenum">3305</span></a>      }
<a name="l3306"><span class="linenum">3306</span></a>  }
<a name="l3307"><span class="linenum">3307</span></a>  
<a name="l3308"><span class="linenum">3308</span></a>  <span class="comment">/**</span>
<a name="l3309"><span class="linenum">3309</span></a>  <span class="comment"> * Prints a list of users</span>
<a name="l3310"><span class="linenum">3310</span></a>  <span class="comment"> *</span>
<a name="l3311"><span class="linenum">3311</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3312"><span class="linenum">3312</span></a>  <span class="comment"> * @param  array       $userlist an array of user objects</span>
<a name="l3313"><span class="linenum">3313</span></a>  <span class="comment"> * @param  bool        $return if true return html string, otherwise output the result</span>
<a name="l3314"><span class="linenum">3314</span></a>  <span class="comment"> * @return string|null a HTML string or null if this function does the output</span>
<a name="l3315"><span class="linenum">3315</span></a>  <span class="comment"> */</span>
<a name="l3316"><span class="linenum">3316</span></a>  function <a class="function" onClick="logFunction('tag_print_user_list')" href="../_functions/tag_print_user_list.html" onMouseOver="funcPopup(event,'tag_print_user_list')">tag_print_user_list</a>(<a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l3317"><span class="linenum">3317</span></a>  
<a name="l3318"><span class="linenum">3318</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_print_user_list')" href="../_functions/tag_print_user_list.html" onMouseOver="funcPopup(event,'tag_print_user_list')">tag_print_user_list</a>() is deprecated without replacement. ' .
<a name="l3319"><span class="linenum">3319</span></a>              'See core_user_renderer for similar code.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3320"><span class="linenum">3320</span></a>  
<a name="l3321"><span class="linenum">3321</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '&lt;div&gt;&lt;ul class=&quot;inline-list&quot;&gt;';
<a name="l3322"><span class="linenum">3322</span></a>  
<a name="l3323"><span class="linenum">3323</span></a>      foreach (<a class="var it1811" onMouseOver="hilite(1811)" onMouseOut="lolite()" onClick="logVariable('userlist')" href="../_variables/userlist.html">$userlist</a> as <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>){
<a name="l3324"><span class="linenum">3324</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= '&lt;li&gt;'. <a class="function" onClick="logFunction('tag_print_user_box')" href="../_functions/tag_print_user_box.html" onMouseOver="funcPopup(event,'tag_print_user_box')">tag_print_user_box</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, true) .&quot;&lt;/li&gt;\n&quot;;
<a name="l3325"><span class="linenum">3325</span></a>      }
<a name="l3326"><span class="linenum">3326</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> .= &quot;&lt;/ul&gt;&lt;/div&gt;\n&quot;;
<a name="l3327"><span class="linenum">3327</span></a>  
<a name="l3328"><span class="linenum">3328</span></a>      if (<a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l3329"><span class="linenum">3329</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3330"><span class="linenum">3330</span></a>      }
<a name="l3331"><span class="linenum">3331</span></a>      else {
<a name="l3332"><span class="linenum">3332</span></a>          echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l3333"><span class="linenum">3333</span></a>      }
<a name="l3334"><span class="linenum">3334</span></a>  }
<a name="l3335"><span class="linenum">3335</span></a>  
<a name="l3336"><span class="linenum">3336</span></a>  <span class="comment">/**</span>
<a name="l3337"><span class="linenum">3337</span></a>  <span class="comment"> * Function that returns the name that should be displayed for a specific tag</span>
<a name="l3338"><span class="linenum">3338</span></a>  <span class="comment"> *</span>
<a name="l3339"><span class="linenum">3339</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l3340"><span class="linenum">3340</span></a>  <span class="comment"> * @category tag</span>
<a name="l3341"><span class="linenum">3341</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3342"><span class="linenum">3342</span></a>  <span class="comment"> * @param    stdClass|core_tag_tag   $tagobject a line out of tag table, as returned by the adobd functions</span>
<a name="l3343"><span class="linenum">3343</span></a>  <span class="comment"> * @param    int      $html TAG_RETURN_HTML (default) will return htmlspecialchars encoded string, TAG_RETURN_TEXT will not encode.</span>
<a name="l3344"><span class="linenum">3344</span></a>  <span class="comment"> * @return   string</span>
<a name="l3345"><span class="linenum">3345</span></a>  <span class="comment"> */</span>
<a name="l3346"><span class="linenum">3346</span></a>  function <a class="function" onClick="logFunction('tag_display_name')" href="../_functions/tag_display_name.html" onMouseOver="funcPopup(event,'tag_display_name')">tag_display_name</a>(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>, <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>=<a class="constant" onClick="logConstant('TAG_RETURN_HTML')" href="../_constants/TAG_RETURN_HTML.html" onMouseOver="constPopup(event,'TAG_RETURN_HTML')">TAG_RETURN_HTML</a>) {
<a name="l3347"><span class="linenum">3347</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_display_name')" href="../_functions/tag_display_name.html" onMouseOver="funcPopup(event,'tag_display_name')">tag_display_name</a>() is deprecated. Use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_display_name')" href="../_functions/make_display_name.html" onMouseOver="funcPopup(event,'make_display_name')">make_display_name</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3348"><span class="linenum">3348</span></a>      if (!isset(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>-&gt;<a onClick="logVariable('name')" class="var it43731" onMouseOver="hilite(43731)" onMouseOut="lolite()" href="../_variables/name.html">name</a>)) {
<a name="l3349"><span class="linenum">3349</span></a>          return '';
<a name="l3350"><span class="linenum">3350</span></a>      }
<a name="l3351"><span class="linenum">3351</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_display_name')" href="../_functions/make_display_name.html" onMouseOver="funcPopup(event,'make_display_name')">make_display_name</a>(<a class="var it2656" onMouseOver="hilite(2656)" onMouseOut="lolite()" onClick="logVariable('tagobject')" href="../_variables/tagobject.html">$tagobject</a>, <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> != <a class="constant" onClick="logConstant('TAG_RETURN_TEXT')" href="../_constants/TAG_RETURN_TEXT.html" onMouseOver="constPopup(event,'TAG_RETURN_TEXT')">TAG_RETURN_TEXT</a>);
<a name="l3352"><span class="linenum">3352</span></a>  }
<a name="l3353"><span class="linenum">3353</span></a>  
<a name="l3354"><span class="linenum">3354</span></a>  <span class="comment">/**</span>
<a name="l3355"><span class="linenum">3355</span></a>  <span class="comment"> * Function that normalizes a list of tag names.</span>
<a name="l3356"><span class="linenum">3356</span></a>  <span class="comment"> *</span>
<a name="l3357"><span class="linenum">3357</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3358"><span class="linenum">3358</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3359"><span class="linenum">3359</span></a>  <span class="comment"> * @param   array/string $rawtags array of tags, or a single tag.</span>
<a name="l3360"><span class="linenum">3360</span></a>  <span class="comment"> * @param   int          $case    case to use for returned value (default: lower case). Either TAG_CASE_LOWER (default) or TAG_CASE_ORIGINAL</span>
<a name="l3361"><span class="linenum">3361</span></a>  <span class="comment"> * @return  array        lowercased normalized tags, indexed by the normalized tag, in the same order as the original array.</span>
<a name="l3362"><span class="linenum">3362</span></a>  <span class="comment"> *                       (Eg: 'Banana' =&gt; 'banana').</span>
<a name="l3363"><span class="linenum">3363</span></a>  <span class="comment"> */</span>
<a name="l3364"><span class="linenum">3364</span></a>  function <a class="function" onClick="logFunction('tag_normalize')" href="../_functions/tag_normalize.html" onMouseOver="funcPopup(event,'tag_normalize')">tag_normalize</a>(<a class="var it2679" onMouseOver="hilite(2679)" onMouseOut="lolite()" onClick="logVariable('rawtags')" href="../_variables/rawtags.html">$rawtags</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a> = <a class="constant" onClick="logConstant('TAG_CASE_LOWER')" href="../_constants/TAG_CASE_LOWER.html" onMouseOver="constPopup(event,'TAG_CASE_LOWER')">TAG_CASE_LOWER</a>) {
<a name="l3365"><span class="linenum">3365</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_normalize')" href="../_functions/tag_normalize.html" onMouseOver="funcPopup(event,'tag_normalize')">tag_normalize</a>() is deprecated. Use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('normalize')" href="../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>().', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3366"><span class="linenum">3366</span></a>  
<a name="l3367"><span class="linenum">3367</span></a>      if ( !<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2679" onMouseOver="hilite(2679)" onMouseOut="lolite()" onClick="logVariable('rawtags')" href="../_variables/rawtags.html">$rawtags</a>) ) {
<a name="l3368"><span class="linenum">3368</span></a>          <a class="var it2679" onMouseOver="hilite(2679)" onMouseOut="lolite()" onClick="logVariable('rawtags')" href="../_variables/rawtags.html">$rawtags</a> = array(<a class="var it2679" onMouseOver="hilite(2679)" onMouseOut="lolite()" onClick="logVariable('rawtags')" href="../_variables/rawtags.html">$rawtags</a>);
<a name="l3369"><span class="linenum">3369</span></a>      }
<a name="l3370"><span class="linenum">3370</span></a>  
<a name="l3371"><span class="linenum">3371</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('normalize')" href="../_functions/normalize.html" onMouseOver="funcPopup(event,'normalize')">normalize</a>(<a class="var it2679" onMouseOver="hilite(2679)" onMouseOut="lolite()" onClick="logVariable('rawtags')" href="../_variables/rawtags.html">$rawtags</a>, <a class="var it2058" onMouseOver="hilite(2058)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a> == <a class="constant" onClick="logConstant('TAG_CASE_LOWER')" href="../_constants/TAG_CASE_LOWER.html" onMouseOver="constPopup(event,'TAG_CASE_LOWER')">TAG_CASE_LOWER</a>);
<a name="l3372"><span class="linenum">3372</span></a>  }
<a name="l3373"><span class="linenum">3373</span></a>  
<a name="l3374"><span class="linenum">3374</span></a>  <span class="comment">/**</span>
<a name="l3375"><span class="linenum">3375</span></a>  <span class="comment"> * Get a comma-separated list of tags related to another tag.</span>
<a name="l3376"><span class="linenum">3376</span></a>  <span class="comment"> *</span>
<a name="l3377"><span class="linenum">3377</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l3378"><span class="linenum">3378</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3379"><span class="linenum">3379</span></a>  <span class="comment"> * @param    array    $related_tags the array returned by tag_get_related_tags</span>
<a name="l3380"><span class="linenum">3380</span></a>  <span class="comment"> * @param    int      $html    either TAG_RETURN_HTML (default) or TAG_RETURN_TEXT : return html links, or just text.</span>
<a name="l3381"><span class="linenum">3381</span></a>  <span class="comment"> * @return   string   comma-separated list</span>
<a name="l3382"><span class="linenum">3382</span></a>  <span class="comment"> */</span>
<a name="l3383"><span class="linenum">3383</span></a>  function <a class="function" onClick="logFunction('tag_get_related_tags_csv')" href="../_functions/tag_get_related_tags_csv.html" onMouseOver="funcPopup(event,'tag_get_related_tags_csv')">tag_get_related_tags_csv</a>(<a class="var it2680" onMouseOver="hilite(2680)" onMouseOut="lolite()" onClick="logVariable('related_tags')" href="../_variables/related_tags.html">$related_tags</a>, <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>=<a class="constant" onClick="logConstant('TAG_RETURN_HTML')" href="../_constants/TAG_RETURN_HTML.html" onMouseOver="constPopup(event,'TAG_RETURN_HTML')">TAG_RETURN_HTML</a>) {
<a name="l3384"><span class="linenum">3384</span></a>      global <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l3385"><span class="linenum">3385</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_related_tags_csv')" href="../_functions/tag_get_related_tags_csv.html" onMouseOver="funcPopup(event,'tag_get_related_tags_csv')">tag_get_related_tags_csv</a>() is deprecated. Consider '
<a name="l3386"><span class="linenum">3386</span></a>              . 'looping through array or using <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('tag_list')" href="../_functions/tag_list.html" onMouseOver="funcPopup(event,'tag_list')">tag_list</a>(<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_item_tags')" href="../_functions/get_item_tags.html" onMouseOver="funcPopup(event,'get_item_tags')">get_item_tags</a>())',
<a name="l3387"><span class="linenum">3387</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3388"><span class="linenum">3388</span></a>      if (<a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a> != <a class="constant" onClick="logConstant('TAG_RETURN_TEXT')" href="../_constants/TAG_RETURN_TEXT.html" onMouseOver="constPopup(event,'TAG_RETURN_TEXT')">TAG_RETURN_TEXT</a>) {
<a name="l3389"><span class="linenum">3389</span></a>          return <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('tag_list')" href="../_functions/tag_list.html" onMouseOver="funcPopup(event,'tag_list')">tag_list</a>(<a class="var it2680" onMouseOver="hilite(2680)" onMouseOut="lolite()" onClick="logVariable('related_tags')" href="../_variables/related_tags.html">$related_tags</a>, '');
<a name="l3390"><span class="linenum">3390</span></a>      }
<a name="l3391"><span class="linenum">3391</span></a>  
<a name="l3392"><span class="linenum">3392</span></a>      <a class="var it2681" onMouseOver="hilite(2681)" onMouseOut="lolite()" onClick="logVariable('tagsnames')" href="../_variables/tagsnames.html">$tagsnames</a> = array();
<a name="l3393"><span class="linenum">3393</span></a>      foreach (<a class="var it2680" onMouseOver="hilite(2680)" onMouseOut="lolite()" onClick="logVariable('related_tags')" href="../_variables/related_tags.html">$related_tags</a> as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3394"><span class="linenum">3394</span></a>          <a class="var it2681" onMouseOver="hilite(2681)" onMouseOut="lolite()" onClick="logVariable('tagsnames')" href="../_variables/tagsnames.html">$tagsnames</a>[] = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('make_display_name')" href="../_functions/make_display_name.html" onMouseOver="funcPopup(event,'make_display_name')">make_display_name</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, false);
<a name="l3395"><span class="linenum">3395</span></a>      }
<a name="l3396"><span class="linenum">3396</span></a>      return <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it2681" onMouseOver="hilite(2681)" onMouseOut="lolite()" onClick="logVariable('tagsnames')" href="../_variables/tagsnames.html">$tagsnames</a>);
<a name="l3397"><span class="linenum">3397</span></a>  }
<a name="l3398"><span class="linenum">3398</span></a>  
<a name="l3399"><span class="linenum">3399</span></a>  <span class="comment">/**</span>
<a name="l3400"><span class="linenum">3400</span></a>  <span class="comment"> * Used to require that the return value from a function is an array.</span>
<a name="l3401"><span class="linenum">3401</span></a>  <span class="comment"> * Only used in the deprecated function {@link tag_get_id()}</span>
<a name="l3402"><span class="linenum">3402</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3403"><span class="linenum">3403</span></a>  <span class="comment"> */</span>
<a name="l3404"><span class="linenum">3404</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RETURN_ARRAY')" href="../_constants/TAG_RETURN_ARRAY.html" onMouseOver="constPopup(event,'TAG_RETURN_ARRAY')">TAG_RETURN_ARRAY</a>', 0);
<a name="l3405"><span class="linenum">3405</span></a>  <span class="comment">/**</span>
<a name="l3406"><span class="linenum">3406</span></a>  <span class="comment"> * Used to require that the return value from a function is an object.</span>
<a name="l3407"><span class="linenum">3407</span></a>  <span class="comment"> * Only used in the deprecated function {@link tag_get_id()}</span>
<a name="l3408"><span class="linenum">3408</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3409"><span class="linenum">3409</span></a>  <span class="comment"> */</span>
<a name="l3410"><span class="linenum">3410</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RETURN_OBJECT')" href="../_constants/TAG_RETURN_OBJECT.html" onMouseOver="constPopup(event,'TAG_RETURN_OBJECT')">TAG_RETURN_OBJECT</a>', 1);
<a name="l3411"><span class="linenum">3411</span></a>  <span class="comment">/**</span>
<a name="l3412"><span class="linenum">3412</span></a>  <span class="comment"> * Use to specify that HTML free text is expected to be returned from a function.</span>
<a name="l3413"><span class="linenum">3413</span></a>  <span class="comment"> * Only used in deprecated functions {@link tag_get_tags_csv()}, {@link tag_display_name()},</span>
<a name="l3414"><span class="linenum">3414</span></a>  <span class="comment"> * {@link tag_get_related_tags_csv()}</span>
<a name="l3415"><span class="linenum">3415</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3416"><span class="linenum">3416</span></a>  <span class="comment"> */</span>
<a name="l3417"><span class="linenum">3417</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RETURN_TEXT')" href="../_constants/TAG_RETURN_TEXT.html" onMouseOver="constPopup(event,'TAG_RETURN_TEXT')">TAG_RETURN_TEXT</a>', 2);
<a name="l3418"><span class="linenum">3418</span></a>  <span class="comment">/**</span>
<a name="l3419"><span class="linenum">3419</span></a>  <span class="comment"> * Use to specify that encoded HTML is expected to be returned from a function.</span>
<a name="l3420"><span class="linenum">3420</span></a>  <span class="comment"> * Only used in deprecated functions {@link tag_get_tags_csv()}, {@link tag_display_name()},</span>
<a name="l3421"><span class="linenum">3421</span></a>  <span class="comment"> * {@link tag_get_related_tags_csv()}</span>
<a name="l3422"><span class="linenum">3422</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3423"><span class="linenum">3423</span></a>  <span class="comment"> */</span>
<a name="l3424"><span class="linenum">3424</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RETURN_HTML')" href="../_constants/TAG_RETURN_HTML.html" onMouseOver="constPopup(event,'TAG_RETURN_HTML')">TAG_RETURN_HTML</a>', 3);
<a name="l3425"><span class="linenum">3425</span></a>  
<a name="l3426"><span class="linenum">3426</span></a>  <span class="comment">/**</span>
<a name="l3427"><span class="linenum">3427</span></a>  <span class="comment"> * Used to specify that we wish a lowercased string to be returned</span>
<a name="l3428"><span class="linenum">3428</span></a>  <span class="comment"> * Only used in deprecated function {@link tag_normalize()}</span>
<a name="l3429"><span class="linenum">3429</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3430"><span class="linenum">3430</span></a>  <span class="comment"> */</span>
<a name="l3431"><span class="linenum">3431</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_CASE_LOWER')" href="../_constants/TAG_CASE_LOWER.html" onMouseOver="constPopup(event,'TAG_CASE_LOWER')">TAG_CASE_LOWER</a>', 0);
<a name="l3432"><span class="linenum">3432</span></a>  <span class="comment">/**</span>
<a name="l3433"><span class="linenum">3433</span></a>  <span class="comment"> * Used to specify that we do not wish the case of the returned string to change</span>
<a name="l3434"><span class="linenum">3434</span></a>  <span class="comment"> * Only used in deprecated function {@link tag_normalize()}</span>
<a name="l3435"><span class="linenum">3435</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3436"><span class="linenum">3436</span></a>  <span class="comment"> */</span>
<a name="l3437"><span class="linenum">3437</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_CASE_ORIGINAL')" href="../_constants/TAG_CASE_ORIGINAL.html" onMouseOver="constPopup(event,'TAG_CASE_ORIGINAL')">TAG_CASE_ORIGINAL</a>', 1);
<a name="l3438"><span class="linenum">3438</span></a>  
<a name="l3439"><span class="linenum">3439</span></a>  <span class="comment">/**</span>
<a name="l3440"><span class="linenum">3440</span></a>  <span class="comment"> * Used to specify that we want all related tags returned, no matter how they are related.</span>
<a name="l3441"><span class="linenum">3441</span></a>  <span class="comment"> * Only used in deprecated function {@link tag_get_related_tags()}</span>
<a name="l3442"><span class="linenum">3442</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3443"><span class="linenum">3443</span></a>  <span class="comment"> */</span>
<a name="l3444"><span class="linenum">3444</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RELATED_ALL')" href="../_constants/TAG_RELATED_ALL.html" onMouseOver="constPopup(event,'TAG_RELATED_ALL')">TAG_RELATED_ALL</a>', 0);
<a name="l3445"><span class="linenum">3445</span></a>  <span class="comment">/**</span>
<a name="l3446"><span class="linenum">3446</span></a>  <span class="comment"> * Used to specify that we only want back tags that were manually related.</span>
<a name="l3447"><span class="linenum">3447</span></a>  <span class="comment"> * Only used in deprecated function {@link tag_get_related_tags()}</span>
<a name="l3448"><span class="linenum">3448</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3449"><span class="linenum">3449</span></a>  <span class="comment"> */</span>
<a name="l3450"><span class="linenum">3450</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RELATED_MANUAL')" href="../_constants/TAG_RELATED_MANUAL.html" onMouseOver="constPopup(event,'TAG_RELATED_MANUAL')">TAG_RELATED_MANUAL</a>', 1);
<a name="l3451"><span class="linenum">3451</span></a>  <span class="comment">/**</span>
<a name="l3452"><span class="linenum">3452</span></a>  <span class="comment"> * Used to specify that we only want back tags where the relationship was automatically correlated.</span>
<a name="l3453"><span class="linenum">3453</span></a>  <span class="comment"> * Only used in deprecated function {@link tag_get_related_tags()}</span>
<a name="l3454"><span class="linenum">3454</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3455"><span class="linenum">3455</span></a>  <span class="comment"> */</span>
<a name="l3456"><span class="linenum">3456</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TAG_RELATED_CORRELATED')" href="../_constants/TAG_RELATED_CORRELATED.html" onMouseOver="constPopup(event,'TAG_RELATED_CORRELATED')">TAG_RELATED_CORRELATED</a>', 2);
<a name="l3457"><span class="linenum">3457</span></a>  
<a name="l3458"><span class="linenum">3458</span></a>  <span class="comment">/**</span>
<a name="l3459"><span class="linenum">3459</span></a>  <span class="comment"> * Set the tags assigned to a record.  This overwrites the current tags.</span>
<a name="l3460"><span class="linenum">3460</span></a>  <span class="comment"> *</span>
<a name="l3461"><span class="linenum">3461</span></a>  <span class="comment"> * This function is meant to be fed the string coming up from the user interface, which contains all tags assigned to a record.</span>
<a name="l3462"><span class="linenum">3462</span></a>  <span class="comment"> *</span>
<a name="l3463"><span class="linenum">3463</span></a>  <span class="comment"> * Due to API change $component and $contextid are now required. Instead of</span>
<a name="l3464"><span class="linenum">3464</span></a>  <span class="comment"> * calling  this function you can use {@link core_tag_tag::set_item_tags()} or</span>
<a name="l3465"><span class="linenum">3465</span></a>  <span class="comment"> * {@link core_tag_tag::set_related_tags()}</span>
<a name="l3466"><span class="linenum">3466</span></a>  <span class="comment"> *</span>
<a name="l3467"><span class="linenum">3467</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3468"><span class="linenum">3468</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3469"><span class="linenum">3469</span></a>  <span class="comment"> * @param string $itemtype the type of record to tag ('post' for blogs, 'user' for users, 'tag' for tags, etc.)</span>
<a name="l3470"><span class="linenum">3470</span></a>  <span class="comment"> * @param int $itemid the id of the record to tag</span>
<a name="l3471"><span class="linenum">3471</span></a>  <span class="comment"> * @param array $tags the array of tags to set on the record. If given an empty array, all tags will be removed.</span>
<a name="l3472"><span class="linenum">3472</span></a>  <span class="comment"> * @param string|null $component the component that was tagged</span>
<a name="l3473"><span class="linenum">3473</span></a>  <span class="comment"> * @param int|null $contextid the context id of where this tag was assigned</span>
<a name="l3474"><span class="linenum">3474</span></a>  <span class="comment"> * @return bool|null</span>
<a name="l3475"><span class="linenum">3475</span></a>  <span class="comment"> */</span>
<a name="l3476"><span class="linenum">3476</span></a>  function <a class="function" onClick="logFunction('tag_set')" href="../_functions/tag_set.html" onMouseOver="funcPopup(event,'tag_set')">tag_set</a>(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = null, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> = null) {
<a name="l3477"><span class="linenum">3477</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_set')" href="../_functions/tag_set.html" onMouseOver="funcPopup(event,'tag_set')">tag_set</a>() is deprecated. Use ' .
<a name="l3478"><span class="linenum">3478</span></a>          ' <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('set_item_tags')" href="../_functions/set_item_tags.html" onMouseOver="funcPopup(event,'set_item_tags')">set_item_tags</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3479"><span class="linenum">3479</span></a>  
<a name="l3480"><span class="linenum">3480</span></a>      if (<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a> === 'tag') {
<a name="l3481"><span class="linenum">3481</span></a>          return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>)-&gt;<a class="function" onClick="logFunction('set_related_tags')" href="../_functions/set_related_tags.html" onMouseOver="funcPopup(event,'set_related_tags')">set_related_tags</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l3482"><span class="linenum">3482</span></a>      } else {
<a name="l3483"><span class="linenum">3483</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> ? context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) : <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l3484"><span class="linenum">3484</span></a>          return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('set_item_tags')" href="../_functions/set_item_tags.html" onMouseOver="funcPopup(event,'set_item_tags')">set_item_tags</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>);
<a name="l3485"><span class="linenum">3485</span></a>      }
<a name="l3486"><span class="linenum">3486</span></a>  }
<a name="l3487"><span class="linenum">3487</span></a>  
<a name="l3488"><span class="linenum">3488</span></a>  <span class="comment">/**</span>
<a name="l3489"><span class="linenum">3489</span></a>  <span class="comment"> * Adds a tag to a record, without overwriting the current tags.</span>
<a name="l3490"><span class="linenum">3490</span></a>  <span class="comment"> *</span>
<a name="l3491"><span class="linenum">3491</span></a>  <span class="comment"> * This function remains here for backward compatiblity. It is recommended to use</span>
<a name="l3492"><span class="linenum">3492</span></a>  <span class="comment"> * {@link core_tag_tag::add_item_tag()} or {@link core_tag_tag::add_related_tags()} instead</span>
<a name="l3493"><span class="linenum">3493</span></a>  <span class="comment"> *</span>
<a name="l3494"><span class="linenum">3494</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3495"><span class="linenum">3495</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3496"><span class="linenum">3496</span></a>  <span class="comment"> * @param string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)</span>
<a name="l3497"><span class="linenum">3497</span></a>  <span class="comment"> * @param int $itemid the id of the record to tag</span>
<a name="l3498"><span class="linenum">3498</span></a>  <span class="comment"> * @param string $tag the tag to add</span>
<a name="l3499"><span class="linenum">3499</span></a>  <span class="comment"> * @param string|null $component the component that was tagged</span>
<a name="l3500"><span class="linenum">3500</span></a>  <span class="comment"> * @param int|null $contextid the context id of where this tag was assigned</span>
<a name="l3501"><span class="linenum">3501</span></a>  <span class="comment"> * @return bool|null</span>
<a name="l3502"><span class="linenum">3502</span></a>  <span class="comment"> */</span>
<a name="l3503"><span class="linenum">3503</span></a>  function <a class="function" onClick="logFunction('tag_set_add')" href="../_functions/tag_set_add.html" onMouseOver="funcPopup(event,'tag_set_add')">tag_set_add</a>(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = null, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> = null) {
<a name="l3504"><span class="linenum">3504</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_set_add')" href="../_functions/tag_set_add.html" onMouseOver="funcPopup(event,'tag_set_add')">tag_set_add</a>() is deprecated. Use ' .
<a name="l3505"><span class="linenum">3505</span></a>          ' <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('add_item_tag')" href="../_functions/add_item_tag.html" onMouseOver="funcPopup(event,'add_item_tag')">add_item_tag</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3506"><span class="linenum">3506</span></a>  
<a name="l3507"><span class="linenum">3507</span></a>      if (<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a> === 'tag') {
<a name="l3508"><span class="linenum">3508</span></a>          return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>)-&gt;<a class="function" onClick="logFunction('add_related_tags')" href="../_functions/add_related_tags.html" onMouseOver="funcPopup(event,'add_related_tags')">add_related_tags</a>(array(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>));
<a name="l3509"><span class="linenum">3509</span></a>      } else {
<a name="l3510"><span class="linenum">3510</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> ? context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>) : <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l3511"><span class="linenum">3511</span></a>          return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('add_item_tag')" href="../_functions/add_item_tag.html" onMouseOver="funcPopup(event,'add_item_tag')">add_item_tag</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l3512"><span class="linenum">3512</span></a>      }
<a name="l3513"><span class="linenum">3513</span></a>  }
<a name="l3514"><span class="linenum">3514</span></a>  
<a name="l3515"><span class="linenum">3515</span></a>  <span class="comment">/**</span>
<a name="l3516"><span class="linenum">3516</span></a>  <span class="comment"> * Removes a tag from a record, without overwriting other current tags.</span>
<a name="l3517"><span class="linenum">3517</span></a>  <span class="comment"> *</span>
<a name="l3518"><span class="linenum">3518</span></a>  <span class="comment"> * This function remains here for backward compatiblity. It is recommended to use</span>
<a name="l3519"><span class="linenum">3519</span></a>  <span class="comment"> * {@link core_tag_tag::remove_item_tag()} instead</span>
<a name="l3520"><span class="linenum">3520</span></a>  <span class="comment"> *</span>
<a name="l3521"><span class="linenum">3521</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3522"><span class="linenum">3522</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3523"><span class="linenum">3523</span></a>  <span class="comment"> * @param string $itemtype the type of record to tag ('post' for blogs, 'user' for users, etc.)</span>
<a name="l3524"><span class="linenum">3524</span></a>  <span class="comment"> * @param int $itemid the id of the record to tag</span>
<a name="l3525"><span class="linenum">3525</span></a>  <span class="comment"> * @param string $tag the tag to delete</span>
<a name="l3526"><span class="linenum">3526</span></a>  <span class="comment"> * @param string|null $component the component that was tagged</span>
<a name="l3527"><span class="linenum">3527</span></a>  <span class="comment"> * @param int|null $contextid the context id of where this tag was assigned</span>
<a name="l3528"><span class="linenum">3528</span></a>  <span class="comment"> * @return bool|null</span>
<a name="l3529"><span class="linenum">3529</span></a>  <span class="comment"> */</span>
<a name="l3530"><span class="linenum">3530</span></a>  function <a class="function" onClick="logFunction('tag_set_delete')" href="../_functions/tag_set_delete.html" onMouseOver="funcPopup(event,'tag_set_delete')">tag_set_delete</a>(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> = null, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> = null) {
<a name="l3531"><span class="linenum">3531</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_set_delete')" href="../_functions/tag_set_delete.html" onMouseOver="funcPopup(event,'tag_set_delete')">tag_set_delete</a>() is deprecated. Use ' .
<a name="l3532"><span class="linenum">3532</span></a>          ' <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_item_tag')" href="../_functions/remove_item_tag.html" onMouseOver="funcPopup(event,'remove_item_tag')">remove_item_tag</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3533"><span class="linenum">3533</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('remove_item_tag')" href="../_functions/remove_item_tag.html" onMouseOver="funcPopup(event,'remove_item_tag')">remove_item_tag</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../_variables/itemtype.html">$itemtype</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../_variables/itemid.html">$itemid</a>, <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>);
<a name="l3534"><span class="linenum">3534</span></a>  }
<a name="l3535"><span class="linenum">3535</span></a>  
<a name="l3536"><span class="linenum">3536</span></a>  <span class="comment">/**</span>
<a name="l3537"><span class="linenum">3537</span></a>  <span class="comment"> * Simple function to just return a single tag object when you know the name or something</span>
<a name="l3538"><span class="linenum">3538</span></a>  <span class="comment"> *</span>
<a name="l3539"><span class="linenum">3539</span></a>  <span class="comment"> * See also {@link core_tag_tag::get()} and {@link core_tag_tag::get_by_name()}</span>
<a name="l3540"><span class="linenum">3540</span></a>  <span class="comment"> *</span>
<a name="l3541"><span class="linenum">3541</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l3542"><span class="linenum">3542</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3543"><span class="linenum">3543</span></a>  <span class="comment"> * @param    string $field        which field do we use to identify the tag: id, name or rawname</span>
<a name="l3544"><span class="linenum">3544</span></a>  <span class="comment"> * @param    string $value        the required value of the aforementioned field</span>
<a name="l3545"><span class="linenum">3545</span></a>  <span class="comment"> * @param    string $returnfields which fields do we want returned. This is a comma seperated string containing any combination of</span>
<a name="l3546"><span class="linenum">3546</span></a>  <span class="comment"> *                                'id', 'name', 'rawname' or '*' to include all fields.</span>
<a name="l3547"><span class="linenum">3547</span></a>  <span class="comment"> * @return   mixed  tag object</span>
<a name="l3548"><span class="linenum">3548</span></a>  <span class="comment"> */</span>
<a name="l3549"><span class="linenum">3549</span></a>  function <a class="function" onClick="logFunction('tag_get')" href="../_functions/tag_get.html" onMouseOver="funcPopup(event,'tag_get')">tag_get</a>(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it2682" onMouseOver="hilite(2682)" onMouseOut="lolite()" onClick="logVariable('returnfields')" href="../_variables/returnfields.html">$returnfields</a>='id, name, rawname, tagcollid') {
<a name="l3550"><span class="linenum">3550</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3551"><span class="linenum">3551</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('tag_get')" href="../_functions/tag_get.html" onMouseOver="funcPopup(event,'tag_get')">tag_get</a>() is deprecated. Use ' .
<a name="l3552"><span class="linenum">3552</span></a>          ' <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>() or <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>()',
<a name="l3553"><span class="linenum">3553</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3554"><span class="linenum">3554</span></a>      if (<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> === 'id') {
<a name="l3555"><span class="linenum">3555</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>((int)<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it2682" onMouseOver="hilite(2682)" onMouseOut="lolite()" onClick="logVariable('returnfields')" href="../_variables/returnfields.html">$returnfields</a>);
<a name="l3556"><span class="linenum">3556</span></a>      } else if (<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> === 'name') {
<a name="l3557"><span class="linenum">3557</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_by_name')" href="../_functions/get_by_name.html" onMouseOver="funcPopup(event,'get_by_name')">get_by_name</a>(0, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it2682" onMouseOver="hilite(2682)" onMouseOut="lolite()" onClick="logVariable('returnfields')" href="../_variables/returnfields.html">$returnfields</a>);
<a name="l3558"><span class="linenum">3558</span></a>      } else {
<a name="l3559"><span class="linenum">3559</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array(<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>);
<a name="l3560"><span class="linenum">3560</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tag', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it2682" onMouseOver="hilite(2682)" onMouseOut="lolite()" onClick="logVariable('returnfields')" href="../_variables/returnfields.html">$returnfields</a>);
<a name="l3561"><span class="linenum">3561</span></a>      }
<a name="l3562"><span class="linenum">3562</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3563"><span class="linenum">3563</span></a>          return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l3564"><span class="linenum">3564</span></a>      }
<a name="l3565"><span class="linenum">3565</span></a>      return null;
<a name="l3566"><span class="linenum">3566</span></a>  }
<a name="l3567"><span class="linenum">3567</span></a>  
<a name="l3568"><span class="linenum">3568</span></a>  <span class="comment">/**</span>
<a name="l3569"><span class="linenum">3569</span></a>  <span class="comment"> * Returns tags related to a tag</span>
<a name="l3570"><span class="linenum">3570</span></a>  <span class="comment"> *</span>
<a name="l3571"><span class="linenum">3571</span></a>  <span class="comment"> * Related tags of a tag come from two sources:</span>
<a name="l3572"><span class="linenum">3572</span></a>  <span class="comment"> *   - manually added related tags, which are tag_instance entries for that tag</span>
<a name="l3573"><span class="linenum">3573</span></a>  <span class="comment"> *   - correlated tags, which are calculated</span>
<a name="l3574"><span class="linenum">3574</span></a>  <span class="comment"> *</span>
<a name="l3575"><span class="linenum">3575</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l3576"><span class="linenum">3576</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3577"><span class="linenum">3577</span></a>  <span class="comment"> * @param    string   $tagid          is a single **normalized** tag name or the id of a tag</span>
<a name="l3578"><span class="linenum">3578</span></a>  <span class="comment"> * @param    int      $type           the function will return either manually (TAG_RELATED_MANUAL) related tags or correlated</span>
<a name="l3579"><span class="linenum">3579</span></a>  <span class="comment"> *                                    (TAG_RELATED_CORRELATED) tags. Default is TAG_RELATED_ALL, which returns everything.</span>
<a name="l3580"><span class="linenum">3580</span></a>  <span class="comment"> * @param    int      $limitnum       (optional) return a subset comprising this many records, the default is 10</span>
<a name="l3581"><span class="linenum">3581</span></a>  <span class="comment"> * @return   array    an array of tag objects</span>
<a name="l3582"><span class="linenum">3582</span></a>  <span class="comment"> */</span>
<a name="l3583"><span class="linenum">3583</span></a>  function <a class="function" onClick="logFunction('tag_get_related_tags')" href="../_functions/tag_get_related_tags.html" onMouseOver="funcPopup(event,'tag_get_related_tags')">tag_get_related_tags</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>=<a class="constant" onClick="logConstant('TAG_RELATED_ALL')" href="../_constants/TAG_RELATED_ALL.html" onMouseOver="constPopup(event,'TAG_RELATED_ALL')">TAG_RELATED_ALL</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>=10) {
<a name="l3584"><span class="linenum">3584</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_related_tags')" href="../_functions/tag_get_related_tags.html" onMouseOver="funcPopup(event,'tag_get_related_tags')">tag_get_related_tags</a>() is deprecated, '
<a name="l3585"><span class="linenum">3585</span></a>          . 'use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_correlated_tags')" href="../_functions/get_correlated_tags.html" onMouseOver="funcPopup(event,'get_correlated_tags')">get_correlated_tags</a>(), <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_related_tags')" href="../_functions/get_related_tags.html" onMouseOver="funcPopup(event,'get_related_tags')">get_related_tags</a>() or '
<a name="l3586"><span class="linenum">3586</span></a>          . '<a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_manual_related_tags')" href="../_functions/get_manual_related_tags.html" onMouseOver="funcPopup(event,'get_manual_related_tags')">get_manual_related_tags</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3587"><span class="linenum">3587</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l3588"><span class="linenum">3588</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)) {
<a name="l3589"><span class="linenum">3589</span></a>          if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('TAG_RELATED_CORRELATED')" href="../_constants/TAG_RELATED_CORRELATED.html" onMouseOver="constPopup(event,'TAG_RELATED_CORRELATED')">TAG_RELATED_CORRELATED</a>) {
<a name="l3590"><span class="linenum">3590</span></a>              <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('get_correlated_tags')" href="../_functions/get_correlated_tags.html" onMouseOver="funcPopup(event,'get_correlated_tags')">get_correlated_tags</a>();
<a name="l3591"><span class="linenum">3591</span></a>          } else if (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> == <a class="constant" onClick="logConstant('TAG_RELATED_MANUAL')" href="../_constants/TAG_RELATED_MANUAL.html" onMouseOver="constPopup(event,'TAG_RELATED_MANUAL')">TAG_RELATED_MANUAL</a>) {
<a name="l3592"><span class="linenum">3592</span></a>              <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('get_manual_related_tags')" href="../_functions/get_manual_related_tags.html" onMouseOver="funcPopup(event,'get_manual_related_tags')">get_manual_related_tags</a>();
<a name="l3593"><span class="linenum">3593</span></a>          } else {
<a name="l3594"><span class="linenum">3594</span></a>              <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('get_related_tags')" href="../_functions/get_related_tags.html" onMouseOver="funcPopup(event,'get_related_tags')">get_related_tags</a>();
<a name="l3595"><span class="linenum">3595</span></a>          }
<a name="l3596"><span class="linenum">3596</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a>, 0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>);
<a name="l3597"><span class="linenum">3597</span></a>          foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3598"><span class="linenum">3598</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>] = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l3599"><span class="linenum">3599</span></a>          }
<a name="l3600"><span class="linenum">3600</span></a>      }
<a name="l3601"><span class="linenum">3601</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l3602"><span class="linenum">3602</span></a>  }
<a name="l3603"><span class="linenum">3603</span></a>  
<a name="l3604"><span class="linenum">3604</span></a>  <span class="comment">/**</span>
<a name="l3605"><span class="linenum">3605</span></a>  <span class="comment"> * Delete one or more tag, and all their instances if there are any left.</span>
<a name="l3606"><span class="linenum">3606</span></a>  <span class="comment"> *</span>
<a name="l3607"><span class="linenum">3607</span></a>  <span class="comment"> * @package  core_tag</span>
<a name="l3608"><span class="linenum">3608</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3609"><span class="linenum">3609</span></a>  <span class="comment"> * @param    mixed    $tagids one tagid (int), or one array of tagids to delete</span>
<a name="l3610"><span class="linenum">3610</span></a>  <span class="comment"> * @return   bool     true on success, false otherwise</span>
<a name="l3611"><span class="linenum">3611</span></a>  <span class="comment"> */</span>
<a name="l3612"><span class="linenum">3612</span></a>  function <a class="function" onClick="logFunction('tag_delete')" href="../_functions/tag_delete.html" onMouseOver="funcPopup(event,'tag_delete')">tag_delete</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>) {
<a name="l3613"><span class="linenum">3613</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_delete')" href="../_functions/tag_delete.html" onMouseOver="funcPopup(event,'tag_delete')">tag_delete</a>() is deprecated, use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('delete_tags')" href="../_functions/delete_tags.html" onMouseOver="funcPopup(event,'delete_tags')">delete_tags</a>()',
<a name="l3614"><span class="linenum">3614</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3615"><span class="linenum">3615</span></a>      return <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('delete_tags')" href="../_functions/delete_tags.html" onMouseOver="funcPopup(event,'delete_tags')">delete_tags</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>);
<a name="l3616"><span class="linenum">3616</span></a>  }
<a name="l3617"><span class="linenum">3617</span></a>  
<a name="l3618"><span class="linenum">3618</span></a>  <span class="comment">/**</span>
<a name="l3619"><span class="linenum">3619</span></a>  <span class="comment"> * Deletes all the tag instances given a component and an optional contextid.</span>
<a name="l3620"><span class="linenum">3620</span></a>  <span class="comment"> *</span>
<a name="l3621"><span class="linenum">3621</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3622"><span class="linenum">3622</span></a>  <span class="comment"> * @param string $component</span>
<a name="l3623"><span class="linenum">3623</span></a>  <span class="comment"> * @param int $contextid if null, then we delete all tag instances for the $component</span>
<a name="l3624"><span class="linenum">3624</span></a>  <span class="comment"> */</span>
<a name="l3625"><span class="linenum">3625</span></a>  function <a class="function" onClick="logFunction('tag_delete_instances')" href="../_functions/tag_delete_instances.html" onMouseOver="funcPopup(event,'tag_delete_instances')">tag_delete_instances</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a> = null) {
<a name="l3626"><span class="linenum">3626</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_delete')" href="../_functions/tag_delete.html" onMouseOver="funcPopup(event,'tag_delete')">tag_delete</a>() is deprecated, use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('delete_instances')" href="../_functions/delete_instances.html" onMouseOver="funcPopup(event,'delete_instances')">delete_instances</a>()',
<a name="l3627"><span class="linenum">3627</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3628"><span class="linenum">3628</span></a>      <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('delete_instances')" href="../_functions/delete_instances.html" onMouseOver="funcPopup(event,'delete_instances')">delete_instances</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, null, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../_variables/contextid.html">$contextid</a>);
<a name="l3629"><span class="linenum">3629</span></a>  }
<a name="l3630"><span class="linenum">3630</span></a>  
<a name="l3631"><span class="linenum">3631</span></a>  <span class="comment">/**</span>
<a name="l3632"><span class="linenum">3632</span></a>  <span class="comment"> * Clean up the tag tables, making sure all tagged object still exists.</span>
<a name="l3633"><span class="linenum">3633</span></a>  <span class="comment"> *</span>
<a name="l3634"><span class="linenum">3634</span></a>  <span class="comment"> * This should normally not be necessary, but in case related tags are not deleted when the tagged record is removed, this should be</span>
<a name="l3635"><span class="linenum">3635</span></a>  <span class="comment"> * done once in a while, perhaps on an occasional cron run.  On a site with lots of tags, this could become an expensive function to</span>
<a name="l3636"><span class="linenum">3636</span></a>  <span class="comment"> * call: don't run at peak time.</span>
<a name="l3637"><span class="linenum">3637</span></a>  <span class="comment"> *</span>
<a name="l3638"><span class="linenum">3638</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3639"><span class="linenum">3639</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3640"><span class="linenum">3640</span></a>  <span class="comment"> */</span>
<a name="l3641"><span class="linenum">3641</span></a>  function <a class="function" onClick="logFunction('tag_cleanup')" href="../_functions/tag_cleanup.html" onMouseOver="funcPopup(event,'tag_cleanup')">tag_cleanup</a>() {
<a name="l3642"><span class="linenum">3642</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_cleanup')" href="../_functions/tag_cleanup.html" onMouseOver="funcPopup(event,'tag_cleanup')">tag_cleanup</a>() is deprecated, use \core\task\<a class="class" onClick="logClass('tag_cron_task')" href="../_classes/tag_cron_task.html" onMouseOver="classPopup(event,'tag_cron_task')">tag_cron_task</a>::<a class="function" onClick="logFunction('cleanup')" href="../_functions/cleanup.html" onMouseOver="funcPopup(event,'cleanup')">cleanup</a>()',
<a name="l3643"><span class="linenum">3643</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3644"><span class="linenum">3644</span></a>  
<a name="l3645"><span class="linenum">3645</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a> = new \core\task\tag_cron_task();
<a name="l3646"><span class="linenum">3646</span></a>      return <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a>-&gt;<a class="function" onClick="logFunction('cleanup')" href="../_functions/cleanup.html" onMouseOver="funcPopup(event,'cleanup')">cleanup</a>();
<a name="l3647"><span class="linenum">3647</span></a>  }
<a name="l3648"><span class="linenum">3648</span></a>  
<a name="l3649"><span class="linenum">3649</span></a>  <span class="comment">/**</span>
<a name="l3650"><span class="linenum">3650</span></a>  <span class="comment"> * This function will delete numerous tag instances efficiently.</span>
<a name="l3651"><span class="linenum">3651</span></a>  <span class="comment"> * This removes tag instances only. It doesn't check to see if it is the last use of a tag.</span>
<a name="l3652"><span class="linenum">3652</span></a>  <span class="comment"> *</span>
<a name="l3653"><span class="linenum">3653</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3654"><span class="linenum">3654</span></a>  <span class="comment"> * @param array $instances An array of tag instance objects with the addition of the tagname and tagrawname</span>
<a name="l3655"><span class="linenum">3655</span></a>  <span class="comment"> *        (used for recording a delete event).</span>
<a name="l3656"><span class="linenum">3656</span></a>  <span class="comment"> */</span>
<a name="l3657"><span class="linenum">3657</span></a>  function <a class="function" onClick="logFunction('tag_bulk_delete_instances')" href="../_functions/tag_bulk_delete_instances.html" onMouseOver="funcPopup(event,'tag_bulk_delete_instances')">tag_bulk_delete_instances</a>(<a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>) {
<a name="l3658"><span class="linenum">3658</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_bulk_delete_instances')" href="../_functions/tag_bulk_delete_instances.html" onMouseOver="funcPopup(event,'tag_bulk_delete_instances')">tag_bulk_delete_instances</a>() is deprecated, '
<a name="l3659"><span class="linenum">3659</span></a>          . 'use \core\task\<a class="class" onClick="logClass('tag_cron_task')" href="../_classes/tag_cron_task.html" onMouseOver="classPopup(event,'tag_cron_task')">tag_cron_task</a>::<a class="function" onClick="logFunction('bulk_delete_instances')" href="../_functions/bulk_delete_instances.html" onMouseOver="funcPopup(event,'bulk_delete_instances')">bulk_delete_instances</a>()',
<a name="l3660"><span class="linenum">3660</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3661"><span class="linenum">3661</span></a>  
<a name="l3662"><span class="linenum">3662</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a> = new \core\task\tag_cron_task();
<a name="l3663"><span class="linenum">3663</span></a>      return <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a>-&gt;<a class="function" onClick="logFunction('bulk_delete_instances')" href="../_functions/bulk_delete_instances.html" onMouseOver="funcPopup(event,'bulk_delete_instances')">bulk_delete_instances</a>(<a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a>);
<a name="l3664"><span class="linenum">3664</span></a>  }
<a name="l3665"><span class="linenum">3665</span></a>  
<a name="l3666"><span class="linenum">3666</span></a>  <span class="comment">/**</span>
<a name="l3667"><span class="linenum">3667</span></a>  <span class="comment"> * Calculates and stores the correlated tags of all tags. The correlations are stored in the 'tag_correlation' table.</span>
<a name="l3668"><span class="linenum">3668</span></a>  <span class="comment"> *</span>
<a name="l3669"><span class="linenum">3669</span></a>  <span class="comment"> * Two tags are correlated if they appear together a lot. Ex.: Users tagged with &quot;computers&quot; will probably also be tagged with &quot;algorithms&quot;.</span>
<a name="l3670"><span class="linenum">3670</span></a>  <span class="comment"> *</span>
<a name="l3671"><span class="linenum">3671</span></a>  <span class="comment"> * The rationale for the 'tag_correlation' table is performance. It works as a cache for a potentially heavy load query done at the</span>
<a name="l3672"><span class="linenum">3672</span></a>  <span class="comment"> * 'tag_instance' table. So, the 'tag_correlation' table stores redundant information derived from the 'tag_instance' table.</span>
<a name="l3673"><span class="linenum">3673</span></a>  <span class="comment"> *</span>
<a name="l3674"><span class="linenum">3674</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3675"><span class="linenum">3675</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3676"><span class="linenum">3676</span></a>  <span class="comment"> * @param   int      $mincorrelation Only tags with more than $mincorrelation correlations will be identified.</span>
<a name="l3677"><span class="linenum">3677</span></a>  <span class="comment"> */</span>
<a name="l3678"><span class="linenum">3678</span></a>  function <a class="function" onClick="logFunction('tag_compute_correlations')" href="../_functions/tag_compute_correlations.html" onMouseOver="funcPopup(event,'tag_compute_correlations')">tag_compute_correlations</a>(<a class="var it2683" onMouseOver="hilite(2683)" onMouseOut="lolite()" onClick="logVariable('mincorrelation')" href="../_variables/mincorrelation.html">$mincorrelation</a> = 2) {
<a name="l3679"><span class="linenum">3679</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_compute_correlations')" href="../_functions/tag_compute_correlations.html" onMouseOver="funcPopup(event,'tag_compute_correlations')">tag_compute_correlations</a>() is deprecated, '
<a name="l3680"><span class="linenum">3680</span></a>          . 'use \core\task\<a class="class" onClick="logClass('tag_cron_task')" href="../_classes/tag_cron_task.html" onMouseOver="classPopup(event,'tag_cron_task')">tag_cron_task</a>::<a class="function" onClick="logFunction('compute_correlations')" href="../_functions/compute_correlations.html" onMouseOver="funcPopup(event,'compute_correlations')">compute_correlations</a>()',
<a name="l3681"><span class="linenum">3681</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3682"><span class="linenum">3682</span></a>  
<a name="l3683"><span class="linenum">3683</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a> = new \core\task\tag_cron_task();
<a name="l3684"><span class="linenum">3684</span></a>      return <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a>-&gt;<a class="function" onClick="logFunction('compute_correlations')" href="../_functions/compute_correlations.html" onMouseOver="funcPopup(event,'compute_correlations')">compute_correlations</a>(<a class="var it2683" onMouseOver="hilite(2683)" onMouseOut="lolite()" onClick="logVariable('mincorrelation')" href="../_variables/mincorrelation.html">$mincorrelation</a>);
<a name="l3685"><span class="linenum">3685</span></a>  }
<a name="l3686"><span class="linenum">3686</span></a>  
<a name="l3687"><span class="linenum">3687</span></a>  <span class="comment">/**</span>
<a name="l3688"><span class="linenum">3688</span></a>  <span class="comment"> * This function processes a tag correlation and makes changes in the database as required.</span>
<a name="l3689"><span class="linenum">3689</span></a>  <span class="comment"> *</span>
<a name="l3690"><span class="linenum">3690</span></a>  <span class="comment"> * The tag correlation object needs have both a tagid property and a correlatedtags property that is an array.</span>
<a name="l3691"><span class="linenum">3691</span></a>  <span class="comment"> *</span>
<a name="l3692"><span class="linenum">3692</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3693"><span class="linenum">3693</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3694"><span class="linenum">3694</span></a>  <span class="comment"> * @param   stdClass $tagcorrelation</span>
<a name="l3695"><span class="linenum">3695</span></a>  <span class="comment"> * @return  int/bool The id of the tag correlation that was just processed or false.</span>
<a name="l3696"><span class="linenum">3696</span></a>  <span class="comment"> */</span>
<a name="l3697"><span class="linenum">3697</span></a>  function <a class="function" onClick="logFunction('tag_process_computed_correlation')" href="../_functions/tag_process_computed_correlation.html" onMouseOver="funcPopup(event,'tag_process_computed_correlation')">tag_process_computed_correlation</a>(stdClass <a class="var it2684" onMouseOver="hilite(2684)" onMouseOut="lolite()" onClick="logVariable('tagcorrelation')" href="../_variables/tagcorrelation.html">$tagcorrelation</a>) {
<a name="l3698"><span class="linenum">3698</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_process_computed_correlation')" href="../_functions/tag_process_computed_correlation.html" onMouseOver="funcPopup(event,'tag_process_computed_correlation')">tag_process_computed_correlation</a>() is deprecated, '
<a name="l3699"><span class="linenum">3699</span></a>          . 'use \core\task\<a class="class" onClick="logClass('tag_cron_task')" href="../_classes/tag_cron_task.html" onMouseOver="classPopup(event,'tag_cron_task')">tag_cron_task</a>::<a class="function" onClick="logFunction('process_computed_correlation')" href="../_functions/process_computed_correlation.html" onMouseOver="funcPopup(event,'process_computed_correlation')">process_computed_correlation</a>()',
<a name="l3700"><span class="linenum">3700</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3701"><span class="linenum">3701</span></a>  
<a name="l3702"><span class="linenum">3702</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a> = new \core\task\tag_cron_task();
<a name="l3703"><span class="linenum">3703</span></a>      return <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a>-&gt;<a class="function" onClick="logFunction('process_computed_correlation')" href="../_functions/process_computed_correlation.html" onMouseOver="funcPopup(event,'process_computed_correlation')">process_computed_correlation</a>(<a class="var it2684" onMouseOver="hilite(2684)" onMouseOut="lolite()" onClick="logVariable('tagcorrelation')" href="../_variables/tagcorrelation.html">$tagcorrelation</a>);
<a name="l3704"><span class="linenum">3704</span></a>  }
<a name="l3705"><span class="linenum">3705</span></a>  
<a name="l3706"><span class="linenum">3706</span></a>  <span class="comment">/**</span>
<a name="l3707"><span class="linenum">3707</span></a>  <span class="comment"> * Tasks that should be performed at cron time</span>
<a name="l3708"><span class="linenum">3708</span></a>  <span class="comment"> *</span>
<a name="l3709"><span class="linenum">3709</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3710"><span class="linenum">3710</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3711"><span class="linenum">3711</span></a>  <span class="comment"> */</span>
<a name="l3712"><span class="linenum">3712</span></a>  function <a class="function" onClick="logFunction('tag_cron')" href="../_functions/tag_cron.html" onMouseOver="funcPopup(event,'tag_cron')">tag_cron</a>() {
<a name="l3713"><span class="linenum">3713</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_cron')" href="../_functions/tag_cron.html" onMouseOver="funcPopup(event,'tag_cron')">tag_cron</a>() is deprecated, use \core\task\<a class="class" onClick="logClass('tag_cron_task')" href="../_classes/tag_cron_task.html" onMouseOver="classPopup(event,'tag_cron_task')">tag_cron_task</a>::<a class="function" onClick="logFunction('execute')" href="../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>()',
<a name="l3714"><span class="linenum">3714</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3715"><span class="linenum">3715</span></a>  
<a name="l3716"><span class="linenum">3716</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a> = new \core\task\tag_cron_task();
<a name="l3717"><span class="linenum">3717</span></a>      <a class="var it720" onMouseOver="hilite(720)" onMouseOut="lolite()" onClick="logVariable('task')" href="../_variables/task.html">$task</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>();
<a name="l3718"><span class="linenum">3718</span></a>  }
<a name="l3719"><span class="linenum">3719</span></a>  
<a name="l3720"><span class="linenum">3720</span></a>  <span class="comment">/**</span>
<a name="l3721"><span class="linenum">3721</span></a>  <span class="comment"> * Search for tags with names that match some text</span>
<a name="l3722"><span class="linenum">3722</span></a>  <span class="comment"> *</span>
<a name="l3723"><span class="linenum">3723</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3724"><span class="linenum">3724</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3725"><span class="linenum">3725</span></a>  <span class="comment"> * @param   string        $text      escaped string that the tag names will be matched against</span>
<a name="l3726"><span class="linenum">3726</span></a>  <span class="comment"> * @param   bool          $ordered   If true, tags are ordered by their popularity. If false, no ordering.</span>
<a name="l3727"><span class="linenum">3727</span></a>  <span class="comment"> * @param   int/string    $limitfrom (optional, required if $limitnum is set) return a subset of records, starting at this point.</span>
<a name="l3728"><span class="linenum">3728</span></a>  <span class="comment"> * @param   int/string    $limitnum  (optional, required if $limitfrom is set) return a subset comprising this many records.</span>
<a name="l3729"><span class="linenum">3729</span></a>  <span class="comment"> * @param   int           $tagcollid</span>
<a name="l3730"><span class="linenum">3730</span></a>  <span class="comment"> * @return  array/boolean an array of objects, or false if no records were found or an error occured.</span>
<a name="l3731"><span class="linenum">3731</span></a>  <span class="comment"> */</span>
<a name="l3732"><span class="linenum">3732</span></a>  function <a class="function" onClick="logFunction('tag_find_tags')" href="../_functions/tag_find_tags.html" onMouseOver="funcPopup(event,'tag_find_tags')">tag_find_tags</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it2685" onMouseOver="hilite(2685)" onMouseOut="lolite()" onClick="logVariable('ordered')" href="../_variables/ordered.html">$ordered</a>=true, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>='', <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>='', <a class="var it226" onMouseOver="hilite(226)" onMouseOut="lolite()" onClick="logVariable('tagcollid')" href="../_variables/tagcollid.html">$tagcollid</a> = null) {
<a name="l3733"><span class="linenum">3733</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_find_tags')" href="../_functions/tag_find_tags.html" onMouseOver="funcPopup(event,'tag_find_tags')">tag_find_tags</a>() is deprecated without replacement', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3734"><span class="linenum">3734</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3735"><span class="linenum">3735</span></a>  
<a name="l3736"><span class="linenum">3736</span></a>      <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a> = <a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('strtolower')" href="../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="constant" onClick="logConstant('PARAM_TAG')" href="../_constants/PARAM_TAG.html" onMouseOver="constPopup(event,'PARAM_TAG')">PARAM_TAG</a>));
<a name="l3737"><span class="linenum">3737</span></a>  
<a name="l3738"><span class="linenum">3738</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it226" onMouseOver="hilite(226)" onMouseOut="lolite()" onClick="logVariable('tagcollid')" href="../_variables/tagcollid.html">$tagcollid</a> ? array(<a class="var it226" onMouseOver="hilite(226)" onMouseOut="lolite()" onClick="logVariable('tagcollid')" href="../_variables/tagcollid.html">$tagcollid</a>) :
<a name="l3739"><span class="linenum">3739</span></a>          <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('get_collections')" href="../_functions/get_collections.html" onMouseOver="funcPopup(event,'get_collections')">get_collections</a>(true)));
<a name="l3740"><span class="linenum">3740</span></a>      <a class="phpfunction" onClick="logFunction('array_unshift')" href="../_functions/array_unshift.html" onMouseOver="phpfuncPopup(event,'array_unshift')">array_unshift</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, &quot;%{<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>}%&quot;);
<a name="l3741"><span class="linenum">3741</span></a>  
<a name="l3742"><span class="linenum">3742</span></a>      if (<a class="var it2685" onMouseOver="hilite(2685)" onMouseOut="lolite()" onClick="logVariable('ordered')" href="../_variables/ordered.html">$ordered</a>) {
<a name="l3743"><span class="linenum">3743</span></a>          <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a> = &quot;SELECT tg.id, tg.name, tg.rawname, tg.tagcollid, <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(ti.id) AS count
<a name="l3744"><span class="linenum">3744</span></a>                      FROM {tag} tg LEFT JOIN {tag_instance} ti ON tg.id = ti.tagid
<a name="l3745"><span class="linenum">3745</span></a>                     WHERE tg.name LIKE ? AND tg.tagcollid <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>
<a name="l3746"><span class="linenum">3746</span></a>                  GROUP BY tg.id, tg.name, tg.rawname
<a name="l3747"><span class="linenum">3747</span></a>                  ORDER BY count DESC&quot;;
<a name="l3748"><span class="linenum">3748</span></a>      } else {
<a name="l3749"><span class="linenum">3749</span></a>          <a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a> = &quot;SELECT tg.id, tg.name, tg.rawname, tg.tagcollid
<a name="l3750"><span class="linenum">3750</span></a>                      FROM {tag} tg
<a name="l3751"><span class="linenum">3751</span></a>                     WHERE tg.name LIKE ? AND tg.tagcollid <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>&quot;;
<a name="l3752"><span class="linenum">3752</span></a>      }
<a name="l3753"><span class="linenum">3753</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it249" onMouseOver="hilite(249)" onMouseOut="lolite()" onClick="logVariable('query')" href="../_variables/query.html">$query</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a> , <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>);
<a name="l3754"><span class="linenum">3754</span></a>  }
<a name="l3755"><span class="linenum">3755</span></a>  
<a name="l3756"><span class="linenum">3756</span></a>  <span class="comment">/**</span>
<a name="l3757"><span class="linenum">3757</span></a>  <span class="comment"> * Get the name of a tag</span>
<a name="l3758"><span class="linenum">3758</span></a>  <span class="comment"> *</span>
<a name="l3759"><span class="linenum">3759</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3760"><span class="linenum">3760</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3761"><span class="linenum">3761</span></a>  <span class="comment"> * @param   mixed    $tagids the id of the tag, or an array of ids</span>
<a name="l3762"><span class="linenum">3762</span></a>  <span class="comment"> * @return  mixed    string name of one tag, or id-indexed array of strings</span>
<a name="l3763"><span class="linenum">3763</span></a>  <span class="comment"> */</span>
<a name="l3764"><span class="linenum">3764</span></a>  function <a class="function" onClick="logFunction('tag_get_name')" href="../_functions/tag_get_name.html" onMouseOver="funcPopup(event,'tag_get_name')">tag_get_name</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>) {
<a name="l3765"><span class="linenum">3765</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_name')" href="../_functions/tag_get_name.html" onMouseOver="funcPopup(event,'tag_get_name')">tag_get_name</a>() is deprecated without replacement', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3766"><span class="linenum">3766</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3767"><span class="linenum">3767</span></a>  
<a name="l3768"><span class="linenum">3768</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>)) {
<a name="l3769"><span class="linenum">3769</span></a>          if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('tag', array('id'=&gt;<a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>))) {
<a name="l3770"><span class="linenum">3770</span></a>              return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('name')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l3771"><span class="linenum">3771</span></a>          }
<a name="l3772"><span class="linenum">3772</span></a>          return false;
<a name="l3773"><span class="linenum">3773</span></a>      }
<a name="l3774"><span class="linenum">3774</span></a>  
<a name="l3775"><span class="linenum">3775</span></a>      <a class="var it2686" onMouseOver="hilite(2686)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../_variables/tag_names.html">$tag_names</a> = array();
<a name="l3776"><span class="linenum">3776</span></a>      foreach(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_list')" href="../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>('tag', 'id', <a class="var it2662" onMouseOver="hilite(2662)" onMouseOut="lolite()" onClick="logVariable('tagids')" href="../_variables/tagids.html">$tagids</a>) as <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3777"><span class="linenum">3777</span></a>          <a class="var it2686" onMouseOver="hilite(2686)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../_variables/tag_names.html">$tag_names</a>[<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('id')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a onClick="logVariable('name')" class="var it43262" onMouseOver="hilite(43262)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;
<a name="l3778"><span class="linenum">3778</span></a>      }
<a name="l3779"><span class="linenum">3779</span></a>  
<a name="l3780"><span class="linenum">3780</span></a>      return <a class="var it2686" onMouseOver="hilite(2686)" onMouseOut="lolite()" onClick="logVariable('tag_names')" href="../_variables/tag_names.html">$tag_names</a>;
<a name="l3781"><span class="linenum">3781</span></a>  }
<a name="l3782"><span class="linenum">3782</span></a>  
<a name="l3783"><span class="linenum">3783</span></a>  <span class="comment">/**</span>
<a name="l3784"><span class="linenum">3784</span></a>  <span class="comment"> * Returns the correlated tags of a tag, retrieved from the tag_correlation table. Make sure cron runs, otherwise the table will be</span>
<a name="l3785"><span class="linenum">3785</span></a>  <span class="comment"> * empty and this function won't return anything.</span>
<a name="l3786"><span class="linenum">3786</span></a>  <span class="comment"> *</span>
<a name="l3787"><span class="linenum">3787</span></a>  <span class="comment"> * Correlated tags are calculated in cron based on existing tag instances.</span>
<a name="l3788"><span class="linenum">3788</span></a>  <span class="comment"> *</span>
<a name="l3789"><span class="linenum">3789</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3790"><span class="linenum">3790</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3791"><span class="linenum">3791</span></a>  <span class="comment"> * @param   int      $tagid   is a single tag id</span>
<a name="l3792"><span class="linenum">3792</span></a>  <span class="comment"> * @param   int      $notused  this argument is no longer used</span>
<a name="l3793"><span class="linenum">3793</span></a>  <span class="comment"> * @return  array    an array of tag objects or an empty if no correlated tags are found</span>
<a name="l3794"><span class="linenum">3794</span></a>  <span class="comment"> */</span>
<a name="l3795"><span class="linenum">3795</span></a>  function <a class="function" onClick="logFunction('tag_get_correlated')" href="../_functions/tag_get_correlated.html" onMouseOver="funcPopup(event,'tag_get_correlated')">tag_get_correlated</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>, <a class="var it2687" onMouseOver="hilite(2687)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../_variables/notused.html">$notused</a> = null) {
<a name="l3796"><span class="linenum">3796</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_get_correlated')" href="../_functions/tag_get_correlated.html" onMouseOver="funcPopup(event,'tag_get_correlated')">tag_get_correlated</a>() is deprecated, '
<a name="l3797"><span class="linenum">3797</span></a>          . 'use <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get_correlated_tags')" href="../_functions/get_correlated_tags.html" onMouseOver="funcPopup(event,'get_correlated_tags')">get_correlated_tags</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3798"><span class="linenum">3798</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l3799"><span class="linenum">3799</span></a>      if (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a> = <a class="class" onClick="logClass('core_tag_tag')" href="../_classes/core_tag_tag.html" onMouseOver="classPopup(event,'core_tag_tag')">core_tag_tag</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2128" onMouseOver="hilite(2128)" onMouseOut="lolite()" onClick="logVariable('tagid')" href="../_variables/tagid.html">$tagid</a>)) {
<a name="l3800"><span class="linenum">3800</span></a>          <a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('get_correlated_tags')" href="../_functions/get_correlated_tags.html" onMouseOver="funcPopup(event,'get_correlated_tags')">get_correlated_tags</a>(true);
<a name="l3801"><span class="linenum">3801</span></a>  <span class="comment">        // Convert to objects for backward-compatibility.</span>
<a name="l3802"><span class="linenum">3802</span></a>          foreach (<a class="var it2145" onMouseOver="hilite(2145)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../_variables/tags.html">$tags</a> as <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> =&gt; <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>) {
<a name="l3803"><span class="linenum">3803</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>] = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('tag')" href="../_variables/tag.html">$tag</a>-&gt;<a class="function" onClick="logFunction('to_object')" href="../_functions/to_object.html" onMouseOver="funcPopup(event,'to_object')">to_object</a>();
<a name="l3804"><span class="linenum">3804</span></a>          }
<a name="l3805"><span class="linenum">3805</span></a>      }
<a name="l3806"><span class="linenum">3806</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l3807"><span class="linenum">3807</span></a>  }
<a name="l3808"><span class="linenum">3808</span></a>  
<a name="l3809"><span class="linenum">3809</span></a>  <span class="comment">/**</span>
<a name="l3810"><span class="linenum">3810</span></a>  <span class="comment"> * This function is used by print_tag_cloud, to usort() the tags in the cloud. See php.net/usort for the parameters documentation.</span>
<a name="l3811"><span class="linenum">3811</span></a>  <span class="comment"> * This was originally in blocks/blog_tags/block_blog_tags.php, named blog_tags_sort().</span>
<a name="l3812"><span class="linenum">3812</span></a>  <span class="comment"> *</span>
<a name="l3813"><span class="linenum">3813</span></a>  <span class="comment"> * @package core_tag</span>
<a name="l3814"><span class="linenum">3814</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l3815"><span class="linenum">3815</span></a>  <span class="comment"> * @param   string $a Tag name to compare against $b</span>
<a name="l3816"><span class="linenum">3816</span></a>  <span class="comment"> * @param   string $b Tag name to compare against $a</span>
<a name="l3817"><span class="linenum">3817</span></a>  <span class="comment"> * @return  int    The result of the comparison/validation 1, 0 or -1</span>
<a name="l3818"><span class="linenum">3818</span></a>  <span class="comment"> */</span>
<a name="l3819"><span class="linenum">3819</span></a>  function <a class="function" onClick="logFunction('tag_cloud_sort')" href="../_functions/tag_cloud_sort.html" onMouseOver="funcPopup(event,'tag_cloud_sort')">tag_cloud_sort</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>, <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../_variables/b.html">$b</a>) {
<a name="l3820"><span class="linenum">3820</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Method <a class="function" onClick="logFunction('tag_cloud_sort')" href="../_functions/tag_cloud_sort.html" onMouseOver="funcPopup(event,'tag_cloud_sort')">tag_cloud_sort</a>() is deprecated, similar method can be found in <a class="class" onClick="logClass('core_tag_collection')" href="../_classes/core_tag_collection.html" onMouseOver="classPopup(event,'core_tag_collection')">core_tag_collection</a>::<a class="function" onClick="logFunction('cloud_sort')" href="../_functions/cloud_sort.html" onMouseOver="funcPopup(event,'cloud_sort')">cloud_sort</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3821"><span class="linenum">3821</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l3822"><span class="linenum">3822</span></a>  
<a name="l3823"><span class="linenum">3823</span></a>      if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tagsort')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/tagsort.html">tagsort</a>)) {
<a name="l3824"><span class="linenum">3824</span></a>          <a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a> = 'name'; <span class="comment">// by default, sort by name</span>
<a name="l3825"><span class="linenum">3825</span></a>      } else {
<a name="l3826"><span class="linenum">3826</span></a>          <a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tagsort')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/tagsort.html">tagsort</a>;
<a name="l3827"><span class="linenum">3827</span></a>      }
<a name="l3828"><span class="linenum">3828</span></a>  
<a name="l3829"><span class="linenum">3829</span></a>      if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>)) {
<a name="l3830"><span class="linenum">3830</span></a>          return (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a> == <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../_variables/b.html">$b</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>) ? 0 : (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a> &gt; <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../_variables/b.html">$b</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>) ? 1 : -1;
<a name="l3831"><span class="linenum">3831</span></a>      } elseif (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>)) {
<a name="l3832"><span class="linenum">3832</span></a>          return <a class="phpfunction" onClick="logFunction('strcmp')" href="../_functions/strcmp.html" onMouseOver="phpfuncPopup(event,'strcmp')">strcmp</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>, <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../_variables/b.html">$b</a>-&gt;<a class="var it2688" onMouseOver="hilite(2688)" onMouseOut="lolite()" onClick="logVariable('tagsort')" href="../_variables/tagsort.html">$tagsort</a>);
<a name="l3833"><span class="linenum">3833</span></a>      } else {
<a name="l3834"><span class="linenum">3834</span></a>          return 0;
<a name="l3835"><span class="linenum">3835</span></a>      }
<a name="l3836"><span class="linenum">3836</span></a>  }
<a name="l3837"><span class="linenum">3837</span></a>  
<a name="l3838"><span class="linenum">3838</span></a>  <span class="comment">/**</span>
<a name="l3839"><span class="linenum">3839</span></a>  <span class="comment"> * Loads the events definitions for the component (from file). If no</span>
<a name="l3840"><span class="linenum">3840</span></a>  <span class="comment"> * events are defined for the component, we simply return an empty array.</span>
<a name="l3841"><span class="linenum">3841</span></a>  <span class="comment"> *</span>
<a name="l3842"><span class="linenum">3842</span></a>  <span class="comment"> * @access protected To be used from eventslib only</span>
<a name="l3843"><span class="linenum">3843</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l3844"><span class="linenum">3844</span></a>  <span class="comment"> * @param string $component examples: 'moodle', 'mod_forum', 'block_quiz_results'</span>
<a name="l3845"><span class="linenum">3845</span></a>  <span class="comment"> * @return array Array of capabilities or empty array if not exists</span>
<a name="l3846"><span class="linenum">3846</span></a>  <span class="comment"> */</span>
<a name="l3847"><span class="linenum">3847</span></a>  function <a class="function" onClick="logFunction('events_load_def')" href="../_functions/events_load_def.html" onMouseOver="funcPopup(event,'events_load_def')">events_load_def</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l3848"><span class="linenum">3848</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l3849"><span class="linenum">3849</span></a>      if (<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a> === 'unittest') {
<a name="l3850"><span class="linenum">3850</span></a>          <a class="var it2689" onMouseOver="hilite(2689)" onMouseOut="lolite()" onClick="logVariable('defpath')" href="../_variables/defpath.html">$defpath</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../lib/tests/fixtures/events.php.html">/lib/tests/fixtures/events.php</a>';
<a name="l3851"><span class="linenum">3851</span></a>      } else {
<a name="l3852"><span class="linenum">3852</span></a>          <a class="var it2689" onMouseOver="hilite(2689)" onMouseOut="lolite()" onClick="logVariable('defpath')" href="../_variables/defpath.html">$defpath</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>).'/db/events.php';
<a name="l3853"><span class="linenum">3853</span></a>      }
<a name="l3854"><span class="linenum">3854</span></a>  
<a name="l3855"><span class="linenum">3855</span></a>      <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> = array();
<a name="l3856"><span class="linenum">3856</span></a>  
<a name="l3857"><span class="linenum">3857</span></a>      if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it2689" onMouseOver="hilite(2689)" onMouseOut="lolite()" onClick="logVariable('defpath')" href="../_variables/defpath.html">$defpath</a>)) {
<a name="l3858"><span class="linenum">3858</span></a>          <a class="function" onClick="logFunction('require')" href="../_functions/require.html" onMouseOver="funcPopup(event,'require')">require</a>(<a class="var it2689" onMouseOver="hilite(2689)" onMouseOut="lolite()" onClick="logVariable('defpath')" href="../_variables/defpath.html">$defpath</a>);
<a name="l3859"><span class="linenum">3859</span></a>      }
<a name="l3860"><span class="linenum">3860</span></a>  
<a name="l3861"><span class="linenum">3861</span></a>  <span class="comment">    // make sure the definitions are valid and complete; tell devs what is wrong</span>
<a name="l3862"><span class="linenum">3862</span></a>      foreach (<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> as <a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a> =&gt; <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>) {
<a name="l3863"><span class="linenum">3863</span></a>          if (<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a> === 'reset') {
<a name="l3864"><span class="linenum">3864</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;'reset' can not be used as event name.&quot;);
<a name="l3865"><span class="linenum">3865</span></a>              unset(<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>['reset']);
<a name="l3866"><span class="linenum">3866</span></a>              continue;
<a name="l3867"><span class="linenum">3867</span></a>          }
<a name="l3868"><span class="linenum">3868</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>)) {
<a name="l3869"><span class="linenum">3869</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Handler of '<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>' must be specified as array'&quot;);
<a name="l3870"><span class="linenum">3870</span></a>              unset(<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l3871"><span class="linenum">3871</span></a>              continue;
<a name="l3872"><span class="linenum">3872</span></a>          }
<a name="l3873"><span class="linenum">3873</span></a>          if (!isset(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['handlerfile'])) {
<a name="l3874"><span class="linenum">3874</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Handler of '<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>' must include 'handlerfile' key'&quot;);
<a name="l3875"><span class="linenum">3875</span></a>              unset(<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l3876"><span class="linenum">3876</span></a>              continue;
<a name="l3877"><span class="linenum">3877</span></a>          }
<a name="l3878"><span class="linenum">3878</span></a>          if (!isset(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['handlerfunction'])) {
<a name="l3879"><span class="linenum">3879</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Handler of '<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>' must include 'handlerfunction' key'&quot;);
<a name="l3880"><span class="linenum">3880</span></a>              unset(<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l3881"><span class="linenum">3881</span></a>              continue;
<a name="l3882"><span class="linenum">3882</span></a>          }
<a name="l3883"><span class="linenum">3883</span></a>          if (!isset(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['schedule'])) {
<a name="l3884"><span class="linenum">3884</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['schedule'] = 'instant';
<a name="l3885"><span class="linenum">3885</span></a>          }
<a name="l3886"><span class="linenum">3886</span></a>          if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['schedule'] !== 'instant' and <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['schedule'] !== 'cron') {
<a name="l3887"><span class="linenum">3887</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Handler of '<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>' must include valid 'schedule' <a class="function" onClick="logFunction('type')" href="../_functions/type.html" onMouseOver="funcPopup(event,'type')">type</a> (instant or cron)'&quot;);
<a name="l3888"><span class="linenum">3888</span></a>              unset(<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l3889"><span class="linenum">3889</span></a>              continue;
<a name="l3890"><span class="linenum">3890</span></a>          }
<a name="l3891"><span class="linenum">3891</span></a>          if (!isset(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['internal'])) {
<a name="l3892"><span class="linenum">3892</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>['internal'] = 1;
<a name="l3893"><span class="linenum">3893</span></a>          }
<a name="l3894"><span class="linenum">3894</span></a>          <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>] = <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>;
<a name="l3895"><span class="linenum">3895</span></a>      }
<a name="l3896"><span class="linenum">3896</span></a>  
<a name="l3897"><span class="linenum">3897</span></a>      return <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a>;
<a name="l3898"><span class="linenum">3898</span></a>  }
<a name="l3899"><span class="linenum">3899</span></a>  
<a name="l3900"><span class="linenum">3900</span></a>  <span class="comment">/**</span>
<a name="l3901"><span class="linenum">3901</span></a>  <span class="comment"> * Puts a handler on queue</span>
<a name="l3902"><span class="linenum">3902</span></a>  <span class="comment"> *</span>
<a name="l3903"><span class="linenum">3903</span></a>  <span class="comment"> * @access protected To be used from eventslib only</span>
<a name="l3904"><span class="linenum">3904</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l3905"><span class="linenum">3905</span></a>  <span class="comment"> * @param stdClass $handler event handler object from db</span>
<a name="l3906"><span class="linenum">3906</span></a>  <span class="comment"> * @param stdClass $event event data object</span>
<a name="l3907"><span class="linenum">3907</span></a>  <span class="comment"> * @param string $errormessage The error message indicating the problem</span>
<a name="l3908"><span class="linenum">3908</span></a>  <span class="comment"> * @return int id number of new queue handler</span>
<a name="l3909"><span class="linenum">3909</span></a>  <span class="comment"> */</span>
<a name="l3910"><span class="linenum">3910</span></a>  function <a class="function" onClick="logFunction('events_queue_handler')" href="../_functions/events_queue_handler.html" onMouseOver="funcPopup(event,'events_queue_handler')">events_queue_handler</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>, <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>, <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>) {
<a name="l3911"><span class="linenum">3911</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3912"><span class="linenum">3912</span></a>  
<a name="l3913"><span class="linenum">3913</span></a>      if (<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('events_queue_handlers', array('queuedeventid'=&gt;<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'handlerid'=&gt;<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l3914"><span class="linenum">3914</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Please check code: Event id <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/id.html">id</a> is already queued in handler id <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('id')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/id.html">id</a>&quot;);
<a name="l3915"><span class="linenum">3915</span></a>          return <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('id')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3916"><span class="linenum">3916</span></a>      }
<a name="l3917"><span class="linenum">3917</span></a>  
<a name="l3918"><span class="linenum">3918</span></a>  <span class="comment">    // make a new queue handler</span>
<a name="l3919"><span class="linenum">3919</span></a>      <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a> = new stdClass();
<a name="l3920"><span class="linenum">3920</span></a>      <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('queuedeventid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/queuedeventid.html">queuedeventid</a>  = <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3921"><span class="linenum">3921</span></a>      <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>      = <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3922"><span class="linenum">3922</span></a>      <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('errormessage')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/errormessage.html">errormessage</a>   = <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>;
<a name="l3923"><span class="linenum">3923</span></a>      <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a>   = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l3924"><span class="linenum">3924</span></a>      if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a> === 'instant' and <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a> == 1) {
<a name="l3925"><span class="linenum">3925</span></a>          <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('status')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/status.html">status</a>     = 1; <span class="comment">//already one failed attempt to dispatch this event</span>
<a name="l3926"><span class="linenum">3926</span></a>      } else {
<a name="l3927"><span class="linenum">3927</span></a>          <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('status')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/status.html">status</a>     = 0;
<a name="l3928"><span class="linenum">3928</span></a>      }
<a name="l3929"><span class="linenum">3929</span></a>  
<a name="l3930"><span class="linenum">3930</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('events_queue_handlers', <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>);
<a name="l3931"><span class="linenum">3931</span></a>  }
<a name="l3932"><span class="linenum">3932</span></a>  
<a name="l3933"><span class="linenum">3933</span></a>  <span class="comment">/**</span>
<a name="l3934"><span class="linenum">3934</span></a>  <span class="comment"> * trigger a single event with a specified handler</span>
<a name="l3935"><span class="linenum">3935</span></a>  <span class="comment"> *</span>
<a name="l3936"><span class="linenum">3936</span></a>  <span class="comment"> * @access protected To be used from eventslib only</span>
<a name="l3937"><span class="linenum">3937</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l3938"><span class="linenum">3938</span></a>  <span class="comment"> * @param stdClass $handler This shoudl be a row from the events_handlers table.</span>
<a name="l3939"><span class="linenum">3939</span></a>  <span class="comment"> * @param stdClass $eventdata An object containing information about the event</span>
<a name="l3940"><span class="linenum">3940</span></a>  <span class="comment"> * @param string $errormessage error message indicating problem</span>
<a name="l3941"><span class="linenum">3941</span></a>  <span class="comment"> * @return bool|null True means event processed, false means retry event later; may throw exception, NULL means internal error</span>
<a name="l3942"><span class="linenum">3942</span></a>  <span class="comment"> */</span>
<a name="l3943"><span class="linenum">3943</span></a>  function <a class="function" onClick="logFunction('events_dispatch')" href="../_functions/events_dispatch.html" onMouseOver="funcPopup(event,'events_dispatch')">events_dispatch</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>, &amp;<a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>) {
<a name="l3944"><span class="linenum">3944</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l3945"><span class="linenum">3945</span></a>  
<a name="l3946"><span class="linenum">3946</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Events API using <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> array has been deprecated in favour of Events 2 API, please use it instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3947"><span class="linenum">3947</span></a>  
<a name="l3948"><span class="linenum">3948</span></a>      <a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a>);
<a name="l3949"><span class="linenum">3949</span></a>  
<a name="l3950"><span class="linenum">3950</span></a>      if (<a class="phpfunction" onClick="logFunction('is_callable')" href="../_functions/is_callable.html" onMouseOver="phpfuncPopup(event,'is_callable')">is_callable</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>)) {
<a name="l3951"><span class="linenum">3951</span></a>  <span class="comment">        // oki, no need for includes</span>
<a name="l3952"><span class="linenum">3952</span></a>  
<a name="l3953"><span class="linenum">3953</span></a>      } else if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfile')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfile.html">handlerfile</a>)) {
<a name="l3954"><span class="linenum">3954</span></a>          include_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfile')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfile.html">handlerfile</a>);
<a name="l3955"><span class="linenum">3955</span></a>  
<a name="l3956"><span class="linenum">3956</span></a>      } else {
<a name="l3957"><span class="linenum">3957</span></a>          <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = &quot;Handler file of component <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('component')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/component.html">component</a>: <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfile')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfile.html">handlerfile</a> can not be found!&quot;;
<a name="l3958"><span class="linenum">3958</span></a>          return null;
<a name="l3959"><span class="linenum">3959</span></a>      }
<a name="l3960"><span class="linenum">3960</span></a>  
<a name="l3961"><span class="linenum">3961</span></a>  <span class="comment">    // checks for handler validity</span>
<a name="l3962"><span class="linenum">3962</span></a>      if (<a class="phpfunction" onClick="logFunction('is_callable')" href="../_functions/is_callable.html" onMouseOver="phpfuncPopup(event,'is_callable')">is_callable</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>)) {
<a name="l3963"><span class="linenum">3963</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>);
<a name="l3964"><span class="linenum">3964</span></a>          if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> === false) {
<a name="l3965"><span class="linenum">3965</span></a>              <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = &quot;Handler function of component <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('component')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/component.html">component</a>: <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a> requested resending of event!&quot;;
<a name="l3966"><span class="linenum">3966</span></a>              return false;
<a name="l3967"><span class="linenum">3967</span></a>          }
<a name="l3968"><span class="linenum">3968</span></a>          return true;
<a name="l3969"><span class="linenum">3969</span></a>  
<a name="l3970"><span class="linenum">3970</span></a>      } else {
<a name="l3971"><span class="linenum">3971</span></a>          <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = &quot;Handler function of component <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('component')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/component.html">component</a>: <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a> not callable function or class method!&quot;;
<a name="l3972"><span class="linenum">3972</span></a>          return null;
<a name="l3973"><span class="linenum">3973</span></a>      }
<a name="l3974"><span class="linenum">3974</span></a>  }
<a name="l3975"><span class="linenum">3975</span></a>  
<a name="l3976"><span class="linenum">3976</span></a>  <span class="comment">/**</span>
<a name="l3977"><span class="linenum">3977</span></a>  <span class="comment"> * given a queued handler, call the respective event handler to process the event</span>
<a name="l3978"><span class="linenum">3978</span></a>  <span class="comment"> *</span>
<a name="l3979"><span class="linenum">3979</span></a>  <span class="comment"> * @access protected To be used from eventslib only</span>
<a name="l3980"><span class="linenum">3980</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l3981"><span class="linenum">3981</span></a>  <span class="comment"> * @param stdClass $qhandler events_queued_handler row from db</span>
<a name="l3982"><span class="linenum">3982</span></a>  <span class="comment"> * @return boolean true means event processed, false means retry later, NULL means fatal failure</span>
<a name="l3983"><span class="linenum">3983</span></a>  <span class="comment"> */</span>
<a name="l3984"><span class="linenum">3984</span></a>  function <a class="function" onClick="logFunction('events_process_queued_handler')" href="../_functions/events_process_queued_handler.html" onMouseOver="funcPopup(event,'events_process_queued_handler')">events_process_queued_handler</a>(<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>) {
<a name="l3985"><span class="linenum">3985</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3986"><span class="linenum">3986</span></a>  
<a name="l3987"><span class="linenum">3987</span></a>  <span class="comment">    // get handler</span>
<a name="l3988"><span class="linenum">3988</span></a>      if (!<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('events_handlers', array('id'=&gt;<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>))) {
<a name="l3989"><span class="linenum">3989</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Error processing queue handler <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('id')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, missing handler id: <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>&quot;);
<a name="l3990"><span class="linenum">3990</span></a>  <span class="comment">        //irrecoverable error, remove broken queue handler</span>
<a name="l3991"><span class="linenum">3991</span></a>          <a class="function" onClick="logFunction('events_dequeue')" href="../_functions/events_dequeue.html" onMouseOver="funcPopup(event,'events_dequeue')">events_dequeue</a>(<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>);
<a name="l3992"><span class="linenum">3992</span></a>          return NULL;
<a name="l3993"><span class="linenum">3993</span></a>      }
<a name="l3994"><span class="linenum">3994</span></a>  
<a name="l3995"><span class="linenum">3995</span></a>  <span class="comment">    // get event object</span>
<a name="l3996"><span class="linenum">3996</span></a>      if (!<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('events_queue', array('id'=&gt;<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('queuedeventid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/queuedeventid.html">queuedeventid</a>))) {
<a name="l3997"><span class="linenum">3997</span></a>  <span class="comment">        // can't proceed with no event object - might happen when two crons running at the same time</span>
<a name="l3998"><span class="linenum">3998</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Error processing queue handler <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('id')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, missing event id: <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('queuedeventid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/queuedeventid.html">queuedeventid</a>&quot;);
<a name="l3999"><span class="linenum">3999</span></a>  <span class="comment">        //irrecoverable error, remove broken queue handler</span>
<a name="l4000"><span class="linenum">4000</span></a>          <a class="function" onClick="logFunction('events_dequeue')" href="../_functions/events_dequeue.html" onMouseOver="funcPopup(event,'events_dequeue')">events_dequeue</a>(<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>);
<a name="l4001"><span class="linenum">4001</span></a>          return NULL;
<a name="l4002"><span class="linenum">4002</span></a>      }
<a name="l4003"><span class="linenum">4003</span></a>  
<a name="l4004"><span class="linenum">4004</span></a>  <span class="comment">    // call the function specified by the handler</span>
<a name="l4005"><span class="linenum">4005</span></a>      try {
<a name="l4006"><span class="linenum">4006</span></a>          <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = 'Unknown error';
<a name="l4007"><span class="linenum">4007</span></a>          if (<a class="function" onClick="logFunction('events_dispatch')" href="../_functions/events_dispatch.html" onMouseOver="funcPopup(event,'events_dispatch')">events_dispatch</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>, <a class="phpfunction" onClick="logFunction('unserialize')" href="../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="phpfunction" onClick="logFunction('base64_decode')" href="../_functions/base64_decode.html" onMouseOver="phpfuncPopup(event,'base64_decode')">base64_decode</a>(<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('eventdata')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/eventdata.html">eventdata</a>)), <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>)) {
<a name="l4008"><span class="linenum">4008</span></a>  <span class="comment">            //everything ok</span>
<a name="l4009"><span class="linenum">4009</span></a>              <a class="function" onClick="logFunction('events_dequeue')" href="../_functions/events_dequeue.html" onMouseOver="funcPopup(event,'events_dequeue')">events_dequeue</a>(<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>);
<a name="l4010"><span class="linenum">4010</span></a>              return true;
<a name="l4011"><span class="linenum">4011</span></a>          }
<a name="l4012"><span class="linenum">4012</span></a>      } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>) {
<a name="l4013"><span class="linenum">4013</span></a>  <span class="comment">        // the problem here is that we do not want one broken handler to stop all others,</span>
<a name="l4014"><span class="linenum">4014</span></a>  <span class="comment">        // cron handlers are very tricky because the needed data might have been deleted before the cron execution</span>
<a name="l4015"><span class="linenum">4015</span></a>          <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = &quot;Handler function of component <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('component')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/component.html">component</a>: <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a> threw exception :&quot; .
<a name="l4016"><span class="linenum">4016</span></a>                  <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>() . &quot;\n&quot; . <a class="function" onClick="logFunction('format_backtrace')" href="../_functions/format_backtrace.html" onMouseOver="funcPopup(event,'format_backtrace')">format_backtrace</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;getTrace(), true);
<a name="l4017"><span class="linenum">4017</span></a>          if (!empty(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>)) {
<a name="l4018"><span class="linenum">4018</span></a>              <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> .= <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('debuginfo')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../_variables/debuginfo.html">debuginfo</a>;
<a name="l4019"><span class="linenum">4019</span></a>          }
<a name="l4020"><span class="linenum">4020</span></a>      }
<a name="l4021"><span class="linenum">4021</span></a>  
<a name="l4022"><span class="linenum">4022</span></a>  <span class="comment">    //dispatching failed</span>
<a name="l4023"><span class="linenum">4023</span></a>      <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a> = new stdClass();
<a name="l4024"><span class="linenum">4024</span></a>      <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a>-&gt;<a onClick="logVariable('id')" class="var it44239" onMouseOver="hilite(44239)" onMouseOut="lolite()" href="../_variables/id.html">id</a>           = <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('id')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l4025"><span class="linenum">4025</span></a>      <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a>-&gt;<a onClick="logVariable('errormessage')" class="var it44239" onMouseOver="hilite(44239)" onMouseOut="lolite()" href="../_variables/errormessage.html">errormessage</a> = <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>;
<a name="l4026"><span class="linenum">4026</span></a>      <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44239" onMouseOver="hilite(44239)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l4027"><span class="linenum">4027</span></a>      <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a>-&gt;<a onClick="logVariable('status')" class="var it44239" onMouseOver="hilite(44239)" onMouseOut="lolite()" href="../_variables/status.html">status</a>       = <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('status')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/status.html">status</a> + 1;
<a name="l4028"><span class="linenum">4028</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('events_queue_handlers', <a class="var it2699" onMouseOver="hilite(2699)" onMouseOut="lolite()" onClick="logVariable('qh')" href="../_variables/qh.html">$qh</a>);
<a name="l4029"><span class="linenum">4029</span></a>  
<a name="l4030"><span class="linenum">4030</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(<a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>);
<a name="l4031"><span class="linenum">4031</span></a>  
<a name="l4032"><span class="linenum">4032</span></a>      return false;
<a name="l4033"><span class="linenum">4033</span></a>  }
<a name="l4034"><span class="linenum">4034</span></a>  
<a name="l4035"><span class="linenum">4035</span></a>  <span class="comment">/**</span>
<a name="l4036"><span class="linenum">4036</span></a>  <span class="comment"> * Updates all of the event definitions within the database.</span>
<a name="l4037"><span class="linenum">4037</span></a>  <span class="comment"> *</span>
<a name="l4038"><span class="linenum">4038</span></a>  <span class="comment"> * Unfortunately this isn't as simple as removing them all and then readding</span>
<a name="l4039"><span class="linenum">4039</span></a>  <span class="comment"> * the updated event definitions. Chances are queued items are referencing the</span>
<a name="l4040"><span class="linenum">4040</span></a>  <span class="comment"> * existing definitions.</span>
<a name="l4041"><span class="linenum">4041</span></a>  <span class="comment"> *</span>
<a name="l4042"><span class="linenum">4042</span></a>  <span class="comment"> * Note that the absence of the db/events.php event definition file</span>
<a name="l4043"><span class="linenum">4043</span></a>  <span class="comment"> * will cause any queued events for the component to be removed from</span>
<a name="l4044"><span class="linenum">4044</span></a>  <span class="comment"> * the database.</span>
<a name="l4045"><span class="linenum">4045</span></a>  <span class="comment"> *</span>
<a name="l4046"><span class="linenum">4046</span></a>  <span class="comment"> * @category event</span>
<a name="l4047"><span class="linenum">4047</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4048"><span class="linenum">4048</span></a>  <span class="comment"> * @param string $component examples: 'moodle', 'mod_forum', 'block_quiz_results'</span>
<a name="l4049"><span class="linenum">4049</span></a>  <span class="comment"> * @return boolean always returns true</span>
<a name="l4050"><span class="linenum">4050</span></a>  <span class="comment"> */</span>
<a name="l4051"><span class="linenum">4051</span></a>  function <a class="function" onClick="logFunction('events_update_definition')" href="../_functions/events_update_definition.html" onMouseOver="funcPopup(event,'events_update_definition')">events_update_definition</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>='moodle') {
<a name="l4052"><span class="linenum">4052</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4053"><span class="linenum">4053</span></a>  
<a name="l4054"><span class="linenum">4054</span></a>  <span class="comment">    // load event definition from events.php</span>
<a name="l4055"><span class="linenum">4055</span></a>      <a class="var it2700" onMouseOver="hilite(2700)" onMouseOut="lolite()" onClick="logVariable('filehandlers')" href="../_variables/filehandlers.html">$filehandlers</a> = <a class="function" onClick="logFunction('events_load_def')" href="../_functions/events_load_def.html" onMouseOver="funcPopup(event,'events_load_def')">events_load_def</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l4056"><span class="linenum">4056</span></a>  
<a name="l4057"><span class="linenum">4057</span></a>      if (<a class="var it2700" onMouseOver="hilite(2700)" onMouseOut="lolite()" onClick="logVariable('filehandlers')" href="../_variables/filehandlers.html">$filehandlers</a>) {
<a name="l4058"><span class="linenum">4058</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Events API using <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> array has been deprecated in favour of Events 2 API, please use it instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4059"><span class="linenum">4059</span></a>      }
<a name="l4060"><span class="linenum">4060</span></a>  
<a name="l4061"><span class="linenum">4061</span></a>  <span class="comment">    // load event definitions from db tables</span>
<a name="l4062"><span class="linenum">4062</span></a>  <span class="comment">    // if we detect an event being already stored, we discard from this array later</span>
<a name="l4063"><span class="linenum">4063</span></a>  <span class="comment">    // the remaining needs to be removed</span>
<a name="l4064"><span class="linenum">4064</span></a>      <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a> = <a class="function" onClick="logFunction('events_get_cached')" href="../_functions/events_get_cached.html" onMouseOver="funcPopup(event,'events_get_cached')">events_get_cached</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l4065"><span class="linenum">4065</span></a>  
<a name="l4066"><span class="linenum">4066</span></a>      foreach (<a class="var it2700" onMouseOver="hilite(2700)" onMouseOut="lolite()" onClick="logVariable('filehandlers')" href="../_variables/filehandlers.html">$filehandlers</a> as <a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a> =&gt; <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>) {
<a name="l4067"><span class="linenum">4067</span></a>          if (!empty(<a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>])) {
<a name="l4068"><span class="linenum">4068</span></a>              if (<a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]['handlerfile'] === <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfile'] &amp;&amp;
<a name="l4069"><span class="linenum">4069</span></a>                  <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]['handlerfunction'] === <a class="phpfunction" onClick="logFunction('serialize')" href="../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfunction']) &amp;&amp;
<a name="l4070"><span class="linenum">4070</span></a>                  <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]['schedule'] === <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['schedule'] &amp;&amp;
<a name="l4071"><span class="linenum">4071</span></a>                  <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]['internal'] == <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['internal']) {
<a name="l4072"><span class="linenum">4072</span></a>  <span class="comment">                // exact same event handler already present in db, ignore this entry</span>
<a name="l4073"><span class="linenum">4073</span></a>  
<a name="l4074"><span class="linenum">4074</span></a>                  unset(<a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l4075"><span class="linenum">4075</span></a>                  continue;
<a name="l4076"><span class="linenum">4076</span></a>  
<a name="l4077"><span class="linenum">4077</span></a>              } else {
<a name="l4078"><span class="linenum">4078</span></a>  <span class="comment">                // same event name matches, this event has been updated, update the datebase</span>
<a name="l4079"><span class="linenum">4079</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a> = new stdClass();
<a name="l4080"><span class="linenum">4080</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>              = <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]['id'];
<a name="l4081"><span class="linenum">4081</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfile')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfile.html">handlerfile</a>     = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfile'];
<a name="l4082"><span class="linenum">4082</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a> = <a class="phpfunction" onClick="logFunction('serialize')" href="../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfunction']); <span class="comment">// static class methods stored as array</span>
<a name="l4083"><span class="linenum">4083</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a>        = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['schedule'];
<a name="l4084"><span class="linenum">4084</span></a>                  <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('internal')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/internal.html">internal</a>        = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['internal'];
<a name="l4085"><span class="linenum">4085</span></a>  
<a name="l4086"><span class="linenum">4086</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('events_handlers', <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>);
<a name="l4087"><span class="linenum">4087</span></a>  
<a name="l4088"><span class="linenum">4088</span></a>                  unset(<a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>[<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>]);
<a name="l4089"><span class="linenum">4089</span></a>                  continue;
<a name="l4090"><span class="linenum">4090</span></a>              }
<a name="l4091"><span class="linenum">4091</span></a>  
<a name="l4092"><span class="linenum">4092</span></a>          } else {
<a name="l4093"><span class="linenum">4093</span></a>  <span class="comment">            // if we are here, this event handler is not present in db (new)</span>
<a name="l4094"><span class="linenum">4094</span></a>  <span class="comment">            // add it</span>
<a name="l4095"><span class="linenum">4095</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a> = new stdClass();
<a name="l4096"><span class="linenum">4096</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('eventname')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/eventname.html">eventname</a>       = <a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>;
<a name="l4097"><span class="linenum">4097</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('component')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/component.html">component</a>       = <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>;
<a name="l4098"><span class="linenum">4098</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfile')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfile.html">handlerfile</a>     = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfile'];
<a name="l4099"><span class="linenum">4099</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('handlerfunction')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/handlerfunction.html">handlerfunction</a> = <a class="phpfunction" onClick="logFunction('serialize')" href="../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['handlerfunction']); <span class="comment">// static class methods stored as array</span>
<a name="l4100"><span class="linenum">4100</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a>        = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['schedule'];
<a name="l4101"><span class="linenum">4101</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a>          = 0;
<a name="l4102"><span class="linenum">4102</span></a>              <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('internal')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/internal.html">internal</a>        = <a class="var it2702" onMouseOver="hilite(2702)" onMouseOut="lolite()" onClick="logVariable('filehandler')" href="../_variables/filehandler.html">$filehandler</a>['internal'];
<a name="l4103"><span class="linenum">4103</span></a>  
<a name="l4104"><span class="linenum">4104</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('events_handlers', <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>);
<a name="l4105"><span class="linenum">4105</span></a>          }
<a name="l4106"><span class="linenum">4106</span></a>      }
<a name="l4107"><span class="linenum">4107</span></a>  
<a name="l4108"><span class="linenum">4108</span></a>  <span class="comment">    // clean up the left overs, the entries in cached events array at this points are deprecated event handlers</span>
<a name="l4109"><span class="linenum">4109</span></a>  <span class="comment">    // and should be removed, delete from db</span>
<a name="l4110"><span class="linenum">4110</span></a>      <a class="function" onClick="logFunction('events_cleanup')" href="../_functions/events_cleanup.html" onMouseOver="funcPopup(event,'events_cleanup')">events_cleanup</a>(<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, <a class="var it2701" onMouseOver="hilite(2701)" onMouseOut="lolite()" onClick="logVariable('cachedhandlers')" href="../_variables/cachedhandlers.html">$cachedhandlers</a>);
<a name="l4111"><span class="linenum">4111</span></a>  
<a name="l4112"><span class="linenum">4112</span></a>      <a class="function" onClick="logFunction('events_get_handlers')" href="../_functions/events_get_handlers.html" onMouseOver="funcPopup(event,'events_get_handlers')">events_get_handlers</a>('reset');
<a name="l4113"><span class="linenum">4113</span></a>  
<a name="l4114"><span class="linenum">4114</span></a>      return true;
<a name="l4115"><span class="linenum">4115</span></a>  }
<a name="l4116"><span class="linenum">4116</span></a>  
<a name="l4117"><span class="linenum">4117</span></a>  <span class="comment">/**</span>
<a name="l4118"><span class="linenum">4118</span></a>  <span class="comment"> * Events cron will try to empty the events queue by processing all the queued events handlers</span>
<a name="l4119"><span class="linenum">4119</span></a>  <span class="comment"> *</span>
<a name="l4120"><span class="linenum">4120</span></a>  <span class="comment"> * @access public Part of the public API</span>
<a name="l4121"><span class="linenum">4121</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4122"><span class="linenum">4122</span></a>  <span class="comment"> * @category event</span>
<a name="l4123"><span class="linenum">4123</span></a>  <span class="comment"> * @param string $eventname empty means all</span>
<a name="l4124"><span class="linenum">4124</span></a>  <span class="comment"> * @return int number of dispatched events</span>
<a name="l4125"><span class="linenum">4125</span></a>  <span class="comment"> */</span>
<a name="l4126"><span class="linenum">4126</span></a>  function <a class="function" onClick="logFunction('events_cron')" href="../_functions/events_cron.html" onMouseOver="funcPopup(event,'events_cron')">events_cron</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>='') {
<a name="l4127"><span class="linenum">4127</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4128"><span class="linenum">4128</span></a>  
<a name="l4129"><span class="linenum">4129</span></a>      <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('failed')" href="../_variables/failed.html">$failed</a> = array();
<a name="l4130"><span class="linenum">4130</span></a>      <a class="var it2705" onMouseOver="hilite(2705)" onMouseOut="lolite()" onClick="logVariable('processed')" href="../_variables/processed.html">$processed</a> = 0;
<a name="l4131"><span class="linenum">4131</span></a>  
<a name="l4132"><span class="linenum">4132</span></a>      if (<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>) {
<a name="l4133"><span class="linenum">4133</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT qh.*
<a name="l4134"><span class="linenum">4134</span></a>                    FROM {events_queue_handlers} qh, {events_handlers} h
<a name="l4135"><span class="linenum">4135</span></a>                   WHERE qh.handlerid = h.id AND h.eventname=?
<a name="l4136"><span class="linenum">4136</span></a>                ORDER BY qh.id&quot;;
<a name="l4137"><span class="linenum">4137</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>);
<a name="l4138"><span class="linenum">4138</span></a>      } else {
<a name="l4139"><span class="linenum">4139</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT *
<a name="l4140"><span class="linenum">4140</span></a>                    FROM {events_queue_handlers}
<a name="l4141"><span class="linenum">4141</span></a>                ORDER BY id&quot;;
<a name="l4142"><span class="linenum">4142</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l4143"><span class="linenum">4143</span></a>      }
<a name="l4144"><span class="linenum">4144</span></a>  
<a name="l4145"><span class="linenum">4145</span></a>      <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l4146"><span class="linenum">4146</span></a>      if (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('valid')" href="../_functions/valid.html" onMouseOver="funcPopup(event,'valid')">valid</a>()) {
<a name="l4147"><span class="linenum">4147</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Events API using <a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> array has been deprecated in favour of Events 2 API, please use it instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4148"><span class="linenum">4148</span></a>      }
<a name="l4149"><span class="linenum">4149</span></a>  
<a name="l4150"><span class="linenum">4150</span></a>      foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>) {
<a name="l4151"><span class="linenum">4151</span></a>          if (isset(<a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('failed')" href="../_variables/failed.html">$failed</a>[<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>])) {
<a name="l4152"><span class="linenum">4152</span></a>  <span class="comment">            // do not try to dispatch any later events when one already asked for retry or ended with exception</span>
<a name="l4153"><span class="linenum">4153</span></a>              continue;
<a name="l4154"><span class="linenum">4154</span></a>          }
<a name="l4155"><span class="linenum">4155</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('events_process_queued_handler')" href="../_functions/events_process_queued_handler.html" onMouseOver="funcPopup(event,'events_process_queued_handler')">events_process_queued_handler</a>(<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>);
<a name="l4156"><span class="linenum">4156</span></a>          if (<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> === false) {
<a name="l4157"><span class="linenum">4157</span></a>  <span class="comment">            // handler is asking for retry, do not send other events to this handler now</span>
<a name="l4158"><span class="linenum">4158</span></a>              <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('failed')" href="../_variables/failed.html">$failed</a>[<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>] = <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>;
<a name="l4159"><span class="linenum">4159</span></a>          } else if (<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> === NULL) {
<a name="l4160"><span class="linenum">4160</span></a>  <span class="comment">            // means completely broken handler, event data was purged</span>
<a name="l4161"><span class="linenum">4161</span></a>              <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('failed')" href="../_variables/failed.html">$failed</a>[<a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>] = <a class="var it2693" onMouseOver="hilite(2693)" onMouseOut="lolite()" onClick="logVariable('qhandler')" href="../_variables/qhandler.html">$qhandler</a>-&gt;<a onClick="logVariable('handlerid')" class="var it44238" onMouseOver="hilite(44238)" onMouseOut="lolite()" href="../_variables/handlerid.html">handlerid</a>;
<a name="l4162"><span class="linenum">4162</span></a>          } else {
<a name="l4163"><span class="linenum">4163</span></a>              <a class="var it2705" onMouseOver="hilite(2705)" onMouseOut="lolite()" onClick="logVariable('processed')" href="../_variables/processed.html">$processed</a>++;
<a name="l4164"><span class="linenum">4164</span></a>          }
<a name="l4165"><span class="linenum">4165</span></a>      }
<a name="l4166"><span class="linenum">4166</span></a>      <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l4167"><span class="linenum">4167</span></a>  
<a name="l4168"><span class="linenum">4168</span></a>  <span class="comment">    // remove events that do not have any handlers waiting</span>
<a name="l4169"><span class="linenum">4169</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT eq.id
<a name="l4170"><span class="linenum">4170</span></a>                FROM {events_queue} eq
<a name="l4171"><span class="linenum">4171</span></a>                LEFT JOIN {events_queue_handlers} qh ON qh.queuedeventid = eq.id
<a name="l4172"><span class="linenum">4172</span></a>               WHERE qh.id IS NULL&quot;;
<a name="l4173"><span class="linenum">4173</span></a>      <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>);
<a name="l4174"><span class="linenum">4174</span></a>      foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l4175"><span class="linenum">4175</span></a>  <span class="comment">        //debugging('Purging stale event '.$event-&gt;id);</span>
<a name="l4176"><span class="linenum">4176</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('events_queue', array('id'=&gt;<a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l4177"><span class="linenum">4177</span></a>      }
<a name="l4178"><span class="linenum">4178</span></a>      <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l4179"><span class="linenum">4179</span></a>  
<a name="l4180"><span class="linenum">4180</span></a>      return <a class="var it2705" onMouseOver="hilite(2705)" onMouseOut="lolite()" onClick="logVariable('processed')" href="../_variables/processed.html">$processed</a>;
<a name="l4181"><span class="linenum">4181</span></a>  }
<a name="l4182"><span class="linenum">4182</span></a>  
<a name="l4183"><span class="linenum">4183</span></a>  <span class="comment">/**</span>
<a name="l4184"><span class="linenum">4184</span></a>  <span class="comment"> * Do not call directly, this is intended to be used from new event base only.</span>
<a name="l4185"><span class="linenum">4185</span></a>  <span class="comment"> *</span>
<a name="l4186"><span class="linenum">4186</span></a>  <span class="comment"> * @private</span>
<a name="l4187"><span class="linenum">4187</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4188"><span class="linenum">4188</span></a>  <span class="comment"> * @param string $eventname name of the event</span>
<a name="l4189"><span class="linenum">4189</span></a>  <span class="comment"> * @param mixed $eventdata event data object</span>
<a name="l4190"><span class="linenum">4190</span></a>  <span class="comment"> * @return int number of failed events</span>
<a name="l4191"><span class="linenum">4191</span></a>  <span class="comment"> */</span>
<a name="l4192"><span class="linenum">4192</span></a>  function <a class="function" onClick="logFunction('events_trigger_legacy')" href="../_functions/events_trigger_legacy.html" onMouseOver="funcPopup(event,'events_trigger_legacy')">events_trigger_legacy</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>) {
<a name="l4193"><span class="linenum">4193</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4194"><span class="linenum">4194</span></a>  
<a name="l4195"><span class="linenum">4195</span></a>      <a class="var it2706" onMouseOver="hilite(2706)" onMouseOut="lolite()" onClick="logVariable('failedcount')" href="../_variables/failedcount.html">$failedcount</a> = 0; <span class="comment">// number of failed events.</span>
<a name="l4196"><span class="linenum">4196</span></a>  
<a name="l4197"><span class="linenum">4197</span></a>  <span class="comment">    // pull out all registered event handlers</span>
<a name="l4198"><span class="linenum">4198</span></a>      if (<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> = <a class="function" onClick="logFunction('events_get_handlers')" href="../_functions/events_get_handlers.html" onMouseOver="funcPopup(event,'events_get_handlers')">events_get_handlers</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>)) {
<a name="l4199"><span class="linenum">4199</span></a>          foreach (<a class="var it2690" onMouseOver="hilite(2690)" onMouseOut="lolite()" onClick="logVariable('handlers')" href="../_variables/handlers.html">$handlers</a> as <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>) {
<a name="l4200"><span class="linenum">4200</span></a>              <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = '';
<a name="l4201"><span class="linenum">4201</span></a>  
<a name="l4202"><span class="linenum">4202</span></a>              if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a> === 'instant') {
<a name="l4203"><span class="linenum">4203</span></a>                  if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a>) {
<a name="l4204"><span class="linenum">4204</span></a>  <span class="comment">                    //check if previous pending events processed</span>
<a name="l4205"><span class="linenum">4205</span></a>                      if (!<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('events_queue_handlers', array('handlerid'=&gt;<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l4206"><span class="linenum">4206</span></a>  <span class="comment">                        // ok, queue is empty, lets reset the status back to 0 == ok</span>
<a name="l4207"><span class="linenum">4207</span></a>                          <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a> = 0;
<a name="l4208"><span class="linenum">4208</span></a>                          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('events_handlers', 'status', 0, array('id'=&gt;<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l4209"><span class="linenum">4209</span></a>  <span class="comment">                        // reset static handler cache</span>
<a name="l4210"><span class="linenum">4210</span></a>                          <a class="function" onClick="logFunction('events_get_handlers')" href="../_functions/events_get_handlers.html" onMouseOver="funcPopup(event,'events_get_handlers')">events_get_handlers</a>('reset');
<a name="l4211"><span class="linenum">4211</span></a>                      }
<a name="l4212"><span class="linenum">4212</span></a>                  }
<a name="l4213"><span class="linenum">4213</span></a>  
<a name="l4214"><span class="linenum">4214</span></a>  <span class="comment">                // dispatch the event only if instant schedule and status ok</span>
<a name="l4215"><span class="linenum">4215</span></a>                  if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a> <a class="function" onClick="logFunction('or')" href="../_functions/or.html" onMouseOver="funcPopup(event,'or')">or</a> (!<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('internal')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/internal.html">internal</a> and <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('is_transaction_started')" href="../_functions/is_transaction_started.html" onMouseOver="funcPopup(event,'is_transaction_started')">is_transaction_started</a>())) {
<a name="l4216"><span class="linenum">4216</span></a>  <span class="comment">                    // increment the error status counter</span>
<a name="l4217"><span class="linenum">4217</span></a>                      <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a>++;
<a name="l4218"><span class="linenum">4218</span></a>                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('events_handlers', 'status', <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('status')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/status.html">status</a>, array('id'=&gt;<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l4219"><span class="linenum">4219</span></a>  <span class="comment">                    // reset static handler cache</span>
<a name="l4220"><span class="linenum">4220</span></a>                      <a class="function" onClick="logFunction('events_get_handlers')" href="../_functions/events_get_handlers.html" onMouseOver="funcPopup(event,'events_get_handlers')">events_get_handlers</a>('reset');
<a name="l4221"><span class="linenum">4221</span></a>  
<a name="l4222"><span class="linenum">4222</span></a>                  } else {
<a name="l4223"><span class="linenum">4223</span></a>                      <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a> = 'Unknown error';
<a name="l4224"><span class="linenum">4224</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('events_dispatch')" href="../_functions/events_dispatch.html" onMouseOver="funcPopup(event,'events_dispatch')">events_dispatch</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>, <a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>, <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>);
<a name="l4225"><span class="linenum">4225</span></a>                      if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> === true) {
<a name="l4226"><span class="linenum">4226</span></a>  <span class="comment">                        // everything is fine - event dispatched</span>
<a name="l4227"><span class="linenum">4227</span></a>                          continue;
<a name="l4228"><span class="linenum">4228</span></a>                      } else if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> === false) {
<a name="l4229"><span class="linenum">4229</span></a>  <span class="comment">                        // retry later - set error count to 1 == send next instant into cron queue</span>
<a name="l4230"><span class="linenum">4230</span></a>                          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('events_handlers', 'status', 1, array('id'=&gt;<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('id')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l4231"><span class="linenum">4231</span></a>  <span class="comment">                        // reset static handler cache</span>
<a name="l4232"><span class="linenum">4232</span></a>                          <a class="function" onClick="logFunction('events_get_handlers')" href="../_functions/events_get_handlers.html" onMouseOver="funcPopup(event,'events_get_handlers')">events_get_handlers</a>('reset');
<a name="l4233"><span class="linenum">4233</span></a>                      } else {
<a name="l4234"><span class="linenum">4234</span></a>  <span class="comment">                        // internal problem - ignore the event completely</span>
<a name="l4235"><span class="linenum">4235</span></a>                          <a class="var it2706" onMouseOver="hilite(2706)" onMouseOut="lolite()" onClick="logVariable('failedcount')" href="../_variables/failedcount.html">$failedcount</a> ++;
<a name="l4236"><span class="linenum">4236</span></a>                          continue;
<a name="l4237"><span class="linenum">4237</span></a>                      }
<a name="l4238"><span class="linenum">4238</span></a>                  }
<a name="l4239"><span class="linenum">4239</span></a>  
<a name="l4240"><span class="linenum">4240</span></a>  <span class="comment">                // update the failed counter</span>
<a name="l4241"><span class="linenum">4241</span></a>                  <a class="var it2706" onMouseOver="hilite(2706)" onMouseOut="lolite()" onClick="logVariable('failedcount')" href="../_variables/failedcount.html">$failedcount</a> ++;
<a name="l4242"><span class="linenum">4242</span></a>  
<a name="l4243"><span class="linenum">4243</span></a>              } else if (<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a> === 'cron') {
<a name="l4244"><span class="linenum">4244</span></a>  <span class="comment">                //ok - use queueing of events only</span>
<a name="l4245"><span class="linenum">4245</span></a>  
<a name="l4246"><span class="linenum">4246</span></a>              } else {
<a name="l4247"><span class="linenum">4247</span></a>  <span class="comment">                // unknown schedule - ignore event completely</span>
<a name="l4248"><span class="linenum">4248</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Unknown handler schedule type: <a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>-&gt;<a onClick="logVariable('schedule')" class="var it44100" onMouseOver="hilite(44100)" onMouseOut="lolite()" href="../_variables/schedule.html">schedule</a>&quot;);
<a name="l4249"><span class="linenum">4249</span></a>                  <a class="var it2706" onMouseOver="hilite(2706)" onMouseOut="lolite()" onClick="logVariable('failedcount')" href="../_variables/failedcount.html">$failedcount</a> ++;
<a name="l4250"><span class="linenum">4250</span></a>                  continue;
<a name="l4251"><span class="linenum">4251</span></a>              }
<a name="l4252"><span class="linenum">4252</span></a>  
<a name="l4253"><span class="linenum">4253</span></a>  <span class="comment">            // if even type is not instant, or dispatch asked for retry, queue it</span>
<a name="l4254"><span class="linenum">4254</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = new stdClass();
<a name="l4255"><span class="linenum">4255</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('userid')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>      = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l4256"><span class="linenum">4256</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('eventdata')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/eventdata.html">eventdata</a>   = <a class="phpfunction" onClick="logFunction('base64_encode')" href="../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(<a class="phpfunction" onClick="logFunction('serialize')" href="../_functions/serialize.html" onMouseOver="phpfuncPopup(event,'serialize')">serialize</a>(<a class="var it841" onMouseOver="hilite(841)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>));
<a name="l4257"><span class="linenum">4257</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('timecreated')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l4258"><span class="linenum">4258</span></a>              if (<a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>()) {
<a name="l4259"><span class="linenum">4259</span></a>                  <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> = '';
<a name="l4260"><span class="linenum">4260</span></a>                  <a class="var it2708" onMouseOver="hilite(2708)" onMouseOut="lolite()" onClick="logVariable('callers')" href="../_variables/callers.html">$callers</a> = <a class="phpfunction" onClick="logFunction('debug_backtrace')" href="../_functions/debug_backtrace.html" onMouseOver="phpfuncPopup(event,'debug_backtrace')">debug_backtrace</a>();
<a name="l4261"><span class="linenum">4261</span></a>                  foreach (<a class="var it2708" onMouseOver="hilite(2708)" onMouseOut="lolite()" onClick="logVariable('callers')" href="../_variables/callers.html">$callers</a> as <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>) {
<a name="l4262"><span class="linenum">4262</span></a>                      if (!isset(<a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'])) {
<a name="l4263"><span class="linenum">4263</span></a>                          <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'] = '?';
<a name="l4264"><span class="linenum">4264</span></a>                      }
<a name="l4265"><span class="linenum">4265</span></a>                      if (!isset(<a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file'])) {
<a name="l4266"><span class="linenum">4266</span></a>                          <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file'] = '?';
<a name="l4267"><span class="linenum">4267</span></a>                      }
<a name="l4268"><span class="linenum">4268</span></a>                      <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> .= 'line ' . <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['line'] . ' of ' . <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['file'], <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>) + 1);
<a name="l4269"><span class="linenum">4269</span></a>                      if (isset(<a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['function'])) {
<a name="l4270"><span class="linenum">4270</span></a>                          <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> .= ': call to ';
<a name="l4271"><span class="linenum">4271</span></a>                          if (isset(<a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['class'])) {
<a name="l4272"><span class="linenum">4272</span></a>                              <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> .= <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['class'] . <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['type'];
<a name="l4273"><span class="linenum">4273</span></a>                          }
<a name="l4274"><span class="linenum">4274</span></a>                          <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> .= <a class="var it1190" onMouseOver="hilite(1190)" onMouseOut="lolite()" onClick="logVariable('caller')" href="../_variables/caller.html">$caller</a>['function'] . '()';
<a name="l4275"><span class="linenum">4275</span></a>                      }
<a name="l4276"><span class="linenum">4276</span></a>                      <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a> .= &quot;\n&quot;;
<a name="l4277"><span class="linenum">4277</span></a>                  }
<a name="l4278"><span class="linenum">4278</span></a>                  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('stackdump')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/stackdump.html">stackdump</a> = <a class="var it2707" onMouseOver="hilite(2707)" onMouseOut="lolite()" onClick="logVariable('dump')" href="../_variables/dump.html">$dump</a>;
<a name="l4279"><span class="linenum">4279</span></a>              } else {
<a name="l4280"><span class="linenum">4280</span></a>                  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('stackdump')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/stackdump.html">stackdump</a> = '';
<a name="l4281"><span class="linenum">4281</span></a>              }
<a name="l4282"><span class="linenum">4282</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it42950" onMouseOver="hilite(42950)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('events_queue', <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>);
<a name="l4283"><span class="linenum">4283</span></a>              <a class="function" onClick="logFunction('events_queue_handler')" href="../_functions/events_queue_handler.html" onMouseOver="funcPopup(event,'events_queue_handler')">events_queue_handler</a>(<a class="var it2691" onMouseOver="hilite(2691)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>, <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>, <a class="var it2692" onMouseOver="hilite(2692)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../_variables/errormessage.html">$errormessage</a>);
<a name="l4284"><span class="linenum">4284</span></a>          }
<a name="l4285"><span class="linenum">4285</span></a>      } else {
<a name="l4286"><span class="linenum">4286</span></a>  <span class="comment">        // No handler found for this event name - this is ok!</span>
<a name="l4287"><span class="linenum">4287</span></a>      }
<a name="l4288"><span class="linenum">4288</span></a>  
<a name="l4289"><span class="linenum">4289</span></a>      return <a class="var it2706" onMouseOver="hilite(2706)" onMouseOut="lolite()" onClick="logVariable('failedcount')" href="../_variables/failedcount.html">$failedcount</a>;
<a name="l4290"><span class="linenum">4290</span></a>  }
<a name="l4291"><span class="linenum">4291</span></a>  
<a name="l4292"><span class="linenum">4292</span></a>  <span class="comment">/**</span>
<a name="l4293"><span class="linenum">4293</span></a>  <span class="comment"> * checks if an event is registered for this component</span>
<a name="l4294"><span class="linenum">4294</span></a>  <span class="comment"> *</span>
<a name="l4295"><span class="linenum">4295</span></a>  <span class="comment"> * @access public Part of the public API</span>
<a name="l4296"><span class="linenum">4296</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4297"><span class="linenum">4297</span></a>  <span class="comment"> * @param string $eventname name of the event</span>
<a name="l4298"><span class="linenum">4298</span></a>  <span class="comment"> * @param string $component component name, can be mod/data or moodle</span>
<a name="l4299"><span class="linenum">4299</span></a>  <span class="comment"> * @return bool</span>
<a name="l4300"><span class="linenum">4300</span></a>  <span class="comment"> */</span>
<a name="l4301"><span class="linenum">4301</span></a>  function <a class="function" onClick="logFunction('events_is_registered')" href="../_functions/events_is_registered.html" onMouseOver="funcPopup(event,'events_is_registered')">events_is_registered</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l4302"><span class="linenum">4302</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4303"><span class="linenum">4303</span></a>  
<a name="l4304"><span class="linenum">4304</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('events_is_registered')" href="../_functions/events_is_registered.html" onMouseOver="funcPopup(event,'events_is_registered')">events_is_registered</a>() has been deprecated along with all Events 1 API in favour of Events 2 API,' .
<a name="l4305"><span class="linenum">4305</span></a>          ' please use it instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4306"><span class="linenum">4306</span></a>  
<a name="l4307"><span class="linenum">4307</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('events_handlers', array('component'=&gt;<a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>, 'eventname'=&gt;<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>));
<a name="l4308"><span class="linenum">4308</span></a>  }
<a name="l4309"><span class="linenum">4309</span></a>  
<a name="l4310"><span class="linenum">4310</span></a>  <span class="comment">/**</span>
<a name="l4311"><span class="linenum">4311</span></a>  <span class="comment"> * checks if an event is queued for processing - either cron handlers attached or failed instant handlers</span>
<a name="l4312"><span class="linenum">4312</span></a>  <span class="comment"> *</span>
<a name="l4313"><span class="linenum">4313</span></a>  <span class="comment"> * @access public Part of the public API</span>
<a name="l4314"><span class="linenum">4314</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4315"><span class="linenum">4315</span></a>  <span class="comment"> * @param string $eventname name of the event</span>
<a name="l4316"><span class="linenum">4316</span></a>  <span class="comment"> * @return int number of queued events</span>
<a name="l4317"><span class="linenum">4317</span></a>  <span class="comment"> */</span>
<a name="l4318"><span class="linenum">4318</span></a>  function <a class="function" onClick="logFunction('events_pending_count')" href="../_functions/events_pending_count.html" onMouseOver="funcPopup(event,'events_pending_count')">events_pending_count</a>(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>) {
<a name="l4319"><span class="linenum">4319</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4320"><span class="linenum">4320</span></a>  
<a name="l4321"><span class="linenum">4321</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('events_pending_count')" href="../_functions/events_pending_count.html" onMouseOver="funcPopup(event,'events_pending_count')">events_pending_count</a>() has been deprecated along with all Events 1 API in favour of Events 2 API,' .
<a name="l4322"><span class="linenum">4322</span></a>          ' please use it instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4323"><span class="linenum">4323</span></a>  
<a name="l4324"><span class="linenum">4324</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>('x')
<a name="l4325"><span class="linenum">4325</span></a>                FROM {events_queue_handlers} qh
<a name="l4326"><span class="linenum">4326</span></a>                JOIN {events_handlers} h ON h.id = qh.handlerid
<a name="l4327"><span class="linenum">4327</span></a>               WHERE h.eventname = ?&quot;;
<a name="l4328"><span class="linenum">4328</span></a>  
<a name="l4329"><span class="linenum">4329</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, array(<a class="var it2532" onMouseOver="hilite(2532)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>));
<a name="l4330"><span class="linenum">4330</span></a>  }
<a name="l4331"><span class="linenum">4331</span></a>  
<a name="l4332"><span class="linenum">4332</span></a>  <span class="comment">/**</span>
<a name="l4333"><span class="linenum">4333</span></a>  <span class="comment"> * Emails admins about a clam outcome</span>
<a name="l4334"><span class="linenum">4334</span></a>  <span class="comment"> *</span>
<a name="l4335"><span class="linenum">4335</span></a>  <span class="comment"> * @deprecated since Moodle 3.0 - this is a part of clamav plugin now.</span>
<a name="l4336"><span class="linenum">4336</span></a>  <span class="comment"> * @param string $notice The body of the email to be sent.</span>
<a name="l4337"><span class="linenum">4337</span></a>  <span class="comment"> * @return void</span>
<a name="l4338"><span class="linenum">4338</span></a>  <span class="comment"> */</span>
<a name="l4339"><span class="linenum">4339</span></a>  function <a class="function" onClick="logFunction('clam_message_admins')" href="../_functions/clam_message_admins.html" onMouseOver="funcPopup(event,'clam_message_admins')">clam_message_admins</a>(<a class="var it2710" onMouseOver="hilite(2710)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../_variables/notice.html">$notice</a>) {
<a name="l4340"><span class="linenum">4340</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('clam_message_admins')" href="../_functions/clam_message_admins.html" onMouseOver="funcPopup(event,'clam_message_admins')">clam_message_admins</a>() is deprecated, please use <a class="function" onClick="logFunction('message_admins')" href="../_functions/message_admins.html" onMouseOver="funcPopup(event,'message_admins')">message_admins</a>() method of \antivirus_clamav\scanner class.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4341"><span class="linenum">4341</span></a>  
<a name="l4342"><span class="linenum">4342</span></a>      <a class="var it2711" onMouseOver="hilite(2711)" onMouseOut="lolite()" onClick="logVariable('antivirus')" href="../_variables/antivirus.html">$antivirus</a> = \core\antivirus\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_antivirus')" href="../_functions/get_antivirus.html" onMouseOver="funcPopup(event,'get_antivirus')">get_antivirus</a>('clamav');
<a name="l4343"><span class="linenum">4343</span></a>      <a class="var it2711" onMouseOver="hilite(2711)" onMouseOut="lolite()" onClick="logVariable('antivirus')" href="../_variables/antivirus.html">$antivirus</a>-&gt;<a class="function" onClick="logFunction('message_admins')" href="../_functions/message_admins.html" onMouseOver="funcPopup(event,'message_admins')">message_admins</a>(<a class="var it2710" onMouseOver="hilite(2710)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../_variables/notice.html">$notice</a>);
<a name="l4344"><span class="linenum">4344</span></a>  }
<a name="l4345"><span class="linenum">4345</span></a>  
<a name="l4346"><span class="linenum">4346</span></a>  <span class="comment">/**</span>
<a name="l4347"><span class="linenum">4347</span></a>  <span class="comment"> * Returns the string equivalent of a numeric clam error code</span>
<a name="l4348"><span class="linenum">4348</span></a>  <span class="comment"> *</span>
<a name="l4349"><span class="linenum">4349</span></a>  <span class="comment"> * @deprecated since Moodle 3.0 - this is a part of clamav plugin now.</span>
<a name="l4350"><span class="linenum">4350</span></a>  <span class="comment"> * @param int $returncode The numeric error code in question.</span>
<a name="l4351"><span class="linenum">4351</span></a>  <span class="comment"> * @return string The definition of the error code</span>
<a name="l4352"><span class="linenum">4352</span></a>  <span class="comment"> */</span>
<a name="l4353"><span class="linenum">4353</span></a>  function <a class="function" onClick="logFunction('get_clam_error_code')" href="../_functions/get_clam_error_code.html" onMouseOver="funcPopup(event,'get_clam_error_code')">get_clam_error_code</a>(<a class="var it2712" onMouseOver="hilite(2712)" onMouseOut="lolite()" onClick="logVariable('returncode')" href="../_variables/returncode.html">$returncode</a>) {
<a name="l4354"><span class="linenum">4354</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_clam_error_code')" href="../_functions/get_clam_error_code.html" onMouseOver="funcPopup(event,'get_clam_error_code')">get_clam_error_code</a>() is deprecated, please use <a class="function" onClick="logFunction('get_clam_error_code')" href="../_functions/get_clam_error_code.html" onMouseOver="funcPopup(event,'get_clam_error_code')">get_clam_error_code</a>() method of \antivirus_clamav\scanner class.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4355"><span class="linenum">4355</span></a>  
<a name="l4356"><span class="linenum">4356</span></a>      <a class="var it2711" onMouseOver="hilite(2711)" onMouseOut="lolite()" onClick="logVariable('antivirus')" href="../_variables/antivirus.html">$antivirus</a> = \core\antivirus\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_antivirus')" href="../_functions/get_antivirus.html" onMouseOver="funcPopup(event,'get_antivirus')">get_antivirus</a>('clamav');
<a name="l4357"><span class="linenum">4357</span></a>      return <a class="var it2711" onMouseOver="hilite(2711)" onMouseOut="lolite()" onClick="logVariable('antivirus')" href="../_variables/antivirus.html">$antivirus</a>-&gt;<a class="function" onClick="logFunction('get_clam_error_code')" href="../_functions/get_clam_error_code.html" onMouseOver="funcPopup(event,'get_clam_error_code')">get_clam_error_code</a>(<a class="var it2712" onMouseOver="hilite(2712)" onMouseOut="lolite()" onClick="logVariable('returncode')" href="../_variables/returncode.html">$returncode</a>);
<a name="l4358"><span class="linenum">4358</span></a>  }
<a name="l4359"><span class="linenum">4359</span></a>  
<a name="l4360"><span class="linenum">4360</span></a>  <span class="comment">/**</span>
<a name="l4361"><span class="linenum">4361</span></a>  <span class="comment"> * Returns the rename action.</span>
<a name="l4362"><span class="linenum">4362</span></a>  <span class="comment"> *</span>
<a name="l4363"><span class="linenum">4363</span></a>  <span class="comment"> * @deprecated since 3.1</span>
<a name="l4364"><span class="linenum">4364</span></a>  <span class="comment"> * @param cm_info $mod The module to produce editing buttons for</span>
<a name="l4365"><span class="linenum">4365</span></a>  <span class="comment"> * @param int $sr The section to link back to (used for creating the links)</span>
<a name="l4366"><span class="linenum">4366</span></a>  <span class="comment"> * @return The markup for the rename action, or an empty string if not available.</span>
<a name="l4367"><span class="linenum">4367</span></a>  <span class="comment"> */</span>
<a name="l4368"><span class="linenum">4368</span></a>  function <a class="function" onClick="logFunction('course_get_cm_rename_action')" href="../_functions/course_get_cm_rename_action.html" onMouseOver="funcPopup(event,'course_get_cm_rename_action')">course_get_cm_rename_action</a>(cm_info <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it2713" onMouseOver="hilite(2713)" onMouseOut="lolite()" onClick="logVariable('sr')" href="../_variables/sr.html">$sr</a> = null) {
<a name="l4369"><span class="linenum">4369</span></a>      global <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l4370"><span class="linenum">4370</span></a>  
<a name="l4371"><span class="linenum">4371</span></a>      static <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l4372"><span class="linenum">4372</span></a>      static <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>;
<a name="l4373"><span class="linenum">4373</span></a>  
<a name="l4374"><span class="linenum">4374</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('course_get_cm_rename_action')" href="../_functions/course_get_cm_rename_action.html" onMouseOver="funcPopup(event,'course_get_cm_rename_action')">course_get_cm_rename_action</a>() is deprecated. Please use inplace_editable ' .
<a name="l4375"><span class="linenum">4375</span></a>          'https://docs.moodle.org/dev/Inplace_editable', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4376"><span class="linenum">4376</span></a>  
<a name="l4377"><span class="linenum">4377</span></a>      <a class="var it2714" onMouseOver="hilite(2714)" onMouseOut="lolite()" onClick="logVariable('modcontext')" href="../_variables/modcontext.html">$modcontext</a> = <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('id')" class="var it43599" onMouseOver="hilite(43599)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l4378"><span class="linenum">4378</span></a>      <a class="var it2715" onMouseOver="hilite(2715)" onMouseOut="lolite()" onClick="logVariable('hasmanageactivities')" href="../_variables/hasmanageactivities.html">$hasmanageactivities</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="var it2714" onMouseOver="hilite(2714)" onMouseOut="lolite()" onClick="logVariable('modcontext')" href="../_variables/modcontext.html">$modcontext</a>);
<a name="l4379"><span class="linenum">4379</span></a>  
<a name="l4380"><span class="linenum">4380</span></a>      if (!isset(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>)) {
<a name="l4381"><span class="linenum">4381</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = <a class="function" onClick="logFunction('get_strings')" href="../_functions/get_strings.html" onMouseOver="funcPopup(event,'get_strings')">get_strings</a>(array('edittitle'));
<a name="l4382"><span class="linenum">4382</span></a>      }
<a name="l4383"><span class="linenum">4383</span></a>  
<a name="l4384"><span class="linenum">4384</span></a>      if (!isset(<a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>)) {
<a name="l4385"><span class="linenum">4385</span></a>          <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/mod.php.html">/course/mod.php</a>', array('sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l4386"><span class="linenum">4386</span></a>      }
<a name="l4387"><span class="linenum">4387</span></a>  
<a name="l4388"><span class="linenum">4388</span></a>      if (<a class="var it2713" onMouseOver="hilite(2713)" onMouseOut="lolite()" onClick="logVariable('sr')" href="../_variables/sr.html">$sr</a> !== null) {
<a name="l4389"><span class="linenum">4389</span></a>          <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('sr', <a class="var it2713" onMouseOver="hilite(2713)" onMouseOut="lolite()" onClick="logVariable('sr')" href="../_variables/sr.html">$sr</a>);
<a name="l4390"><span class="linenum">4390</span></a>      }
<a name="l4391"><span class="linenum">4391</span></a>  
<a name="l4392"><span class="linenum">4392</span></a>  <span class="comment">    // AJAX edit title.</span>
<a name="l4393"><span class="linenum">4393</span></a>      if (<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a class="function" onClick="logFunction('has_view')" href="../_functions/has_view.html" onMouseOver="funcPopup(event,'has_view')">has_view</a>() &amp;&amp; <a class="var it2715" onMouseOver="hilite(2715)" onMouseOut="lolite()" onClick="logVariable('hasmanageactivities')" href="../_variables/hasmanageactivities.html">$hasmanageactivities</a> &amp;&amp; <a class="function" onClick="logFunction('course_ajax_enabled')" href="../_functions/course_ajax_enabled.html" onMouseOver="funcPopup(event,'course_ajax_enabled')">course_ajax_enabled</a>(<a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>) &amp;&amp;
<a name="l4394"><span class="linenum">4394</span></a>          ((<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('course')" class="var it43599" onMouseOver="hilite(43599)" onMouseOut="lolite()" href="../_variables/course.html">course</a> == <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it43316" onMouseOver="hilite(43316)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) || (<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('course')" class="var it43599" onMouseOver="hilite(43599)" onMouseOut="lolite()" href="../_variables/course.html">course</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>))) {
<a name="l4395"><span class="linenum">4395</span></a>  <span class="comment">        // we will not display link if we are on some other-course page (where we should not see this module anyway)</span>
<a name="l4396"><span class="linenum">4396</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l4397"><span class="linenum">4397</span></a>              <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l4398"><span class="linenum">4398</span></a>                  <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('baseurl')" href="../_variables/baseurl.html">$baseurl</a>, array('update' =&gt; <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('id')" class="var it43599" onMouseOver="hilite(43599)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)),
<a name="l4399"><span class="linenum">4399</span></a>                  <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/editstring', '', 'moodle', array('class' =&gt; 'iconsmall visibleifjs', 'title' =&gt; '')),
<a name="l4400"><span class="linenum">4400</span></a>                  array(
<a name="l4401"><span class="linenum">4401</span></a>                      'class' =&gt; 'editing_title',
<a name="l4402"><span class="linenum">4402</span></a>                      'data-action' =&gt; 'edittitle',
<a name="l4403"><span class="linenum">4403</span></a>                      'title' =&gt; <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('edittitle')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../_variables/edittitle.html">edittitle</a>,
<a name="l4404"><span class="linenum">4404</span></a>                  )
<a name="l4405"><span class="linenum">4405</span></a>              )
<a name="l4406"><span class="linenum">4406</span></a>          );
<a name="l4407"><span class="linenum">4407</span></a>      }
<a name="l4408"><span class="linenum">4408</span></a>      return '';
<a name="l4409"><span class="linenum">4409</span></a>  }
<a name="l4410"><span class="linenum">4410</span></a>  
<a name="l4411"><span class="linenum">4411</span></a>  <span class="comment">/*</span>
<a name="l4412"><span class="linenum">4412</span></a>  <span class="comment"> * This function returns the number of activities using the given scale in the given course.</span>
<a name="l4413"><span class="linenum">4413</span></a>  <span class="comment"> *</span>
<a name="l4414"><span class="linenum">4414</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4415"><span class="linenum">4415</span></a>  <span class="comment"> * @param int $courseid The course ID to check.</span>
<a name="l4416"><span class="linenum">4416</span></a>  <span class="comment"> * @param int $scaleid The scale ID to check</span>
<a name="l4417"><span class="linenum">4417</span></a>  <span class="comment"> * @return int</span>
<a name="l4418"><span class="linenum">4418</span></a>  <span class="comment"> */</span>
<a name="l4419"><span class="linenum">4419</span></a>  function <a class="function" onClick="logFunction('course_scale_used')" href="../_functions/course_scale_used.html" onMouseOver="funcPopup(event,'course_scale_used')">course_scale_used</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>) {
<a name="l4420"><span class="linenum">4420</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4421"><span class="linenum">4421</span></a>  
<a name="l4422"><span class="linenum">4422</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('course_scale_used')" href="../_functions/course_scale_used.html" onMouseOver="funcPopup(event,'course_scale_used')">course_scale_used</a>() is deprecated and never used, plugins can implement &lt;modname&gt;_scale_used_anywhere, '.
<a name="l4423"><span class="linenum">4423</span></a>          'all implementations of &lt;modname&gt;_scale_used are now ignored', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4424"><span class="linenum">4424</span></a>  
<a name="l4425"><span class="linenum">4425</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = 0;
<a name="l4426"><span class="linenum">4426</span></a>  
<a name="l4427"><span class="linenum">4427</span></a>      if (!empty(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>)) {
<a name="l4428"><span class="linenum">4428</span></a>          if (<a class="var it698" onMouseOver="hilite(698)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../_variables/cms.html">$cms</a> = <a class="function" onClick="logFunction('get_course_mods')" href="../_functions/get_course_mods.html" onMouseOver="funcPopup(event,'get_course_mods')">get_course_mods</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)) {
<a name="l4429"><span class="linenum">4429</span></a>              foreach (<a class="var it698" onMouseOver="hilite(698)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../_variables/cms.html">$cms</a> as <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>) {
<a name="l4430"><span class="linenum">4430</span></a>  <span class="comment">                // Check cm-&gt;name/lib.php exists.</span>
<a name="l4431"><span class="linenum">4431</span></a>                  if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'/mod/'.<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>.'/lib.php')) {
<a name="l4432"><span class="linenum">4432</span></a>                      include_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'/mod/'.<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>.'/lib.php');
<a name="l4433"><span class="linenum">4433</span></a>                      <a class="var it2244" onMouseOver="hilite(2244)" onMouseOut="lolite()" onClick="logVariable('functionname')" href="../_variables/functionname.html">$functionname</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>.'_scale_used';
<a name="l4434"><span class="linenum">4434</span></a>                      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it2244" onMouseOver="hilite(2244)" onMouseOut="lolite()" onClick="logVariable('functionname')" href="../_variables/functionname.html">$functionname</a>)) {
<a name="l4435"><span class="linenum">4435</span></a>                          if (<a class="var it2244" onMouseOver="hilite(2244)" onMouseOut="lolite()" onClick="logVariable('functionname')" href="../_variables/functionname.html">$functionname</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../_variables/instance.html">instance</a>, <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>)) {
<a name="l4436"><span class="linenum">4436</span></a>                              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>++;
<a name="l4437"><span class="linenum">4437</span></a>                          }
<a name="l4438"><span class="linenum">4438</span></a>                      }
<a name="l4439"><span class="linenum">4439</span></a>                  }
<a name="l4440"><span class="linenum">4440</span></a>              }
<a name="l4441"><span class="linenum">4441</span></a>          }
<a name="l4442"><span class="linenum">4442</span></a>  
<a name="l4443"><span class="linenum">4443</span></a>  <span class="comment">        // Check if any course grade item makes use of the scale.</span>
<a name="l4444"><span class="linenum">4444</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> += <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('grade_items', array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, 'scaleid' =&gt; <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>));
<a name="l4445"><span class="linenum">4445</span></a>  
<a name="l4446"><span class="linenum">4446</span></a>  <span class="comment">        // Check if any outcome in the course makes use of the scale.</span>
<a name="l4447"><span class="linenum">4447</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> += <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(&quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>('x')
<a name="l4448"><span class="linenum">4448</span></a>                                               FROM {grade_outcomes_courses} goc,
<a name="l4449"><span class="linenum">4449</span></a>                                                    {grade_outcomes} go
<a name="l4450"><span class="linenum">4450</span></a>                                              WHERE go.id = goc.outcomeid
<a name="l4451"><span class="linenum">4451</span></a>                                                    AND go.scaleid = ? AND goc.courseid = ?&quot;,
<a name="l4452"><span class="linenum">4452</span></a>              array(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l4453"><span class="linenum">4453</span></a>      }
<a name="l4454"><span class="linenum">4454</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l4455"><span class="linenum">4455</span></a>  }
<a name="l4456"><span class="linenum">4456</span></a>  
<a name="l4457"><span class="linenum">4457</span></a>  <span class="comment">/**</span>
<a name="l4458"><span class="linenum">4458</span></a>  <span class="comment"> * This function returns the number of activities using scaleid in the entire site</span>
<a name="l4459"><span class="linenum">4459</span></a>  <span class="comment"> *</span>
<a name="l4460"><span class="linenum">4460</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4461"><span class="linenum">4461</span></a>  <span class="comment"> * @param int $scaleid</span>
<a name="l4462"><span class="linenum">4462</span></a>  <span class="comment"> * @param array $courses</span>
<a name="l4463"><span class="linenum">4463</span></a>  <span class="comment"> * @return int</span>
<a name="l4464"><span class="linenum">4464</span></a>  <span class="comment"> */</span>
<a name="l4465"><span class="linenum">4465</span></a>  function <a class="function" onClick="logFunction('site_scale_used')" href="../_functions/site_scale_used.html" onMouseOver="funcPopup(event,'site_scale_used')">site_scale_used</a>(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>, &amp;<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) {
<a name="l4466"><span class="linenum">4466</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = 0;
<a name="l4467"><span class="linenum">4467</span></a>  
<a name="l4468"><span class="linenum">4468</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('site_scale_used')" href="../_functions/site_scale_used.html" onMouseOver="funcPopup(event,'site_scale_used')">site_scale_used</a>() is deprecated and never used, plugins can implement &lt;modname&gt;_scale_used_anywhere, '.
<a name="l4469"><span class="linenum">4469</span></a>          'all implementations of &lt;modname&gt;_scale_used are now ignored', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4470"><span class="linenum">4470</span></a>  
<a name="l4471"><span class="linenum">4471</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) || <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) == 0) {
<a name="l4472"><span class="linenum">4472</span></a>          <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="function" onClick="logFunction('get_courses')" href="../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>(&quot;all&quot;, false, &quot;c.id, c.shortname&quot;);
<a name="l4473"><span class="linenum">4473</span></a>      }
<a name="l4474"><span class="linenum">4474</span></a>  
<a name="l4475"><span class="linenum">4475</span></a>      if (!empty(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>)) {
<a name="l4476"><span class="linenum">4476</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) &gt; 0) {
<a name="l4477"><span class="linenum">4477</span></a>              foreach (<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l4478"><span class="linenum">4478</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> += <a class="function" onClick="logFunction('course_scale_used')" href="../_functions/course_scale_used.html" onMouseOver="funcPopup(event,'course_scale_used')">course_scale_used</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../_variables/scaleid.html">$scaleid</a>);
<a name="l4479"><span class="linenum">4479</span></a>              }
<a name="l4480"><span class="linenum">4480</span></a>          }
<a name="l4481"><span class="linenum">4481</span></a>      }
<a name="l4482"><span class="linenum">4482</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l4483"><span class="linenum">4483</span></a>  }
<a name="l4484"><span class="linenum">4484</span></a>  
<a name="l4485"><span class="linenum">4485</span></a>  <span class="comment">/**</span>
<a name="l4486"><span class="linenum">4486</span></a>  <span class="comment"> * Returns detailed function information</span>
<a name="l4487"><span class="linenum">4487</span></a>  <span class="comment"> *</span>
<a name="l4488"><span class="linenum">4488</span></a>  <span class="comment"> * @deprecated since Moodle 3.1</span>
<a name="l4489"><span class="linenum">4489</span></a>  <span class="comment"> * @param string|object $function name of external function or record from external_function</span>
<a name="l4490"><span class="linenum">4490</span></a>  <span class="comment"> * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l4491"><span class="linenum">4491</span></a>  <span class="comment"> *                        MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l4492"><span class="linenum">4492</span></a>  <span class="comment"> * @return stdClass description or false if not found or exception thrown</span>
<a name="l4493"><span class="linenum">4493</span></a>  <span class="comment"> * @since Moodle 2.0</span>
<a name="l4494"><span class="linenum">4494</span></a>  <span class="comment"> */</span>
<a name="l4495"><span class="linenum">4495</span></a>  function <a class="function" onClick="logFunction('external_function_info')" href="../_functions/external_function_info.html" onMouseOver="funcPopup(event,'external_function_info')">external_function_info</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a>=<a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>) {
<a name="l4496"><span class="linenum">4496</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('external_function_info')" href="../_functions/external_function_info.html" onMouseOver="funcPopup(event,'external_function_info')">external_function_info</a>() is deprecated. Please use <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('external_function_info')" href="../_functions/external_function_info.html" onMouseOver="funcPopup(event,'external_function_info')">external_function_info</a>() instead.',
<a name="l4497"><span class="linenum">4497</span></a>                <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4498"><span class="linenum">4498</span></a>      return <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('external_function_info')" href="../_functions/external_function_info.html" onMouseOver="funcPopup(event,'external_function_info')">external_function_info</a>(<a class="var it307" onMouseOver="hilite(307)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>, <a class="var it1289" onMouseOver="hilite(1289)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a>);
<a name="l4499"><span class="linenum">4499</span></a>  }
<a name="l4500"><span class="linenum">4500</span></a>  
<a name="l4501"><span class="linenum">4501</span></a>  <span class="comment">/**</span>
<a name="l4502"><span class="linenum">4502</span></a>  <span class="comment"> * Retrieves an array of records from a CSV file and places</span>
<a name="l4503"><span class="linenum">4503</span></a>  <span class="comment"> * them into a given table structure</span>
<a name="l4504"><span class="linenum">4504</span></a>  <span class="comment"> * This function is deprecated. Please use csv_import_reader() instead.</span>
<a name="l4505"><span class="linenum">4505</span></a>  <span class="comment"> *</span>
<a name="l4506"><span class="linenum">4506</span></a>  <span class="comment"> * @deprecated since Moodle 3.2 MDL-55126</span>
<a name="l4507"><span class="linenum">4507</span></a>  <span class="comment"> * @todo MDL-55195 for final deprecation in Moodle 3.6</span>
<a name="l4508"><span class="linenum">4508</span></a>  <span class="comment"> * @see csv_import_reader::load_csv_content()</span>
<a name="l4509"><span class="linenum">4509</span></a>  <span class="comment"> * @global stdClass $CFG</span>
<a name="l4510"><span class="linenum">4510</span></a>  <span class="comment"> * @global moodle_database $DB</span>
<a name="l4511"><span class="linenum">4511</span></a>  <span class="comment"> * @param string $file The path to a CSV file</span>
<a name="l4512"><span class="linenum">4512</span></a>  <span class="comment"> * @param string $table The table to retrieve columns from</span>
<a name="l4513"><span class="linenum">4513</span></a>  <span class="comment"> * @return bool|array Returns an array of CSV records or false</span>
<a name="l4514"><span class="linenum">4514</span></a>  <span class="comment"> */</span>
<a name="l4515"><span class="linenum">4515</span></a>  function <a class="function" onClick="logFunction('get_records_csv')" href="../_functions/get_records_csv.html" onMouseOver="funcPopup(event,'get_records_csv')">get_records_csv</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../_variables/table.html">$table</a>) {
<a name="l4516"><span class="linenum">4516</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4517"><span class="linenum">4517</span></a>  
<a name="l4518"><span class="linenum">4518</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_records_csv')" href="../_functions/get_records_csv.html" onMouseOver="funcPopup(event,'get_records_csv')">get_records_csv</a>() is deprecated. Please use lib/csvlib.class.php csv_import_reader() instead.');
<a name="l4519"><span class="linenum">4519</span></a>  
<a name="l4520"><span class="linenum">4520</span></a>      if (!<a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_columns')" href="../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../_variables/table.html">$table</a>)) {
<a name="l4521"><span class="linenum">4521</span></a>          return false;
<a name="l4522"><span class="linenum">4522</span></a>      }
<a name="l4523"><span class="linenum">4523</span></a>  
<a name="l4524"><span class="linenum">4524</span></a>      if(!(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a> = @<a class="function" onClick="logFunction('fopen')" href="../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, 'r'))) {
<a name="l4525"><span class="linenum">4525</span></a>          <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('get_records_csv failed to open '.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>);
<a name="l4526"><span class="linenum">4526</span></a>      }
<a name="l4527"><span class="linenum">4527</span></a>  
<a name="l4528"><span class="linenum">4528</span></a>      <a class="var it2718" onMouseOver="hilite(2718)" onMouseOut="lolite()" onClick="logVariable('fieldnames')" href="../_variables/fieldnames.html">$fieldnames</a> = <a class="phpfunction" onClick="logFunction('fgetcsv')" href="../_functions/fgetcsv.html" onMouseOver="phpfuncPopup(event,'fgetcsv')">fgetcsv</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>, 4096);
<a name="l4529"><span class="linenum">4529</span></a>      if(empty(<a class="var it2718" onMouseOver="hilite(2718)" onMouseOut="lolite()" onClick="logVariable('fieldnames')" href="../_variables/fieldnames.html">$fieldnames</a>)) {
<a name="l4530"><span class="linenum">4530</span></a>          <a class="phpfunction" onClick="logFunction('fclose')" href="../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>);
<a name="l4531"><span class="linenum">4531</span></a>          return false;
<a name="l4532"><span class="linenum">4532</span></a>      }
<a name="l4533"><span class="linenum">4533</span></a>  
<a name="l4534"><span class="linenum">4534</span></a>      <a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../_variables/columns.html">$columns</a> = array();
<a name="l4535"><span class="linenum">4535</span></a>  
<a name="l4536"><span class="linenum">4536</span></a>      foreach(<a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a> as <a class="var it2719" onMouseOver="hilite(2719)" onMouseOut="lolite()" onClick="logVariable('metacolumn')" href="../_variables/metacolumn.html">$metacolumn</a>) {
<a name="l4537"><span class="linenum">4537</span></a>          <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../_variables/ord.html">$ord</a> = <a class="phpfunction" onClick="logFunction('array_search')" href="../_functions/array_search.html" onMouseOver="phpfuncPopup(event,'array_search')">array_search</a>(<a class="var it2719" onMouseOver="hilite(2719)" onMouseOut="lolite()" onClick="logVariable('metacolumn')" href="../_variables/metacolumn.html">$metacolumn</a>-&gt;<a onClick="logVariable('name')" class="var it43966" onMouseOver="hilite(43966)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, <a class="var it2718" onMouseOver="hilite(2718)" onMouseOut="lolite()" onClick="logVariable('fieldnames')" href="../_variables/fieldnames.html">$fieldnames</a>);
<a name="l4538"><span class="linenum">4538</span></a>          if(is_int(<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../_variables/ord.html">$ord</a>)) {
<a name="l4539"><span class="linenum">4539</span></a>              <a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../_variables/columns.html">$columns</a>[<a class="var it2719" onMouseOver="hilite(2719)" onMouseOut="lolite()" onClick="logVariable('metacolumn')" href="../_variables/metacolumn.html">$metacolumn</a>-&gt;<a onClick="logVariable('name')" class="var it43966" onMouseOver="hilite(43966)" onMouseOut="lolite()" href="../_variables/name.html">name</a>] = <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../_variables/ord.html">$ord</a>;
<a name="l4540"><span class="linenum">4540</span></a>          }
<a name="l4541"><span class="linenum">4541</span></a>      }
<a name="l4542"><span class="linenum">4542</span></a>  
<a name="l4543"><span class="linenum">4543</span></a>      <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> = array();
<a name="l4544"><span class="linenum">4544</span></a>  
<a name="l4545"><span class="linenum">4545</span></a>      while ((<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="phpfunction" onClick="logFunction('fgetcsv')" href="../_functions/fgetcsv.html" onMouseOver="phpfuncPopup(event,'fgetcsv')">fgetcsv</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>, 4096)) !== false) {
<a name="l4546"><span class="linenum">4546</span></a>          <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a> = new stdClass;
<a name="l4547"><span class="linenum">4547</span></a>          foreach(<a class="var it734" onMouseOver="hilite(734)" onMouseOut="lolite()" onClick="logVariable('columns')" href="../_variables/columns.html">$columns</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> =&gt; <a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../_variables/ord.html">$ord</a>) {
<a name="l4548"><span class="linenum">4548</span></a>              <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>-&gt;<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>[<a class="var it2013" onMouseOver="hilite(2013)" onMouseOut="lolite()" onClick="logVariable('ord')" href="../_variables/ord.html">$ord</a>];
<a name="l4549"><span class="linenum">4549</span></a>          }
<a name="l4550"><span class="linenum">4550</span></a>          <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a>[] = <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../_variables/item.html">$item</a>;
<a name="l4551"><span class="linenum">4551</span></a>      }
<a name="l4552"><span class="linenum">4552</span></a>  
<a name="l4553"><span class="linenum">4553</span></a>      <a class="phpfunction" onClick="logFunction('fclose')" href="../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it1469" onMouseOver="hilite(1469)" onMouseOut="lolite()" onClick="logVariable('handle')" href="../_variables/handle.html">$handle</a>);
<a name="l4554"><span class="linenum">4554</span></a>      return <a class="var it1106" onMouseOver="hilite(1106)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a>;
<a name="l4555"><span class="linenum">4555</span></a>  }
<a name="l4556"><span class="linenum">4556</span></a>  
<a name="l4557"><span class="linenum">4557</span></a>  <span class="comment">/**</span>
<a name="l4558"><span class="linenum">4558</span></a>  <span class="comment"> * Create a file with CSV contents</span>
<a name="l4559"><span class="linenum">4559</span></a>  <span class="comment"> * This function is deprecated. Please use download_as_dataformat() instead.</span>
<a name="l4560"><span class="linenum">4560</span></a>  <span class="comment"> *</span>
<a name="l4561"><span class="linenum">4561</span></a>  <span class="comment"> * @deprecated since Moodle 3.2 MDL-55126</span>
<a name="l4562"><span class="linenum">4562</span></a>  <span class="comment"> * @todo MDL-55195 for final deprecation in Moodle 3.6</span>
<a name="l4563"><span class="linenum">4563</span></a>  <span class="comment"> * @see download_as_dataformat (lib/dataformatlib.php)</span>
<a name="l4564"><span class="linenum">4564</span></a>  <span class="comment"> * @global stdClass $CFG</span>
<a name="l4565"><span class="linenum">4565</span></a>  <span class="comment"> * @global moodle_database $DB</span>
<a name="l4566"><span class="linenum">4566</span></a>  <span class="comment"> * @param string $file The file to put the CSV content into</span>
<a name="l4567"><span class="linenum">4567</span></a>  <span class="comment"> * @param array $records An array of records to write to a CSV file</span>
<a name="l4568"><span class="linenum">4568</span></a>  <span class="comment"> * @param string $table The table to get columns from</span>
<a name="l4569"><span class="linenum">4569</span></a>  <span class="comment"> * @return bool success</span>
<a name="l4570"><span class="linenum">4570</span></a>  <span class="comment"> */</span>
<a name="l4571"><span class="linenum">4571</span></a>  function <a class="function" onClick="logFunction('put_records_csv')" href="../_functions/put_records_csv.html" onMouseOver="funcPopup(event,'put_records_csv')">put_records_csv</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>, <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../_variables/table.html">$table</a> = NULL) {
<a name="l4572"><span class="linenum">4572</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4573"><span class="linenum">4573</span></a>  
<a name="l4574"><span class="linenum">4574</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('put_records_csv')" href="../_functions/put_records_csv.html" onMouseOver="funcPopup(event,'put_records_csv')">put_records_csv</a>() is deprecated. Please use lib/dataformatlib.php <a class="function" onClick="logFunction('download_as_dataformat')" href="../_functions/download_as_dataformat.html" onMouseOver="funcPopup(event,'download_as_dataformat')">download_as_dataformat</a>()');
<a name="l4575"><span class="linenum">4575</span></a>  
<a name="l4576"><span class="linenum">4576</span></a>      if (empty(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>)) {
<a name="l4577"><span class="linenum">4577</span></a>          return true;
<a name="l4578"><span class="linenum">4578</span></a>      }
<a name="l4579"><span class="linenum">4579</span></a>  
<a name="l4580"><span class="linenum">4580</span></a>      <a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a> = NULL;
<a name="l4581"><span class="linenum">4581</span></a>      if (<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../_variables/table.html">$table</a> !== NULL &amp;&amp; !<a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_columns')" href="../_functions/get_columns.html" onMouseOver="funcPopup(event,'get_columns')">get_columns</a>(<a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('table')" href="../_variables/table.html">$table</a>)) {
<a name="l4582"><span class="linenum">4582</span></a>          return false;
<a name="l4583"><span class="linenum">4583</span></a>      }
<a name="l4584"><span class="linenum">4584</span></a>  
<a name="l4585"><span class="linenum">4585</span></a>      echo &quot;x&quot;;
<a name="l4586"><span class="linenum">4586</span></a>  
<a name="l4587"><span class="linenum">4587</span></a>      if(!(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a> = @<a class="function" onClick="logFunction('fopen')" href="../_functions/fopen.html" onMouseOver="funcPopup(event,'fopen')">fopen</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a>.'/'.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, 'w'))) {
<a name="l4588"><span class="linenum">4588</span></a>          <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('put_records_csv failed to open '.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>);
<a name="l4589"><span class="linenum">4589</span></a>      }
<a name="l4590"><span class="linenum">4590</span></a>  
<a name="l4591"><span class="linenum">4591</span></a>      <a class="var it2720" onMouseOver="hilite(2720)" onMouseOut="lolite()" onClick="logVariable('proto')" href="../_variables/proto.html">$proto</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>);
<a name="l4592"><span class="linenum">4592</span></a>      if(<a class="phpfunction" onClick="logFunction('is_object')" href="../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2720" onMouseOver="hilite(2720)" onMouseOut="lolite()" onClick="logVariable('proto')" href="../_variables/proto.html">$proto</a>)) {
<a name="l4593"><span class="linenum">4593</span></a>          <a class="var it2721" onMouseOver="hilite(2721)" onMouseOut="lolite()" onClick="logVariable('fields_records')" href="../_variables/fields_records.html">$fields_records</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="phpfunction" onClick="logFunction('get_object_vars')" href="../_functions/get_object_vars.html" onMouseOver="phpfuncPopup(event,'get_object_vars')">get_object_vars</a>(<a class="var it2720" onMouseOver="hilite(2720)" onMouseOut="lolite()" onClick="logVariable('proto')" href="../_variables/proto.html">$proto</a>));
<a name="l4594"><span class="linenum">4594</span></a>      }
<a name="l4595"><span class="linenum">4595</span></a>      else if(<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2720" onMouseOver="hilite(2720)" onMouseOut="lolite()" onClick="logVariable('proto')" href="../_variables/proto.html">$proto</a>)) {
<a name="l4596"><span class="linenum">4596</span></a>          <a class="var it2721" onMouseOver="hilite(2721)" onMouseOut="lolite()" onClick="logVariable('fields_records')" href="../_variables/fields_records.html">$fields_records</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it2720" onMouseOver="hilite(2720)" onMouseOut="lolite()" onClick="logVariable('proto')" href="../_variables/proto.html">$proto</a>);
<a name="l4597"><span class="linenum">4597</span></a>      }
<a name="l4598"><span class="linenum">4598</span></a>      else {
<a name="l4599"><span class="linenum">4599</span></a>          return false;
<a name="l4600"><span class="linenum">4600</span></a>      }
<a name="l4601"><span class="linenum">4601</span></a>      echo &quot;x&quot;;
<a name="l4602"><span class="linenum">4602</span></a>  
<a name="l4603"><span class="linenum">4603</span></a>      if(!empty(<a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a>)) {
<a name="l4604"><span class="linenum">4604</span></a>          <a class="var it2722" onMouseOver="hilite(2722)" onMouseOut="lolite()" onClick="logVariable('fields_table')" href="../_variables/fields_table.html">$fields_table</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>(<a class="phpfunction" onClick="logFunction('create_function')" href="../_functions/create_function.html" onMouseOver="phpfuncPopup(event,'create_function')">create_function</a>('<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>', 'return <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('name')" class="var it42992" onMouseOver="hilite(42992)" onMouseOut="lolite()" href="../_variables/name.html">name</a>;'), <a class="var it2717" onMouseOver="hilite(2717)" onMouseOut="lolite()" onClick="logVariable('metacolumns')" href="../_variables/metacolumns.html">$metacolumns</a>);
<a name="l4605"><span class="linenum">4605</span></a>          <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('array_intersect')" href="../_functions/array_intersect.html" onMouseOver="phpfuncPopup(event,'array_intersect')">array_intersect</a>(<a class="var it2721" onMouseOver="hilite(2721)" onMouseOut="lolite()" onClick="logVariable('fields_records')" href="../_variables/fields_records.html">$fields_records</a>, <a class="var it2722" onMouseOver="hilite(2722)" onMouseOut="lolite()" onClick="logVariable('fields_table')" href="../_variables/fields_table.html">$fields_table</a>);
<a name="l4606"><span class="linenum">4606</span></a>      }
<a name="l4607"><span class="linenum">4607</span></a>      else {
<a name="l4608"><span class="linenum">4608</span></a>          <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="var it2721" onMouseOver="hilite(2721)" onMouseOut="lolite()" onClick="logVariable('fields_records')" href="../_variables/fields_records.html">$fields_records</a>;
<a name="l4609"><span class="linenum">4609</span></a>      }
<a name="l4610"><span class="linenum">4610</span></a>  
<a name="l4611"><span class="linenum">4611</span></a>      <a class="phpfunction" onClick="logFunction('fwrite')" href="../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>, <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>));
<a name="l4612"><span class="linenum">4612</span></a>      <a class="phpfunction" onClick="logFunction('fwrite')" href="../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>, &quot;\r\n&quot;);
<a name="l4613"><span class="linenum">4613</span></a>  
<a name="l4614"><span class="linenum">4614</span></a>      foreach(<a class="var it988" onMouseOver="hilite(988)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> as <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>) {
<a name="l4615"><span class="linenum">4615</span></a>          <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../_variables/array.html">$array</a>  = (array)<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>;
<a name="l4616"><span class="linenum">4616</span></a>          <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a> = array();
<a name="l4617"><span class="linenum">4617</span></a>          foreach(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l4618"><span class="linenum">4618</span></a>              if(<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../_variables/array.html">$array</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>], ',')) {
<a name="l4619"><span class="linenum">4619</span></a>                  <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>[] = '&quot;'.<a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&quot;', '\&quot;', <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../_variables/array.html">$array</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>]).'&quot;';
<a name="l4620"><span class="linenum">4620</span></a>              }
<a name="l4621"><span class="linenum">4621</span></a>              else {
<a name="l4622"><span class="linenum">4622</span></a>                  <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>[] = <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('array')" href="../_variables/array.html">$array</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>];
<a name="l4623"><span class="linenum">4623</span></a>              }
<a name="l4624"><span class="linenum">4624</span></a>          }
<a name="l4625"><span class="linenum">4625</span></a>          <a class="phpfunction" onClick="logFunction('fwrite')" href="../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>, <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it753" onMouseOver="hilite(753)" onMouseOut="lolite()" onClick="logVariable('values')" href="../_variables/values.html">$values</a>).&quot;\r\n&quot;);
<a name="l4626"><span class="linenum">4626</span></a>      }
<a name="l4627"><span class="linenum">4627</span></a>  
<a name="l4628"><span class="linenum">4628</span></a>      <a class="phpfunction" onClick="logFunction('fclose')" href="../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it808" onMouseOver="hilite(808)" onMouseOut="lolite()" onClick="logVariable('fp')" href="../_variables/fp.html">$fp</a>);
<a name="l4629"><span class="linenum">4629</span></a>      @<a class="phpfunction" onClick="logFunction('chmod')" href="../_functions/chmod.html" onMouseOver="phpfuncPopup(event,'chmod')">chmod</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('tempdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/tempdir.html">tempdir</a>.'/'.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('filepermissions')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/filepermissions.html">filepermissions</a>);
<a name="l4630"><span class="linenum">4630</span></a>      return true;
<a name="l4631"><span class="linenum">4631</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'course_add_cm_to_section': ['course_add_cm_to_section', 'Adds an existing module to the section ', [['course','lib.php',1475]], 11],
'download_as_dataformat': ['download_as_dataformat', 'Sends a formated data file to the browser ', [['lib','dataformatlib.php',26]], 3],
'get_related_tags': ['get_related_tags', 'Returns tags related to a tag ', [['tag/classes','tag.php',1143]], 7],
'course_category_hide': ['course_category_hide', 'This function is deprecated. Please use coursecat::get($category->id)->hide(); ', [['lib','deprecatedlib.php',1444]], 2],
'session_get_realuser': ['session_get_realuser', 'Returns the $USER object ignoring current login-as session ', [['lib','deprecatedlib.php',425]], 2],
'tag_rename': ['tag_rename', 'Change the "value" of a tag, and update the associated \'name\'. ', [['lib','deprecatedlib.php',2733]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'get_item_tags_array': ['get_item_tags_array', 'Returns the list of display names of the tags that are associated with an item ', [['tag/classes','tag.php',643]], 35],
'has_view': ['has_view', '', [['lib','modinfolib.php',1223]], 11],
'session_kill': ['session_kill', 'Terminates one sessions, auth hooks are not executed. ', [['lib','deprecatedlib.php',388]], 2],
'get_course_section': ['get_course_section', 'Returns course section - creates new if does not exist yet ', [['lib','deprecatedlib.php',1283]], 1],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'enrol_cohort_can_view_cohort': ['enrol_cohort_can_view_cohort', 'This function is deprecated, use {@link cohort_can_view_cohort()} instead since it also takes into account current context ', [['lib','deprecatedlib.php',2087]], 1],
'count_login_failures': ['count_login_failures', '', [['lib','deprecatedlib.php',2060]], 1],
'completion_cron_criteria': ['completion_cron_criteria', 'Run installed criteria\'s data aggregation methods ', [['completion','cron.php',179]], 2],
'get_context_instance': ['get_context_instance', 'Get the context instance as an object. This function will create the context instance if it does not exist yet. ', [['lib','deprecatedlib.php',241]], 6],
'get_item_tags': ['get_item_tags', 'Get data for an item-level element ', [['lib/simplepie/library/SimplePie','Item.php',131],['tag/classes','tag.php',593]], 110],
'print_remote_host': ['print_remote_host', 'This function is deprecated, it is replaced with protected function {@link core_course_renderer::frontpage_remote_host()} It is only used from function {@link core_course_renderer::frontpage_my_courses()} ', [['lib','deprecatedlib.php',1600]], 2],
'get_courses_wmanagers': ['get_courses_wmanagers', '', [['lib','deprecatedlib.php',1723]], 2],
'get_collection': ['get_collection', 'Returns the id of the tag collection that should be used for storing tags of this itemtype ', [['tag/classes','area.php',125]], 11],
'get_parents': ['get_parents', 'Returns ids of all parents of the category. Last element in the return array is the direct parent ', [['lib','coursecatlib.php',2164]], 11],
'coursetag_store_keywords': ['coursetag_store_keywords', 'Stores a tag for a course for a user ', [['lib','deprecatedlib.php',2459]], 1],
'container_start': ['container_start', 'Outputs the opening section of a container. ', [['lib','outputrenderers.php',3138]], 112],
'can_use_rotated_text': ['can_use_rotated_text', '', [['lib','deprecatedlib.php',1744]], 1],
'tag_cleanup': ['tag_cleanup', 'Clean up the tag tables, making sure all tagged object still exists. ', [['lib','deprecatedlib.php',3631]], 1],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3249],['mod/assign','locallib.php',3915]], 546],
'update_timezone_records': ['update_timezone_records', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',2188]], 1],
'course_ajax_enabled': ['course_ajax_enabled', 'Determine whether course ajax should be enabled for the specified course ', [['course','lib.php',3322]], 5],
'show': ['show', '', [['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',187],['lib/jquery/ui-1.11.4','jquery-ui.js',13476],['lib','coursecatlib.php',2127]], 582],
'events_process_queued_handler': ['events_process_queued_handler', 'given a queued handler, call the respective event handler to process the event ', [['lib','deprecatedlib.php',3976]], 1],
'get_device_type_list': ['get_device_type_list', 'Gets a list of known device types. ', [['lib/classes','useragent.php',222],['lib','deprecatedlib.php',1995]], 5],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 641],
'get_device_cfg_var_name': ['get_device_cfg_var_name', '', [['lib','deprecatedlib.php',2009]], 1],
'clam_log_infected': ['clam_log_infected', 'This function logs to error_log and to the log table that an infected file has been found and what\'s happened to it. ', [['lib','deprecatedlib.php',286]], 1],
'cohort_get_visible_list': ['cohort_get_visible_list', 'It is advisable to use {@link cohort_get_available_cohorts()} instead. ', [['lib','deprecatedlib.php',2097]], 1],
'is_enabled': ['is_enabled', 'Tools cannot be disabled. ', [['lib/classes/plugininfo','tool.php',39],['admin/tool/recyclebin/classes','category_bin.php',54],['admin/tool/log/classes/plugininfo','logstore.php',35],['admin/tool/recyclebin/classes','course_bin.php',54],['mod/assign/feedback/offline','locallib.php',380],['admin/tool/recyclebin/classes','base_bin.php',38],['lib','adminlib.php',1955],['search/classes','base.php',190],['lib','medialib.php',318],['lib','medialib.php',635],['lib','medialib.php',1268],['admin/tool/health','index.php',393],['lib/classes/plugininfo','mnetservice.php',33],['lib/classes/message/inbound','manager.php',37],['mod/assignment/classes/plugininfo','assignment.php',32],['competency/classes','api.php',49],['mod/assign','assignmentplugin.php',223],['lib/classes/plugininfo','orphaned.php',37],['search/tests/fixtures','mock_search_area.php',38],['tag/classes','area.php',106],['lib/classes/plugininfo','base.php',383],['mod/assign/feedback/editpdf','locallib.php',340],['tag/classes','tag.php',1269],['mod/assign/submission/comments','locallib.php',172],['lib','completionlib.php',269]], 276],
'get_by_name_bulk': ['get_by_name_bulk', 'Returns the list of tag objects by tag collection id and the list of tag names ', [['tag/classes','tag.php',297]], 6],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',3102]], 259],
'profile_display_badges': ['profile_display_badges', 'Print badges on user profile page. ', [['lib','deprecatedlib.php',2134]], 2],
'paging_bar': ['paging_bar', 'Returns HTML to display a single paging bar to provide access to other pages  (usually in a search) ', [['lib','outputrenderers.php',3006]], 59],
'render_tabtree': ['render_tabtree', 'Renders tabtree ', [['lib','outputrenderers.php',3813],['theme/bootstrapbase/renderers','core_renderer.php',206]], 1],
'get_browser_version_classes': ['get_browser_version_classes', 'Gets an array of CSS classes to represent the user agent. ', [['lib/classes','useragent.php',903],['lib','deprecatedlib.php',2030]], 4],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 1072],
'build_all_paths': ['build_all_paths', 'Rebuild paths and depths in all context levels. ', [['lib','accesslib.php',6028]], 8],
'check_browser_version': ['check_browser_version', 'Returns true if the user agent matches the given brand and the version is equal to or greater than that specified. ', [['lib/classes','useragent.php',305],['lib','deprecatedlib.php',1981]], 2],
'httpsrequired': ['httpsrequired', '', [['lib','deprecatedlib.php',506]], 2],
'groups_get_group': ['groups_get_group', 'Get the group object ', [['lib','grouplib.php',161]], 20],
'user_count_login_failures': ['user_count_login_failures', 'Count the number of failed login attempts for the given user, since last successful login. ', [['user','lib.php',621]], 5],
'coursetag_get_tags': ['coursetag_get_tags', 'Returns an ordered array of tags associated with visible courses (boosted replacement of get_all_tags() allowing association with user and tagtype). ', [['lib','deprecatedlib.php',2281]], 2],
'get_course_category': ['get_course_category', 'This function is deprecated. To get the category with the specified it please use: coursecat::get($catid, IGNORE_MISSING); or coursecat::get($catid, MUST_EXIST); ', [['lib','deprecatedlib.php',1466]], 2],
'tag_process_computed_correlation': ['tag_process_computed_correlation', 'This function processes a tag correlation and makes changes in the database as required. ', [['lib','deprecatedlib.php',3687]], 1],
'formerr': ['formerr', '', [['lib','deprecatedlib.php',879]], 1],
'enrol_cohort_get_cohorts': ['enrol_cohort_get_cohorts', '', [['lib','deprecatedlib.php',2082]], 1],
'hide': ['hide', 'Hide the given player\'s leaderboard scores from the given application. This method is only available to user accounts for your developer console. (players.hide) ', [['lib/google/src/Google/Service','GamesManagement.php',560],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/contextmenu','editor_plugin_src.js',71],['repository','lib.php',2009],['lib','navigationlib.php',700],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',269],['lib','coursecatlib.php',2068]], 795],
'coursetag_get_tagged_courses': ['coursetag_get_tagged_courses', 'Get courses tagged with a tag ', [['lib','deprecatedlib.php',2509]], 1],
'get_preload_record_columns_sql': ['get_preload_record_columns_sql', 'Returns all fields necessary for context preloading from user $rec. ', [['lib','accesslib.php',6066]], 56],
'print_header': ['print_header', '', [['lib','deprecatedlib.php',950],['lib/portfolio','exporter.php',584],['mod/wiki','pagelib.php',118],['mod/wiki','pagelib.php',296],['mod/wiki','pagelib.php',404],['mod/wiki','pagelib.php',588],['mod/wiki','pagelib.php',726],['mod/wiki','pagelib.php',840],['mod/wiki','pagelib.php',874],['mod/wiki','pagelib.php',989],['mod/wiki','pagelib.php',1089],['mod/wiki','pagelib.php',1196],['mod/wiki','pagelib.php',1416],['mod/wiki','pagelib.php',1847],['mod/wiki','pagelib.php',1923],['mod/wiki','pagelib.php',1996],['mod/wiki','pagelib.php',2091],['mod/wiki','pagelib.php',2170],['mod/wiki','pagelib.php',2200],['mod/wiki','pagelib.php',2250],['mod/wiki','pagelib.php',2330],['mod/wiki','pagelib.php',2362],['mod/wiki','pagelib.php',2436]], 39],
'get_class_for_level': ['get_class_for_level', 'Returns a class name of the context level class ', [['lib','accesslib.php',5948]], 5],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'delete_full': ['delete_full', 'Recursively delete category including all subcategories and courses ', [['lib','coursecatlib.php',1652]], 8],
'get_category_courses_array_recursively': ['get_category_courses_array_recursively', '', [['lib','deprecatedlib.php',1700]], 2],
'print_container_start': ['print_container_start', '', [['lib','deprecatedlib.php',900]], 2],
'get_plugin_list': ['get_plugin_list', 'Use when listing real plugins of one type. ', [['lib','deprecatedlib.php',150],['lib/classes','component.php',796],['admin/tool/monitor/classes','eventlist.php',176]], 191],
'tag_print_cloud': ['tag_print_cloud', 'Prints or returns a HTML tag cloud with varying classes styles depending on the popularity and type of each tag. ', [['lib','deprecatedlib.php',2933]], 3],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'message_admins': ['message_admins', 'Email admins about antivirus scan outcomes. ', [['lib/classes/antivirus','scanner.php',87]], 3],
'print_textarea': ['print_textarea', 'Prints a basic textarea field. ', [['lib','deprecatedlib.php',973]], 6],
'events_load_def': ['events_load_def', 'Loads the events definitions for the component (from file). If no events are defined for the component, we simply return an empty array. ', [['lib','deprecatedlib.php',3838]], 1],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1310]], 34],
'update_category_button': ['update_category_button', '', [['lib','deprecatedlib.php',1393]], 1],
'reset_flag': ['reset_flag', 'Remove the inappropriate flag on a tag. ', [['tag/classes','tag.php',997]], 4],
'preload_course': ['preload_course', 'Preload all contexts instances from course. ', [['lib','accesslib.php',6092]], 5],
'context_moved': ['context_moved', '', [['lib','deprecatedlib.php',1837]], 2],
'skip_main_destination': ['skip_main_destination', '', [['lib','deprecatedlib.php',886]], 2],
'print_side_block': ['print_side_block', '', [['lib','deprecatedlib.php',969]], 2],
'tag_get_tags_csv': ['tag_get_tags_csv', 'Get a comma-separated string of tags associated to a record. ', [['lib','deprecatedlib.php',2644]], 1],
'is_web_crawler': ['is_web_crawler', 'Returns true if the client appears to be some kind of web crawler. This may include other types of crawler. ', [['lib/classes','useragent.php',990],['lib','deprecatedlib.php',2242]], 11],
'choose_from_menu': ['choose_from_menu', '', [['lib','deprecatedlib.php',1092]], 1],
'ajaxenabled': ['ajaxenabled', '', [['lib','deprecatedlib.php',2067]], 1],
'flag': ['flag', 'Search for a flag/keywords. ', [['lib/horde/framework/Horde/Imap/Client/Search','Query.php',396],['tag/classes','tag.php',970]], 12],
'tag_get_tags_array': ['tag_get_tags_array', 'Get the array of tags display names, indexed by id. ', [['lib','deprecatedlib.php',2626]], 1],
'notify': ['notify', 'Print a bold message in an optional color. ', [['lib','deprecatedlib.php',911],['course','lib.php',3271]], 74],
'extract_to_pathname': ['extract_to_pathname', 'Extract file to given file path (real OS filesystem), existing files are overwrited ', [['lib/filebrowser','virtual_root_file.php',135],['lib/filestorage','tgz_packer.php',631],['lib/filestorage','stored_file.php',516],['lib/filestorage','zip_packer.php',252],['lib/filestorage','mbz_packer.php',91]], 39],
'print_scale_menu_helpbutton': ['print_scale_menu_helpbutton', '', [['lib','deprecatedlib.php',1102]], 2],
'enrol_cohort_enrol_all_users': ['enrol_cohort_enrol_all_users', '', [['lib','deprecatedlib.php',2110]], 1],
'get_core_subsystems': ['get_core_subsystems', 'List all core subsystems and their location ', [['lib','deprecatedlib.php',74],['lib/classes','component.php',767]], 20],
'filter_text': ['filter_text', '', [['lib','deprecatedlib.php',499],['lib','filterlib.php',207],['lib','filterlib.php',286],['lib','filterlib.php',332],['lib/tests','filter_manager_test.php',37]], 12],
'fopen': ['fopen', 'Return a stream handle to this stream. ', [['lib/horde/framework/Horde/Support','CombineStream.php',41],['lib/spout/src/Spout/Common/Helper','GlobalFunctionsHelper.php',15],['lib/horde/framework/Horde/Support','StringStream.php',41]], 221],
'tag_print_search_box': ['tag_print_search_box', 'Prints the tag search box ', [['lib','deprecatedlib.php',3115]], 1],
'delete_event': ['delete_event', '', [['lib','deprecatedlib.php',1182]], 2],
'cohort_can_view_cohort': ['cohort_can_view_cohort', 'Check if cohort exists and user is allowed to access it from the given context. ', [['cohort','lib.php',306]], 2],
'set_user_device_type': ['set_user_device_type', 'Switches the device type we think the user is using to what ever was given. ', [['lib/classes','useragent.php',284],['lib','deprecatedlib.php',2016]], 7],
'compute_correlations': ['compute_correlations', 'Calculates and stores the correlated tags of all tags. ', [['lib/classes/task','tag_cron_task.php',55]], 5],
'get_categories': ['get_categories', '', [['lib','deprecatedlib.php',1563],['mod/glossary/classes','external.php',613],['lib/simplepie/library','SimplePie.php',2033],['lib/simplepie/library/SimplePie','Source.php',153],['lib/simplepie/library/SimplePie','Enclosure.php',347],['lib/simplepie/library/SimplePie','Item.php',430],['course','externallib.php',1472],['blocks/tag_youtube','block_tag_youtube.php',344]], 17],
'get_child_contexts': ['get_child_contexts', '', [['lib','deprecatedlib.php',1789],['lib','accesslib.php',5667],['lib','accesslib.php',6323],['lib','accesslib.php',6700],['lib','accesslib.php',7423]], 17],
'get_course_participants': ['get_course_participants', '', [['lib','deprecatedlib.php',575]], 2],
'get_parent_context': ['get_parent_context', 'Returns parent context ', [['lib','accesslib.php',5746]], 31],
'update_module_button': ['update_module_button', 'Prints the \'update this xxx\' button that appears on module pages. ', [['lib','deprecatedlib.php',1114],['lib','outputrenderers.php',2685]], 2],
'groups_get_all_groups': ['groups_get_all_groups', 'Gets array of all groups in a specified course. ', [['lib','grouplib.php',189]], 108],
'print_container': ['print_container', '', [['lib','deprecatedlib.php',893]], 2],
'clam_handle_infected_file': ['clam_handle_infected_file', 'Deals with an infected file - either moves it to a quarantinedir (specified in CFG->quarantinedir) or deletes it. ', [['lib','deprecatedlib.php',316]], 1],
'tag_assign': ['tag_assign', 'Assigns a tag to a record; if the record already exists, the time and ordering will be updated. ', [['lib','deprecatedlib.php',2825]], 13],
'container_end': ['container_end', 'Outputs the closing section of a container. ', [['lib','outputrenderers.php',3151]], 112],
'reset_login_count': ['reset_login_count', 'Not used any more, replaced by proper account lockout. ', [['lib','deprecatedlib.php',479]], 1],
'tag_set_delete': ['tag_set_delete', 'Removes a tag from a record, without overwriting other current tags. ', [['lib','deprecatedlib.php',3515]], 3],
'get_user_courses_bycap': ['get_user_courses_bycap', '', [['lib','deprecatedlib.php',1915]], 2],
'get_tagged_items': ['get_tagged_items', 'Find all items tagged with a tag of a given type (\'post\', \'user\', etc.) ', [['tag/classes','tag.php',1170]], 4],
'change_parent': ['change_parent', 'Efficiently moves a category - NOTE that this can have a huge impact access-control-wise... ', [['lib','coursecatlib.php',1978]], 7],
'set_current_group': ['set_current_group', 'Sets the current group in the session variable When $SESSION->currentgroup[$courseid] is set to 0 it means, show all groups. Sets currentgroup[$courseid] in the session variable appropriately. Does not do any permission checking. ', [['lib','deprecatedlib.php',776]], 2],
'tag_cloud_sort': ['tag_cloud_sort', 'This function is used by print_tag_cloud, to usort() the tags in the cloud. See php.net/usort for the parameters documentation. This was originally in blocks/blog_tags/block_blog_tags.php, named blog_tags_sort(). ', [['lib','deprecatedlib.php',3809]], 1],
'render_from_template': ['render_from_template', 'Renders a template by name with the given context. ', [['lib','outputrenderers.php',137]], 69],
'count_records': ['count_records', 'Count a list of records. ', [['competency/classes','persistent.php',815],['mod/glossary/classes','entry_query_builder.php',152],['lib/dml','moodle_database.php',1766]], 1630],
'blog_get_context_url': ['blog_get_context_url', '', [['lib','deprecatedlib.php',1707]], 1],
'print_navigation': ['print_navigation', '', [['lib','deprecatedlib.php',1144]], 2],
'tag_get_related_tags_csv': ['tag_get_related_tags_csv', 'Get a comma-separated list of tags related to another tag. ', [['lib','deprecatedlib.php',3374]], 1],
'get_context_name': ['get_context_name', 'Returns human readable context identifier. ', [['lib','accesslib.php',5639],['lib','accesslib.php',6189],['lib','accesslib.php',6431],['lib','accesslib.php',6618],['lib','accesslib.php',6850],['lib','accesslib.php',7072],['lib','accesslib.php',7314]], 73],
'print_courses': ['print_courses', '', [['lib','deprecatedlib.php',1663]], 3],
'get_referer': ['get_referer', 'Returns the URL of the HTTP_REFERER, less the querystring portion if required. ', [['lib','deprecatedlib.php',2221]], 1],
'create_course_category': ['create_course_category', 'This function is deprecated. It is replaced with the method create() in class coursecat. {@link coursecat::create()} also verifies the data, fixes sortorder and logs the action ', [['lib','deprecatedlib.php',1482]], 2],
'print_checkbox': ['print_checkbox', '', [['lib','deprecatedlib.php',1110]], 2],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'arrow': ['arrow', 'Draws a grahic arrow. ', [['lib/tcpdf','tcpdf.php',12119]], 6],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'cleanup_contexts': ['cleanup_contexts', '', [['lib','deprecatedlib.php',1805]], 2],
'tag_bulk_delete_instances': ['tag_bulk_delete_instances', 'This function will delete numerous tag instances efficiently. This removes tag instances only. It doesn\'t check to see if it is the last use of a tag. ', [['lib','deprecatedlib.php',3649]], 1],
'tag_add': ['tag_add', 'Adds one or more tag in the database.  This function should not be called directly : you should use tag_set. ', [['lib','deprecatedlib.php',2792]], 1],
'get_capabilities': ['get_capabilities', 'not used ', [['lib','accesslib.php',6149],['lib','accesslib.php',6209],['lib','accesslib.php',6467],['lib','accesslib.php',6647],['lib','accesslib.php',6891],['lib','accesslib.php',7116],['lib','accesslib.php',7351],['lib/tests','customcontext_test.php',43],['lib/tests','customcontext_test.php',67],['lib/tests','customcontext_test.php',91]], 6],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1716],['lib/google/src/Google/Service','Games.php',2100]], 1030],
'context_instance_preload': ['context_instance_preload', '', [['lib','deprecatedlib.php',1853]], 2],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'kill_all_sessions': ['kill_all_sessions', 'Kill all active sessions, the core sessions table is purged afterwards. ', [['lib/classes/session','file.php',95],['lib/classes/session','memcache.php',167],['lib/classes/session','memcached.php',179],['lib/classes/session','database.php',97],['lib/classes/session','manager.php',597]], 5],
'coursetag_get_jscript': ['coursetag_get_jscript', 'Returns javascript for use in tags block and supporting pages ', [['lib','deprecatedlib.php',2407]], 1],
'cleardoubleslashes': ['cleardoubleslashes', 'Replace 1 or more slashes or backslashes to 1 slash ', [['lib','moodlelib.php',8533]], 8],
'get_component_directory': ['get_component_directory', 'Return exact absolute path to a plugin directory. ', [['lib','deprecatedlib.php',226],['lib/classes','component.php',1051]], 51],
'get_plugin_directory': ['get_plugin_directory', 'Returns the exact absolute path to plugin directory. ', [['lib','deprecatedlib.php',191],['lib/classes','component.php',938]], 22],
'remove_item_tag': ['remove_item_tag', 'Removes the tag from an item without changing the other tags ', [['tag/classes','tag.php',802]], 8],
'get_device_type': ['get_device_type', 'Returns the device type we believe is being used. ', [['lib/classes','useragent.php',149],['lib','deprecatedlib.php',1988]], 10],
'make_categories_list': ['make_categories_list', 'This function is deprecated! For list of categories use coursecat::make_all_categories($requiredcapability, $excludeid, $separator) For parents of one particular category use coursecat::get($id)->get_parents() ', [['lib','deprecatedlib.php',1398],['lib','coursecatlib.php',2187]], 23],
'enrol_get_users_courses': ['enrol_get_users_courses', 'Returns list of courses user is enrolled into. (Note: use enrol_get_all_users_courses if you want to use the list wihtout any cap checks ) ', [['lib','enrollib.php',679]], 17],
'tag_print_management_box': ['tag_print_management_box', 'Prints a box that contains the management links of a tag ', [['lib','deprecatedlib.php',3055]], 0],
'coursetag_get_all_tags': ['coursetag_get_all_tags', 'Returns an ordered array of tags (replaces popular_tags_count() allowing sorting). ', [['lib','deprecatedlib.php',2363]], 1],
'get_timezone_offset': ['get_timezone_offset', 'Returns an int which represents the systems\'s timezone difference from GMT in seconds ', [['lib','deprecatedlib.php',2172]], 2],
'touch_session': ['touch_session', 'Fake last access for given session, this prevents session timeout. ', [['lib/classes/session','manager.php',584]], 5],
'print_my_moodle': ['print_my_moodle', 'This function is deprecated, please use: $renderer = $PAGE->get_renderer(\'core\', \'course\'); echo $renderer->frontpage_my_courses() ', [['lib','deprecatedlib.php',1578]], 2],
'session_kill_all': ['session_kill_all', 'Terminates all sessions, auth hooks are not executed. ', [['lib','deprecatedlib.php',370]], 2],
'loginas': ['loginas', 'Login as another user - no security checks here. ', [['lib/classes/session','manager.php',831]], 10],
'get_parent_contextid': ['get_parent_contextid', '', [['lib','deprecatedlib.php',1781]], 2],
'tag_list': ['tag_list', 'Displays the list of tags associated with an entry ', [['lib','outputrenderers.php',4268]], 8],
'category_delete_move': ['category_delete_move', '', [['lib','deprecatedlib.php',1415]], 2],
'require': ['require', '', [['lib/yuilib/3.17.2/timers','timers.js',27],['lib/yuilib/3.17.2/timers','timers-debug.js',27]], 615],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'is_item_tagged_with': ['is_item_tagged_with', 'Determine if an item is tagged with a specific tag ', [['tag/classes','tag.php',1241]], 5],
'events_trigger_legacy': ['events_trigger_legacy', 'Do not call directly, this is intended to be used from new event base only. ', [['lib','deprecatedlib.php',4183]], 15],
'get_all_sections': ['get_all_sections', 'Returns an array of sections for the requested course id ', [['lib','deprecatedlib.php',1222]], 1],
'create_contexts': ['create_contexts', '', [['lib','deprecatedlib.php',1797]], 2],
'category_delete_full': ['category_delete_full', '', [['lib','deprecatedlib.php',1422]], 2],
'dst_changes_for_year': ['dst_changes_for_year', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',2204]], 2],
'tag_delete': ['tag_delete', 'Delete one or more tag, and all their instances if there are any left. ', [['lib','deprecatedlib.php',3604]], 5],
'events_is_registered': ['events_is_registered', 'checks if an event is registered for this component ', [['lib','deprecatedlib.php',4292]], 3],
'get_child_categories': ['get_child_categories', 'This function is deprecated. Please use functions in class coursecat: - coursecat::get($parentid)->has_children() tells if the category has children (visible or not to the current user) ', [['lib','deprecatedlib.php',1510]], 2],
'export_for_template': ['export_for_template', 'Export the document data to be used as a template context. ', [['search/classes','document.php',550],['blocks/lp/classes/output','summary.php',80],['lib/classes/output','inplace_editable.php',211],['report/competency/classes/output','report.php',68],['admin/tool/lp/classes/output','user_competency_summary_in_plan.php',58],['admin/tool/templatelibrary/classes/output','list_templates_page.php',41],['mod/feedback/classes/output','summary.php',65],['admin/tool/lp/classes/output','plan_page.php',58],['blocks/lp/classes/output','plans_to_review_page.php',55],['report/competency/classes/output','user_course_navigation.php',64],['mod/lti/classes/output','tool_configure_page.php',41],['admin/tool/lp/classes/output','competency_plan_navigation.php',69],['lib','outputcomponents.php',52],['lib','outputcomponents.php',559],['tag/classes/output','taglist.php',98],['blocks/rss_client/classes/output','footer.php',77],['admin/tool/lp/classes/output','user_competency_course_navigation.php',70],['mod/assign/classes/output','grading_app.php',76],['admin/tool/lp/classes/output','user_evidence_list_page.php',81],['blocks/rss_client/classes/output','block.php',56],['admin/tool/lp/classes/output','user_competency_summary_in_course.php',64],['admin/tool/lp/classes/output','competency_summary.php',74],['mod/forum/classes/output','forum_post.php',133],['tag/classes/output','tagcollsearchable.php',56],['blocks/rss_client/classes/output','channel_image.php',74],['admin/tool/lp/classes/output','related_competencies.php',58],['admin/tool/lpmigrate/classes/output','migrate_framework_results.php',78],['blocks/lp/classes/output','competencies_to_review_page.php',56],['tag/classes/output','tagisstandard.php',52],['tag/classes/output','tagindex.php',143],['lib/classes/output','notification.php',178],['admin/tool/lp/classes/output','manage_competencies_page.php',85],['blocks/rss_client/classes/output','item.php',111],['tag/classes/output','tagflag.php',52],['admin/tool/lp/classes/output','user_competency_summary.php',60],['course/classes/output','course_module_name.php',65],['admin/tool/lp/classes/output','template_competencies_page.php',87],['mod/lti/classes/output','external_registration_return_page.php',41],['admin/tool/lp/classes/output','plans_page.php',78],['admin/tool/lp/classes/output','manage_templates_page.php',75],['admin/tool/lp/classes/output','manage_competency_frameworks_page.php',82],['admin/tool/lp/classes/output','user_evidence_page.php',58],['blocks/rss_client/classes/output','feed.php',88],['tag/classes/output','tagcloud.php',106],['admin/tool/lp/classes/output','course_competencies_page.php',102],['mod/assign','renderable.php',604],['tag/classes/output','tag.php',70],['tag/classes/output','tagfeed.php',73],['tag/classes/output','tagareaenabled.php',51]], 90],
'get_children': ['get_children', 'Returns list of children. ', [['lib/filebrowser','file_info_context_system.php',142],['mod/lesson/classes','file_info.php',102],['mod/imscp','locallib.php',336],['lib/filebrowser','file_info_context_coursecat.php',155],['mod/book','locallib.php',471],['lib/filebrowser','file_info_context_user.php',274],['lib/grade','grade_category.php',2068],['mod/data','locallib.php',495],['lib/filebrowser','file_info_stored.php',330],['lib','outputcomponents.php',2772],['lib','adminlib.php',1035],['mod/workshop','fileinfolib.php',91],['mod/workshop','fileinfolib.php',251],['lib/filebrowser','file_info_context_module.php',258],['mod/glossary','locallib.php',543],['lib','coursecatlib.php',1048],['lib/filebrowser','file_info_context_course.php',381],['lib/filebrowser','file_info_context_course.php',530],['lib/filebrowser','file_info_context_course.php',666],['lib/filebrowser','file_info_context_course.php',812],['backup/util/structure','base_nested_element.class.php',127],['mod/forum','locallib.php',481]], 86],
'convert_tree_to_html': ['convert_tree_to_html', '', [['lib','deprecatedlib.php',1730]], 1],
'move_category': ['move_category', 'This function is deprecated. Please use $coursecat = coursecat::get($category->id); if ($coursecat->can_change_parent($newparentcat->id)) { $coursecat->change_parent($newparentcat->id); } ', [['lib','deprecatedlib.php',1426]], 2],
'course_section_cm_list': ['course_section_cm_list', 'Renders HTML to display a list of course modules in a course section Also displays "move here" controls in Javascript-disabled mode ', [['course','renderer.php',1029]], 9],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'rebuild_contexts': ['rebuild_contexts', '', [['lib','deprecatedlib.php',1821]], 2],
'get_module_types_names': ['get_module_types_names', 'Returns the localised human-readable names of all used modules ', [['course','lib.php',1148]], 14],
'tag_normalize': ['tag_normalize', 'Function that normalizes a list of tag names. ', [['lib','deprecatedlib.php',3354]], 3],
'get_records_csv': ['get_records_csv', 'Retrieves an array of records from a CSV file and places them into a given table structure This function is deprecated. Please use csv_import_reader() instead. ', [['lib','deprecatedlib.php',4501]], 2],
'hide_event': ['hide_event', '', [['lib','deprecatedlib.php',1190]], 2],
'remove_all_item_tags': ['remove_all_item_tags', 'Removes all tags from an item. ', [['tag/classes','tag.php',732]], 11],
'filter_user_list': ['filter_user_list', 'Tests this condition against a user list. Users who do not meet the condition will be removed from the list, unless they have the ability to view hidden activities/sections. ', [['availability/classes','tree_node.php',161],['availability/classes','info_module.php',76],['availability/condition/grouping/classes','condition.php',225],['availability/tests/fixtures','mock_condition.php',111],['availability/condition/group/classes','condition.php',193],['availability/classes','tree.php',297],['availability/classes','info.php',613],['availability/condition/profile/classes','condition.php',448]], 39],
'tag_type_set': ['tag_type_set', 'Set the type of a tag.  At this time (version 2.2) the possible values are \'default\' or \'official\'.  Official tags will be displayed separately "at tagging time" (while selecting the tags to apply to a record). ', [['lib','deprecatedlib.php',2565]], 3],
'tag_record_tagged_with': ['tag_record_tagged_with', 'Determine if a record is tagged with a specific tag ', [['lib','deprecatedlib.php',2885]], 1],
'coursetag_delete_course_tags': ['coursetag_delete_course_tags', 'Course tagging function used only during the deletion of a course (called by lib/moodlelib.php) to clean up associated tags ', [['lib','deprecatedlib.php',2546]], 3],
'is_course_participant': ['is_course_participant', '', [['lib','deprecatedlib.php',582]], 2],
'kill_session': ['kill_session', 'Kill one session, the session record is removed afterwards. ', [['lib/classes/session','file.php',107],['lib/classes/session','memcache.php',194],['lib/classes/session','memcached.php',217],['lib/classes/session','database.php',106],['lib/classes/session','manager.php',615]], 16],
'groups_course_module_visible': ['groups_course_module_visible', '', [['lib','deprecatedlib.php',855]], 1],
'unzip_file': ['unzip_file', 'Unzip one zip file to a destination dir Both parameters must be FULL paths If destination isn\'t specified, it will be the SAME directory where the zip file resides. ', [['lib','deprecatedlib.php',601]], 1],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'strip_querystring': ['strip_querystring', 'Remove query string from url. ', [['lib','weblib.php',144]], 5],
'groupmode': ['groupmode', 'Returns the current group mode for a given course or activity module ', [['lib','deprecatedlib.php',755]], 1],
'get_default': ['get_default', 'Returns id of the default tag collection ', [['tag/classes','collection.php',117],['lib','adminlib.php',1964],['lib','coursecatlib.php',294]], 32],
'coursetag_get_records': ['coursetag_get_records', 'Returns all tags created by a user for a course ', [['lib','deprecatedlib.php',2435]], 1],
'get_plugin_list_with_file': ['get_plugin_list_with_file', '', [['lib','deprecatedlib.php',1967],['lib/classes','component.php',866]], 21],
'get_selected_theme_for_device_type': ['get_selected_theme_for_device_type', '', [['lib','deprecatedlib.php',2002]], 1],
'add_item_tag': ['add_item_tag', 'Adds a tag to an item, without overwriting the current tags. ', [['tag/classes','tag.php',748]], 14],
'format_backtrace': ['format_backtrace', 'Formats a backtrace ready for output. ', [['lib','setuplib.php',729]], 20],
'events_cleanup': ['events_cleanup', 'Deletes cached events that are no longer needed by the component. ', [['lib','eventslib.php',70]], 2],
'frontpage_my_courses': ['frontpage_my_courses', 'Returns HTML to print list of courses user is enrolled to for the frontpage ', [['course','renderer.php',1997]], 2],
'tag_print_user_list': ['tag_print_user_list', 'Prints a list of users ', [['lib','deprecatedlib.php',3308]], 2],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',481]], 1488],
'get_local_referer': ['get_local_referer', 'Returns the cleaned local URL of the HTTP_REFERER less the URL query string parameters if required. ', [['lib','weblib.php',219]], 31],
'getmessage': ['getmessage', '', [['lib/google/src/Google/Service','Freebase.php',441],['lib/google/src/Google/Service','AdSense.php',2970],['lib/google/src/Google/Service','Replicapool.php',1165],['lib/google/src/Google/Service','Replicapool.php',1257],['lib/google/src/Google/Service','Computeaccounts.php',1368],['lib/google/src/Google/Service','Computeaccounts.php',1460],['lib/google/src/Google/Service','Appengine.php',1604],['lib/google/src/Google/Service','Books.php',3579],['lib/google/src/Google/Service','Books.php',4429],['lib/google/src/Google/Service','Script.php',360],['lib/google/src/Google/Service','DeploymentManager.php',1116],['lib/google/src/Google/Service','DeploymentManager.php',1604],['lib/google/src/Google/Service','DeploymentManager.php',1641],['lib/google/src/Google/Service','DeploymentManager.php',1823],['lib/google/src/Google/Service','DeploymentManager.php',1860],['lib/google/src/Google/Service','Dataflow.php',2656],['lib/google/src/Google/Service','CloudUserAccounts.php',1807],['lib/google/src/Google/Service','CloudUserAccounts.php',1899],['lib/google/src/Google/Service','Replicapoolupdater.php',617],['lib/google/src/Google/Service','Replicapoolupdater.php',926],['lib/google/src/Google/Service','Replicapoolupdater.php',1018],['lib/google/src/Google/Service','Replicapoolupdater.php',1252],['lib/google/src/Google/Service','Bigquery.php',1367],['lib/google/src/Google/Service','ShoppingContent.php',4125],['lib/google/src/Google/Service','ShoppingContent.php',4527],['lib/google/src/Google/Service','ShoppingContent.php',4572],['lib/google/src/Google/Service','Genomics.php',3622],['lib/google/src/Google/Service','Reports.php',1106],['lib/google/src/Google/Service','Gmail.php',1371],['lib/google/src/Google/Service','Gmail.php',1467],['lib/google/src/Google/Service','Gmail.php',1495],['lib/google/src/Google/Service','Gmail.php',1513],['lib/google/src/Google/Service','Gmail.php',1531],['lib/google/src/Google/Service','Autoscaler.php',1079],['lib/google/src/Google/Service','Autoscaler.php',1171],['lib/google/src/Google/Service','AdExchangeSeller.php',1043],['lib/google/src/Google/Service','IdentityToolkit.php',1266],['lib/pear','PEAR.php',941],['lib/google/src/Google/Service','Storagetransfer.php',948],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Resourceviews.php',894],['lib/google/src/Google/Service','Resourceviews.php',986],['lib/google/src/Google/Service','SQLAdmin.php',3029],['lib/google/src/Google/Service','Compute.php',8752],['lib/google/src/Google/Service','Compute.php',9200],['lib/google/src/Google/Service','Compute.php',10292],['lib/google/src/Google/Service','Compute.php',10384],['lib/google/src/Google/Service','Compute.php',10890],['lib/google/src/Google/Service','Compute.php',12525],['lib/google/src/Google/Service','Compute.php',12771],['lib/google/src/Google/Service','Compute.php',13249],['lib/google/src/Google/Service','Compute.php',13652],['lib/google/src/Google/Service','Compute.php',13804],['lib/google/src/Google/Service','Compute.php',14396],['lib/google/src/Google/Service','Compute.php',14488],['lib/google/src/Google/Service','Compute.php',14580],['lib/google/src/Google/Service','Compute.php',15235],['lib/google/src/Google/Service','Compute.php',16249],['lib/google/src/Google/Service','Compute.php',16675],['lib/google/src/Google/Service','Compute.php',17005],['lib/google/src/Google/Service','Compute.php',17723],['lib/google/src/Google/Service','Pubsub.php',711],['lib/google/src/Google/Service','Pubsub.php',748],['lib/google/src/Google/Service','Dfareporting.php',19533]], 489],
'update_event': ['update_event', '', [['lib','deprecatedlib.php',1175]], 2],
'get_collections': ['get_collections', 'Returns the list of tag collections defined in the system. ', [['tag/classes','collection.php',39],['badges/lib','backpacklib.php',93]], 18],
'add_mod_to_section': ['add_mod_to_section', 'This function is deprecated, please use {@link course_add_cm_to_section()} Note that course_add_cm_to_section() also updates field course_modules.section and calls rebuild_course_cache() ', [['lib','deprecatedlib.php',1250]], 1],
'textlib_get_instance': ['textlib_get_instance', '', [['lib','deprecatedlib.php',1207]], 1],
'editors_head_setup': ['editors_head_setup', 'Setup all JS and CSS needed for editors. ', [['lib','editorlib.php',148]], 7],
'session_kill_user': ['session_kill_user', 'Terminates all sessions of one user, auth hooks are not executed. ', [['lib','deprecatedlib.php',397]], 2],
'count_tagged_items': ['count_tagged_items', 'Count how many items are tagged with a specific tag. ', [['tag/classes','tag.php',1207]], 3],
'get_plugin_types': ['get_plugin_types', 'Lists all plugin types. ', [['lib','deprecatedlib.php',116],['lib/classes','plugin_manager.php',140],['lib/classes','component.php',786]], 60],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2849],['lib','outputrenderers.php',4412],['lib','outputrenderers.php',4496]], 540],
'set_text': ['set_text', 'Sets the text for the element ', [['backup/util/ui','backup_ui_setting.class.php',434],['backup/util/ui','backup_ui_setting.class.php',542],['lib','outputcomponents.php',2812],['lib','editorlib.php',210],['mod/workshop','locallib.php',3894],['backup/cc/cc_lib','cc_forum.php',43]], 14],
'get_system_context': ['get_system_context', 'Returns system context or null if can not be created yet. ', [['lib','deprecatedlib.php',1756]], 6],
'get_log_manager': ['get_log_manager', 'Get instance of log manager. ', [['lib','datalib.php',1520]], 51],
'set_related_tags': ['set_related_tags', 'Sets the list of tags related to this one. ', [['tag/classes','tag.php',1027]], 13],
'process_computed_correlation': ['process_computed_correlation', 'This function processes a tag correlation and makes changes in the database as required. ', [['lib/classes/task','tag_cron_task.php',214]], 4],
'tag_delete_instance': ['tag_delete_instance', 'Delete one instance of a tag.  If the last instance was deleted, it will also delete the tag, unless its type is \'official\'. ', [['lib','deprecatedlib.php',2750]], 2],
'course_delete_module': ['course_delete_module', 'This function will handle the whole deletion process of a module. This includes calling the modules delete_instance function, deleting files, events, grades, conditional data, the data in the course_module and course_sections table and adding a module deletion event to the DB. ', [['course','lib.php',1685]], 26],
'tag_set': ['tag_set', 'Set the tags assigned to a record.  This overwrites the current tags. ', [['lib','deprecatedlib.php',3458]], 3],
'is_transaction_started': ['is_transaction_started', 'Returns true if a transaction is in progress. ', [['lib/dml','moodle_database.php',2373]], 41],
'get_category_courses_array': ['get_category_courses_array', '', [['lib','deprecatedlib.php',1693]], 2],
'events_pending_count': ['events_pending_count', 'checks if an event is queued for processing - either cron handlers attached or failed instant handlers ', [['lib','deprecatedlib.php',4310]], 11],
'is_loggedinas': ['is_loggedinas', 'Is current $USER logged-in-as somebody else? ', [['lib/classes/session','manager.php',811]], 30],
'clean_filename': ['clean_filename', 'Cleans a given filename by removing suspicious or troublesome characters ', [['lib','moodlelib.php',6575]], 58],
'check_browser_operating_system': ['check_browser_operating_system', 'Check if the user agent matches a given brand. ', [['lib/classes','useragent.php',890],['lib','deprecatedlib.php',1974]], 2],
'print_continue': ['print_continue', '', [['lib','deprecatedlib.php',943],['grade/export','lib.php',431]], 2],
'build_navigation': ['build_navigation', '', [['lib','deprecatedlib.php',1151]], 2],
'normalise_timezone': ['normalise_timezone', 'Normalise the timezone name. If timezone not supported this method falls back to server timezone (if valid) or default PHP timezone. ', [['lib/classes','date.php',114]], 64],
'delete_context': ['delete_context', '', [['lib','deprecatedlib.php',1887]], 3],
'cloud_sort': ['cloud_sort', 'This function is used to sort the tags in the cloud. ', [['tag/classes','collection.php',400]], 1],
'has_coursecontact_role': ['has_coursecontact_role', 'Returns true if user has at least one role assign of \'coursecontact\' role (is potentially listed in some course descriptions). ', [['lib','accesslib.php',646]], 13],
'archive_to_pathname': ['archive_to_pathname', 'Archive files and store the result in an OS file. ', [['lib/filestorage','tgz_packer.php',159],['lib/filestorage','zip_packer.php',89],['lib/filestorage','mbz_packer.php',75]], 32],
'get_clam_error_code': ['get_clam_error_code', 'Returns the string equivalent of a numeric clam error code ', [['lib','deprecatedlib.php',4346],['lib/antivirus/clamav/classes','scanner.php',87]], 4],
'reset_paths': ['reset_paths', 'Remove all context path info and optionally rebuild it. ', [['lib','accesslib.php',5515]], 5],
'get_generic_section_name': ['get_generic_section_name', '', [['lib','deprecatedlib.php',1218]], 1],
'get_level_name': ['get_level_name', 'Returns the name of specified context level ', [['lib','accesslib.php',6131],['lib','accesslib.php',6179],['lib','accesslib.php',6421],['lib','accesslib.php',6608],['lib','accesslib.php',6840],['lib','accesslib.php',7062],['lib','accesslib.php',7304]], 11],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'password_compat_not_supported': ['password_compat_not_supported', 'Checks whether the password compatibility library will work with the current version of PHP. This cannot be done using PHP version numbers since the fix has been backported to earlier versions in some distributions. ', [['lib','deprecatedlib.php',338]], 1],
'completion_cron': ['completion_cron', 'Update user\'s course completion statuses ', [['lib','deprecatedlib.php',2260]], 1],
'print_section': ['print_section', 'Deprecated. Please use: $courserenderer = $PAGE->get_renderer(\'core\', \'course\'); echo $courserenderer->course_section_cm_list($course, $section, $sectionreturn, array(\'hidecompletion\' => $hidecompletion)); ', [['lib','deprecatedlib.php',1354]], 3],
'build_context_path': ['build_context_path', 'Populate context.path and context.depth where missing. ', [['lib','deprecatedlib.php',1809]], 3],
'get_by_name': ['get_by_name', 'Simple function to just return a single tag object by tagcollid and name ', [['tag/classes','tag.php',234]], 46],
'add_to_log': ['add_to_log', 'Add an entry to the legacy log table. ', [['lib','deprecatedlib.php',35],['mod/assign','locallib.php',2948]], 6],
'update_login_count': ['update_login_count', 'Not used any more, the account lockout handling is now part of authenticate_user_login(). ', [['lib','deprecatedlib.php',470]], 1],
'add_related_tags': ['add_related_tags', 'Adds to the list of related tags without removing existing ', [['tag/classes','tag.php',1066]], 2],
'get_formatted_content': ['get_formatted_content', 'Returns the content to display on course/overview page, formatted and passed through filters ', [['lib','modinfolib.php',1245]], 6],
'block': ['block', '', [['lib/minify/lib','JSMinPlus.php',781],['lib/mustache/src/Mustache','Compiler.php',292],['lib','outputrenderers.php',1381],['lib','outputrenderers.php',4844],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',222]], 36],
'tag_record_count': ['tag_record_count', 'Count how many records are tagged with a specific tag. ', [['lib','deprecatedlib.php',2870]], 1],
'css_files': ['css_files', 'Minify CSS files. ', [['lib/classes','minify.php',126]], 4],
'file_rewrite_pluginfile_urls': ['file_rewrite_pluginfile_urls', 'Convert encoded URLs in $text from the @@PLUGINFILE@@/... form to an actual URL. Passing a new option reverse = true in the $options var will make the function to convert actual URLs in $text to encoded URLs in the @@PLUGINFILE@@ form. ', [['lib','filelib.php',446]], 96],
'preload_from_record': ['preload_from_record', 'Preloads context information from db record and strips the cached info. ', [['lib','accesslib.php',5250],['lib','accesslib.php',6079]], 61],
'tag_display_name': ['tag_display_name', 'Function that returns the name that should be displayed for a specific tag ', [['lib','deprecatedlib.php',3336]], 1],
'get_user_device_type': ['get_user_device_type', 'Gets the device type the user is currently using. ', [['lib/classes','useragent.php',271],['lib','deprecatedlib.php',2023]], 3],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'get_current_group': ['get_current_group', 'Gets the current group - either from the session variable or from the database. ', [['lib','deprecatedlib.php',799],['mod/quiz/report','default.php',74]], 4],
'js_files': ['js_files', 'Minify JS files. ', [['lib/classes','minify.php',69]], 8],
'skip_link_target': ['skip_link_target', 'Output the place a skip link goes to. ', [['lib','outputrenderers.php',3062]], 4],
'course_get_cm_rename_action': ['course_get_cm_rename_action', 'Returns the rename action. ', [['lib','deprecatedlib.php',4360]], 1],
'clam_replace_infected_file': ['clam_replace_infected_file', 'Replaces the given file with a string. ', [['lib','deprecatedlib.php',306]], 1],
'get_course_context': ['get_course_context', '', [['lib','deprecatedlib.php',1907],['lib','accesslib.php',5764],['lib','accesslib.php',6909],['lib','accesslib.php',7170],['lib','accesslib.php',7381],['mod/assign','gradingtable.php',1372],['mod/assign','locallib.php',1268]], 86],
'valid': ['valid', 'Did we reach the end? ', [['lib/filestorage','zip_archive.php',514],['lib/spout/src/Spout/Reader/XLSX','SheetIterator.php',51],['lib/dml','mssql_native_moodle_recordset.php',83],['lib/phpexcel/PHPExcel/Worksheet','RowCellIterator.php',191],['lib/phpexcel/PHPExcel/Worksheet','ColumnIterator.php',184],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',329],['lib/dml','mysqli_native_moodle_recordset.php',82],['lib/phpexcel/PHPExcel/Worksheet','RowIterator.php',175],['lib/horde/framework/Horde/Mail/Rfc822','List.php',439],['lib/dml','pdo_moodle_recordset.php',75],['lib/spout/src/Spout/Reader/CSV','RowIterator.php',104],['lib/phpexcel/PHPExcel','WorksheetIterator.php',99],['backup/util/helper','backup_null_iterator.class.php',49],['lib/horde/framework/Horde','Domhtml.php',331],['lib/dml','sqlsrv_native_moodle_recordset.php',129],['lib/classes/dml','recordset_walk.php',127],['lib/horde/framework/Horde/Imap/Client','Ids.php',419],['backup/util/helper','backup_array_iterator.class.php',59],['lib/spout/src/Spout/Reader/CSV','SheetIterator.php',44],['lib/dml','oci_native_moodle_recordset.php',76],['lib/adodb','adodb.inc.php',3041],['lib/adodb','adodb.inc.php',3168],['lib/phpexcel/PHPExcel/Worksheet','ColumnCellIterator.php',182],['lib/spout/src/Spout/Reader/XLSX','RowIterator.php',110],['question/engine','questionusage.php',999],['question/engine/tests','helpers.php',1237],['backup/cc/cc_lib','cc_version11.php',47],['lib/spout/src/Spout/Reader/ODS','SheetIterator.php',75],['backup/cc/cc_lib','cc_version1.php',47],['backup/cc/cc_lib','cc_asssesment.php',58],['lib/spout/src/Spout/Reader/ODS','RowIterator.php',80],['lib/google/src/Google','Collection.php',45],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',182],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',378],['question/engine','questionattempt.php',1643],['question/engine','questionattempt.php',1762],['lib/tests','completionlib_test.php',903],['lib/dml','pgsql_native_moodle_recordset.php',103]], 81],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'events_get_cached': ['events_get_cached', 'Gets the capabilities that have been cached in the database for this component. ', [['lib','eventslib.php',29]], 2],
'delete': ['delete', 'Deletes an item from the cache store. ', [['cache/stores/static','lib.php',374],['cache','disabledlib.php',102],['lib/google/src/Google/Service','AdSense.php',1258],['lib/google/src/Google/Service','AdSense.php',1730],['lib/grade','grade_item.php',396],['lib/google/src/Google/Service','Replicapool.php',378],['lib/google/src/Google/Service','Tasks.php',310],['lib/google/src/Google/Service','Tasks.php',428],['lib/google/src/Google/Service','AndroidPublisher.php',1230],['lib/google/src/Google/Service','AndroidPublisher.php',1310],['lib/google/src/Google/Service','AndroidPublisher.php',1668],['lib/google/src/Google/Service','AndroidPublisher.php',1763],['lib/google/src/Google/Service','AndroidPublisher.php',2083],['lib/google/src/Google/Service','YouTubeReporting.php',255],['lib/google/src/Google/Service','Reseller.php',441],['lib/google/src/Google/Cache','Memcache.php',144],['lib','filelib.php',3481],['lib/google/src/Google/Service','Computeaccounts.php',418],['lib/google/src/Google/Service','Computeaccounts.php',497],['lib/google/src/Google/Service','Computeaccounts.php',668],['lib/grade','grade_category.php',281],['lib/grade','grade_scale.php',136],['lib/adodb','adodb-active-record.inc.php',901],['lib/grade','grade_object.php',270],['lib/google/src/Google/Service','YouTubeAnalytics.php',352],['lib/google/src/Google/Service','YouTubeAnalytics.php',447],['lib/google/src/Google/Service','MapsEngine.php',1693],['lib/google/src/Google/Service','MapsEngine.php',1991],['lib/google/src/Google/Service','MapsEngine.php',2344],['lib/google/src/Google/Service','MapsEngine.php',2651],['lib/google/src/Google/Service','MapsEngine.php',2912],['completion','data_object.php',273],['lib/google/src/Google/Cache','File.php',115],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Dns.php',378],['cache/classes','loaders.php',792],['cache/classes','loaders.php',1471],['cache/classes','loaders.php',1841],['lib/google/src/Google/Service','Appengine.php',352],['lib/google/src/Google/Service','Appengine.php',455],['tag/classes','collection.php',260],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Service','AdExchangeBuyer.php',938],['lib/google/src/Google/Service','AdExchangeBuyer.php',1137],['lib/google/src/Google/Service','AdExchangeBuyer.php',1561],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','Books.php',1946],['lib/grade','grade_grade.php',1024],['lib/grade','grade_outcome.php',97],['lib/google/src/Google/Service','Analytics.php',2165],['lib/google/src/Google/Service','Analytics.php',2534],['lib/google/src/Google/Service','Analytics.php',2655],['lib/google/src/Google/Service','Analytics.php',2872],['lib/google/src/Google/Service','Analytics.php',3001],['lib/google/src/Google/Service','Analytics.php',3092],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Analytics.php',3631],['lib/google/src/Google/Service','DeploymentManager.php',452],['lib/google/src/Google/Service','Blogger.php',1065],['lib/google/src/Google/Service','Blogger.php',1227],['lib/google/src/Google/Service','Blogger.php',1451],['lib/filebrowser','file_info_stored.php',631],['competency/classes','persistent.php',510],['lib/google/src/Google/Service','CloudUserAccounts.php',528],['lib/google/src/Google/Service','CloudUserAccounts.php',628],['lib/google/src/Google/Service','CloudUserAccounts.php',893],['lib/google/src/Google/Service','Cloudresourcemanager.php',390],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',960],['lib/google/src/Google/Service','TagManager.php',1022],['lib/google/src/Google/Service','TagManager.php',1113],['lib/google/src/Google/Service','TagManager.php',1265],['lib/google/src/Google/Service','TagManager.php',1358],['lib/google/src/Google/Service','TagManager.php',1452],['lib/google/src/Google/Service','TagManager.php',1546],['lib/google/src/Google/Service','TagManager.php',1696],['mod/lesson','locallib.php',1037],['mod/lesson','locallib.php',2271],['repository','lib.php',427],['repository','lib.php',1962],['admin/tool/uploadcourse/classes','course.php',226],['lib','badgeslib.php',640],['lib/google/src/Google/Service','Bigquery.php',531],['lib/google/src/Google/Service','Bigquery.php',863],['lib/google/src/Google/Service','ShoppingContent.php',1050],['lib/google/src/Google/Service','ShoppingContent.php',1448],['lib/google/src/Google/Service','ShoppingContent.php',1970],['lib/google/src/Google/Service','Webmasters.php',355],['lib/google/src/Google/Service','Webmasters.php',449],['lib/google/src/Google/Service','Clouddebugger.php',384],['lib/filestorage','stored_file.php',323],['lib/google/src/Google/Service','Container.php',309],['lib/google/src/Google/Service','Storage.php',1042],['lib/google/src/Google/Service','Storage.php',1157],['lib/google/src/Google/Service','Storage.php',1332],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1681],['cache/stores/memcache','lib.php',401],['lib/google/src/Google/Service','Genomics.php',646],['lib/google/src/Google/Service','Genomics.php',735],['lib/google/src/Google/Service','Genomics.php',903],['lib/google/src/Google/Service','Genomics.php',971],['lib/google/src/Google/Service','Genomics.php',1326],['lib/google/src/Google/Service','Genomics.php',1443],['lib/google/src/Google/Service','Licensing.php',224],['lib/google/src/Google/Service','Fitness.php',400],['lib/google/src/Google/Service','Fitness.php',512],['lib/google/src/Google/Service','Fitness.php',647],['comment','lib.php',790],['lib/google/src/Google/Service','Gmail.php',763],['lib/google/src/Google/Service','Gmail.php',921],['lib/google/src/Google/Service','Gmail.php',1014],['lib/google/src/Google/Service','Gmail.php',1234],['lib/google/src/Google/Service','Taskqueue.php',293],['lib/adodb','adodb-active-recordx.inc.php',1016],['lib','accesslib.php',5580],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Autoscaler.php',315],['lib/google/src/Google/Service','Autoscaler.php',429],['lib/google/src/Google/Service','Prediction.php',262],['lib/google/src/Google/Service','SiteVerification.php',139],['lib/google/src/Google/Service','Drive.php',1522],['lib/google/src/Google/Service','Drive.php',1603],['lib/google/src/Google/Service','Drive.php',1748],['lib/google/src/Google/Service','Drive.php',2040],['lib/google/src/Google/Service','Drive.php',2110],['lib/google/src/Google/Service','Drive.php',2240],['lib/google/src/Google/Service','Drive.php',2403],['lib/google/src/Google/Service','Drive.php',2523],['lib/google/src/Google/Service','Proximitybeacon.php',522],['lib/google/src/Google/Service','Directory.php',1683],['lib/google/src/Google/Service','Directory.php',1916],['lib/google/src/Google/Service','Directory.php',1989],['lib/google/src/Google/Service','Directory.php',2059],['lib/google/src/Google/Service','Directory.php',2169],['lib/google/src/Google/Service','Directory.php',2224],['lib/google/src/Google/Service','Directory.php',2351],['lib/google/src/Google/Service','Directory.php',2420],['lib/google/src/Google/Service','Directory.php',2517],['lib/google/src/Google/Service','Directory.php',2652],['lib/google/src/Google/Service','Directory.php',2731],['lib/google/src/Google/Service','Directory.php',2836],['lib/google/src/Google/Service','Directory.php',2938],['lib/google/src/Google/Service','Directory.php',2999],['lib/google/src/Google/Service','Directory.php',3199],['lib/google/src/Google/Service','Directory.php',3274],['lib/google/src/Google/Service','Fusiontables.php',645],['lib/google/src/Google/Service','Fusiontables.php',812],['lib/google/src/Google/Service','Fusiontables.php',937],['lib/google/src/Google/Service','Fusiontables.php',1126],['lib/google/src/Google/Service','Fusiontables.php',1188],['lib/google/src/Google/Service','AdSenseHost.php',734],['lib/google/src/Google/Service','AdSenseHost.php',1010],['lib/google/src/Google/Service','AdSenseHost.php',1168],['lib/google/src/Google/Service','Mirror.php',425],['lib/google/src/Google/Service','Mirror.php',593],['lib/google/src/Google/Service','Mirror.php',661],['lib/google/src/Google/Service','Mirror.php',772],['tag/classes','area.php',187],['lib/google/src/Google/Service','AndroidEnterprise.php',988],['lib/google/src/Google/Service','AndroidEnterprise.php',1092],['lib/google/src/Google/Service','AndroidEnterprise.php',1280],['lib/google/src/Google/Service','AndroidEnterprise.php',1415],['lib/google/src/Google/Service','AndroidEnterprise.php',1597],['course','lib.php',3263],['mnet','peer.php',118],['search/tests/fixtures','mock_search_engine.php',48],['lib/google/src/Google/Service','Calendar.php',903],['lib/google/src/Google/Service','Calendar.php',1071],['lib/google/src/Google/Service','Calendar.php',1269],['lib/google/src/Google/Service','Calendar.php',1412],['cache/stores/session','lib.php',417],['blog','locallib.php',322],['lib/google/src/Google/Service','Storagetransfer.php',381],['cache/stores/mongodb','lib.php',361],['lib/google/src/Google/Cache','Null.php',53],['lib/google/src/Google/Service','GamesConfiguration.php',251],['lib/google/src/Google/Service','GamesConfiguration.php',390],['cache/stores/file','lib.php',393],['badges/criteria','award_criteria.php',330],['cache/stores/memcached','lib.php',402],['lib/google/src/Google/Service','AppState.php',154],['lib/google/src/Google/Service','Resourceviews.php',423],['lib/portfolio','plugin.php',692],['calendar','lib.php',2423],['lib/google/src/Google/Service','Classroom.php',466],['lib/google/src/Google/Service','Classroom.php',615],['lib/google/src/Google/Service','Classroom.php',701],['lib/google/src/Google/Service','Classroom.php',806],['lib/google/src/Google/Service','Classroom.php',934],['lib/google/src/Google/Service','SQLAdmin.php',786],['lib/google/src/Google/Service','SQLAdmin.php',856],['lib/google/src/Google/Service','SQLAdmin.php',1023],['lib/google/src/Google/Service','SQLAdmin.php',1368],['lib/google/src/Google/Service','SQLAdmin.php',1483],['badges/criteria','award_criteria_manual.php',220],['search/engine/solr/classes','engine.php',1045],['lib/google/src/Google/Service','Compute.php',4021],['lib/google/src/Google/Service','Compute.php',4149],['lib/google/src/Google/Service','Compute.php',4284],['lib/google/src/Google/Service','Compute.php',4571],['lib/google/src/Google/Service','Compute.php',4671],['lib/google/src/Google/Service','Compute.php',4829],['lib/google/src/Google/Service','Compute.php',4942],['lib/google/src/Google/Service','Compute.php',5033],['lib/google/src/Google/Service','Compute.php',5174],['lib/google/src/Google/Service','Compute.php',5248],['lib/google/src/Google/Service','Compute.php',5378],['lib/google/src/Google/Service','Compute.php',5508],['lib/google/src/Google/Service','Compute.php',5683],['lib/google/src/Google/Service','Compute.php',5984],['lib/google/src/Google/Service','Compute.php',6156],['lib/google/src/Google/Service','Compute.php',6316],['lib/google/src/Google/Service','Compute.php',6717],['lib/google/src/Google/Service','Compute.php',6898],['lib/google/src/Google/Service','Compute.php',7037],['lib/google/src/Google/Service','Compute.php',7128],['lib/google/src/Google/Service','Compute.php',7208],['lib/google/src/Google/Service','Compute.php',7299],['lib/google/src/Google/Service','Compute.php',7409],['lib/google/src/Google/Service','Compute.php',7570],['lib/google/src/Google/Service','Compute.php',7734],['lib/google/src/Google/Service','Compute.php',7938],['lib/google/src/Google/Service','Compute.php',8035],['lib/google/src/Google/Service','Compute.php',8210],['lib/google/src/Google/Service','Compute.php',8305],['lib/google/src/Google/Service','Pubsub.php',240],['lib/google/src/Google/Service','Pubsub.php',379],['lib/google/src/Google/Service','YouTube.php',1810],['lib/google/src/Google/Service','YouTube.php',2061],['lib/google/src/Google/Service','YouTube.php',2459],['lib/google/src/Google/Service','YouTube.php',2889],['lib/google/src/Google/Service','YouTube.php',3187],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','YouTube.php',3559],['lib/google/src/Google/Service','YouTube.php',3928],['lib/google/src/Google/Service','YouTube.php',4158],['lib/google/src/Google/Cache','Apc.php',105],['lib/google/src/Google/Service','Dfareporting.php',5000],['lib/google/src/Google/Service','Dfareporting.php',5566],['lib/google/src/Google/Service','Dfareporting.php',5753],['lib/google/src/Google/Service','Dfareporting.php',5877],['lib/google/src/Google/Service','Dfareporting.php',6397],['lib/google/src/Google/Service','Dfareporting.php',6578],['lib/google/src/Google/Service','Dfareporting.php',6731],['lib/google/src/Google/Service','Dfareporting.php',6996],['lib/google/src/Google/Service','Dfareporting.php',7503],['lib/google/src/Google/Service','Dfareporting.php',8102],['lib/google/src/Google/Service','Dfareporting.php',8768],['lib/google/src/Google/Service','Manager.php',244],['lib/google/src/Google/Service','Manager.php',324],['lib/google/src/Google/Service','CloudMonitoring.php',274],['lib','webdavlib.php',691]], 317],
'coursetag_delete_keyword': ['coursetag_delete_keyword', 'Deletes a personal tag for a user for a course. ', [['lib','deprecatedlib.php',2492]], 3],
'tag_autocomplete': ['tag_autocomplete', 'Function that returns tags that start with some text, for use by the autocomplete feature ', [['lib','deprecatedlib.php',2985]], 1],
'get_file_packer': ['get_file_packer', 'Returns file packer ', [['lib','moodlelib.php',6198]], 74],
'tag_get_name': ['tag_get_name', 'Get the name of a tag ', [['lib','deprecatedlib.php',3756]], 1],
'is_enrolled': ['is_enrolled', 'Returns true if user is enrolled (is participating) in course this is intended for students and teachers. ', [['lib','accesslib.php',2038]], 145],
'badges_get_issued_badge_info': ['badges_get_issued_badge_info', '', [['lib','deprecatedlib.php',2045]], 1],
'print_arrow': ['print_arrow', 'Returns an image of an up or down arrow, used for column sorting. To avoid unnecessary DB accesses, please provide this function with the language strings for sortasc and sortdesc. ', [['lib','deprecatedlib.php',1032]], 2],
'print_category_info': ['print_category_info', '', [['lib','deprecatedlib.php',1623],['mod/quiz/classes/question/bank','custom_view.php',206],['question/classes/bank','view.php',510],['question/classes/bank/search','category_condition.php',166]], 4],
'get_related_contexts_string': ['get_related_contexts_string', '', [['lib','deprecatedlib.php',1959]], 2],
'clam_scan_moodle_file': ['clam_scan_moodle_file', 'If $CFG->runclamonupload is set, we scan a given file. (called from {@link preprocess_files()}) ', [['lib','deprecatedlib.php',328]], 1],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3117]], 257],
'groups_filter_users_by_course_module_visible': ['groups_filter_users_by_course_module_visible', '', [['lib','deprecatedlib.php',845]], 1],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1635],['lib/dml','moodle_database.php',711]], 438],
'get_recent_enrolments': ['get_recent_enrolments', '', [['lib','deprecatedlib.php',589],['blocks/recent_activity','block_recent_activity.php',102]], 3],
'continue_button': ['continue_button', 'Displays a continue button ', [['backup/util/ui','renderer.php',501],['lib','outputrenderers.php',2990]], 96],
'get_all_mods': ['get_all_mods', 'Returns a number of useful structures for course displays ', [['lib','deprecatedlib.php',1261]], 1],
'execute': ['execute', 'Run langpack update ', [['admin/tool/langimport/classes/task','update_langpacks_task.php',44],['backup/converter/imscc1','lib.php',84],['lib/classes/task','blog_cron_task.php',40],['mod/workshop/allocation/scheduled','lib.php',128],['lib/classes/task','send_new_user_passwords_task.php',40],['admin/tool/log/store/standard/classes/task','cleanup_task.php',40],['lib/dml','pdo_moodle_database.php',227],['lib/classes/task','tag_cron_task.php',42],['enrol/imsenterprise/classes/task','cron_task.php',43],['lib/classes/task','completion_daily_task.php',42],['lib/google/src/Google/Http','Batch.php',61],['lib/dml','oci_native_moodle_database.php',1048],['lib/classes/task','context_cleanup_task.php',41],['backup/util/plan','backup_structure_step.class.php',50],['backup/util/ui','restore_ui.class.php',206],['webservice','lib.php',1319],['lib/classes/task','stats_cron_task.php',40],['lib/htmlpurifier/HTMLPurifier/Strategy','ValidateAttributes.php',16],['lib/htmlpurifier/HTMLPurifier/Strategy','RemoveForeignElements.php',20],['lib/classes/task','legacy_plugin_cron_task.php',42],['backup/moodle2','restore_activity_task.class.php',189],['lib/classes/task','portfolio_cron_task.php',40],['lib/google/src/Google/Http','REST.php',27],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',66],['backup/converter/imscc11','backuplib.php',42],['lib/classes/task','question_cron_task.php',40],['lib/classes/task','cache_cron_task.php',40],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',40],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',62],['admin/tool/messageinbound/classes/task','cleanup_task.php',47],['lib/adodb/drivers','adodb-pdo.inc.php',559],['lib/editor/atto/classes/task','autosave_cleanup_task.php',42],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',43],['lib/classes/task','completion_regular_task.php',42],['lib/adodb/drivers','adodb-oci8po.inc.php',54],['lib/classes/task','events_cron_task.php',40],['mod/workshop/allocation/random','lib.php',83],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',47],['auth/cas/classes/task','sync_task.php',43],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',43],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',62],['backup/util/helper','restore_decode_processor.class.php',73],['lib/behat','behat_base.php',840],['enrol/flatfile/classes/task','flatfile_sync_task.php',46],['lib/classes/task','registration_cron_task.php',40],['backup/moodle2','backup_section_task.class.php',97],['lib/classes/task','check_for_updates_task.php',40],['backup/util/plan/tests/fixtures','plan_fixtures.php',48],['backup/util/plan/tests/fixtures','plan_fixtures.php',56],['mod/forum/classes/task','cron_task.php',39],['lib/classes/task','send_failed_login_notifications_task.php',43],['enrol/lti/classes/task','sync_grades.php',45],['lib/dml','pgsql_native_moodle_database.php',665],['lib/htmlpurifier/HTMLPurifier/Strategy','Composite.php',21],['lib/classes/update','validator.php',117],['lib/google/src/Google','Client.php',574],['lib/dml','mssql_native_moodle_database.php',711],['mod/lti/service/profile/classes/local/resource','profile.php',76],['backup/util/plan','backup_plan.class.php',112],['lib/dml','mysqli_native_moodle_database.php',963],['backup/util/ui','backup_ui.class.php',122],['admin/tool/monitor/classes/task','clean_events.php',41],['backup/converter/moodle1','backuplib.php',10],['backup/converter/imscc11','lib.php',85],['lib/classes/task','grade_cron_task.php',40],['lib/classes/task','file_temp_cleanup_task.php',40],['backup/moodle2','restore_section_task.class.php',87],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',63],['filter/tex','latex.php',70],['lib/adodb','adodb.inc.php',1088],['lib/classes/task','plagiarism_cron_task.php',40],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',62],['backup/converter/moodle1','lib.php',142],['backup/util/plan','restore_structure_step.class.php',62],['lib/classes/task','search_index_task.php',44],['enrol/lti/classes/task','sync_members.php',55],['lib/classes/task','session_cleanup_task.php',40],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',61],['lib/classes/task','backup_cleanup_task.php',40],['lib/classes/task','delete_unconfirmed_users_task.php',40],['backup/converter/imscc1','backuplib.php',10],['lib/classes/task','badges_cron_task.php',40],['admin/tool/uploadcourse/classes','processor.php',174],['lib/classes/task','calendar_cron_task.php',40],['backup/util/plan','base_plan.class.php',158],['auth/ldap/classes/task','sync_task.php',43],['lib/adodb/drivers','adodb-oci8.inc.php',920],['backup/util/plan','restore_plan.class.php',159],['lib/tests/fixtures','task_fixtures.php',30],['lib/tests/fixtures','task_fixtures.php',39],['lib/tests/fixtures','task_fixtures.php',48],['lib/tests/fixtures','task_fixtures.php',57],['lib/dml','sqlsrv_native_moodle_database.php',795],['lib/classes/task','create_contexts_task.php',40],['lib/classes/task','file_trash_cleanup_task.php',40],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',46],['lib/classes/task','complete_plans_task.php',52],['lib/classes/task','messaging_cleanup_task.php',40],['backup/util/plan','backup_execution_step.class.php',25],['lib/classes/task','cache_cleanup_task.php',40],['backup/moodle2','backup_activity_task.class.php',211],['filter/tex','texdebug.php',287],['lib/classes/task','password_reset_cleanup_task.php',40],['lib/classes/task','search_optimize_task.php',47],['mod/assign','adminlib.php',342],['lib/classes/task','delete_incomplete_users_task.php',40],['lib/classes/task','automated_backup_task.php',40],['admin/tool/messageinbound/classes/task','pickup_task.php',47],['backup/util/plan','restore_execution_step.class.php',25],['lib/classes/task','sync_plans_from_template_cohorts_task.php',50],['admin/tool/monitor/classes','notification_task.php',39],['lib/dml/tests','dml_test.php',5543],['lib/htmlpurifier/HTMLPurifier/Strategy','FixNesting.php',41],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',60],['admin/tool/monitor/classes/task','check_subscriptions.php',60],['backup/util/interfaces','executable.class.php',32],['backup/util/plan','base_task.class.php',162]], 1058],
'clam_log_upload': ['clam_log_upload', 'Adds a file upload to the log table so that clam can resolve the filename to the user later if necessary ', [['lib','deprecatedlib.php',276]], 1],
'is_user_visible': ['is_user_visible', 'Checks if an activity is visible to the given user. ', [['availability/classes','info_module.php',140]], 26],
'get_antivirus': ['get_antivirus', 'Returns instance of antivirus. ', [['lib/classes/antivirus','manager.php',76]], 4],
'get_manual_related_tags': ['get_manual_related_tags', 'Returns tags that this tag was manually set as related to ', [['tag/classes','tag.php',1134]], 6],
'current_theme': ['current_theme', '', [['lib','deprecatedlib.php',872]], 2],
'convert_tabrows_to_tree': ['convert_tabrows_to_tree', '', [['lib','deprecatedlib.php',1737]], 1],
'tag_compute_correlations': ['tag_compute_correlations', 'Calculates and stores the correlated tags of all tags. The correlations are stored in the \'tag_correlation\' table. ', [['lib','deprecatedlib.php',3666]], 1],
'delete_instances': ['delete_instances', 'Bulk delete all tag instances for a component or tag area ', [['tag/classes','tag.php',500]], 7],
'clam_message_admins': ['clam_message_admins', 'Emails admins about a clam outcome ', [['lib','deprecatedlib.php',4332]], 1],
'tag_find_tags': ['tag_find_tags', 'Search for tags with names that match some text ', [['lib','deprecatedlib.php',3720]], 3],
'js_minify': ['js_minify', 'Minify JavaScript files. ', [['lib','deprecatedlib.php',441]], 3],
'or': ['or', '', [['lib/tcpdf','LICENSE.TXT',69]], 556],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get': ['get', 'Retrieves a variable reference from the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',36],['cache/stores/static','lib.php',220],['cache','disabledlib.php',55],['search/classes','document.php',299],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','DataTransfer.php',162],['lib/google/src/Google/Service','DataTransfer.php',208],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','AdSense.php',1076],['lib/google/src/Google/Service','AdSense.php',1155],['lib/google/src/Google/Service','AdSense.php',1303],['lib/google/src/Google/Service','AdSense.php',1519],['lib/google/src/Google/Service','AdSense.php',1631],['lib/google/src/Google/Service','AdSense.php',1773],['lib/google/src/Google/Service','AdSense.php',2047],['lib/google/src/Google/Service','Replicapool.php',420],['lib/google/src/Google/Service','Replicapool.php',575],['lib/google/src/Google/Service','Tasks.php',323],['lib/google/src/Google/Service','Tasks.php',442],['lib/google/src/Google/Service','Partners.php',362],['lib/google/src/Google/Service','AndroidPublisher.php',1247],['lib/google/src/Google/Service','AndroidPublisher.php',1349],['lib/google/src/Google/Service','AndroidPublisher.php',1510],['lib/google/src/Google/Service','AndroidPublisher.php',1573],['lib/google/src/Google/Service','AndroidPublisher.php',1796],['lib/google/src/Google/Service','AndroidPublisher.php',1884],['lib/google/src/Google/Service','AndroidPublisher.php',1948],['lib/google/src/Google/Service','AndroidPublisher.php',2098],['lib/google/src/Google/Service','AndroidPublisher.php',2223],['lib/google/src/Google/Service','AndroidPublisher.php',2293],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',146],['lib/google/src/Google/Service','YouTubeReporting.php',273],['lib/google/src/Google/Service','YouTubeReporting.php',326],['lib/google/src/Google/Service','Reseller.php',295],['lib/google/src/Google/Service','Reseller.php',458],['lib/google/src/Google/Cache','Memcache.php',74],['lib','filelib.php',3382],['lib','filelib.php',3630],['lib/google/src/Google/Service','Computeaccounts.php',432],['lib/google/src/Google/Service','Computeaccounts.php',512],['lib/google/src/Google/Service','Computeaccounts.php',683],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','MapsEngine.php',1530],['lib/google/src/Google/Service','MapsEngine.php',1709],['lib/google/src/Google/Service','MapsEngine.php',2006],['lib/google/src/Google/Service','MapsEngine.php',2268],['lib/google/src/Google/Service','MapsEngine.php',2360],['lib/google/src/Google/Service','MapsEngine.php',2666],['lib/google/src/Google/Service','MapsEngine.php',2927],['lib/google/src/Google/Service','MapsEngine.php',3118],['lib/google/src/Google/Cache','File.php',47],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Dns.php',307],['lib/google/src/Google/Service','Dns.php',393],['lib/google/src/Google/Service','Dns.php',444],['cache/classes','loaders.php',278],['cache/classes','loaders.php',1422],['cache/classes','loaders.php',1731],['lib/google/src/Google/Service','Appengine.php',320],['lib/google/src/Google/Service','Appengine.php',368],['lib/google/src/Google/Service','Appengine.php',472],['lib/google/src/Google/Service','Appengine.php',525],['lib/google/src/Google/Service','Urlshortener.php',109],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['lib/google/src/Google/Service','AdExchangeBuyer.php',759],['lib/google/src/Google/Service','AdExchangeBuyer.php',829],['lib/google/src/Google/Service','AdExchangeBuyer.php',870],['lib/google/src/Google/Service','AdExchangeBuyer.php',952],['lib/google/src/Google/Service','AdExchangeBuyer.php',1041],['lib/google/src/Google/Service','AdExchangeBuyer.php',1111],['lib/google/src/Google/Service','AdExchangeBuyer.php',1251],['lib/google/src/Google/Service','AdExchangeBuyer.php',1293],['lib/google/src/Google/Service','AdExchangeBuyer.php',1417],['lib/google/src/Google/Service','AdExchangeBuyer.php',1471],['lib/google/src/Google/Service','AdExchangeBuyer.php',1576],['lib/google/src/Google/Service','Books.php',1456],['lib/google/src/Google/Service','Books.php',1625],['lib/google/src/Google/Service','Books.php',1677],['lib/google/src/Google/Service','Books.php',1752],['lib/google/src/Google/Service','Books.php',2086],['lib/google/src/Google/Service','Books.php',2205],['lib/google/src/Google/Service','Books.php',2262],['lib/google/src/Google/Service','Books.php',2345],['lib/google/src/Google/Service','Books.php',2418],['lib/google/src/Google/Service','Books.php',2450],['lib/google/src/Google/Service','Oauth2.php',165],['lib/google/src/Google/Service','Oauth2.php',202],['lib/google/src/Google/Service','Analytics.php',1988],['lib/google/src/Google/Service','Analytics.php',2037],['lib/google/src/Google/Service','Analytics.php',2084],['lib/google/src/Google/Service','Analytics.php',2308],['lib/google/src/Google/Service','Analytics.php',2422],['lib/google/src/Google/Service','Analytics.php',2550],['lib/google/src/Google/Service','Analytics.php',2670],['lib/google/src/Google/Service','Analytics.php',2763],['lib/google/src/Google/Service','Analytics.php',2889],['lib/google/src/Google/Service','Analytics.php',3108],['lib/google/src/Google/Service','Analytics.php',3245],['lib/google/src/Google/Service','Analytics.php',3336],['lib/google/src/Google/Service','Analytics.php',3422],['lib/google/src/Google/Service','Analytics.php',3533],['lib/google/src/Google/Service','Coordinate.php',509],['lib/google/src/Google/Service','Coordinate.php',689],['lib','oauthlib.php',302],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/google/src/Google/Service','DeploymentManager.php',468],['lib/google/src/Google/Service','DeploymentManager.php',632],['lib/google/src/Google/Service','DeploymentManager.php',693],['lib/google/src/Google/Service','DeploymentManager.php',752],['lib/google/src/Google/Service','Blogger.php',945],['lib/google/src/Google/Service','Blogger.php',976],['lib/google/src/Google/Service','Blogger.php',1080],['lib/google/src/Google/Service','Blogger.php',1199],['lib/google/src/Google/Service','Blogger.php',1241],['lib/google/src/Google/Service','Blogger.php',1382],['lib/google/src/Google/Service','Blogger.php',1465],['lib/google/src/Google/Service','Blogger.php',1686],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['question/engine','states.php',116],['lib/google/src/Google/Service','Dataflow.php',292],['lib/horde/framework/Horde','Variables.php',135],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['competency/classes','persistent.php',86],['lib/google/src/Google/Service','CloudUserAccounts.php',542],['lib/google/src/Google/Service','CloudUserAccounts.php',643],['lib/google/src/Google/Service','CloudUserAccounts.php',908],['lib/google/src/Google/Service','Cloudresourcemanager.php',248],['lib/google/src/Google/Service','Cloudresourcemanager.php',427],['lib/editor/tinymce/classes','plugin.php',447],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','TagManager.php',950],['lib/google/src/Google/Service','TagManager.php',1036],['lib/google/src/Google/Service','TagManager.php',1128],['lib/google/src/Google/Service','TagManager.php',1280],['lib/google/src/Google/Service','TagManager.php',1373],['lib/google/src/Google/Service','TagManager.php',1467],['lib/google/src/Google/Service','TagManager.php',1561],['lib/google/src/Google/Service','TagManager.php',1711],['mod/lesson','locallib.php',3248],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapoolupdater.php',338],['lib/google/src/Google/Service','Replicapoolupdater.php',489],['lib/google/src/Google/Service','Bigquery.php',552],['lib/google/src/Google/Service','Bigquery.php',668],['lib/google/src/Google/Service','Bigquery.php',879],['lib/google/src/Google/Service','ShoppingContent.php',1066],['lib/google/src/Google/Service','ShoppingContent.php',1183],['lib/google/src/Google/Service','ShoppingContent.php',1283],['lib/google/src/Google/Service','ShoppingContent.php',1346],['lib/google/src/Google/Service','ShoppingContent.php',1464],['lib/google/src/Google/Service','ShoppingContent.php',1578],['lib/google/src/Google/Service','ShoppingContent.php',1773],['lib/google/src/Google/Service','ShoppingContent.php',1986],['lib/google/src/Google/Service','ShoppingContent.php',2063],['lib/google/src/Google/Service','Webmasters.php',371],['lib/google/src/Google/Service','Webmasters.php',464],['lib/google/src/Google/Service','Webmasters.php',540],['lib','navigationlib.php',384],['lib','navigationlib.php',836],['lib','navigationlib.php',2704],['lib','navigationlib.php',3139],['lib/google/src/Google/Service','Clouddebugger.php',399],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['lib/portfolio','exporter.php',134],['lib/google/src/Google/Service','Container.php',329],['lib/google/src/Google/Service','Container.php',396],['backup/cc/cc_lib/gral_lib','cssparser.php',147],['lib/horde/framework/Horde/Support','Array.php',30],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Storage.php',1059],['lib/google/src/Google/Service','Storage.php',1175],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1476],['lib/google/src/Google/Service','Storage.php',1709],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Genomics.php',660],['lib/google/src/Google/Service','Genomics.php',749],['lib/google/src/Google/Service','Genomics.php',918],['lib/google/src/Google/Service','Genomics.php',1007],['lib/google/src/Google/Service','Genomics.php',1185],['lib/google/src/Google/Service','Genomics.php',1268],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1475],['lib/google/src/Google/Service','Games.php',1220],['lib/google/src/Google/Service','Games.php',1339],['lib/google/src/Google/Service','Games.php',1441],['lib/google/src/Google/Service','Games.php',1699],['lib/google/src/Google/Service','Games.php',1806],['lib/google/src/Google/Service','Games.php',1948],['lib/google/src/Google/Service','Games.php',2082],['lib/google/src/Google/Service','Licensing.php',239],['lib/google/src/Google/Service','Fitness.php',417],['lib/google/src/Google/Service','Fitness.php',543],['lib/google/src/Google/Service','Reports.php',375],['lib/google/src/Google/Service','Reports.php',409],['lib/google/src/Google/Service','Gmail.php',779],['lib/google/src/Google/Service','Gmail.php',937],['lib/google/src/Google/Service','Gmail.php',1030],['lib/google/src/Google/Service','Gmail.php',1206],['lib/google/src/Google/Service','Gmail.php',1250],['lib/google/src/Google/Service','Taskqueue.php',264],['lib/google/src/Google/Service','Taskqueue.php',308],['lib/mustache/src/Mustache','HelperCollection.php',81],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Doubleclicksearch.php',257],['lib/google/src/Google/Service','Doubleclicksearch.php',381],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/google/src/Google/Service','Autoscaler.php',331],['lib/google/src/Google/Service','Autoscaler.php',445],['lib/google/src/Google/Service','AdExchangeSeller.php',444],['lib/google/src/Google/Service','AdExchangeSeller.php',552],['lib/google/src/Google/Service','AdExchangeSeller.php',666],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Prediction.php',276],['lib/behat/classes','behat_context_helper.php',63],['lib/google/src/Google/Service','SiteVerification.php',152],['lib/google/src/Google/Service','Drive.php',1333],['lib/google/src/Google/Service','Drive.php',1369],['lib/google/src/Google/Service','Drive.php',1422],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1617],['lib/google/src/Google/Service','Drive.php',1792],['lib/google/src/Google/Service','Drive.php',2054],['lib/google/src/Google/Service','Drive.php',2124],['lib/google/src/Google/Service','Drive.php',2256],['lib/google/src/Google/Service','Drive.php',2350],['lib/google/src/Google/Service','Drive.php',2418],['lib/google/src/Google/Service','Drive.php',2537],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Proximitybeacon.php',348],['lib/google/src/Google/Service','Groupssettings.php',108],['lib/google/src/Google/Service','Directory.php',1698],['lib/google/src/Google/Service','Directory.php',1766],['lib/google/src/Google/Service','Directory.php',1860],['lib/google/src/Google/Service','Directory.php',1930],['lib/google/src/Google/Service','Directory.php',2003],['lib/google/src/Google/Service','Directory.php',2072],['lib/google/src/Google/Service','Directory.php',2238],['lib/google/src/Google/Service','Directory.php',2365],['lib/google/src/Google/Service','Directory.php',2435],['lib/google/src/Google/Service','Directory.php',2531],['lib/google/src/Google/Service','Directory.php',2666],['lib/google/src/Google/Service','Directory.php',2745],['lib/google/src/Google/Service','Directory.php',2850],['lib/google/src/Google/Service','Directory.php',2954],['lib/google/src/Google/Service','Directory.php',3012],['lib/google/src/Google/Service','Directory.php',3287],['lib/google/src/Google/Service','Fusiontables.php',659],['lib/google/src/Google/Service','Fusiontables.php',826],['lib/google/src/Google/Service','Fusiontables.php',950],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/google/src/Google/Service','AdSenseHost.php',645],['lib/google/src/Google/Service','AdSenseHost.php',686],['lib/google/src/Google/Service','AdSenseHost.php',751],['lib/google/src/Google/Service','AdSenseHost.php',918],['lib/google/src/Google/Service','AdSenseHost.php',1026],['lib/google/src/Google/Service','Plus.php',343],['lib/google/src/Google/Service','Plus.php',418],['lib/google/src/Google/Service','Plus.php',525],['lib/google/src/Google/Service','Mirror.php',438],['lib/google/src/Google/Service','Mirror.php',523],['lib/google/src/Google/Service','Mirror.php',563],['lib/google/src/Google/Service','Mirror.php',674],['lib/google/src/Google/Service','Mirror.php',786],['lib/google/src/Google/Service','AndroidEnterprise.php',1002],['lib/google/src/Google/Service','AndroidEnterprise.php',1109],['lib/google/src/Google/Service','AndroidEnterprise.php',1196],['lib/google/src/Google/Service','AndroidEnterprise.php',1312],['lib/google/src/Google/Service','AndroidEnterprise.php',1432],['lib/google/src/Google/Service','AndroidEnterprise.php',1524],['lib/google/src/Google/Service','AndroidEnterprise.php',1616],['lib/google/src/Google/Service','AndroidEnterprise.php',1705],['lib/google/src/Google/Service','AndroidEnterprise.php',1777],['lib/google/src/Google/Service','AndroidEnterprise.php',1879],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/testing/classes','nasty_strings.php',73],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/google/src/Google/Service','Playmoviespartner.php',411],['lib/google/src/Google/Service','Playmoviespartner.php',475],['lib/google/src/Google/Service','Playmoviespartner.php',580],['lib','coursecatlib.php',212],['lib/google/src/Google/Service','Cloudtrace.php',217],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['tag/classes','tag.php',190],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['competency/classes','url.php',55],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','Calendar.php',919],['lib/google/src/Google/Service','Calendar.php',1086],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1387],['lib/google/src/Google/Service','Calendar.php',1431],['lib/google/src/Google/Service','Calendar.php',1873],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['cache/stores/session','lib.php',225],['lib/google/src/Google/Service','Cloudbilling.php',162],['lib/google/src/Google/Service','PlusDomains.php',468],['lib/google/src/Google/Service','PlusDomains.php',593],['lib/google/src/Google/Service','PlusDomains.php',719],['lib/google/src/Google/Service','PlusDomains.php',813],['lib/google/src/Google/Service','Storagetransfer.php',248],['lib/google/src/Google/Service','Storagetransfer.php',295],['lib/google/src/Google/Service','Storagetransfer.php',396],['cache/stores/mongodb','lib.php',252],['lib/google/src/Google/Cache','Null.php',36],['lib/google/src/Google/Service','GamesConfiguration.php',265],['lib/google/src/Google/Service','GamesConfiguration.php',404],['cache/stores/file','lib.php',330],['cache/stores/memcached','lib.php',319],['lib/google/src/Google/Service','AppState.php',171],['lib/google/src/Google/Service','Resourceviews.php',354],['lib/google/src/Google/Service','Resourceviews.php',439],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','Classroom.php',484],['lib/google/src/Google/Service','Classroom.php',724],['lib/google/src/Google/Service','Classroom.php',830],['lib/google/src/Google/Service','Classroom.php',951],['lib/google/src/Google/Service','Classroom.php',1010],['lib/google/src/Google/Service','SQLAdmin.php',804],['lib/google/src/Google/Service','SQLAdmin.php',874],['lib/google/src/Google/Service','SQLAdmin.php',1076],['lib/google/src/Google/Service','SQLAdmin.php',1298],['lib/google/src/Google/Service','SQLAdmin.php',1387],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/google/src/Google/Service','Compute.php',4037],['lib/google/src/Google/Service','Compute.php',4166],['lib/google/src/Google/Service','Compute.php',4299],['lib/google/src/Google/Service','Compute.php',4460],['lib/google/src/Google/Service','Compute.php',4590],['lib/google/src/Google/Service','Compute.php',4686],['lib/google/src/Google/Service','Compute.php',4845],['lib/google/src/Google/Service','Compute.php',4957],['lib/google/src/Google/Service','Compute.php',5048],['lib/google/src/Google/Service','Compute.php',5188],['lib/google/src/Google/Service','Compute.php',5264],['lib/google/src/Google/Service','Compute.php',5394],['lib/google/src/Google/Service','Compute.php',5542],['lib/google/src/Google/Service','Compute.php',5726],['lib/google/src/Google/Service','Compute.php',6001],['lib/google/src/Google/Service','Compute.php',6171],['lib/google/src/Google/Service','Compute.php',6369],['lib/google/src/Google/Service','Compute.php',6595],['lib/google/src/Google/Service','Compute.php',6655],['lib/google/src/Google/Service','Compute.php',6732],['lib/google/src/Google/Service','Compute.php',6808],['lib/google/src/Google/Service','Compute.php',6914],['lib/google/src/Google/Service','Compute.php',6977],['lib/google/src/Google/Service','Compute.php',7052],['lib/google/src/Google/Service','Compute.php',7148],['lib/google/src/Google/Service','Compute.php',7223],['lib/google/src/Google/Service','Compute.php',7315],['lib/google/src/Google/Service','Compute.php',7425],['lib/google/src/Google/Service','Compute.php',7586],['lib/google/src/Google/Service','Compute.php',7750],['lib/google/src/Google/Service','Compute.php',7955],['lib/google/src/Google/Service','Compute.php',8050],['lib/google/src/Google/Service','Compute.php',8226],['lib/google/src/Google/Service','Compute.php',8321],['lib/google/src/Google/Service','Compute.php',8384],['lib/google/src/Google/Service','Pubsub.php',255],['lib/google/src/Google/Service','Pubsub.php',394],['lib/google/src/Google/Cache','Apc.php',52],['lib/google/src/Google/Service','Dfareporting.php',4559],['lib/google/src/Google/Service','Dfareporting.php',4587],['lib/google/src/Google/Service','Dfareporting.php',4629],['lib/google/src/Google/Service','Dfareporting.php',4671],['lib/google/src/Google/Service','Dfareporting.php',4779],['lib/google/src/Google/Service','Dfareporting.php',4867],['lib/google/src/Google/Service','Dfareporting.php',5014],['lib/google/src/Google/Service','Dfareporting.php',5117],['lib/google/src/Google/Service','Dfareporting.php',5308],['lib/google/src/Google/Service','Dfareporting.php',5427],['lib/google/src/Google/Service','Dfareporting.php',5525],['lib/google/src/Google/Service','Dfareporting.php',5580],['lib/google/src/Google/Service','Dfareporting.php',5683],['lib/google/src/Google/Service','Dfareporting.php',5769],['lib/google/src/Google/Service','Dfareporting.php',5891],['lib/google/src/Google/Service','Dfareporting.php',5997],['lib/google/src/Google/Service','Dfareporting.php',6105],['lib/google/src/Google/Service','Dfareporting.php',6255],['lib/google/src/Google/Service','Dfareporting.php',6314],['lib/google/src/Google/Service','Dfareporting.php',6411],['lib/google/src/Google/Service','Dfareporting.php',6529],['lib/google/src/Google/Service','Dfareporting.php',6609],['lib/google/src/Google/Service','Dfareporting.php',6746],['lib/google/src/Google/Service','Dfareporting.php',6862],['lib/google/src/Google/Service','Dfareporting.php',6940],['lib/google/src/Google/Service','Dfareporting.php',7011],['lib/google/src/Google/Service','Dfareporting.php',7131],['lib/google/src/Google/Service','Dfareporting.php',7172],['lib/google/src/Google/Service','Dfareporting.php',7214],['lib/google/src/Google/Service','Dfareporting.php',7256],['lib/google/src/Google/Service','Dfareporting.php',7320],['lib/google/src/Google/Service','Dfareporting.php',7378],['lib/google/src/Google/Service','Dfareporting.php',7517],['lib/google/src/Google/Service','Dfareporting.php',7640],['lib/google/src/Google/Service','Dfareporting.php',7771],['lib/google/src/Google/Service','Dfareporting.php',7812],['lib/google/src/Google/Service','Dfareporting.php',7853],['lib/google/src/Google/Service','Dfareporting.php',7935],['lib/google/src/Google/Service','Dfareporting.php',7995],['lib/google/src/Google/Service','Dfareporting.php',8116],['lib/google/src/Google/Service','Dfareporting.php',8258],['lib/google/src/Google/Service','Dfareporting.php',8307],['lib/google/src/Google/Service','Dfareporting.php',8421],['lib/google/src/Google/Service','Dfareporting.php',8482],['lib/google/src/Google/Service','Dfareporting.php',8584],['lib/google/src/Google/Service','Dfareporting.php',8643],['lib/google/src/Google/Service','Dfareporting.php',8682],['lib/google/src/Google/Service','Dfareporting.php',8724],['lib/google/src/Google/Service','Dfareporting.php',8782],['lib/google/src/Google/Service','Manager.php',259],['lib/google/src/Google/Service','Manager.php',338],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['lib','webdavlib.php',264]], 21532],
'box': ['box', 'Outputs a box. ', [['lib','outputrenderers.php',3089]], 288],
'get_realuser': ['get_realuser', 'Returns the $USER object ignoring current login-as session ', [['lib/classes/session','manager.php',819]], 8],
'mark_dirty': ['mark_dirty', 'Mark a context as dirty (with timestamp) so as to force reloading of the context. ', [['lib','accesslib.php',5843]], 40],
'normalize': ['normalize', 'Given a relative module name, like ./something, normalize it to a real name that can be mapped to a path. ', [['lib/requirejs','require.js',259],['lib/google/src/Google','Utils.php',103],['tag/classes','tag.php',328],['lib/htmlpurifier/HTMLPurifier','Lexer.php',285],['lib/htmlpurifier/HTMLPurifier','PercentEncoder.php',72]], 43],
'preload_course_contexts': ['preload_course_contexts', '', [['lib','deprecatedlib.php',1829]], 2],
'events_cron': ['events_cron', 'Events cron will try to empty the events queue by processing all the queued events handlers ', [['lib','deprecatedlib.php',4117]], 5],
'tag_get_id': ['tag_get_id', 'Returns the database ID of a set of tags. ', [['lib','deprecatedlib.php',2695]], 2],
'tag_delete_instances': ['tag_delete_instances', 'Deletes all the tag instances given a component and an optional contextid. ', [['lib','deprecatedlib.php',3618]], 0],
'print_whole_category_list': ['print_whole_category_list', '', [['lib','deprecatedlib.php',1616]], 3],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'session_is_loggedinas': ['session_is_loggedinas', 'Is current $USER logged-in-as somebody else? ', [['lib','deprecatedlib.php',417]], 2],
'delete_instance': ['delete_instance', 'Delete all data related to a given workshop module instance ', [['mod/workshop/eval','lib.php',59],['mod/workshop/allocation/scheduled','lib.php',200],['mod/workshop/eval/best','lib.php',125],['mod/workshop/form','lib.php',118],['lib','enrollib.php',1849],['mod/workshop/allocation/random','lib.php',243],['mod/assign/submission/file','locallib.php',447],['mod/workshop/form/rubric','lib.php',405],['mod/assign/feedback/comments','locallib.php',485],['mod/workshop/form/comments','lib.php',360],['mod/workshop/allocation/manual','lib.php',349],['lib','accesslib.php',6111],['mod/assign','assignmentplugin.php',525],['mod/workshop/allocation','lib.php',62],['mod/assign','locallib.php',715],['mod/workshop/form/accumulative','lib.php',375],['mod/workshop/form/numerrors','lib.php',394],['mod/assign/submission/onlinetext','locallib.php',550],['mod/assign/feedback/file','locallib.php',320],['mod/assign/feedback/editpdf','locallib.php',324],['tag/classes','tag.php',473],['enrol/lti','lib.php',145]], 37],
'get_parent_context_ids': ['get_parent_context_ids', 'Returns parent contexts of this context in reversed order, i.e. parent first, then grand parent, etc. ', [['lib','accesslib.php',5725]], 55],
'navbar': ['navbar', 'Return the navbar content so that it can be echoed out by the layout ', [['lib','outputrenderers.php',3457],['theme/bootstrapbase/renderers','core_renderer.php',54]], 7],
'bulk_delete_instances': ['bulk_delete_instances', 'This function will delete numerous tag instances efficiently. This removes tag instances only. It doesn\'t check to see if it is the last use of a tag. ', [['lib/classes/task','tag_cron_task.php',242]], 4],
'course_section_add_cm_control': ['course_section_add_cm_control', 'Renders HTML for the menus to add activities and resources to the current course ', [['course','renderer.php',407]], 9],
'tag_get_tags': ['tag_get_tags', 'Get the array of db record of tags associated to a record (instances). ', [['lib','deprecatedlib.php',2602]], 2],
'print_header_simple': ['print_header_simple', '', [['lib','deprecatedlib.php',960]], 2],
'events_queue_handler': ['events_queue_handler', 'Puts a handler on queue ', [['lib','deprecatedlib.php',3900]], 1],
'get_timezone_record': ['get_timezone_record', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',2212]], 2],
'get_course_category_tree': ['get_course_category_tree', '', [['lib','deprecatedlib.php',1643]], 2],
'set_item_tags': ['set_item_tags', 'Sets the list of tag instances for one item (table record). ', [['tag/classes','tag.php',666]], 57],
'completion_cron_mark_started': ['completion_cron_mark_started', 'Mark users as started if the config option is set ', [['completion','cron.php',30]], 2],
'put_records_csv': ['put_records_csv', 'Create a file with CSV contents This function is deprecated. Please use download_as_dataformat() instead. ', [['lib','deprecatedlib.php',4557]], 2],
'navmenu': ['navmenu', '', [['lib','deprecatedlib.php',1158]], 2],
'select': ['select', '', [['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845],['lib','outputcomponents.php',1265]], 591],
'get_contextlevel_name': ['get_contextlevel_name', 'Returns context level name ', [['lib','deprecatedlib.php',1857]], 2],
'update_log_display_entry': ['update_log_display_entry', '', [['lib','deprecatedlib.php',490]], 1],
'cleanup_instances': ['cleanup_instances', 'Remove stale contexts that belonged to deleted instances. Ideally all code should cleanup contexts properly, unfortunately accidents happen... ', [['lib','accesslib.php',5975]], 5],
'get_enrolled_users': ['get_enrolled_users', 'Returns list of users enrolled into course. ', [['lib','accesslib.php',2439],['enrol','externallib.php',409]], 61],
'session_loginas': ['session_loginas', 'Login as another user - no security checks here. ', [['lib','deprecatedlib.php',433]], 2],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1796]], 155],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as an moodle_recordset.  $sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it\'s possible there might be large datasets being returned.  For known small datasets use get_records_sql - it leads to simpler code. ', [['lib/dml','pdo_moodle_database.php',252],['lib/dml','oci_native_moodle_database.php',1106],['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','mssql_native_moodle_database.php',736],['lib/dml','mysqli_native_moodle_database.php',993],['lib/dml','sqlsrv_native_moodle_database.php',811],['lib/dml/tests','dml_test.php',5544]], 283],
'tag_set_flag': ['tag_set_flag', 'Flag a tag as inappropriate. ', [['lib','deprecatedlib.php',2901]], 5],
'error_text': ['error_text', 'Output an error message. By default wraps the error message in <span class="error">. If the error message is blank, nothing is output. ', [['lib','outputrenderers.php',2740]], 88],
'print_recent_activity': ['print_recent_activity', '', [['lib','deprecatedlib.php',1378]], 1],
'session_set_user': ['session_set_user', 'Setup $USER object - called during login, loginas, etc. ', [['lib','deprecatedlib.php',406]], 3],
'enrol_cohort_search_cohorts': ['enrol_cohort_search_cohorts', '', [['lib','deprecatedlib.php',2117]], 2],
'get_user_timezone_offset': ['get_user_timezone_offset', 'Returns a float which represents the user\'s timezone difference from GMT in hours Checks various settings and picks the most dominant of those which have a value ', [['lib','deprecatedlib.php',2162]], 2],
'create_if_missing': ['create_if_missing', 'Retrieves tags and/or creates them if do not exist yet ', [['tag/classes','tag.php',352]], 10],
'events_get_handlers': ['events_get_handlers', 'Returns handlers for given event. Uses caching for better perf. ', [['lib','eventslib.php',118]], 8],
'tag_get_related_tags': ['tag_get_related_tags', 'Returns tags related to a tag ', [['lib','deprecatedlib.php',3568]], 9],
'get_courseid_from_context': ['get_courseid_from_context', '', [['lib','deprecatedlib.php',1931]], 2],
'coursemodule_visible_for_user': ['coursemodule_visible_for_user', '', [['lib','deprecatedlib.php',2074]], 1],
'get_print_section_cm_text': ['get_print_section_cm_text', 'Deprecated. Instead of: list($content, $name) = get_print_section_cm_text($cm, $course); use: $content = $cm->get_formatted_content(array(\'overflowdiv\' => true, \'noclean\' => true)); $name = $cm->get_formatted_name(); ', [['lib','deprecatedlib.php',1308]], 5],
'events_update_definition': ['events_update_definition', 'Updates all of the event definitions within the database. ', [['lib','deprecatedlib.php',4035]], 22],
'checkbox': ['checkbox', 'Creates a CheckBox field ', [['lib/tcpdf','tcpdf.php',13017],['lib','outputcomponents.php',1219]], 31],
'mygroupid': ['mygroupid', '', [['lib','deprecatedlib.php',750]], 3],
'print_course_search': ['print_course_search', 'This function is deprecated, please use course renderer: $renderer = $PAGE->get_renderer(\'core\', \'course\'); echo $renderer->course_search_form($value, $format); ', [['lib','deprecatedlib.php',1567]], 1],
'get_correlated_tags': ['get_correlated_tags', 'Returns the correlated tags of a tag, retrieved from the tag_correlation table. ', [['tag/classes','tag.php',1092]], 11],
'fetch_context_capabilities': ['fetch_context_capabilities', '', [['lib','deprecatedlib.php',1845]], 1],
'make_display_name': ['make_display_name', 'Prepares tag name ready to be displayed ', [['tag/classes','tag.php',128]], 11],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1772]], 316],
'message_current_user_is_involved': ['message_current_user_is_involved', 'Is $USER one of the supplied users? ', [['lib','deprecatedlib.php',2123]], 2],
'tag_print_user_box': ['tag_print_user_box', 'Prints an individual user box ', [['lib','deprecatedlib.php',3255]], 2],
'get_url': ['get_url', 'Get URL related to the action ', [['lib/classes/event','competency_plan_unlinked.php',81],['lib/classes/event','grouping_group_assigned.php',57],['lib/classes/event','enrol_instance_deleted.php',79],['report/log/classes/event','user_report_viewed.php',82],['mod/quiz/classes/event','attempt_reviewed.php',72],['lib/classes/event','role_unassigned.php',72],['mod/workshop/classes/event','submission_deleted.php',72],['mod/forum/classes/event','discussion_updated.php',74],['lib/classes/event','course_module_instance_list_viewed.php',84],['lib/classes/event','course_created.php',73],['mod/forum/classes/event','readtracking_enabled.php',73],['mod/wiki/classes/event','page_created.php',77],['lib/classes/event','competency_viewed.php',79],['mod/choice/classes/event','answer_updated.php',81],['lib/simplepie/library/SimplePie','Copyright.php',96],['lib/classes/event','search_indexed.php',69],['lib/classes/event','badge_criteria_updated.php',71],['mod/wiki/classes/event','page_version_deleted.php',83],['lib/classes/event','competency_user_competency_rated_in_plan.php',97],['mod/glossary/classes/event','entry_deleted.php',73],['lib/classes/event','competency_template_viewed.php',81],['admin/tool/langimport/classes/event','langpack_removed.php',80],['mod/glossary/classes/event','category_deleted.php',65],['lib/classes/event','badge_deleted.php',67],['mod/quiz/classes/event','user_override_updated.php',73],['lib/classes/event','message_contact_added.php',57],['lib/classes/event','cohort_member_added.php',68],['lib/classes/event','blog_entry_updated.php',92],['mod/forum/classes/event','assessable_uploaded.php',95],['lib/classes/event','group_deleted.php',74],['lib/classes/event','role_allow_assign_updated.php',65],['mod/lesson/classes/event','highscore_added.php',68],['mod/forum/classes/event','discussion_pinned.php',64],['lib/classes/event','competency_plan_reopened.php',84],['mod/lesson/classes/event','essay_attempt_viewed.php',57],['mod/wiki/classes/event','page_locks_deleted.php',83],['mod/glossary/classes/event','comment_created.php',37],['lib/classes/event','webservice_service_deleted.php',68],['mod/forum/classes/event','discussion_subscription_created.php',75],['admin/tool/log/store/database/tests/fixtures','event.php',44],['mod/workshop/classes/event','assessable_uploaded.php',102],['lib/classes/event','user_loggedout.php',72],['lib/classes/event','webservice_token_created.php',74],['mod/data/classes/event','field_deleted.php',76],['mod/book/classes/event','chapter_created.php',88],['mod/survey/classes/event','report_downloaded.php',73],['mod/workshop/classes/event','phase_switched.php',84],['lib/classes/event','course_reset_started.php',62],['mod/workshop/classes/event','assessment_evaluated.php',75],['lib/classes/event','blog_association_created.php',75],['report/outline/classes/event','activity_report_viewed.php',75],['lib/classes/event','competency_plan_updated.php',84],['mod/choice/classes/event','answer_submitted.php',81],['mod/lesson/classes/event','lesson_ended.php',58],['lib/classes/event','role_allow_switch_updated.php',65],['lib/classes/event','competency_user_competency_rated_in_course.php',97],['mod/quiz/report','attemptsreport_options.php',133],['report/participation/classes/event','report_viewed.php',86],['lib/classes/event','role_capabilities_updated.php',69],['mod/survey/classes/event','response_submitted.php',71],['lib/classes/event','badge_archived.php',65],['mod/workshop/classes/event','assessment_reevaluated.php',85],['report/outline/classes/event','report_viewed.php',83],['lib/classes/event','mnet_access_control_updated.php',66],['mod/assign/classes/event','base.php',90],['mod/lesson/classes/event','essay_assessed.php',87],['lib/filebrowser','file_info.php',226],['mod/book/tool/print/classes/event','book_printed.php',85],['lib/classes/event','grouping_deleted.php',81],['lib/classes/event','course_viewed.php',84],['mod/forum/classes/event','user_report_viewed.php',74],['mod/quiz/classes/event','attempt_summary_viewed.php',75],['lib/classes/event','webservice_service_user_added.php',68],['mod/forum/classes/event','discussion_unpinned.php',64],['lib/classes/event','grouping_group_unassigned.php',57],['mod/chat/classes/event','message_sent.php',68],['lib/classes/event','role_assigned.php',75],['mod/glossary/classes/event','entry_viewed.php',67],['mod/data/classes/event','record_created.php',75],['lib/classes/event','role_deleted.php',73],['mod/wiki/classes/event','page_version_viewed.php',84],['admin/tool/log/store/standard/tests/fixtures','event.php',44],['admin/tool/monitor/classes/event','rule_created.php',68],['lib/classes/event','competency_user_competency_plan_viewed.php',90],['mod/data/classes/event','comment_deleted.php',37],['mod/forum/classes/event','course_module_viewed.php',50],['mod/workshop/classes/event','submission_updated.php',72],['mod/choice/classes/event','report_viewed.php',72],['mod/lesson/classes/event','group_override_deleted.php',73],['mod/wiki/classes/event','page_map_viewed.php',83],['admin/tool/log/store/legacy/tests/fixtures','event.php',44],['mod/lesson/classes/event','question_answered.php',63],['mod/choice/classes/event','report_downloaded.php',73],['lib/classes/event','competency_user_evidence_created.php',82],['lib/classes/event','course_module_completion_updated.php',73],['lib/classes/event','note_updated.php',75],['lib/classes/event','note_created.php',75],['lib/classes/event','competency_framework_created.php',81],['lib/classes/event','course_resources_list_viewed.php',69],['lib/filebrowser','file_info_stored.php',156],['mod/forum/classes/event','subscribers_viewed.php',74],['mod/book/tool/exportimscp/classes/event','book_exported.php',85],['lib','outputcomponents.php',326],['lib','outputcomponents.php',2756],['lib/classes/event','user_enrolment_deleted.php',73],['lib/classes/event','webservice_service_updated.php',68],['mod/lesson/classes/event','group_override_created.php',74],['mod/scorm/classes/event','attempt_deleted.php',71],['lib/classes/event','competency_user_competency_review_request_cancelled.php',81],['lib/classes/event','webservice_service_created.php',74],['mod/wiki/classes/event','page_version_restored.php',83],['mod/forum/classes/event','discussion_deleted.php',75],['lib/classes/event','competency_framework_updated.php',82],['lib/classes/event','blog_comment_created.php',38],['mod/lesson/classes/event','lesson_restarted.php',57],['mod/wiki/classes/event','page_updated.php',83],['mod/assign/submission/comments/classes/event','comment_created.php',37],['lib','modinfolib.php',1230],['lib/classes/event','course_module_updated.php',76],['report/questioninstances/classes/event','report_viewed.php',83],['lib/classes/event','message_contact_blocked.php',57],['lib/classes/event','competency_template_updated.php',84],['lib/classes/event','badge_disabled.php',65],['lib/classes/event','badge_enabled.php',65],['mod/quiz/classes/event','edit_page_viewed.php',72],['mod/scorm/classes/event','tracks_viewed.php',73],['mod/wiki/classes/event','page_diff_viewed.php',85],['lib/classes/event','grouping_created.php',74],['lib/classes/event','group_updated.php',74],['mod/book/classes/event','chapter_updated.php',88],['lib/classes/event','user_loggedin.php',73],['mod/forum/classes/event','subscription_created.php',74],['mod/quiz/classes/event','group_override_updated.php',73],['lib/classes/event','competency_plan_created.php',81],['mod/glossary/classes/event','entry_disapproved.php',65],['lib/classes/event','message_viewed.php',63],['lib/classes/event','comment_created.php',77],['lib/classes/event','competency_evidence_created.php',116],['lib/classes/event','comment_deleted.php',77],['lib/classes/event','competency_user_competency_review_requested.php',81],['mod/quiz/classes/event','attempt_abandoned.php',81],['mod/scorm/classes/event','user_report_viewed.php',71],['mod/quiz/classes/event','attempt_becameoverdue.php',84],['mod/quiz/classes/event','group_override_created.php',74],['mod/book/tool/print/classes/event','chapter_printed.php',88],['mod/data/classes/event','record_deleted.php',75],['lib/classes/event','competency_user_competency_viewed.php',90],['mod/lesson/classes/event','question_viewed.php',63],['lib/classes/event','user_profile_viewed.php',76],['mod/lesson/classes/event','user_override_deleted.php',72],['lib/classes/event','cohort_member_removed.php',69],['mod/lesson/classes/event','lesson_started.php',57],['mod/lesson/classes/event','page_updated.php',82],['mod/workshop/classes/event','submission_viewed.php',72],['mod/glossary/classes/event','entry_created.php',71],['mod/wiki/classes/event','page_history_viewed.php',77],['lib/classes/event','competency_plan_review_request_cancelled.php',84],['mod/quiz/classes/event','attempt_viewed.php',73],['mod/data/classes/event','field_updated.php',76],['lib/classes/event','grouping_updated.php',74],['lib/classes/event','question_category_created.php',66],['lib/classes/event','user_login_failed.php',76],['mod/scorm/classes/event','report_viewed.php',72],['mod/chat/classes/event','sessions_viewed.php',74],['mod/quiz/classes/event','user_override_deleted.php',72],['mod/quiz/classes/event','attempt_submitted.php',81],['mod/lesson/classes/event','group_override_updated.php',73],['mod/workshop/classes/event','submission_created.php',72],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',92],['lib/classes/event','competency_updated.php',79],['mod/lesson/classes/event','page_moved.php',65],['blocks/rss_client/classes/output','channel_image.php',101],['badges/lib','backpacklib.php',116],['lib/classes/event','course_completed.php',91],['lib/classes/event','competency_created.php',79],['mod/lesson/classes/event','highscores_viewed.php',60],['lib/classes/event','message_contact_unblocked.php',57],['lib','accesslib.php',6143],['lib','accesslib.php',6200],['lib','accesslib.php',6451],['lib','accesslib.php',6638],['lib','accesslib.php',6878],['lib','accesslib.php',7098],['lib','accesslib.php',7341],['mod/wiki/classes/event','comment_deleted.php',38],['lib/classes/event','user_enrolment_created.php',72],['lib/classes/event','course_module_created.php',105],['lib/classes/event','webservice_service_user_removed.php',68],['report/log/classes/event','report_viewed.php',85],['mod/assign/submission/file/classes/event','assessable_uploaded.php',94],['lib/classes/event','group_member_added.php',87],['mod/forum/classes/event','discussion_viewed.php',69],['mod/workshop/classes/event','submission_reassessed.php',86],['mod/workshop/classes/event','assessment_evaluations_reset.php',84],['mod/forum/classes/event','discussion_moved.php',75],['mod/lesson/classes/event','lesson_resumed.php',57],['lib/classes/event','comments_viewed.php',69],['mod/data/classes/event','template_viewed.php',74],['mod/wiki/classes/event','page_deleted.php',83],['mod/quiz/classes/event','report_viewed.php',75],['mod/scorm/classes/event','sco_launched.php',73],['mod/glossary/classes/event','entry_updated.php',71],['mod/lesson/classes/event','user_override_created.php',72],['mod/glossary/classes/event','category_updated.php',65],['lib/classes/event','course_updated.php',76],['mod/feedback/classes/event','response_submitted.php',102],['mod/book/classes/event','chapter_deleted.php',88],['mod/wiki/classes/event','comment_created.php',38],['report/completion/classes/event','report_viewed.php',67],['lib/classes/event','recent_activity_viewed.php',76],['mod/quiz/classes/event','question_manually_graded.php',74],['lib/classes/event','user_enrolment_updated.php',72],['lib/classes/event','competency_comment_created.php',49],['report/completion/classes/event','user_report_viewed.php',77],['report/stats/classes/event','report_viewed.php',83],['lib/classes/event','calendar_event_created.php',77],['lib/classes/event','course_section_updated.php',75],['lib/classes/event','message_sent.php',91],['lib/classes/event','calendar_subscription_deleted.php',75],['lib/classes/event','course_category_updated.php',60],['lib/classes/event','user_password_updated.php',95],['mod/forum/classes/event','subscription_deleted.php',74],['lib/classes/event','user_loggedinas.php',85],['lib/classes/event','competency_template_created.php',81],['lib/classes/event','user_created.php',66],['report/loglive/classes/event','report_viewed.php',75],['mod/book/classes/event','chapter_viewed.php',88],['lib/classes/event','badge_awarded.php',72],['lib/classes/event','calendar_subscription_created.php',76],['lib/classes/event','enrol_instance_created.php',78],['lib/classes/event','user_list_viewed.php',74],['mod/forum/classes/event','post_deleted.php',76],['mod/quiz/classes/event','group_override_deleted.php',73],['mod/assign/submission/comments/classes/event','comment_deleted.php',37],['lib/classes/event','badge_created.php',65],['lib/classes/event','base.php',639],['lib/classes/event','competency_framework_viewed.php',78],['mod/glossary/classes/event','course_module_viewed.php',53],['lib/classes/event','group_member_removed.php',78],['lib/classes/event','grade_report_viewed.php',72],['lib/classes/event','calendar_event_updated.php',77],['lib/classes/event','user_updated.php',66],['mod/lesson/classes/event','page_created.php',63],['enrol','locallib.php',1412],['lib/classes/event','blog_comment_deleted.php',38],['backup/util/ui','restore_ui_components.php',98],['lib/classes/event','course_completion_updated.php',65],['lib/classes/event','competency_plan_review_started.php',84],['lib/classes/event','course_user_report_viewed.php',75],['mod/folder/classes/event','all_files_downloaded.php',69],['mod/workshop/classes/event','assessments_reset.php',83],['mod/glossary/classes/event','comment_deleted.php',37],['mod/data/classes/event','template_updated.php',85],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',43],['lib/filebrowser','file_info_context_course.php',505],['lib/classes/event','notes_viewed.php',71],['lib/classes/event','competency_plan_viewed.php',81],['mod/data/classes/event','record_updated.php',75],['lib/classes/event','competency_plan_unapproved.php',84],['mod/lesson/classes/event','content_page_viewed.php',57],['mod/quiz/classes/event','attempt_started.php',80],['lib/classes/event','competency_user_competency_rated.php',91],['mod/forum/classes/event','post_updated.php',76],['lib/classes/event','competency_plan_review_requested.php',84],['lib/classes/event','user_graded.php',115],['mod/forum/classes/event','post_created.php',76],['mod/scorm/classes/event','cmielement_submitted.php',67],['lib/classes/event','enrol_instance_updated.php',79],['admin/tool/capability/classes/event','report_viewed.php',74],['mod/data/classes/event','field_created.php',77],['mod/folder/classes/event','folder_updated.php',66],['lib/classes/event','badge_updated.php',65],['lib/tests/fixtures','event_fixtures.php',47],['lib/tests/fixtures','event_fixtures.php',273],['mod/survey/classes/event','report_viewed.php',73],['mod/quiz/classes/event','attempt_deleted.php',72],['mod/glossary/classes/event','entry_approved.php',65],['mod/wiki/classes/event','comments_viewed.php',68],['mod/wiki/classes/event','page_viewed.php',95],['mod/forum/classes/event','readtracking_disabled.php',73],['admin/tool/langimport/classes/event','langpack_imported.php',89],['lib/classes/event','competency_plan_review_stopped.php',84],['admin/tool/langimport/classes/event','langpack_updated.php',89],['lib/tests','customcontext_test.php',33],['lib/tests','customcontext_test.php',57],['lib/tests','customcontext_test.php',81],['lib/classes/event','competency_user_competency_viewed_in_plan.php',94],['lib/classes/event','competency_user_competency_viewed_in_course.php',93],['mod/glossary/classes/event','category_created.php',65],['report/stats/classes/event','user_report_viewed.php',76],['lib/classes/event','dashboards_reset.php',68],['lib/classes/event','calendar_subscription_updated.php',76],['lib/classes/event','cohort_updated.php',67],['admin/tool/monitor/classes/event','rule_updated.php',68],['mod/lesson/classes/event','page_deleted.php',63],['lib/classes/event','mnet_access_control_created.php',66],['mod/forum/classes/event','discussion_created.php',74],['lib/classes/event','blog_entries_viewed.php',80],['mod/quiz/classes/event','attempt_preview_started.php',73],['lib/classes/event','competency_user_evidence_updated.php',82],['lib/classes/event','course_restored.php',76],['mod/data/classes/event','comment_created.php',37],['lib/classes/event','group_created.php',74],['lib/classes/event','badge_criteria_deleted.php',70],['lib/classes/event','competency_plan_completed.php',84],['mod/lesson/classes/event','user_override_updated.php',73],['lib/classes/event','role_allow_override_updated.php',65],['mod/forum/classes/event','discussion_subscription_deleted.php',75],['lib/classes/event','cohort_deleted.php',67],['lib/classes/event','badge_criteria_created.php',70],['lib/classes/event','blog_entry_created.php',94],['mod/scorm/classes/event','interactions_viewed.php',72],['mod/workshop/classes/event','submission_assessed.php',85],['lib/classes/event','badge_duplicated.php',65],['lib/classes/event','course_category_created.php',57],['lib/classes/event','cohort_created.php',67],['lib/classes/event','competency_plan_approved.php',84],['mod/choice/classes/event','answer_deleted.php',65],['lib/classes/event','competency_user_competency_review_started.php',81],['lib/classes/event','course_reset_ended.php',62],['mod/quiz/classes/event','user_override_created.php',72],['mod/forum/classes/event','course_searched.php',75],['lib/classes/event','message_contact_removed.php',57],['admin/tool/monitor/classes/event','rule_deleted.php',68],['lib/classes/event','competency_user_competency_review_stopped.php',81],['lib/classes/event','course_module_viewed.php',71]], 259],
'get_file_url': ['get_file_url', 'Given a physical path to a file, returns the URL through which it can be reached in Moodle. ', [['lib','deprecatedlib.php',510]], 1],
'delete_course_module': ['delete_course_module', '', [['lib','deprecatedlib.php',1386]], 1],
'format_weeks_get_section_dates': ['format_weeks_get_section_dates', '', [['lib','deprecatedlib.php',1303]], 1],
'css': ['css', 'Minify CSS code. ', [['lib/classes','minify.php',93],['lib','outputrequirementslib.php',873]], 721],
'check_gd_version': ['check_gd_version', 'Hack to find out the GD version by parsing phpinfo output ', [['lib','deprecatedlib.php',461]], 1],
'course_scale_used': ['course_scale_used', '', [['lib','deprecatedlib.php',4419]], 2],
'instance_by_id': ['instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','accesslib.php',5434]], 235],
'tag_get_tags_ids': ['tag_get_tags_ids', 'Get an array of tag ids associated to a record. ', [['lib','deprecatedlib.php',2671]], 1],
'coursetag_get_jscript_links': ['coursetag_get_jscript_links', 'Returns javascript to create the links in the tag block footer. ', [['lib','deprecatedlib.php',2420]], 1],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'delete_tags': ['delete_tags', 'Delete one or more tag, and all their instances if there are any left. ', [['tag/classes','tag.php',1369]], 8],
'site_scale_used': ['site_scale_used', 'This function returns the number of activities using scaleid in the entire site ', [['lib','deprecatedlib.php',4457]], 1],
'context_instance_preload_sql': ['context_instance_preload_sql', 'If you are using this methid, you should have something like this: ', [['lib','deprecatedlib.php',1935]], 2],
'tag_set_add': ['tag_set_add', 'Adds a tag to a record, without overwriting the current tags. ', [['lib','deprecatedlib.php',3488]], 6],
'tag_print_search_results': ['tag_print_search_results', 'Prints the tag search results ', [['lib','deprecatedlib.php',3148]], 1],
'events_dequeue': ['events_dequeue', 'Removes this queued handler from the events_queued_handler table ', [['lib','eventslib.php',97]], 4],
'make_url': ['make_url', 'Build a request URL. ', [['lib','boxlib.php',128],['tag/classes','tag.php',375]], 17],
'span': ['span', 'Creates a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1846]], 161],
'tag_find_records': ['tag_find_records', 'Find all records tagged with a tag of a given type (\'post\', \'user\', etc.) ', [['lib','deprecatedlib.php',2768]], 1],
'kill_user_sessions': ['kill_user_sessions', 'Terminate all sessions of given user unconditionally. ', [['lib/classes/session','manager.php',633]], 13],
'delete_move': ['delete_move', 'Deletes a category and moves all content (children, courses and questions) to the new parent ', [['lib','coursecatlib.php',1804]], 6],
'tag_description_set': ['tag_description_set', 'Set the description of a tag ', [['lib','deprecatedlib.php',2583]], 1],
'tag_cron': ['tag_cron', 'Tasks that should be performed at cron time ', [['lib','deprecatedlib.php',3706]], 1],
'toggle_visibility': ['toggle_visibility', 'Toggles the visibility of an event ', [['calendar','lib.php',2598]], 6],
'heading': ['heading', 'Outputs a heading ', [['lib','outputrenderers.php',3072],['lib','outputrenderers.php',4364],['lib','outputrenderers.php',4552],['grade/report/singleview/classes/local/screen','screen.php',197],['grade/report/singleview/classes/local/screen','user.php',264],['grade/report/singleview/classes/local/screen','grade.php',283]], 796],
'to_object': ['to_object', 'Converts to object ', [['tag/classes','tag.php',109]], 9],
'get_tag_cloud': ['get_tag_cloud', 'Returns the list of tags with number of items tagged ', [['tag/classes','collection.php',342]], 4],
'update_moved': ['update_moved', 'Update context info after moving context in the tree structure. ', [['lib','accesslib.php',5470]], 6],
'get_role_context_caps': ['get_role_context_caps', '', [['lib','deprecatedlib.php',1923]], 2],
'tag_print_tagged_users_table': ['tag_print_tagged_users_table', 'Prints a table of the users tagged with the tag passed as argument ', [['lib','deprecatedlib.php',3226]], 1],
'show_event': ['show_event', '', [['lib','deprecatedlib.php',1198]], 2],
'course_create_sections_if_missing': ['course_create_sections_if_missing', 'Creates missing course section(s) and rebuilds course cache ', [['course','lib.php',1440]], 16],
'make_editing_buttons': ['make_editing_buttons', 'Deprecated. Please use: $courserenderer = $PAGE->get_renderer(\'core\', \'course\'); $actions = course_get_cm_edit_actions($mod, $indent, $section); return \' \' . $courserenderer->course_section_cm_edit_actions($actions); ', [['lib','deprecatedlib.php',1339]], 3],
'https_required': ['https_required', 'This function indicates that current page requires the https when $CFG->loginhttps enabled. ', [['lib','pagelib.php',1403]], 15],
'set_user': ['set_user', 'Set current user. ', [['lib/classes/session','manager.php',706]], 28],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" names. ', [['lib','deprecatedlib.php',211],['lib/classes','component.php',1016]], 89],
'add_event': ['add_event', '', [['lib','deprecatedlib.php',1168],['lib/phpunit/classes','event_sink.php',48]], 3],
'completion_cron_completions': ['completion_cron_completions', 'Aggregate each user\'s criteria completions ', [['completion','cron.php',210]], 2],
'course_category_show': ['course_category_show', 'This function is deprecated. Please use coursecat::get($category->id)->show(); ', [['lib','deprecatedlib.php',1455]], 2],
'clam_change_log': ['clam_change_log', 'Some of the modules allow moving attachments (glossary), in which case we need to hunt down an original log and change the path. ', [['lib','deprecatedlib.php',296]], 1],
'session_is_legacy': ['session_is_legacy', 'Returns true if legacy session used. ', [['lib','deprecatedlib.php',361]], 1],
'mark_context_dirty': ['mark_context_dirty', '', [['lib','deprecatedlib.php',1879]], 2],
'tag_get': ['tag_get', 'Simple function to just return a single tag object when you know the name or something ', [['lib','deprecatedlib.php',3536]], 5],
'generate_email_supportuser': ['generate_email_supportuser', '', [['lib','deprecatedlib.php',2038]], 1],
'events_trigger': ['events_trigger', 'Function to call all event handlers when triggering an event ', [['lib','deprecatedlib.php',60]], 3],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'session_get_instance': ['session_get_instance', 'Factory method that was returning moodle_session object. ', [['lib','deprecatedlib.php',352]], 2],
'format_text': ['format_text', 'Formats a text string coming from the search engine. ', [['search/classes','document.php',606],['lib/classes','grading_external.php',182],['search/engine/solr/classes','document.php',129],['lib','weblib.php',1158],['lib','tablelib.php',860],['lib','tablelib.php',1667],['question/type','questionbase.php',345]], 322],
'print_context_name': ['print_context_name', '', [['lib','deprecatedlib.php',1871]], 2],
'detect_munged_arguments': ['detect_munged_arguments', '', [['lib','deprecatedlib.php',596]], 2],
'delete_content': ['delete_content', 'Delete all data linked to content, do not delete the context record itself ', [['lib','accesslib.php',5543],['mod/data','lib.php',402]], 7],
'get_courses': ['get_courses', 'Returns list of courses, for whole site, or category ', [['lib','datalib.php',592],['course','externallib.php',394],['badges/criteria','award_criteria_courseset.php',76],['lib','coursecatlib.php',1436]], 55],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',1977]], 289],
'events_dispatch': ['events_dispatch', 'trigger a single event with a specified handler ', [['lib','deprecatedlib.php',3933]], 2],
'pix_url': ['pix_url', 'Return the moodle_url for an image. ', [['lib','outputrenderers.php',237],['lib','outputlib.php',1394]], 367],
'js': ['js', 'Minify JS code. ', [['lib/classes','minify.php',31],['lib','outputrequirementslib.php',407],['grade/report/singleview/classes/local/screen','screen.php',245]], 68],
'get_formatted_name': ['get_formatted_name', 'Returns the name to display on course/overview page, formatted and passed through filters ', [['lib','modinfolib.php',1279],['lib','coursecatlib.php',2149],['lib','coursecatlib.php',3005]], 52],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'print_overview': ['print_overview', '', [['lib','deprecatedlib.php',1371]], 1],
'print_container_end': ['print_container_end', '', [['lib','deprecatedlib.php',907]], 2],
'tag_print_description_box': ['tag_print_description_box', 'Prints a box with the description of a tag and its related tags ', [['lib','deprecatedlib.php',3003]], 2],
'can_use_html_editor': ['can_use_html_editor', '', [['lib','deprecatedlib.php',2052]], 0],
'get_course_mods': ['get_course_mods', 'Just gets a raw list of all modules in a course ', [['lib','datalib.php',1217]], 7],
'get_strings': ['get_strings', 'Converts an array of strings to their localized value. ', [['lib','moodlelib.php',6862],['lib/external','externallib.php',156]], 56],
'container': ['container', 'Outputs a container. ', [['lib','outputrenderers.php',3126]], 195],
'get_plugin_list_with_class': ['get_plugin_list_with_class', 'Get a list of all the plugins of a given type that define a certain class in a certain file. The plugin component names and class names are returned. ', [['lib','deprecatedlib.php',169],['lib/classes','component.php',811]], 10],
'calculate_user_dst_table': ['calculate_user_dst_table', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',2196]], 2],
'get_context_instance_by_id': ['get_context_instance_by_id', '', [['lib','deprecatedlib.php',1752]], 2],
'error': ['error', '', [['lib','deprecatedlib.php',863],['lib/minify/lib','FirePHP.php',416],['question','format.php',218],['lib/simplepie/library','SimplePie.php',1554],['lib/adodb','adodb-active-record.inc.php',546],['auth/cas/CAS','CAS.php',535],['lib/tcpdf','tcpdf.php',2915],['lib/lessphp/Tree','DefaultFunc.php',27],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',166],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',10815],['admin/tool/uploadcourse/classes','course.php',238],['lib/yuilib/3.17.2/cookie','cookie.js',34],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',124],['lib/htmlpurifier/HTMLPurifier','VarParser.php',143],['mod/lesson','format.php',364],['lib/tcpdf','tcpdf_parser.php',797],['lib/adodb','adodb-active-recordx.inc.php',575],['lib/yuilib/3.17.2/cookie','cookie-debug.js',34],['lib/tcpdf/include','tcpdf_filters.php',467],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',61],['lib/lessphp','Parser.php',2615],['lib/horde/framework/Horde/Imap/Client','DateTime.php',69],['lib/simplepie/library/SimplePie','Misc.php',154],['lib/google/src/Google/Logger','Abstract.php',200],['lib/classes','notification.php',160],['lib/mustache/src/Mustache','Logger.php',72],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',224]], 936],
'print_remote_course': ['print_remote_course', 'This function is deprecated, it is replaced with protected function {@link core_course_renderer::frontpage_remote_course()} It is only used from function {@link core_course_renderer::frontpage_my_courses()} ', [['lib','deprecatedlib.php',1589]], 2],
'pix_icon': ['pix_icon', 'Return HTML for a pix_icon. ', [['lib','outputrenderers.php',2161]], 504],
'cohort_get_available_cohorts': ['cohort_get_available_cohorts', 'Returns the list of cohorts visible to the current user in the given course. ', [['cohort','lib.php',215]], 33],
'tag_unset_flag': ['tag_unset_flag', 'Remove the inappropriate flag on a tag. ', [['lib','deprecatedlib.php',2917]], 4],
'get_all_subcategories': ['get_all_subcategories', 'This function is deprecated. ', [['lib','deprecatedlib.php',1492]], 2],
'calendar_normalize_tz': ['calendar_normalize_tz', 'Convert region timezone to php supported timezone ', [['lib','deprecatedlib.php',2153]], 2],
'help_icon_scale': ['help_icon_scale', 'Returns HTML to display a scale help icon. ', [['lib','outputrenderers.php',2405]], 3],
'useredit_shared_definition_preferences': ['useredit_shared_definition_preferences', 'Adds user preferences elements to user edit form. ', [['lib','deprecatedlib.php',2143]], 2],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'type': ['type', 'Fetches all nodes of a given type from this collection ', [['lib','navigationlib.php',903],['lib/phpexcel/PHPExcel/Calculation','Functions.php',573]], 132],
'legacy_add_to_log': ['legacy_add_to_log', 'Legacy add_to_log() code. ', [['admin/tool/log/store/legacy/classes/log','store.php',183],['admin/tool/log/classes/log','manager.php',203]], 4],
'get_context_url': ['get_context_url', 'Gets the url to the context. ', [['search/classes','document.php',475],['lib','deprecatedlib.php',1899],['mod/label/classes/search','activity.php',53],['search/classes','base_activity.php',156],['mod/wiki/classes/search','collaborative_page.php',168],['course/classes/search','mycourse.php',118],['user/classes/search','user.php',114],['mod/book/classes/search','chapter.php',151],['search/tests/fixtures','mock_search_area.php',122],['mod/glossary/classes/search','entry.php',166],['mod/forum/classes/search','post.php',203]], 8],
'cleanup': ['cleanup', 'Clean up the tag tables, making sure all tagged object still exists. ', [['lib/classes/task','tag_cron_task.php',147],['backup/util/ui','restore_ui.class.php',230],['lib','filelib.php',3673],['cache/classes','dummystore.php',230],['lib','csvlib.class.php',277],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table','editor_plugin_src.js',189],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table','editor_plugin_src.js',786],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',76],['mod/assign/feedback/editpdf/fpdi','fpdi.php',681],['portfolio/mahara','lib.php',363],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',106],['mod/data','lib.php',2539],['mod/data','lib.php',2563],['lib/spout/src/Spout/Reader/XLSX/Helper','SharedStringsHelper.php',237],['cache/classes','store.php',270],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',70],['lib/portfolio','plugin.php',709],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',115]], 55],
'session_touch': ['session_touch', 'Mark session as accessed, prevents timeouts. ', [['lib','deprecatedlib.php',379]], 2],
'zip_files': ['zip_files', 'Zip an array of files/dirs to a destination zip file Both parameters must be FULL paths to the files/dirs ', [['lib','deprecatedlib.php',671]], 1],
'get_parent_contexts': ['get_parent_contexts', '', [['lib','deprecatedlib.php',1773],['lib','accesslib.php',5704]], 11],
'css_minify_css': ['css_minify_css', 'Minify CSS files. ', [['lib','deprecatedlib.php',450]], 3],
'get_columns': ['get_columns', 'Returns detailed information about columns in table. This information is cached internally. ', [['lib/dml','oci_native_moodle_database.php',464],['lib','csvlib.class.php',190],['lib/dml','sqlite3_pdo_moodle_database.php',195],['lib/dml','pgsql_native_moodle_database.php',353],['lib/dml','mssql_native_moodle_database.php',432],['lib/dml','mysqli_native_moodle_database.php',572],['lib/dml','sqlsrv_native_moodle_database.php',503],['lib/dml/tests','dml_test.php',5538]], 107],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'editors_get_preferred_editor': ['editors_get_preferred_editor', 'Returns users preferred editor for given format ', [['lib','editorlib.php',29]], 10],
'create_instances': ['create_instances', '', [['backup/cc','cc2moodle.php',609],['lib','accesslib.php',6006]], 9],
'use_editor': ['use_editor', '', [['lib/editor/textarea','lib.php',50],['lib/editor/atto','lib.php',69],['lib/editor/tinymce','lib.php',72]], 13],
'external_function_info': ['external_function_info', 'Returns detailed function information ', [['lib','deprecatedlib.php',4485],['lib','externallib.php',60]], 15],
'tag_get_correlated': ['tag_get_correlated', 'Returns the correlated tags of a tag, retrieved from the tag_correlation table. Make sure cron runs, otherwise the table will be empty and this function won\'t return anything. ', [['lib','deprecatedlib.php',3783]], 4],
'print_course': ['print_course', '', [['lib','deprecatedlib.php',1675]], 2],
'print_section_add_menus': ['print_section_add_menus', 'Deprecated. Please use: $courserenderer = $PAGE->get_renderer(\'core\', \'course\'); $output = $courserenderer->course_section_add_cm_control($course, $section, $sectionreturn, array(\'inblock\' => $vertical)); echo $output; ', [['lib','deprecatedlib.php',1324]], 3],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2467],['lib','outputrenderers.php',2454],['lib','outputrenderers.php',5000]], 138],
'get_list_of_timezones': ['get_list_of_timezones', 'Returns a list of timezones in the current language. ', [['lib','deprecatedlib.php',2180],['lib/classes','date.php',48]], 20],
'defined': ['defined', '', [], 4731],
'is_callable': ['is_callable', '', [], 54],
'create_function': ['create_function', '', [], 43],
'is_array': ['is_array', '', [], 1608],
'debug_backtrace': ['debug_backtrace', '', [], 30],
'array_slice': ['array_slice', '', [], 165],
'strpos': ['strpos', '', [], 1604],
'method_exists': ['method_exists', '', [], 265],
'strcmp': ['strcmp', '', [], 82],
'implode': ['implode', '', [], 1281],
'fgetcsv': ['fgetcsv', '', [], 13],
'array_unshift': ['array_unshift', '', [], 115],
'trim': ['trim', '', [], 1948],
'array_values': ['array_values', '', [], 342],
'time': ['time', '', [], 1959],
'is_numeric': ['is_numeric', '', [], 672],
'define': ['define', '', [], 2373],
'count': ['count', '', [], 4095],
'file_exists': ['file_exists', '', [], 867],
'rtrim': ['rtrim', '', [], 165],
'call_user_func': ['call_user_func', '', [], 113],
'base64_encode': ['base64_encode', '', [], 134],
'is_null': ['is_null', '', [], 2003],
'array_search': ['array_search', '', [], 170],
'rawurlencode': ['rawurlencode', '', [], 76],
'array_intersect': ['array_intersect', '', [], 50],
'htmlspecialchars': ['htmlspecialchars', '', [], 215],
'ceil': ['ceil', '', [], 236],
'is_readable': ['is_readable', '', [], 196],
'function_exists': ['function_exists', '', [], 419],
'array_map': ['array_map', '', [], 169],
'fwrite': ['fwrite', '', [], 227],
'fclose': ['fclose', '', [], 275],
'str_replace': ['str_replace', '', [], 1648],
'dirname': ['dirname', '', [], 335],
'array_keys': ['array_keys', '', [], 1256],
'pathinfo': ['pathinfo', '', [], 68],
'substr': ['substr', '', [], 2823],
'array_shift': ['array_shift', '', [], 700],
'base64_decode': ['base64_decode', '', [], 92],
'unserialize': ['unserialize', '', [], 192],
'link': ['link', '', [], 695],
'serialize': ['serialize', '', [], 282],
'get_object_vars': ['get_object_vars', '', [], 48],
'in_array': ['in_array', '', [], 1234],
'is_object': ['is_object', '', [], 544],
'is_dir': ['is_dir', '', [], 211],
'strtolower': ['strtolower', '', [], 817],
'max': ['max', '', [], 1266],
'reset': ['reset', '', [], 1213],
'array_key_exists': ['array_key_exists', '', [], 1445],
'ksort': ['ksort', '', [], 153],
'usort': ['usort', '', [], 37],
'chmod': ['chmod', '', [], 50],
'is_string': ['is_string', '', [], 536],
'explode': ['explode', '', [], 1572]};
CLASS_DATA={
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 511],
'core_renderer': ['core_renderer', 'The standard implementation of the core_renderer interface. ', [['lib','outputrenderers.php',363]], 20],
'tag_cron_task': ['tag_cron_task', 'Simple task to run the tag cron. ', [['lib/classes/task','tag_cron_task.php',28]], 5],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'core_useragent': ['core_useragent', 'The user agent class. ', [['lib/classes','useragent.php',25]], 159],
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 457],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'core_minify': ['core_minify', 'Collection of JS and CSS compression methods. ', [['lib/classes','minify.php',27]], 19],
'core_tag_collection': ['core_tag_collection', 'Class to manage tag collections ', [['tag/classes','collection.php',27]], 79],
'coursecat': ['coursecat', 'Class to store, cache, render and manage course category ', [['lib','coursecatlib.php',28]], 276],
'manager': ['manager', 'Search subsystem manager. ', [['search/classes','manager.php',31],['user/classes/output/myprofile','manager.php',28],['lib/classes/antivirus','manager.php',29],['lib/classes/event','manager.php',30],['lib/classes/task','manager.php',28],['admin/tool/messageinbound/classes','manager.php',29],['lib/classes/message/inbound','manager.php',29],['admin/tool/log/classes/log','manager.php',29],['lib/classes/log','manager.php',29],['lib/classes/session','manager.php',29],['lib/classes/message','manager.php',31]], 585],
'core_date': ['core_date', 'Core date and time related code. ', [['lib/classes','date.php',26]], 192],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'context_helper': ['context_helper', 'Context maintenance and helper methods. ', [['lib','accesslib.php',5875]], 203],
'info_module': ['info_module', 'Class handles conditional availability information for an activity. ', [['availability/classes','info_module.php',29]], 39],
'calendar_event': ['calendar_event', 'Manage calendar events ', [['calendar','lib.php',1951]], 75],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 566],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'cm_info': ['cm_info', 'Data about a single module on a course. This contains most of the fields in the course_modules table, plus additional data when required. ', [['lib','modinfolib.php',623]], 24],
'tabtree': ['tabtree', 'Stores tabs list ', [['lib','outputcomponents.php',3181]], 2],
'core_tag_tag': ['core_tag_tag', 'Represents one tag and also contains lots of useful tag-related methods as static functions. ', [['tag/classes','tag.php',27]], 352],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'core_tag_area': ['core_tag_area', 'Class to manage tag areas ', [['tag/classes','area.php',27]], 48]};
CONST_DATA={
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'CONTEXT_COURSE': ['CONTEXT_COURSE', '', [['lib','accesslib.php',148]], 441],
'TAG_RELATED_CORRELATED': ['TAG_RELATED_CORRELATED', '', [['lib','deprecatedlib.php',3456]], 4],
'TAG_RETURN_ARRAY': ['TAG_RETURN_ARRAY', '', [['lib','deprecatedlib.php',3404]], 1],
'TAG_RETURN_HTML': ['TAG_RETURN_HTML', '', [['lib','deprecatedlib.php',3424]], 3],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 315],
'TAG_RETURN_OBJECT': ['TAG_RETURN_OBJECT', '', [['lib','deprecatedlib.php',3410]], 4],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215],
'TAG_CASE_LOWER': ['TAG_CASE_LOWER', '', [['lib','deprecatedlib.php',3431]], 4],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'TAG_RELATED_MANUAL': ['TAG_RELATED_MANUAL', '', [['lib','deprecatedlib.php',3450]], 4],
'SITEID': ['SITEID', '', [['admin/cli','install.php',219],['lib/db','install.php',87],['','install.php',242],['lib','setup.php',755]], 608],
'TAG_RETURN_TEXT': ['TAG_RETURN_TEXT', '', [['lib','deprecatedlib.php',3417]], 4],
'PARAM_FILE': ['PARAM_FILE', '', [['lib','moodlelib.php',133]], 121],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'PARAM_TAG': ['PARAM_TAG', '', [['lib','moodlelib.php',218]], 28],
'TAG_CASE_ORIGINAL': ['TAG_CASE_ORIGINAL', '', [['lib','deprecatedlib.php',3437]], 2],
'TAG_RELATED_ALL': ['TAG_RELATED_ALL', '', [['lib','deprecatedlib.php',3444]], 2],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 736]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
