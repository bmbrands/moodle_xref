<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/deprecatedlib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='deprecatedlib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="deprecatedlib.php.html">deprecatedlib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="deprecatedlib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="deprecatedlib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * deprecatedlib.php - Old functions retained only for backward compatibility</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * Old functions retained only for backward compatibility.  New code should not</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * use any of these functions.</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @package    core</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @subpackage deprecated</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @deprecated</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> */</span>
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * Convert region timezone to php supported timezone</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @param string $tz value from ical file</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @return string $tz php supported timezone</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  function <a class="function" onClick="logFunction('calendar_normalize_tz')" href="../_functions/calendar_normalize_tz.html" onMouseOver="funcPopup(event,'calendar_normalize_tz')">calendar_normalize_tz</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>) {
<a name="l41"><span class="linenum">  41</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('calendar_normalize_tz')" href="../_functions/calendar_normalize_tz.html" onMouseOver="funcPopup(event,'calendar_normalize_tz')">calendar_normalize_tz</a>() is deprecated, use <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('normalise_timezone')" href="../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l42"><span class="linenum">  42</span></a>      return <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('normalise_timezone')" href="../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>);
<a name="l43"><span class="linenum">  43</span></a>  }
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">/**</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * Returns a float which represents the user's timezone difference from GMT in hours</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * Checks various settings and picks the most dominant of those which have a value</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * @param float|int|string $tz timezone user timezone</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * @return float</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> */</span>
<a name="l52"><span class="linenum">  52</span></a>  function <a class="function" onClick="logFunction('get_user_timezone_offset')" href="../_functions/get_user_timezone_offset.html" onMouseOver="funcPopup(event,'get_user_timezone_offset')">get_user_timezone_offset</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a> = 99) {
<a name="l53"><span class="linenum">  53</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_user_timezone_offset')" href="../_functions/get_user_timezone_offset.html" onMouseOver="funcPopup(event,'get_user_timezone_offset')">get_user_timezone_offset</a>() is deprecated, use PHP DateTimeZone instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l54"><span class="linenum">  54</span></a>      <a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a> = <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_user_timezone')" href="../_functions/get_user_timezone.html" onMouseOver="funcPopup(event,'get_user_timezone')">get_user_timezone</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>);
<a name="l55"><span class="linenum">  55</span></a>      <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('date')" href="../_variables/date.html">$date</a> = new DateTime('now', new DateTimeZone(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>));
<a name="l56"><span class="linenum">  56</span></a>      return (<a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('date')" href="../_variables/date.html">$date</a>-&gt;<a class="function" onClick="logFunction('getOffset')" href="../_functions/getoffset.html" onMouseOver="funcPopup(event,'getoffset')">getOffset</a>() - <a class="function" onClick="logFunction('dst_offset_on')" href="../_functions/dst_offset_on.html" onMouseOver="funcPopup(event,'dst_offset_on')">dst_offset_on</a>(<a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>(), <a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>)) / (3600.0);
<a name="l57"><span class="linenum">  57</span></a>  }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * Returns an int which represents the systems's timezone difference from GMT in seconds</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * @param float|int|string $tz timezone for which offset is required.</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> *        {@link http://docs.moodle.org/dev/Time_API#Timezone}</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * @return int|bool if found, false is timezone 99 or error</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> */</span>
<a name="l66"><span class="linenum">  66</span></a>  function <a class="function" onClick="logFunction('get_timezone_offset')" href="../_functions/get_timezone_offset.html" onMouseOver="funcPopup(event,'get_timezone_offset')">get_timezone_offset</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>) {
<a name="l67"><span class="linenum">  67</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_timezone_offset')" href="../_functions/get_timezone_offset.html" onMouseOver="funcPopup(event,'get_timezone_offset')">get_timezone_offset</a>() is deprecated, use PHP DateTimeZone instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l68"><span class="linenum">  68</span></a>      <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('date')" href="../_variables/date.html">$date</a> = new DateTime('now', new DateTimeZone(<a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('normalise_timezone')" href="../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>)));
<a name="l69"><span class="linenum">  69</span></a>      return <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('date')" href="../_variables/date.html">$date</a>-&gt;<a class="function" onClick="logFunction('getOffset')" href="../_functions/getoffset.html" onMouseOver="funcPopup(event,'getoffset')">getOffset</a>() - <a class="function" onClick="logFunction('dst_offset_on')" href="../_functions/dst_offset_on.html" onMouseOver="funcPopup(event,'dst_offset_on')">dst_offset_on</a>(<a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>(), <a class="var it2538" onMouseOver="hilite(2538)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../_variables/tz.html">$tz</a>);
<a name="l70"><span class="linenum">  70</span></a>  }
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">/**</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment"> * Returns a list of timezones in the current language.</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment"> * @return array</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment"> */</span>
<a name="l77"><span class="linenum">  77</span></a>  function <a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() {
<a name="l78"><span class="linenum">  78</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() is deprecated, use <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l79"><span class="linenum">  79</span></a>      return <a class="class" onClick="logClass('core_date')" href="../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('get_list_of_timezones')" href="../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>();
<a name="l80"><span class="linenum">  80</span></a>  }
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">/**</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment"> * @param array $timezones</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment"> */</span>
<a name="l87"><span class="linenum">  87</span></a>  function <a class="function" onClick="logFunction('update_timezone_records')" href="../_functions/update_timezone_records.html" onMouseOver="funcPopup(event,'update_timezone_records')">update_timezone_records</a>(<a class="var it11321" onMouseOver="hilite(11321)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../_variables/timezones.html">$timezones</a>) {
<a name="l88"><span class="linenum">  88</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('update_timezone_records')" href="../_functions/update_timezone_records.html" onMouseOver="funcPopup(event,'update_timezone_records')">update_timezone_records</a>() is not available any more, use standard PHP date/time code', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l89"><span class="linenum">  89</span></a>  }
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">/**</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * @param int $fromyear</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> * @param int $toyear</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment"> * @param mixed $strtimezone</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment"> * @return bool</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment"> */</span>
<a name="l99"><span class="linenum">  99</span></a>  function <a class="function" onClick="logFunction('calculate_user_dst_table')" href="../_functions/calculate_user_dst_table.html" onMouseOver="funcPopup(event,'calculate_user_dst_table')">calculate_user_dst_table</a>(<a class="var it24693" onMouseOver="hilite(24693)" onMouseOut="lolite()" onClick="logVariable('fromyear')" href="../_variables/fromyear.html">$fromyear</a> = null, <a class="var it24699" onMouseOver="hilite(24699)" onMouseOut="lolite()" onClick="logVariable('toyear')" href="../_variables/toyear.html">$toyear</a> = null, <a class="var it12931" onMouseOver="hilite(12931)" onMouseOut="lolite()" onClick="logVariable('strtimezone')" href="../_variables/strtimezone.html">$strtimezone</a> = null) {
<a name="l100"><span class="linenum"> 100</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('calculate_user_dst_table')" href="../_functions/calculate_user_dst_table.html" onMouseOver="funcPopup(event,'calculate_user_dst_table')">calculate_user_dst_table</a>() is not available any more, use standard PHP date/time code', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l101"><span class="linenum"> 101</span></a>      return false;
<a name="l102"><span class="linenum"> 102</span></a>  }
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">/**</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment"> * @param int|string $year</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment"> * @param mixed $timezone</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment"> * @return null</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment"> */</span>
<a name="l111"><span class="linenum"> 111</span></a>  function <a class="function" onClick="logFunction('dst_changes_for_year')" href="../_functions/dst_changes_for_year.html" onMouseOver="funcPopup(event,'dst_changes_for_year')">dst_changes_for_year</a>(<a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('year')" href="../_variables/year.html">$year</a>, <a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('timezone')" href="../_variables/timezone.html">$timezone</a>) {
<a name="l112"><span class="linenum"> 112</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('dst_changes_for_year')" href="../_functions/dst_changes_for_year.html" onMouseOver="funcPopup(event,'dst_changes_for_year')">dst_changes_for_year</a>() is not available any more, use standard PHP date/time code', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l113"><span class="linenum"> 113</span></a>      return null;
<a name="l114"><span class="linenum"> 114</span></a>  }
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">/**</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment"> * Previous internal API, it was not supposed to be used anywhere.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment"> * @deprecated since Moodle 2.9</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment"> * @param string $timezonename</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> * @return array</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment"> */</span>
<a name="l122"><span class="linenum"> 122</span></a>  function <a class="function" onClick="logFunction('get_timezone_record')" href="../_functions/get_timezone_record.html" onMouseOver="funcPopup(event,'get_timezone_record')">get_timezone_record</a>(<a class="var it25204" onMouseOver="hilite(25204)" onMouseOut="lolite()" onClick="logVariable('timezonename')" href="../_variables/timezonename.html">$timezonename</a>) {
<a name="l123"><span class="linenum"> 123</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_timezone_record')" href="../_functions/get_timezone_record.html" onMouseOver="funcPopup(event,'get_timezone_record')">get_timezone_record</a>() is not available any more, use standard PHP date/time code', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l124"><span class="linenum"> 124</span></a>      return array();
<a name="l125"><span class="linenum"> 125</span></a>  }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">/**</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment"> * Add an entry to the legacy log table.</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> *</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * @deprecated since 2.7 use new events instead</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> *</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> * @param    int     $courseid  The course id</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * @param    string  $module  The module name  e.g. forum, journal, resource, course, user etc</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * @param    string  $action  'view', 'update', 'add' or 'delete', possibly followed by another word to clarify.</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * @param    string  $url     The file and parameters used to see the results of the action</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @param    string  $info    Additional description information</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> * @param    int     $cm      The course_module-&gt;id if there is one</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment"> * @param    int|stdClass $user If log regards $user other than $USER</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment"> * @return void</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> */</span>
<a name="l141"><span class="linenum"> 141</span></a>  function <a class="function" onClick="logFunction('add_to_log')" href="../_functions/add_to_log.html" onMouseOver="funcPopup(event,'add_to_log')">add_to_log</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>='', <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>='', <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=0, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>=0) {
<a name="l142"><span class="linenum"> 142</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('add_to_log')" href="../_functions/add_to_log.html" onMouseOver="funcPopup(event,'add_to_log')">add_to_log</a>() has been deprecated, please rewrite your code to the new events API', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">    // This is a nasty hack that allows us to put all the legacy stuff into legacy storage,</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">    // this way we may move all the legacy settings there too.</span>
<a name="l146"><span class="linenum"> 146</span></a>      <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a> = <a class="function" onClick="logFunction('get_log_manager')" href="../_functions/get_log_manager.html" onMouseOver="funcPopup(event,'get_log_manager')">get_log_manager</a>();
<a name="l147"><span class="linenum"> 147</span></a>      if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>(<a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, 'legacy_add_to_log')) {
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('legacy_add_to_log')" href="../_functions/legacy_add_to_log.html" onMouseOver="funcPopup(event,'legacy_add_to_log')">legacy_add_to_log</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l149"><span class="linenum"> 149</span></a>      }
<a name="l150"><span class="linenum"> 150</span></a>  }
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">/**</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment"> * Adds a file upload to the log table so that clam can resolve the filename to the user later if necessary</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> *</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment"> *</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment"> */</span>
<a name="l158"><span class="linenum"> 158</span></a>  function <a class="function" onClick="logFunction('clam_log_upload')" href="../_functions/clam_log_upload.html" onMouseOver="funcPopup(event,'clam_log_upload')">clam_log_upload</a>(<a class="var it24119" onMouseOver="hilite(24119)" onMouseOut="lolite()" onClick="logVariable('newfilepath')" href="../_variables/newfilepath.html">$newfilepath</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>=null, <a class="var it9324" onMouseOver="hilite(9324)" onMouseOut="lolite()" onClick="logVariable('nourl')" href="../_variables/nourl.html">$nourl</a>=false) {
<a name="l159"><span class="linenum"> 159</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_log_upload')" href="../_functions/clam_log_upload.html" onMouseOver="funcPopup(event,'clam_log_upload')">clam_log_upload</a>() can not be used any more, please use file picker instead');
<a name="l160"><span class="linenum"> 160</span></a>  }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">/**</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> * This function logs to error_log and to the log table that an infected file has been found and what's happened to it.</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> *</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment"> *</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment"> */</span>
<a name="l168"><span class="linenum"> 168</span></a>  function <a class="function" onClick="logFunction('clam_log_infected')" href="../_functions/clam_log_infected.html" onMouseOver="funcPopup(event,'clam_log_infected')">clam_log_infected</a>(<a class="var it25205" onMouseOver="hilite(25205)" onMouseOut="lolite()" onClick="logVariable('oldfilepath')" href="../_variables/oldfilepath.html">$oldfilepath</a>='', <a class="var it24119" onMouseOver="hilite(24119)" onMouseOut="lolite()" onClick="logVariable('newfilepath')" href="../_variables/newfilepath.html">$newfilepath</a>='', <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0) {
<a name="l169"><span class="linenum"> 169</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_log_infected')" href="../_functions/clam_log_infected.html" onMouseOver="funcPopup(event,'clam_log_infected')">clam_log_infected</a>() can not be used any more, please use file picker instead');
<a name="l170"><span class="linenum"> 170</span></a>  }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">/**</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> * Some of the modules allow moving attachments (glossary), in which case we need to hunt down an original log and change the path.</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> *</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> * @deprecated since 2.7 - use new file picker instead</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment"> *</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment"> */</span>
<a name="l178"><span class="linenum"> 178</span></a>  function <a class="function" onClick="logFunction('clam_change_log')" href="../_functions/clam_change_log.html" onMouseOver="funcPopup(event,'clam_change_log')">clam_change_log</a>(<a class="var it25206" onMouseOver="hilite(25206)" onMouseOut="lolite()" onClick="logVariable('oldpath')" href="../_variables/oldpath.html">$oldpath</a>, <a class="var it16794" onMouseOver="hilite(16794)" onMouseOut="lolite()" onClick="logVariable('newpath')" href="../_variables/newpath.html">$newpath</a>, <a class="var it1815" onMouseOver="hilite(1815)" onMouseOut="lolite()" onClick="logVariable('update')" href="../_variables/update.html">$update</a>=true) {
<a name="l179"><span class="linenum"> 179</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_change_log')" href="../_functions/clam_change_log.html" onMouseOver="funcPopup(event,'clam_change_log')">clam_change_log</a>() can not be used any more, please use file picker instead');
<a name="l180"><span class="linenum"> 180</span></a>  }
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">/**</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment"> * Replaces the given file with a string.</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment"> *</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment"> * @deprecated since 2.7 - infected files are now deleted in file picker</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> *</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> */</span>
<a name="l188"><span class="linenum"> 188</span></a>  function <a class="function" onClick="logFunction('clam_replace_infected_file')" href="../_functions/clam_replace_infected_file.html" onMouseOver="funcPopup(event,'clam_replace_infected_file')">clam_replace_infected_file</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l189"><span class="linenum"> 189</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_replace_infected_file')" href="../_functions/clam_replace_infected_file.html" onMouseOver="funcPopup(event,'clam_replace_infected_file')">clam_replace_infected_file</a>() can not be used any more, please use file picker instead');
<a name="l190"><span class="linenum"> 190</span></a>  }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">/**</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment"> * Deals with an infected file - either moves it to a quarantinedir</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment"> * (specified in CFG-&gt;quarantinedir) or deletes it.</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment"> *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment"> * If moving it fails, it deletes it.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment"> *</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment"> * @deprecated since 2.7</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment"> */</span>
<a name="l200"><span class="linenum"> 200</span></a>  function <a class="function" onClick="logFunction('clam_handle_infected_file')" href="../_functions/clam_handle_infected_file.html" onMouseOver="funcPopup(event,'clam_handle_infected_file')">clam_handle_infected_file</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it25207" onMouseOver="hilite(25207)" onMouseOut="lolite()" onClick="logVariable('basiconly')" href="../_variables/basiconly.html">$basiconly</a>=false) {
<a name="l201"><span class="linenum"> 201</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_handle_infected_file')" href="../_functions/clam_handle_infected_file.html" onMouseOver="funcPopup(event,'clam_handle_infected_file')">clam_handle_infected_file</a>() can not be used any more, please use file picker instead');
<a name="l202"><span class="linenum"> 202</span></a>  }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">/**</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment"> * If $CFG-&gt;runclamonupload is set, we scan a given file. (called from {@link preprocess_files()})</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment"> *</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment"> * @deprecated since 2.7</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment"> */</span>
<a name="l209"><span class="linenum"> 209</span></a>  function <a class="function" onClick="logFunction('clam_scan_moodle_file')" href="../_functions/clam_scan_moodle_file.html" onMouseOver="funcPopup(event,'clam_scan_moodle_file')">clam_scan_moodle_file</a>(&amp;<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l210"><span class="linenum"> 210</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('clam_scan_moodle_file')" href="../_functions/clam_scan_moodle_file.html" onMouseOver="funcPopup(event,'clam_scan_moodle_file')">clam_scan_moodle_file</a>() can not be used any more, please use file picker instead');
<a name="l211"><span class="linenum"> 211</span></a>  }
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">/**</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> * Checks whether the password compatibility library will work with the current</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment"> * version of PHP. This cannot be done using PHP version numbers since the fix</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> * has been backported to earlier versions in some distributions.</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> *</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment"> * See https://github.com/ircmaxell/password_compat/issues/10 for more details.</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment"> *</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment"> * @deprecated since 2.7 PHP 5.4.x should be always compatible.</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment"> *</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment"> * @return bool always returns false</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment"> */</span>
<a name="l225"><span class="linenum"> 225</span></a>  function <a class="function" onClick="logFunction('password_compat_not_supported')" href="../_functions/password_compat_not_supported.html" onMouseOver="funcPopup(event,'password_compat_not_supported')">password_compat_not_supported</a>() {
<a name="l226"><span class="linenum"> 226</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Do not use <a class="function" onClick="logFunction('password_compat_not_supported')" href="../_functions/password_compat_not_supported.html" onMouseOver="funcPopup(event,'password_compat_not_supported')">password_compat_not_supported</a>() - bcrypt is now always available', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l227"><span class="linenum"> 227</span></a>      return false;
<a name="l228"><span class="linenum"> 228</span></a>  }
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> * Factory method that was returning moodle_session object.</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment"> *</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment"> * @return \core\session\manager</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment"> */</span>
<a name="l236"><span class="linenum"> 236</span></a>  function <a class="function" onClick="logFunction('session_get_instance')" href="../_functions/session_get_instance.html" onMouseOver="funcPopup(event,'session_get_instance')">session_get_instance</a>() {
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">    // Note: the new session manager includes all methods from the original session class.</span>
<a name="l238"><span class="linenum"> 238</span></a>      static <a class="var it25208" onMouseOver="hilite(25208)" onMouseOut="lolite()" onClick="logVariable('deprecatedinstance')" href="../_variables/deprecatedinstance.html">$deprecatedinstance</a> = null;
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_get_instance')" href="../_functions/session_get_instance.html" onMouseOver="funcPopup(event,'session_get_instance')">session_get_instance</a>() is deprecated, use \core\session\manager instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      if (!<a class="var it25208" onMouseOver="hilite(25208)" onMouseOut="lolite()" onClick="logVariable('deprecatedinstance')" href="../_variables/deprecatedinstance.html">$deprecatedinstance</a>) {
<a name="l243"><span class="linenum"> 243</span></a>          <a class="var it25208" onMouseOver="hilite(25208)" onMouseOut="lolite()" onClick="logVariable('deprecatedinstance')" href="../_variables/deprecatedinstance.html">$deprecatedinstance</a> = new \core\session\manager();
<a name="l244"><span class="linenum"> 244</span></a>      }
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>      return <a class="var it25208" onMouseOver="hilite(25208)" onMouseOut="lolite()" onClick="logVariable('deprecatedinstance')" href="../_variables/deprecatedinstance.html">$deprecatedinstance</a>;
<a name="l247"><span class="linenum"> 247</span></a>  }
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">/**</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment"> * Returns true if legacy session used.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment"> *</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment"> * @return bool</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment"> */</span>
<a name="l255"><span class="linenum"> 255</span></a>  function <a class="function" onClick="logFunction('session_is_legacy')" href="../_functions/session_is_legacy.html" onMouseOver="funcPopup(event,'session_is_legacy')">session_is_legacy</a>() {
<a name="l256"><span class="linenum"> 256</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_is_legacy')" href="../_functions/session_is_legacy.html" onMouseOver="funcPopup(event,'session_is_legacy')">session_is_legacy</a>() is deprecated, do not use any more', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l257"><span class="linenum"> 257</span></a>      return false;
<a name="l258"><span class="linenum"> 258</span></a>  }
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">/**</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment"> * Terminates all sessions, auth hooks are not executed.</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment"> * Useful in upgrade scripts.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment"> *</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment"> */</span>
<a name="l266"><span class="linenum"> 266</span></a>  function <a class="function" onClick="logFunction('session_kill_all')" href="../_functions/session_kill_all.html" onMouseOver="funcPopup(event,'session_kill_all')">session_kill_all</a>() {
<a name="l267"><span class="linenum"> 267</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_kill_all')" href="../_functions/session_kill_all.html" onMouseOver="funcPopup(event,'session_kill_all')">session_kill_all</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_all_sessions')" href="../_functions/kill_all_sessions.html" onMouseOver="funcPopup(event,'kill_all_sessions')">kill_all_sessions</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l268"><span class="linenum"> 268</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_all_sessions')" href="../_functions/kill_all_sessions.html" onMouseOver="funcPopup(event,'kill_all_sessions')">kill_all_sessions</a>();
<a name="l269"><span class="linenum"> 269</span></a>  }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">/**</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment"> * Mark session as accessed, prevents timeouts.</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment"> *</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment"> * @param string $sid</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment"> */</span>
<a name="l277"><span class="linenum"> 277</span></a>  function <a class="function" onClick="logFunction('session_touch')" href="../_functions/session_touch.html" onMouseOver="funcPopup(event,'session_touch')">session_touch</a>(<a class="var it3991" onMouseOver="hilite(3991)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>) {
<a name="l278"><span class="linenum"> 278</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_touch')" href="../_functions/session_touch.html" onMouseOver="funcPopup(event,'session_touch')">session_touch</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('touch_session')" href="../_functions/touch_session.html" onMouseOver="funcPopup(event,'touch_session')">touch_session</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l279"><span class="linenum"> 279</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('touch_session')" href="../_functions/touch_session.html" onMouseOver="funcPopup(event,'touch_session')">touch_session</a>(<a class="var it3991" onMouseOver="hilite(3991)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>);
<a name="l280"><span class="linenum"> 280</span></a>  }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">/**</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment"> * Terminates one sessions, auth hooks are not executed.</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment"> *</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment"> * @param string $sid session id</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment"> */</span>
<a name="l288"><span class="linenum"> 288</span></a>  function <a class="function" onClick="logFunction('session_kill')" href="../_functions/session_kill.html" onMouseOver="funcPopup(event,'session_kill')">session_kill</a>(<a class="var it3991" onMouseOver="hilite(3991)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>) {
<a name="l289"><span class="linenum"> 289</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_kill')" href="../_functions/session_kill.html" onMouseOver="funcPopup(event,'session_kill')">session_kill</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_session')" href="../_functions/kill_session.html" onMouseOver="funcPopup(event,'kill_session')">kill_session</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l290"><span class="linenum"> 290</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_session')" href="../_functions/kill_session.html" onMouseOver="funcPopup(event,'kill_session')">kill_session</a>(<a class="var it3991" onMouseOver="hilite(3991)" onMouseOut="lolite()" onClick="logVariable('sid')" href="../_variables/sid.html">$sid</a>);
<a name="l291"><span class="linenum"> 291</span></a>  }
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">/**</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment"> * Terminates all sessions of one user, auth hooks are not executed.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * NOTE: This can not work for file based sessions!</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> *</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> * @param int $userid user id</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> */</span>
<a name="l300"><span class="linenum"> 300</span></a>  function <a class="function" onClick="logFunction('session_kill_user')" href="../_functions/session_kill_user.html" onMouseOver="funcPopup(event,'session_kill_user')">session_kill_user</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l301"><span class="linenum"> 301</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_kill_user')" href="../_functions/session_kill_user.html" onMouseOver="funcPopup(event,'session_kill_user')">session_kill_user</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_user_sessions')" href="../_functions/kill_user_sessions.html" onMouseOver="funcPopup(event,'kill_user_sessions')">kill_user_sessions</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l302"><span class="linenum"> 302</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('kill_user_sessions')" href="../_functions/kill_user_sessions.html" onMouseOver="funcPopup(event,'kill_user_sessions')">kill_user_sessions</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l303"><span class="linenum"> 303</span></a>  }
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">/**</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment"> * Setup $USER object - called during login, loginas, etc.</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment"> *</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment"> * Call sync_user_enrolments() manually after log-in, or log-in-as.</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment"> *</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment"> * @param stdClass $user full user record object</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment"> * @return void</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment"> */</span>
<a name="l314"><span class="linenum"> 314</span></a>  function <a class="function" onClick="logFunction('session_set_user')" href="../_functions/session_set_user.html" onMouseOver="funcPopup(event,'session_set_user')">session_set_user</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l315"><span class="linenum"> 315</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_set_user')" href="../_functions/session_set_user.html" onMouseOver="funcPopup(event,'session_set_user')">session_set_user</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('set_user')" href="../_functions/set_user.html" onMouseOver="funcPopup(event,'set_user')">set_user</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l316"><span class="linenum"> 316</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('set_user')" href="../_functions/set_user.html" onMouseOver="funcPopup(event,'set_user')">set_user</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>);
<a name="l317"><span class="linenum"> 317</span></a>  }
<a name="l318"><span class="linenum"> 318</span></a>  
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">/**</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> * Is current $USER logged-in-as somebody else?</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment"> * @return bool</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment"> */</span>
<a name="l324"><span class="linenum"> 324</span></a>  function <a class="function" onClick="logFunction('session_is_loggedinas')" href="../_functions/session_is_loggedinas.html" onMouseOver="funcPopup(event,'session_is_loggedinas')">session_is_loggedinas</a>() {
<a name="l325"><span class="linenum"> 325</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_is_loggedinas')" href="../_functions/session_is_loggedinas.html" onMouseOver="funcPopup(event,'session_is_loggedinas')">session_is_loggedinas</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('is_loggedinas')" href="../_functions/is_loggedinas.html" onMouseOver="funcPopup(event,'is_loggedinas')">is_loggedinas</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l326"><span class="linenum"> 326</span></a>      return \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('is_loggedinas')" href="../_functions/is_loggedinas.html" onMouseOver="funcPopup(event,'is_loggedinas')">is_loggedinas</a>();
<a name="l327"><span class="linenum"> 327</span></a>  }
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">/**</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment"> * Returns the $USER object ignoring current login-as session</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment"> * @return stdClass user object</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment"> */</span>
<a name="l334"><span class="linenum"> 334</span></a>  function <a class="function" onClick="logFunction('session_get_realuser')" href="../_functions/session_get_realuser.html" onMouseOver="funcPopup(event,'session_get_realuser')">session_get_realuser</a>() {
<a name="l335"><span class="linenum"> 335</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_get_realuser')" href="../_functions/session_get_realuser.html" onMouseOver="funcPopup(event,'session_get_realuser')">session_get_realuser</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_realuser')" href="../_functions/get_realuser.html" onMouseOver="funcPopup(event,'get_realuser')">get_realuser</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l336"><span class="linenum"> 336</span></a>      return \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('get_realuser')" href="../_functions/get_realuser.html" onMouseOver="funcPopup(event,'get_realuser')">get_realuser</a>();
<a name="l337"><span class="linenum"> 337</span></a>  }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * Login as another user - no security checks here.</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> * @param int $userid</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * @param stdClass $context</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @return void</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> */</span>
<a name="l346"><span class="linenum"> 346</span></a>  function <a class="function" onClick="logFunction('session_loginas')" href="../_functions/session_loginas.html" onMouseOver="funcPopup(event,'session_loginas')">session_loginas</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l347"><span class="linenum"> 347</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('session_loginas')" href="../_functions/session_loginas.html" onMouseOver="funcPopup(event,'session_loginas')">session_loginas</a>() is deprecated, use \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('loginas')" href="../_functions/loginas.html" onMouseOver="funcPopup(event,'loginas')">loginas</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l348"><span class="linenum"> 348</span></a>      \core\session\<a class="class" onClick="logClass('manager')" href="../_classes/manager.html" onMouseOver="classPopup(event,'manager')">manager</a>::<a class="function" onClick="logFunction('loginas')" href="../_functions/loginas.html" onMouseOver="funcPopup(event,'loginas')">loginas</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l349"><span class="linenum"> 349</span></a>  }
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">/**</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment"> * Minify JavaScript files.</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment"> *</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment"> *</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment"> * @param array $files</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment"> * @return string</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment"> */</span>
<a name="l359"><span class="linenum"> 359</span></a>  function <a class="function" onClick="logFunction('js_minify')" href="../_functions/js_minify.html" onMouseOver="funcPopup(event,'js_minify')">js_minify</a>(<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>) {
<a name="l360"><span class="linenum"> 360</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('js_minify')" href="../_functions/js_minify.html" onMouseOver="funcPopup(event,'js_minify')">js_minify</a>() is deprecated, use <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('js_files')" href="../_functions/js_files.html" onMouseOver="funcPopup(event,'js_files')">js_files</a>() or <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('js')" href="../_functions/js.html" onMouseOver="funcPopup(event,'js')">js</a>() instead.');
<a name="l361"><span class="linenum"> 361</span></a>      return <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('js_files')" href="../_functions/js_files.html" onMouseOver="funcPopup(event,'js_files')">js_files</a>(<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>);
<a name="l362"><span class="linenum"> 362</span></a>  }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">/**</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment"> * Minify CSS files.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment"> *</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment"> *</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment"> * @param array $files</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment"> * @return string</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> */</span>
<a name="l372"><span class="linenum"> 372</span></a>  function <a class="function" onClick="logFunction('css_minify_css')" href="../_functions/css_minify_css.html" onMouseOver="funcPopup(event,'css_minify_css')">css_minify_css</a>(<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>) {
<a name="l373"><span class="linenum"> 373</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('css_minify_css')" href="../_functions/css_minify_css.html" onMouseOver="funcPopup(event,'css_minify_css')">css_minify_css</a>() is deprecated, use <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('css_files')" href="../_functions/css_files.html" onMouseOver="funcPopup(event,'css_files')">css_files</a>() or <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('css')" href="../_functions/css.html" onMouseOver="funcPopup(event,'css')">css</a>() instead.');
<a name="l374"><span class="linenum"> 374</span></a>      return <a class="class" onClick="logClass('core_minify')" href="../_classes/core_minify.html" onMouseOver="classPopup(event,'core_minify')">core_minify</a>::<a class="function" onClick="logFunction('css_files')" href="../_functions/css_files.html" onMouseOver="funcPopup(event,'css_files')">css_files</a>(<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>);
<a name="l375"><span class="linenum"> 375</span></a>  }
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">/**</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment"> * Function to call all event handlers when triggering an event</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment"> *</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment"> *</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment"> * @param string $eventname name of the event</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment"> * @param mixed $eventdata event data object</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment"> * @return int number of failed events</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment"> */</span>
<a name="l386"><span class="linenum"> 386</span></a>  function <a class="function" onClick="logFunction('events_trigger')" href="../_functions/events_trigger.html" onMouseOver="funcPopup(event,'events_trigger')">events_trigger</a>(<a class="var it7983" onMouseOver="hilite(7983)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it8012" onMouseOver="hilite(8012)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>) {
<a name="l387"><span class="linenum"> 387</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('events_trigger')" href="../_functions/events_trigger.html" onMouseOver="funcPopup(event,'events_trigger')">events_trigger</a>() is deprecated, please use new events instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l388"><span class="linenum"> 388</span></a>      return <a class="function" onClick="logFunction('events_trigger_legacy')" href="../_functions/events_trigger_legacy.html" onMouseOver="funcPopup(event,'events_trigger_legacy')">events_trigger_legacy</a>(<a class="var it7983" onMouseOver="hilite(7983)" onMouseOut="lolite()" onClick="logVariable('eventname')" href="../_variables/eventname.html">$eventname</a>, <a class="var it8012" onMouseOver="hilite(8012)" onMouseOut="lolite()" onClick="logVariable('eventdata')" href="../_variables/eventdata.html">$eventdata</a>);
<a name="l389"><span class="linenum"> 389</span></a>  }
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">/**</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment"> * List all core subsystems and their location</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment"> *</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment"> * This is a whitelist of components that are part of the core and their</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment"> * language strings are defined in /lang/en/&lt;&lt;subsystem&gt;&gt;.php. If a given</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment"> * plugin is not listed here and it does not have proper plugintype prefix,</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment"> * then it is considered as course activity module.</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment"> *</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment"> * The location is optionally dirroot relative path. NULL means there is no special</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment"> * directory for this subsystem. If the location is set, the subsystem's</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment"> * renderer.php is expected to be there.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment"> *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_core_subsystems()</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment"> *</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment"> * @param bool $fullpaths false means relative paths from dirroot, use true for performance reasons</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment"> * @return array of (string)name =&gt; (string|null)location</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment"> */</span>
<a name="l408"><span class="linenum"> 408</span></a>  function <a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>(<a class="var it25209" onMouseOver="hilite(25209)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a> = false) {
<a name="l409"><span class="linenum"> 409</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>      <a class="var it15536" onMouseOver="hilite(15536)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>();
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>      if (<a class="var it25209" onMouseOver="hilite(25209)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a>) {
<a name="l416"><span class="linenum"> 416</span></a>          return <a class="var it15536" onMouseOver="hilite(15536)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>;
<a name="l417"><span class="linenum"> 417</span></a>      }
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Short paths are deprecated when using <a class="function" onClick="logFunction('get_core_subsystems')" href="../_functions/get_core_subsystems.html" onMouseOver="funcPopup(event,'get_core_subsystems')">get_core_subsystems</a>(), please fix the code to use fullpaths instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>      <a class="var it25210" onMouseOver="hilite(25210)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>);
<a name="l422"><span class="linenum"> 422</span></a>  
<a name="l423"><span class="linenum"> 423</span></a>      foreach (<a class="var it15536" onMouseOver="hilite(15536)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l424"><span class="linenum"> 424</span></a>          if (<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a> === null) {
<a name="l425"><span class="linenum"> 425</span></a>              continue;
<a name="l426"><span class="linenum"> 426</span></a>          }
<a name="l427"><span class="linenum"> 427</span></a>          <a class="var it15536" onMouseOver="hilite(15536)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>, <a class="var it25210" onMouseOver="hilite(25210)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a>+1);
<a name="l428"><span class="linenum"> 428</span></a>      }
<a name="l429"><span class="linenum"> 429</span></a>  
<a name="l430"><span class="linenum"> 430</span></a>      return <a class="var it15536" onMouseOver="hilite(15536)" onMouseOut="lolite()" onClick="logVariable('subsystems')" href="../_variables/subsystems.html">$subsystems</a>;
<a name="l431"><span class="linenum"> 431</span></a>  }
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">/**</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> * Lists all plugin types.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> *</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_types()</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> *</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> * @param bool $fullpaths false means relative paths from dirroot</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment"> * @return array Array of strings - name=&gt;location</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment"> */</span>
<a name="l441"><span class="linenum"> 441</span></a>  function <a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>(<a class="var it25209" onMouseOver="hilite(25209)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a> = true) {
<a name="l442"><span class="linenum"> 442</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l443"><span class="linenum"> 443</span></a>  
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>();
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      if (<a class="var it25209" onMouseOver="hilite(25209)" onMouseOut="lolite()" onClick="logVariable('fullpaths')" href="../_variables/fullpaths.html">$fullpaths</a>) {
<a name="l449"><span class="linenum"> 449</span></a>          return <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>;
<a name="l450"><span class="linenum"> 450</span></a>      }
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Short paths are deprecated when using <a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>(), please fix the code to use fullpaths instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>      <a class="var it25210" onMouseOver="hilite(25210)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>);
<a name="l455"><span class="linenum"> 455</span></a>  
<a name="l456"><span class="linenum"> 456</span></a>      foreach (<a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>) {
<a name="l457"><span class="linenum"> 457</span></a>          if (<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> === 'theme') {
<a name="l458"><span class="linenum"> 458</span></a>              <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = 'theme';
<a name="l459"><span class="linenum"> 459</span></a>              continue;
<a name="l460"><span class="linenum"> 460</span></a>          }
<a name="l461"><span class="linenum"> 461</span></a>          <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../_variables/v.html">$v</a>, <a class="var it25210" onMouseOver="hilite(25210)" onMouseOut="lolite()" onClick="logVariable('dlength')" href="../_variables/dlength.html">$dlength</a>+1);
<a name="l462"><span class="linenum"> 462</span></a>      }
<a name="l463"><span class="linenum"> 463</span></a>  
<a name="l464"><span class="linenum"> 464</span></a>      return <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../_variables/types.html">$types</a>;
<a name="l465"><span class="linenum"> 465</span></a>  }
<a name="l466"><span class="linenum"> 466</span></a>  
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">/**</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment"> * Use when listing real plugins of one type.</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment"> *</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_list()</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> *</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> * @param string $plugintype type of plugin</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @return array name=&gt;fulllocation pairs of plugins of given type</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> */</span>
<a name="l475"><span class="linenum"> 475</span></a>  function <a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>) {
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>      if (<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> === '') {
<a name="l480"><span class="linenum"> 480</span></a>          <a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> = 'mod';
<a name="l481"><span class="linenum"> 481</span></a>      }
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>);
<a name="l484"><span class="linenum"> 484</span></a>  }
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">/**</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment"> * Get a list of all the plugins of a given type that define a certain class</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment"> * in a certain file. The plugin component names and class names are returned.</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment"> *</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_list_with_class()</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment"> *</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment"> * @param string $plugintype the type of plugin, e.g. 'mod' or 'report'.</span>
<a name="l493"><span class="linenum"> 493</span></a>  <span class="comment"> * @param string $class the part of the name of the class after the</span>
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment"> *      frankenstyle prefix. e.g 'thing' if you are looking for classes with</span>
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment"> *      names like report_courselist_thing. If you are looking for classes with</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment"> *      the same name as the plugin name (e.g. qtype_multichoice) then pass ''.</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment"> * @param string $file the name of file within the plugin that defines the class.</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment"> * @return array with frankenstyle plugin names as keys (e.g. 'report_courselist', 'mod_forum')</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment"> *      and the class names as values (e.g. 'report_courselist_thing', 'qtype_multichoice').</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment"> */</span>
<a name="l501"><span class="linenum"> 501</span></a>  function <a class="function" onClick="logFunction('get_plugin_list_with_class')" href="../_functions/get_plugin_list_with_class.html" onMouseOver="funcPopup(event,'get_plugin_list_with_class')">get_plugin_list_with_class</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>, <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_class')" href="../_functions/get_plugin_list_with_class.html" onMouseOver="funcPopup(event,'get_plugin_list_with_class')">get_plugin_list_with_class</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>, <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>);
<a name="l506"><span class="linenum"> 506</span></a>  }
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">/**</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment"> * Returns the exact absolute path to plugin directory.</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment"> *</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::get_plugin_directory()</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment"> *</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment"> * @param string $plugintype type of plugin</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment"> * @param string $name name of the plugin</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment"> * @return string full path to plugin directory; NULL if not found</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment"> */</span>
<a name="l517"><span class="linenum"> 517</span></a>  function <a class="function" onClick="logFunction('get_plugin_directory')" href="../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>) {
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l520"><span class="linenum"> 520</span></a>  
<a name="l521"><span class="linenum"> 521</span></a>      if (<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> === '') {
<a name="l522"><span class="linenum"> 522</span></a>          <a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> = 'mod';
<a name="l523"><span class="linenum"> 523</span></a>      }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_directory')" href="../_functions/get_plugin_directory.html" onMouseOver="funcPopup(event,'get_plugin_directory')">get_plugin_directory</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>);
<a name="l526"><span class="linenum"> 526</span></a>  }
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">/**</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment"> * Normalize the component name using the &quot;frankenstyle&quot; names.</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment"> *</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::normalize_component()</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment"> *</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment"> * @param string $component</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment"> * @return array as (string)$type =&gt; (string)$plugin</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment"> */</span>
<a name="l536"><span class="linenum"> 536</span></a>  function <a class="function" onClick="logFunction('normalize_component')" href="../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('normalize_component')" href="../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l541"><span class="linenum"> 541</span></a>  }
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">/**</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment"> * Return exact absolute path to a plugin directory.</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment"> *</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment"> * @deprecated since 2.6, use core_component::normalize_component()</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment"> *</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment"> * @param string $component name such as 'moodle', 'mod_forum'</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment"> * @return string full path to component directory; NULL if not found</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment"> */</span>
<a name="l551"><span class="linenum"> 551</span></a>  function <a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>) {
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">    // NOTE: do not add any other debugging here, keep forever.</span>
<a name="l554"><span class="linenum"> 554</span></a>  
<a name="l555"><span class="linenum"> 555</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../_variables/component.html">$component</a>);
<a name="l556"><span class="linenum"> 556</span></a>  }
<a name="l557"><span class="linenum"> 557</span></a>  
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">// === Deprecated before 2.6.0 ===</span>
<a name="l560"><span class="linenum"> 560</span></a>  
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">/**</span>
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment"> * Hack to find out the GD version by parsing phpinfo output</span>
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment"> *</span>
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment"> * @return int GD version (1, 2, or 0)</span>
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment"> */</span>
<a name="l566"><span class="linenum"> 566</span></a>  function <a class="function" onClick="logFunction('check_gd_version')" href="../_functions/check_gd_version.html" onMouseOver="funcPopup(event,'check_gd_version')">check_gd_version</a>() {
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">    // TODO: delete function in Moodle 2.7</span>
<a name="l568"><span class="linenum"> 568</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('check_gd_version')" href="../_functions/check_gd_version.html" onMouseOver="funcPopup(event,'check_gd_version')">check_gd_version</a>() is deprecated, GD extension is always available now');
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>      <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('gdversion')" href="../_variables/gdversion.html">$gdversion</a> = 0;
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('gd_info')){
<a name="l573"><span class="linenum"> 573</span></a>          <a class="var it25211" onMouseOver="hilite(25211)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../_variables/gd_info.html">$gd_info</a> = <a class="phpfunction" onClick="logFunction('gd_info')" href="../_functions/gd_info.html" onMouseOver="phpfuncPopup(event,'gd_info')">gd_info</a>();
<a name="l574"><span class="linenum"> 574</span></a>          if (<a class="phpfunction" onClick="logFunction('substr_count')" href="../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it25211" onMouseOver="hilite(25211)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../_variables/gd_info.html">$gd_info</a>['GD Version'], '2.')) {
<a name="l575"><span class="linenum"> 575</span></a>              <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('gdversion')" href="../_variables/gdversion.html">$gdversion</a> = 2;
<a name="l576"><span class="linenum"> 576</span></a>          } else if (<a class="phpfunction" onClick="logFunction('substr_count')" href="../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it25211" onMouseOver="hilite(25211)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../_variables/gd_info.html">$gd_info</a>['GD Version'], '1.')) {
<a name="l577"><span class="linenum"> 577</span></a>              <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('gdversion')" href="../_variables/gdversion.html">$gdversion</a> = 1;
<a name="l578"><span class="linenum"> 578</span></a>          }
<a name="l579"><span class="linenum"> 579</span></a>  
<a name="l580"><span class="linenum"> 580</span></a>      } else {
<a name="l581"><span class="linenum"> 581</span></a>          <a class="phpfunction" onClick="logFunction('ob_start')" href="../_functions/ob_start.html" onMouseOver="phpfuncPopup(event,'ob_start')">ob_start</a>();
<a name="l582"><span class="linenum"> 582</span></a>          <a class="phpfunction" onClick="logFunction('phpinfo')" href="../_functions/phpinfo.html" onMouseOver="phpfuncPopup(event,'phpinfo')">phpinfo</a>(INFO_MODULES);
<a name="l583"><span class="linenum"> 583</span></a>          <a class="var it25212" onMouseOver="hilite(25212)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('ob_get_contents')" href="../_functions/ob_get_contents.html" onMouseOver="phpfuncPopup(event,'ob_get_contents')">ob_get_contents</a>();
<a name="l584"><span class="linenum"> 584</span></a>          <a class="phpfunction" onClick="logFunction('ob_end_clean')" href="../_functions/ob_end_clean.html" onMouseOver="phpfuncPopup(event,'ob_end_clean')">ob_end_clean</a>();
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>          <a class="var it25212" onMouseOver="hilite(25212)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../_variables/phpinfo.html">$phpinfo</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(&quot;\n&quot;, <a class="var it25212" onMouseOver="hilite(25212)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../_variables/phpinfo.html">$phpinfo</a>);
<a name="l587"><span class="linenum"> 587</span></a>  
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>          foreach (<a class="var it25212" onMouseOver="hilite(25212)" onMouseOut="lolite()" onClick="logVariable('phpinfo')" href="../_variables/phpinfo.html">$phpinfo</a> as <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>) {
<a name="l590"><span class="linenum"> 590</span></a>              <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('&lt;/td&gt;', <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>);
<a name="l591"><span class="linenum"> 591</span></a>              foreach (<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it1140" onMouseOver="hilite(1140)" onMouseOut="lolite()" onClick="logVariable('val')" href="../_variables/val.html">$val</a>) {
<a name="l592"><span class="linenum"> 592</span></a>                  <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="phpfunction" onClick="logFunction('strip_tags')" href="../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="var it1140" onMouseOver="hilite(1140)" onMouseOut="lolite()" onClick="logVariable('val')" href="../_variables/val.html">$val</a>));
<a name="l593"><span class="linenum"> 593</span></a>              }
<a name="l594"><span class="linenum"> 594</span></a>              if (<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[0] == 'GD Version') {
<a name="l595"><span class="linenum"> 595</span></a>                  if (<a class="phpfunction" onClick="logFunction('substr_count')" href="../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[1], '2.0')) {
<a name="l596"><span class="linenum"> 596</span></a>                      <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[1] = '2.0';
<a name="l597"><span class="linenum"> 597</span></a>                  }
<a name="l598"><span class="linenum"> 598</span></a>                  <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('gdversion')" href="../_variables/gdversion.html">$gdversion</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[1]);
<a name="l599"><span class="linenum"> 599</span></a>              }
<a name="l600"><span class="linenum"> 600</span></a>          }
<a name="l601"><span class="linenum"> 601</span></a>      }
<a name="l602"><span class="linenum"> 602</span></a>  
<a name="l603"><span class="linenum"> 603</span></a>      return <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('gdversion')" href="../_variables/gdversion.html">$gdversion</a>;   <span class="comment">// 1, 2 or 0</span>
<a name="l604"><span class="linenum"> 604</span></a>  }
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">/**</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment"> * Not used any more, the account lockout handling is now</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment"> * part of authenticate_user_login().</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment"> * @deprecated</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment"> */</span>
<a name="l611"><span class="linenum"> 611</span></a>  function <a class="function" onClick="logFunction('update_login_count')" href="../_functions/update_login_count.html" onMouseOver="funcPopup(event,'update_login_count')">update_login_count</a>() {
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">    // TODO: delete function in Moodle 2.6</span>
<a name="l613"><span class="linenum"> 613</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('update_login_count')" href="../_functions/update_login_count.html" onMouseOver="funcPopup(event,'update_login_count')">update_login_count</a>() is deprecated, all calls need to be removed');
<a name="l614"><span class="linenum"> 614</span></a>  }
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">/**</span>
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment"> * Not used any more, replaced by proper account lockout.</span>
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment"> * @deprecated</span>
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment"> */</span>
<a name="l620"><span class="linenum"> 620</span></a>  function <a class="function" onClick="logFunction('reset_login_count')" href="../_functions/reset_login_count.html" onMouseOver="funcPopup(event,'reset_login_count')">reset_login_count</a>() {
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">    // TODO: delete function in Moodle 2.6</span>
<a name="l622"><span class="linenum"> 622</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('reset_login_count')" href="../_functions/reset_login_count.html" onMouseOver="funcPopup(event,'reset_login_count')">reset_login_count</a>() is deprecated, all calls need to be removed');
<a name="l623"><span class="linenum"> 623</span></a>  }
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">/**</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment"> * Insert or update log display entry. Entry may already exist.</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment"> * $module, $action must be unique</span>
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment"> * @deprecated</span>
<a name="l629"><span class="linenum"> 629</span></a>  <span class="comment"> *</span>
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment"> * @param string $module</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment"> * @param string $action</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment"> * @param string $mtable</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment"> * @param string $field</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment"> * @return void</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment"> *</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment"> */</span>
<a name="l637"><span class="linenum"> 637</span></a>  function <a class="function" onClick="logFunction('update_log_display_entry')" href="../_functions/update_log_display_entry.html" onMouseOver="funcPopup(event,'update_log_display_entry')">update_log_display_entry</a>(<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../_variables/module.html">$module</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>, <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('mtable')" href="../_variables/mtable.html">$mtable</a>, <a class="var it1464" onMouseOver="hilite(1464)" onMouseOut="lolite()" onClick="logVariable('field')" href="../_variables/field.html">$field</a>) {
<a name="l638"><span class="linenum"> 638</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('The <a class="function" onClick="logFunction('update_log_display_entry')" href="../_functions/update_log_display_entry.html" onMouseOver="funcPopup(event,'update_log_display_entry')">update_log_display_entry</a>() is deprecated, please use db/log.php description file instead.');
<a name="l641"><span class="linenum"> 641</span></a>  }
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">/**</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment"> * @deprecated use the text formatting in a standard way instead (http://docs.moodle.org/dev/Output_functions)</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment"> *             this was abused mostly for embedding of attachments</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment"> */</span>
<a name="l647"><span class="linenum"> 647</span></a>  function <a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../_variables/text.html">$text</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = NULL) {
<a name="l648"><span class="linenum"> 648</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('filter_text')" href="../_functions/filter_text.html" onMouseOver="funcPopup(event,'filter_text')">filter_text</a>() can not be used anymore, use <a class="function" onClick="logFunction('format_text')" href="../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(), <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>() etc instead.');
<a name="l649"><span class="linenum"> 649</span></a>  }
<a name="l650"><span class="linenum"> 650</span></a>  
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">/**</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment"> * @deprecated use $PAGE-&gt;https_required() instead</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment"> */</span>
<a name="l654"><span class="linenum"> 654</span></a>  function <a class="function" onClick="logFunction('httpsrequired')" href="../_functions/httpsrequired.html" onMouseOver="funcPopup(event,'httpsrequired')">httpsrequired</a>() {
<a name="l655"><span class="linenum"> 655</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('httpsrequired')" href="../_functions/httpsrequired.html" onMouseOver="funcPopup(event,'httpsrequired')">httpsrequired</a>() can not be used any more use <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('https_required')" href="../_functions/https_required.html" onMouseOver="funcPopup(event,'https_required')">https_required</a>() instead.');
<a name="l656"><span class="linenum"> 656</span></a>  }
<a name="l657"><span class="linenum"> 657</span></a>  
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">/**</span>
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment"> * Given a physical path to a file, returns the URL through which it can be reached in Moodle.</span>
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment"> *</span>
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment"> * @deprecated use moodle_url factory methods instead</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment"> *</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment"> * @param string $path Physical path to a file</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment"> * @param array $options associative array of GET variables to append to the URL</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment"> * @param string $type (questionfile|rssfile|httpscoursefile|coursefile)</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment"> * @return string URL to file</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment"> */</span>
<a name="l668"><span class="linenum"> 668</span></a>  function <a class="function" onClick="logFunction('get_file_url')" href="../_functions/get_file_url.html" onMouseOver="funcPopup(event,'get_file_url')">get_file_url</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>=null, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>='coursefile') {
<a name="l669"><span class="linenum"> 669</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l670"><span class="linenum"> 670</span></a>  
<a name="l671"><span class="linenum"> 671</span></a>      <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('//', '/', <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l672"><span class="linenum"> 672</span></a>      <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, '/'); <span class="comment">// no leading and trailing slashes</span>
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">    // type of file</span>
<a name="l675"><span class="linenum"> 675</span></a>      switch (<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>) {
<a name="l676"><span class="linenum"> 676</span></a>         case 'questionfile':
<a name="l677"><span class="linenum"> 677</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.&quot;/question/exportfile.php&quot;;
<a name="l678"><span class="linenum"> 678</span></a>              break;
<a name="l679"><span class="linenum"> 679</span></a>         case 'rssfile':
<a name="l680"><span class="linenum"> 680</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>."<a class="filename" href="../rss/file.php.html">/rss/file.php</a>";
<a name="l681"><span class="linenum"> 681</span></a>              break;
<a name="l682"><span class="linenum"> 682</span></a>          case 'httpscoursefile':
<a name="l683"><span class="linenum"> 683</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('httpswwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/httpswwwroot.html">httpswwwroot</a>."<a class="filename" href="../file.php.html">/file.php</a>";
<a name="l684"><span class="linenum"> 684</span></a>              break;
<a name="l685"><span class="linenum"> 685</span></a>           case 'coursefile':
<a name="l686"><span class="linenum"> 686</span></a>          default:
<a name="l687"><span class="linenum"> 687</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>."<a class="filename" href="../file.php.html">/file.php</a>";
<a name="l688"><span class="linenum"> 688</span></a>      }
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>      if (<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('slasharguments')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/slasharguments.html">slasharguments</a>) {
<a name="l691"><span class="linenum"> 691</span></a>          <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/', <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l692"><span class="linenum"> 692</span></a>          foreach (<a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it779" onMouseOver="hilite(779)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>) {
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">        /// anchor dash character should not be encoded</span>
<a name="l694"><span class="linenum"> 694</span></a>              <a class="var it25213" onMouseOver="hilite(25213)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('#', <a class="var it779" onMouseOver="hilite(779)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>);
<a name="l695"><span class="linenum"> 695</span></a>              <a class="var it25213" onMouseOver="hilite(25213)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('rawurlencode', <a class="var it25213" onMouseOver="hilite(25213)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a>);
<a name="l696"><span class="linenum"> 696</span></a>              <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a>] = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('#', <a class="var it25213" onMouseOver="hilite(25213)" onMouseOut="lolite()" onClick="logVariable('subparts')" href="../_variables/subparts.html">$subparts</a>);
<a name="l697"><span class="linenum"> 697</span></a>          }
<a name="l698"><span class="linenum"> 698</span></a>          <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>  = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it224" onMouseOver="hilite(224)" onMouseOut="lolite()" onClick="logVariable('parts')" href="../_variables/parts.html">$parts</a>);
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it25214" onMouseOver="hilite(25214)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>.'/'.<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l700"><span class="linenum"> 700</span></a>          <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '?';
<a name="l701"><span class="linenum"> 701</span></a>      } else {
<a name="l702"><span class="linenum"> 702</span></a>          <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('rawurlencode')" href="../_functions/rawurlencode.html" onMouseOver="phpfuncPopup(event,'rawurlencode')">rawurlencode</a>('/'.<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>);
<a name="l703"><span class="linenum"> 703</span></a>          <a class="var it25214" onMouseOver="hilite(25214)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>.'?file='.<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>;
<a name="l704"><span class="linenum"> 704</span></a>          <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '&amp;amp;';
<a name="l705"><span class="linenum"> 705</span></a>      }
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>      if (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>) {
<a name="l708"><span class="linenum"> 708</span></a>          foreach (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>=&gt;<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>) {
<a name="l709"><span class="linenum"> 709</span></a>              <a class="var it25214" onMouseOver="hilite(25214)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a> = <a class="var it25214" onMouseOver="hilite(25214)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a>.<a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a>.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>.'='.<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>;
<a name="l710"><span class="linenum"> 710</span></a>              <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a> = '&amp;amp;';
<a name="l711"><span class="linenum"> 711</span></a>          }
<a name="l712"><span class="linenum"> 712</span></a>      }
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>      return <a class="var it25214" onMouseOver="hilite(25214)" onMouseOut="lolite()" onClick="logVariable('ffurl')" href="../_variables/ffurl.html">$ffurl</a>;
<a name="l715"><span class="linenum"> 715</span></a>  }
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">/**</span>
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment"> * @deprecated use get_enrolled_users($context) instead.</span>
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment"> */</span>
<a name="l720"><span class="linenum"> 720</span></a>  function <a class="function" onClick="logFunction('get_course_participants')" href="../_functions/get_course_participants.html" onMouseOver="funcPopup(event,'get_course_participants')">get_course_participants</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l721"><span class="linenum"> 721</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_course_participants')" href="../_functions/get_course_participants.html" onMouseOver="funcPopup(event,'get_course_participants')">get_course_participants</a>() can not be used any more, use <a class="function" onClick="logFunction('get_enrolled_users')" href="../_functions/get_enrolled_users.html" onMouseOver="funcPopup(event,'get_enrolled_users')">get_enrolled_users</a>() instead.');
<a name="l722"><span class="linenum"> 722</span></a>  }
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">/**</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment"> * @deprecated use is_enrolled($context, $userid) instead.</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment"> */</span>
<a name="l727"><span class="linenum"> 727</span></a>  function <a class="function" onClick="logFunction('is_course_participant')" href="../_functions/is_course_participant.html" onMouseOver="funcPopup(event,'is_course_participant')">is_course_participant</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l728"><span class="linenum"> 728</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('is_course_participant')" href="../_functions/is_course_participant.html" onMouseOver="funcPopup(event,'is_course_participant')">is_course_participant</a>() can not be used any more, use <a class="function" onClick="logFunction('is_enrolled')" href="../_functions/is_enrolled.html" onMouseOver="funcPopup(event,'is_enrolled')">is_enrolled</a>() instead.');
<a name="l729"><span class="linenum"> 729</span></a>  }
<a name="l730"><span class="linenum"> 730</span></a>  
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">/**</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment"> * Searches logs to find all enrolments since a certain date</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment"> *</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment"> * used to print recent activity</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment"> *</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment"> * @param int $courseid The course in question.</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment"> * @param int $timestart The date to check forward of</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment"> * @return object|false  {@link $USER} records or false if error.</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment"> */</span>
<a name="l740"><span class="linenum"> 740</span></a>  function <a class="function" onClick="logFunction('get_recent_enrolments')" href="../_functions/get_recent_enrolments.html" onMouseOver="funcPopup(event,'get_recent_enrolments')">get_recent_enrolments</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>) {
<a name="l741"><span class="linenum"> 741</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l742"><span class="linenum"> 742</span></a>  
<a name="l743"><span class="linenum"> 743</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_recent_enrolments')" href="../_functions/get_recent_enrolments.html" onMouseOver="funcPopup(event,'get_recent_enrolments')">get_recent_enrolments</a>() is deprecated as it returned inaccurate results.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l744"><span class="linenum"> 744</span></a>  
<a name="l745"><span class="linenum"> 745</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l746"><span class="linenum"> 746</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT u.id, u.firstname, u.lastname, <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(l.time)
<a name="l747"><span class="linenum"> 747</span></a>                FROM {user} u, {role_assignments} ra, {log} l
<a name="l748"><span class="linenum"> 748</span></a>               WHERE l.time &gt; ?
<a name="l749"><span class="linenum"> 749</span></a>                     AND l.course = ?
<a name="l750"><span class="linenum"> 750</span></a>                     AND l.module = 'course'
<a name="l751"><span class="linenum"> 751</span></a>                     AND l.action = 'enrol'
<a name="l752"><span class="linenum"> 752</span></a>                     AND &quot;.<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_cast_char2int')" href="../_functions/sql_cast_char2int.html" onMouseOver="funcPopup(event,'sql_cast_char2int')">sql_cast_char2int</a>('l.info').&quot; = u.id
<a name="l753"><span class="linenum"> 753</span></a>                     AND u.id = ra.userid
<a name="l754"><span class="linenum"> 754</span></a>                     AND ra.contextid &quot;.<a class="function" onClick="logFunction('get_related_contexts_string')" href="../_functions/get_related_contexts_string.html" onMouseOver="funcPopup(event,'get_related_contexts_string')">get_related_contexts_string</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>).&quot;
<a name="l755"><span class="linenum"> 755</span></a>            GROUP BY u.id, u.firstname, u.lastname
<a name="l756"><span class="linenum"> 756</span></a>            ORDER BY <a class="phpfunction" onClick="logFunction('MAX')" href="../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(l.time) ASC&quot;;
<a name="l757"><span class="linenum"> 757</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l758"><span class="linenum"> 758</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l759"><span class="linenum"> 759</span></a>  }
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">/**</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment"> * @deprecated use clean_param($string, PARAM_FILE) instead.</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment"> */</span>
<a name="l764"><span class="linenum"> 764</span></a>  function <a class="function" onClick="logFunction('detect_munged_arguments')" href="../_functions/detect_munged_arguments.html" onMouseOver="funcPopup(event,'detect_munged_arguments')">detect_munged_arguments</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it25215" onMouseOver="hilite(25215)" onMouseOut="lolite()" onClick="logVariable('allowdots')" href="../_variables/allowdots.html">$allowdots</a>=1) {
<a name="l765"><span class="linenum"> 765</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('detect_munged_arguments')" href="../_functions/detect_munged_arguments.html" onMouseOver="funcPopup(event,'detect_munged_arguments')">detect_munged_arguments</a>() can not be used any more, please use <a class="function" onClick="logFunction('clean_param')" href="../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(,<a class="constant" onClick="logConstant('PARAM_FILE')" href="../_constants/PARAM_FILE.html" onMouseOver="constPopup(event,'PARAM_FILE')">PARAM_FILE</a>) instead.');
<a name="l766"><span class="linenum"> 766</span></a>  }
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">/**</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment"> * Unzip one zip file to a destination dir</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment"> * Both parameters must be FULL paths</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment"> * If destination isn't specified, it will be the</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment"> * SAME directory where the zip file resides.</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment"> *</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment"> * @global object</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment"> * @param string $zipfile The zip file to unzip</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment"> * @param string $destination The location to unzip to</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment"> * @param bool $showstatus_ignored Unused</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment"> */</span>
<a name="l780"><span class="linenum"> 780</span></a>  function <a class="function" onClick="logFunction('unzip_file')" href="../_functions/unzip_file.html" onMouseOver="funcPopup(event,'unzip_file')">unzip_file</a>(<a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>, <a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a> = '', <a class="var it25216" onMouseOver="hilite(25216)" onMouseOut="lolite()" onClick="logVariable('showstatus_ignored')" href="../_variables/showstatus_ignored.html">$showstatus_ignored</a> = true) {
<a name="l781"><span class="linenum"> 781</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">    //Extract everything from zipfile</span>
<a name="l784"><span class="linenum"> 784</span></a>      <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>));
<a name="l785"><span class="linenum"> 785</span></a>      <a class="var it25217" onMouseOver="hilite(25217)" onMouseOut="lolite()" onClick="logVariable('zippath')" href="../_variables/zippath.html">$zippath</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;dirname&quot;];       <span class="comment">//The path of the zip file</span>
<a name="l786"><span class="linenum"> 786</span></a>      <a class="var it5906" onMouseOver="hilite(5906)" onMouseOut="lolite()" onClick="logVariable('zipfilename')" href="../_variables/zipfilename.html">$zipfilename</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;basename&quot;];  <span class="comment">//The name of the zip file</span>
<a name="l787"><span class="linenum"> 787</span></a>      <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;extension&quot;];    <span class="comment">//The extension of the file</span>
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">    //If no file, error</span>
<a name="l790"><span class="linenum"> 790</span></a>      if (empty(<a class="var it5906" onMouseOver="hilite(5906)" onMouseOut="lolite()" onClick="logVariable('zipfilename')" href="../_variables/zipfilename.html">$zipfilename</a>)) {
<a name="l791"><span class="linenum"> 791</span></a>          return false;
<a name="l792"><span class="linenum"> 792</span></a>      }
<a name="l793"><span class="linenum"> 793</span></a>  
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">    //If no extension, error</span>
<a name="l795"><span class="linenum"> 795</span></a>      if (empty(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>)) {
<a name="l796"><span class="linenum"> 796</span></a>          return false;
<a name="l797"><span class="linenum"> 797</span></a>      }
<a name="l798"><span class="linenum"> 798</span></a>  
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">    //Clear $zipfile</span>
<a name="l800"><span class="linenum"> 800</span></a>      <a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a> = <a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>);
<a name="l801"><span class="linenum"> 801</span></a>  
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">    //Check zipfile exists</span>
<a name="l803"><span class="linenum"> 803</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>)) {
<a name="l804"><span class="linenum"> 804</span></a>          return false;
<a name="l805"><span class="linenum"> 805</span></a>      }
<a name="l806"><span class="linenum"> 806</span></a>  
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">    //If no destination, passed let's go with the same directory</span>
<a name="l808"><span class="linenum"> 808</span></a>      if (empty(<a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>)) {
<a name="l809"><span class="linenum"> 809</span></a>          <a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a> = <a class="var it25217" onMouseOver="hilite(25217)" onMouseOut="lolite()" onClick="logVariable('zippath')" href="../_variables/zippath.html">$zippath</a>;
<a name="l810"><span class="linenum"> 810</span></a>      }
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">    //Clear $destination</span>
<a name="l813"><span class="linenum"> 813</span></a>      <a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>), &quot;/&quot;);
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">    //Check destination path exists</span>
<a name="l816"><span class="linenum"> 816</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>)) {
<a name="l817"><span class="linenum"> 817</span></a>          return false;
<a name="l818"><span class="linenum"> 818</span></a>      }
<a name="l819"><span class="linenum"> 819</span></a>  
<a name="l820"><span class="linenum"> 820</span></a>      <a class="var it22340" onMouseOver="hilite(22340)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a> = <a class="function" onClick="logFunction('get_file_packer')" href="../_functions/get_file_packer.html" onMouseOver="funcPopup(event,'get_file_packer')">get_file_packer</a>('application/zip');
<a name="l821"><span class="linenum"> 821</span></a>  
<a name="l822"><span class="linenum"> 822</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="var it22340" onMouseOver="hilite(22340)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a>-&gt;<a class="function" onClick="logFunction('extract_to_pathname')" href="../_functions/extract_to_pathname.html" onMouseOver="funcPopup(event,'extract_to_pathname')">extract_to_pathname</a>(<a class="var it6087" onMouseOver="hilite(6087)" onMouseOut="lolite()" onClick="logVariable('zipfile')" href="../_variables/zipfile.html">$zipfile</a>, <a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>);
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>      if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> === false) {
<a name="l825"><span class="linenum"> 825</span></a>          return false;
<a name="l826"><span class="linenum"> 826</span></a>      }
<a name="l827"><span class="linenum"> 827</span></a>  
<a name="l828"><span class="linenum"> 828</span></a>      foreach (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> as <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a>) {
<a name="l829"><span class="linenum"> 829</span></a>          if (<a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> !== true) {
<a name="l830"><span class="linenum"> 830</span></a>              return false;
<a name="l831"><span class="linenum"> 831</span></a>          }
<a name="l832"><span class="linenum"> 832</span></a>      }
<a name="l833"><span class="linenum"> 833</span></a>  
<a name="l834"><span class="linenum"> 834</span></a>      return true;
<a name="l835"><span class="linenum"> 835</span></a>  }
<a name="l836"><span class="linenum"> 836</span></a>  
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">/**</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment"> * Zip an array of files/dirs to a destination zip file</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment"> * Both parameters must be FULL paths to the files/dirs</span>
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment"> *</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment"> * @global object</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment"> * @param array $originalfiles Files to zip</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment"> * @param string $destination The destination path</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment"> * @return bool Outcome</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment"> */</span>
<a name="l846"><span class="linenum"> 846</span></a>  function <a class="function" onClick="logFunction('zip_files')" href="../_functions/zip_files.html" onMouseOver="funcPopup(event,'zip_files')">zip_files</a> (<a class="var it12361" onMouseOver="hilite(12361)" onMouseOut="lolite()" onClick="logVariable('originalfiles')" href="../_variables/originalfiles.html">$originalfiles</a>, <a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>) {
<a name="l847"><span class="linenum"> 847</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">    //Extract everything from destination</span>
<a name="l850"><span class="linenum"> 850</span></a>      <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a> = <a class="phpfunction" onClick="logFunction('pathinfo')" href="../_functions/pathinfo.html" onMouseOver="phpfuncPopup(event,'pathinfo')">pathinfo</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it3535" onMouseOver="hilite(3535)" onMouseOut="lolite()" onClick="logVariable('destination')" href="../_variables/destination.html">$destination</a>));
<a name="l851"><span class="linenum"> 851</span></a>      <a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;dirname&quot;];       <span class="comment">//The path of the zip file</span>
<a name="l852"><span class="linenum"> 852</span></a>      <a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;basename&quot;];  <span class="comment">//The name of the zip file</span>
<a name="l853"><span class="linenum"> 853</span></a>      <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = <a class="var it4772" onMouseOver="hilite(4772)" onMouseOut="lolite()" onClick="logVariable('path_parts')" href="../_variables/path_parts.html">$path_parts</a>[&quot;extension&quot;];    <span class="comment">//The extension of the file</span>
<a name="l854"><span class="linenum"> 854</span></a>  
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment">    //If no file, error</span>
<a name="l856"><span class="linenum"> 856</span></a>      if (empty(<a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>)) {
<a name="l857"><span class="linenum"> 857</span></a>          return false;
<a name="l858"><span class="linenum"> 858</span></a>      }
<a name="l859"><span class="linenum"> 859</span></a>  
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">    //If no extension, add it</span>
<a name="l861"><span class="linenum"> 861</span></a>      if (empty(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>)) {
<a name="l862"><span class="linenum"> 862</span></a>          <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a> = 'zip';
<a name="l863"><span class="linenum"> 863</span></a>          <a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>.'.'.<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>;
<a name="l864"><span class="linenum"> 864</span></a>      }
<a name="l865"><span class="linenum"> 865</span></a>  
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">    //Check destination path exists</span>
<a name="l867"><span class="linenum"> 867</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_dir')" href="../_functions/is_dir.html" onMouseOver="phpfuncPopup(event,'is_dir')">is_dir</a>(<a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a>)) {
<a name="l868"><span class="linenum"> 868</span></a>          return false;
<a name="l869"><span class="linenum"> 869</span></a>      }
<a name="l870"><span class="linenum"> 870</span></a>  
<a name="l871"><span class="linenum"> 871</span></a>  <span class="comment">    //Check destination path is writable. TODO!!</span>
<a name="l872"><span class="linenum"> 872</span></a>  
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment">    //Clean destination filename</span>
<a name="l874"><span class="linenum"> 874</span></a>      <a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a> = <a class="function" onClick="logFunction('clean_filename')" href="../_functions/clean_filename.html" onMouseOver="funcPopup(event,'clean_filename')">clean_filename</a>(<a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>);
<a name="l875"><span class="linenum"> 875</span></a>  
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">    //Now check and prepare every file</span>
<a name="l877"><span class="linenum"> 877</span></a>      <a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a> = array();
<a name="l878"><span class="linenum"> 878</span></a>      <a class="var it25219" onMouseOver="hilite(25219)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> = NULL;
<a name="l879"><span class="linenum"> 879</span></a>  
<a name="l880"><span class="linenum"> 880</span></a>      foreach (<a class="var it12361" onMouseOver="hilite(12361)" onMouseOut="lolite()" onClick="logVariable('originalfiles')" href="../_variables/originalfiles.html">$originalfiles</a> as <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {  //Iterate over each file
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment">        //Check for every file</span>
<a name="l882"><span class="linenum"> 882</span></a>          <a class="var it16985" onMouseOver="hilite(16985)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a> = <a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>); <span class="comment">// no doubleslashes!</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">        //Calculate the base path for all files if it isn't set</span>
<a name="l884"><span class="linenum"> 884</span></a>          if (<a class="var it25219" onMouseOver="hilite(25219)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> === NULL) {
<a name="l885"><span class="linenum"> 885</span></a>              <a class="var it25219" onMouseOver="hilite(25219)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a> = <a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it16985" onMouseOver="hilite(16985)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)), &quot;/&quot;);
<a name="l886"><span class="linenum"> 886</span></a>          }
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">        //See if the file is readable</span>
<a name="l888"><span class="linenum"> 888</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it16985" onMouseOver="hilite(16985)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)) {  //Is readable
<a name="l889"><span class="linenum"> 889</span></a>              continue;
<a name="l890"><span class="linenum"> 890</span></a>          }
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">        //See if the file/dir is in the same directory than the rest</span>
<a name="l892"><span class="linenum"> 892</span></a>          if (<a class="phpfunction" onClick="logFunction('rtrim')" href="../_functions/rtrim.html" onMouseOver="phpfuncPopup(event,'rtrim')">rtrim</a>(<a class="function" onClick="logFunction('cleardoubleslashes')" href="../_functions/cleardoubleslashes.html" onMouseOver="funcPopup(event,'cleardoubleslashes')">cleardoubleslashes</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it16985" onMouseOver="hilite(16985)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>)), &quot;/&quot;) != <a class="var it25219" onMouseOver="hilite(25219)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a>) {
<a name="l893"><span class="linenum"> 893</span></a>              continue;
<a name="l894"><span class="linenum"> 894</span></a>          }
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">        //Add the file to the array</span>
<a name="l896"><span class="linenum"> 896</span></a>          <a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a>[] = <a class="var it16985" onMouseOver="hilite(16985)" onMouseOut="lolite()" onClick="logVariable('tempfile')" href="../_variables/tempfile.html">$tempfile</a>;
<a name="l897"><span class="linenum"> 897</span></a>      }
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>      <a class="var it25220" onMouseOver="hilite(25220)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a> = array();
<a name="l900"><span class="linenum"> 900</span></a>      <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it25219" onMouseOver="hilite(25219)" onMouseOut="lolite()" onClick="logVariable('origpath')" href="../_variables/origpath.html">$origpath</a>)+1;
<a name="l901"><span class="linenum"> 901</span></a>      foreach(<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../_variables/files.html">$files</a> as <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) {
<a name="l902"><span class="linenum"> 902</span></a>          <a class="var it25220" onMouseOver="hilite(25220)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a>[<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a>)] = <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>;
<a name="l903"><span class="linenum"> 903</span></a>      }
<a name="l904"><span class="linenum"> 904</span></a>  
<a name="l905"><span class="linenum"> 905</span></a>      <a class="var it22340" onMouseOver="hilite(22340)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a> = <a class="function" onClick="logFunction('get_file_packer')" href="../_functions/get_file_packer.html" onMouseOver="funcPopup(event,'get_file_packer')">get_file_packer</a>('application/zip');
<a name="l906"><span class="linenum"> 906</span></a>  
<a name="l907"><span class="linenum"> 907</span></a>      return <a class="var it22340" onMouseOver="hilite(22340)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../_variables/packer.html">$packer</a>-&gt;<a class="function" onClick="logFunction('archive_to_pathname')" href="../_functions/archive_to_pathname.html" onMouseOver="funcPopup(event,'archive_to_pathname')">archive_to_pathname</a>(<a class="var it25220" onMouseOver="hilite(25220)" onMouseOut="lolite()" onClick="logVariable('zipfiles')" href="../_variables/zipfiles.html">$zipfiles</a>, <a class="var it9607" onMouseOver="hilite(9607)" onMouseOut="lolite()" onClick="logVariable('destpath')" href="../_variables/destpath.html">$destpath</a> . '/' . <a class="var it25218" onMouseOver="hilite(25218)" onMouseOut="lolite()" onClick="logVariable('destfilename')" href="../_variables/destfilename.html">$destfilename</a>);
<a name="l908"><span class="linenum"> 908</span></a>  }
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">/**</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment"> * @deprecated use groups_get_all_groups() instead.</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment"> */</span>
<a name="l913"><span class="linenum"> 913</span></a>  function <a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l914"><span class="linenum"> 914</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>() can not be used any more, please use <a class="function" onClick="logFunction('groups_get_all_groups')" href="../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>() instead.');
<a name="l915"><span class="linenum"> 915</span></a>  }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>  
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">/**</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment"> * Returns the current group mode for a given course or activity module</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment"> *</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment"> * Could be false, SEPARATEGROUPS or VISIBLEGROUPS    (&lt;-- Martin)</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment"> *</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment"> * @param object $course Course Object</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment"> * @param object $cm Course Manager Object</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment"> * @return mixed $course-&gt;groupmode</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment"> */</span>
<a name="l927"><span class="linenum"> 927</span></a>  function <a class="function" onClick="logFunction('groupmode')" href="../_functions/groupmode.html" onMouseOver="funcPopup(event,'groupmode')">groupmode</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=null) {
<a name="l928"><span class="linenum"> 928</span></a>  
<a name="l929"><span class="linenum"> 929</span></a>      if (isset(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupmode')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>) &amp;&amp; empty(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('groupmodeforce')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/groupmodeforce.html">groupmodeforce</a>)) {
<a name="l930"><span class="linenum"> 930</span></a>          return <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupmode')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>;
<a name="l931"><span class="linenum"> 931</span></a>      }
<a name="l932"><span class="linenum"> 932</span></a>      return <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('groupmode')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/groupmode.html">groupmode</a>;
<a name="l933"><span class="linenum"> 933</span></a>  }
<a name="l934"><span class="linenum"> 934</span></a>  
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">/**</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment"> * Sets the current group in the session variable</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment"> * When $SESSION-&gt;currentgroup[$courseid] is set to 0 it means, show all groups.</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment"> * Sets currentgroup[$courseid] in the session variable appropriately.</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment"> * Does not do any permission checking.</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment"> *</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment"> * @global object</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment"> * @param int $courseid The course being examined - relates to id field in</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment"> * 'course' table.</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment"> * @param int $groupid The group being examined.</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment"> * @return int Current group id which was set by this function</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment"> */</span>
<a name="l947"><span class="linenum"> 947</span></a>  function <a class="function" onClick="logFunction('set_current_group')" href="../_functions/set_current_group.html" onMouseOver="funcPopup(event,'set_current_group')">set_current_group</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>) {
<a name="l948"><span class="linenum"> 948</span></a>      global <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l949"><span class="linenum"> 949</span></a>      return <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>] = <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../_variables/groupid.html">$groupid</a>;
<a name="l950"><span class="linenum"> 950</span></a>  }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>  
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">/**</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment"> * Gets the current group - either from the session variable or from the database.</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment"> *</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment"> * @global object</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment"> * @param int $courseid The course being examined - relates to id field in</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment"> * 'course' table.</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment"> * @param bool $full If true, the return value is a full record object.</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment"> * If false, just the id of the record.</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment"> * @return int|bool</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment"> */</span>
<a name="l963"><span class="linenum"> 963</span></a>  function <a class="function" onClick="logFunction('get_current_group')" href="../_functions/get_current_group.html" onMouseOver="funcPopup(event,'get_current_group')">get_current_group</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it22063" onMouseOver="hilite(22063)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a> = false) {
<a name="l964"><span class="linenum"> 964</span></a>      global <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>;
<a name="l965"><span class="linenum"> 965</span></a>  
<a name="l966"><span class="linenum"> 966</span></a>      if (isset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>])) {
<a name="l967"><span class="linenum"> 967</span></a>          if (<a class="var it22063" onMouseOver="hilite(22063)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l968"><span class="linenum"> 968</span></a>              return <a class="function" onClick="logFunction('groups_get_group')" href="../_functions/groups_get_group.html" onMouseOver="funcPopup(event,'groups_get_group')">groups_get_group</a>(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>]);
<a name="l969"><span class="linenum"> 969</span></a>          } else {
<a name="l970"><span class="linenum"> 970</span></a>              return <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('currentgroup')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../_variables/currentgroup.html">currentgroup</a>[<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>];
<a name="l971"><span class="linenum"> 971</span></a>          }
<a name="l972"><span class="linenum"> 972</span></a>      }
<a name="l973"><span class="linenum"> 973</span></a>  
<a name="l974"><span class="linenum"> 974</span></a>      <a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a> = <a class="function" onClick="logFunction('mygroupid')" href="../_functions/mygroupid.html" onMouseOver="funcPopup(event,'mygroupid')">mygroupid</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l975"><span class="linenum"> 975</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>)) {
<a name="l976"><span class="linenum"> 976</span></a>          <a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a> = <a class="phpfunction" onClick="logFunction('array_shift')" href="../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l977"><span class="linenum"> 977</span></a>          <a class="function" onClick="logFunction('set_current_group')" href="../_functions/set_current_group.html" onMouseOver="funcPopup(event,'set_current_group')">set_current_group</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l978"><span class="linenum"> 978</span></a>          if (<a class="var it22063" onMouseOver="hilite(22063)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l979"><span class="linenum"> 979</span></a>              return <a class="function" onClick="logFunction('groups_get_group')" href="../_functions/groups_get_group.html" onMouseOver="funcPopup(event,'groups_get_group')">groups_get_group</a>(<a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>);
<a name="l980"><span class="linenum"> 980</span></a>          } else {
<a name="l981"><span class="linenum"> 981</span></a>              return <a class="var it16101" onMouseOver="hilite(16101)" onMouseOut="lolite()" onClick="logVariable('mygroupid')" href="../_variables/mygroupid.html">$mygroupid</a>;
<a name="l982"><span class="linenum"> 982</span></a>          }
<a name="l983"><span class="linenum"> 983</span></a>      }
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>      if (<a class="var it22063" onMouseOver="hilite(22063)" onMouseOut="lolite()" onClick="logVariable('full')" href="../_variables/full.html">$full</a>) {
<a name="l986"><span class="linenum"> 986</span></a>          return false;
<a name="l987"><span class="linenum"> 987</span></a>      } else {
<a name="l988"><span class="linenum"> 988</span></a>          return 0;
<a name="l989"><span class="linenum"> 989</span></a>      }
<a name="l990"><span class="linenum"> 990</span></a>  }
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">/**</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment"> * Filter a user list and return only the users that can see the course module based on</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment"> * groups/permissions etc. It is assumed that the users are pre-filtered to those who are enrolled in the course.</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment"> *</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment"> * @category group</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment"> * @param stdClass|cm_info $cm The course module</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment"> * @param array $users An array of users, indexed by userid</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment"> * @return array A filtered list of users that can see the module, indexed by userid.</span>
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment"> * @deprecated Since Moodle 2.8</span>
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment"> */</span>
<a name="l1002"><span class="linenum">1002</span></a>  function <a class="function" onClick="logFunction('groups_filter_users_by_course_module_visible')" href="../_functions/groups_filter_users_by_course_module_visible.html" onMouseOver="funcPopup(event,'groups_filter_users_by_course_module_visible')">groups_filter_users_by_course_module_visible</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l1003"><span class="linenum">1003</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('groups_filter_users_by_course_module_visible')" href="../_functions/groups_filter_users_by_course_module_visible.html" onMouseOver="funcPopup(event,'groups_filter_users_by_course_module_visible')">groups_filter_users_by_course_module_visible</a>() is deprecated. ' .
<a name="l1004"><span class="linenum">1004</span></a>              'Replace with a call to \core_availability\<a class="class" onClick="logClass('info_module')" href="../_classes/info_module.html" onMouseOver="classPopup(event,'info_module')">info_module</a>::<a class="function" onClick="logFunction('filter_user_list')" href="../_functions/filter_user_list.html" onMouseOver="funcPopup(event,'filter_user_list')">filter_user_list</a>(), ' .
<a name="l1005"><span class="linenum">1005</span></a>              'which does basically the same thing but includes other restrictions such ' .
<a name="l1006"><span class="linenum">1006</span></a>              'as profile restrictions.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1007"><span class="linenum">1007</span></a>      if (empty(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>)) {
<a name="l1008"><span class="linenum">1008</span></a>          return <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>;
<a name="l1009"><span class="linenum">1009</span></a>      }
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">    // Since this function allows stdclass, let's play it safe and ensure we</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">    // do have a cm_info.</span>
<a name="l1012"><span class="linenum">1012</span></a>      if (!(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> instanceof cm_info)) {
<a name="l1013"><span class="linenum">1013</span></a>          <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('course')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/course.html">course</a>);
<a name="l1014"><span class="linenum">1014</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1015"><span class="linenum">1015</span></a>      }
<a name="l1016"><span class="linenum">1016</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> = new \core_availability\info_module(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>);
<a name="l1017"><span class="linenum">1017</span></a>      return <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>-&gt;<a class="function" onClick="logFunction('filter_user_list')" href="../_functions/filter_user_list.html" onMouseOver="funcPopup(event,'filter_user_list')">filter_user_list</a>(<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>);
<a name="l1018"><span class="linenum">1018</span></a>  }
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment">/**</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment"> * Determine if a course module is currently visible to a user</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment"> *</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment"> * Deprecated (it was never very useful as it only took into account the</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment"> * groupmembersonly option and no other way of hiding activities). Always</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment"> * returns true.</span>
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment"> *</span>
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment"> * @category group</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment"> * @param stdClass|cm_info $cm The course module</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment"> * @param int $userid The user to check against the group.</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment"> * @return bool True</span>
<a name="l1031"><span class="linenum">1031</span></a>  <span class="comment"> * @deprecated Since Moodle 2.8</span>
<a name="l1032"><span class="linenum">1032</span></a>  <span class="comment"> */</span>
<a name="l1033"><span class="linenum">1033</span></a>  function <a class="function" onClick="logFunction('groups_course_module_visible')" href="../_functions/groups_course_module_visible.html" onMouseOver="funcPopup(event,'groups_course_module_visible')">groups_course_module_visible</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=null) {
<a name="l1034"><span class="linenum">1034</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('groups_course_module_visible')" href="../_functions/groups_course_module_visible.html" onMouseOver="funcPopup(event,'groups_course_module_visible')">groups_course_module_visible</a>() is deprecated and always returns ' .
<a name="l1035"><span class="linenum">1035</span></a>              'true; use <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a> to decide whether the current user can ' .
<a name="l1036"><span class="linenum">1036</span></a>              'access an activity.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1037"><span class="linenum">1037</span></a>      return true;
<a name="l1038"><span class="linenum">1038</span></a>  }
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">/**</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment"> * Inndicates fatal error. This function was originally printing the</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment"> * error message directly, since 2.0 it is throwing exception instead.</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment"> * The error printing is handled in default exception handler.</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment"> *</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment"> * Old method, don't call directly in new code - use print_error instead.</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment"> *</span>
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment"> * @param string $message The message to display to the user about the error.</span>
<a name="l1048"><span class="linenum">1048</span></a>  <span class="comment"> * @param string $link The url where the user will be prompted to continue. If no url is provided the user will be directed to the site index page.</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment"> * @return void, always throws moodle_exception</span>
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment"> */</span>
<a name="l1051"><span class="linenum">1051</span></a>  function <a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>='') {
<a name="l1052"><span class="linenum">1052</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('notlocalisederrormessage', 'error', <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, '<a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>() is a deprecated function, please call <a class="function" onClick="logFunction('print_error')" href="../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>() instead of <a class="function" onClick="logFunction('error')" href="../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>()');
<a name="l1053"><span class="linenum">1053</span></a>  }
<a name="l1054"><span class="linenum">1054</span></a>  
<a name="l1055"><span class="linenum">1055</span></a>  
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment">/**</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment"> * @deprecated use $PAGE-&gt;theme-&gt;name instead.</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment"> */</span>
<a name="l1059"><span class="linenum">1059</span></a>  function <a class="function" onClick="logFunction('current_theme')" href="../_functions/current_theme.html" onMouseOver="funcPopup(event,'current_theme')">current_theme</a>() {
<a name="l1060"><span class="linenum">1060</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('current_theme')" href="../_functions/current_theme.html" onMouseOver="funcPopup(event,'current_theme')">current_theme</a>() can not be used any more, please use <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('theme')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/theme.html">theme</a>-&gt;name instead');
<a name="l1061"><span class="linenum">1061</span></a>  }
<a name="l1062"><span class="linenum">1062</span></a>  
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment">/**</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment"> * Prints some red text using echo</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment"> *</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment"> * @deprecated</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment"> * @param string $error The text to be displayed in red</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment"> */</span>
<a name="l1069"><span class="linenum">1069</span></a>  function <a class="function" onClick="logFunction('formerr')" href="../_functions/formerr.html" onMouseOver="funcPopup(event,'formerr')">formerr</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('error')" href="../_variables/error.html">$error</a>) {
<a name="l1070"><span class="linenum">1070</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('formerr')" href="../_functions/formerr.html" onMouseOver="funcPopup(event,'formerr')">formerr</a>() has been deprecated. Please change your code to use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('error_text')" href="../_functions/error_text.html" onMouseOver="funcPopup(event,'error_text')">error_text</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>).');
<a name="l1071"><span class="linenum">1071</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1072"><span class="linenum">1072</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('error_text')" href="../_functions/error_text.html" onMouseOver="funcPopup(event,'error_text')">error_text</a>(<a class="var it111" onMouseOver="hilite(111)" onMouseOut="lolite()" onClick="logVariable('error')" href="../_variables/error.html">$error</a>);
<a name="l1073"><span class="linenum">1073</span></a>  }
<a name="l1074"><span class="linenum">1074</span></a>  
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">/**</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;skip_link_target() in instead.</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment"> */</span>
<a name="l1078"><span class="linenum">1078</span></a>  function <a class="function" onClick="logFunction('skip_main_destination')" href="../_functions/skip_main_destination.html" onMouseOver="funcPopup(event,'skip_main_destination')">skip_main_destination</a>() {
<a name="l1079"><span class="linenum">1079</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('skip_main_destination')" href="../_functions/skip_main_destination.html" onMouseOver="funcPopup(event,'skip_main_destination')">skip_main_destination</a>() can not be used any more, please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('skip_link_target')" href="../_functions/skip_link_target.html" onMouseOver="funcPopup(event,'skip_link_target')">skip_link_target</a>() instead.');
<a name="l1080"><span class="linenum">1080</span></a>  }
<a name="l1081"><span class="linenum">1081</span></a>  
<a name="l1082"><span class="linenum">1082</span></a>  <span class="comment">/**</span>
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container() instead.</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment"> */</span>
<a name="l1085"><span class="linenum">1085</span></a>  function <a class="function" onClick="logFunction('print_container')" href="../_functions/print_container.html" onMouseOver="funcPopup(event,'print_container')">print_container</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it19466" onMouseOver="hilite(19466)" onMouseOut="lolite()" onClick="logVariable('clearfix')" href="../_variables/clearfix.html">$clearfix</a>=false, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>='', <a class="var it25221" onMouseOver="hilite(25221)" onMouseOut="lolite()" onClick="logVariable('idbase')" href="../_variables/idbase.html">$idbase</a>='', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1086"><span class="linenum">1086</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container')" href="../_functions/print_container.html" onMouseOver="funcPopup(event,'print_container')">print_container</a>() can not be used any more. Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container')" href="../_functions/container.html" onMouseOver="funcPopup(event,'container')">container</a>() instead.');
<a name="l1087"><span class="linenum">1087</span></a>  }
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">/**</span>
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container_start() instead.</span>
<a name="l1091"><span class="linenum">1091</span></a>  <span class="comment"> */</span>
<a name="l1092"><span class="linenum">1092</span></a>  function <a class="function" onClick="logFunction('print_container_start')" href="../_functions/print_container_start.html" onMouseOver="funcPopup(event,'print_container_start')">print_container_start</a>(<a class="var it19466" onMouseOver="hilite(19466)" onMouseOut="lolite()" onClick="logVariable('clearfix')" href="../_variables/clearfix.html">$clearfix</a>=false, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>='', <a class="var it25221" onMouseOver="hilite(25221)" onMouseOut="lolite()" onClick="logVariable('idbase')" href="../_variables/idbase.html">$idbase</a>='', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1093"><span class="linenum">1093</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container_start')" href="../_functions/print_container_start.html" onMouseOver="funcPopup(event,'print_container_start')">print_container_start</a>() can not be used any more. Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_start')" href="../_functions/container_start.html" onMouseOver="funcPopup(event,'container_start')">container_start</a>() instead.');
<a name="l1094"><span class="linenum">1094</span></a>  }
<a name="l1095"><span class="linenum">1095</span></a>  
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment">/**</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;container_end() instead.</span>
<a name="l1098"><span class="linenum">1098</span></a>  <span class="comment"> */</span>
<a name="l1099"><span class="linenum">1099</span></a>  function <a class="function" onClick="logFunction('print_container_end')" href="../_functions/print_container_end.html" onMouseOver="funcPopup(event,'print_container_end')">print_container_end</a>(<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1100"><span class="linenum">1100</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_container_end')" href="../_functions/print_container_end.html" onMouseOver="funcPopup(event,'print_container_end')">print_container_end</a>() can not be used any more. Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('container_end')" href="../_functions/container_end.html" onMouseOver="funcPopup(event,'container_end')">container_end</a>() instead.');
<a name="l1101"><span class="linenum">1101</span></a>  }
<a name="l1102"><span class="linenum">1102</span></a>  
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">/**</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment"> * Print a bold message in an optional color.</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment"> *</span>
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;notification instead.</span>
<a name="l1107"><span class="linenum">1107</span></a>  <span class="comment"> * @param string $message The message to print out</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment"> * @param string $style Optional style to display message text in</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment"> * @param string $align Alignment option</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment"> * @param bool $return whether to return an output string or echo now</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment"> * @return string|bool Depending on $result</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment"> */</span>
<a name="l1113"><span class="linenum">1113</span></a>  function <a class="function" onClick="logFunction('notify')" href="../_functions/notify.html" onMouseOver="funcPopup(event,'notify')">notify</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifyproblem', <a class="var it60" onMouseOver="hilite(60)" onMouseOut="lolite()" onClick="logVariable('align')" href="../_variables/align.html">$align</a> = 'center', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = false) {
<a name="l1114"><span class="linenum">1114</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1115"><span class="linenum">1115</span></a>  
<a name="l1116"><span class="linenum">1116</span></a>      if (<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> == 'green') {
<a name="l1117"><span class="linenum">1117</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Use of deprecated class name &quot;green&quot; in notify. Please change to &quot;notifysuccess&quot;.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1118"><span class="linenum">1118</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a> = 'notifysuccess'; <span class="comment">// Backward compatible with old color system</span>
<a name="l1119"><span class="linenum">1119</span></a>      }
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>      <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('classes')" href="../_variables/classes.html">$classes</a>);
<a name="l1122"><span class="linenum">1122</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1123"><span class="linenum">1123</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1124"><span class="linenum">1124</span></a>      } else {
<a name="l1125"><span class="linenum">1125</span></a>          echo <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1126"><span class="linenum">1126</span></a>      }
<a name="l1127"><span class="linenum">1127</span></a>  }
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">/**</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;continue_button() instead.</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment"> */</span>
<a name="l1132"><span class="linenum">1132</span></a>  function <a class="function" onClick="logFunction('print_continue')" href="../_functions/print_continue.html" onMouseOver="funcPopup(event,'print_continue')">print_continue</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../_variables/link.html">$link</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = false) {
<a name="l1133"><span class="linenum">1133</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_continue')" href="../_functions/print_continue.html" onMouseOver="funcPopup(event,'print_continue')">print_continue</a>() can not be used any more. Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>() instead.');
<a name="l1134"><span class="linenum">1134</span></a>  }
<a name="l1135"><span class="linenum">1135</span></a>  
<a name="l1136"><span class="linenum">1136</span></a>  <span class="comment">/**</span>
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment"> * @deprecated use $PAGE methods instead.</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment"> */</span>
<a name="l1139"><span class="linenum">1139</span></a>  function <a class="function" onClick="logFunction('print_header')" href="../_functions/print_header.html" onMouseOver="funcPopup(event,'print_header')">print_header</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='', <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it1513" onMouseOver="hilite(1513)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>='', <a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>='',
<a name="l1140"><span class="linenum">1140</span></a>                        <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>='', <a class="var it1081" onMouseOver="hilite(1081)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>=true, <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>='&amp;nbsp;', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>=null,
<a name="l1141"><span class="linenum">1141</span></a>                        <a class="var it25222" onMouseOver="hilite(25222)" onMouseOut="lolite()" onClick="logVariable('usexml')" href="../_variables/usexml.html">$usexml</a>=false, <a class="var it25223" onMouseOver="hilite(25223)" onMouseOut="lolite()" onClick="logVariable('bodytags')" href="../_variables/bodytags.html">$bodytags</a>='', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_header')" href="../_functions/print_header.html" onMouseOver="funcPopup(event,'print_header')">print_header</a>() can not be used any more. Please use <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a> methods instead.');
<a name="l1144"><span class="linenum">1144</span></a>  }
<a name="l1145"><span class="linenum">1145</span></a>  
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">/**</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment"> * @deprecated use $PAGE methods instead.</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment"> */</span>
<a name="l1149"><span class="linenum">1149</span></a>  function <a class="function" onClick="logFunction('print_header_simple')" href="../_functions/print_header_simple.html" onMouseOver="funcPopup(event,'print_header_simple')">print_header_simple</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='', <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it1513" onMouseOver="hilite(1513)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>='', <a class="var it4822" onMouseOver="hilite(4822)" onMouseOut="lolite()" onClick="logVariable('focus')" href="../_variables/focus.html">$focus</a>='', <a class="var it4077" onMouseOver="hilite(4077)" onMouseOut="lolite()" onClick="logVariable('meta')" href="../_variables/meta.html">$meta</a>='',
<a name="l1150"><span class="linenum">1150</span></a>                         <a class="var it1081" onMouseOver="hilite(1081)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>=true, <a class="var it742" onMouseOver="hilite(742)" onMouseOut="lolite()" onClick="logVariable('button')" href="../_variables/button.html">$button</a>='&amp;nbsp;', <a class="var it4415" onMouseOver="hilite(4415)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../_variables/menu.html">$menu</a>='', <a class="var it25222" onMouseOver="hilite(25222)" onMouseOut="lolite()" onClick="logVariable('usexml')" href="../_variables/usexml.html">$usexml</a>=false, <a class="var it25223" onMouseOver="hilite(25223)" onMouseOut="lolite()" onClick="logVariable('bodytags')" href="../_variables/bodytags.html">$bodytags</a>='', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1151"><span class="linenum">1151</span></a>  
<a name="l1152"><span class="linenum">1152</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_header_simple')" href="../_functions/print_header_simple.html" onMouseOver="funcPopup(event,'print_header_simple')">print_header_simple</a>() can not be used any more. Please use <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a> methods instead.');
<a name="l1153"><span class="linenum">1153</span></a>  }
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment">/**</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;block() instead.</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment"> */</span>
<a name="l1158"><span class="linenum">1158</span></a>  function <a class="function" onClick="logFunction('print_side_block')" href="../_functions/print_side_block.html" onMouseOver="funcPopup(event,'print_side_block')">print_side_block</a>(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../_variables/heading.html">$heading</a>='', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>='', <a class="var it301" onMouseOver="hilite(301)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a>=NULL, <a class="var it2607" onMouseOver="hilite(2607)" onMouseOut="lolite()" onClick="logVariable('icons')" href="../_variables/icons.html">$icons</a>=NULL, <a class="var it2704" onMouseOver="hilite(2704)" onMouseOut="lolite()" onClick="logVariable('footer')" href="../_variables/footer.html">$footer</a>='', <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array(), <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>='') {
<a name="l1159"><span class="linenum">1159</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_side_block')" href="../_functions/print_side_block.html" onMouseOver="funcPopup(event,'print_side_block')">print_side_block</a>() can not be used any more, please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('block')" href="../_functions/block.html" onMouseOver="funcPopup(event,'block')">block</a>() instead.');
<a name="l1160"><span class="linenum">1160</span></a>  }
<a name="l1161"><span class="linenum">1161</span></a>  
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment">/**</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment"> * Prints a basic textarea field.</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment"> *</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment"> *</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment"> * When using this function, you should</span>
<a name="l1168"><span class="linenum">1168</span></a>  <span class="comment"> *</span>
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment"> * @global object</span>
<a name="l1170"><span class="linenum">1170</span></a>  <span class="comment"> * @param bool $unused No longer used.</span>
<a name="l1171"><span class="linenum">1171</span></a>  <span class="comment"> * @param int $rows Number of rows to display  (minimum of 10 when $height is non-null)</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment"> * @param int $cols Number of columns to display (minimum of 65 when $width is non-null)</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment"> * @param null $width (Deprecated) Width of the element; if a value is passed, the minimum value for $cols will be 65. Value is otherwise ignored.</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment"> * @param null $height (Deprecated) Height of the element; if a value is passe, the minimum value for $rows will be 10. Value is otherwise ignored.</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment"> * @param string $name Name to use for the textarea element.</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment"> * @param string $value Initial content to display in the textarea.</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment"> * @param int $obsolete deprecated</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment"> * @param bool $return If false, will output string. If true, will return string value.</span>
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment"> * @param string $id CSS ID to add to the textarea element.</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment"> * @return string|void depending on the value of $return</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment"> */</span>
<a name="l1182"><span class="linenum">1182</span></a>  function <a class="function" onClick="logFunction('print_textarea')" href="../_functions/print_textarea.html" onMouseOver="funcPopup(event,'print_textarea')">print_textarea</a>(<a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>, <a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a>, <a class="var it748" onMouseOver="hilite(748)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>, <a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>='', <a class="var it21227" onMouseOver="hilite(21227)" onMouseOut="lolite()" onClick="logVariable('obsolete')" href="../_variables/obsolete.html">$obsolete</a>=0, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>='') {
<a name="l1183"><span class="linenum">1183</span></a>  <span class="comment">    /// $width and height are legacy fields and no longer used as pixels like they used to be.</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">    /// However, you can set them to zero to override the mincols and minrows values below.</span>
<a name="l1185"><span class="linenum">1185</span></a>  
<a name="l1186"><span class="linenum">1186</span></a>  <span class="comment">    // Disabling because there is not yet a viable $OUTPUT option for cases when mforms can't be used</span>
<a name="l1187"><span class="linenum">1187</span></a>  <span class="comment">    // debugging('print_textarea() has been deprecated. You should be using mforms and the editor element.');</span>
<a name="l1188"><span class="linenum">1188</span></a>  
<a name="l1189"><span class="linenum">1189</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1190"><span class="linenum">1190</span></a>  
<a name="l1191"><span class="linenum">1191</span></a>      <a class="var it25224" onMouseOver="hilite(25224)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a> = 65;
<a name="l1192"><span class="linenum">1192</span></a>      <a class="var it25225" onMouseOver="hilite(25225)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a> = 10;
<a name="l1193"><span class="linenum">1193</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = '';
<a name="l1194"><span class="linenum">1194</span></a>  
<a name="l1195"><span class="linenum">1195</span></a>      if (<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> === '') {
<a name="l1196"><span class="linenum">1196</span></a>          <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = 'edit-'.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>;
<a name="l1197"><span class="linenum">1197</span></a>      }
<a name="l1198"><span class="linenum">1198</span></a>  
<a name="l1199"><span class="linenum">1199</span></a>      if (<a class="var it58" onMouseOver="hilite(58)" onMouseOut="lolite()" onClick="logVariable('height')" href="../_variables/height.html">$height</a> &amp;&amp; (<a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> &lt; <a class="var it25225" onMouseOver="hilite(25225)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a>)) {
<a name="l1200"><span class="linenum">1200</span></a>          <a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> = <a class="var it25225" onMouseOver="hilite(25225)" onMouseOut="lolite()" onClick="logVariable('minrows')" href="../_variables/minrows.html">$minrows</a>;
<a name="l1201"><span class="linenum">1201</span></a>      }
<a name="l1202"><span class="linenum">1202</span></a>      if (<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a> &amp;&amp; (<a class="var it748" onMouseOver="hilite(748)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> &lt; <a class="var it25224" onMouseOver="hilite(25224)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a>)) {
<a name="l1203"><span class="linenum">1203</span></a>          <a class="var it748" onMouseOver="hilite(748)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> = <a class="var it25224" onMouseOver="hilite(25224)" onMouseOut="lolite()" onClick="logVariable('mincols')" href="../_variables/mincols.html">$mincols</a>;
<a name="l1204"><span class="linenum">1204</span></a>      }
<a name="l1205"><span class="linenum">1205</span></a>  
<a name="l1206"><span class="linenum">1206</span></a>      <a class="function" onClick="logFunction('editors_head_setup')" href="../_functions/editors_head_setup.html" onMouseOver="funcPopup(event,'editors_head_setup')">editors_head_setup</a>();
<a name="l1207"><span class="linenum">1207</span></a>      <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a> = <a class="function" onClick="logFunction('editors_get_preferred_editor')" href="../_functions/editors_get_preferred_editor.html" onMouseOver="funcPopup(event,'editors_get_preferred_editor')">editors_get_preferred_editor</a>(<a class="constant" onClick="logConstant('FORMAT_HTML')" href="../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>);
<a name="l1208"><span class="linenum">1208</span></a>      <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>-&gt;<a class="function" onClick="logFunction('use_editor')" href="../_functions/use_editor.html" onMouseOver="funcPopup(event,'use_editor')">use_editor</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, array('legacy'=&gt;true));
<a name="l1209"><span class="linenum">1209</span></a>  
<a name="l1210"><span class="linenum">1210</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= &quot;\n&quot;.'&lt;textarea class=&quot;form-textarea&quot; id=&quot;'. <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> .'&quot; name=&quot;'. <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a> .'&quot; rows=&quot;'. <a class="var it296" onMouseOver="hilite(296)" onMouseOut="lolite()" onClick="logVariable('rows')" href="../_variables/rows.html">$rows</a> .'&quot; cols=&quot;'. <a class="var it748" onMouseOver="hilite(748)" onMouseOut="lolite()" onClick="logVariable('cols')" href="../_variables/cols.html">$cols</a> .'&quot; spellcheck=&quot;true&quot;&gt;'.&quot;\n&quot;;
<a name="l1211"><span class="linenum">1211</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="phpfunction" onClick="logFunction('htmlspecialchars')" href="../_functions/htmlspecialchars.html" onMouseOver="phpfuncPopup(event,'htmlspecialchars')">htmlspecialchars</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>); <span class="comment">// needed for editing of cleaned text!</span>
<a name="l1212"><span class="linenum">1212</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;/textarea&gt;'.&quot;\n&quot;;
<a name="l1213"><span class="linenum">1213</span></a>  
<a name="l1214"><span class="linenum">1214</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1215"><span class="linenum">1215</span></a>          return <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1216"><span class="linenum">1216</span></a>      }
<a name="l1217"><span class="linenum">1217</span></a>      echo <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1218"><span class="linenum">1218</span></a>  }
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">/**</span>
<a name="l1221"><span class="linenum">1221</span></a>  <span class="comment"> * Returns a string of html with an image of a help icon linked to a help page on a number of help topics.</span>
<a name="l1222"><span class="linenum">1222</span></a>  <span class="comment"> * Should be used only with htmleditor or textarea.</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment"> *</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment"> * @global object</span>
<a name="l1225"><span class="linenum">1225</span></a>  <span class="comment"> * @global object</span>
<a name="l1226"><span class="linenum">1226</span></a>  <span class="comment"> * @param mixed $helptopics variable amount of params accepted. Each param may be a string or an array of arguments for</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment"> *                  helpbutton.</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment"> * @return string Link to help button</span>
<a name="l1229"><span class="linenum">1229</span></a>  <span class="comment"> */</span>
<a name="l1230"><span class="linenum">1230</span></a>  function <a class="function" onClick="logFunction('editorhelpbutton')" href="../_functions/editorhelpbutton.html" onMouseOver="funcPopup(event,'editorhelpbutton')">editorhelpbutton</a>(){
<a name="l1231"><span class="linenum">1231</span></a>      return '';
<a name="l1232"><span class="linenum">1232</span></a>  
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">    /// TODO: MDL-21215</span>
<a name="l1234"><span class="linenum">1234</span></a>  }
<a name="l1235"><span class="linenum">1235</span></a>  
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">/**</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment"> * Print a help button.</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment"> *</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment"> * Prints a special help button for html editors (htmlarea in this case)</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment"> *</span>
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment"> * @todo Write code into this function! detect current editor and print correct info</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment"> * @global object</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment"> * @return string Only returns an empty string at the moment</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment"> */</span>
<a name="l1245"><span class="linenum">1245</span></a>  function <a class="function" onClick="logFunction('editorshortcutshelpbutton')" href="../_functions/editorshortcutshelpbutton.html" onMouseOver="funcPopup(event,'editorshortcutshelpbutton')">editorshortcutshelpbutton</a>() {
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment">    /// TODO: MDL-21215</span>
<a name="l1247"><span class="linenum">1247</span></a>  
<a name="l1248"><span class="linenum">1248</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment">    //TODO: detect current editor and print correct info</span>
<a name="l1250"><span class="linenum">1250</span></a>      return '';
<a name="l1251"><span class="linenum">1251</span></a>  }
<a name="l1252"><span class="linenum">1252</span></a>  
<a name="l1253"><span class="linenum">1253</span></a>  
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">/**</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment"> * Returns an image of an up or down arrow, used for column sorting. To avoid unnecessary DB accesses, please</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment"> * provide this function with the language strings for sortasc and sortdesc.</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment"> *</span>
<a name="l1258"><span class="linenum">1258</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;arrow() instead.</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment"> * @todo final deprecation of this function once MDL-45448 is resolved</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment"> *</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment"> * If no sort string is associated with the direction, an arrow with no alt text will be printed/returned.</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment"> *</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment"> * @global object</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment"> * @param string $direction 'up' or 'down'</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment"> * @param string $strsort The language string used for the alt attribute of this image</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment"> * @param bool $return Whether to print directly or return the html string</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment"> * @return string|void depending on $return</span>
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment"> *</span>
<a name="l1269"><span class="linenum">1269</span></a>  <span class="comment"> */</span>
<a name="l1270"><span class="linenum">1270</span></a>  function <a class="function" onClick="logFunction('print_arrow')" href="../_functions/print_arrow.html" onMouseOver="funcPopup(event,'print_arrow')">print_arrow</a>(<a class="var it4465" onMouseOver="hilite(4465)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>='up', <a class="var it25226" onMouseOver="hilite(25226)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>=null, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1271"><span class="linenum">1271</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1272"><span class="linenum">1272</span></a>  
<a name="l1273"><span class="linenum">1273</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('print_arrow')" href="../_functions/print_arrow.html" onMouseOver="funcPopup(event,'print_arrow')">print_arrow</a>() is deprecated. Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('arrow')" href="../_functions/arrow.html" onMouseOver="funcPopup(event,'arrow')">arrow</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1274"><span class="linenum">1274</span></a>  
<a name="l1275"><span class="linenum">1275</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it4465" onMouseOver="hilite(4465)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>, array('up', 'down', 'right', 'left', 'move'))) {
<a name="l1276"><span class="linenum">1276</span></a>          return null;
<a name="l1277"><span class="linenum">1277</span></a>      }
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>      <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = null;
<a name="l1280"><span class="linenum">1280</span></a>  
<a name="l1281"><span class="linenum">1281</span></a>      switch (<a class="var it4465" onMouseOver="hilite(4465)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>) {
<a name="l1282"><span class="linenum">1282</span></a>          case 'up':
<a name="l1283"><span class="linenum">1283</span></a>              <a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'asc';
<a name="l1284"><span class="linenum">1284</span></a>              break;
<a name="l1285"><span class="linenum">1285</span></a>          case 'down':
<a name="l1286"><span class="linenum">1286</span></a>              <a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'desc';
<a name="l1287"><span class="linenum">1287</span></a>              break;
<a name="l1288"><span class="linenum">1288</span></a>          case 'move':
<a name="l1289"><span class="linenum">1289</span></a>              <a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = 'asc';
<a name="l1290"><span class="linenum">1290</span></a>              break;
<a name="l1291"><span class="linenum">1291</span></a>          default:
<a name="l1292"><span class="linenum">1292</span></a>              <a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a> = null;
<a name="l1293"><span class="linenum">1293</span></a>              break;
<a name="l1294"><span class="linenum">1294</span></a>      }
<a name="l1295"><span class="linenum">1295</span></a>  
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">    // Prepare language string</span>
<a name="l1297"><span class="linenum">1297</span></a>      <a class="var it25226" onMouseOver="hilite(25226)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a> = '';
<a name="l1298"><span class="linenum">1298</span></a>      if (empty(<a class="var it25226" onMouseOver="hilite(25226)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>) &amp;&amp; !empty(<a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a>)) {
<a name="l1299"><span class="linenum">1299</span></a>          <a class="var it25226" onMouseOver="hilite(25226)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>  = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sort' . <a class="var it25227" onMouseOver="hilite(25227)" onMouseOut="lolite()" onClick="logVariable('sortdir')" href="../_variables/sortdir.html">$sortdir</a>, 'grades');
<a name="l1300"><span class="linenum">1300</span></a>      }
<a name="l1301"><span class="linenum">1301</span></a>  
<a name="l1302"><span class="linenum">1302</span></a>      <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = ' &lt;img src=&quot;'.<a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('t/' . <a class="var it4465" onMouseOver="hilite(4465)" onMouseOut="lolite()" onClick="logVariable('direction')" href="../_variables/direction.html">$direction</a>) . '&quot; alt=&quot;'.<a class="var it25226" onMouseOver="hilite(25226)" onMouseOut="lolite()" onClick="logVariable('strsort')" href="../_variables/strsort.html">$strsort</a>.'&quot; /&gt; ';
<a name="l1303"><span class="linenum">1303</span></a>  
<a name="l1304"><span class="linenum">1304</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1305"><span class="linenum">1305</span></a>          return <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l1306"><span class="linenum">1306</span></a>      } else {
<a name="l1307"><span class="linenum">1307</span></a>          echo <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l1308"><span class="linenum">1308</span></a>      }
<a name="l1309"><span class="linenum">1309</span></a>  }
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>  <span class="comment">/**</span>
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment"> * Given an array of values, output the HTML for a select element with those options.</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment"> *</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment"> *</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment"> * Normally, you only need to use the first few parameters.</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment"> *</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment"> * @param array $options The options to offer. An array of the form</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment"> *      $options[{value}] = {text displayed for that option};</span>
<a name="l1320"><span class="linenum">1320</span></a>  <span class="comment"> * @param string $name the name of this form control, as in &amp;lt;select name=&quot;...&quot; ...</span>
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment"> * @param string $selected the option to select initially, default none.</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment"> * @param string $nothing The label for the 'nothing is selected' option. Defaults to get_string('choose').</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment"> *      Set this to '' if you don't want a 'nothing is selected' option.</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment"> * @param string $script if not '', then this is added to the &amp;lt;select&gt; element as an onchange handler.</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment"> * @param string $nothingvalue The value corresponding to the $nothing option. Defaults to 0.</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment"> * @param boolean $return if false (the default) the the output is printed directly, If true, the</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment"> *      generated HTML is returned as a string.</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment"> * @param boolean $disabled if true, the select is generated in a disabled state. Default, false.</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment"> * @param int $tabindex if give, sets the tabindex attribute on the &amp;lt;select&gt; element. Default none.</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment"> * @param string $id value to use for the id attribute of the &amp;lt;select&gt; element. If none is given,</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment"> *      then a suitable one is constructed.</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment"> * @param mixed $listbox if false, display as a dropdown menu. If true, display as a list box.</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment"> *      By default, the list box will have a number of rows equal to min(10, count($options)), but if</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment"> *      $listbox is an integer, that number is used for size instead.</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment"> * @param boolean $multiple if true, enable multiple selections, else only 1 item can be selected. Used</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment"> *      when $listbox display is enabled</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment"> * @param string $class value to use for the class attribute of the &amp;lt;select&gt; element. If none is given,</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment"> *      then a suitable one is constructed.</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment"> * @return string|void If $return=true returns string, else echo's and returns void</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment"> */</span>
<a name="l1341"><span class="linenum">1341</span></a>  function <a class="function" onClick="logFunction('choose_from_menu')" href="../_functions/choose_from_menu.html" onMouseOver="funcPopup(event,'choose_from_menu')">choose_from_menu</a> (<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>='', <a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>='choose', <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a>='',
<a name="l1342"><span class="linenum">1342</span></a>                             <a class="var it25228" onMouseOver="hilite(25228)" onMouseOut="lolite()" onClick="logVariable('nothingvalue')" href="../_variables/nothingvalue.html">$nothingvalue</a>='0', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../_variables/disabled.html">$disabled</a>=false, <a class="var it25229" onMouseOver="hilite(25229)" onMouseOut="lolite()" onClick="logVariable('tabindex')" href="../_variables/tabindex.html">$tabindex</a>=0,
<a name="l1343"><span class="linenum">1343</span></a>                             <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>='', <a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('listbox')" href="../_variables/listbox.html">$listbox</a>=false, <a class="var it4446" onMouseOver="hilite(4446)" onMouseOut="lolite()" onClick="logVariable('multiple')" href="../_variables/multiple.html">$multiple</a>=false, <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>='') {
<a name="l1344"><span class="linenum">1344</span></a>  
<a name="l1345"><span class="linenum">1345</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1346"><span class="linenum">1346</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('choose_from_menu')" href="../_functions/choose_from_menu.html" onMouseOver="funcPopup(event,'choose_from_menu')">choose_from_menu</a>() has been deprecated. Please change your code to use <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>().');
<a name="l1347"><span class="linenum">1347</span></a>  
<a name="l1348"><span class="linenum">1348</span></a>      if (<a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a>) {
<a name="l1349"><span class="linenum">1349</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('The <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a> parameter has been deprecated. You must use component_actions instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1350"><span class="linenum">1350</span></a>      }
<a name="l1351"><span class="linenum">1351</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array();
<a name="l1352"><span class="linenum">1352</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['disabled'] = <a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../_variables/disabled.html">$disabled</a> ? 'disabled' : null;
<a name="l1353"><span class="linenum">1353</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['tabindex'] = <a class="var it25229" onMouseOver="hilite(25229)" onMouseOut="lolite()" onClick="logVariable('tabindex')" href="../_variables/tabindex.html">$tabindex</a> ? <a class="var it25229" onMouseOver="hilite(25229)" onMouseOut="lolite()" onClick="logVariable('tabindex')" href="../_variables/tabindex.html">$tabindex</a> : null;
<a name="l1354"><span class="linenum">1354</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['multiple'] = <a class="var it4446" onMouseOver="hilite(4446)" onMouseOut="lolite()" onClick="logVariable('multiple')" href="../_variables/multiple.html">$multiple</a> ? <a class="var it4446" onMouseOver="hilite(4446)" onMouseOut="lolite()" onClick="logVariable('multiple')" href="../_variables/multiple.html">$multiple</a> : null;
<a name="l1355"><span class="linenum">1355</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> ? <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a> : null;
<a name="l1356"><span class="linenum">1356</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['id'] = <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> ? <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> : null;
<a name="l1357"><span class="linenum">1357</span></a>  
<a name="l1358"><span class="linenum">1358</span></a>      <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, array(<a class="var it25228" onMouseOver="hilite(25228)" onMouseOut="lolite()" onClick="logVariable('nothingvalue')" href="../_variables/nothingvalue.html">$nothingvalue</a>=&gt;<a class="var it7148" onMouseOver="hilite(7148)" onMouseOut="lolite()" onClick="logVariable('nothing')" href="../_variables/nothing.html">$nothing</a>), <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>);
<a name="l1359"><span class="linenum">1359</span></a>  
<a name="l1360"><span class="linenum">1360</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1361"><span class="linenum">1361</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1362"><span class="linenum">1362</span></a>      } else {
<a name="l1363"><span class="linenum">1363</span></a>          echo <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1364"><span class="linenum">1364</span></a>      }
<a name="l1365"><span class="linenum">1365</span></a>  }
<a name="l1366"><span class="linenum">1366</span></a>  
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">/**</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;help_icon_scale($courseid, $scale) instead.</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment"> */</span>
<a name="l1370"><span class="linenum">1370</span></a>  function <a class="function" onClick="logFunction('print_scale_menu_helpbutton')" href="../_functions/print_scale_menu_helpbutton.html" onMouseOver="funcPopup(event,'print_scale_menu_helpbutton')">print_scale_menu_helpbutton</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1371"><span class="linenum">1371</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_scale_menu_helpbutton')" href="../_functions/print_scale_menu_helpbutton.html" onMouseOver="funcPopup(event,'print_scale_menu_helpbutton')">print_scale_menu_helpbutton</a>() can not be used any more. '.
<a name="l1372"><span class="linenum">1372</span></a>          'Please use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('help_icon_scale')" href="../_functions/help_icon_scale.html" onMouseOver="funcPopup(event,'help_icon_scale')">help_icon_scale</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it1939" onMouseOver="hilite(1939)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../_variables/scale.html">$scale</a>) instead.');
<a name="l1373"><span class="linenum">1373</span></a>  }
<a name="l1374"><span class="linenum">1374</span></a>  
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment">/**</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment"> * @deprecated use html_writer::checkbox() instead.</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment"> */</span>
<a name="l1378"><span class="linenum">1378</span></a>  function <a class="function" onClick="logFunction('print_checkbox')" href="../_functions/print_checkbox.html" onMouseOver="funcPopup(event,'print_checkbox')">print_checkbox</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../_variables/name.html">$name</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it4292" onMouseOver="hilite(4292)" onMouseOut="lolite()" onClick="logVariable('checked')" href="../_variables/checked.html">$checked</a> = true, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = '', <a class="var it61" onMouseOver="hilite(61)" onMouseOut="lolite()" onClick="logVariable('alt')" href="../_variables/alt.html">$alt</a> = '', <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('script')" href="../_variables/script.html">$script</a>='', <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1379"><span class="linenum">1379</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_checkbox')" href="../_functions/print_checkbox.html" onMouseOver="funcPopup(event,'print_checkbox')">print_checkbox</a>() can not be used any more. Please use <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('checkbox')" href="../_functions/checkbox.html" onMouseOver="funcPopup(event,'checkbox')">checkbox</a>() instead.');
<a name="l1380"><span class="linenum">1380</span></a>  }
<a name="l1381"><span class="linenum">1381</span></a>  
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">/**</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment"> * Prints the 'update this xxx' button that appears on module pages.</span>
<a name="l1384"><span class="linenum">1384</span></a>  <span class="comment"> *</span>
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment"> * @deprecated since Moodle 2.0</span>
<a name="l1386"><span class="linenum">1386</span></a>  <span class="comment"> *</span>
<a name="l1387"><span class="linenum">1387</span></a>  <span class="comment"> * @param string $cmid the course_module id.</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment"> * @param string $ignored not used any more. (Used to be courseid.)</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment"> * @param string $string the module name - get_string('modulename', 'xxx')</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment"> * @return string the HTML for the button, if this user has permission to edit it, else an empty string.</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment"> */</span>
<a name="l1392"><span class="linenum">1392</span></a>  function <a class="function" onClick="logFunction('update_module_button')" href="../_functions/update_module_button.html" onMouseOver="funcPopup(event,'update_module_button')">update_module_button</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, <a class="var it7277" onMouseOver="hilite(7277)" onMouseOut="lolite()" onClick="logVariable('ignored')" href="../_variables/ignored.html">$ignored</a>, <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>) {
<a name="l1393"><span class="linenum">1393</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>  <span class="comment">    // debugging('update_module_button() has been deprecated. Please change your code to use $OUTPUT-&gt;update_module_button().');</span>
<a name="l1396"><span class="linenum">1396</span></a>  
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment">    //NOTE: DO NOT call new output method because it needs the module name we do not have here!</span>
<a name="l1398"><span class="linenum">1398</span></a>  
<a name="l1399"><span class="linenum">1399</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="class" onClick="logClass('context_module')" href="../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>))) {
<a name="l1400"><span class="linenum">1400</span></a>          <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('updatethis', '', <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l1401"><span class="linenum">1401</span></a>  
<a name="l1402"><span class="linenum">1402</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/course/mod.php&quot;, array('update' =&gt; <a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../_variables/cmid.html">$cmid</a>, 'return' =&gt; true, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l1403"><span class="linenum">1403</span></a>          return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>, <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l1404"><span class="linenum">1404</span></a>      } else {
<a name="l1405"><span class="linenum">1405</span></a>          return '';
<a name="l1406"><span class="linenum">1406</span></a>      }
<a name="l1407"><span class="linenum">1407</span></a>  }
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">/**</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment"> * @deprecated use $OUTPUT-&gt;navbar() instead</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment"> */</span>
<a name="l1412"><span class="linenum">1412</span></a>  function <a class="function" onClick="logFunction('print_navigation')" href="../_functions/print_navigation.html" onMouseOver="funcPopup(event,'print_navigation')">print_navigation</a> (<a class="var it1513" onMouseOver="hilite(1513)" onMouseOut="lolite()" onClick="logVariable('navigation')" href="../_variables/navigation.html">$navigation</a>, <a class="var it3496" onMouseOver="hilite(3496)" onMouseOut="lolite()" onClick="logVariable('separator')" href="../_variables/separator.html">$separator</a>=0, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false) {
<a name="l1413"><span class="linenum">1413</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('print_navigation')" href="../_functions/print_navigation.html" onMouseOver="funcPopup(event,'print_navigation')">print_navigation</a>() can not be used any more, please update use <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('navbar')" href="../_functions/navbar.html" onMouseOver="funcPopup(event,'navbar')">navbar</a>() instead.');
<a name="l1414"><span class="linenum">1414</span></a>  }
<a name="l1415"><span class="linenum">1415</span></a>  
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">/**</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment"> * @deprecated Please use $PAGE-&gt;navabar methods instead.</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment"> */</span>
<a name="l1419"><span class="linenum">1419</span></a>  function <a class="function" onClick="logFunction('build_navigation')" href="../_functions/build_navigation.html" onMouseOver="funcPopup(event,'build_navigation')">build_navigation</a>(<a class="var it25231" onMouseOver="hilite(25231)" onMouseOut="lolite()" onClick="logVariable('extranavlinks')" href="../_variables/extranavlinks.html">$extranavlinks</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = null) {
<a name="l1420"><span class="linenum">1420</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('build_navigation')" href="../_functions/build_navigation.html" onMouseOver="funcPopup(event,'build_navigation')">build_navigation</a>() can not be used any more, please use <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/navbar.html">navbar</a> methods instead.');
<a name="l1421"><span class="linenum">1421</span></a>  }
<a name="l1422"><span class="linenum">1422</span></a>  
<a name="l1423"><span class="linenum">1423</span></a>  <span class="comment">/**</span>
<a name="l1424"><span class="linenum">1424</span></a>  <span class="comment"> * @deprecated not relevant with global navigation in Moodle 2.x+</span>
<a name="l1425"><span class="linenum">1425</span></a>  <span class="comment"> */</span>
<a name="l1426"><span class="linenum">1426</span></a>  function <a class="function" onClick="logFunction('navmenu')" href="../_functions/navmenu.html" onMouseOver="funcPopup(event,'navmenu')">navmenu</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>=NULL, <a class="var it25232" onMouseOver="hilite(25232)" onMouseOut="lolite()" onClick="logVariable('targetwindow')" href="../_variables/targetwindow.html">$targetwindow</a>='self') {
<a name="l1427"><span class="linenum">1427</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('navmenu')" href="../_functions/navmenu.html" onMouseOver="funcPopup(event,'navmenu')">navmenu</a>() can not be used any more, it is no longer relevant with global navigation.');
<a name="l1428"><span class="linenum">1428</span></a>  }
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">/// CALENDAR MANAGEMENT  ////////////////////////////////////////////////////////////////</span>
<a name="l1431"><span class="linenum">1431</span></a>  
<a name="l1432"><span class="linenum">1432</span></a>  
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment">/**</span>
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment"> * @deprecated please use calendar_event::create() instead.</span>
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment"> */</span>
<a name="l1436"><span class="linenum">1436</span></a>   function <a class="function" onClick="logFunction('add_event')" href="../_functions/add_event.html" onMouseOver="funcPopup(event,'add_event')">add_event</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1437"><span class="linenum">1437</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('add_event')" href="../_functions/add_event.html" onMouseOver="funcPopup(event,'add_event')">add_event</a>() can not be used any more, please use <a class="class" onClick="logClass('calendar_event')" href="../_classes/calendar_event.html" onMouseOver="classPopup(event,'calendar_event')">calendar_event</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>() instead.');
<a name="l1438"><span class="linenum">1438</span></a>  }
<a name="l1439"><span class="linenum">1439</span></a>  
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">/**</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment"> * Call this function to update an event in the calendar table</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment"> * the event will be identified by the id field of the $event object.</span>
<a name="l1443"><span class="linenum">1443</span></a>  <span class="comment"> *</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment"> * @param object $event An object representing an event from the calendar table. The event will be identified by the id field.</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment"> * @return bool Success</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment"> * @deprecated please calendar_event-&gt;update() instead.</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment"> */</span>
<a name="l1448"><span class="linenum">1448</span></a>  function <a class="function" onClick="logFunction('update_event')" href="../_functions/update_event.html" onMouseOver="funcPopup(event,'update_event')">update_event</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1449"><span class="linenum">1449</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l1450"><span class="linenum">1450</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../calendar/lib.php.html">/calendar/lib.php</a>');
<a name="l1451"><span class="linenum">1451</span></a>  
<a name="l1452"><span class="linenum">1452</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('update_event')" href="../_functions/update_event.html" onMouseOver="funcPopup(event,'update_event')">update_event</a>() is deprecated, please use calendar_event-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1453"><span class="linenum">1453</span></a>      <a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = (object)<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>;
<a name="l1454"><span class="linenum">1454</span></a>      <a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('calendarevent')" href="../_variables/calendarevent.html">$calendarevent</a> = <a class="class" onClick="logClass('calendar_event')" href="../_classes/calendar_event.html" onMouseOver="classPopup(event,'calendar_event')">calendar_event</a>::<a class="function" onClick="logFunction('load')" href="../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it39510" onMouseOver="hilite(39510)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1455"><span class="linenum">1455</span></a>      return <a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('calendarevent')" href="../_variables/calendarevent.html">$calendarevent</a>-&gt;<a class="function" onClick="logFunction('update')" href="../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>);
<a name="l1456"><span class="linenum">1456</span></a>  }
<a name="l1457"><span class="linenum">1457</span></a>  
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">/**</span>
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;delete() instead.</span>
<a name="l1460"><span class="linenum">1460</span></a>  <span class="comment"> */</span>
<a name="l1461"><span class="linenum">1461</span></a>  function <a class="function" onClick="logFunction('delete_event')" href="../_functions/delete_event.html" onMouseOver="funcPopup(event,'delete_event')">delete_event</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) {
<a name="l1462"><span class="linenum">1462</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('delete_event')" href="../_functions/delete_event.html" onMouseOver="funcPopup(event,'delete_event')">delete_event</a>() can not be used any more, please use '.
<a name="l1463"><span class="linenum">1463</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('delete')" href="../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>() instead.');
<a name="l1464"><span class="linenum">1464</span></a>  }
<a name="l1465"><span class="linenum">1465</span></a>  
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">/**</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;toggle_visibility(false) instead.</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment"> */</span>
<a name="l1469"><span class="linenum">1469</span></a>  function <a class="function" onClick="logFunction('hide_event')" href="../_functions/hide_event.html" onMouseOver="funcPopup(event,'hide_event')">hide_event</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1470"><span class="linenum">1470</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('hide_event')" href="../_functions/hide_event.html" onMouseOver="funcPopup(event,'hide_event')">hide_event</a>() can not be used any more, please use '.
<a name="l1471"><span class="linenum">1471</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('toggle_visibility')" href="../_functions/toggle_visibility.html" onMouseOver="funcPopup(event,'toggle_visibility')">toggle_visibility</a>(false) instead.');
<a name="l1472"><span class="linenum">1472</span></a>  }
<a name="l1473"><span class="linenum">1473</span></a>  
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment">/**</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment"> * @deprecated please use calendar_event-&gt;toggle_visibility(true) instead.</span>
<a name="l1476"><span class="linenum">1476</span></a>  <span class="comment"> */</span>
<a name="l1477"><span class="linenum">1477</span></a>  function <a class="function" onClick="logFunction('show_event')" href="../_functions/show_event.html" onMouseOver="funcPopup(event,'show_event')">show_event</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l1478"><span class="linenum">1478</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('show_event')" href="../_functions/show_event.html" onMouseOver="funcPopup(event,'show_event')">show_event</a>() can not be used any more, please use '.
<a name="l1479"><span class="linenum">1479</span></a>          'calendar_event-&gt;<a class="function" onClick="logFunction('toggle_visibility')" href="../_functions/toggle_visibility.html" onMouseOver="funcPopup(event,'toggle_visibility')">toggle_visibility</a>(true) instead.');
<a name="l1480"><span class="linenum">1480</span></a>  }
<a name="l1481"><span class="linenum">1481</span></a>  
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">/**</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment"> * Original singleton helper function, please use static methods instead,</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment"> * ex: core_text::convert().</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment"> *</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment"> * @deprecated since Moodle 2.2 use core_text::xxxx() instead.</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment"> * @see core_text</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment"> */</span>
<a name="l1489"><span class="linenum">1489</span></a>  function <a class="function" onClick="logFunction('textlib_get_instance')" href="../_functions/textlib_get_instance.html" onMouseOver="funcPopup(event,'textlib_get_instance')">textlib_get_instance</a>() {
<a name="l1490"><span class="linenum">1490</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('textlib_get_instance')" href="../_functions/textlib_get_instance.html" onMouseOver="funcPopup(event,'textlib_get_instance')">textlib_get_instance</a>() can not be used any more, please use '.
<a name="l1491"><span class="linenum">1491</span></a>          '<a class="class" onClick="logClass('core_text')" href="../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::functioname() instead.');
<a name="l1492"><span class="linenum">1492</span></a>  }
<a name="l1493"><span class="linenum">1493</span></a>  
<a name="l1494"><span class="linenum">1494</span></a>  <span class="comment">/**</span>
<a name="l1495"><span class="linenum">1495</span></a>  <span class="comment"> * Gets the generic section name for a courses section</span>
<a name="l1496"><span class="linenum">1496</span></a>  <span class="comment"> *</span>
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment"> * The global function is deprecated. Each course format can define their own generic section name</span>
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment"> *</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment"> * @see get_section_name()</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment"> * @see format_base::get_section_name()</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment"> *</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment"> * @param string $format Course format ID e.g. 'weeks' $course-&gt;format</span>
<a name="l1504"><span class="linenum">1504</span></a>  <span class="comment"> * @param stdClass $section Section object from database</span>
<a name="l1505"><span class="linenum">1505</span></a>  <span class="comment"> * @return Display name that the course format prefers, e.g. &quot;Week 2&quot;</span>
<a name="l1506"><span class="linenum">1506</span></a>  <span class="comment"> */</span>
<a name="l1507"><span class="linenum">1507</span></a>  function <a class="function" onClick="logFunction('get_generic_section_name')" href="../_functions/get_generic_section_name.html" onMouseOver="funcPopup(event,'get_generic_section_name')">get_generic_section_name</a>(<a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>, stdClass <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>) {
<a name="l1508"><span class="linenum">1508</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_generic_section_name')" href="../_functions/get_generic_section_name.html" onMouseOver="funcPopup(event,'get_generic_section_name')">get_generic_section_name</a>() is deprecated. Please use appropriate functionality from class format_base', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1509"><span class="linenum">1509</span></a>      return <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sectionname', &quot;format_<a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>&quot;) . ' ' . <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('section')" class="var it39560" onMouseOver="hilite(39560)" onMouseOut="lolite()" href="../_variables/section.html">section</a>;
<a name="l1510"><span class="linenum">1510</span></a>  }
<a name="l1511"><span class="linenum">1511</span></a>  
<a name="l1512"><span class="linenum">1512</span></a>  <span class="comment">/**</span>
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment"> * Returns an array of sections for the requested course id</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment"> *</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment"> * It is usually not recommended to display the list of sections used</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment"> * in course because the course format may have it's own way to do it.</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment"> *</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment"> * If you need to just display the name of the section please call:</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment"> * get_section_name($course, $section)</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment"> * {@link get_section_name()}</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment"> * from 2.4 $section may also be just the field course_sections.section</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment"> *</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment"> * If you need the list of all sections it is more efficient to get this data by calling</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment"> * $modinfo = get_fast_modinfo($courseorid);</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment"> * $sections = $modinfo-&gt;get_section_info_all()</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment"> * {@link get_fast_modinfo()}</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment"> * {@link course_modinfo::get_section_info_all()}</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment"> *</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment"> * Information about one section (instance of section_info):</span>
<a name="l1530"><span class="linenum">1530</span></a>  <span class="comment"> * get_fast_modinfo($courseorid)-&gt;get_sections_info($section)</span>
<a name="l1531"><span class="linenum">1531</span></a>  <span class="comment"> * {@link course_modinfo::get_section_info()}</span>
<a name="l1532"><span class="linenum">1532</span></a>  <span class="comment"> *</span>
<a name="l1533"><span class="linenum">1533</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment"> *</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment"> * @return array Array of section_info objects</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment"> */</span>
<a name="l1538"><span class="linenum">1538</span></a>  function <a class="function" onClick="logFunction('get_all_sections')" href="../_functions/get_all_sections.html" onMouseOver="funcPopup(event,'get_all_sections')">get_all_sections</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1539"><span class="linenum">1539</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1540"><span class="linenum">1540</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_all_sections')" href="../_functions/get_all_sections.html" onMouseOver="funcPopup(event,'get_all_sections')">get_all_sections</a>() is deprecated. See phpdocs for this function', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1541"><span class="linenum">1541</span></a>      return <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>)-&gt;<a class="function" onClick="logFunction('get_section_info_all')" href="../_functions/get_section_info_all.html" onMouseOver="funcPopup(event,'get_section_info_all')">get_section_info_all</a>();
<a name="l1542"><span class="linenum">1542</span></a>  }
<a name="l1543"><span class="linenum">1543</span></a>  
<a name="l1544"><span class="linenum">1544</span></a>  <span class="comment">/**</span>
<a name="l1545"><span class="linenum">1545</span></a>  <span class="comment"> * Given a full mod object with section and course already defined, adds this module to that section.</span>
<a name="l1546"><span class="linenum">1546</span></a>  <span class="comment"> *</span>
<a name="l1547"><span class="linenum">1547</span></a>  <span class="comment"> * This function is deprecated, please use {@link course_add_cm_to_section()}</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment"> * Note that course_add_cm_to_section() also updates field course_modules.section and</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment"> * calls rebuild_course_cache()</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment"> *</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment"> *</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment"> * @param object $mod</span>
<a name="l1554"><span class="linenum">1554</span></a>  <span class="comment"> * @param int $beforemod An existing ID which we will insert the new module before</span>
<a name="l1555"><span class="linenum">1555</span></a>  <span class="comment"> * @return int The course_sections ID where the mod is inserted</span>
<a name="l1556"><span class="linenum">1556</span></a>  <span class="comment"> */</span>
<a name="l1557"><span class="linenum">1557</span></a>  function <a class="function" onClick="logFunction('add_mod_to_section')" href="../_functions/add_mod_to_section.html" onMouseOver="funcPopup(event,'add_mod_to_section')">add_mod_to_section</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('beforemod')" href="../_variables/beforemod.html">$beforemod</a> = null) {
<a name="l1558"><span class="linenum">1558</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('add_mod_to_section')" href="../_functions/add_mod_to_section.html" onMouseOver="funcPopup(event,'add_mod_to_section')">add_mod_to_section</a>() is deprecated, please use <a class="function" onClick="logFunction('course_add_cm_to_section')" href="../_functions/course_add_cm_to_section.html" onMouseOver="funcPopup(event,'course_add_cm_to_section')">course_add_cm_to_section</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1559"><span class="linenum">1559</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1560"><span class="linenum">1560</span></a>      return <a class="function" onClick="logFunction('course_add_cm_to_section')" href="../_functions/course_add_cm_to_section.html" onMouseOver="funcPopup(event,'course_add_cm_to_section')">course_add_cm_to_section</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('course')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/course.html">course</a>, <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/coursemodule.html">coursemodule</a>, <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('section')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/section.html">section</a>, <a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('beforemod')" href="../_variables/beforemod.html">$beforemod</a>);
<a name="l1561"><span class="linenum">1561</span></a>  }
<a name="l1562"><span class="linenum">1562</span></a>  
<a name="l1563"><span class="linenum">1563</span></a>  <span class="comment">/**</span>
<a name="l1564"><span class="linenum">1564</span></a>  <span class="comment"> * Returns a number of useful structures for course displays</span>
<a name="l1565"><span class="linenum">1565</span></a>  <span class="comment"> *</span>
<a name="l1566"><span class="linenum">1566</span></a>  <span class="comment"> * Function get_all_mods() is deprecated in 2.4</span>
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment"> * Instead of:</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment"> * &lt;code&gt;</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment"> * get_all_mods($courseid, $mods, $modnames, $modnamesplural, $modnamesused);</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment"> * &lt;/code&gt;</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment"> * please use:</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment"> * &lt;code&gt;</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment"> * $mods = get_fast_modinfo($courseorid)-&gt;get_cms();</span>
<a name="l1574"><span class="linenum">1574</span></a>  <span class="comment"> * $modnames = get_module_types_names();</span>
<a name="l1575"><span class="linenum">1575</span></a>  <span class="comment"> * $modnamesplural = get_module_types_names(true);</span>
<a name="l1576"><span class="linenum">1576</span></a>  <span class="comment"> * $modnamesused = get_fast_modinfo($courseorid)-&gt;get_used_module_names();</span>
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment"> * &lt;/code&gt;</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment"> *</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment"> *</span>
<a name="l1581"><span class="linenum">1581</span></a>  <span class="comment"> * @param int $courseid id of the course to get info about</span>
<a name="l1582"><span class="linenum">1582</span></a>  <span class="comment"> * @param array $mods (return) list of course modules</span>
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment"> * @param array $modnames (return) list of names of all module types installed and available</span>
<a name="l1584"><span class="linenum">1584</span></a>  <span class="comment"> * @param array $modnamesplural (return) list of names of all module types installed and available in the plural form</span>
<a name="l1585"><span class="linenum">1585</span></a>  <span class="comment"> * @param array $modnamesused (return) list of names of all module types used in the course</span>
<a name="l1586"><span class="linenum">1586</span></a>  <span class="comment"> */</span>
<a name="l1587"><span class="linenum">1587</span></a>  function <a class="function" onClick="logFunction('get_all_mods')" href="../_functions/get_all_mods.html" onMouseOver="funcPopup(event,'get_all_mods')">get_all_mods</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, &amp;<a class="var it411" onMouseOver="hilite(411)" onMouseOut="lolite()" onClick="logVariable('mods')" href="../_variables/mods.html">$mods</a>, &amp;<a class="var it7072" onMouseOver="hilite(7072)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../_variables/modnames.html">$modnames</a>, &amp;<a class="var it6600" onMouseOver="hilite(6600)" onMouseOut="lolite()" onClick="logVariable('modnamesplural')" href="../_variables/modnamesplural.html">$modnamesplural</a>, &amp;<a class="var it8046" onMouseOver="hilite(8046)" onMouseOut="lolite()" onClick="logVariable('modnamesused')" href="../_variables/modnamesused.html">$modnamesused</a>) {
<a name="l1588"><span class="linenum">1588</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_all_mods')" href="../_functions/get_all_mods.html" onMouseOver="funcPopup(event,'get_all_mods')">get_all_mods</a>() is deprecated. Use <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>() and <a class="function" onClick="logFunction('get_module_types_names')" href="../_functions/get_module_types_names.html" onMouseOver="funcPopup(event,'get_module_types_names')">get_module_types_names</a>() instead. See phpdocs for details', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1589"><span class="linenum">1589</span></a>  
<a name="l1590"><span class="linenum">1590</span></a>      global <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../_variables/COURSE.html">$COURSE</a>;
<a name="l1591"><span class="linenum">1591</span></a>      <a class="var it7072" onMouseOver="hilite(7072)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../_variables/modnames.html">$modnames</a>      = <a class="function" onClick="logFunction('get_module_types_names')" href="../_functions/get_module_types_names.html" onMouseOver="funcPopup(event,'get_module_types_names')">get_module_types_names</a>();
<a name="l1592"><span class="linenum">1592</span></a>      <a class="var it6600" onMouseOver="hilite(6600)" onMouseOut="lolite()" onClick="logVariable('modnamesplural')" href="../_variables/modnamesplural.html">$modnamesplural</a>= <a class="function" onClick="logFunction('get_module_types_names')" href="../_functions/get_module_types_names.html" onMouseOver="funcPopup(event,'get_module_types_names')">get_module_types_names</a>(true);
<a name="l1593"><span class="linenum">1593</span></a>      <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l1594"><span class="linenum">1594</span></a>      <a class="var it411" onMouseOver="hilite(411)" onMouseOut="lolite()" onClick="logVariable('mods')" href="../_variables/mods.html">$mods</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cms')" href="../_functions/get_cms.html" onMouseOver="funcPopup(event,'get_cms')">get_cms</a>();
<a name="l1595"><span class="linenum">1595</span></a>      <a class="var it8046" onMouseOver="hilite(8046)" onMouseOut="lolite()" onClick="logVariable('modnamesused')" href="../_variables/modnamesused.html">$modnamesused</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_used_module_names')" href="../_functions/get_used_module_names.html" onMouseOver="funcPopup(event,'get_used_module_names')">get_used_module_names</a>();
<a name="l1596"><span class="linenum">1596</span></a>  }
<a name="l1597"><span class="linenum">1597</span></a>  
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">/**</span>
<a name="l1599"><span class="linenum">1599</span></a>  <span class="comment"> * Returns course section - creates new if does not exist yet</span>
<a name="l1600"><span class="linenum">1600</span></a>  <span class="comment"> *</span>
<a name="l1601"><span class="linenum">1601</span></a>  <span class="comment"> * This function is deprecated. To create a course section call:</span>
<a name="l1602"><span class="linenum">1602</span></a>  <span class="comment"> * course_create_sections_if_missing($courseorid, $sections);</span>
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment"> * to get the section call:</span>
<a name="l1604"><span class="linenum">1604</span></a>  <span class="comment"> * get_fast_modinfo($courseorid)-&gt;get_section_info($sectionnum);</span>
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment"> *</span>
<a name="l1606"><span class="linenum">1606</span></a>  <span class="comment"> * @see course_create_sections_if_missing()</span>
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment"> * @see get_fast_modinfo()</span>
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1609"><span class="linenum">1609</span></a>  <span class="comment"> *</span>
<a name="l1610"><span class="linenum">1610</span></a>  <span class="comment"> * @param int $section relative section number (field course_sections.section)</span>
<a name="l1611"><span class="linenum">1611</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l1612"><span class="linenum">1612</span></a>  <span class="comment"> * @return stdClass record from table {course_sections}</span>
<a name="l1613"><span class="linenum">1613</span></a>  <span class="comment"> */</span>
<a name="l1614"><span class="linenum">1614</span></a>  function <a class="function" onClick="logFunction('get_course_section')" href="../_functions/get_course_section.html" onMouseOver="funcPopup(event,'get_course_section')">get_course_section</a>(<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l1615"><span class="linenum">1615</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l1616"><span class="linenum">1616</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_course_section')" href="../_functions/get_course_section.html" onMouseOver="funcPopup(event,'get_course_section')">get_course_section</a>() is deprecated. Please use <a class="function" onClick="logFunction('course_create_sections_if_missing')" href="../_functions/course_create_sections_if_missing.html" onMouseOver="funcPopup(event,'course_create_sections_if_missing')">course_create_sections_if_missing</a>() and <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1617"><span class="linenum">1617</span></a>  
<a name="l1618"><span class="linenum">1618</span></a>      if (<a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;course_sections&quot;, array(&quot;section&quot;=&gt;<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, &quot;course&quot;=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>))) {
<a name="l1619"><span class="linenum">1619</span></a>          return <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>;
<a name="l1620"><span class="linenum">1620</span></a>      }
<a name="l1621"><span class="linenum">1621</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a> = new stdClass();
<a name="l1622"><span class="linenum">1622</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>-&gt;<a onClick="logVariable('course')" class="var it41028" onMouseOver="hilite(41028)" onMouseOut="lolite()" href="../_variables/course.html">course</a>   = <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l1623"><span class="linenum">1623</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>-&gt;<a onClick="logVariable('section')" class="var it41028" onMouseOver="hilite(41028)" onMouseOut="lolite()" href="../_variables/section.html">section</a>  = <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>;
<a name="l1624"><span class="linenum">1624</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>-&gt;<a onClick="logVariable('summary')" class="var it41028" onMouseOver="hilite(41028)" onMouseOut="lolite()" href="../_variables/summary.html">summary</a>  = &quot;&quot;;
<a name="l1625"><span class="linenum">1625</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>-&gt;<a onClick="logVariable('summaryformat')" class="var it41028" onMouseOver="hilite(41028)" onMouseOut="lolite()" href="../_variables/summaryformat.html">summaryformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l1626"><span class="linenum">1626</span></a>      <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>-&gt;<a onClick="logVariable('sequence')" class="var it41028" onMouseOver="hilite(41028)" onMouseOut="lolite()" href="../_variables/sequence.html">sequence</a> = &quot;&quot;;
<a name="l1627"><span class="linenum">1627</span></a>      <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>(&quot;course_sections&quot;, <a class="var it543" onMouseOver="hilite(543)" onMouseOut="lolite()" onClick="logVariable('cw')" href="../_variables/cw.html">$cw</a>);
<a name="l1628"><span class="linenum">1628</span></a>      <a class="function" onClick="logFunction('rebuild_course_cache')" href="../_functions/rebuild_course_cache.html" onMouseOver="funcPopup(event,'rebuild_course_cache')">rebuild_course_cache</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, true);
<a name="l1629"><span class="linenum">1629</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;course_sections&quot;, array(&quot;id&quot;=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>));
<a name="l1630"><span class="linenum">1630</span></a>  }
<a name="l1631"><span class="linenum">1631</span></a>  
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">/**</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment"> * Return the start and end date of the week in Weekly course format</span>
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment"> *</span>
<a name="l1635"><span class="linenum">1635</span></a>  <span class="comment"> * It is not recommended to use this function outside of format_weeks plugin</span>
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment"> *</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment"> * @deprecated since 2.4</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment"> * @see format_weeks::get_section_dates()</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment"> *</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment"> * @param stdClass $section The course_section entry from the DB</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment"> * @param stdClass $course The course entry from DB</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment"> * @return stdClass property start for startdate, property end for enddate</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment"> */</span>
<a name="l1644"><span class="linenum">1644</span></a>  function <a class="function" onClick="logFunction('format_weeks_get_section_dates')" href="../_functions/format_weeks_get_section_dates.html" onMouseOver="funcPopup(event,'format_weeks_get_section_dates')">format_weeks_get_section_dates</a>(<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1645"><span class="linenum">1645</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('format_weeks_get_section_dates')" href="../_functions/format_weeks_get_section_dates.html" onMouseOver="funcPopup(event,'format_weeks_get_section_dates')">format_weeks_get_section_dates</a>() is deprecated. It is not recommended to'.
<a name="l1646"><span class="linenum">1646</span></a>              ' use it outside of format_weeks plugin', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1647"><span class="linenum">1647</span></a>      if (isset(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('format')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/format.html">format</a>) &amp;&amp; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('format')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/format.html">format</a> === 'weeks') {
<a name="l1648"><span class="linenum">1648</span></a>          return <a class="function" onClick="logFunction('course_get_format')" href="../_functions/course_get_format.html" onMouseOver="funcPopup(event,'course_get_format')">course_get_format</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)-&gt;<a class="function" onClick="logFunction('get_section_dates')" href="../_functions/get_section_dates.html" onMouseOver="funcPopup(event,'get_section_dates')">get_section_dates</a>(<a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>);
<a name="l1649"><span class="linenum">1649</span></a>      }
<a name="l1650"><span class="linenum">1650</span></a>      return null;
<a name="l1651"><span class="linenum">1651</span></a>  }
<a name="l1652"><span class="linenum">1652</span></a>  
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment">/**</span>
<a name="l1654"><span class="linenum">1654</span></a>  <span class="comment"> * Obtains shared data that is used in print_section when displaying a</span>
<a name="l1655"><span class="linenum">1655</span></a>  <span class="comment"> * course-module entry.</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment"> *</span>
<a name="l1657"><span class="linenum">1657</span></a>  <span class="comment"> * Deprecated. Instead of:</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment"> * list($content, $name) = get_print_section_cm_text($cm, $course);</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment"> * use:</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment"> * $content = $cm-&gt;get_formatted_content(array('overflowdiv' =&gt; true, 'noclean' =&gt; true));</span>
<a name="l1661"><span class="linenum">1661</span></a>  <span class="comment"> * $name = $cm-&gt;get_formatted_name();</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment"> *</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment"> * @see cm_info::get_formatted_content()</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment"> * @see cm_info::get_formatted_name()</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment"> *</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment"> * This data is also used in other areas of the code.</span>
<a name="l1668"><span class="linenum">1668</span></a>  <span class="comment"> * @param cm_info $cm Course-module data (must come from get_fast_modinfo)</span>
<a name="l1669"><span class="linenum">1669</span></a>  <span class="comment"> * @param object $course (argument not used)</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment"> * @return array An array with the following values in this order:</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment"> *   $content (optional extra content for after link),</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment"> *   $instancename (text of link)</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment"> */</span>
<a name="l1674"><span class="linenum">1674</span></a>  function <a class="function" onClick="logFunction('get_print_section_cm_text')" href="../_functions/get_print_section_cm_text.html" onMouseOver="funcPopup(event,'get_print_section_cm_text')">get_print_section_cm_text</a>(cm_info <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1675"><span class="linenum">1675</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_print_section_cm_text')" href="../_functions/get_print_section_cm_text.html" onMouseOver="funcPopup(event,'get_print_section_cm_text')">get_print_section_cm_text</a>() is deprecated. Please use '.
<a name="l1676"><span class="linenum">1676</span></a>              '<a class="class" onClick="logClass('cm_info')" href="../_classes/cm_info.html" onMouseOver="classPopup(event,'cm_info')">cm_info</a>::<a class="function" onClick="logFunction('get_formatted_content')" href="../_functions/get_formatted_content.html" onMouseOver="funcPopup(event,'get_formatted_content')">get_formatted_content</a>() and <a class="class" onClick="logClass('cm_info')" href="../_classes/cm_info.html" onMouseOver="classPopup(event,'cm_info')">cm_info</a>::<a class="function" onClick="logFunction('get_formatted_name')" href="../_functions/get_formatted_name.html" onMouseOver="funcPopup(event,'get_formatted_name')">get_formatted_name</a>()',
<a name="l1677"><span class="linenum">1677</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1678"><span class="linenum">1678</span></a>      return array(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a class="function" onClick="logFunction('get_formatted_content')" href="../_functions/get_formatted_content.html" onMouseOver="funcPopup(event,'get_formatted_content')">get_formatted_content</a>(array('overflowdiv' =&gt; true, 'noclean' =&gt; true)),
<a name="l1679"><span class="linenum">1679</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a class="function" onClick="logFunction('get_formatted_name')" href="../_functions/get_formatted_name.html" onMouseOver="funcPopup(event,'get_formatted_name')">get_formatted_name</a>());
<a name="l1680"><span class="linenum">1680</span></a>  }
<a name="l1681"><span class="linenum">1681</span></a>  
<a name="l1682"><span class="linenum">1682</span></a>  <span class="comment">/**</span>
<a name="l1683"><span class="linenum">1683</span></a>  <span class="comment"> * Prints the menus to add activities and resources.</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment"> *</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment"> * $output = $courserenderer-&gt;course_section_add_cm_control($course, $section, $sectionreturn,</span>
<a name="l1688"><span class="linenum">1688</span></a>  <span class="comment"> *    array('inblock' =&gt; $vertical));</span>
<a name="l1689"><span class="linenum">1689</span></a>  <span class="comment"> * echo $output; // if $return argument in print_section_add_menus() set to false</span>
<a name="l1690"><span class="linenum">1690</span></a>  <span class="comment"> *</span>
<a name="l1691"><span class="linenum">1691</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1692"><span class="linenum">1692</span></a>  <span class="comment"> * @see core_course_renderer::course_section_add_cm_control()</span>
<a name="l1693"><span class="linenum">1693</span></a>  <span class="comment"> *</span>
<a name="l1694"><span class="linenum">1694</span></a>  <span class="comment"> * @param stdClass $course course object, must be the same as set on the page</span>
<a name="l1695"><span class="linenum">1695</span></a>  <span class="comment"> * @param int $section relative section number (field course_sections.section)</span>
<a name="l1696"><span class="linenum">1696</span></a>  <span class="comment"> * @param null|array $modnames (argument ignored) get_module_types_names() is used instead of argument</span>
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment"> * @param bool $vertical Vertical orientation</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment"> * @param bool $return Return the menus or send them to output</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment"> * @param int $sectionreturn The section to link back to</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment"> * @return void|string depending on $return</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment"> */</span>
<a name="l1702"><span class="linenum">1702</span></a>  function <a class="function" onClick="logFunction('print_section_add_menus')" href="../_functions/print_section_add_menus.html" onMouseOver="funcPopup(event,'print_section_add_menus')">print_section_add_menus</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it7072" onMouseOver="hilite(7072)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../_variables/modnames.html">$modnames</a> = null, <a class="var it7289" onMouseOver="hilite(7289)" onMouseOut="lolite()" onClick="logVariable('vertical')" href="../_variables/vertical.html">$vertical</a>=false, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it7288" onMouseOver="hilite(7288)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>=null) {
<a name="l1703"><span class="linenum">1703</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l1704"><span class="linenum">1704</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_section_add_menus')" href="../_functions/print_section_add_menus.html" onMouseOver="funcPopup(event,'print_section_add_menus')">print_section_add_menus</a>() is deprecated. Please use course renderer '.
<a name="l1705"><span class="linenum">1705</span></a>              'function <a class="function" onClick="logFunction('course_section_add_cm_control')" href="../_functions/course_section_add_cm_control.html" onMouseOver="funcPopup(event,'course_section_add_cm_control')">course_section_add_cm_control</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1706"><span class="linenum">1706</span></a>      <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = '';
<a name="l1707"><span class="linenum">1707</span></a>      <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l1708"><span class="linenum">1708</span></a>      <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a> = <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a>-&gt;<a class="function" onClick="logFunction('course_section_add_cm_control')" href="../_functions/course_section_add_cm_control.html" onMouseOver="funcPopup(event,'course_section_add_cm_control')">course_section_add_cm_control</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it7288" onMouseOver="hilite(7288)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>,
<a name="l1709"><span class="linenum">1709</span></a>              array('inblock' =&gt; <a class="var it7289" onMouseOver="hilite(7289)" onMouseOut="lolite()" onClick="logVariable('vertical')" href="../_variables/vertical.html">$vertical</a>));
<a name="l1710"><span class="linenum">1710</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l1711"><span class="linenum">1711</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1712"><span class="linenum">1712</span></a>      } else {
<a name="l1713"><span class="linenum">1713</span></a>          echo <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>;
<a name="l1714"><span class="linenum">1714</span></a>          return !empty(<a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../_variables/output.html">$output</a>);
<a name="l1715"><span class="linenum">1715</span></a>      }
<a name="l1716"><span class="linenum">1716</span></a>  }
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>  <span class="comment">/**</span>
<a name="l1719"><span class="linenum">1719</span></a>  <span class="comment"> * Produces the editing buttons for a module</span>
<a name="l1720"><span class="linenum">1720</span></a>  <span class="comment"> *</span>
<a name="l1721"><span class="linenum">1721</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1722"><span class="linenum">1722</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1723"><span class="linenum">1723</span></a>  <span class="comment"> * $actions = course_get_cm_edit_actions($mod, $indent, $section);</span>
<a name="l1724"><span class="linenum">1724</span></a>  <span class="comment"> * return ' ' . $courserenderer-&gt;course_section_cm_edit_actions($actions);</span>
<a name="l1725"><span class="linenum">1725</span></a>  <span class="comment"> *</span>
<a name="l1726"><span class="linenum">1726</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment"> * @see course_get_cm_edit_actions()</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment"> * @see core_course_renderer-&gt;course_section_cm_edit_actions()</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment"> *</span>
<a name="l1730"><span class="linenum">1730</span></a>  <span class="comment"> * @param stdClass $mod The module to produce editing buttons for</span>
<a name="l1731"><span class="linenum">1731</span></a>  <span class="comment"> * @param bool $absolute_ignored (argument ignored) - all links are absolute</span>
<a name="l1732"><span class="linenum">1732</span></a>  <span class="comment"> * @param bool $moveselect (argument ignored)</span>
<a name="l1733"><span class="linenum">1733</span></a>  <span class="comment"> * @param int $indent The current indenting</span>
<a name="l1734"><span class="linenum">1734</span></a>  <span class="comment"> * @param int $section The section to link back to</span>
<a name="l1735"><span class="linenum">1735</span></a>  <span class="comment"> * @return string XHTML for the editing buttons</span>
<a name="l1736"><span class="linenum">1736</span></a>  <span class="comment"> */</span>
<a name="l1737"><span class="linenum">1737</span></a>  function <a class="function" onClick="logFunction('make_editing_buttons')" href="../_functions/make_editing_buttons.html" onMouseOver="funcPopup(event,'make_editing_buttons')">make_editing_buttons</a>(stdClass <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it25233" onMouseOver="hilite(25233)" onMouseOut="lolite()" onClick="logVariable('absolute_ignored')" href="../_variables/absolute_ignored.html">$absolute_ignored</a> = true, <a class="var it25234" onMouseOver="hilite(25234)" onMouseOut="lolite()" onClick="logVariable('moveselect')" href="../_variables/moveselect.html">$moveselect</a> = true, <a class="var it244" onMouseOver="hilite(244)" onMouseOut="lolite()" onClick="logVariable('indent')" href="../_variables/indent.html">$indent</a>=-1, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>=null) {
<a name="l1738"><span class="linenum">1738</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l1739"><span class="linenum">1739</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('make_editing_buttons')" href="../_functions/make_editing_buttons.html" onMouseOver="funcPopup(event,'make_editing_buttons')">make_editing_buttons</a>() is deprecated, please see PHPdocs in '.
<a name="l1740"><span class="linenum">1740</span></a>              'lib/deprecatedlib.php on how to replace it', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1741"><span class="linenum">1741</span></a>      if (!(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a> instanceof cm_info)) {
<a name="l1742"><span class="linenum">1742</span></a>          <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('course')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/course.html">course</a>);
<a name="l1743"><span class="linenum">1743</span></a>          <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('id')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1744"><span class="linenum">1744</span></a>      }
<a name="l1745"><span class="linenum">1745</span></a>      <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a> = <a class="function" onClick="logFunction('course_get_cm_edit_actions')" href="../_functions/course_get_cm_edit_actions.html" onMouseOver="funcPopup(event,'course_get_cm_edit_actions')">course_get_cm_edit_actions</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>, <a class="var it244" onMouseOver="hilite(244)" onMouseOut="lolite()" onClick="logVariable('indent')" href="../_variables/indent.html">$indent</a>, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>);
<a name="l1746"><span class="linenum">1746</span></a>  
<a name="l1747"><span class="linenum">1747</span></a>      <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l1748"><span class="linenum">1748</span></a>  <span class="comment">    // The space added before the &lt;span&gt; is a ugly hack but required to set the CSS property white-space: nowrap</span>
<a name="l1749"><span class="linenum">1749</span></a>  <span class="comment">    // and having it to work without attaching the preceding text along with it. Hopefully the refactoring of</span>
<a name="l1750"><span class="linenum">1750</span></a>  <span class="comment">    // the course page HTML will allow this to be removed.</span>
<a name="l1751"><span class="linenum">1751</span></a>      return ' ' . <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a>-&gt;<a class="function" onClick="logFunction('course_section_cm_edit_actions')" href="../_functions/course_section_cm_edit_actions.html" onMouseOver="funcPopup(event,'course_section_cm_edit_actions')">course_section_cm_edit_actions</a>(<a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>);
<a name="l1752"><span class="linenum">1752</span></a>  }
<a name="l1753"><span class="linenum">1753</span></a>  
<a name="l1754"><span class="linenum">1754</span></a>  <span class="comment">/**</span>
<a name="l1755"><span class="linenum">1755</span></a>  <span class="comment"> * Prints a section full of activity modules</span>
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment"> *</span>
<a name="l1757"><span class="linenum">1757</span></a>  <span class="comment"> * Deprecated. Please use:</span>
<a name="l1758"><span class="linenum">1758</span></a>  <span class="comment"> * $courserenderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l1759"><span class="linenum">1759</span></a>  <span class="comment"> * echo $courserenderer-&gt;course_section_cm_list($course, $section, $sectionreturn,</span>
<a name="l1760"><span class="linenum">1760</span></a>  <span class="comment"> *     array('hidecompletion' =&gt; $hidecompletion));</span>
<a name="l1761"><span class="linenum">1761</span></a>  <span class="comment"> *</span>
<a name="l1762"><span class="linenum">1762</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1763"><span class="linenum">1763</span></a>  <span class="comment"> * @see core_course_renderer::course_section_cm_list()</span>
<a name="l1764"><span class="linenum">1764</span></a>  <span class="comment"> *</span>
<a name="l1765"><span class="linenum">1765</span></a>  <span class="comment"> * @param stdClass $course The course</span>
<a name="l1766"><span class="linenum">1766</span></a>  <span class="comment"> * @param stdClass|section_info $section The section object containing properties id and section</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment"> * @param array $mods (argument not used)</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment"> * @param array $modnamesused (argument not used)</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment"> * @param bool $absolute (argument not used)</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment"> * @param string $width (argument not used)</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment"> * @param bool $hidecompletion Hide completion status</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment"> * @param int $sectionreturn The section to return to</span>
<a name="l1773"><span class="linenum">1773</span></a>  <span class="comment"> * @return void</span>
<a name="l1774"><span class="linenum">1774</span></a>  <span class="comment"> */</span>
<a name="l1775"><span class="linenum">1775</span></a>  function <a class="function" onClick="logFunction('print_section')" href="../_functions/print_section.html" onMouseOver="funcPopup(event,'print_section')">print_section</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it411" onMouseOver="hilite(411)" onMouseOut="lolite()" onClick="logVariable('mods')" href="../_variables/mods.html">$mods</a>, <a class="var it8046" onMouseOver="hilite(8046)" onMouseOut="lolite()" onClick="logVariable('modnamesused')" href="../_variables/modnamesused.html">$modnamesused</a>, <a class="var it12553" onMouseOver="hilite(12553)" onMouseOut="lolite()" onClick="logVariable('absolute')" href="../_variables/absolute.html">$absolute</a>=false, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;, <a class="var it25235" onMouseOver="hilite(25235)" onMouseOut="lolite()" onClick="logVariable('hidecompletion')" href="../_variables/hidecompletion.html">$hidecompletion</a>=false, <a class="var it7288" onMouseOver="hilite(7288)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>=null) {
<a name="l1776"><span class="linenum">1776</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l1777"><span class="linenum">1777</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_section')" href="../_functions/print_section.html" onMouseOver="funcPopup(event,'print_section')">print_section</a>() is deprecated. Please use course renderer function '.
<a name="l1778"><span class="linenum">1778</span></a>              '<a class="function" onClick="logFunction('course_section_cm_list')" href="../_functions/course_section_cm_list.html" onMouseOver="funcPopup(event,'course_section_cm_list')">course_section_cm_list</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1779"><span class="linenum">1779</span></a>      <a class="var it1263" onMouseOver="hilite(1263)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../_variables/displayoptions.html">$displayoptions</a> = array('hidecompletion' =&gt; <a class="var it25235" onMouseOver="hilite(25235)" onMouseOut="lolite()" onClick="logVariable('hidecompletion')" href="../_variables/hidecompletion.html">$hidecompletion</a>);
<a name="l1780"><span class="linenum">1780</span></a>      <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l1781"><span class="linenum">1781</span></a>      echo <a class="var it4267" onMouseOver="hilite(4267)" onMouseOut="lolite()" onClick="logVariable('courserenderer')" href="../_variables/courserenderer.html">$courserenderer</a>-&gt;<a class="function" onClick="logFunction('course_section_cm_list')" href="../_functions/course_section_cm_list.html" onMouseOver="funcPopup(event,'course_section_cm_list')">course_section_cm_list</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('section')" href="../_variables/section.html">$section</a>, <a class="var it7288" onMouseOver="hilite(7288)" onMouseOut="lolite()" onClick="logVariable('sectionreturn')" href="../_variables/sectionreturn.html">$sectionreturn</a>, <a class="var it1263" onMouseOver="hilite(1263)" onMouseOut="lolite()" onClick="logVariable('displayoptions')" href="../_variables/displayoptions.html">$displayoptions</a>);
<a name="l1782"><span class="linenum">1782</span></a>  }
<a name="l1783"><span class="linenum">1783</span></a>  
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">/**</span>
<a name="l1785"><span class="linenum">1785</span></a>  <span class="comment"> * Displays the list of courses with user notes</span>
<a name="l1786"><span class="linenum">1786</span></a>  <span class="comment"> *</span>
<a name="l1787"><span class="linenum">1787</span></a>  <span class="comment"> * This function is not used in core. It was replaced by block course_overview</span>
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment"> *</span>
<a name="l1789"><span class="linenum">1789</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1790"><span class="linenum">1790</span></a>  <span class="comment"> *</span>
<a name="l1791"><span class="linenum">1791</span></a>  <span class="comment"> * @param array $courses</span>
<a name="l1792"><span class="linenum">1792</span></a>  <span class="comment"> * @param array $remote_courses</span>
<a name="l1793"><span class="linenum">1793</span></a>  <span class="comment"> */</span>
<a name="l1794"><span class="linenum">1794</span></a>  function <a class="function" onClick="logFunction('print_overview')" href="../_functions/print_overview.html" onMouseOver="funcPopup(event,'print_overview')">print_overview</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>, array <a class="var it25236" onMouseOver="hilite(25236)" onMouseOut="lolite()" onClick="logVariable('remote_courses')" href="../_variables/remote_courses.html">$remote_courses</a>=array()) {
<a name="l1795"><span class="linenum">1795</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1796"><span class="linenum">1796</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_overview')" href="../_functions/print_overview.html" onMouseOver="funcPopup(event,'print_overview')">print_overview</a>() is deprecated. Use block course_overview to display this information', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1797"><span class="linenum">1797</span></a>  
<a name="l1798"><span class="linenum">1798</span></a>      <a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../_variables/htmlarray.html">$htmlarray</a> = array();
<a name="l1799"><span class="linenum">1799</span></a>      if (<a class="var it610" onMouseOver="hilite(610)" onMouseOut="lolite()" onClick="logVariable('modules')" href="../_variables/modules.html">$modules</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('modules')) {
<a name="l1800"><span class="linenum">1800</span></a>          foreach (<a class="var it610" onMouseOver="hilite(610)" onMouseOut="lolite()" onClick="logVariable('modules')" href="../_variables/modules.html">$modules</a> as <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>) {
<a name="l1801"><span class="linenum">1801</span></a>              if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__)).'/mod/'.<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('name')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/name.html">name</a>.'/lib.php')) {
<a name="l1802"><span class="linenum">1802</span></a>                  include_once(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__)).'/mod/'.<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('name')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/name.html">name</a>.'/lib.php');
<a name="l1803"><span class="linenum">1803</span></a>                  <a class="var it1802" onMouseOver="hilite(1802)" onMouseOut="lolite()" onClick="logVariable('fname')" href="../_variables/fname.html">$fname</a> = <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('name')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../_variables/name.html">name</a>.'_print_overview';
<a name="l1804"><span class="linenum">1804</span></a>                  if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it1802" onMouseOver="hilite(1802)" onMouseOut="lolite()" onClick="logVariable('fname')" href="../_variables/fname.html">$fname</a>)) {
<a name="l1805"><span class="linenum">1805</span></a>                      <a class="var it1802" onMouseOver="hilite(1802)" onMouseOut="lolite()" onClick="logVariable('fname')" href="../_variables/fname.html">$fname</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>,<a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../_variables/htmlarray.html">$htmlarray</a>);
<a name="l1806"><span class="linenum">1806</span></a>                  }
<a name="l1807"><span class="linenum">1807</span></a>              }
<a name="l1808"><span class="linenum">1808</span></a>          }
<a name="l1809"><span class="linenum">1809</span></a>      }
<a name="l1810"><span class="linenum">1810</span></a>      foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1811"><span class="linenum">1811</span></a>          <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)));
<a name="l1812"><span class="linenum">1812</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('coursebox');
<a name="l1813"><span class="linenum">1813</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('title' =&gt; <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>));
<a name="l1814"><span class="linenum">1814</span></a>          if (empty(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('visible')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a>)) {
<a name="l1815"><span class="linenum">1815</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>['class'] = 'dimmed';
<a name="l1816"><span class="linenum">1816</span></a>          }
<a name="l1817"><span class="linenum">1817</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l1818"><span class="linenum">1818</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/view.php.html">/course/view.php</a>', array('id' =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)), <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>, <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>), 3);
<a name="l1819"><span class="linenum">1819</span></a>          if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,<a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../_variables/htmlarray.html">$htmlarray</a>)) {
<a name="l1820"><span class="linenum">1820</span></a>              foreach (<a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../_variables/htmlarray.html">$htmlarray</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] as <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a> =&gt; <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>) {
<a name="l1821"><span class="linenum">1821</span></a>                  echo <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../_variables/html.html">$html</a>;
<a name="l1822"><span class="linenum">1822</span></a>              }
<a name="l1823"><span class="linenum">1823</span></a>          }
<a name="l1824"><span class="linenum">1824</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l1825"><span class="linenum">1825</span></a>      }
<a name="l1826"><span class="linenum">1826</span></a>  
<a name="l1827"><span class="linenum">1827</span></a>      if (!empty(<a class="var it25236" onMouseOver="hilite(25236)" onMouseOut="lolite()" onClick="logVariable('remote_courses')" href="../_variables/remote_courses.html">$remote_courses</a>)) {
<a name="l1828"><span class="linenum">1828</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('remotecourses', 'mnet'));
<a name="l1829"><span class="linenum">1829</span></a>      }
<a name="l1830"><span class="linenum">1830</span></a>      foreach (<a class="var it25236" onMouseOver="hilite(25236)" onMouseOut="lolite()" onClick="logVariable('remote_courses')" href="../_variables/remote_courses.html">$remote_courses</a> as <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1831"><span class="linenum">1831</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('coursebox');
<a name="l1832"><span class="linenum">1832</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a> = array('title' =&gt; <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>));
<a name="l1833"><span class="linenum">1833</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l1834"><span class="linenum">1834</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../auth/mnet/jump.php.html">/auth/mnet/jump.php</a>', array('hostid' =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('hostid')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/hostid.html">hostid</a>, 'wantsurl' =&gt; '/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('remoteid')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/remoteid.html">remoteid</a>)),
<a name="l1835"><span class="linenum">1835</span></a>              <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('shortname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>),
<a name="l1836"><span class="linenum">1836</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../_variables/attributes.html">$attributes</a>) . ' (' . <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('hostname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/hostname.html">hostname</a>) . ')', 3);
<a name="l1837"><span class="linenum">1837</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l1838"><span class="linenum">1838</span></a>      }
<a name="l1839"><span class="linenum">1839</span></a>  }
<a name="l1840"><span class="linenum">1840</span></a>  
<a name="l1841"><span class="linenum">1841</span></a>  <span class="comment">/**</span>
<a name="l1842"><span class="linenum">1842</span></a>  <span class="comment"> * This function trawls through the logs looking for</span>
<a name="l1843"><span class="linenum">1843</span></a>  <span class="comment"> * anything new since the user's last login</span>
<a name="l1844"><span class="linenum">1844</span></a>  <span class="comment"> *</span>
<a name="l1845"><span class="linenum">1845</span></a>  <span class="comment"> * This function was only used to print the content of block recent_activity</span>
<a name="l1846"><span class="linenum">1846</span></a>  <span class="comment"> * All functionality is moved into class {@link block_recent_activity}</span>
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment"> * and renderer {@link block_recent_activity_renderer}</span>
<a name="l1848"><span class="linenum">1848</span></a>  <span class="comment"> *</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment"> */</span>
<a name="l1852"><span class="linenum">1852</span></a>  function <a class="function" onClick="logFunction('print_recent_activity')" href="../_functions/print_recent_activity.html" onMouseOver="funcPopup(event,'print_recent_activity')">print_recent_activity</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l1853"><span class="linenum">1853</span></a>  <span class="comment">    // $course is an object</span>
<a name="l1854"><span class="linenum">1854</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../_variables/SESSION.html">$SESSION</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1855"><span class="linenum">1855</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_recent_activity')" href="../_functions/print_recent_activity.html" onMouseOver="funcPopup(event,'print_recent_activity')">print_recent_activity</a>() is deprecated. It is not recommended to'.
<a name="l1856"><span class="linenum">1856</span></a>              ' use it outside of block_recent_activity', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1857"><span class="linenum">1857</span></a>  
<a name="l1858"><span class="linenum">1858</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l1859"><span class="linenum">1859</span></a>  
<a name="l1860"><span class="linenum">1860</span></a>      <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../_variables/viewfullnames.html">$viewfullnames</a> = <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:viewfullnames', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l1861"><span class="linenum">1861</span></a>  
<a name="l1862"><span class="linenum">1862</span></a>      <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a> = <a class="phpfunction" onClick="logFunction('round')" href="../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() - <a class="constant" onClick="logConstant('COURSE_MAX_RECENT_PERIOD')" href="../_constants/COURSE_MAX_RECENT_PERIOD.html" onMouseOver="constPopup(event,'COURSE_MAX_RECENT_PERIOD')">COURSE_MAX_RECENT_PERIOD</a>, -2); <span class="comment">// better db caching for guests - 100 seconds</span>
<a name="l1863"><span class="linenum">1863</span></a>  
<a name="l1864"><span class="linenum">1864</span></a>      if (!<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l1865"><span class="linenum">1865</span></a>          if (!empty(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('lastcourseaccess')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/lastcourseaccess.html">lastcourseaccess</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>])) {
<a name="l1866"><span class="linenum">1866</span></a>              if (<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('lastcourseaccess')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/lastcourseaccess.html">lastcourseaccess</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] &gt; <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>) {
<a name="l1867"><span class="linenum">1867</span></a>                  <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('lastcourseaccess')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/lastcourseaccess.html">lastcourseaccess</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>];
<a name="l1868"><span class="linenum">1868</span></a>              }
<a name="l1869"><span class="linenum">1869</span></a>          }
<a name="l1870"><span class="linenum">1870</span></a>      }
<a name="l1871"><span class="linenum">1871</span></a>  
<a name="l1872"><span class="linenum">1872</span></a>      echo '&lt;div class=&quot;activitydate&quot;&gt;';
<a name="l1873"><span class="linenum">1873</span></a>      echo <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('activitysince', '', <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>));
<a name="l1874"><span class="linenum">1874</span></a>      echo '&lt;/div&gt;';
<a name="l1875"><span class="linenum">1875</span></a>      echo '&lt;div class=&quot;activityhead&quot;&gt;';
<a name="l1876"><span class="linenum">1876</span></a>  
<a name="l1877"><span class="linenum">1877</span></a>      echo '&lt;a href=&quot;'.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>.'/course/recent.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>.'&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('recentactivityreport').'&lt;/a&gt;';
<a name="l1878"><span class="linenum">1878</span></a>  
<a name="l1879"><span class="linenum">1879</span></a>      echo &quot;&lt;/div&gt;\n&quot;;
<a name="l1880"><span class="linenum">1880</span></a>  
<a name="l1881"><span class="linenum">1881</span></a>      <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = false;
<a name="l1882"><span class="linenum">1882</span></a>  
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment">/// Firstly, have there been any new enrolments?</span>
<a name="l1884"><span class="linenum">1884</span></a>  
<a name="l1885"><span class="linenum">1885</span></a>      <a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> = <a class="function" onClick="logFunction('get_recent_enrolments')" href="../_functions/get_recent_enrolments.html" onMouseOver="funcPopup(event,'get_recent_enrolments')">get_recent_enrolments</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>);
<a name="l1886"><span class="linenum">1886</span></a>  
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment">    //Accessibility: new users now appear in an &lt;OL&gt; list.</span>
<a name="l1888"><span class="linenum">1888</span></a>      if (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a>) {
<a name="l1889"><span class="linenum">1889</span></a>          echo '&lt;div class=&quot;newusers&quot;&gt;';
<a name="l1890"><span class="linenum">1890</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;newusers&quot;).':', 3);
<a name="l1891"><span class="linenum">1891</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = true;
<a name="l1892"><span class="linenum">1892</span></a>          echo &quot;&lt;ol class=\&quot;list\&quot;&gt;\n&quot;;
<a name="l1893"><span class="linenum">1893</span></a>          foreach (<a class="var it572" onMouseOver="hilite(572)" onMouseOut="lolite()" onClick="logVariable('users')" href="../_variables/users.html">$users</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l1894"><span class="linenum">1894</span></a>              <a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a> = <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../_variables/viewfullnames.html">$viewfullnames</a>);
<a name="l1895"><span class="linenum">1895</span></a>              echo '&lt;li class=&quot;name&quot;&gt;&lt;a href=&quot;'.&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/user/view.php?id=<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>&amp;amp;course=<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>\&quot;&gt;<a class="var it104" onMouseOver="hilite(104)" onMouseOut="lolite()" onClick="logVariable('fullname')" href="../_variables/fullname.html">$fullname</a>&lt;/a&gt;&lt;/li&gt;\n&quot;;
<a name="l1896"><span class="linenum">1896</span></a>          }
<a name="l1897"><span class="linenum">1897</span></a>          echo &quot;&lt;/ol&gt;\n&lt;/div&gt;\n&quot;;
<a name="l1898"><span class="linenum">1898</span></a>      }
<a name="l1899"><span class="linenum">1899</span></a>  
<a name="l1900"><span class="linenum">1900</span></a>  <span class="comment">/// Next, have there been any modifications to the course structure?</span>
<a name="l1901"><span class="linenum">1901</span></a>  
<a name="l1902"><span class="linenum">1902</span></a>      <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l1903"><span class="linenum">1903</span></a>  
<a name="l1904"><span class="linenum">1904</span></a>      <a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a> = array();
<a name="l1905"><span class="linenum">1905</span></a>  
<a name="l1906"><span class="linenum">1906</span></a>      <a class="var it1692" onMouseOver="hilite(1692)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../_variables/logs.html">$logs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('log', &quot;time &gt; ? AND course = ? AND
<a name="l1907"><span class="linenum">1907</span></a>                                              module = 'course' AND
<a name="l1908"><span class="linenum">1908</span></a>                                              (action = 'add mod' OR action = 'update mod' OR action = 'delete mod')&quot;,
<a name="l1909"><span class="linenum">1909</span></a>                                      array(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>), &quot;id ASC&quot;);
<a name="l1910"><span class="linenum">1910</span></a>  
<a name="l1911"><span class="linenum">1911</span></a>      if (<a class="var it1692" onMouseOver="hilite(1692)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../_variables/logs.html">$logs</a>) {
<a name="l1912"><span class="linenum">1912</span></a>          <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>  = array('add mod', 'update mod', 'delete mod');
<a name="l1913"><span class="linenum">1913</span></a>          <a class="var it25238" onMouseOver="hilite(25238)" onMouseOut="lolite()" onClick="logVariable('newgones')" href="../_variables/newgones.html">$newgones</a> = array(); <span class="comment">// added and later deleted items</span>
<a name="l1914"><span class="linenum">1914</span></a>          foreach (<a class="var it1692" onMouseOver="hilite(1692)" onMouseOut="lolite()" onClick="logVariable('logs')" href="../_variables/logs.html">$logs</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../_variables/key.html">$key</a> =&gt; <a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>) {
<a name="l1915"><span class="linenum">1915</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/action.html">action</a>, <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../_variables/actions.html">$actions</a>)) {
<a name="l1916"><span class="linenum">1916</span></a>                  continue;
<a name="l1917"><span class="linenum">1917</span></a>              }
<a name="l1918"><span class="linenum">1918</span></a>              <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ', <a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>);
<a name="l1919"><span class="linenum">1919</span></a>  
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">            // note: in most cases I replaced hardcoding of label with use of</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment">            // $cm-&gt;has_view() but it was not possible to do this here because</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment">            // we don't necessarily have the $cm for it</span>
<a name="l1923"><span class="linenum">1923</span></a>              if (<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>[0] == 'label') {     // Labels are ignored in recent activity
<a name="l1924"><span class="linenum">1924</span></a>                  continue;
<a name="l1925"><span class="linenum">1925</span></a>              }
<a name="l1926"><span class="linenum">1926</span></a>  
<a name="l1927"><span class="linenum">1927</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>) != 2) {
<a name="l1928"><span class="linenum">1928</span></a>                  <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Incorrect log entry info: id = &quot;.<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('id')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1929"><span class="linenum">1929</span></a>                  continue;
<a name="l1930"><span class="linenum">1930</span></a>              }
<a name="l1931"><span class="linenum">1931</span></a>  
<a name="l1932"><span class="linenum">1932</span></a>              <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>    = <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>[0];
<a name="l1933"><span class="linenum">1933</span></a>              <a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a> = <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>[1];
<a name="l1934"><span class="linenum">1934</span></a>  
<a name="l1935"><span class="linenum">1935</span></a>              if (<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/action.html">action</a> == 'delete mod') {
<a name="l1936"><span class="linenum">1936</span></a>  <span class="comment">                // unfortunately we do not know if the mod was visible</span>
<a name="l1937"><span class="linenum">1937</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>, <a class="var it25238" onMouseOver="hilite(25238)" onMouseOut="lolite()" onClick="logVariable('newgones')" href="../_variables/newgones.html">$newgones</a>)) {
<a name="l1938"><span class="linenum">1938</span></a>                      <a class="var it13005" onMouseOver="hilite(13005)" onMouseOut="lolite()" onClick="logVariable('strdeleted')" href="../_variables/strdeleted.html">$strdeleted</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deletedactivity', 'moodle', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>));
<a name="l1939"><span class="linenum">1939</span></a>                      <a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a>[<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>] = array ('operation' =&gt; 'delete', 'text' =&gt; <a class="var it13005" onMouseOver="hilite(13005)" onMouseOut="lolite()" onClick="logVariable('strdeleted')" href="../_variables/strdeleted.html">$strdeleted</a>);
<a name="l1940"><span class="linenum">1940</span></a>                  }
<a name="l1941"><span class="linenum">1941</span></a>              } else {
<a name="l1942"><span class="linenum">1942</span></a>                  if (!isset(<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a onClick="logVariable('instances')" class="var it39598" onMouseOver="hilite(39598)" onMouseOut="lolite()" href="../_variables/instances.html">instances</a>[<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>][<a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>])) {
<a name="l1943"><span class="linenum">1943</span></a>                      if (<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/action.html">action</a> == 'add mod') {
<a name="l1944"><span class="linenum">1944</span></a>  <span class="comment">                        // do not display added and later deleted activities</span>
<a name="l1945"><span class="linenum">1945</span></a>                          <a class="var it25238" onMouseOver="hilite(25238)" onMouseOut="lolite()" onClick="logVariable('newgones')" href="../_variables/newgones.html">$newgones</a>[<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>] = true;
<a name="l1946"><span class="linenum">1946</span></a>                      }
<a name="l1947"><span class="linenum">1947</span></a>                      continue;
<a name="l1948"><span class="linenum">1948</span></a>                  }
<a name="l1949"><span class="linenum">1949</span></a>                  <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a onClick="logVariable('instances')" class="var it39598" onMouseOver="hilite(39598)" onMouseOut="lolite()" href="../_variables/instances.html">instances</a>[<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>][<a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>];
<a name="l1950"><span class="linenum">1950</span></a>                  if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a>) {
<a name="l1951"><span class="linenum">1951</span></a>                      continue;
<a name="l1952"><span class="linenum">1952</span></a>                  }
<a name="l1953"><span class="linenum">1953</span></a>  
<a name="l1954"><span class="linenum">1954</span></a>                  if (<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/action.html">action</a> == 'add mod') {
<a name="l1955"><span class="linenum">1955</span></a>                      <a class="var it25239" onMouseOver="hilite(25239)" onMouseOut="lolite()" onClick="logVariable('stradded')" href="../_variables/stradded.html">$stradded</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('added', 'moodle', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>));
<a name="l1956"><span class="linenum">1956</span></a>                      <a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a>[<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>] = array('operation' =&gt; 'add', 'text' =&gt; &quot;<a class="var it25239" onMouseOver="hilite(25239)" onMouseOut="lolite()" onClick="logVariable('stradded')" href="../_variables/stradded.html">$stradded</a>:&lt;br /&gt;&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/mod/<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>/view.php?id={<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>}\&quot;&gt;&quot;.<a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, true).&quot;&lt;/a&gt;&quot;);
<a name="l1957"><span class="linenum">1957</span></a>  
<a name="l1958"><span class="linenum">1958</span></a>                  } else if (<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('action')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/action.html">action</a> == 'update mod' and empty(<a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a>[<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>])) {
<a name="l1959"><span class="linenum">1959</span></a>                      <a class="var it25240" onMouseOver="hilite(25240)" onMouseOut="lolite()" onClick="logVariable('strupdated')" href="../_variables/strupdated.html">$strupdated</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('updated', 'moodle', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>));
<a name="l1960"><span class="linenum">1960</span></a>                      <a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a>[<a class="var it1193" onMouseOver="hilite(1193)" onMouseOut="lolite()" onClick="logVariable('log')" href="../_variables/log.html">$log</a>-&gt;<a onClick="logVariable('info')" class="var it39682" onMouseOver="hilite(39682)" onMouseOut="lolite()" href="../_variables/info.html">info</a>] = array('operation' =&gt; 'update', 'text' =&gt; &quot;<a class="var it25240" onMouseOver="hilite(25240)" onMouseOut="lolite()" onClick="logVariable('strupdated')" href="../_variables/strupdated.html">$strupdated</a>:&lt;br /&gt;&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>/mod/<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>/view.php?id={<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>}\&quot;&gt;&quot;.<a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, true).&quot;&lt;/a&gt;&quot;);
<a name="l1961"><span class="linenum">1961</span></a>                  }
<a name="l1962"><span class="linenum">1962</span></a>              }
<a name="l1963"><span class="linenum">1963</span></a>          }
<a name="l1964"><span class="linenum">1964</span></a>      }
<a name="l1965"><span class="linenum">1965</span></a>  
<a name="l1966"><span class="linenum">1966</span></a>      if (!empty(<a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a>)) {
<a name="l1967"><span class="linenum">1967</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;courseupdates&quot;).':', 3);
<a name="l1968"><span class="linenum">1968</span></a>          <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = true;
<a name="l1969"><span class="linenum">1969</span></a>          foreach (<a class="var it25237" onMouseOver="hilite(25237)" onMouseOut="lolite()" onClick="logVariable('changelist')" href="../_variables/changelist.html">$changelist</a> as <a class="var it15419" onMouseOver="hilite(15419)" onMouseOut="lolite()" onClick="logVariable('changeinfo')" href="../_variables/changeinfo.html">$changeinfo</a> =&gt; <a class="var it6336" onMouseOver="hilite(6336)" onMouseOut="lolite()" onClick="logVariable('change')" href="../_variables/change.html">$change</a>) {
<a name="l1970"><span class="linenum">1970</span></a>              echo '&lt;p class=&quot;activity&quot;&gt;'.<a class="var it6336" onMouseOver="hilite(6336)" onMouseOut="lolite()" onClick="logVariable('change')" href="../_variables/change.html">$change</a>['text'].'&lt;/p&gt;';
<a name="l1971"><span class="linenum">1971</span></a>          }
<a name="l1972"><span class="linenum">1972</span></a>      }
<a name="l1973"><span class="linenum">1973</span></a>  
<a name="l1974"><span class="linenum">1974</span></a>  <span class="comment">/// Now display new things from each module</span>
<a name="l1975"><span class="linenum">1975</span></a>  
<a name="l1976"><span class="linenum">1976</span></a>      <a class="var it10863" onMouseOver="hilite(10863)" onMouseOut="lolite()" onClick="logVariable('usedmodules')" href="../_variables/usedmodules.html">$usedmodules</a> = array();
<a name="l1977"><span class="linenum">1977</span></a>      foreach(<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../_variables/modinfo.html">$modinfo</a>-&gt;<a onClick="logVariable('cms')" class="var it39598" onMouseOver="hilite(39598)" onMouseOut="lolite()" href="../_variables/cms.html">cms</a> as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>) {
<a name="l1978"><span class="linenum">1978</span></a>          if (isset(<a class="var it10863" onMouseOver="hilite(10863)" onMouseOut="lolite()" onClick="logVariable('usedmodules')" href="../_variables/usedmodules.html">$usedmodules</a>[<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>])) {
<a name="l1979"><span class="linenum">1979</span></a>              continue;
<a name="l1980"><span class="linenum">1980</span></a>          }
<a name="l1981"><span class="linenum">1981</span></a>          if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/uservisible.html">uservisible</a>) {
<a name="l1982"><span class="linenum">1982</span></a>              continue;
<a name="l1983"><span class="linenum">1983</span></a>          }
<a name="l1984"><span class="linenum">1984</span></a>          <a class="var it10863" onMouseOver="hilite(10863)" onMouseOut="lolite()" onClick="logVariable('usedmodules')" href="../_variables/usedmodules.html">$usedmodules</a>[<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('modname')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/modname.html">modname</a>;
<a name="l1985"><span class="linenum">1985</span></a>      }
<a name="l1986"><span class="linenum">1986</span></a>  
<a name="l1987"><span class="linenum">1987</span></a>      foreach (<a class="var it10863" onMouseOver="hilite(10863)" onMouseOut="lolite()" onClick="logVariable('usedmodules')" href="../_variables/usedmodules.html">$usedmodules</a> as <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>) {      // Each module gets it's own logs and prints them
<a name="l1988"><span class="linenum">1988</span></a>          if (<a class="phpfunction" onClick="logFunction('file_exists')" href="../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'/mod/'.<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>.'/lib.php')) {
<a name="l1989"><span class="linenum">1989</span></a>              include_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'/mod/'.<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>.'/lib.php');
<a name="l1990"><span class="linenum">1990</span></a>              <a class="var it25241" onMouseOver="hilite(25241)" onMouseOut="lolite()" onClick="logVariable('print_recent_activity')" href="../_variables/print_recent_activity.html">$print_recent_activity</a> = <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>.'_print_recent_activity';
<a name="l1991"><span class="linenum">1991</span></a>              if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it25241" onMouseOver="hilite(25241)" onMouseOut="lolite()" onClick="logVariable('print_recent_activity')" href="../_variables/print_recent_activity.html">$print_recent_activity</a>)) {
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">                // NOTE: original $isteacher (second parameter below) was replaced with $viewfullnames!</span>
<a name="l1993"><span class="linenum">1993</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> = <a class="var it25241" onMouseOver="hilite(25241)" onMouseOut="lolite()" onClick="logVariable('print_recent_activity')" href="../_variables/print_recent_activity.html">$print_recent_activity</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../_variables/viewfullnames.html">$viewfullnames</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../_variables/timestart.html">$timestart</a>) || <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>;
<a name="l1994"><span class="linenum">1994</span></a>              }
<a name="l1995"><span class="linenum">1995</span></a>          } else {
<a name="l1996"><span class="linenum">1996</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Missing lib.php in lib/{<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../_variables/modname.html">$modname</a>} - please reinstall files or uninstall the module&quot;);
<a name="l1997"><span class="linenum">1997</span></a>          }
<a name="l1998"><span class="linenum">1998</span></a>      }
<a name="l1999"><span class="linenum">1999</span></a>  
<a name="l2000"><span class="linenum">2000</span></a>      if (! <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>) {
<a name="l2001"><span class="linenum">2001</span></a>          echo '&lt;p class=&quot;message&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nothingnew').'&lt;/p&gt;';
<a name="l2002"><span class="linenum">2002</span></a>      }
<a name="l2003"><span class="linenum">2003</span></a>  }
<a name="l2004"><span class="linenum">2004</span></a>  
<a name="l2005"><span class="linenum">2005</span></a>  <span class="comment">/**</span>
<a name="l2006"><span class="linenum">2006</span></a>  <span class="comment"> * Delete a course module and any associated data at the course level (events)</span>
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment"> * Until 1.5 this function simply marked a deleted flag ... now it</span>
<a name="l2008"><span class="linenum">2008</span></a>  <span class="comment"> * deletes it completely.</span>
<a name="l2009"><span class="linenum">2009</span></a>  <span class="comment"> *</span>
<a name="l2010"><span class="linenum">2010</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2011"><span class="linenum">2011</span></a>  <span class="comment"> *</span>
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment"> * @param int $id the course module id</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment"> * @return boolean true on success, false on failure</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment"> */</span>
<a name="l2015"><span class="linenum">2015</span></a>  function <a class="function" onClick="logFunction('delete_course_module')" href="../_functions/delete_course_module.html" onMouseOver="funcPopup(event,'delete_course_module')">delete_course_module</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) {
<a name="l2016"><span class="linenum">2016</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('delete_course_module')" href="../_functions/delete_course_module.html" onMouseOver="funcPopup(event,'delete_course_module')">delete_course_module</a>() is deprecated. Please use <a class="function" onClick="logFunction('course_delete_module')" href="../_functions/course_delete_module.html" onMouseOver="funcPopup(event,'course_delete_module')">course_delete_module</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2017"><span class="linenum">2017</span></a>  
<a name="l2018"><span class="linenum">2018</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2019"><span class="linenum">2019</span></a>  
<a name="l2020"><span class="linenum">2020</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l2021"><span class="linenum">2021</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../blog/lib.php.html">/blog/lib.php</a>');
<a name="l2022"><span class="linenum">2022</span></a>  
<a name="l2023"><span class="linenum">2023</span></a>      if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course_modules', array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>))) {
<a name="l2024"><span class="linenum">2024</span></a>          return true;
<a name="l2025"><span class="linenum">2025</span></a>      }
<a name="l2026"><span class="linenum">2026</span></a>      <a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('modules', 'name', array('id'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('module')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/module.html">module</a>));
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment">    //delete events from calendar</span>
<a name="l2028"><span class="linenum">2028</span></a>      if (<a class="var it178" onMouseOver="hilite(178)" onMouseOut="lolite()" onClick="logVariable('events')" href="../_variables/events.html">$events</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('event', array('instance'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/instance.html">instance</a>, 'modulename'=&gt;<a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>))) {
<a name="l2029"><span class="linenum">2029</span></a>          foreach(<a class="var it178" onMouseOver="hilite(178)" onMouseOut="lolite()" onClick="logVariable('events')" href="../_variables/events.html">$events</a> as <a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>) {
<a name="l2030"><span class="linenum">2030</span></a>              <a class="function" onClick="logFunction('delete_event')" href="../_functions/delete_event.html" onMouseOver="funcPopup(event,'delete_event')">delete_event</a>(<a class="var it179" onMouseOver="hilite(179)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a onClick="logVariable('id')" class="var it39510" onMouseOver="hilite(39510)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2031"><span class="linenum">2031</span></a>          }
<a name="l2032"><span class="linenum">2032</span></a>      }
<a name="l2033"><span class="linenum">2033</span></a>  <span class="comment">    //delete grade items, outcome items and grades attached to modules</span>
<a name="l2034"><span class="linenum">2034</span></a>      if (<a class="var it6045" onMouseOver="hilite(6045)" onMouseOut="lolite()" onClick="logVariable('grade_items')" href="../_variables/grade_items.html">$grade_items</a> = <a class="class" onClick="logClass('grade_item')" href="../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch_all')" href="../_functions/fetch_all.html" onMouseOver="funcPopup(event,'fetch_all')">fetch_all</a>(array('itemtype'=&gt;'mod', 'itemmodule'=&gt;<a class="var it557" onMouseOver="hilite(557)" onMouseOut="lolite()" onClick="logVariable('modulename')" href="../_variables/modulename.html">$modulename</a>,
<a name="l2035"><span class="linenum">2035</span></a>                                                     'iteminstance'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/instance.html">instance</a>, 'courseid'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('course')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/course.html">course</a>))) {
<a name="l2036"><span class="linenum">2036</span></a>          foreach (<a class="var it6045" onMouseOver="hilite(6045)" onMouseOut="lolite()" onClick="logVariable('grade_items')" href="../_variables/grade_items.html">$grade_items</a> as <a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>) {
<a name="l2037"><span class="linenum">2037</span></a>              <a class="var it6046" onMouseOver="hilite(6046)" onMouseOut="lolite()" onClick="logVariable('grade_item')" href="../_variables/grade_item.html">$grade_item</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>('moddelete');
<a name="l2038"><span class="linenum">2038</span></a>          }
<a name="l2039"><span class="linenum">2039</span></a>      }
<a name="l2040"><span class="linenum">2040</span></a>  <span class="comment">    // Delete completion and availability data; it is better to do this even if the</span>
<a name="l2041"><span class="linenum">2041</span></a>  <span class="comment">    // features are not turned on, in case they were turned on previously (these will be</span>
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment">    // very quick on an empty table)</span>
<a name="l2043"><span class="linenum">2043</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('course_modules_completion', array('coursemoduleid' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2044"><span class="linenum">2044</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('course_completion_criteria', array('moduleinstance' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l2045"><span class="linenum">2045</span></a>                                                              'criteriatype' =&gt; <a class="constant" onClick="logConstant('COMPLETION_CRITERIA_TYPE_ACTIVITY')" href="../_constants/COMPLETION_CRITERIA_TYPE_ACTIVITY.html" onMouseOver="constPopup(event,'COMPLETION_CRITERIA_TYPE_ACTIVITY')">COMPLETION_CRITERIA_TYPE_ACTIVITY</a>));
<a name="l2046"><span class="linenum">2046</span></a>  
<a name="l2047"><span class="linenum">2047</span></a>      <a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>(<a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2048"><span class="linenum">2048</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('course_modules', array('id'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2049"><span class="linenum">2049</span></a>  }
<a name="l2050"><span class="linenum">2050</span></a>  
<a name="l2051"><span class="linenum">2051</span></a>  <span class="comment">/**</span>
<a name="l2052"><span class="linenum">2052</span></a>  <span class="comment"> * Prints the turn editing on/off button on course/index.php or course/category.php.</span>
<a name="l2053"><span class="linenum">2053</span></a>  <span class="comment"> *</span>
<a name="l2054"><span class="linenum">2054</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2055"><span class="linenum">2055</span></a>  <span class="comment"> *</span>
<a name="l2056"><span class="linenum">2056</span></a>  <span class="comment"> * @param integer $categoryid The id of the category we are showing, or 0 for system context.</span>
<a name="l2057"><span class="linenum">2057</span></a>  <span class="comment"> * @return string HTML of the editing button, or empty string, if this user is not allowed</span>
<a name="l2058"><span class="linenum">2058</span></a>  <span class="comment"> *      to see it.</span>
<a name="l2059"><span class="linenum">2059</span></a>  <span class="comment"> */</span>
<a name="l2060"><span class="linenum">2060</span></a>  function <a class="function" onClick="logFunction('update_category_button')" href="../_functions/update_category_button.html" onMouseOver="funcPopup(event,'update_category_button')">update_category_button</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a> = 0) {
<a name="l2061"><span class="linenum">2061</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2062"><span class="linenum">2062</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('update_category_button')" href="../_functions/update_category_button.html" onMouseOver="funcPopup(event,'update_category_button')">update_category_button</a>() is deprecated. Pages to view '.
<a name="l2063"><span class="linenum">2063</span></a>              'and edit courses are now separate and no longer depend on editing mode.',
<a name="l2064"><span class="linenum">2064</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2065"><span class="linenum">2065</span></a>  
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment">    // Check permissions.</span>
<a name="l2067"><span class="linenum">2067</span></a>      if (!<a class="function" onClick="logFunction('can_edit_in_category')" href="../_functions/can_edit_in_category.html" onMouseOver="funcPopup(event,'can_edit_in_category')">can_edit_in_category</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>)) {
<a name="l2068"><span class="linenum">2068</span></a>          return '';
<a name="l2069"><span class="linenum">2069</span></a>      }
<a name="l2070"><span class="linenum">2070</span></a>  
<a name="l2071"><span class="linenum">2071</span></a>  <span class="comment">    // Work out the appropriate action.</span>
<a name="l2072"><span class="linenum">2072</span></a>      if (<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('user_is_editing')" href="../_functions/user_is_editing.html" onMouseOver="funcPopup(event,'user_is_editing')">user_is_editing</a>()) {
<a name="l2073"><span class="linenum">2073</span></a>          <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('turneditingoff');
<a name="l2074"><span class="linenum">2074</span></a>          <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('edit')" href="../_variables/edit.html">$edit</a> = 'off';
<a name="l2075"><span class="linenum">2075</span></a>      } else {
<a name="l2076"><span class="linenum">2076</span></a>          <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('turneditingon');
<a name="l2077"><span class="linenum">2077</span></a>          <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('edit')" href="../_variables/edit.html">$edit</a> = 'on';
<a name="l2078"><span class="linenum">2078</span></a>      }
<a name="l2079"><span class="linenum">2079</span></a>  
<a name="l2080"><span class="linenum">2080</span></a>  <span class="comment">    // Generate the button HTML.</span>
<a name="l2081"><span class="linenum">2081</span></a>      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array('categoryedit' =&gt; <a class="var it4263" onMouseOver="hilite(4263)" onMouseOut="lolite()" onClick="logVariable('edit')" href="../_variables/edit.html">$edit</a>, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>());
<a name="l2082"><span class="linenum">2082</span></a>      if (<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>) {
<a name="l2083"><span class="linenum">2083</span></a>          <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['id'] = <a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>;
<a name="l2084"><span class="linenum">2084</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a> = 'category.php';
<a name="l2085"><span class="linenum">2085</span></a>      } else {
<a name="l2086"><span class="linenum">2086</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a> = '<a class="filename" href="../index.php.html">index.php</a>';
<a name="l2087"><span class="linenum">2087</span></a>      }
<a name="l2088"><span class="linenum">2088</span></a>      return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/course/' . <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('page')" href="../_variables/page.html">$page</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>), <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a>, 'get');
<a name="l2089"><span class="linenum">2089</span></a>  }
<a name="l2090"><span class="linenum">2090</span></a>  
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">/**</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment"> * This function recursively travels the categories, building up a nice list</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment"> * for display. It also makes an array that list all the parents for each</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment"> * category.</span>
<a name="l2095"><span class="linenum">2095</span></a>  <span class="comment"> *</span>
<a name="l2096"><span class="linenum">2096</span></a>  <span class="comment"> * For example, if you have a tree of categories like:</span>
<a name="l2097"><span class="linenum">2097</span></a>  <span class="comment"> *   Miscellaneous (id = 1)</span>
<a name="l2098"><span class="linenum">2098</span></a>  <span class="comment"> *      Subcategory (id = 2)</span>
<a name="l2099"><span class="linenum">2099</span></a>  <span class="comment"> *         Sub-subcategory (id = 4)</span>
<a name="l2100"><span class="linenum">2100</span></a>  <span class="comment"> *   Other category (id = 3)</span>
<a name="l2101"><span class="linenum">2101</span></a>  <span class="comment"> * Then after calling this function you will have</span>
<a name="l2102"><span class="linenum">2102</span></a>  <span class="comment"> * $list = array(1 =&gt; 'Miscellaneous', 2 =&gt; 'Miscellaneous / Subcategory',</span>
<a name="l2103"><span class="linenum">2103</span></a>  <span class="comment"> *      4 =&gt; 'Miscellaneous / Subcategory / Sub-subcategory',</span>
<a name="l2104"><span class="linenum">2104</span></a>  <span class="comment"> *      3 =&gt; 'Other category');</span>
<a name="l2105"><span class="linenum">2105</span></a>  <span class="comment"> * $parents = array(2 =&gt; array(1), 4 =&gt; array(1, 2));</span>
<a name="l2106"><span class="linenum">2106</span></a>  <span class="comment"> *</span>
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment"> * If you specify $requiredcapability, then only categories where the current</span>
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment"> * user has that capability will be added to $list, although all categories</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment"> * will still be added to $parents, and if you only have $requiredcapability</span>
<a name="l2110"><span class="linenum">2110</span></a>  <span class="comment"> * in a child category, not the parent, then the child catgegory will still be</span>
<a name="l2111"><span class="linenum">2111</span></a>  <span class="comment"> * included.</span>
<a name="l2112"><span class="linenum">2112</span></a>  <span class="comment"> *</span>
<a name="l2113"><span class="linenum">2113</span></a>  <span class="comment"> * If you specify the option $excluded, then that category, and all its children,</span>
<a name="l2114"><span class="linenum">2114</span></a>  <span class="comment"> * are omitted from the tree. This is useful when you are doing something like</span>
<a name="l2115"><span class="linenum">2115</span></a>  <span class="comment"> * moving categories, where you do not want to allow people to move a category</span>
<a name="l2116"><span class="linenum">2116</span></a>  <span class="comment"> * to be the child of itself.</span>
<a name="l2117"><span class="linenum">2117</span></a>  <span class="comment"> *</span>
<a name="l2118"><span class="linenum">2118</span></a>  <span class="comment"> * This function is deprecated! For list of categories use</span>
<a name="l2119"><span class="linenum">2119</span></a>  <span class="comment"> * coursecat::make_all_categories($requiredcapability, $excludeid, $separator)</span>
<a name="l2120"><span class="linenum">2120</span></a>  <span class="comment"> * For parents of one particular category use</span>
<a name="l2121"><span class="linenum">2121</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_parents()</span>
<a name="l2122"><span class="linenum">2122</span></a>  <span class="comment"> *</span>
<a name="l2123"><span class="linenum">2123</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2124"><span class="linenum">2124</span></a>  <span class="comment"> *</span>
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment"> * @param array $list For output, accumulates an array categoryid =&gt; full category path name</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment"> * @param array $parents For output, accumulates an array categoryid =&gt; list of parent category ids.</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment"> * @param string/array $requiredcapability if given, only categories where the current</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment"> *      user has this capability will be added to $list. Can also be an array of capabilities,</span>
<a name="l2129"><span class="linenum">2129</span></a>  <span class="comment"> *      in which case they are all required.</span>
<a name="l2130"><span class="linenum">2130</span></a>  <span class="comment"> * @param integer $excludeid Omit this category and its children from the lists built.</span>
<a name="l2131"><span class="linenum">2131</span></a>  <span class="comment"> * @param object $category Not used</span>
<a name="l2132"><span class="linenum">2132</span></a>  <span class="comment"> * @param string $path Not used</span>
<a name="l2133"><span class="linenum">2133</span></a>  <span class="comment"> */</span>
<a name="l2134"><span class="linenum">2134</span></a>  function <a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>(&amp;<a class="var it301" onMouseOver="hilite(301)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a>, &amp;<a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>, <a class="var it4623" onMouseOver="hilite(4623)" onMouseOut="lolite()" onClick="logVariable('requiredcapability')" href="../_variables/requiredcapability.html">$requiredcapability</a> = '',
<a name="l2135"><span class="linenum">2135</span></a>          <a class="var it25242" onMouseOver="hilite(25242)" onMouseOut="lolite()" onClick="logVariable('excludeid')" href="../_variables/excludeid.html">$excludeid</a> = 0, <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = NULL, <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> = &quot;&quot;) {
<a name="l2136"><span class="linenum">2136</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2137"><span class="linenum">2137</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2138"><span class="linenum">2138</span></a>  
<a name="l2139"><span class="linenum">2139</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Global function <a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>() is deprecated. Please use '.
<a name="l2140"><span class="linenum">2140</span></a>              '<a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>() and <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_parents')" href="../_functions/get_parents.html" onMouseOver="funcPopup(event,'get_parents')">get_parents</a>()',
<a name="l2141"><span class="linenum">2141</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2142"><span class="linenum">2142</span></a>  
<a name="l2143"><span class="linenum">2143</span></a>  <span class="comment">    // For categories list use just this one function:</span>
<a name="l2144"><span class="linenum">2144</span></a>      if (empty(<a class="var it301" onMouseOver="hilite(301)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a>)) {
<a name="l2145"><span class="linenum">2145</span></a>          <a class="var it301" onMouseOver="hilite(301)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a> = array();
<a name="l2146"><span class="linenum">2146</span></a>      }
<a name="l2147"><span class="linenum">2147</span></a>      <a class="var it301" onMouseOver="hilite(301)" onMouseOut="lolite()" onClick="logVariable('list')" href="../_variables/list.html">$list</a> += <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('make_categories_list')" href="../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>(<a class="var it4623" onMouseOver="hilite(4623)" onMouseOut="lolite()" onClick="logVariable('requiredcapability')" href="../_variables/requiredcapability.html">$requiredcapability</a>, <a class="var it25242" onMouseOver="hilite(25242)" onMouseOut="lolite()" onClick="logVariable('excludeid')" href="../_variables/excludeid.html">$excludeid</a>);
<a name="l2148"><span class="linenum">2148</span></a>  
<a name="l2149"><span class="linenum">2149</span></a>  <span class="comment">    // Building the list of all parents of all categories in the system is highly undesirable and hardly ever needed.</span>
<a name="l2150"><span class="linenum">2150</span></a>  <span class="comment">    // Usually user needs only parents for one particular category, in which case should be used:</span>
<a name="l2151"><span class="linenum">2151</span></a>  <span class="comment">    // coursecat::get($categoryid)-&gt;get_parents()</span>
<a name="l2152"><span class="linenum">2152</span></a>      if (empty(<a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>)) {
<a name="l2153"><span class="linenum">2153</span></a>          <a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a> = array();
<a name="l2154"><span class="linenum">2154</span></a>      }
<a name="l2155"><span class="linenum">2155</span></a>      <a class="var it2916" onMouseOver="hilite(2916)" onMouseOut="lolite()" onClick="logVariable('all')" href="../_variables/all.html">$all</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('SELECT id, parent FROM {course_categories} ORDER BY sortorder');
<a name="l2156"><span class="linenum">2156</span></a>      foreach (<a class="var it2916" onMouseOver="hilite(2916)" onMouseOut="lolite()" onClick="logVariable('all')" href="../_variables/all.html">$all</a> as <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>) {
<a name="l2157"><span class="linenum">2157</span></a>          if (<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('parent')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/parent.html">parent</a>) {
<a name="l2158"><span class="linenum">2158</span></a>              <a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>[<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>[<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('parent')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/parent.html">parent</a>], array(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('parent')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/parent.html">parent</a>));
<a name="l2159"><span class="linenum">2159</span></a>          } else {
<a name="l2160"><span class="linenum">2160</span></a>              <a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>[<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = array();
<a name="l2161"><span class="linenum">2161</span></a>          }
<a name="l2162"><span class="linenum">2162</span></a>      }
<a name="l2163"><span class="linenum">2163</span></a>  }
<a name="l2164"><span class="linenum">2164</span></a>  
<a name="l2165"><span class="linenum">2165</span></a>  <span class="comment">/**</span>
<a name="l2166"><span class="linenum">2166</span></a>  <span class="comment"> * Delete category, but move contents to another category.</span>
<a name="l2167"><span class="linenum">2167</span></a>  <span class="comment"> *</span>
<a name="l2168"><span class="linenum">2168</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l2169"><span class="linenum">2169</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;delete_move($newparentid, $showfeedback);</span>
<a name="l2170"><span class="linenum">2170</span></a>  <span class="comment"> *</span>
<a name="l2171"><span class="linenum">2171</span></a>  <span class="comment"> * @see coursecat::delete_move()</span>
<a name="l2172"><span class="linenum">2172</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment"> *</span>
<a name="l2174"><span class="linenum">2174</span></a>  <span class="comment"> * @param object $category</span>
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment"> * @param int $newparentid category id</span>
<a name="l2176"><span class="linenum">2176</span></a>  <span class="comment"> * @return bool status</span>
<a name="l2177"><span class="linenum">2177</span></a>  <span class="comment"> */</span>
<a name="l2178"><span class="linenum">2178</span></a>  function <a class="function" onClick="logFunction('category_delete_move')" href="../_functions/category_delete_move.html" onMouseOver="funcPopup(event,'category_delete_move')">category_delete_move</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it25243" onMouseOver="hilite(25243)" onMouseOut="lolite()" onClick="logVariable('newparentid')" href="../_variables/newparentid.html">$newparentid</a>, <a class="var it13004" onMouseOver="hilite(13004)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>=true) {
<a name="l2179"><span class="linenum">2179</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2180"><span class="linenum">2180</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2181"><span class="linenum">2181</span></a>  
<a name="l2182"><span class="linenum">2182</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('category_delete_move')" href="../_functions/category_delete_move.html" onMouseOver="funcPopup(event,'category_delete_move')">category_delete_move</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('delete_move')" href="../_functions/delete_move.html" onMouseOver="funcPopup(event,'delete_move')">delete_move</a>() instead.');
<a name="l2183"><span class="linenum">2183</span></a>  
<a name="l2184"><span class="linenum">2184</span></a>      return <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('delete_move')" href="../_functions/delete_move.html" onMouseOver="funcPopup(event,'delete_move')">delete_move</a>(<a class="var it25243" onMouseOver="hilite(25243)" onMouseOut="lolite()" onClick="logVariable('newparentid')" href="../_variables/newparentid.html">$newparentid</a>, <a class="var it13004" onMouseOver="hilite(13004)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>);
<a name="l2185"><span class="linenum">2185</span></a>  }
<a name="l2186"><span class="linenum">2186</span></a>  
<a name="l2187"><span class="linenum">2187</span></a>  <span class="comment">/**</span>
<a name="l2188"><span class="linenum">2188</span></a>  <span class="comment"> * Recursively delete category including all subcategories and courses.</span>
<a name="l2189"><span class="linenum">2189</span></a>  <span class="comment"> *</span>
<a name="l2190"><span class="linenum">2190</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l2191"><span class="linenum">2191</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;delete_full($showfeedback);</span>
<a name="l2192"><span class="linenum">2192</span></a>  <span class="comment"> *</span>
<a name="l2193"><span class="linenum">2193</span></a>  <span class="comment"> * @see coursecat::delete_full()</span>
<a name="l2194"><span class="linenum">2194</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2195"><span class="linenum">2195</span></a>  <span class="comment"> *</span>
<a name="l2196"><span class="linenum">2196</span></a>  <span class="comment"> * @param stdClass $category</span>
<a name="l2197"><span class="linenum">2197</span></a>  <span class="comment"> * @param boolean $showfeedback display some notices</span>
<a name="l2198"><span class="linenum">2198</span></a>  <span class="comment"> * @return array return deleted courses</span>
<a name="l2199"><span class="linenum">2199</span></a>  <span class="comment"> */</span>
<a name="l2200"><span class="linenum">2200</span></a>  function <a class="function" onClick="logFunction('category_delete_full')" href="../_functions/category_delete_full.html" onMouseOver="funcPopup(event,'category_delete_full')">category_delete_full</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it13004" onMouseOver="hilite(13004)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>=true) {
<a name="l2201"><span class="linenum">2201</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2202"><span class="linenum">2202</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2203"><span class="linenum">2203</span></a>  
<a name="l2204"><span class="linenum">2204</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('category_delete_full')" href="../_functions/category_delete_full.html" onMouseOver="funcPopup(event,'category_delete_full')">category_delete_full</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('delete_full')" href="../_functions/delete_full.html" onMouseOver="funcPopup(event,'delete_full')">delete_full</a>() instead.');
<a name="l2205"><span class="linenum">2205</span></a>  
<a name="l2206"><span class="linenum">2206</span></a>      return <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('delete_full')" href="../_functions/delete_full.html" onMouseOver="funcPopup(event,'delete_full')">delete_full</a>(<a class="var it13004" onMouseOver="hilite(13004)" onMouseOut="lolite()" onClick="logVariable('showfeedback')" href="../_variables/showfeedback.html">$showfeedback</a>);
<a name="l2207"><span class="linenum">2207</span></a>  }
<a name="l2208"><span class="linenum">2208</span></a>  
<a name="l2209"><span class="linenum">2209</span></a>  <span class="comment">/**</span>
<a name="l2210"><span class="linenum">2210</span></a>  <span class="comment"> * Efficiently moves a category - NOTE that this can have</span>
<a name="l2211"><span class="linenum">2211</span></a>  <span class="comment"> * a huge impact access-control-wise...</span>
<a name="l2212"><span class="linenum">2212</span></a>  <span class="comment"> *</span>
<a name="l2213"><span class="linenum">2213</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l2214"><span class="linenum">2214</span></a>  <span class="comment"> * $coursecat = coursecat::get($category-&gt;id);</span>
<a name="l2215"><span class="linenum">2215</span></a>  <span class="comment"> * if ($coursecat-&gt;can_change_parent($newparentcat-&gt;id)) {</span>
<a name="l2216"><span class="linenum">2216</span></a>  <span class="comment"> *     $coursecat-&gt;change_parent($newparentcat-&gt;id);</span>
<a name="l2217"><span class="linenum">2217</span></a>  <span class="comment"> * }</span>
<a name="l2218"><span class="linenum">2218</span></a>  <span class="comment"> *</span>
<a name="l2219"><span class="linenum">2219</span></a>  <span class="comment"> * Alternatively you can use</span>
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment"> * $coursecat-&gt;update(array('parent' =&gt; $newparentcat-&gt;id));</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment"> *</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment"> * Function update() also updates field course_categories.timemodified</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment"> *</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment"> * @see coursecat::change_parent()</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment"> * @see coursecat::update()</span>
<a name="l2226"><span class="linenum">2226</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2227"><span class="linenum">2227</span></a>  <span class="comment"> *</span>
<a name="l2228"><span class="linenum">2228</span></a>  <span class="comment"> * @param stdClass|coursecat $category</span>
<a name="l2229"><span class="linenum">2229</span></a>  <span class="comment"> * @param stdClass|coursecat $newparentcat</span>
<a name="l2230"><span class="linenum">2230</span></a>  <span class="comment"> */</span>
<a name="l2231"><span class="linenum">2231</span></a>  function <a class="function" onClick="logFunction('move_category')" href="../_functions/move_category.html" onMouseOver="funcPopup(event,'move_category')">move_category</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it9806" onMouseOver="hilite(9806)" onMouseOut="lolite()" onClick="logVariable('newparentcat')" href="../_variables/newparentcat.html">$newparentcat</a>) {
<a name="l2232"><span class="linenum">2232</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2233"><span class="linenum">2233</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2234"><span class="linenum">2234</span></a>  
<a name="l2235"><span class="linenum">2235</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('move_category')" href="../_functions/move_category.html" onMouseOver="funcPopup(event,'move_category')">move_category</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('change_parent')" href="../_functions/change_parent.html" onMouseOver="funcPopup(event,'change_parent')">change_parent</a>() instead.');
<a name="l2236"><span class="linenum">2236</span></a>  
<a name="l2237"><span class="linenum">2237</span></a>      return <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('change_parent')" href="../_functions/change_parent.html" onMouseOver="funcPopup(event,'change_parent')">change_parent</a>(<a class="var it9806" onMouseOver="hilite(9806)" onMouseOut="lolite()" onClick="logVariable('newparentcat')" href="../_variables/newparentcat.html">$newparentcat</a>-&gt;<a onClick="logVariable('id')" class="var it41022" onMouseOver="hilite(41022)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2238"><span class="linenum">2238</span></a>  }
<a name="l2239"><span class="linenum">2239</span></a>  
<a name="l2240"><span class="linenum">2240</span></a>  <span class="comment">/**</span>
<a name="l2241"><span class="linenum">2241</span></a>  <span class="comment"> * Hide course category and child course and subcategories</span>
<a name="l2242"><span class="linenum">2242</span></a>  <span class="comment"> *</span>
<a name="l2243"><span class="linenum">2243</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l2244"><span class="linenum">2244</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;hide();</span>
<a name="l2245"><span class="linenum">2245</span></a>  <span class="comment"> *</span>
<a name="l2246"><span class="linenum">2246</span></a>  <span class="comment"> * @see coursecat::hide()</span>
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2248"><span class="linenum">2248</span></a>  <span class="comment"> *</span>
<a name="l2249"><span class="linenum">2249</span></a>  <span class="comment"> * @param stdClass $category</span>
<a name="l2250"><span class="linenum">2250</span></a>  <span class="comment"> * @return void</span>
<a name="l2251"><span class="linenum">2251</span></a>  <span class="comment"> */</span>
<a name="l2252"><span class="linenum">2252</span></a>  function <a class="function" onClick="logFunction('course_category_hide')" href="../_functions/course_category_hide.html" onMouseOver="funcPopup(event,'course_category_hide')">course_category_hide</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2253"><span class="linenum">2253</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2254"><span class="linenum">2254</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2255"><span class="linenum">2255</span></a>  
<a name="l2256"><span class="linenum">2256</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('course_category_hide')" href="../_functions/course_category_hide.html" onMouseOver="funcPopup(event,'course_category_hide')">course_category_hide</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('hide')" href="../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>() instead.');
<a name="l2257"><span class="linenum">2257</span></a>  
<a name="l2258"><span class="linenum">2258</span></a>      <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('hide')" href="../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l2259"><span class="linenum">2259</span></a>  }
<a name="l2260"><span class="linenum">2260</span></a>  
<a name="l2261"><span class="linenum">2261</span></a>  <span class="comment">/**</span>
<a name="l2262"><span class="linenum">2262</span></a>  <span class="comment"> * Show course category and child course and subcategories</span>
<a name="l2263"><span class="linenum">2263</span></a>  <span class="comment"> *</span>
<a name="l2264"><span class="linenum">2264</span></a>  <span class="comment"> * This function is deprecated. Please use</span>
<a name="l2265"><span class="linenum">2265</span></a>  <span class="comment"> * coursecat::get($category-&gt;id)-&gt;show();</span>
<a name="l2266"><span class="linenum">2266</span></a>  <span class="comment"> *</span>
<a name="l2267"><span class="linenum">2267</span></a>  <span class="comment"> * @see coursecat::show()</span>
<a name="l2268"><span class="linenum">2268</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2269"><span class="linenum">2269</span></a>  <span class="comment"> *</span>
<a name="l2270"><span class="linenum">2270</span></a>  <span class="comment"> * @param stdClass $category</span>
<a name="l2271"><span class="linenum">2271</span></a>  <span class="comment"> * @return void</span>
<a name="l2272"><span class="linenum">2272</span></a>  <span class="comment"> */</span>
<a name="l2273"><span class="linenum">2273</span></a>  function <a class="function" onClick="logFunction('course_category_show')" href="../_functions/course_category_show.html" onMouseOver="funcPopup(event,'course_category_show')">course_category_show</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2274"><span class="linenum">2274</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2275"><span class="linenum">2275</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/coursecatlib.php');
<a name="l2276"><span class="linenum">2276</span></a>  
<a name="l2277"><span class="linenum">2277</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('course_category_show')" href="../_functions/course_category_show.html" onMouseOver="funcPopup(event,'course_category_show')">course_category_show</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('show')" href="../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>() instead.');
<a name="l2278"><span class="linenum">2278</span></a>  
<a name="l2279"><span class="linenum">2279</span></a>      <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('show')" href="../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l2280"><span class="linenum">2280</span></a>  }
<a name="l2281"><span class="linenum">2281</span></a>  
<a name="l2282"><span class="linenum">2282</span></a>  <span class="comment">/**</span>
<a name="l2283"><span class="linenum">2283</span></a>  <span class="comment"> * Return specified category, default if given does not exist</span>
<a name="l2284"><span class="linenum">2284</span></a>  <span class="comment"> *</span>
<a name="l2285"><span class="linenum">2285</span></a>  <span class="comment"> * This function is deprecated.</span>
<a name="l2286"><span class="linenum">2286</span></a>  <span class="comment"> * To get the category with the specified it please use:</span>
<a name="l2287"><span class="linenum">2287</span></a>  <span class="comment"> * coursecat::get($catid, IGNORE_MISSING);</span>
<a name="l2288"><span class="linenum">2288</span></a>  <span class="comment"> * or</span>
<a name="l2289"><span class="linenum">2289</span></a>  <span class="comment"> * coursecat::get($catid, MUST_EXIST);</span>
<a name="l2290"><span class="linenum">2290</span></a>  <span class="comment"> *</span>
<a name="l2291"><span class="linenum">2291</span></a>  <span class="comment"> * To get the first available category please use</span>
<a name="l2292"><span class="linenum">2292</span></a>  <span class="comment"> * coursecat::get_default();</span>
<a name="l2293"><span class="linenum">2293</span></a>  <span class="comment"> *</span>
<a name="l2294"><span class="linenum">2294</span></a>  <span class="comment"> * class coursecat will also make sure that at least one category exists in DB</span>
<a name="l2295"><span class="linenum">2295</span></a>  <span class="comment"> *</span>
<a name="l2296"><span class="linenum">2296</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2297"><span class="linenum">2297</span></a>  <span class="comment"> * @see coursecat::get()</span>
<a name="l2298"><span class="linenum">2298</span></a>  <span class="comment"> * @see coursecat::get_default()</span>
<a name="l2299"><span class="linenum">2299</span></a>  <span class="comment"> *</span>
<a name="l2300"><span class="linenum">2300</span></a>  <span class="comment"> * @param int $catid course category id</span>
<a name="l2301"><span class="linenum">2301</span></a>  <span class="comment"> * @return object caregory</span>
<a name="l2302"><span class="linenum">2302</span></a>  <span class="comment"> */</span>
<a name="l2303"><span class="linenum">2303</span></a>  function <a class="function" onClick="logFunction('get_course_category')" href="../_functions/get_course_category.html" onMouseOver="funcPopup(event,'get_course_category')">get_course_category</a>(<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>=0) {
<a name="l2304"><span class="linenum">2304</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2305"><span class="linenum">2305</span></a>  
<a name="l2306"><span class="linenum">2306</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_course_category')" href="../_functions/get_course_category.html" onMouseOver="funcPopup(event,'get_course_category')">get_course_category</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(), see phpdocs for more details');
<a name="l2307"><span class="linenum">2307</span></a>  
<a name="l2308"><span class="linenum">2308</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = false;
<a name="l2309"><span class="linenum">2309</span></a>  
<a name="l2310"><span class="linenum">2310</span></a>      if (!empty(<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>)) {
<a name="l2311"><span class="linenum">2311</span></a>          <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course_categories', array('id'=&gt;<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>));
<a name="l2312"><span class="linenum">2312</span></a>      }
<a name="l2313"><span class="linenum">2313</span></a>  
<a name="l2314"><span class="linenum">2314</span></a>      if (!<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2315"><span class="linenum">2315</span></a>  <span class="comment">        // the first category is considered default for now</span>
<a name="l2316"><span class="linenum">2316</span></a>          if (<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('course_categories', null, 'sortorder', '*', 0, 1)) {
<a name="l2317"><span class="linenum">2317</span></a>              <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2318"><span class="linenum">2318</span></a>  
<a name="l2319"><span class="linenum">2319</span></a>          } else {
<a name="l2320"><span class="linenum">2320</span></a>              <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a> = new stdClass();
<a name="l2321"><span class="linenum">2321</span></a>              <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('name')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/name.html">name</a>         = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('miscellaneous');
<a name="l2322"><span class="linenum">2322</span></a>              <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('depth')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/depth.html">depth</a>        = 1;
<a name="l2323"><span class="linenum">2323</span></a>              <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('sortorder')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/sortorder.html">sortorder</a>    = <a class="constant" onClick="logConstant('MAX_COURSES_IN_CATEGORY')" href="../_constants/MAX_COURSES_IN_CATEGORY.html" onMouseOver="constPopup(event,'MAX_COURSES_IN_CATEGORY')">MAX_COURSES_IN_CATEGORY</a>;
<a name="l2324"><span class="linenum">2324</span></a>              <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l2325"><span class="linenum">2325</span></a>              <a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('course_categories', <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>);
<a name="l2326"><span class="linenum">2326</span></a>  <span class="comment">            // make sure category context exists</span>
<a name="l2327"><span class="linenum">2327</span></a>              <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>);
<a name="l2328"><span class="linenum">2328</span></a>              <a class="function" onClick="logFunction('mark_context_dirty')" href="../_functions/mark_context_dirty.html" onMouseOver="funcPopup(event,'mark_context_dirty')">mark_context_dirty</a>('/'.<a class="constant" onClick="logConstant('SYSCONTEXTID')" href="../_constants/SYSCONTEXTID.html" onMouseOver="constPopup(event,'SYSCONTEXTID')">SYSCONTEXTID</a>);
<a name="l2329"><span class="linenum">2329</span></a>              <a class="function" onClick="logFunction('fix_course_sortorder')" href="../_functions/fix_course_sortorder.html" onMouseOver="funcPopup(event,'fix_course_sortorder')">fix_course_sortorder</a>(); <span class="comment">// Required to build course_categories.depth and .path.</span>
<a name="l2330"><span class="linenum">2330</span></a>              <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course_categories', array('id'=&gt;<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>));
<a name="l2331"><span class="linenum">2331</span></a>          }
<a name="l2332"><span class="linenum">2332</span></a>      }
<a name="l2333"><span class="linenum">2333</span></a>  
<a name="l2334"><span class="linenum">2334</span></a>      return <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>;
<a name="l2335"><span class="linenum">2335</span></a>  }
<a name="l2336"><span class="linenum">2336</span></a>  
<a name="l2337"><span class="linenum">2337</span></a>  <span class="comment">/**</span>
<a name="l2338"><span class="linenum">2338</span></a>  <span class="comment"> * Create a new course category and marks the context as dirty</span>
<a name="l2339"><span class="linenum">2339</span></a>  <span class="comment"> *</span>
<a name="l2340"><span class="linenum">2340</span></a>  <span class="comment"> * This function does not set the sortorder for the new category and</span>
<a name="l2341"><span class="linenum">2341</span></a>  <span class="comment"> * {@link fix_course_sortorder()} should be called after creating a new course</span>
<a name="l2342"><span class="linenum">2342</span></a>  <span class="comment"> * category</span>
<a name="l2343"><span class="linenum">2343</span></a>  <span class="comment"> *</span>
<a name="l2344"><span class="linenum">2344</span></a>  <span class="comment"> * Please note that this function does not verify access control.</span>
<a name="l2345"><span class="linenum">2345</span></a>  <span class="comment"> *</span>
<a name="l2346"><span class="linenum">2346</span></a>  <span class="comment"> * This function is deprecated. It is replaced with the method create() in class coursecat.</span>
<a name="l2347"><span class="linenum">2347</span></a>  <span class="comment"> * {@link coursecat::create()} also verifies the data, fixes sortorder and logs the action</span>
<a name="l2348"><span class="linenum">2348</span></a>  <span class="comment"> *</span>
<a name="l2349"><span class="linenum">2349</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2350"><span class="linenum">2350</span></a>  <span class="comment"> *</span>
<a name="l2351"><span class="linenum">2351</span></a>  <span class="comment"> * @param object $category All of the data required for an entry in the course_categories table</span>
<a name="l2352"><span class="linenum">2352</span></a>  <span class="comment"> * @return object new course category</span>
<a name="l2353"><span class="linenum">2353</span></a>  <span class="comment"> */</span>
<a name="l2354"><span class="linenum">2354</span></a>  function <a class="function" onClick="logFunction('create_course_category')" href="../_functions/create_course_category.html" onMouseOver="funcPopup(event,'create_course_category')">create_course_category</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2355"><span class="linenum">2355</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2356"><span class="linenum">2356</span></a>  
<a name="l2357"><span class="linenum">2357</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('create_course_category')" href="../_functions/create_course_category.html" onMouseOver="funcPopup(event,'create_course_category')">create_course_category</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(), see phpdocs for more details', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2358"><span class="linenum">2358</span></a>  
<a name="l2359"><span class="linenum">2359</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l2360"><span class="linenum">2360</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('course_categories', <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2361"><span class="linenum">2361</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course_categories', array('id' =&gt; <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2362"><span class="linenum">2362</span></a>  
<a name="l2363"><span class="linenum">2363</span></a>  <span class="comment">    // We should mark the context as dirty</span>
<a name="l2364"><span class="linenum">2364</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('context')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/context.html">context</a> = <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2365"><span class="linenum">2365</span></a>      <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('context')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/context.html">context</a>-&gt;<a class="function" onClick="logFunction('mark_dirty')" href="../_functions/mark_dirty.html" onMouseOver="funcPopup(event,'mark_dirty')">mark_dirty</a>();
<a name="l2366"><span class="linenum">2366</span></a>  
<a name="l2367"><span class="linenum">2367</span></a>      return <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>;
<a name="l2368"><span class="linenum">2368</span></a>  }
<a name="l2369"><span class="linenum">2369</span></a>  
<a name="l2370"><span class="linenum">2370</span></a>  <span class="comment">/**</span>
<a name="l2371"><span class="linenum">2371</span></a>  <span class="comment"> * Returns an array of category ids of all the subcategories for a given</span>
<a name="l2372"><span class="linenum">2372</span></a>  <span class="comment"> * category.</span>
<a name="l2373"><span class="linenum">2373</span></a>  <span class="comment"> *</span>
<a name="l2374"><span class="linenum">2374</span></a>  <span class="comment"> * This function is deprecated.</span>
<a name="l2375"><span class="linenum">2375</span></a>  <span class="comment"> *</span>
<a name="l2376"><span class="linenum">2376</span></a>  <span class="comment"> * To get visible children categories of the given category use:</span>
<a name="l2377"><span class="linenum">2377</span></a>  <span class="comment"> * coursecat::get($categoryid)-&gt;get_children();</span>
<a name="l2378"><span class="linenum">2378</span></a>  <span class="comment"> * This function will return the array or coursecat objects, on each of them</span>
<a name="l2379"><span class="linenum">2379</span></a>  <span class="comment"> * you can call get_children() again</span>
<a name="l2380"><span class="linenum">2380</span></a>  <span class="comment"> *</span>
<a name="l2381"><span class="linenum">2381</span></a>  <span class="comment"> * @see coursecat::get()</span>
<a name="l2382"><span class="linenum">2382</span></a>  <span class="comment"> * @see coursecat::get_children()</span>
<a name="l2383"><span class="linenum">2383</span></a>  <span class="comment"> *</span>
<a name="l2384"><span class="linenum">2384</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2385"><span class="linenum">2385</span></a>  <span class="comment"> *</span>
<a name="l2386"><span class="linenum">2386</span></a>  <span class="comment"> * @global object</span>
<a name="l2387"><span class="linenum">2387</span></a>  <span class="comment"> * @param int $catid - The id of the category whose subcategories we want to find.</span>
<a name="l2388"><span class="linenum">2388</span></a>  <span class="comment"> * @return array of category ids.</span>
<a name="l2389"><span class="linenum">2389</span></a>  <span class="comment"> */</span>
<a name="l2390"><span class="linenum">2390</span></a>  function <a class="function" onClick="logFunction('get_all_subcategories')" href="../_functions/get_all_subcategories.html" onMouseOver="funcPopup(event,'get_all_subcategories')">get_all_subcategories</a>(<a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>) {
<a name="l2391"><span class="linenum">2391</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2392"><span class="linenum">2392</span></a>  
<a name="l2393"><span class="linenum">2393</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_all_subcategories')" href="../_functions/get_all_subcategories.html" onMouseOver="funcPopup(event,'get_all_subcategories')">get_all_subcategories</a>() is deprecated. Please use appropriate methods() of coursecat class. See phpdocs for more details',
<a name="l2394"><span class="linenum">2394</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2395"><span class="linenum">2395</span></a>  
<a name="l2396"><span class="linenum">2396</span></a>      <a class="var it4976" onMouseOver="hilite(4976)" onMouseOut="lolite()" onClick="logVariable('subcats')" href="../_variables/subcats.html">$subcats</a> = array();
<a name="l2397"><span class="linenum">2397</span></a>  
<a name="l2398"><span class="linenum">2398</span></a>      if (<a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('course_categories', array('parent' =&gt; <a class="var it5174" onMouseOver="hilite(5174)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>))) {
<a name="l2399"><span class="linenum">2399</span></a>          foreach (<a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> as <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>) {
<a name="l2400"><span class="linenum">2400</span></a>              <a class="phpfunction" onClick="logFunction('array_push')" href="../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it4976" onMouseOver="hilite(4976)" onMouseOut="lolite()" onClick="logVariable('subcats')" href="../_variables/subcats.html">$subcats</a>, <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('id')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2401"><span class="linenum">2401</span></a>              <a class="var it4976" onMouseOver="hilite(4976)" onMouseOut="lolite()" onClick="logVariable('subcats')" href="../_variables/subcats.html">$subcats</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it4976" onMouseOver="hilite(4976)" onMouseOut="lolite()" onClick="logVariable('subcats')" href="../_variables/subcats.html">$subcats</a>, <a class="function" onClick="logFunction('get_all_subcategories')" href="../_functions/get_all_subcategories.html" onMouseOver="funcPopup(event,'get_all_subcategories')">get_all_subcategories</a>(<a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('id')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l2402"><span class="linenum">2402</span></a>          }
<a name="l2403"><span class="linenum">2403</span></a>      }
<a name="l2404"><span class="linenum">2404</span></a>      return <a class="var it4976" onMouseOver="hilite(4976)" onMouseOut="lolite()" onClick="logVariable('subcats')" href="../_variables/subcats.html">$subcats</a>;
<a name="l2405"><span class="linenum">2405</span></a>  }
<a name="l2406"><span class="linenum">2406</span></a>  
<a name="l2407"><span class="linenum">2407</span></a>  <span class="comment">/**</span>
<a name="l2408"><span class="linenum">2408</span></a>  <span class="comment"> * Gets the child categories of a given courses category</span>
<a name="l2409"><span class="linenum">2409</span></a>  <span class="comment"> *</span>
<a name="l2410"><span class="linenum">2410</span></a>  <span class="comment"> * This function is deprecated. Please use functions in class coursecat:</span>
<a name="l2411"><span class="linenum">2411</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;has_children()</span>
<a name="l2412"><span class="linenum">2412</span></a>  <span class="comment"> * tells if the category has children (visible or not to the current user)</span>
<a name="l2413"><span class="linenum">2413</span></a>  <span class="comment"> *</span>
<a name="l2414"><span class="linenum">2414</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;get_children()</span>
<a name="l2415"><span class="linenum">2415</span></a>  <span class="comment"> * returns an array of coursecat objects, each of them represents a children category visible</span>
<a name="l2416"><span class="linenum">2416</span></a>  <span class="comment"> * to the current user (i.e. visible=1 or user has capability to view hidden categories)</span>
<a name="l2417"><span class="linenum">2417</span></a>  <span class="comment"> *</span>
<a name="l2418"><span class="linenum">2418</span></a>  <span class="comment"> * - coursecat::get($parentid)-&gt;get_children_count()</span>
<a name="l2419"><span class="linenum">2419</span></a>  <span class="comment"> * returns number of children categories visible to the current user</span>
<a name="l2420"><span class="linenum">2420</span></a>  <span class="comment"> *</span>
<a name="l2421"><span class="linenum">2421</span></a>  <span class="comment"> * - coursecat::count_all()</span>
<a name="l2422"><span class="linenum">2422</span></a>  <span class="comment"> * returns total count of all categories in the system (both visible and not)</span>
<a name="l2423"><span class="linenum">2423</span></a>  <span class="comment"> *</span>
<a name="l2424"><span class="linenum">2424</span></a>  <span class="comment"> * - coursecat::get_default()</span>
<a name="l2425"><span class="linenum">2425</span></a>  <span class="comment"> * returns the first category (usually to be used if count_all() == 1)</span>
<a name="l2426"><span class="linenum">2426</span></a>  <span class="comment"> *</span>
<a name="l2427"><span class="linenum">2427</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2428"><span class="linenum">2428</span></a>  <span class="comment"> *</span>
<a name="l2429"><span class="linenum">2429</span></a>  <span class="comment"> * @param int $parentid the id of a course category.</span>
<a name="l2430"><span class="linenum">2430</span></a>  <span class="comment"> * @return array all the child course categories.</span>
<a name="l2431"><span class="linenum">2431</span></a>  <span class="comment"> */</span>
<a name="l2432"><span class="linenum">2432</span></a>  function <a class="function" onClick="logFunction('get_child_categories')" href="../_functions/get_child_categories.html" onMouseOver="funcPopup(event,'get_child_categories')">get_child_categories</a>(<a class="var it9801" onMouseOver="hilite(9801)" onMouseOut="lolite()" onClick="logVariable('parentid')" href="../_variables/parentid.html">$parentid</a>) {
<a name="l2433"><span class="linenum">2433</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2434"><span class="linenum">2434</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_child_categories')" href="../_functions/get_child_categories.html" onMouseOver="funcPopup(event,'get_child_categories')">get_child_categories</a>() is deprecated. Use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() or see phpdocs for more details.',
<a name="l2435"><span class="linenum">2435</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2436"><span class="linenum">2436</span></a>  
<a name="l2437"><span class="linenum">2437</span></a>      <a class="var it5803" onMouseOver="hilite(5803)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a> = array();
<a name="l2438"><span class="linenum">2438</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l2439"><span class="linenum">2439</span></a>      <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT c.*, <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> FROM {course_categories} c &quot;.
<a name="l2440"><span class="linenum">2440</span></a>              &quot;JOIN {context} ctx on ctx.instanceid = c.id AND ctx.contextlevel = ? WHERE c.parent = ? ORDER BY c.sortorder&quot;,
<a name="l2441"><span class="linenum">2441</span></a>              array(<a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>, <a class="var it9801" onMouseOver="hilite(9801)" onMouseOut="lolite()" onClick="logVariable('parentid')" href="../_variables/parentid.html">$parentid</a>));
<a name="l2442"><span class="linenum">2442</span></a>      foreach (<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> as <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2443"><span class="linenum">2443</span></a>          <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2444"><span class="linenum">2444</span></a>          if (!<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('visible')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/category:viewhiddencategories', <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l2445"><span class="linenum">2445</span></a>              continue;
<a name="l2446"><span class="linenum">2446</span></a>          }
<a name="l2447"><span class="linenum">2447</span></a>          <a class="var it5803" onMouseOver="hilite(5803)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>[] = <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>;
<a name="l2448"><span class="linenum">2448</span></a>      }
<a name="l2449"><span class="linenum">2449</span></a>      return <a class="var it5803" onMouseOver="hilite(5803)" onMouseOut="lolite()" onClick="logVariable('rv')" href="../_variables/rv.html">$rv</a>;
<a name="l2450"><span class="linenum">2450</span></a>  }
<a name="l2451"><span class="linenum">2451</span></a>  
<a name="l2452"><span class="linenum">2452</span></a>  <span class="comment">/**</span>
<a name="l2453"><span class="linenum">2453</span></a>  <span class="comment"> * Returns a sorted list of categories.</span>
<a name="l2454"><span class="linenum">2454</span></a>  <span class="comment"> *</span>
<a name="l2455"><span class="linenum">2455</span></a>  <span class="comment"> * When asking for $parent='none' it will return all the categories, regardless</span>
<a name="l2456"><span class="linenum">2456</span></a>  <span class="comment"> * of depth. Wheen asking for a specific parent, the default is to return</span>
<a name="l2457"><span class="linenum">2457</span></a>  <span class="comment"> * a &quot;shallow&quot; resultset. Pass false to $shallow and it will return all</span>
<a name="l2458"><span class="linenum">2458</span></a>  <span class="comment"> * the child categories as well.</span>
<a name="l2459"><span class="linenum">2459</span></a>  <span class="comment"> *</span>
<a name="l2460"><span class="linenum">2460</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2461"><span class="linenum">2461</span></a>  <span class="comment"> *</span>
<a name="l2462"><span class="linenum">2462</span></a>  <span class="comment"> * This function is deprecated. Use appropriate functions from class coursecat.</span>
<a name="l2463"><span class="linenum">2463</span></a>  <span class="comment"> * Examples:</span>
<a name="l2464"><span class="linenum">2464</span></a>  <span class="comment"> *</span>
<a name="l2465"><span class="linenum">2465</span></a>  <span class="comment"> * coursecat::get($categoryid)-&gt;get_children()</span>
<a name="l2466"><span class="linenum">2466</span></a>  <span class="comment"> * - returns all children of the specified category as instances of class</span>
<a name="l2467"><span class="linenum">2467</span></a>  <span class="comment"> * coursecat, which means on each of them method get_children() can be called again.</span>
<a name="l2468"><span class="linenum">2468</span></a>  <span class="comment"> * Only categories visible to the current user are returned.</span>
<a name="l2469"><span class="linenum">2469</span></a>  <span class="comment"> *</span>
<a name="l2470"><span class="linenum">2470</span></a>  <span class="comment"> * coursecat::get(0)-&gt;get_children()</span>
<a name="l2471"><span class="linenum">2471</span></a>  <span class="comment"> * - returns all top-level categories visible to the current user.</span>
<a name="l2472"><span class="linenum">2472</span></a>  <span class="comment"> *</span>
<a name="l2473"><span class="linenum">2473</span></a>  <span class="comment"> * Sort fields can be specified, see phpdocs to {@link coursecat::get_children()}</span>
<a name="l2474"><span class="linenum">2474</span></a>  <span class="comment"> *</span>
<a name="l2475"><span class="linenum">2475</span></a>  <span class="comment"> * coursecat::make_categories_list()</span>
<a name="l2476"><span class="linenum">2476</span></a>  <span class="comment"> * - returns an array of all categories id/names in the system.</span>
<a name="l2477"><span class="linenum">2477</span></a>  <span class="comment"> * Also only returns categories visible to current user and can additionally be</span>
<a name="l2478"><span class="linenum">2478</span></a>  <span class="comment"> * filetered by capability, see phpdocs to {@link coursecat::make_categories_list()}</span>
<a name="l2479"><span class="linenum">2479</span></a>  <span class="comment"> *</span>
<a name="l2480"><span class="linenum">2480</span></a>  <span class="comment"> * make_categories_options()</span>
<a name="l2481"><span class="linenum">2481</span></a>  <span class="comment"> * - Returns full course categories tree to be used in html_writer::select()</span>
<a name="l2482"><span class="linenum">2482</span></a>  <span class="comment"> *</span>
<a name="l2483"><span class="linenum">2483</span></a>  <span class="comment"> * Also see functions {@link coursecat::get_children_count()}, {@link coursecat::count_all()},</span>
<a name="l2484"><span class="linenum">2484</span></a>  <span class="comment"> * {@link coursecat::get_default()}</span>
<a name="l2485"><span class="linenum">2485</span></a>  <span class="comment"> *</span>
<a name="l2486"><span class="linenum">2486</span></a>  <span class="comment"> * The code of this deprecated function is left as it is because coursecat::get_children()</span>
<a name="l2487"><span class="linenum">2487</span></a>  <span class="comment"> * returns categories as instances of coursecat and not stdClass. Also there is no</span>
<a name="l2488"><span class="linenum">2488</span></a>  <span class="comment"> * substitute for retrieving the category with all it's subcategories. Plugin developers</span>
<a name="l2489"><span class="linenum">2489</span></a>  <span class="comment"> * may re-use the code/queries from this function in their plugins if really necessary.</span>
<a name="l2490"><span class="linenum">2490</span></a>  <span class="comment"> *</span>
<a name="l2491"><span class="linenum">2491</span></a>  <span class="comment"> * @param string $parent The parent category if any</span>
<a name="l2492"><span class="linenum">2492</span></a>  <span class="comment"> * @param string $sort the sortorder</span>
<a name="l2493"><span class="linenum">2493</span></a>  <span class="comment"> * @param bool   $shallow - set to false to get the children too</span>
<a name="l2494"><span class="linenum">2494</span></a>  <span class="comment"> * @return array of categories</span>
<a name="l2495"><span class="linenum">2495</span></a>  <span class="comment"> */</span>
<a name="l2496"><span class="linenum">2496</span></a>  function <a class="function" onClick="logFunction('get_categories')" href="../_functions/get_categories.html" onMouseOver="funcPopup(event,'get_categories')">get_categories</a>(<a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>='none', <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>=NULL, <a class="var it25244" onMouseOver="hilite(25244)" onMouseOut="lolite()" onClick="logVariable('shallow')" href="../_variables/shallow.html">$shallow</a>=true) {
<a name="l2497"><span class="linenum">2497</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l2498"><span class="linenum">2498</span></a>  
<a name="l2499"><span class="linenum">2499</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_categories')" href="../_functions/get_categories.html" onMouseOver="funcPopup(event,'get_categories')">get_categories</a>() is deprecated. Please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_children')" href="../_functions/get_children.html" onMouseOver="funcPopup(event,'get_children')">get_children</a>() or see phpdocs for other alternatives',
<a name="l2500"><span class="linenum">2500</span></a>              <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2501"><span class="linenum">2501</span></a>  
<a name="l2502"><span class="linenum">2502</span></a>      if (<a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> === NULL) {
<a name="l2503"><span class="linenum">2503</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'ORDER BY cc.sortorder ASC';
<a name="l2504"><span class="linenum">2504</span></a>      } elseif (<a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> ==='') {
<a name="l2505"><span class="linenum">2505</span></a>  <span class="comment">        // leave it as empty</span>
<a name="l2506"><span class="linenum">2506</span></a>      } else {
<a name="l2507"><span class="linenum">2507</span></a>          <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = &quot;ORDER BY <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>&quot;;
<a name="l2508"><span class="linenum">2508</span></a>      }
<a name="l2509"><span class="linenum">2509</span></a>  
<a name="l2510"><span class="linenum">2510</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>, <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>) = <a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>('cc.id', <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>, 'ctx');
<a name="l2511"><span class="linenum">2511</span></a>  
<a name="l2512"><span class="linenum">2512</span></a>      if (<a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a> === 'none') {
<a name="l2513"><span class="linenum">2513</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT cc.* <a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>
<a name="l2514"><span class="linenum">2514</span></a>                    FROM {course_categories} cc
<a name="l2515"><span class="linenum">2515</span></a>                 <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>
<a name="l2516"><span class="linenum">2516</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>&quot;;
<a name="l2517"><span class="linenum">2517</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l2518"><span class="linenum">2518</span></a>  
<a name="l2519"><span class="linenum">2519</span></a>      } elseif (<a class="var it25244" onMouseOver="hilite(25244)" onMouseOut="lolite()" onClick="logVariable('shallow')" href="../_variables/shallow.html">$shallow</a>) {
<a name="l2520"><span class="linenum">2520</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT cc.* <a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>
<a name="l2521"><span class="linenum">2521</span></a>                    FROM {course_categories} cc
<a name="l2522"><span class="linenum">2522</span></a>                 <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>
<a name="l2523"><span class="linenum">2523</span></a>                   WHERE cc.parent=?
<a name="l2524"><span class="linenum">2524</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>&quot;;
<a name="l2525"><span class="linenum">2525</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array(<a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>);
<a name="l2526"><span class="linenum">2526</span></a>  
<a name="l2527"><span class="linenum">2527</span></a>      } else {
<a name="l2528"><span class="linenum">2528</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT cc.* <a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>
<a name="l2529"><span class="linenum">2529</span></a>                    FROM {course_categories} cc
<a name="l2530"><span class="linenum">2530</span></a>                 <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>
<a name="l2531"><span class="linenum">2531</span></a>                    JOIN {course_categories} ccp
<a name="l2532"><span class="linenum">2532</span></a>                         <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> ((cc.parent = ccp.id) <a class="function" onClick="logFunction('OR')" href="../_functions/or.html" onMouseOver="funcPopup(event,'or')">OR</a> (cc.path LIKE &quot;.<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_concat')" href="../_functions/sql_concat.html" onMouseOver="funcPopup(event,'sql_concat')">sql_concat</a>('ccp.path',&quot;'/%'&quot;).&quot;))
<a name="l2533"><span class="linenum">2533</span></a>                   WHERE ccp.id=?
<a name="l2534"><span class="linenum">2534</span></a>                  <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>&quot;;
<a name="l2535"><span class="linenum">2535</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array(<a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>);
<a name="l2536"><span class="linenum">2536</span></a>      }
<a name="l2537"><span class="linenum">2537</span></a>      <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> = array();
<a name="l2538"><span class="linenum">2538</span></a>  
<a name="l2539"><span class="linenum">2539</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l2540"><span class="linenum">2540</span></a>      foreach(<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>) {
<a name="l2541"><span class="linenum">2541</span></a>          <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>);
<a name="l2542"><span class="linenum">2542</span></a>          <a class="var it6699" onMouseOver="hilite(6699)" onMouseOut="lolite()" onClick="logVariable('catcontext')" href="../_variables/catcontext.html">$catcontext</a> = <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('id')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l2543"><span class="linenum">2543</span></a>          if (<a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('visible')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a> || <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/category:viewhiddencategories', <a class="var it6699" onMouseOver="hilite(6699)" onMouseOut="lolite()" onClick="logVariable('catcontext')" href="../_variables/catcontext.html">$catcontext</a>)) {
<a name="l2544"><span class="linenum">2544</span></a>              <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>[<a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>-&gt;<a onClick="logVariable('id')" class="var it39557" onMouseOver="hilite(39557)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it4945" onMouseOver="hilite(4945)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../_variables/cat.html">$cat</a>;
<a name="l2545"><span class="linenum">2545</span></a>          }
<a name="l2546"><span class="linenum">2546</span></a>      }
<a name="l2547"><span class="linenum">2547</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l2548"><span class="linenum">2548</span></a>      return <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>;
<a name="l2549"><span class="linenum">2549</span></a>  }
<a name="l2550"><span class="linenum">2550</span></a>  
<a name="l2551"><span class="linenum">2551</span></a>  <span class="comment">/**</span>
<a name="l2552"><span class="linenum">2552</span></a>  <span class="comment">* Displays a course search form</span>
<a name="l2553"><span class="linenum">2553</span></a>  <span class="comment">*</span>
<a name="l2554"><span class="linenum">2554</span></a>  <span class="comment">* This function is deprecated, please use course renderer:</span>
<a name="l2555"><span class="linenum">2555</span></a>  <span class="comment">* $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2556"><span class="linenum">2556</span></a>  <span class="comment">* echo $renderer-&gt;course_search_form($value, $format);</span>
<a name="l2557"><span class="linenum">2557</span></a>  <span class="comment">*</span>
<a name="l2558"><span class="linenum">2558</span></a>  <span class="comment">* @deprecated since 2.5</span>
<a name="l2559"><span class="linenum">2559</span></a>  <span class="comment">*</span>
<a name="l2560"><span class="linenum">2560</span></a>  <span class="comment">* @param string $value default value to populate the search field</span>
<a name="l2561"><span class="linenum">2561</span></a>  <span class="comment">* @param bool $return if true returns the value, if false - outputs</span>
<a name="l2562"><span class="linenum">2562</span></a>  <span class="comment">* @param string $format display format - 'plain' (default), 'short' or 'navbar'</span>
<a name="l2563"><span class="linenum">2563</span></a>  <span class="comment">* @return null|string</span>
<a name="l2564"><span class="linenum">2564</span></a>  <span class="comment">*/</span>
<a name="l2565"><span class="linenum">2565</span></a>  function <a class="function" onClick="logFunction('print_course_search')" href="../_functions/print_course_search.html" onMouseOver="funcPopup(event,'print_course_search')">print_course_search</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>=&quot;&quot;, <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>=false, <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>=&quot;plain&quot;) {
<a name="l2566"><span class="linenum">2566</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2567"><span class="linenum">2567</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_course_search')" href="../_functions/print_course_search.html" onMouseOver="funcPopup(event,'print_course_search')">print_course_search</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2568"><span class="linenum">2568</span></a>      <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2569"><span class="linenum">2569</span></a>      if (<a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>) {
<a name="l2570"><span class="linenum">2570</span></a>          return <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('course_search_form')" href="../_functions/course_search_form.html" onMouseOver="funcPopup(event,'course_search_form')">course_search_form</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>);
<a name="l2571"><span class="linenum">2571</span></a>      } else {
<a name="l2572"><span class="linenum">2572</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('course_search_form')" href="../_functions/course_search_form.html" onMouseOver="funcPopup(event,'course_search_form')">course_search_form</a>(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../_variables/value.html">$value</a>, <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('format')" href="../_variables/format.html">$format</a>);
<a name="l2573"><span class="linenum">2573</span></a>      }
<a name="l2574"><span class="linenum">2574</span></a>  }
<a name="l2575"><span class="linenum">2575</span></a>  
<a name="l2576"><span class="linenum">2576</span></a>  <span class="comment">/**</span>
<a name="l2577"><span class="linenum">2577</span></a>  <span class="comment"> * Prints custom user information on the home page</span>
<a name="l2578"><span class="linenum">2578</span></a>  <span class="comment"> *</span>
<a name="l2579"><span class="linenum">2579</span></a>  <span class="comment"> * This function is deprecated, please use:</span>
<a name="l2580"><span class="linenum">2580</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2581"><span class="linenum">2581</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_my_courses()</span>
<a name="l2582"><span class="linenum">2582</span></a>  <span class="comment"> *</span>
<a name="l2583"><span class="linenum">2583</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2584"><span class="linenum">2584</span></a>  <span class="comment"> */</span>
<a name="l2585"><span class="linenum">2585</span></a>  function <a class="function" onClick="logFunction('print_my_moodle')" href="../_functions/print_my_moodle.html" onMouseOver="funcPopup(event,'print_my_moodle')">print_my_moodle</a>() {
<a name="l2586"><span class="linenum">2586</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2587"><span class="linenum">2587</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_my_moodle')" href="../_functions/print_my_moodle.html" onMouseOver="funcPopup(event,'print_my_moodle')">print_my_moodle</a>() is deprecated, please use course renderer function <a class="function" onClick="logFunction('frontpage_my_courses')" href="../_functions/frontpage_my_courses.html" onMouseOver="funcPopup(event,'frontpage_my_courses')">frontpage_my_courses</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2588"><span class="linenum">2588</span></a>  
<a name="l2589"><span class="linenum">2589</span></a>      <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2590"><span class="linenum">2590</span></a>      echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('frontpage_my_courses')" href="../_functions/frontpage_my_courses.html" onMouseOver="funcPopup(event,'frontpage_my_courses')">frontpage_my_courses</a>();
<a name="l2591"><span class="linenum">2591</span></a>  }
<a name="l2592"><span class="linenum">2592</span></a>  
<a name="l2593"><span class="linenum">2593</span></a>  <span class="comment">/**</span>
<a name="l2594"><span class="linenum">2594</span></a>  <span class="comment"> * Prints information about one remote course</span>
<a name="l2595"><span class="linenum">2595</span></a>  <span class="comment"> *</span>
<a name="l2596"><span class="linenum">2596</span></a>  <span class="comment"> * This function is deprecated, it is replaced with protected function</span>
<a name="l2597"><span class="linenum">2597</span></a>  <span class="comment"> * {@link core_course_renderer::frontpage_remote_course()}</span>
<a name="l2598"><span class="linenum">2598</span></a>  <span class="comment"> * It is only used from function {@link core_course_renderer::frontpage_my_courses()}</span>
<a name="l2599"><span class="linenum">2599</span></a>  <span class="comment"> *</span>
<a name="l2600"><span class="linenum">2600</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2601"><span class="linenum">2601</span></a>  <span class="comment"> */</span>
<a name="l2602"><span class="linenum">2602</span></a>  function <a class="function" onClick="logFunction('print_remote_course')" href="../_functions/print_remote_course.html" onMouseOver="funcPopup(event,'print_remote_course')">print_remote_course</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;) {
<a name="l2603"><span class="linenum">2603</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l2604"><span class="linenum">2604</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_remote_course')" href="../_functions/print_remote_course.html" onMouseOver="funcPopup(event,'print_remote_course')">print_remote_course</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2605"><span class="linenum">2605</span></a>  
<a name="l2606"><span class="linenum">2606</span></a>      <a class="var it16105" onMouseOver="hilite(16105)" onMouseOut="lolite()" onClick="logVariable('linkcss')" href="../_variables/linkcss.html">$linkcss</a> = '';
<a name="l2607"><span class="linenum">2607</span></a>  
<a name="l2608"><span class="linenum">2608</span></a>      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = &quot;{<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a>}/auth/mnet/jump.php?hostid={<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('hostid')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/hostid.html">hostid</a>}&amp;amp;wantsurl=/course/view.php?id={<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('remoteid')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/remoteid.html">remoteid</a>}&quot;;
<a name="l2609"><span class="linenum">2609</span></a>  
<a name="l2610"><span class="linenum">2610</span></a>      echo '&lt;div class=&quot;coursebox remotecoursebox clearfix&quot;&gt;';
<a name="l2611"><span class="linenum">2611</span></a>      echo '&lt;div class=&quot;info&quot;&gt;';
<a name="l2612"><span class="linenum">2612</span></a>      echo '&lt;div class=&quot;name&quot;&gt;&lt;a title=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('entercourse').'&quot;'.
<a name="l2613"><span class="linenum">2613</span></a>           <a class="var it16105" onMouseOver="hilite(16105)" onMouseOut="lolite()" onClick="logVariable('linkcss')" href="../_variables/linkcss.html">$linkcss</a>.' href=&quot;'.<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>.'&quot;&gt;'
<a name="l2614"><span class="linenum">2614</span></a>          .  <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>) .'&lt;/a&gt;&lt;br /&gt;'
<a name="l2615"><span class="linenum">2615</span></a>          . <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('hostname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/hostname.html">hostname</a>) . ' : '
<a name="l2616"><span class="linenum">2616</span></a>          . <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('cat_name')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/cat_name.html">cat_name</a>) . ' : '
<a name="l2617"><span class="linenum">2617</span></a>          . <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('shortname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/shortname.html">shortname</a>). '&lt;/div&gt;';
<a name="l2618"><span class="linenum">2618</span></a>      echo '&lt;/div&gt;&lt;div class=&quot;summary&quot;&gt;';
<a name="l2619"><span class="linenum">2619</span></a>      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = new stdClass();
<a name="l2620"><span class="linenum">2620</span></a>      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('noclean')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/noclean.html">noclean</a> = true;
<a name="l2621"><span class="linenum">2621</span></a>      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('para')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/para.html">para</a> = false;
<a name="l2622"><span class="linenum">2622</span></a>      <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('overflowdiv')" class="var it39524" onMouseOver="hilite(39524)" onMouseOut="lolite()" href="../_variables/overflowdiv.html">overflowdiv</a> = true;
<a name="l2623"><span class="linenum">2623</span></a>      echo <a class="function" onClick="logFunction('format_text')" href="../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('summary')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/summary.html">summary</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('summaryformat')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/summaryformat.html">summaryformat</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>);
<a name="l2624"><span class="linenum">2624</span></a>      echo '&lt;/div&gt;';
<a name="l2625"><span class="linenum">2625</span></a>      echo '&lt;/div&gt;';
<a name="l2626"><span class="linenum">2626</span></a>  }
<a name="l2627"><span class="linenum">2627</span></a>  
<a name="l2628"><span class="linenum">2628</span></a>  <span class="comment">/**</span>
<a name="l2629"><span class="linenum">2629</span></a>  <span class="comment"> * Prints information about one remote host</span>
<a name="l2630"><span class="linenum">2630</span></a>  <span class="comment"> *</span>
<a name="l2631"><span class="linenum">2631</span></a>  <span class="comment"> * This function is deprecated, it is replaced with protected function</span>
<a name="l2632"><span class="linenum">2632</span></a>  <span class="comment"> * {@link core_course_renderer::frontpage_remote_host()}</span>
<a name="l2633"><span class="linenum">2633</span></a>  <span class="comment"> * It is only used from function {@link core_course_renderer::frontpage_my_courses()}</span>
<a name="l2634"><span class="linenum">2634</span></a>  <span class="comment"> *</span>
<a name="l2635"><span class="linenum">2635</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2636"><span class="linenum">2636</span></a>  <span class="comment"> */</span>
<a name="l2637"><span class="linenum">2637</span></a>  function <a class="function" onClick="logFunction('print_remote_host')" href="../_functions/print_remote_host.html" onMouseOver="funcPopup(event,'print_remote_host')">print_remote_host</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('width')" href="../_variables/width.html">$width</a>=&quot;100%&quot;) {
<a name="l2638"><span class="linenum">2638</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l2639"><span class="linenum">2639</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_remote_host')" href="../_functions/print_remote_host.html" onMouseOver="funcPopup(event,'print_remote_host')">print_remote_host</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2640"><span class="linenum">2640</span></a>  
<a name="l2641"><span class="linenum">2641</span></a>      <a class="var it16105" onMouseOver="hilite(16105)" onMouseOut="lolite()" onClick="logVariable('linkcss')" href="../_variables/linkcss.html">$linkcss</a> = '';
<a name="l2642"><span class="linenum">2642</span></a>  
<a name="l2643"><span class="linenum">2643</span></a>      echo '&lt;div class=&quot;coursebox clearfix&quot;&gt;';
<a name="l2644"><span class="linenum">2644</span></a>      echo '&lt;div class=&quot;info&quot;&gt;';
<a name="l2645"><span class="linenum">2645</span></a>      echo '&lt;div class=&quot;name&quot;&gt;';
<a name="l2646"><span class="linenum">2646</span></a>      echo '&lt;img src=&quot;'.<a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('i/mnethost') . '&quot; class=&quot;icon&quot; alt=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course').'&quot; /&gt;';
<a name="l2647"><span class="linenum">2647</span></a>      echo '&lt;a title=&quot;'.<a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>['name']).'&quot; href=&quot;'.<a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>['url']).'&quot;&gt;'
<a name="l2648"><span class="linenum">2648</span></a>          . <a class="function" onClick="logFunction('s')" href="../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>(<a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>['name']).'&lt;/a&gt; - ';
<a name="l2649"><span class="linenum">2649</span></a>      echo <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../_variables/host.html">$host</a>['count'] . ' ' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('courses');
<a name="l2650"><span class="linenum">2650</span></a>      echo '&lt;/div&gt;';
<a name="l2651"><span class="linenum">2651</span></a>      echo '&lt;/div&gt;';
<a name="l2652"><span class="linenum">2652</span></a>      echo '&lt;/div&gt;';
<a name="l2653"><span class="linenum">2653</span></a>  }
<a name="l2654"><span class="linenum">2654</span></a>  
<a name="l2655"><span class="linenum">2655</span></a>  <span class="comment">/**</span>
<a name="l2656"><span class="linenum">2656</span></a>  <span class="comment"> * Recursive function to print out all the categories in a nice format</span>
<a name="l2657"><span class="linenum">2657</span></a>  <span class="comment"> * with or without courses included</span>
<a name="l2658"><span class="linenum">2658</span></a>  <span class="comment"> *</span>
<a name="l2659"><span class="linenum">2659</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2660"><span class="linenum">2660</span></a>  <span class="comment"> *</span>
<a name="l2661"><span class="linenum">2661</span></a>  <span class="comment"> * See http://docs.moodle.org/dev/Courses_lists_upgrade_to_2.5</span>
<a name="l2662"><span class="linenum">2662</span></a>  <span class="comment"> */</span>
<a name="l2663"><span class="linenum">2663</span></a>  function <a class="function" onClick="logFunction('print_whole_category_list')" href="../_functions/print_whole_category_list.html" onMouseOver="funcPopup(event,'print_whole_category_list')">print_whole_category_list</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>=NULL, <a class="var it4964" onMouseOver="hilite(4964)" onMouseOut="lolite()" onClick="logVariable('displaylist')" href="../_variables/displaylist.html">$displaylist</a>=NULL, <a class="var it25245" onMouseOver="hilite(25245)" onMouseOut="lolite()" onClick="logVariable('parentslist')" href="../_variables/parentslist.html">$parentslist</a>=NULL, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>=-1, <a class="var it6445" onMouseOver="hilite(6445)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a> = true, <a class="var it25246" onMouseOver="hilite(25246)" onMouseOut="lolite()" onClick="logVariable('categorycourses')" href="../_variables/categorycourses.html">$categorycourses</a>=NULL) {
<a name="l2664"><span class="linenum">2664</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2665"><span class="linenum">2665</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_whole_category_list')" href="../_functions/print_whole_category_list.html" onMouseOver="funcPopup(event,'print_whole_category_list')">print_whole_category_list</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2666"><span class="linenum">2666</span></a>  
<a name="l2667"><span class="linenum">2667</span></a>      <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2668"><span class="linenum">2668</span></a>      if (<a class="var it6445" onMouseOver="hilite(6445)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a> &amp;&amp; <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2669"><span class="linenum">2669</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('course_category')" href="../_functions/course_category.html" onMouseOver="funcPopup(event,'course_category')">course_category</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2670"><span class="linenum">2670</span></a>      } else if (<a class="var it6445" onMouseOver="hilite(6445)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a>) {
<a name="l2671"><span class="linenum">2671</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('frontpage_combo_list')" href="../_functions/frontpage_combo_list.html" onMouseOver="funcPopup(event,'frontpage_combo_list')">frontpage_combo_list</a>();
<a name="l2672"><span class="linenum">2672</span></a>      } else {
<a name="l2673"><span class="linenum">2673</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('frontpage_categories_list')" href="../_functions/frontpage_categories_list.html" onMouseOver="funcPopup(event,'frontpage_categories_list')">frontpage_categories_list</a>();
<a name="l2674"><span class="linenum">2674</span></a>      }
<a name="l2675"><span class="linenum">2675</span></a>  }
<a name="l2676"><span class="linenum">2676</span></a>  
<a name="l2677"><span class="linenum">2677</span></a>  <span class="comment">/**</span>
<a name="l2678"><span class="linenum">2678</span></a>  <span class="comment"> * Prints the category information.</span>
<a name="l2679"><span class="linenum">2679</span></a>  <span class="comment"> *</span>
<a name="l2680"><span class="linenum">2680</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2681"><span class="linenum">2681</span></a>  <span class="comment"> *</span>
<a name="l2682"><span class="linenum">2682</span></a>  <span class="comment"> * This function was only used by {@link print_whole_category_list()} but now</span>
<a name="l2683"><span class="linenum">2683</span></a>  <span class="comment"> * all course category rendering is moved to core_course_renderer.</span>
<a name="l2684"><span class="linenum">2684</span></a>  <span class="comment"> *</span>
<a name="l2685"><span class="linenum">2685</span></a>  <span class="comment"> * @param stdClass $category</span>
<a name="l2686"><span class="linenum">2686</span></a>  <span class="comment"> * @param int $depth The depth of the category.</span>
<a name="l2687"><span class="linenum">2687</span></a>  <span class="comment"> * @param bool $showcourses If set to true course information will also be printed.</span>
<a name="l2688"><span class="linenum">2688</span></a>  <span class="comment"> * @param array|null $courses An array of courses belonging to the category, or null if you don't have it yet.</span>
<a name="l2689"><span class="linenum">2689</span></a>  <span class="comment"> */</span>
<a name="l2690"><span class="linenum">2690</span></a>  function <a class="function" onClick="logFunction('print_category_info')" href="../_functions/print_category_info.html" onMouseOver="funcPopup(event,'print_category_info')">print_category_info</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> = 0, <a class="var it6445" onMouseOver="hilite(6445)" onMouseOut="lolite()" onClick="logVariable('showcourses')" href="../_variables/showcourses.html">$showcourses</a> = false, array <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = null) {
<a name="l2691"><span class="linenum">2691</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2692"><span class="linenum">2692</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_category_info')" href="../_functions/print_category_info.html" onMouseOver="funcPopup(event,'print_category_info')">print_category_info</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2693"><span class="linenum">2693</span></a>  
<a name="l2694"><span class="linenum">2694</span></a>      <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2695"><span class="linenum">2695</span></a>      echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('course_category')" href="../_functions/course_category.html" onMouseOver="funcPopup(event,'course_category')">course_category</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2696"><span class="linenum">2696</span></a>  }
<a name="l2697"><span class="linenum">2697</span></a>  
<a name="l2698"><span class="linenum">2698</span></a>  <span class="comment">/**</span>
<a name="l2699"><span class="linenum">2699</span></a>  <span class="comment"> * This function generates a structured array of courses and categories.</span>
<a name="l2700"><span class="linenum">2700</span></a>  <span class="comment"> *</span>
<a name="l2701"><span class="linenum">2701</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2702"><span class="linenum">2702</span></a>  <span class="comment"> *</span>
<a name="l2703"><span class="linenum">2703</span></a>  <span class="comment"> * This function is not used any more in moodle core and course renderer does not have render function for it.</span>
<a name="l2704"><span class="linenum">2704</span></a>  <span class="comment"> * Combo list on the front page is displayed as:</span>
<a name="l2705"><span class="linenum">2705</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2706"><span class="linenum">2706</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_combo_list()</span>
<a name="l2707"><span class="linenum">2707</span></a>  <span class="comment"> *</span>
<a name="l2708"><span class="linenum">2708</span></a>  <span class="comment"> * The new class {@link coursecat} stores the information about course category tree</span>
<a name="l2709"><span class="linenum">2709</span></a>  <span class="comment"> * To get children categories use:</span>
<a name="l2710"><span class="linenum">2710</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_children()</span>
<a name="l2711"><span class="linenum">2711</span></a>  <span class="comment"> * To get list of courses use:</span>
<a name="l2712"><span class="linenum">2712</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses()</span>
<a name="l2713"><span class="linenum">2713</span></a>  <span class="comment"> *</span>
<a name="l2714"><span class="linenum">2714</span></a>  <span class="comment"> * See http://docs.moodle.org/dev/Courses_lists_upgrade_to_2.5</span>
<a name="l2715"><span class="linenum">2715</span></a>  <span class="comment"> *</span>
<a name="l2716"><span class="linenum">2716</span></a>  <span class="comment"> * @param int $id</span>
<a name="l2717"><span class="linenum">2717</span></a>  <span class="comment"> * @param int $depth</span>
<a name="l2718"><span class="linenum">2718</span></a>  <span class="comment"> */</span>
<a name="l2719"><span class="linenum">2719</span></a>  function <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = 0, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> = 0) {
<a name="l2720"><span class="linenum">2720</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2721"><span class="linenum">2721</span></a>      if (!<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>) {
<a name="l2722"><span class="linenum">2722</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>() is deprecated, please use course renderer or coursecat class, see function phpdocs for more info', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2723"><span class="linenum">2723</span></a>      }
<a name="l2724"><span class="linenum">2724</span></a>  
<a name="l2725"><span class="linenum">2725</span></a>      <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a> = array();
<a name="l2726"><span class="linenum">2726</span></a>      <a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a> = array();
<a name="l2727"><span class="linenum">2727</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>('ctx');
<a name="l2728"><span class="linenum">2728</span></a>      <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT c.*, <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> FROM {course_categories} c &quot;.
<a name="l2729"><span class="linenum">2729</span></a>              &quot;JOIN {context} ctx on ctx.instanceid = c.id AND ctx.contextlevel = ? WHERE c.parent = ? ORDER BY c.sortorder&quot;,
<a name="l2730"><span class="linenum">2730</span></a>              array(<a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>, <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>));
<a name="l2731"><span class="linenum">2731</span></a>      foreach (<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> as <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2732"><span class="linenum">2732</span></a>          <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2733"><span class="linenum">2733</span></a>          if (!<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('visible')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/category:viewhiddencategories', <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l2734"><span class="linenum">2734</span></a>              continue;
<a name="l2735"><span class="linenum">2735</span></a>          }
<a name="l2736"><span class="linenum">2736</span></a>          <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>[] = <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>;
<a name="l2737"><span class="linenum">2737</span></a>          <a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>[<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>;
<a name="l2738"><span class="linenum">2738</span></a>          if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maxcategorydepth')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/maxcategorydepth.html">maxcategorydepth</a>) || <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> &lt;= <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('maxcategorydepth')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/maxcategorydepth.html">maxcategorydepth</a>) {
<a name="l2739"><span class="linenum">2739</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('categories')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/categories.html">categories</a>, <a class="var it7354" onMouseOver="hilite(7354)" onMouseOut="lolite()" onClick="logVariable('subcategories')" href="../_variables/subcategories.html">$subcategories</a>) = <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a>+1);
<a name="l2740"><span class="linenum">2740</span></a>              foreach (<a class="var it7354" onMouseOver="hilite(7354)" onMouseOut="lolite()" onClick="logVariable('subcategories')" href="../_variables/subcategories.html">$subcategories</a> as <a class="var it17372" onMouseOver="hilite(17372)" onMouseOut="lolite()" onClick="logVariable('subid')" href="../_variables/subid.html">$subid</a>=&gt;<a class="var it4946" onMouseOver="hilite(4946)" onMouseOut="lolite()" onClick="logVariable('subcat')" href="../_variables/subcat.html">$subcat</a>) {
<a name="l2741"><span class="linenum">2741</span></a>                  <a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>[<a class="var it17372" onMouseOver="hilite(17372)" onMouseOut="lolite()" onClick="logVariable('subid')" href="../_variables/subid.html">$subid</a>] = <a class="var it4946" onMouseOver="hilite(4946)" onMouseOut="lolite()" onClick="logVariable('subcat')" href="../_variables/subcat.html">$subcat</a>;
<a name="l2742"><span class="linenum">2742</span></a>              }
<a name="l2743"><span class="linenum">2743</span></a>              <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('courses')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/courses.html">courses</a> = array();
<a name="l2744"><span class="linenum">2744</span></a>          }
<a name="l2745"><span class="linenum">2745</span></a>      }
<a name="l2746"><span class="linenum">2746</span></a>  
<a name="l2747"><span class="linenum">2747</span></a>      if (<a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('depth')" href="../_variables/depth.html">$depth</a> &gt; 0) {
<a name="l2748"><span class="linenum">2748</span></a>  <span class="comment">        // This is a recursive call so return the required array</span>
<a name="l2749"><span class="linenum">2749</span></a>          return array(<a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>, <a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>);
<a name="l2750"><span class="linenum">2750</span></a>      }
<a name="l2751"><span class="linenum">2751</span></a>  
<a name="l2752"><span class="linenum">2752</span></a>      if (empty(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>)) {
<a name="l2753"><span class="linenum">2753</span></a>  <span class="comment">        // No categories available (probably all hidden).</span>
<a name="l2754"><span class="linenum">2754</span></a>          return array();
<a name="l2755"><span class="linenum">2755</span></a>      }
<a name="l2756"><span class="linenum">2756</span></a>  
<a name="l2757"><span class="linenum">2757</span></a>  <span class="comment">    // The depth is 0 this function has just been called so we can finish it off</span>
<a name="l2758"><span class="linenum">2758</span></a>  
<a name="l2759"><span class="linenum">2759</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>, <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>) = <a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>('c.id', <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>, 'ctx');
<a name="l2760"><span class="linenum">2760</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it25247" onMouseOver="hilite(25247)" onMouseOut="lolite()" onClick="logVariable('catsql')" href="../_variables/catsql.html">$catsql</a>, <a class="var it25248" onMouseOver="hilite(25248)" onMouseOut="lolite()" onClick="logVariable('catparams')" href="../_variables/catparams.html">$catparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>));
<a name="l2761"><span class="linenum">2761</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT
<a name="l2762"><span class="linenum">2762</span></a>              c.id,c.sortorder,c.visible,c.fullname,c.shortname,c.summary,c.category
<a name="l2763"><span class="linenum">2763</span></a>              <a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>
<a name="l2764"><span class="linenum">2764</span></a>              FROM {course} c
<a name="l2765"><span class="linenum">2765</span></a>              <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>
<a name="l2766"><span class="linenum">2766</span></a>              WHERE c.category <a class="var it25247" onMouseOver="hilite(25247)" onMouseOut="lolite()" onClick="logVariable('catsql')" href="../_variables/catsql.html">$catsql</a> ORDER BY c.sortorder ASC&quot;;
<a name="l2767"><span class="linenum">2767</span></a>      if (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it25248" onMouseOver="hilite(25248)" onMouseOut="lolite()" onClick="logVariable('catparams')" href="../_variables/catparams.html">$catparams</a>)) {
<a name="l2768"><span class="linenum">2768</span></a>  <span class="comment">        // loop throught them</span>
<a name="l2769"><span class="linenum">2769</span></a>          foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l2770"><span class="linenum">2770</span></a>              if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l2771"><span class="linenum">2771</span></a>                  continue;
<a name="l2772"><span class="linenum">2772</span></a>              }
<a name="l2773"><span class="linenum">2773</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l2774"><span class="linenum">2774</span></a>              if (!empty(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('visible')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/visible.html">visible</a>) || <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewhiddencourses', <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l2775"><span class="linenum">2775</span></a>                  <a class="var it12063" onMouseOver="hilite(12063)" onMouseOut="lolite()" onClick="logVariable('categoryids')" href="../_variables/categoryids.html">$categoryids</a>[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('category')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/category.html">category</a>]-&gt;courses[<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l2776"><span class="linenum">2776</span></a>              }
<a name="l2777"><span class="linenum">2777</span></a>          }
<a name="l2778"><span class="linenum">2778</span></a>      }
<a name="l2779"><span class="linenum">2779</span></a>      return <a class="var it3174" onMouseOver="hilite(3174)" onMouseOut="lolite()" onClick="logVariable('categories')" href="../_variables/categories.html">$categories</a>;
<a name="l2780"><span class="linenum">2780</span></a>  }
<a name="l2781"><span class="linenum">2781</span></a>  
<a name="l2782"><span class="linenum">2782</span></a>  <span class="comment">/**</span>
<a name="l2783"><span class="linenum">2783</span></a>  <span class="comment"> * Print courses in category. If category is 0 then all courses are printed.</span>
<a name="l2784"><span class="linenum">2784</span></a>  <span class="comment"> *</span>
<a name="l2785"><span class="linenum">2785</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2786"><span class="linenum">2786</span></a>  <span class="comment"> *</span>
<a name="l2787"><span class="linenum">2787</span></a>  <span class="comment"> * To print a generic list of courses use:</span>
<a name="l2788"><span class="linenum">2788</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2789"><span class="linenum">2789</span></a>  <span class="comment"> * echo $renderer-&gt;courses_list($courses);</span>
<a name="l2790"><span class="linenum">2790</span></a>  <span class="comment"> *</span>
<a name="l2791"><span class="linenum">2791</span></a>  <span class="comment"> * To print list of all courses:</span>
<a name="l2792"><span class="linenum">2792</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2793"><span class="linenum">2793</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_available_courses();</span>
<a name="l2794"><span class="linenum">2794</span></a>  <span class="comment"> *</span>
<a name="l2795"><span class="linenum">2795</span></a>  <span class="comment"> * To print list of courses inside category:</span>
<a name="l2796"><span class="linenum">2796</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2797"><span class="linenum">2797</span></a>  <span class="comment"> * echo $renderer-&gt;course_category($category); // this will also print subcategories</span>
<a name="l2798"><span class="linenum">2798</span></a>  <span class="comment"> *</span>
<a name="l2799"><span class="linenum">2799</span></a>  <span class="comment"> * @param int|stdClass $category category object or id.</span>
<a name="l2800"><span class="linenum">2800</span></a>  <span class="comment"> * @return bool true if courses found and printed, else false.</span>
<a name="l2801"><span class="linenum">2801</span></a>  <span class="comment"> */</span>
<a name="l2802"><span class="linenum">2802</span></a>  function <a class="function" onClick="logFunction('print_courses')" href="../_functions/print_courses.html" onMouseOver="funcPopup(event,'print_courses')">print_courses</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2803"><span class="linenum">2803</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2804"><span class="linenum">2804</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>. '/coursecatlib.php');
<a name="l2805"><span class="linenum">2805</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_courses')" href="../_functions/print_courses.html" onMouseOver="funcPopup(event,'print_courses')">print_courses</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2806"><span class="linenum">2806</span></a>  
<a name="l2807"><span class="linenum">2807</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_object')" href="../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) &amp;&amp; <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>==0) {
<a name="l2808"><span class="linenum">2808</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0)-&gt;<a class="function" onClick="logFunction('get_courses')" href="../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>(array('recursive' =&gt; true, 'summary' =&gt; true, 'coursecontacts' =&gt; true));
<a name="l2809"><span class="linenum">2809</span></a>      } else {
<a name="l2810"><span class="linenum">2810</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get')" href="../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)-&gt;<a class="function" onClick="logFunction('get_courses')" href="../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>(array('summary' =&gt; true, 'coursecontacts' =&gt; true));
<a name="l2811"><span class="linenum">2811</span></a>      }
<a name="l2812"><span class="linenum">2812</span></a>  
<a name="l2813"><span class="linenum">2813</span></a>      if (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>) {
<a name="l2814"><span class="linenum">2814</span></a>          <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2815"><span class="linenum">2815</span></a>          echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('courses_list')" href="../_functions/courses_list.html" onMouseOver="funcPopup(event,'courses_list')">courses_list</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>);
<a name="l2816"><span class="linenum">2816</span></a>      } else {
<a name="l2817"><span class="linenum">2817</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;nocoursesyet&quot;));
<a name="l2818"><span class="linenum">2818</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l2819"><span class="linenum">2819</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:create', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2820"><span class="linenum">2820</span></a>              <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a> = array();
<a name="l2821"><span class="linenum">2821</span></a>              if (!empty(<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l2822"><span class="linenum">2822</span></a>                  <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['category'] = <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l2823"><span class="linenum">2823</span></a>              } else {
<a name="l2824"><span class="linenum">2824</span></a>                  <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>['category'] = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultrequestcategory')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultrequestcategory.html">defaultrequestcategory</a>;
<a name="l2825"><span class="linenum">2825</span></a>              }
<a name="l2826"><span class="linenum">2826</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class'=&gt;'addcoursebutton'));
<a name="l2827"><span class="linenum">2827</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../course/edit.php.html">/course/edit.php</a>', <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../_variables/options.html">$options</a>), <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;addnewcourse&quot;));
<a name="l2828"><span class="linenum">2828</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l2829"><span class="linenum">2829</span></a>              return false;
<a name="l2830"><span class="linenum">2830</span></a>          }
<a name="l2831"><span class="linenum">2831</span></a>      }
<a name="l2832"><span class="linenum">2832</span></a>      return true;
<a name="l2833"><span class="linenum">2833</span></a>  }
<a name="l2834"><span class="linenum">2834</span></a>  
<a name="l2835"><span class="linenum">2835</span></a>  <span class="comment">/**</span>
<a name="l2836"><span class="linenum">2836</span></a>  <span class="comment"> * Print a description of a course, suitable for browsing in a list.</span>
<a name="l2837"><span class="linenum">2837</span></a>  <span class="comment"> *</span>
<a name="l2838"><span class="linenum">2838</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2839"><span class="linenum">2839</span></a>  <span class="comment"> *</span>
<a name="l2840"><span class="linenum">2840</span></a>  <span class="comment"> * Please use course renderer to display a course information box.</span>
<a name="l2841"><span class="linenum">2841</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2842"><span class="linenum">2842</span></a>  <span class="comment"> * echo $renderer-&gt;courses_list($courses); // will print list of courses</span>
<a name="l2843"><span class="linenum">2843</span></a>  <span class="comment"> * echo $renderer-&gt;course_info_box($course); // will print one course wrapped in div.generalbox</span>
<a name="l2844"><span class="linenum">2844</span></a>  <span class="comment"> *</span>
<a name="l2845"><span class="linenum">2845</span></a>  <span class="comment"> * @param object $course the course object.</span>
<a name="l2846"><span class="linenum">2846</span></a>  <span class="comment"> * @param string $highlightterms Ignored in this deprecated function!</span>
<a name="l2847"><span class="linenum">2847</span></a>  <span class="comment"> */</span>
<a name="l2848"><span class="linenum">2848</span></a>  function <a class="function" onClick="logFunction('print_course')" href="../_functions/print_course.html" onMouseOver="funcPopup(event,'print_course')">print_course</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it25249" onMouseOver="hilite(25249)" onMouseOut="lolite()" onClick="logVariable('highlightterms')" href="../_variables/highlightterms.html">$highlightterms</a> = '') {
<a name="l2849"><span class="linenum">2849</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2850"><span class="linenum">2850</span></a>  
<a name="l2851"><span class="linenum">2851</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('print_course')" href="../_functions/print_course.html" onMouseOver="funcPopup(event,'print_course')">print_course</a>() is deprecated, please use course renderer', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2852"><span class="linenum">2852</span></a>      <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('core', 'course');
<a name="l2853"><span class="linenum">2853</span></a>  <span class="comment">    // Please note, correct would be to use $renderer-&gt;coursecat_coursebox() but this function is protected.</span>
<a name="l2854"><span class="linenum">2854</span></a>  <span class="comment">    // To print list of courses use $renderer-&gt;courses_list();</span>
<a name="l2855"><span class="linenum">2855</span></a>      echo <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('course_info_box')" href="../_functions/course_info_box.html" onMouseOver="funcPopup(event,'course_info_box')">course_info_box</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l2856"><span class="linenum">2856</span></a>  }
<a name="l2857"><span class="linenum">2857</span></a>  
<a name="l2858"><span class="linenum">2858</span></a>  <span class="comment">/**</span>
<a name="l2859"><span class="linenum">2859</span></a>  <span class="comment"> * Gets an array whose keys are category ids and whose values are arrays of courses in the corresponding category.</span>
<a name="l2860"><span class="linenum">2860</span></a>  <span class="comment"> *</span>
<a name="l2861"><span class="linenum">2861</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2862"><span class="linenum">2862</span></a>  <span class="comment"> *</span>
<a name="l2863"><span class="linenum">2863</span></a>  <span class="comment"> * This function is not used any more in moodle core and course renderer does not have render function for it.</span>
<a name="l2864"><span class="linenum">2864</span></a>  <span class="comment"> * Combo list on the front page is displayed as:</span>
<a name="l2865"><span class="linenum">2865</span></a>  <span class="comment"> * $renderer = $PAGE-&gt;get_renderer('core', 'course');</span>
<a name="l2866"><span class="linenum">2866</span></a>  <span class="comment"> * echo $renderer-&gt;frontpage_combo_list()</span>
<a name="l2867"><span class="linenum">2867</span></a>  <span class="comment"> *</span>
<a name="l2868"><span class="linenum">2868</span></a>  <span class="comment"> * The new class {@link coursecat} stores the information about course category tree</span>
<a name="l2869"><span class="linenum">2869</span></a>  <span class="comment"> * To get children categories use:</span>
<a name="l2870"><span class="linenum">2870</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_children()</span>
<a name="l2871"><span class="linenum">2871</span></a>  <span class="comment"> * To get list of courses use:</span>
<a name="l2872"><span class="linenum">2872</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses()</span>
<a name="l2873"><span class="linenum">2873</span></a>  <span class="comment"> *</span>
<a name="l2874"><span class="linenum">2874</span></a>  <span class="comment"> * See http://docs.moodle.org/dev/Courses_lists_upgrade_to_2.5</span>
<a name="l2875"><span class="linenum">2875</span></a>  <span class="comment"> *</span>
<a name="l2876"><span class="linenum">2876</span></a>  <span class="comment"> * @param int $categoryid</span>
<a name="l2877"><span class="linenum">2877</span></a>  <span class="comment"> * @return array</span>
<a name="l2878"><span class="linenum">2878</span></a>  <span class="comment"> */</span>
<a name="l2879"><span class="linenum">2879</span></a>  function <a class="function" onClick="logFunction('get_category_courses_array')" href="../_functions/get_category_courses_array.html" onMouseOver="funcPopup(event,'get_category_courses_array')">get_category_courses_array</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a> = 0) {
<a name="l2880"><span class="linenum">2880</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_category_courses_array')" href="../_functions/get_category_courses_array.html" onMouseOver="funcPopup(event,'get_category_courses_array')">get_category_courses_array</a>() is deprecated, please use methods of coursecat class', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2881"><span class="linenum">2881</span></a>      <a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a> = <a class="function" onClick="logFunction('get_course_category_tree')" href="../_functions/get_course_category_tree.html" onMouseOver="funcPopup(event,'get_course_category_tree')">get_course_category_tree</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>);
<a name="l2882"><span class="linenum">2882</span></a>      <a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a> = array();
<a name="l2883"><span class="linenum">2883</span></a>      foreach (<a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a> as <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2884"><span class="linenum">2884</span></a>          <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>(<a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>, <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>);
<a name="l2885"><span class="linenum">2885</span></a>      }
<a name="l2886"><span class="linenum">2886</span></a>      return <a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>;
<a name="l2887"><span class="linenum">2887</span></a>  }
<a name="l2888"><span class="linenum">2888</span></a>  
<a name="l2889"><span class="linenum">2889</span></a>  <span class="comment">/**</span>
<a name="l2890"><span class="linenum">2890</span></a>  <span class="comment"> * Recursive function to help flatten the course category tree.</span>
<a name="l2891"><span class="linenum">2891</span></a>  <span class="comment"> *</span>
<a name="l2892"><span class="linenum">2892</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2893"><span class="linenum">2893</span></a>  <span class="comment"> *</span>
<a name="l2894"><span class="linenum">2894</span></a>  <span class="comment"> * Was intended to be called from {@link get_category_courses_array()}</span>
<a name="l2895"><span class="linenum">2895</span></a>  <span class="comment"> *</span>
<a name="l2896"><span class="linenum">2896</span></a>  <span class="comment"> * @param array &amp;$flattened An array passed by reference in which to store courses for each category.</span>
<a name="l2897"><span class="linenum">2897</span></a>  <span class="comment"> * @param stdClass $category The category to get courses for.</span>
<a name="l2898"><span class="linenum">2898</span></a>  <span class="comment"> */</span>
<a name="l2899"><span class="linenum">2899</span></a>  function <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>(array &amp;<a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>, <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>) {
<a name="l2900"><span class="linenum">2900</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>() is deprecated, please use methods of coursecat class', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2901"><span class="linenum">2901</span></a>      <a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>[<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('id')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = <a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('courses')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/courses.html">courses</a>;
<a name="l2902"><span class="linenum">2902</span></a>      foreach (<a class="var it2246" onMouseOver="hilite(2246)" onMouseOut="lolite()" onClick="logVariable('category')" href="../_variables/category.html">$category</a>-&gt;<a onClick="logVariable('categories')" class="var it39558" onMouseOver="hilite(39558)" onMouseOut="lolite()" href="../_variables/categories.html">categories</a> as <a class="var it25251" onMouseOver="hilite(25251)" onMouseOut="lolite()" onClick="logVariable('childcategory')" href="../_variables/childcategory.html">$childcategory</a>) {
<a name="l2903"><span class="linenum">2903</span></a>          <a class="function" onClick="logFunction('get_category_courses_array_recursively')" href="../_functions/get_category_courses_array_recursively.html" onMouseOver="funcPopup(event,'get_category_courses_array_recursively')">get_category_courses_array_recursively</a>(<a class="var it25250" onMouseOver="hilite(25250)" onMouseOut="lolite()" onClick="logVariable('flattened')" href="../_variables/flattened.html">$flattened</a>, <a class="var it25251" onMouseOver="hilite(25251)" onMouseOut="lolite()" onClick="logVariable('childcategory')" href="../_variables/childcategory.html">$childcategory</a>);
<a name="l2904"><span class="linenum">2904</span></a>      }
<a name="l2905"><span class="linenum">2905</span></a>  }
<a name="l2906"><span class="linenum">2906</span></a>  
<a name="l2907"><span class="linenum">2907</span></a>  <span class="comment">/**</span>
<a name="l2908"><span class="linenum">2908</span></a>  <span class="comment"> * Returns a URL based on the context of the current page.</span>
<a name="l2909"><span class="linenum">2909</span></a>  <span class="comment"> * This URL points to blog/index.php and includes filter parameters appropriate for the current page.</span>
<a name="l2910"><span class="linenum">2910</span></a>  <span class="comment"> *</span>
<a name="l2911"><span class="linenum">2911</span></a>  <span class="comment"> * @param stdclass $context</span>
<a name="l2912"><span class="linenum">2912</span></a>  <span class="comment"> * @deprecated since Moodle 2.5 MDL-27814 - please do not use this function any more.</span>
<a name="l2913"><span class="linenum">2913</span></a>  <span class="comment"> * @todo Remove this in 2.7</span>
<a name="l2914"><span class="linenum">2914</span></a>  <span class="comment"> * @return string</span>
<a name="l2915"><span class="linenum">2915</span></a>  <span class="comment"> */</span>
<a name="l2916"><span class="linenum">2916</span></a>  function <a class="function" onClick="logFunction('blog_get_context_url')" href="../_functions/blog_get_context_url.html" onMouseOver="funcPopup(event,'blog_get_context_url')">blog_get_context_url</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>=null) {
<a name="l2917"><span class="linenum">2917</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l2918"><span class="linenum">2918</span></a>  
<a name="l2919"><span class="linenum">2919</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function  <a class="function" onClick="logFunction('blog_get_context_url')" href="../_functions/blog_get_context_url.html" onMouseOver="funcPopup(event,'blog_get_context_url')">blog_get_context_url</a>() is deprecated, getting params from context is not reliable for blogs.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l2920"><span class="linenum">2920</span></a>      <a class="var it25252" onMouseOver="hilite(25252)" onMouseOut="lolite()" onClick="logVariable('viewblogentriesurl')" href="../_variables/viewblogentriesurl.html">$viewblogentriesurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../blog/index.php.html">/blog/index.php</a>');
<a name="l2921"><span class="linenum">2921</span></a>  
<a name="l2922"><span class="linenum">2922</span></a>      if (empty(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l2923"><span class="linenum">2923</span></a>          global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>;
<a name="l2924"><span class="linenum">2924</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('context')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../_variables/context.html">context</a>;
<a name="l2925"><span class="linenum">2925</span></a>      }
<a name="l2926"><span class="linenum">2926</span></a>  
<a name="l2927"><span class="linenum">2927</span></a>  <span class="comment">    // Change contextlevel to SYSTEM if viewing the site course</span>
<a name="l2928"><span class="linenum">2928</span></a>      if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a> &amp;&amp; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a> == <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l2929"><span class="linenum">2929</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l2930"><span class="linenum">2930</span></a>      }
<a name="l2931"><span class="linenum">2931</span></a>  
<a name="l2932"><span class="linenum">2932</span></a>      <a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a> = '';
<a name="l2933"><span class="linenum">2933</span></a>      <a class="var it25254" onMouseOver="hilite(25254)" onMouseOut="lolite()" onClick="logVariable('strlevel')" href="../_variables/strlevel.html">$strlevel</a> = '';
<a name="l2934"><span class="linenum">2934</span></a>  
<a name="l2935"><span class="linenum">2935</span></a>      switch (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a>) {
<a name="l2936"><span class="linenum">2936</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>:
<a name="l2937"><span class="linenum">2937</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_BLOCK')" href="../_constants/CONTEXT_BLOCK.html" onMouseOver="constPopup(event,'CONTEXT_BLOCK')">CONTEXT_BLOCK</a>:
<a name="l2938"><span class="linenum">2938</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>:
<a name="l2939"><span class="linenum">2939</span></a>              break;
<a name="l2940"><span class="linenum">2940</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>:
<a name="l2941"><span class="linenum">2941</span></a>              <a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a> = 'courseid';
<a name="l2942"><span class="linenum">2942</span></a>              <a class="var it25254" onMouseOver="hilite(25254)" onMouseOut="lolite()" onClick="logVariable('strlevel')" href="../_variables/strlevel.html">$strlevel</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course');
<a name="l2943"><span class="linenum">2943</span></a>              break;
<a name="l2944"><span class="linenum">2944</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>:
<a name="l2945"><span class="linenum">2945</span></a>              <a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a> = 'modid';
<a name="l2946"><span class="linenum">2946</span></a>              <a class="var it25254" onMouseOver="hilite(25254)" onMouseOut="lolite()" onClick="logVariable('strlevel')" href="../_variables/strlevel.html">$strlevel</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_context_name')" href="../_functions/get_context_name.html" onMouseOver="funcPopup(event,'get_context_name')">get_context_name</a>();
<a name="l2947"><span class="linenum">2947</span></a>              break;
<a name="l2948"><span class="linenum">2948</span></a>          case <a class="constant" onClick="logConstant('CONTEXT_USER')" href="../_constants/CONTEXT_USER.html" onMouseOver="constPopup(event,'CONTEXT_USER')">CONTEXT_USER</a>:
<a name="l2949"><span class="linenum">2949</span></a>              <a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a> = 'userid';
<a name="l2950"><span class="linenum">2950</span></a>              <a class="var it25254" onMouseOver="hilite(25254)" onMouseOut="lolite()" onClick="logVariable('strlevel')" href="../_variables/strlevel.html">$strlevel</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('user');
<a name="l2951"><span class="linenum">2951</span></a>              break;
<a name="l2952"><span class="linenum">2952</span></a>      }
<a name="l2953"><span class="linenum">2953</span></a>  
<a name="l2954"><span class="linenum">2954</span></a>      if (!empty(<a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a>)) {
<a name="l2955"><span class="linenum">2955</span></a>          <a class="var it25252" onMouseOver="hilite(25252)" onMouseOut="lolite()" onClick="logVariable('viewblogentriesurl')" href="../_variables/viewblogentriesurl.html">$viewblogentriesurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>(<a class="var it25253" onMouseOver="hilite(25253)" onMouseOut="lolite()" onClick="logVariable('filterparam')" href="../_variables/filterparam.html">$filterparam</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>);
<a name="l2956"><span class="linenum">2956</span></a>      }
<a name="l2957"><span class="linenum">2957</span></a>  
<a name="l2958"><span class="linenum">2958</span></a>      return <a class="var it25252" onMouseOver="hilite(25252)" onMouseOut="lolite()" onClick="logVariable('viewblogentriesurl')" href="../_variables/viewblogentriesurl.html">$viewblogentriesurl</a>;
<a name="l2959"><span class="linenum">2959</span></a>  }
<a name="l2960"><span class="linenum">2960</span></a>  
<a name="l2961"><span class="linenum">2961</span></a>  <span class="comment">/**</span>
<a name="l2962"><span class="linenum">2962</span></a>  <span class="comment"> * Retrieve course records with the course managers and other related records</span>
<a name="l2963"><span class="linenum">2963</span></a>  <span class="comment"> * that we need for print_course(). This allows print_courses() to do its job</span>
<a name="l2964"><span class="linenum">2964</span></a>  <span class="comment"> * in a constant number of DB queries, regardless of the number of courses,</span>
<a name="l2965"><span class="linenum">2965</span></a>  <span class="comment"> * role assignments, etc.</span>
<a name="l2966"><span class="linenum">2966</span></a>  <span class="comment"> *</span>
<a name="l2967"><span class="linenum">2967</span></a>  <span class="comment"> * The returned array is indexed on c.id, and each course will have</span>
<a name="l2968"><span class="linenum">2968</span></a>  <span class="comment"> * - $course-&gt;managers - array containing RA objects that include a $user obj</span>
<a name="l2969"><span class="linenum">2969</span></a>  <span class="comment"> *                       with the minimal fields needed for fullname()</span>
<a name="l2970"><span class="linenum">2970</span></a>  <span class="comment"> *</span>
<a name="l2971"><span class="linenum">2971</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l2972"><span class="linenum">2972</span></a>  <span class="comment"> *</span>
<a name="l2973"><span class="linenum">2973</span></a>  <span class="comment"> * To get list of all courses with course contacts ('managers') use</span>
<a name="l2974"><span class="linenum">2974</span></a>  <span class="comment"> * coursecat::get(0)-&gt;get_courses(array('recursive' =&gt; true, 'coursecontacts' =&gt; true));</span>
<a name="l2975"><span class="linenum">2975</span></a>  <span class="comment"> *</span>
<a name="l2976"><span class="linenum">2976</span></a>  <span class="comment"> * To get list of courses inside particular category use</span>
<a name="l2977"><span class="linenum">2977</span></a>  <span class="comment"> * coursecat::get($id)-&gt;get_courses(array('coursecontacts' =&gt; true));</span>
<a name="l2978"><span class="linenum">2978</span></a>  <span class="comment"> *</span>
<a name="l2979"><span class="linenum">2979</span></a>  <span class="comment"> * Additionally you can specify sort order, offset and maximum number of courses,</span>
<a name="l2980"><span class="linenum">2980</span></a>  <span class="comment"> * see {@link coursecat::get_courses()}</span>
<a name="l2981"><span class="linenum">2981</span></a>  <span class="comment"> *</span>
<a name="l2982"><span class="linenum">2982</span></a>  <span class="comment"> * Please note that code of this function is not changed to use coursecat class because</span>
<a name="l2983"><span class="linenum">2983</span></a>  <span class="comment"> * coursecat::get_courses() returns result in slightly different format. Also note that</span>
<a name="l2984"><span class="linenum">2984</span></a>  <span class="comment"> * get_courses_wmanagers() DOES NOT check that users are enrolled in the course and</span>
<a name="l2985"><span class="linenum">2985</span></a>  <span class="comment"> * coursecat::get_courses() does.</span>
<a name="l2986"><span class="linenum">2986</span></a>  <span class="comment"> *</span>
<a name="l2987"><span class="linenum">2987</span></a>  <span class="comment"> * @global object</span>
<a name="l2988"><span class="linenum">2988</span></a>  <span class="comment"> * @global object</span>
<a name="l2989"><span class="linenum">2989</span></a>  <span class="comment"> * @global object</span>
<a name="l2990"><span class="linenum">2990</span></a>  <span class="comment"> * @uses CONTEXT_COURSE</span>
<a name="l2991"><span class="linenum">2991</span></a>  <span class="comment"> * @uses CONTEXT_SYSTEM</span>
<a name="l2992"><span class="linenum">2992</span></a>  <span class="comment"> * @uses CONTEXT_COURSECAT</span>
<a name="l2993"><span class="linenum">2993</span></a>  <span class="comment"> * @uses SITEID</span>
<a name="l2994"><span class="linenum">2994</span></a>  <span class="comment"> * @param int|string $categoryid Either the categoryid for the courses or 'all'</span>
<a name="l2995"><span class="linenum">2995</span></a>  <span class="comment"> * @param string $sort A SQL sort field and direction</span>
<a name="l2996"><span class="linenum">2996</span></a>  <span class="comment"> * @param array $fields An array of additional fields to fetch</span>
<a name="l2997"><span class="linenum">2997</span></a>  <span class="comment"> * @return array</span>
<a name="l2998"><span class="linenum">2998</span></a>  <span class="comment"> */</span>
<a name="l2999"><span class="linenum">2999</span></a>  function <a class="function" onClick="logFunction('get_courses_wmanagers')" href="../_functions/get_courses_wmanagers.html" onMouseOver="funcPopup(event,'get_courses_wmanagers')">get_courses_wmanagers</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>=0, <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>=&quot;c.sortorder ASC&quot;, <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>=array()) {
<a name="l3000"><span class="linenum">3000</span></a>      <span class="comment">/*</span>
<a name="l3001"><span class="linenum">3001</span></a>  <span class="comment">     * The plan is to</span>
<a name="l3002"><span class="linenum">3002</span></a>  <span class="comment">     *</span>
<a name="l3003"><span class="linenum">3003</span></a>  <span class="comment">     * - Grab the courses JOINed w/context</span>
<a name="l3004"><span class="linenum">3004</span></a>  <span class="comment">     *</span>
<a name="l3005"><span class="linenum">3005</span></a>  <span class="comment">     * - Grab the interesting course-manager RAs</span>
<a name="l3006"><span class="linenum">3006</span></a>  <span class="comment">     *   JOINed with a base user obj and add them to each course</span>
<a name="l3007"><span class="linenum">3007</span></a>  <span class="comment">     *</span>
<a name="l3008"><span class="linenum">3008</span></a>  <span class="comment">     * So as to do all the work in 2 DB queries. The RA+user JOIN</span>
<a name="l3009"><span class="linenum">3009</span></a>  <span class="comment">     * ends up being pretty expensive if it happens over _all_</span>
<a name="l3010"><span class="linenum">3010</span></a>  <span class="comment">     * courses on a large site. (Are we surprised!?)</span>
<a name="l3011"><span class="linenum">3011</span></a>  <span class="comment">     *</span>
<a name="l3012"><span class="linenum">3012</span></a>  <span class="comment">     * So this should _never_ get called with 'all' on a large site.</span>
<a name="l3013"><span class="linenum">3013</span></a>  <span class="comment">     *</span>
<a name="l3014"><span class="linenum">3014</span></a>  <span class="comment">     */</span>
<a name="l3015"><span class="linenum">3015</span></a>      global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3016"><span class="linenum">3016</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('get_courses_wmanagers')" href="../_functions/get_courses_wmanagers.html" onMouseOver="funcPopup(event,'get_courses_wmanagers')">get_courses_wmanagers</a>() is deprecated, please use <a class="class" onClick="logClass('coursecat')" href="../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('get_courses')" href="../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3017"><span class="linenum">3017</span></a>  
<a name="l3018"><span class="linenum">3018</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l3019"><span class="linenum">3019</span></a>      <a class="var it7834" onMouseOver="hilite(7834)" onMouseOut="lolite()" onClick="logVariable('allcats')" href="../_variables/allcats.html">$allcats</a> = false; <span class="comment">// bool flag</span>
<a name="l3020"><span class="linenum">3020</span></a>      if (<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a> === 'all') {
<a name="l3021"><span class="linenum">3021</span></a>          <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a>   = '';
<a name="l3022"><span class="linenum">3022</span></a>          <a class="var it7834" onMouseOver="hilite(7834)" onMouseOut="lolite()" onClick="logVariable('allcats')" href="../_variables/allcats.html">$allcats</a> = true;
<a name="l3023"><span class="linenum">3023</span></a>      } elseif (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>)) {
<a name="l3024"><span class="linenum">3024</span></a>          <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a> = &quot;c.category = :catid&quot;;
<a name="l3025"><span class="linenum">3025</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['catid'] = <a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>;
<a name="l3026"><span class="linenum">3026</span></a>      } else {
<a name="l3027"><span class="linenum">3027</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;Could not recognise categoryid = <a class="var it1252" onMouseOver="hilite(1252)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../_variables/categoryid.html">$categoryid</a>&quot;);
<a name="l3028"><span class="linenum">3028</span></a>          <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a> = '';
<a name="l3029"><span class="linenum">3029</span></a>      }
<a name="l3030"><span class="linenum">3030</span></a>  
<a name="l3031"><span class="linenum">3031</span></a>      <a class="var it19381" onMouseOver="hilite(19381)" onMouseOut="lolite()" onClick="logVariable('basefields')" href="../_variables/basefields.html">$basefields</a> = array('id', 'category', 'sortorder',
<a name="l3032"><span class="linenum">3032</span></a>                          'shortname', 'fullname', 'idnumber',
<a name="l3033"><span class="linenum">3033</span></a>                          'startdate', 'visible',
<a name="l3034"><span class="linenum">3034</span></a>                          'newsitems', 'groupmode', 'groupmodeforce');
<a name="l3035"><span class="linenum">3035</span></a>  
<a name="l3036"><span class="linenum">3036</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>)) {
<a name="l3037"><span class="linenum">3037</span></a>          if (empty(<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>)) {
<a name="l3038"><span class="linenum">3038</span></a>              <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="var it19381" onMouseOver="hilite(19381)" onMouseOut="lolite()" onClick="logVariable('basefields')" href="../_variables/basefields.html">$basefields</a>;
<a name="l3039"><span class="linenum">3039</span></a>          } else {
<a name="l3040"><span class="linenum">3040</span></a>  <span class="comment">            // turn the fields from a string to an array that</span>
<a name="l3041"><span class="linenum">3041</span></a>  <span class="comment">            // get_user_courses_bycap() will like...</span>
<a name="l3042"><span class="linenum">3042</span></a>              <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',',<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>);
<a name="l3043"><span class="linenum">3043</span></a>              <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('array_map')" href="../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('trim', <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>);
<a name="l3044"><span class="linenum">3044</span></a>              <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it19381" onMouseOver="hilite(19381)" onMouseOut="lolite()" onClick="logVariable('basefields')" href="../_variables/basefields.html">$basefields</a>, <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>));
<a name="l3045"><span class="linenum">3045</span></a>          }
<a name="l3046"><span class="linenum">3046</span></a>      } elseif (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>)) {
<a name="l3047"><span class="linenum">3047</span></a>          <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it19381" onMouseOver="hilite(19381)" onMouseOut="lolite()" onClick="logVariable('basefields')" href="../_variables/basefields.html">$basefields</a>,<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>);
<a name="l3048"><span class="linenum">3048</span></a>      }
<a name="l3049"><span class="linenum">3049</span></a>      <a class="var it17190" onMouseOver="hilite(17190)" onMouseOut="lolite()" onClick="logVariable('coursefields')" href="../_variables/coursefields.html">$coursefields</a> = 'c.' .<a class="function" onClick="logFunction('join')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>(',c.', <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>);
<a name="l3050"><span class="linenum">3050</span></a>  
<a name="l3051"><span class="linenum">3051</span></a>      if (empty(<a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>)) {
<a name="l3052"><span class="linenum">3052</span></a>          <a class="var it7822" onMouseOver="hilite(7822)" onMouseOut="lolite()" onClick="logVariable('sortstatement')" href="../_variables/sortstatement.html">$sortstatement</a> = &quot;&quot;;
<a name="l3053"><span class="linenum">3053</span></a>      } else {
<a name="l3054"><span class="linenum">3054</span></a>          <a class="var it7822" onMouseOver="hilite(7822)" onMouseOut="lolite()" onClick="logVariable('sortstatement')" href="../_variables/sortstatement.html">$sortstatement</a> = &quot;ORDER BY <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>&quot;;
<a name="l3055"><span class="linenum">3055</span></a>      }
<a name="l3056"><span class="linenum">3056</span></a>  
<a name="l3057"><span class="linenum">3057</span></a>      <a class="var it1076" onMouseOver="hilite(1076)" onMouseOut="lolite()" onClick="logVariable('where')" href="../_variables/where.html">$where</a> = 'WHERE c.id != ' . <a class="constant" onClick="logConstant('SITEID')" href="../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l3058"><span class="linenum">3058</span></a>      if (<a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a> !== ''){
<a name="l3059"><span class="linenum">3059</span></a>          <a class="var it1076" onMouseOver="hilite(1076)" onMouseOut="lolite()" onClick="logVariable('where')" href="../_variables/where.html">$where</a> = &quot;<a class="var it1076" onMouseOver="hilite(1076)" onMouseOut="lolite()" onClick="logVariable('where')" href="../_variables/where.html">$where</a> AND <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a>&quot;;
<a name="l3060"><span class="linenum">3060</span></a>      }
<a name="l3061"><span class="linenum">3061</span></a>  
<a name="l3062"><span class="linenum">3062</span></a>  <span class="comment">    // pull out all courses matching the cat</span>
<a name="l3063"><span class="linenum">3063</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>, <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>) = <a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>('c.id', <a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>, 'ctx');
<a name="l3064"><span class="linenum">3064</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT <a class="var it17190" onMouseOver="hilite(17190)" onMouseOut="lolite()" onClick="logVariable('coursefields')" href="../_variables/coursefields.html">$coursefields</a> <a class="var it7824" onMouseOver="hilite(7824)" onMouseOut="lolite()" onClick="logVariable('ccselect')" href="../_variables/ccselect.html">$ccselect</a>
<a name="l3065"><span class="linenum">3065</span></a>                FROM {course} c
<a name="l3066"><span class="linenum">3066</span></a>             <a class="var it7825" onMouseOver="hilite(7825)" onMouseOut="lolite()" onClick="logVariable('ccjoin')" href="../_variables/ccjoin.html">$ccjoin</a>
<a name="l3067"><span class="linenum">3067</span></a>                 <a class="var it1076" onMouseOver="hilite(1076)" onMouseOut="lolite()" onClick="logVariable('where')" href="../_variables/where.html">$where</a>
<a name="l3068"><span class="linenum">3068</span></a>                 <a class="var it7822" onMouseOver="hilite(7822)" onMouseOut="lolite()" onClick="logVariable('sortstatement')" href="../_variables/sortstatement.html">$sortstatement</a>&quot;;
<a name="l3069"><span class="linenum">3069</span></a>  
<a name="l3070"><span class="linenum">3070</span></a>      <a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a> = array();
<a name="l3071"><span class="linenum">3071</span></a>      <a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a>  = NULL;
<a name="l3072"><span class="linenum">3072</span></a>      if (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>)) {
<a name="l3073"><span class="linenum">3073</span></a>  <span class="comment">        // loop on courses materialising</span>
<a name="l3074"><span class="linenum">3074</span></a>  <span class="comment">        // the context, and prepping data to fetch the</span>
<a name="l3075"><span class="linenum">3075</span></a>  <span class="comment">        // managers efficiently later...</span>
<a name="l3076"><span class="linenum">3076</span></a>          foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l3077"><span class="linenum">3077</span></a>              <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>);
<a name="l3078"><span class="linenum">3078</span></a>              <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3079"><span class="linenum">3079</span></a>              <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>] = <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>;
<a name="l3080"><span class="linenum">3080</span></a>              <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>]-&gt;managers = array();
<a name="l3081"><span class="linenum">3081</span></a>              if (<a class="var it7834" onMouseOver="hilite(7834)" onMouseOut="lolite()" onClick="logVariable('allcats')" href="../_variables/allcats.html">$allcats</a> === false) {
<a name="l3082"><span class="linenum">3082</span></a>  <span class="comment">                // single cat, so take just the first one...</span>
<a name="l3083"><span class="linenum">3083</span></a>                  if (<a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a> === NULL) {
<a name="l3084"><span class="linenum">3084</span></a>                      <a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(':/\d+$:', '', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('path')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/path.html">path</a>);
<a name="l3085"><span class="linenum">3085</span></a>                  }
<a name="l3086"><span class="linenum">3086</span></a>              } else {
<a name="l3087"><span class="linenum">3087</span></a>  <span class="comment">                // chop off the contextid of the course itself</span>
<a name="l3088"><span class="linenum">3088</span></a>  <span class="comment">                // like dirname() does...</span>
<a name="l3089"><span class="linenum">3089</span></a>                  <a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a>[] = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(':/\d+$:', '', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('path')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/path.html">path</a>);
<a name="l3090"><span class="linenum">3090</span></a>              }
<a name="l3091"><span class="linenum">3091</span></a>          }
<a name="l3092"><span class="linenum">3092</span></a>      } else {
<a name="l3093"><span class="linenum">3093</span></a>          return array(); <span class="comment">// no courses!</span>
<a name="l3094"><span class="linenum">3094</span></a>      }
<a name="l3095"><span class="linenum">3095</span></a>  
<a name="l3096"><span class="linenum">3096</span></a>      <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('coursecontact')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/coursecontact.html">coursecontact</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('coursecontact')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/coursecontact.html">coursecontact</a>);
<a name="l3097"><span class="linenum">3097</span></a>      if (empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('coursecontact')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/coursecontact.html">coursecontact</a>)) {
<a name="l3098"><span class="linenum">3098</span></a>          return <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>;
<a name="l3099"><span class="linenum">3099</span></a>      }
<a name="l3100"><span class="linenum">3100</span></a>  
<a name="l3101"><span class="linenum">3101</span></a>      <a class="var it25257" onMouseOver="hilite(25257)" onMouseOut="lolite()" onClick="logVariable('managerroles')" href="../_variables/managerroles.html">$managerroles</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('coursecontact')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/coursecontact.html">coursecontact</a>);
<a name="l3102"><span class="linenum">3102</span></a>      <a class="var it25258" onMouseOver="hilite(25258)" onMouseOut="lolite()" onClick="logVariable('catctxids')" href="../_variables/catctxids.html">$catctxids</a> = '';
<a name="l3103"><span class="linenum">3103</span></a>      if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it25257" onMouseOver="hilite(25257)" onMouseOut="lolite()" onClick="logVariable('managerroles')" href="../_variables/managerroles.html">$managerroles</a>)) {
<a name="l3104"><span class="linenum">3104</span></a>          if (<a class="var it7834" onMouseOver="hilite(7834)" onMouseOut="lolite()" onClick="logVariable('allcats')" href="../_variables/allcats.html">$allcats</a> === true) {
<a name="l3105"><span class="linenum">3105</span></a>              <a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a>  = <a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a>);
<a name="l3106"><span class="linenum">3106</span></a>              <a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a> = array();
<a name="l3107"><span class="linenum">3107</span></a>              foreach (<a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a> as <a class="var it21105" onMouseOver="hilite(21105)" onMouseOut="lolite()" onClick="logVariable('cpath')" href="../_variables/cpath.html">$cpath</a>) {
<a name="l3108"><span class="linenum">3108</span></a>                  <a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a>, <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('/',<a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it21105" onMouseOver="hilite(21105)" onMouseOut="lolite()" onClick="logVariable('cpath')" href="../_variables/cpath.html">$cpath</a>,1)));
<a name="l3109"><span class="linenum">3109</span></a>              }
<a name="l3110"><span class="linenum">3110</span></a>              <a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a> = <a class="phpfunction" onClick="logFunction('array_unique')" href="../_functions/array_unique.html" onMouseOver="phpfuncPopup(event,'array_unique')">array_unique</a>(<a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a>);
<a name="l3111"><span class="linenum">3111</span></a>              <a class="var it25258" onMouseOver="hilite(25258)" onMouseOut="lolite()" onClick="logVariable('catctxids')" href="../_variables/catctxids.html">$catctxids</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ',' , <a class="var it25259" onMouseOver="hilite(25259)" onMouseOut="lolite()" onClick="logVariable('ctxids')" href="../_variables/ctxids.html">$ctxids</a>);
<a name="l3112"><span class="linenum">3112</span></a>              unset(<a class="var it25256" onMouseOver="hilite(25256)" onMouseOut="lolite()" onClick="logVariable('catpaths')" href="../_variables/catpaths.html">$catpaths</a>);
<a name="l3113"><span class="linenum">3113</span></a>              unset(<a class="var it21105" onMouseOver="hilite(21105)" onMouseOut="lolite()" onClick="logVariable('cpath')" href="../_variables/cpath.html">$cpath</a>);
<a name="l3114"><span class="linenum">3114</span></a>          } else {
<a name="l3115"><span class="linenum">3115</span></a>  <span class="comment">            // take the ctx path from the first course</span>
<a name="l3116"><span class="linenum">3116</span></a>  <span class="comment">            // as all categories will be the same...</span>
<a name="l3117"><span class="linenum">3117</span></a>              <a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a>,1);
<a name="l3118"><span class="linenum">3118</span></a>              <a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(':/\d+$:','',<a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a>);
<a name="l3119"><span class="linenum">3119</span></a>              <a class="var it25258" onMouseOver="hilite(25258)" onMouseOut="lolite()" onClick="logVariable('catctxids')" href="../_variables/catctxids.html">$catctxids</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('/',',',<a class="var it5600" onMouseOver="hilite(5600)" onMouseOut="lolite()" onClick="logVariable('catpath')" href="../_variables/catpath.html">$catpath</a>);
<a name="l3120"><span class="linenum">3120</span></a>          }
<a name="l3121"><span class="linenum">3121</span></a>          if (<a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a> !== '') {
<a name="l3122"><span class="linenum">3122</span></a>              <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a> = &quot;AND <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a>&quot;;
<a name="l3123"><span class="linenum">3123</span></a>          }
<a name="l3124"><span class="linenum">3124</span></a>          <span class="comment">/*</span>
<a name="l3125"><span class="linenum">3125</span></a>  <span class="comment">         * Note: Here we use a LEFT OUTER JOIN that can</span>
<a name="l3126"><span class="linenum">3126</span></a>  <span class="comment">         * &quot;optionally&quot; match to avoid passing a ton of context</span>
<a name="l3127"><span class="linenum">3127</span></a>  <span class="comment">         * ids in an IN() clause. Perhaps a subselect is faster.</span>
<a name="l3128"><span class="linenum">3128</span></a>  <span class="comment">         *</span>
<a name="l3129"><span class="linenum">3129</span></a>  <span class="comment">         * In any case, this SQL is not-so-nice over large sets of</span>
<a name="l3130"><span class="linenum">3130</span></a>  <span class="comment">         * courses with no $categoryclause.</span>
<a name="l3131"><span class="linenum">3131</span></a>  <span class="comment">         *</span>
<a name="l3132"><span class="linenum">3132</span></a>  <span class="comment">         */</span>
<a name="l3133"><span class="linenum">3133</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT ctx.path, ctx.instanceid, ctx.contextlevel,
<a name="l3134"><span class="linenum">3134</span></a>                         r.id AS roleid, r.name AS rolename, r.shortname AS roleshortname,
<a name="l3135"><span class="linenum">3135</span></a>                         rn.name AS rolecoursealias, u.id AS userid, u.firstname, u.lastname
<a name="l3136"><span class="linenum">3136</span></a>                    FROM {role_assignments} ra
<a name="l3137"><span class="linenum">3137</span></a>                    JOIN {context} ctx ON ra.contextid = ctx.id
<a name="l3138"><span class="linenum">3138</span></a>                    JOIN {user} u ON ra.userid = u.id
<a name="l3139"><span class="linenum">3139</span></a>                    JOIN {role} r ON ra.roleid = r.id
<a name="l3140"><span class="linenum">3140</span></a>               LEFT JOIN {role_names} rn <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (rn.contextid = ctx.id AND rn.roleid = r.id)
<a name="l3141"><span class="linenum">3141</span></a>                    LEFT OUTER JOIN {course} c
<a name="l3142"><span class="linenum">3142</span></a>                         <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (ctx.instanceid=c.id AND ctx.contextlevel=&quot;.<a class="constant" onClick="logConstant('CONTEXT_COURSE')" href="../_constants/CONTEXT_COURSE.html" onMouseOver="constPopup(event,'CONTEXT_COURSE')">CONTEXT_COURSE</a>.&quot;)
<a name="l3143"><span class="linenum">3143</span></a>                  <a class="function" onClick="logFunction('WHERE')" href="../_functions/where.html" onMouseOver="funcPopup(event,'where')">WHERE</a> ( c.id IS NOT NULL&quot;;
<a name="l3144"><span class="linenum">3144</span></a>  <span class="comment">        // under certain conditions, $catctxids is NULL</span>
<a name="l3145"><span class="linenum">3145</span></a>          if(<a class="var it25258" onMouseOver="hilite(25258)" onMouseOut="lolite()" onClick="logVariable('catctxids')" href="../_variables/catctxids.html">$catctxids</a> == NULL){
<a name="l3146"><span class="linenum">3146</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;) &quot;;
<a name="l3147"><span class="linenum">3147</span></a>          }else{
<a name="l3148"><span class="linenum">3148</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot; OR ra.contextid  IN (<a class="var it25258" onMouseOver="hilite(25258)" onMouseOut="lolite()" onClick="logVariable('catctxids')" href="../_variables/catctxids.html">$catctxids</a>) )&quot;;
<a name="l3149"><span class="linenum">3149</span></a>          }
<a name="l3150"><span class="linenum">3150</span></a>  
<a name="l3151"><span class="linenum">3151</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> .= &quot;AND ra.roleid IN ({<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('coursecontact')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/coursecontact.html">coursecontact</a>})
<a name="l3152"><span class="linenum">3152</span></a>                        <a class="var it25255" onMouseOver="hilite(25255)" onMouseOut="lolite()" onClick="logVariable('categoryclause')" href="../_variables/categoryclause.html">$categoryclause</a>
<a name="l3153"><span class="linenum">3153</span></a>                  ORDER BY r.sortorder ASC, ctx.contextlevel ASC, ra.sortorder ASC&quot;;
<a name="l3154"><span class="linenum">3154</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l3155"><span class="linenum">3155</span></a>  
<a name="l3156"><span class="linenum">3156</span></a>  <span class="comment">        // This loop is fairly stupid as it stands - might get better</span>
<a name="l3157"><span class="linenum">3157</span></a>  <span class="comment">        // results doing an initial pass clustering RAs by path.</span>
<a name="l3158"><span class="linenum">3158</span></a>          foreach(<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>) {
<a name="l3159"><span class="linenum">3159</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = new stdClass;
<a name="l3160"><span class="linenum">3160</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/id.html">id</a>        = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('userid')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>;    unset(<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('userid')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>);
<a name="l3161"><span class="linenum">3161</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('firstname')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/firstname.html">firstname</a> = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('firstname')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/firstname.html">firstname</a>; unset(<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('firstname')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/firstname.html">firstname</a>);
<a name="l3162"><span class="linenum">3162</span></a>              <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('lastname')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/lastname.html">lastname</a>  = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('lastname')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/lastname.html">lastname</a>;  unset(<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('lastname')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/lastname.html">lastname</a>);
<a name="l3163"><span class="linenum">3163</span></a>              <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('user')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/user.html">user</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>;
<a name="l3164"><span class="linenum">3164</span></a>              if (<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l3165"><span class="linenum">3165</span></a>                  foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l3166"><span class="linenum">3166</span></a>                      <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>]-&gt;managers[] = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>;
<a name="l3167"><span class="linenum">3167</span></a>                  }
<a name="l3168"><span class="linenum">3168</span></a>              } else if (<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> == <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>) {
<a name="l3169"><span class="linenum">3169</span></a>                  if (<a class="var it7834" onMouseOver="hilite(7834)" onMouseOut="lolite()" onClick="logVariable('allcats')" href="../_variables/allcats.html">$allcats</a> === false) {
<a name="l3170"><span class="linenum">3170</span></a>  <span class="comment">                    // It always applies</span>
<a name="l3171"><span class="linenum">3171</span></a>                      foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l3172"><span class="linenum">3172</span></a>                          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>]-&gt;managers[] = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>;
<a name="l3173"><span class="linenum">3173</span></a>                      }
<a name="l3174"><span class="linenum">3174</span></a>                  } else {
<a name="l3175"><span class="linenum">3175</span></a>                      foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l3176"><span class="linenum">3176</span></a>                          <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3177"><span class="linenum">3177</span></a>  <span class="comment">                        // Note that strpos() returns 0 as &quot;matched at pos 0&quot;</span>
<a name="l3178"><span class="linenum">3178</span></a>                          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('path')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/path.html">path</a>, <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('path')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/path.html">path</a>.'/') === 0) {
<a name="l3179"><span class="linenum">3179</span></a>  <span class="comment">                            // Only add it to subpaths</span>
<a name="l3180"><span class="linenum">3180</span></a>                              <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../_variables/k.html">$k</a>]-&gt;managers[] = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>;
<a name="l3181"><span class="linenum">3181</span></a>                          }
<a name="l3182"><span class="linenum">3182</span></a>                      }
<a name="l3183"><span class="linenum">3183</span></a>                  }
<a name="l3184"><span class="linenum">3184</span></a>              } else { // course-level
<a name="l3185"><span class="linenum">3185</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>, <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>)) {
<a name="l3186"><span class="linenum">3186</span></a>  <span class="comment">                    //this course is not in a list, probably a frontpage course</span>
<a name="l3187"><span class="linenum">3187</span></a>                      continue;
<a name="l3188"><span class="linenum">3188</span></a>                  }
<a name="l3189"><span class="linenum">3189</span></a>                  <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39595" onMouseOver="hilite(39595)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>]-&gt;managers[] = <a class="var it5778" onMouseOver="hilite(5778)" onMouseOut="lolite()" onClick="logVariable('ra')" href="../_variables/ra.html">$ra</a>;
<a name="l3190"><span class="linenum">3190</span></a>              }
<a name="l3191"><span class="linenum">3191</span></a>          }
<a name="l3192"><span class="linenum">3192</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l3193"><span class="linenum">3193</span></a>      }
<a name="l3194"><span class="linenum">3194</span></a>  
<a name="l3195"><span class="linenum">3195</span></a>      return <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>;
<a name="l3196"><span class="linenum">3196</span></a>  }
<a name="l3197"><span class="linenum">3197</span></a>  
<a name="l3198"><span class="linenum">3198</span></a>  <span class="comment">/**</span>
<a name="l3199"><span class="linenum">3199</span></a>  <span class="comment"> * Converts a nested array tree into HTML ul:li [recursive]</span>
<a name="l3200"><span class="linenum">3200</span></a>  <span class="comment"> *</span>
<a name="l3201"><span class="linenum">3201</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l3202"><span class="linenum">3202</span></a>  <span class="comment"> *</span>
<a name="l3203"><span class="linenum">3203</span></a>  <span class="comment"> * @param array $tree A tree array to convert</span>
<a name="l3204"><span class="linenum">3204</span></a>  <span class="comment"> * @param int $row Used in identifying the iteration level and in ul classes</span>
<a name="l3205"><span class="linenum">3205</span></a>  <span class="comment"> * @return string HTML structure</span>
<a name="l3206"><span class="linenum">3206</span></a>  <span class="comment"> */</span>
<a name="l3207"><span class="linenum">3207</span></a>  function <a class="function" onClick="logFunction('convert_tree_to_html')" href="../_functions/convert_tree_to_html.html" onMouseOver="funcPopup(event,'convert_tree_to_html')">convert_tree_to_html</a>(<a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>=0) {
<a name="l3208"><span class="linenum">3208</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('convert_tree_to_html')" href="../_functions/convert_tree_to_html.html" onMouseOver="funcPopup(event,'convert_tree_to_html')">convert_tree_to_html</a>() is deprecated since Moodle 2.5. Consider using <span class="keyword">class </span><a class="class" onClick="logClass('tabtree')" href="../_classes/tabtree.html" onMouseOver="classPopup(event,'tabtree')">tabtree</a> and <a class="class" onClick="logClass('core_renderer')" href="../_classes/core_renderer.html" onMouseOver="classPopup(event,'core_renderer')">core_renderer</a>::<a class="function" onClick="logFunction('render_tabtree')" href="../_functions/render_tabtree.html" onMouseOver="funcPopup(event,'render_tabtree')">render_tabtree</a>()', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3209"><span class="linenum">3209</span></a>  
<a name="l3210"><span class="linenum">3210</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = &quot;\n&quot;.'&lt;ul class=&quot;tabrow'.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>.'&quot;&gt;'.&quot;\n&quot;;
<a name="l3211"><span class="linenum">3211</span></a>  
<a name="l3212"><span class="linenum">3212</span></a>      <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = true;
<a name="l3213"><span class="linenum">3213</span></a>      <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>);
<a name="l3214"><span class="linenum">3214</span></a>  
<a name="l3215"><span class="linenum">3215</span></a>      foreach (<a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a> as <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>) {
<a name="l3216"><span class="linenum">3216</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>--;   <span class="comment">// countdown to zero</span>
<a name="l3217"><span class="linenum">3217</span></a>  
<a name="l3218"><span class="linenum">3218</span></a>          <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> = '';
<a name="l3219"><span class="linenum">3219</span></a>  
<a name="l3220"><span class="linenum">3220</span></a>          if (<a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> &amp;&amp; (<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> == 0)) {   // Just one in the row
<a name="l3221"><span class="linenum">3221</span></a>              <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> = 'first last';
<a name="l3222"><span class="linenum">3222</span></a>              <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = false;
<a name="l3223"><span class="linenum">3223</span></a>          } else if (<a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a>) {
<a name="l3224"><span class="linenum">3224</span></a>              <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> = 'first';
<a name="l3225"><span class="linenum">3225</span></a>              <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('first')" href="../_variables/first.html">$first</a> = false;
<a name="l3226"><span class="linenum">3226</span></a>          } else if (<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> == 0) {
<a name="l3227"><span class="linenum">3227</span></a>              <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> = 'last';
<a name="l3228"><span class="linenum">3228</span></a>          }
<a name="l3229"><span class="linenum">3229</span></a>  
<a name="l3230"><span class="linenum">3230</span></a>          if ((empty(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('subtree')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>)) &amp;&amp; (!empty(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>))) {
<a name="l3231"><span class="linenum">3231</span></a>              <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= (empty(<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>)) ? 'onerow' : ' onerow';
<a name="l3232"><span class="linenum">3232</span></a>          }
<a name="l3233"><span class="linenum">3233</span></a>  
<a name="l3234"><span class="linenum">3234</span></a>          if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('inactive')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/inactive.html">inactive</a> || <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('active')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/active.html">active</a> || <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3235"><span class="linenum">3235</span></a>              if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3236"><span class="linenum">3236</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= (empty(<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>)) ? 'here selected' : ' here selected';
<a name="l3237"><span class="linenum">3237</span></a>              } else if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('active')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/active.html">active</a>) {
<a name="l3238"><span class="linenum">3238</span></a>                  <a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a> .= (empty(<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>)) ? 'here active' : ' here active';
<a name="l3239"><span class="linenum">3239</span></a>              }
<a name="l3240"><span class="linenum">3240</span></a>          }
<a name="l3241"><span class="linenum">3241</span></a>  
<a name="l3242"><span class="linenum">3242</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= (!empty(<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>)) ? '&lt;li class=&quot;'.<a class="var it25260" onMouseOver="hilite(25260)" onMouseOut="lolite()" onClick="logVariable('liclass')" href="../_variables/liclass.html">$liclass</a>.'&quot;&gt;' : '&lt;li&gt;';
<a name="l3243"><span class="linenum">3243</span></a>  
<a name="l3244"><span class="linenum">3244</span></a>          if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('inactive')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/inactive.html">inactive</a> || <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('active')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/active.html">active</a> || (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a> &amp;&amp; !<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('linkedwhenselected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/linkedwhenselected.html">linkedwhenselected</a>)) {
<a name="l3245"><span class="linenum">3245</span></a>  <span class="comment">            // The a tag is used for styling</span>
<a name="l3246"><span class="linenum">3246</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;a class=&quot;nolink&quot;&gt;&lt;span&gt;'.<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('text')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/text.html">text</a>.'&lt;/span&gt;&lt;/a&gt;';
<a name="l3247"><span class="linenum">3247</span></a>          } else {
<a name="l3248"><span class="linenum">3248</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;a href=&quot;'.<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('link')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/link.html">link</a>.'&quot; title=&quot;'.<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('title')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/title.html">title</a>.'&quot;&gt;&lt;span&gt;'.<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('text')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/text.html">text</a>.'&lt;/span&gt;&lt;/a&gt;';
<a name="l3249"><span class="linenum">3249</span></a>          }
<a name="l3250"><span class="linenum">3250</span></a>  
<a name="l3251"><span class="linenum">3251</span></a>          if (!empty(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('subtree')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>)) {
<a name="l3252"><span class="linenum">3252</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= <a class="function" onClick="logFunction('convert_tree_to_html')" href="../_functions/convert_tree_to_html.html" onMouseOver="funcPopup(event,'convert_tree_to_html')">convert_tree_to_html</a>(<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('subtree')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>+1);
<a name="l3253"><span class="linenum">3253</span></a>          } else if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3254"><span class="linenum">3254</span></a>              <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;div class=&quot;tabrow'.(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>+1).' empty&quot;&gt;&amp;nbsp;&lt;/div&gt;'.&quot;\n&quot;;
<a name="l3255"><span class="linenum">3255</span></a>          }
<a name="l3256"><span class="linenum">3256</span></a>  
<a name="l3257"><span class="linenum">3257</span></a>          <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= ' &lt;/li&gt;'.&quot;\n&quot;;
<a name="l3258"><span class="linenum">3258</span></a>      }
<a name="l3259"><span class="linenum">3259</span></a>      <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> .= '&lt;/ul&gt;'.&quot;\n&quot;;
<a name="l3260"><span class="linenum">3260</span></a>  
<a name="l3261"><span class="linenum">3261</span></a>      return <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l3262"><span class="linenum">3262</span></a>  }
<a name="l3263"><span class="linenum">3263</span></a>  
<a name="l3264"><span class="linenum">3264</span></a>  <span class="comment">/**</span>
<a name="l3265"><span class="linenum">3265</span></a>  <span class="comment"> * Convert nested tabrows to a nested array</span>
<a name="l3266"><span class="linenum">3266</span></a>  <span class="comment"> *</span>
<a name="l3267"><span class="linenum">3267</span></a>  <span class="comment"> * @deprecated since 2.5</span>
<a name="l3268"><span class="linenum">3268</span></a>  <span class="comment"> *</span>
<a name="l3269"><span class="linenum">3269</span></a>  <span class="comment"> * @param array $tabrows A [nested] array of tab row objects</span>
<a name="l3270"><span class="linenum">3270</span></a>  <span class="comment"> * @param string $selected The tabrow to select (by id)</span>
<a name="l3271"><span class="linenum">3271</span></a>  <span class="comment"> * @param array $inactive An array of tabrow id's to make inactive</span>
<a name="l3272"><span class="linenum">3272</span></a>  <span class="comment"> * @param array $activated An array of tabrow id's to make active</span>
<a name="l3273"><span class="linenum">3273</span></a>  <span class="comment"> * @return array The nested array</span>
<a name="l3274"><span class="linenum">3274</span></a>  <span class="comment"> */</span>
<a name="l3275"><span class="linenum">3275</span></a>  function <a class="function" onClick="logFunction('convert_tabrows_to_tree')" href="../_functions/convert_tabrows_to_tree.html" onMouseOver="funcPopup(event,'convert_tabrows_to_tree')">convert_tabrows_to_tree</a>(<a class="var it4587" onMouseOver="hilite(4587)" onMouseOut="lolite()" onClick="logVariable('tabrows')" href="../_variables/tabrows.html">$tabrows</a>, <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>, <a class="var it4429" onMouseOver="hilite(4429)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a>) {
<a name="l3276"><span class="linenum">3276</span></a>  
<a name="l3277"><span class="linenum">3277</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('convert_tabrows_to_tree')" href="../_functions/convert_tabrows_to_tree.html" onMouseOver="funcPopup(event,'convert_tabrows_to_tree')">convert_tabrows_to_tree</a>() is deprecated since Moodle 2.5. Consider using <span class="keyword">class </span><a class="class" onClick="logClass('tabtree')" href="../_classes/tabtree.html" onMouseOver="classPopup(event,'tabtree')">tabtree</a>', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3278"><span class="linenum">3278</span></a>  
<a name="l3279"><span class="linenum">3279</span></a>  <span class="comment">    // Work backwards through the rows (bottom to top) collecting the tree as we go.</span>
<a name="l3280"><span class="linenum">3280</span></a>      <a class="var it4587" onMouseOver="hilite(4587)" onMouseOut="lolite()" onClick="logVariable('tabrows')" href="../_variables/tabrows.html">$tabrows</a> = <a class="phpfunction" onClick="logFunction('array_reverse')" href="../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it4587" onMouseOver="hilite(4587)" onMouseOut="lolite()" onClick="logVariable('tabrows')" href="../_variables/tabrows.html">$tabrows</a>);
<a name="l3281"><span class="linenum">3281</span></a>  
<a name="l3282"><span class="linenum">3282</span></a>      <a class="var it4425" onMouseOver="hilite(4425)" onMouseOut="lolite()" onClick="logVariable('subtree')" href="../_variables/subtree.html">$subtree</a> = array();
<a name="l3283"><span class="linenum">3283</span></a>  
<a name="l3284"><span class="linenum">3284</span></a>      foreach (<a class="var it4587" onMouseOver="hilite(4587)" onMouseOut="lolite()" onClick="logVariable('tabrows')" href="../_variables/tabrows.html">$tabrows</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a>) {
<a name="l3285"><span class="linenum">3285</span></a>          <a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a> = array();
<a name="l3286"><span class="linenum">3286</span></a>  
<a name="l3287"><span class="linenum">3287</span></a>          foreach (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../_variables/row.html">$row</a> as <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>) {
<a name="l3288"><span class="linenum">3288</span></a>              <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('inactive')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/inactive.html">inactive</a> = <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>((string)<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('id')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it4431" onMouseOver="hilite(4431)" onMouseOut="lolite()" onClick="logVariable('inactive')" href="../_variables/inactive.html">$inactive</a>);
<a name="l3289"><span class="linenum">3289</span></a>              <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('active')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/active.html">active</a> = <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>((string)<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('id')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it4429" onMouseOver="hilite(4429)" onMouseOut="lolite()" onClick="logVariable('activated')" href="../_variables/activated.html">$activated</a>);
<a name="l3290"><span class="linenum">3290</span></a>              <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a> = (string)<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('id')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it4428" onMouseOver="hilite(4428)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../_variables/selected.html">$selected</a>;
<a name="l3291"><span class="linenum">3291</span></a>  
<a name="l3292"><span class="linenum">3292</span></a>              if (<a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('active')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/active.html">active</a> || <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('selected')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/selected.html">selected</a>) {
<a name="l3293"><span class="linenum">3293</span></a>                  if (<a class="var it4425" onMouseOver="hilite(4425)" onMouseOut="lolite()" onClick="logVariable('subtree')" href="../_variables/subtree.html">$subtree</a>) {
<a name="l3294"><span class="linenum">3294</span></a>                      <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>-&gt;<a onClick="logVariable('subtree')" class="var it39601" onMouseOver="hilite(39601)" onMouseOut="lolite()" href="../_variables/subtree.html">subtree</a> = <a class="var it4425" onMouseOver="hilite(4425)" onMouseOut="lolite()" onClick="logVariable('subtree')" href="../_variables/subtree.html">$subtree</a>;
<a name="l3295"><span class="linenum">3295</span></a>                  }
<a name="l3296"><span class="linenum">3296</span></a>              }
<a name="l3297"><span class="linenum">3297</span></a>              <a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>[] = <a class="var it4065" onMouseOver="hilite(4065)" onMouseOut="lolite()" onClick="logVariable('tab')" href="../_variables/tab.html">$tab</a>;
<a name="l3298"><span class="linenum">3298</span></a>          }
<a name="l3299"><span class="linenum">3299</span></a>          <a class="var it4425" onMouseOver="hilite(4425)" onMouseOut="lolite()" onClick="logVariable('subtree')" href="../_variables/subtree.html">$subtree</a> = <a class="var it4476" onMouseOver="hilite(4476)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>;
<a name="l3300"><span class="linenum">3300</span></a>      }
<a name="l3301"><span class="linenum">3301</span></a>  
<a name="l3302"><span class="linenum">3302</span></a>      return <a class="var it4425" onMouseOver="hilite(4425)" onMouseOut="lolite()" onClick="logVariable('subtree')" href="../_variables/subtree.html">$subtree</a>;
<a name="l3303"><span class="linenum">3303</span></a>  }
<a name="l3304"><span class="linenum">3304</span></a>  
<a name="l3305"><span class="linenum">3305</span></a>  <span class="comment">/**</span>
<a name="l3306"><span class="linenum">3306</span></a>  <span class="comment"> * Can handle rotated text. Whether it is safe to use the trickery in textrotate.js.</span>
<a name="l3307"><span class="linenum">3307</span></a>  <span class="comment"> *</span>
<a name="l3308"><span class="linenum">3308</span></a>  <span class="comment"> * @deprecated since 2.5 - do not use, the textrotate.js will work it out automatically</span>
<a name="l3309"><span class="linenum">3309</span></a>  <span class="comment"> * @return bool True for yes, false for no</span>
<a name="l3310"><span class="linenum">3310</span></a>  <span class="comment"> */</span>
<a name="l3311"><span class="linenum">3311</span></a>  function <a class="function" onClick="logFunction('can_use_rotated_text')" href="../_functions/can_use_rotated_text.html" onMouseOver="funcPopup(event,'can_use_rotated_text')">can_use_rotated_text</a>() {
<a name="l3312"><span class="linenum">3312</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('can_use_rotated_text')" href="../_functions/can_use_rotated_text.html" onMouseOver="funcPopup(event,'can_use_rotated_text')">can_use_rotated_text</a>() is deprecated since Moodle 2.5. JS feature detection is used automatically.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3313"><span class="linenum">3313</span></a>      return true;
<a name="l3314"><span class="linenum">3314</span></a>  }
<a name="l3315"><span class="linenum">3315</span></a>  
<a name="l3316"><span class="linenum">3316</span></a>  <span class="comment">/**</span>
<a name="l3317"><span class="linenum">3317</span></a>  <span class="comment"> * Get the context instance as an object. This function will create the</span>
<a name="l3318"><span class="linenum">3318</span></a>  <span class="comment"> * context instance if it does not exist yet.</span>
<a name="l3319"><span class="linenum">3319</span></a>  <span class="comment"> *</span>
<a name="l3320"><span class="linenum">3320</span></a>  <span class="comment"> * @deprecated since 2.2, use context_course::instance() or other relevant class instead</span>
<a name="l3321"><span class="linenum">3321</span></a>  <span class="comment"> * @todo This will be deleted in Moodle 2.8, refer MDL-34472</span>
<a name="l3322"><span class="linenum">3322</span></a>  <span class="comment"> * @param integer $contextlevel The context level, for example CONTEXT_COURSE, or CONTEXT_MODULE.</span>
<a name="l3323"><span class="linenum">3323</span></a>  <span class="comment"> * @param integer $instance The instance id. For $level = CONTEXT_COURSE, this would be $course-&gt;id,</span>
<a name="l3324"><span class="linenum">3324</span></a>  <span class="comment"> *      for $level = CONTEXT_MODULE, this would be $cm-&gt;id. And so on. Defaults to 0</span>
<a name="l3325"><span class="linenum">3325</span></a>  <span class="comment"> * @param int $strictness IGNORE_MISSING means compatible mode, false returned if record not found, debug message if more found;</span>
<a name="l3326"><span class="linenum">3326</span></a>  <span class="comment"> *      MUST_EXIST means throw exception if no record or multiple records found</span>
<a name="l3327"><span class="linenum">3327</span></a>  <span class="comment"> * @return context The context object.</span>
<a name="l3328"><span class="linenum">3328</span></a>  <span class="comment"> */</span>
<a name="l3329"><span class="linenum">3329</span></a>  function <a class="function" onClick="logFunction('get_context_instance')" href="../_functions/get_context_instance.html" onMouseOver="funcPopup(event,'get_context_instance')">get_context_instance</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a> = 0, <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a> = <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l3330"><span class="linenum">3330</span></a>  
<a name="l3331"><span class="linenum">3331</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_context_instance')" href="../_functions/get_context_instance.html" onMouseOver="funcPopup(event,'get_context_instance')">get_context_instance</a>() is deprecated, please use context_xxxx::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3332"><span class="linenum">3332</span></a>  
<a name="l3333"><span class="linenum">3333</span></a>      <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = (array)<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>;
<a name="l3334"><span class="linenum">3334</span></a>      <a class="var it2698" onMouseOver="hilite(2698)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a> = array();
<a name="l3335"><span class="linenum">3335</span></a>  
<a name="l3336"><span class="linenum">3336</span></a>      <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_class_for_level')" href="../_functions/get_class_for_level.html" onMouseOver="funcPopup(event,'get_class_for_level')">get_class_for_level</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>);
<a name="l3337"><span class="linenum">3337</span></a>  
<a name="l3338"><span class="linenum">3338</span></a>  <span class="comment">    // we do not load multiple contexts any more, PAGE should be responsible for any preloading</span>
<a name="l3339"><span class="linenum">3339</span></a>      foreach (<a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> as <a class="var it25261" onMouseOver="hilite(25261)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>) {
<a name="l3340"><span class="linenum">3340</span></a>          <a class="var it2698" onMouseOver="hilite(2698)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>[<a class="var it25261" onMouseOver="hilite(25261)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>] = <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it25261" onMouseOver="hilite(25261)" onMouseOut="lolite()" onClick="logVariable('inst')" href="../_variables/inst.html">$inst</a>, <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a>);
<a name="l3341"><span class="linenum">3341</span></a>      }
<a name="l3342"><span class="linenum">3342</span></a>  
<a name="l3343"><span class="linenum">3343</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>)) {
<a name="l3344"><span class="linenum">3344</span></a>          return <a class="var it2698" onMouseOver="hilite(2698)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>;
<a name="l3345"><span class="linenum">3345</span></a>      } else {
<a name="l3346"><span class="linenum">3346</span></a>          return <a class="var it2698" onMouseOver="hilite(2698)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../_variables/contexts.html">$contexts</a>[<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>];
<a name="l3347"><span class="linenum">3347</span></a>      }
<a name="l3348"><span class="linenum">3348</span></a>  }
<a name="l3349"><span class="linenum">3349</span></a>  
<a name="l3350"><span class="linenum">3350</span></a>  <span class="comment">/**</span>
<a name="l3351"><span class="linenum">3351</span></a>  <span class="comment"> * Get a context instance as an object, from a given context id.</span>
<a name="l3352"><span class="linenum">3352</span></a>  <span class="comment"> *</span>
<a name="l3353"><span class="linenum">3353</span></a>  <span class="comment"> * @deprecated since Moodle 2.2 MDL-35009 - please do not use this function any more.</span>
<a name="l3354"><span class="linenum">3354</span></a>  <span class="comment"> * @see context::instance_by_id($id)</span>
<a name="l3355"><span class="linenum">3355</span></a>  <span class="comment"> */</span>
<a name="l3356"><span class="linenum">3356</span></a>  function <a class="function" onClick="logFunction('get_context_instance_by_id')" href="../_functions/get_context_instance_by_id.html" onMouseOver="funcPopup(event,'get_context_instance_by_id')">get_context_instance_by_id</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>, <a class="var it4662" onMouseOver="hilite(4662)" onMouseOut="lolite()" onClick="logVariable('strictness')" href="../_variables/strictness.html">$strictness</a> = <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>) {
<a name="l3357"><span class="linenum">3357</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('get_context_instance_by_id')" href="../_functions/get_context_instance_by_id.html" onMouseOver="funcPopup(event,'get_context_instance_by_id')">get_context_instance_by_id</a>() is now removed, please use context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>) instead.');
<a name="l3358"><span class="linenum">3358</span></a>  }
<a name="l3359"><span class="linenum">3359</span></a>  
<a name="l3360"><span class="linenum">3360</span></a>  <span class="comment">/**</span>
<a name="l3361"><span class="linenum">3361</span></a>  <span class="comment"> * Returns system context or null if can not be created yet.</span>
<a name="l3362"><span class="linenum">3362</span></a>  <span class="comment"> *</span>
<a name="l3363"><span class="linenum">3363</span></a>  <span class="comment"> * @see context_system::instance()</span>
<a name="l3364"><span class="linenum">3364</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3365"><span class="linenum">3365</span></a>  <span class="comment"> * @param bool $cache use caching</span>
<a name="l3366"><span class="linenum">3366</span></a>  <span class="comment"> * @return context system context (null if context table not created yet)</span>
<a name="l3367"><span class="linenum">3367</span></a>  <span class="comment"> */</span>
<a name="l3368"><span class="linenum">3368</span></a>  function <a class="function" onClick="logFunction('get_system_context')" href="../_functions/get_system_context.html" onMouseOver="funcPopup(event,'get_system_context')">get_system_context</a>(<a class="var it1081" onMouseOver="hilite(1081)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a> = true) {
<a name="l3369"><span class="linenum">3369</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_system_context')" href="../_functions/get_system_context.html" onMouseOver="funcPopup(event,'get_system_context')">get_system_context</a>() is deprecated, please use <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3370"><span class="linenum">3370</span></a>      return <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(0, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>, <a class="var it1081" onMouseOver="hilite(1081)" onMouseOut="lolite()" onClick="logVariable('cache')" href="../_variables/cache.html">$cache</a>);
<a name="l3371"><span class="linenum">3371</span></a>  }
<a name="l3372"><span class="linenum">3372</span></a>  
<a name="l3373"><span class="linenum">3373</span></a>  <span class="comment">/**</span>
<a name="l3374"><span class="linenum">3374</span></a>  <span class="comment"> * Recursive function which, given a context, find all parent context ids,</span>
<a name="l3375"><span class="linenum">3375</span></a>  <span class="comment"> * and return the array in reverse order, i.e. parent first, then grand</span>
<a name="l3376"><span class="linenum">3376</span></a>  <span class="comment"> * parent, etc.</span>
<a name="l3377"><span class="linenum">3377</span></a>  <span class="comment"> *</span>
<a name="l3378"><span class="linenum">3378</span></a>  <span class="comment"> * @see context::get_parent_context_ids()</span>
<a name="l3379"><span class="linenum">3379</span></a>  <span class="comment"> * @deprecated since 2.2, use $context-&gt;get_parent_context_ids() instead</span>
<a name="l3380"><span class="linenum">3380</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3381"><span class="linenum">3381</span></a>  <span class="comment"> * @param bool $includeself optional, defaults to false</span>
<a name="l3382"><span class="linenum">3382</span></a>  <span class="comment"> * @return array</span>
<a name="l3383"><span class="linenum">3383</span></a>  <span class="comment"> */</span>
<a name="l3384"><span class="linenum">3384</span></a>  function <a class="function" onClick="logFunction('get_parent_contexts')" href="../_functions/get_parent_contexts.html" onMouseOver="funcPopup(event,'get_parent_contexts')">get_parent_contexts</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('includeself')" href="../_variables/includeself.html">$includeself</a> = false) {
<a name="l3385"><span class="linenum">3385</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_parent_contexts')" href="../_functions/get_parent_contexts.html" onMouseOver="funcPopup(event,'get_parent_contexts')">get_parent_contexts</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3386"><span class="linenum">3386</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(<a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('includeself')" href="../_variables/includeself.html">$includeself</a>);
<a name="l3387"><span class="linenum">3387</span></a>  }
<a name="l3388"><span class="linenum">3388</span></a>  
<a name="l3389"><span class="linenum">3389</span></a>  <span class="comment">/**</span>
<a name="l3390"><span class="linenum">3390</span></a>  <span class="comment"> * Return the id of the parent of this context, or false if there is no parent (only happens if this</span>
<a name="l3391"><span class="linenum">3391</span></a>  <span class="comment"> * is the site context.)</span>
<a name="l3392"><span class="linenum">3392</span></a>  <span class="comment"> *</span>
<a name="l3393"><span class="linenum">3393</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l3394"><span class="linenum">3394</span></a>  <span class="comment"> * @see context::get_parent_context()</span>
<a name="l3395"><span class="linenum">3395</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3396"><span class="linenum">3396</span></a>  <span class="comment"> * @return integer the id of the parent context.</span>
<a name="l3397"><span class="linenum">3397</span></a>  <span class="comment"> */</span>
<a name="l3398"><span class="linenum">3398</span></a>  function <a class="function" onClick="logFunction('get_parent_contextid')" href="../_functions/get_parent_contextid.html" onMouseOver="funcPopup(event,'get_parent_contextid')">get_parent_contextid</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3399"><span class="linenum">3399</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_parent_contextid')" href="../_functions/get_parent_contextid.html" onMouseOver="funcPopup(event,'get_parent_contextid')">get_parent_contextid</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context')" href="../_functions/get_parent_context.html" onMouseOver="funcPopup(event,'get_parent_context')">get_parent_context</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3400"><span class="linenum">3400</span></a>  
<a name="l3401"><span class="linenum">3401</span></a>      if (<a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context')" href="../_functions/get_parent_context.html" onMouseOver="funcPopup(event,'get_parent_context')">get_parent_context</a>()) {
<a name="l3402"><span class="linenum">3402</span></a>          return <a class="var it75" onMouseOver="hilite(75)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../_variables/parent.html">$parent</a>-&gt;<a onClick="logVariable('id')" class="var it39475" onMouseOver="hilite(39475)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l3403"><span class="linenum">3403</span></a>      } else {
<a name="l3404"><span class="linenum">3404</span></a>          return false;
<a name="l3405"><span class="linenum">3405</span></a>      }
<a name="l3406"><span class="linenum">3406</span></a>  }
<a name="l3407"><span class="linenum">3407</span></a>  
<a name="l3408"><span class="linenum">3408</span></a>  <span class="comment">/**</span>
<a name="l3409"><span class="linenum">3409</span></a>  <span class="comment"> * Recursive function which, given a context, find all its children contexts.</span>
<a name="l3410"><span class="linenum">3410</span></a>  <span class="comment"> *</span>
<a name="l3411"><span class="linenum">3411</span></a>  <span class="comment"> * For course category contexts it will return immediate children only categories and courses.</span>
<a name="l3412"><span class="linenum">3412</span></a>  <span class="comment"> * It will NOT recurse into courses or child categories.</span>
<a name="l3413"><span class="linenum">3413</span></a>  <span class="comment"> * If you want to do that, call it on the returned courses/categories.</span>
<a name="l3414"><span class="linenum">3414</span></a>  <span class="comment"> *</span>
<a name="l3415"><span class="linenum">3415</span></a>  <span class="comment"> * When called for a course context, it will return the modules and blocks</span>
<a name="l3416"><span class="linenum">3416</span></a>  <span class="comment"> * displayed in the course page.</span>
<a name="l3417"><span class="linenum">3417</span></a>  <span class="comment"> *</span>
<a name="l3418"><span class="linenum">3418</span></a>  <span class="comment"> * If called on a user/course/module context it _will_ populate the cache with the appropriate</span>
<a name="l3419"><span class="linenum">3419</span></a>  <span class="comment"> * contexts ;-)</span>
<a name="l3420"><span class="linenum">3420</span></a>  <span class="comment"> *</span>
<a name="l3421"><span class="linenum">3421</span></a>  <span class="comment"> * @see context::get_child_contexts()</span>
<a name="l3422"><span class="linenum">3422</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3423"><span class="linenum">3423</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3424"><span class="linenum">3424</span></a>  <span class="comment"> * @return array Array of child records</span>
<a name="l3425"><span class="linenum">3425</span></a>  <span class="comment"> */</span>
<a name="l3426"><span class="linenum">3426</span></a>  function <a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3427"><span class="linenum">3427</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3428"><span class="linenum">3428</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>();
<a name="l3429"><span class="linenum">3429</span></a>  }
<a name="l3430"><span class="linenum">3430</span></a>  
<a name="l3431"><span class="linenum">3431</span></a>  <span class="comment">/**</span>
<a name="l3432"><span class="linenum">3432</span></a>  <span class="comment"> * Precreates all contexts including all parents.</span>
<a name="l3433"><span class="linenum">3433</span></a>  <span class="comment"> *</span>
<a name="l3434"><span class="linenum">3434</span></a>  <span class="comment"> * @see context_helper::create_instances()</span>
<a name="l3435"><span class="linenum">3435</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3436"><span class="linenum">3436</span></a>  <span class="comment"> * @param int $contextlevel empty means all</span>
<a name="l3437"><span class="linenum">3437</span></a>  <span class="comment"> * @param bool $buildpaths update paths and depths</span>
<a name="l3438"><span class="linenum">3438</span></a>  <span class="comment"> * @return void</span>
<a name="l3439"><span class="linenum">3439</span></a>  <span class="comment"> */</span>
<a name="l3440"><span class="linenum">3440</span></a>  function <a class="function" onClick="logFunction('create_contexts')" href="../_functions/create_contexts.html" onMouseOver="funcPopup(event,'create_contexts')">create_contexts</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a> = null, <a class="var it25262" onMouseOver="hilite(25262)" onMouseOut="lolite()" onClick="logVariable('buildpaths')" href="../_variables/buildpaths.html">$buildpaths</a> = true) {
<a name="l3441"><span class="linenum">3441</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('create_contexts')" href="../_functions/create_contexts.html" onMouseOver="funcPopup(event,'create_contexts')">create_contexts</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('create_instances')" href="../_functions/create_instances.html" onMouseOver="funcPopup(event,'create_instances')">create_instances</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3442"><span class="linenum">3442</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('create_instances')" href="../_functions/create_instances.html" onMouseOver="funcPopup(event,'create_instances')">create_instances</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it25262" onMouseOver="hilite(25262)" onMouseOut="lolite()" onClick="logVariable('buildpaths')" href="../_variables/buildpaths.html">$buildpaths</a>);
<a name="l3443"><span class="linenum">3443</span></a>  }
<a name="l3444"><span class="linenum">3444</span></a>  
<a name="l3445"><span class="linenum">3445</span></a>  <span class="comment">/**</span>
<a name="l3446"><span class="linenum">3446</span></a>  <span class="comment"> * Remove stale context records.</span>
<a name="l3447"><span class="linenum">3447</span></a>  <span class="comment"> *</span>
<a name="l3448"><span class="linenum">3448</span></a>  <span class="comment"> * @see context_helper::cleanup_instances()</span>
<a name="l3449"><span class="linenum">3449</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3450"><span class="linenum">3450</span></a>  <span class="comment"> * @return bool</span>
<a name="l3451"><span class="linenum">3451</span></a>  <span class="comment"> */</span>
<a name="l3452"><span class="linenum">3452</span></a>  function <a class="function" onClick="logFunction('cleanup_contexts')" href="../_functions/cleanup_contexts.html" onMouseOver="funcPopup(event,'cleanup_contexts')">cleanup_contexts</a>() {
<a name="l3453"><span class="linenum">3453</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('cleanup_contexts')" href="../_functions/cleanup_contexts.html" onMouseOver="funcPopup(event,'cleanup_contexts')">cleanup_contexts</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('cleanup_instances')" href="../_functions/cleanup_instances.html" onMouseOver="funcPopup(event,'cleanup_instances')">cleanup_instances</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3454"><span class="linenum">3454</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('cleanup_instances')" href="../_functions/cleanup_instances.html" onMouseOver="funcPopup(event,'cleanup_instances')">cleanup_instances</a>();
<a name="l3455"><span class="linenum">3455</span></a>      return true;
<a name="l3456"><span class="linenum">3456</span></a>  }
<a name="l3457"><span class="linenum">3457</span></a>  
<a name="l3458"><span class="linenum">3458</span></a>  <span class="comment">/**</span>
<a name="l3459"><span class="linenum">3459</span></a>  <span class="comment"> * Populate context.path and context.depth where missing.</span>
<a name="l3460"><span class="linenum">3460</span></a>  <span class="comment"> *</span>
<a name="l3461"><span class="linenum">3461</span></a>  <span class="comment"> * @see context_helper::build_all_paths()</span>
<a name="l3462"><span class="linenum">3462</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3463"><span class="linenum">3463</span></a>  <span class="comment"> * @param bool $force force a complete rebuild of the path and depth fields, defaults to false</span>
<a name="l3464"><span class="linenum">3464</span></a>  <span class="comment"> * @return void</span>
<a name="l3465"><span class="linenum">3465</span></a>  <span class="comment"> */</span>
<a name="l3466"><span class="linenum">3466</span></a>  function <a class="function" onClick="logFunction('build_context_path')" href="../_functions/build_context_path.html" onMouseOver="funcPopup(event,'build_context_path')">build_context_path</a>(<a class="var it5797" onMouseOver="hilite(5797)" onMouseOut="lolite()" onClick="logVariable('force')" href="../_variables/force.html">$force</a> = false) {
<a name="l3467"><span class="linenum">3467</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('build_context_path')" href="../_functions/build_context_path.html" onMouseOver="funcPopup(event,'build_context_path')">build_context_path</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('build_all_paths')" href="../_functions/build_all_paths.html" onMouseOver="funcPopup(event,'build_all_paths')">build_all_paths</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3468"><span class="linenum">3468</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('build_all_paths')" href="../_functions/build_all_paths.html" onMouseOver="funcPopup(event,'build_all_paths')">build_all_paths</a>(<a class="var it5797" onMouseOver="hilite(5797)" onMouseOut="lolite()" onClick="logVariable('force')" href="../_variables/force.html">$force</a>);
<a name="l3469"><span class="linenum">3469</span></a>  }
<a name="l3470"><span class="linenum">3470</span></a>  
<a name="l3471"><span class="linenum">3471</span></a>  <span class="comment">/**</span>
<a name="l3472"><span class="linenum">3472</span></a>  <span class="comment"> * Rebuild all related context depth and path caches.</span>
<a name="l3473"><span class="linenum">3473</span></a>  <span class="comment"> *</span>
<a name="l3474"><span class="linenum">3474</span></a>  <span class="comment"> * @see context::reset_paths()</span>
<a name="l3475"><span class="linenum">3475</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3476"><span class="linenum">3476</span></a>  <span class="comment"> * @param array $fixcontexts array of contexts, strongtyped</span>
<a name="l3477"><span class="linenum">3477</span></a>  <span class="comment"> * @return void</span>
<a name="l3478"><span class="linenum">3478</span></a>  <span class="comment"> */</span>
<a name="l3479"><span class="linenum">3479</span></a>  function <a class="function" onClick="logFunction('rebuild_contexts')" href="../_functions/rebuild_contexts.html" onMouseOver="funcPopup(event,'rebuild_contexts')">rebuild_contexts</a>(array <a class="var it7838" onMouseOver="hilite(7838)" onMouseOut="lolite()" onClick="logVariable('fixcontexts')" href="../_variables/fixcontexts.html">$fixcontexts</a>) {
<a name="l3480"><span class="linenum">3480</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('rebuild_contexts')" href="../_functions/rebuild_contexts.html" onMouseOver="funcPopup(event,'rebuild_contexts')">rebuild_contexts</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('reset_paths')" href="../_functions/reset_paths.html" onMouseOver="funcPopup(event,'reset_paths')">reset_paths</a>(true) instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3481"><span class="linenum">3481</span></a>      foreach (<a class="var it7838" onMouseOver="hilite(7838)" onMouseOut="lolite()" onClick="logVariable('fixcontexts')" href="../_variables/fixcontexts.html">$fixcontexts</a> as <a class="var it7841" onMouseOver="hilite(7841)" onMouseOut="lolite()" onClick="logVariable('fixcontext')" href="../_variables/fixcontext.html">$fixcontext</a>) {
<a name="l3482"><span class="linenum">3482</span></a>          <a class="var it7841" onMouseOver="hilite(7841)" onMouseOut="lolite()" onClick="logVariable('fixcontext')" href="../_variables/fixcontext.html">$fixcontext</a>-&gt;<a class="function" onClick="logFunction('reset_paths')" href="../_functions/reset_paths.html" onMouseOver="funcPopup(event,'reset_paths')">reset_paths</a>(false);
<a name="l3483"><span class="linenum">3483</span></a>      }
<a name="l3484"><span class="linenum">3484</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('build_all_paths')" href="../_functions/build_all_paths.html" onMouseOver="funcPopup(event,'build_all_paths')">build_all_paths</a>(false);
<a name="l3485"><span class="linenum">3485</span></a>  }
<a name="l3486"><span class="linenum">3486</span></a>  
<a name="l3487"><span class="linenum">3487</span></a>  <span class="comment">/**</span>
<a name="l3488"><span class="linenum">3488</span></a>  <span class="comment"> * Preloads all contexts relating to a course: course, modules. Block contexts</span>
<a name="l3489"><span class="linenum">3489</span></a>  <span class="comment"> * are no longer loaded here. The contexts for all the blocks on the current</span>
<a name="l3490"><span class="linenum">3490</span></a>  <span class="comment"> * page are now efficiently loaded by {@link block_manager::load_blocks()}.</span>
<a name="l3491"><span class="linenum">3491</span></a>  <span class="comment"> *</span>
<a name="l3492"><span class="linenum">3492</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l3493"><span class="linenum">3493</span></a>  <span class="comment"> * @see context_helper::preload_course()</span>
<a name="l3494"><span class="linenum">3494</span></a>  <span class="comment"> * @param int $courseid Course ID</span>
<a name="l3495"><span class="linenum">3495</span></a>  <span class="comment"> * @return void</span>
<a name="l3496"><span class="linenum">3496</span></a>  <span class="comment"> */</span>
<a name="l3497"><span class="linenum">3497</span></a>  function <a class="function" onClick="logFunction('preload_course_contexts')" href="../_functions/preload_course_contexts.html" onMouseOver="funcPopup(event,'preload_course_contexts')">preload_course_contexts</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l3498"><span class="linenum">3498</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('preload_course_contexts')" href="../_functions/preload_course_contexts.html" onMouseOver="funcPopup(event,'preload_course_contexts')">preload_course_contexts</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_course')" href="../_functions/preload_course.html" onMouseOver="funcPopup(event,'preload_course')">preload_course</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3499"><span class="linenum">3499</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_course')" href="../_functions/preload_course.html" onMouseOver="funcPopup(event,'preload_course')">preload_course</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>);
<a name="l3500"><span class="linenum">3500</span></a>  }
<a name="l3501"><span class="linenum">3501</span></a>  
<a name="l3502"><span class="linenum">3502</span></a>  <span class="comment">/**</span>
<a name="l3503"><span class="linenum">3503</span></a>  <span class="comment"> * Update the path field of the context and all dep. subcontexts that follow</span>
<a name="l3504"><span class="linenum">3504</span></a>  <span class="comment"> *</span>
<a name="l3505"><span class="linenum">3505</span></a>  <span class="comment"> * Update the path field of the context and</span>
<a name="l3506"><span class="linenum">3506</span></a>  <span class="comment"> * all the dependent subcontexts that follow</span>
<a name="l3507"><span class="linenum">3507</span></a>  <span class="comment"> * the move.</span>
<a name="l3508"><span class="linenum">3508</span></a>  <span class="comment"> *</span>
<a name="l3509"><span class="linenum">3509</span></a>  <span class="comment"> * The most important thing here is to be as</span>
<a name="l3510"><span class="linenum">3510</span></a>  <span class="comment"> * DB efficient as possible. This op can have a</span>
<a name="l3511"><span class="linenum">3511</span></a>  <span class="comment"> * massive impact in the DB.</span>
<a name="l3512"><span class="linenum">3512</span></a>  <span class="comment"> *</span>
<a name="l3513"><span class="linenum">3513</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l3514"><span class="linenum">3514</span></a>  <span class="comment"> * @see context::update_moved()</span>
<a name="l3515"><span class="linenum">3515</span></a>  <span class="comment"> * @param context $context context obj</span>
<a name="l3516"><span class="linenum">3516</span></a>  <span class="comment"> * @param context $newparent new parent obj</span>
<a name="l3517"><span class="linenum">3517</span></a>  <span class="comment"> * @return void</span>
<a name="l3518"><span class="linenum">3518</span></a>  <span class="comment"> */</span>
<a name="l3519"><span class="linenum">3519</span></a>  function <a class="function" onClick="logFunction('context_moved')" href="../_functions/context_moved.html" onMouseOver="funcPopup(event,'context_moved')">context_moved</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, context <a class="var it10840" onMouseOver="hilite(10840)" onMouseOut="lolite()" onClick="logVariable('newparent')" href="../_variables/newparent.html">$newparent</a>) {
<a name="l3520"><span class="linenum">3520</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('context_moved')" href="../_functions/context_moved.html" onMouseOver="funcPopup(event,'context_moved')">context_moved</a>() is deprecated, please use context::<a class="function" onClick="logFunction('update_moved')" href="../_functions/update_moved.html" onMouseOver="funcPopup(event,'update_moved')">update_moved</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3521"><span class="linenum">3521</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('update_moved')" href="../_functions/update_moved.html" onMouseOver="funcPopup(event,'update_moved')">update_moved</a>(<a class="var it10840" onMouseOver="hilite(10840)" onMouseOut="lolite()" onClick="logVariable('newparent')" href="../_variables/newparent.html">$newparent</a>);
<a name="l3522"><span class="linenum">3522</span></a>  }
<a name="l3523"><span class="linenum">3523</span></a>  
<a name="l3524"><span class="linenum">3524</span></a>  <span class="comment">/**</span>
<a name="l3525"><span class="linenum">3525</span></a>  <span class="comment"> * Extracts the relevant capabilities given a contextid.</span>
<a name="l3526"><span class="linenum">3526</span></a>  <span class="comment"> * All case based, example an instance of forum context.</span>
<a name="l3527"><span class="linenum">3527</span></a>  <span class="comment"> * Will fetch all forum related capabilities, while course contexts</span>
<a name="l3528"><span class="linenum">3528</span></a>  <span class="comment"> * Will fetch all capabilities</span>
<a name="l3529"><span class="linenum">3529</span></a>  <span class="comment"> *</span>
<a name="l3530"><span class="linenum">3530</span></a>  <span class="comment"> * capabilities</span>
<a name="l3531"><span class="linenum">3531</span></a>  <span class="comment"> * `name` varchar(150) NOT NULL,</span>
<a name="l3532"><span class="linenum">3532</span></a>  <span class="comment"> * `captype` varchar(50) NOT NULL,</span>
<a name="l3533"><span class="linenum">3533</span></a>  <span class="comment"> * `contextlevel` int(10) NOT NULL,</span>
<a name="l3534"><span class="linenum">3534</span></a>  <span class="comment"> * `component` varchar(100) NOT NULL,</span>
<a name="l3535"><span class="linenum">3535</span></a>  <span class="comment"> *</span>
<a name="l3536"><span class="linenum">3536</span></a>  <span class="comment"> * @see context::get_capabilities()</span>
<a name="l3537"><span class="linenum">3537</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3538"><span class="linenum">3538</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3539"><span class="linenum">3539</span></a>  <span class="comment"> * @return array</span>
<a name="l3540"><span class="linenum">3540</span></a>  <span class="comment"> */</span>
<a name="l3541"><span class="linenum">3541</span></a>  function <a class="function" onClick="logFunction('fetch_context_capabilities')" href="../_functions/fetch_context_capabilities.html" onMouseOver="funcPopup(event,'fetch_context_capabilities')">fetch_context_capabilities</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3542"><span class="linenum">3542</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('fetch_context_capabilities')" href="../_functions/fetch_context_capabilities.html" onMouseOver="funcPopup(event,'fetch_context_capabilities')">fetch_context_capabilities</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_capabilities')" href="../_functions/get_capabilities.html" onMouseOver="funcPopup(event,'get_capabilities')">get_capabilities</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3543"><span class="linenum">3543</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_capabilities')" href="../_functions/get_capabilities.html" onMouseOver="funcPopup(event,'get_capabilities')">get_capabilities</a>();
<a name="l3544"><span class="linenum">3544</span></a>  }
<a name="l3545"><span class="linenum">3545</span></a>  
<a name="l3546"><span class="linenum">3546</span></a>  <span class="comment">/**</span>
<a name="l3547"><span class="linenum">3547</span></a>  <span class="comment"> * Preloads context information from db record and strips the cached info.</span>
<a name="l3548"><span class="linenum">3548</span></a>  <span class="comment"> * The db request has to contain both the $join and $select from context_instance_preload_sql()</span>
<a name="l3549"><span class="linenum">3549</span></a>  <span class="comment"> *</span>
<a name="l3550"><span class="linenum">3550</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3551"><span class="linenum">3551</span></a>  <span class="comment"> * @see context_helper::preload_from_record()</span>
<a name="l3552"><span class="linenum">3552</span></a>  <span class="comment"> * @param stdClass $rec</span>
<a name="l3553"><span class="linenum">3553</span></a>  <span class="comment"> * @return void (modifies $rec)</span>
<a name="l3554"><span class="linenum">3554</span></a>  <span class="comment"> */</span>
<a name="l3555"><span class="linenum">3555</span></a>  function <a class="function" onClick="logFunction('context_instance_preload')" href="../_functions/context_instance_preload.html" onMouseOver="funcPopup(event,'context_instance_preload')">context_instance_preload</a>(stdClass <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>) {
<a name="l3556"><span class="linenum">3556</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('context_instance_preload')" href="../_functions/context_instance_preload.html" onMouseOver="funcPopup(event,'context_instance_preload')">context_instance_preload</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3557"><span class="linenum">3557</span></a>      <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('preload_from_record')" href="../_functions/preload_from_record.html" onMouseOver="funcPopup(event,'preload_from_record')">preload_from_record</a>(<a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l3558"><span class="linenum">3558</span></a>  }
<a name="l3559"><span class="linenum">3559</span></a>  
<a name="l3560"><span class="linenum">3560</span></a>  <span class="comment">/**</span>
<a name="l3561"><span class="linenum">3561</span></a>  <span class="comment"> * Returns context level name</span>
<a name="l3562"><span class="linenum">3562</span></a>  <span class="comment"> *</span>
<a name="l3563"><span class="linenum">3563</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3564"><span class="linenum">3564</span></a>  <span class="comment"> * @see context_helper::get_level_name()</span>
<a name="l3565"><span class="linenum">3565</span></a>  <span class="comment"> * @param integer $contextlevel $context-&gt;context level. One of the CONTEXT_... constants.</span>
<a name="l3566"><span class="linenum">3566</span></a>  <span class="comment"> * @return string the name for this type of context.</span>
<a name="l3567"><span class="linenum">3567</span></a>  <span class="comment"> */</span>
<a name="l3568"><span class="linenum">3568</span></a>  function <a class="function" onClick="logFunction('get_contextlevel_name')" href="../_functions/get_contextlevel_name.html" onMouseOver="funcPopup(event,'get_contextlevel_name')">get_contextlevel_name</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>) {
<a name="l3569"><span class="linenum">3569</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_contextlevel_name')" href="../_functions/get_contextlevel_name.html" onMouseOver="funcPopup(event,'get_contextlevel_name')">get_contextlevel_name</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_level_name')" href="../_functions/get_level_name.html" onMouseOver="funcPopup(event,'get_level_name')">get_level_name</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3570"><span class="linenum">3570</span></a>      return <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_level_name')" href="../_functions/get_level_name.html" onMouseOver="funcPopup(event,'get_level_name')">get_level_name</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>);
<a name="l3571"><span class="linenum">3571</span></a>  }
<a name="l3572"><span class="linenum">3572</span></a>  
<a name="l3573"><span class="linenum">3573</span></a>  <span class="comment">/**</span>
<a name="l3574"><span class="linenum">3574</span></a>  <span class="comment"> * Prints human readable context identifier.</span>
<a name="l3575"><span class="linenum">3575</span></a>  <span class="comment"> *</span>
<a name="l3576"><span class="linenum">3576</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3577"><span class="linenum">3577</span></a>  <span class="comment"> * @see context::get_context_name()</span>
<a name="l3578"><span class="linenum">3578</span></a>  <span class="comment"> * @param context $context the context.</span>
<a name="l3579"><span class="linenum">3579</span></a>  <span class="comment"> * @param boolean $withprefix whether to prefix the name of the context with the</span>
<a name="l3580"><span class="linenum">3580</span></a>  <span class="comment"> *      type of context, e.g. User, Course, Forum, etc.</span>
<a name="l3581"><span class="linenum">3581</span></a>  <span class="comment"> * @param boolean $short whether to user the short name of the thing. Only applies</span>
<a name="l3582"><span class="linenum">3582</span></a>  <span class="comment"> *      to course contexts</span>
<a name="l3583"><span class="linenum">3583</span></a>  <span class="comment"> * @return string the human readable context name.</span>
<a name="l3584"><span class="linenum">3584</span></a>  <span class="comment"> */</span>
<a name="l3585"><span class="linenum">3585</span></a>  function <a class="function" onClick="logFunction('print_context_name')" href="../_functions/print_context_name.html" onMouseOver="funcPopup(event,'print_context_name')">print_context_name</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it25263" onMouseOver="hilite(25263)" onMouseOut="lolite()" onClick="logVariable('withprefix')" href="../_variables/withprefix.html">$withprefix</a> = true, <a class="var it1725" onMouseOver="hilite(1725)" onMouseOut="lolite()" onClick="logVariable('short')" href="../_variables/short.html">$short</a> = false) {
<a name="l3586"><span class="linenum">3586</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('print_context_name')" href="../_functions/print_context_name.html" onMouseOver="funcPopup(event,'print_context_name')">print_context_name</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_context_name')" href="../_functions/get_context_name.html" onMouseOver="funcPopup(event,'get_context_name')">get_context_name</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3587"><span class="linenum">3587</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_context_name')" href="../_functions/get_context_name.html" onMouseOver="funcPopup(event,'get_context_name')">get_context_name</a>(<a class="var it25263" onMouseOver="hilite(25263)" onMouseOut="lolite()" onClick="logVariable('withprefix')" href="../_variables/withprefix.html">$withprefix</a>, <a class="var it1725" onMouseOver="hilite(1725)" onMouseOut="lolite()" onClick="logVariable('short')" href="../_variables/short.html">$short</a>);
<a name="l3588"><span class="linenum">3588</span></a>  }
<a name="l3589"><span class="linenum">3589</span></a>  
<a name="l3590"><span class="linenum">3590</span></a>  <span class="comment">/**</span>
<a name="l3591"><span class="linenum">3591</span></a>  <span class="comment"> * Mark a context as dirty (with timestamp) so as to force reloading of the context.</span>
<a name="l3592"><span class="linenum">3592</span></a>  <span class="comment"> *</span>
<a name="l3593"><span class="linenum">3593</span></a>  <span class="comment"> * @deprecated since 2.2, use $context-&gt;mark_dirty() instead</span>
<a name="l3594"><span class="linenum">3594</span></a>  <span class="comment"> * @see context::mark_dirty()</span>
<a name="l3595"><span class="linenum">3595</span></a>  <span class="comment"> * @param string $path context path</span>
<a name="l3596"><span class="linenum">3596</span></a>  <span class="comment"> */</span>
<a name="l3597"><span class="linenum">3597</span></a>  function <a class="function" onClick="logFunction('mark_context_dirty')" href="../_functions/mark_context_dirty.html" onMouseOver="funcPopup(event,'mark_context_dirty')">mark_context_dirty</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>) {
<a name="l3598"><span class="linenum">3598</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>;
<a name="l3599"><span class="linenum">3599</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('mark_context_dirty')" href="../_functions/mark_context_dirty.html" onMouseOver="funcPopup(event,'mark_context_dirty')">mark_context_dirty</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('mark_dirty')" href="../_functions/mark_dirty.html" onMouseOver="funcPopup(event,'mark_dirty')">mark_dirty</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3600"><span class="linenum">3600</span></a>  
<a name="l3601"><span class="linenum">3601</span></a>      if (<a class="function" onClick="logFunction('during_initial_install')" href="../_functions/during_initial_install.html" onMouseOver="funcPopup(event,'during_initial_install')">during_initial_install</a>()) {
<a name="l3602"><span class="linenum">3602</span></a>          return;
<a name="l3603"><span class="linenum">3603</span></a>      }
<a name="l3604"><span class="linenum">3604</span></a>  
<a name="l3605"><span class="linenum">3605</span></a>  <span class="comment">    // only if it is a non-empty string</span>
<a name="l3606"><span class="linenum">3606</span></a>      if (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>) &amp;&amp; <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> !== '') {
<a name="l3607"><span class="linenum">3607</span></a>          <a class="function" onClick="logFunction('set_cache_flag')" href="../_functions/set_cache_flag.html" onMouseOver="funcPopup(event,'set_cache_flag')">set_cache_flag</a>('accesslib/dirtycontexts', <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>, 1, <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()+<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('sessiontimeout')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/sessiontimeout.html">sessiontimeout</a>);
<a name="l3608"><span class="linenum">3608</span></a>          if (isset(<a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>-&gt;<a onClick="logVariable('dirtycontexts')" class="var it40975" onMouseOver="hilite(40975)" onMouseOut="lolite()" href="../_variables/dirtycontexts.html">dirtycontexts</a>)) {
<a name="l3609"><span class="linenum">3609</span></a>              <a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>-&gt;<a onClick="logVariable('dirtycontexts')" class="var it40975" onMouseOver="hilite(40975)" onMouseOut="lolite()" href="../_variables/dirtycontexts.html">dirtycontexts</a>[<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a>] = 1;
<a name="l3610"><span class="linenum">3610</span></a>          } else {
<a name="l3611"><span class="linenum">3611</span></a>              if (<a class="constant" onClick="logConstant('CLI_SCRIPT')" href="../_constants/CLI_SCRIPT.html" onMouseOver="constPopup(event,'CLI_SCRIPT')">CLI_SCRIPT</a>) {
<a name="l3612"><span class="linenum">3612</span></a>                  <a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>-&gt;<a onClick="logVariable('dirtycontexts')" class="var it40975" onMouseOver="hilite(40975)" onMouseOut="lolite()" href="../_variables/dirtycontexts.html">dirtycontexts</a> = array(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> =&gt; 1);
<a name="l3613"><span class="linenum">3613</span></a>              } else {
<a name="l3614"><span class="linenum">3614</span></a>                  if (isset(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('access')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/access.html">access</a>['time'])) {
<a name="l3615"><span class="linenum">3615</span></a>                      <a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>-&gt;<a onClick="logVariable('dirtycontexts')" class="var it40975" onMouseOver="hilite(40975)" onMouseOut="lolite()" href="../_variables/dirtycontexts.html">dirtycontexts</a> = <a class="function" onClick="logFunction('get_cache_flags')" href="../_functions/get_cache_flags.html" onMouseOver="funcPopup(event,'get_cache_flags')">get_cache_flags</a>('accesslib/dirtycontexts', <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('access')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/access.html">access</a>['time']-2);
<a name="l3616"><span class="linenum">3616</span></a>                  } else {
<a name="l3617"><span class="linenum">3617</span></a>                      <a class="var it25264" onMouseOver="hilite(25264)" onMouseOut="lolite()" onClick="logVariable('ACCESSLIB_PRIVATE')" href="../_variables/ACCESSLIB_PRIVATE.html">$ACCESSLIB_PRIVATE</a>-&gt;<a onClick="logVariable('dirtycontexts')" class="var it40975" onMouseOver="hilite(40975)" onMouseOut="lolite()" href="../_variables/dirtycontexts.html">dirtycontexts</a> = array(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../_variables/path.html">$path</a> =&gt; 1);
<a name="l3618"><span class="linenum">3618</span></a>                  }
<a name="l3619"><span class="linenum">3619</span></a>  <span class="comment">                // flags not loaded yet, it will be done later in $context-&gt;reload_if_dirty()</span>
<a name="l3620"><span class="linenum">3620</span></a>              }
<a name="l3621"><span class="linenum">3621</span></a>          }
<a name="l3622"><span class="linenum">3622</span></a>      }
<a name="l3623"><span class="linenum">3623</span></a>  }
<a name="l3624"><span class="linenum">3624</span></a>  
<a name="l3625"><span class="linenum">3625</span></a>  <span class="comment">/**</span>
<a name="l3626"><span class="linenum">3626</span></a>  <span class="comment"> * Remove a context record and any dependent entries,</span>
<a name="l3627"><span class="linenum">3627</span></a>  <span class="comment"> * removes context from static context cache too</span>
<a name="l3628"><span class="linenum">3628</span></a>  <span class="comment"> *</span>
<a name="l3629"><span class="linenum">3629</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l3630"><span class="linenum">3630</span></a>  <span class="comment"> * @see context_helper::delete_instance() or context::delete_content()</span>
<a name="l3631"><span class="linenum">3631</span></a>  <span class="comment"> * @param int $contextlevel</span>
<a name="l3632"><span class="linenum">3632</span></a>  <span class="comment"> * @param int $instanceid</span>
<a name="l3633"><span class="linenum">3633</span></a>  <span class="comment"> * @param bool $deleterecord false means keep record for now</span>
<a name="l3634"><span class="linenum">3634</span></a>  <span class="comment"> * @return bool returns true or throws an exception</span>
<a name="l3635"><span class="linenum">3635</span></a>  <span class="comment"> */</span>
<a name="l3636"><span class="linenum">3636</span></a>  function <a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>, <a class="var it25266" onMouseOver="hilite(25266)" onMouseOut="lolite()" onClick="logVariable('deleterecord')" href="../_variables/deleterecord.html">$deleterecord</a> = true) {
<a name="l3637"><span class="linenum">3637</span></a>      if (<a class="var it25266" onMouseOver="hilite(25266)" onMouseOut="lolite()" onClick="logVariable('deleterecord')" href="../_variables/deleterecord.html">$deleterecord</a>) {
<a name="l3638"><span class="linenum">3638</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('delete_instance')" href="../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3639"><span class="linenum">3639</span></a>          <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('delete_instance')" href="../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>);
<a name="l3640"><span class="linenum">3640</span></a>      } else {
<a name="l3641"><span class="linenum">3641</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('delete_context')" href="../_functions/delete_context.html" onMouseOver="funcPopup(event,'delete_context')">delete_context</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('delete_content')" href="../_functions/delete_content.html" onMouseOver="funcPopup(event,'delete_content')">delete_content</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3642"><span class="linenum">3642</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a> = <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_class_for_level')" href="../_functions/get_class_for_level.html" onMouseOver="funcPopup(event,'get_class_for_level')">get_class_for_level</a>(<a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>);
<a name="l3643"><span class="linenum">3643</span></a>          if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('classname')" href="../_variables/classname.html">$classname</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1622" onMouseOver="hilite(1622)" onMouseOut="lolite()" onClick="logVariable('instanceid')" href="../_variables/instanceid.html">$instanceid</a>, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>)) {
<a name="l3644"><span class="linenum">3644</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('delete_content')" href="../_functions/delete_content.html" onMouseOver="funcPopup(event,'delete_content')">delete_content</a>();
<a name="l3645"><span class="linenum">3645</span></a>          }
<a name="l3646"><span class="linenum">3646</span></a>      }
<a name="l3647"><span class="linenum">3647</span></a>  
<a name="l3648"><span class="linenum">3648</span></a>      return true;
<a name="l3649"><span class="linenum">3649</span></a>  }
<a name="l3650"><span class="linenum">3650</span></a>  
<a name="l3651"><span class="linenum">3651</span></a>  <span class="comment">/**</span>
<a name="l3652"><span class="linenum">3652</span></a>  <span class="comment"> * Get a URL for a context, if there is a natural one. For example, for</span>
<a name="l3653"><span class="linenum">3653</span></a>  <span class="comment"> * CONTEXT_COURSE, this is the course page. For CONTEXT_USER it is the</span>
<a name="l3654"><span class="linenum">3654</span></a>  <span class="comment"> * user profile page.</span>
<a name="l3655"><span class="linenum">3655</span></a>  <span class="comment"> *</span>
<a name="l3656"><span class="linenum">3656</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3657"><span class="linenum">3657</span></a>  <span class="comment"> * @see context::get_url()</span>
<a name="l3658"><span class="linenum">3658</span></a>  <span class="comment"> * @param context $context the context</span>
<a name="l3659"><span class="linenum">3659</span></a>  <span class="comment"> * @return moodle_url</span>
<a name="l3660"><span class="linenum">3660</span></a>  <span class="comment"> */</span>
<a name="l3661"><span class="linenum">3661</span></a>  function <a class="function" onClick="logFunction('get_context_url')" href="../_functions/get_context_url.html" onMouseOver="funcPopup(event,'get_context_url')">get_context_url</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3662"><span class="linenum">3662</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_context_url')" href="../_functions/get_context_url.html" onMouseOver="funcPopup(event,'get_context_url')">get_context_url</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3663"><span class="linenum">3663</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>();
<a name="l3664"><span class="linenum">3664</span></a>  }
<a name="l3665"><span class="linenum">3665</span></a>  
<a name="l3666"><span class="linenum">3666</span></a>  <span class="comment">/**</span>
<a name="l3667"><span class="linenum">3667</span></a>  <span class="comment"> * Is this context part of any course? if yes return course context,</span>
<a name="l3668"><span class="linenum">3668</span></a>  <span class="comment"> * if not return null or throw exception.</span>
<a name="l3669"><span class="linenum">3669</span></a>  <span class="comment"> *</span>
<a name="l3670"><span class="linenum">3670</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3671"><span class="linenum">3671</span></a>  <span class="comment"> * @see context::get_course_context()</span>
<a name="l3672"><span class="linenum">3672</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3673"><span class="linenum">3673</span></a>  <span class="comment"> * @return context_course context of the enclosing course, null if not found or exception</span>
<a name="l3674"><span class="linenum">3674</span></a>  <span class="comment"> */</span>
<a name="l3675"><span class="linenum">3675</span></a>  function <a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3676"><span class="linenum">3676</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(true) instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3677"><span class="linenum">3677</span></a>      return <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(true);
<a name="l3678"><span class="linenum">3678</span></a>  }
<a name="l3679"><span class="linenum">3679</span></a>  
<a name="l3680"><span class="linenum">3680</span></a>  <span class="comment">/**</span>
<a name="l3681"><span class="linenum">3681</span></a>  <span class="comment"> * Get an array of courses where cap requested is available</span>
<a name="l3682"><span class="linenum">3682</span></a>  <span class="comment"> * and user is enrolled, this can be relatively slow.</span>
<a name="l3683"><span class="linenum">3683</span></a>  <span class="comment"> *</span>
<a name="l3684"><span class="linenum">3684</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3685"><span class="linenum">3685</span></a>  <span class="comment"> * @see enrol_get_users_courses()</span>
<a name="l3686"><span class="linenum">3686</span></a>  <span class="comment"> * @param int    $userid A user id. By default (null) checks the permissions of the current user.</span>
<a name="l3687"><span class="linenum">3687</span></a>  <span class="comment"> * @param string $cap - name of the capability</span>
<a name="l3688"><span class="linenum">3688</span></a>  <span class="comment"> * @param array  $accessdata_ignored</span>
<a name="l3689"><span class="linenum">3689</span></a>  <span class="comment"> * @param bool   $doanything_ignored</span>
<a name="l3690"><span class="linenum">3690</span></a>  <span class="comment"> * @param string $sort - sorting fields - prefix each fieldname with &quot;c.&quot;</span>
<a name="l3691"><span class="linenum">3691</span></a>  <span class="comment"> * @param array  $fields - additional fields you are interested in...</span>
<a name="l3692"><span class="linenum">3692</span></a>  <span class="comment"> * @param int    $limit_ignored</span>
<a name="l3693"><span class="linenum">3693</span></a>  <span class="comment"> * @return array $courses - ordered array of course objects - see notes above</span>
<a name="l3694"><span class="linenum">3694</span></a>  <span class="comment"> */</span>
<a name="l3695"><span class="linenum">3695</span></a>  function <a class="function" onClick="logFunction('get_user_courses_bycap')" href="../_functions/get_user_courses_bycap.html" onMouseOver="funcPopup(event,'get_user_courses_bycap')">get_user_courses_bycap</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>, <a class="var it25267" onMouseOver="hilite(25267)" onMouseOut="lolite()" onClick="logVariable('accessdata_ignored')" href="../_variables/accessdata_ignored.html">$accessdata_ignored</a>, <a class="var it25268" onMouseOver="hilite(25268)" onMouseOut="lolite()" onClick="logVariable('doanything_ignored')" href="../_variables/doanything_ignored.html">$doanything_ignored</a>, <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a> = 'c.sortorder ASC', <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = null, <a class="var it25269" onMouseOver="hilite(25269)" onMouseOut="lolite()" onClick="logVariable('limit_ignored')" href="../_variables/limit_ignored.html">$limit_ignored</a> = 0) {
<a name="l3696"><span class="linenum">3696</span></a>  
<a name="l3697"><span class="linenum">3697</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_user_courses_bycap')" href="../_functions/get_user_courses_bycap.html" onMouseOver="funcPopup(event,'get_user_courses_bycap')">get_user_courses_bycap</a>() is deprecated, please use <a class="function" onClick="logFunction('enrol_get_users_courses')" href="../_functions/enrol_get_users_courses.html" onMouseOver="funcPopup(event,'enrol_get_users_courses')">enrol_get_users_courses</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3698"><span class="linenum">3698</span></a>      <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> = <a class="function" onClick="logFunction('enrol_get_users_courses')" href="../_functions/enrol_get_users_courses.html" onMouseOver="funcPopup(event,'enrol_get_users_courses')">enrol_get_users_courses</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, true, <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>, <a class="var it124" onMouseOver="hilite(124)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../_variables/sort.html">$sort</a>);
<a name="l3699"><span class="linenum">3699</span></a>      foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a> as <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>=&gt;<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l3700"><span class="linenum">3700</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>);
<a name="l3701"><span class="linenum">3701</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>(<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>)) {
<a name="l3702"><span class="linenum">3702</span></a>              unset(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>]);
<a name="l3703"><span class="linenum">3703</span></a>          }
<a name="l3704"><span class="linenum">3704</span></a>      }
<a name="l3705"><span class="linenum">3705</span></a>  
<a name="l3706"><span class="linenum">3706</span></a>      return <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../_variables/courses.html">$courses</a>;
<a name="l3707"><span class="linenum">3707</span></a>  }
<a name="l3708"><span class="linenum">3708</span></a>  
<a name="l3709"><span class="linenum">3709</span></a>  <span class="comment">/**</span>
<a name="l3710"><span class="linenum">3710</span></a>  <span class="comment"> * This is really slow!!! do not use above course context level</span>
<a name="l3711"><span class="linenum">3711</span></a>  <span class="comment"> *</span>
<a name="l3712"><span class="linenum">3712</span></a>  <span class="comment"> * @deprecated since Moodle 2.2</span>
<a name="l3713"><span class="linenum">3713</span></a>  <span class="comment"> * @param int $roleid</span>
<a name="l3714"><span class="linenum">3714</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3715"><span class="linenum">3715</span></a>  <span class="comment"> * @return array</span>
<a name="l3716"><span class="linenum">3716</span></a>  <span class="comment"> */</span>
<a name="l3717"><span class="linenum">3717</span></a>  function <a class="function" onClick="logFunction('get_role_context_caps')" href="../_functions/get_role_context_caps.html" onMouseOver="funcPopup(event,'get_role_context_caps')">get_role_context_caps</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>, context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3718"><span class="linenum">3718</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l3719"><span class="linenum">3719</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_role_context_caps')" href="../_functions/get_role_context_caps.html" onMouseOver="funcPopup(event,'get_role_context_caps')">get_role_context_caps</a>() is deprecated, it is really slow. Don\'t use it.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3720"><span class="linenum">3720</span></a>  
<a name="l3721"><span class="linenum">3721</span></a>  <span class="comment">    // This is really slow!!!! - do not use above course context level.</span>
<a name="l3722"><span class="linenum">3722</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l3723"><span class="linenum">3723</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = array();
<a name="l3724"><span class="linenum">3724</span></a>  
<a name="l3725"><span class="linenum">3725</span></a>  <span class="comment">    // First emulate the parent context capabilities merging into context.</span>
<a name="l3726"><span class="linenum">3726</span></a>      <a class="var it25270" onMouseOver="hilite(25270)" onMouseOut="lolite()" onClick="logVariable('searchcontexts')" href="../_variables/searchcontexts.html">$searchcontexts</a> = <a class="phpfunction" onClick="logFunction('array_reverse')" href="../_functions/array_reverse.html" onMouseOver="phpfuncPopup(event,'array_reverse')">array_reverse</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(true));
<a name="l3727"><span class="linenum">3727</span></a>      foreach (<a class="var it25270" onMouseOver="hilite(25270)" onMouseOut="lolite()" onClick="logVariable('searchcontexts')" href="../_variables/searchcontexts.html">$searchcontexts</a> as <a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>) {
<a name="l3728"><span class="linenum">3728</span></a>          if (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../_variables/capabilities.html">$capabilities</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('role_capabilities', array('roleid'=&gt;<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>, 'contextid'=&gt;<a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>))) {
<a name="l3729"><span class="linenum">3729</span></a>              foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../_variables/capabilities.html">$capabilities</a> as <a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>) {
<a name="l3730"><span class="linenum">3730</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('capability')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/capability.html">capability</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>])) {
<a name="l3731"><span class="linenum">3731</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>][<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('capability')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/capability.html">capability</a>] = 0;
<a name="l3732"><span class="linenum">3732</span></a>                  }
<a name="l3733"><span class="linenum">3733</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>][<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('capability')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/capability.html">capability</a>] += <a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('permission')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/permission.html">permission</a>;
<a name="l3734"><span class="linenum">3734</span></a>              }
<a name="l3735"><span class="linenum">3735</span></a>          }
<a name="l3736"><span class="linenum">3736</span></a>      }
<a name="l3737"><span class="linenum">3737</span></a>  
<a name="l3738"><span class="linenum">3738</span></a>  <span class="comment">    // Now go through the contexts below given context.</span>
<a name="l3739"><span class="linenum">3739</span></a>      <a class="var it25270" onMouseOver="hilite(25270)" onMouseOut="lolite()" onClick="logVariable('searchcontexts')" href="../_variables/searchcontexts.html">$searchcontexts</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_child_contexts')" href="../_functions/get_child_contexts.html" onMouseOver="funcPopup(event,'get_child_contexts')">get_child_contexts</a>());
<a name="l3740"><span class="linenum">3740</span></a>      foreach (<a class="var it25270" onMouseOver="hilite(25270)" onMouseOut="lolite()" onClick="logVariable('searchcontexts')" href="../_variables/searchcontexts.html">$searchcontexts</a> as <a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>) {
<a name="l3741"><span class="linenum">3741</span></a>          if (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../_variables/capabilities.html">$capabilities</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('role_capabilities', array('roleid'=&gt;<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>, 'contextid'=&gt;<a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>))) {
<a name="l3742"><span class="linenum">3742</span></a>              foreach (<a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../_variables/capabilities.html">$capabilities</a> as <a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>) {
<a name="l3743"><span class="linenum">3743</span></a>                  if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('contextid')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>)) {
<a name="l3744"><span class="linenum">3744</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('contextid')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>] = array();
<a name="l3745"><span class="linenum">3745</span></a>                  }
<a name="l3746"><span class="linenum">3746</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>[<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('contextid')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>][<a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('capability')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/capability.html">capability</a>] = <a class="var it3026" onMouseOver="hilite(3026)" onMouseOut="lolite()" onClick="logVariable('cap')" href="../_variables/cap.html">$cap</a>-&gt;<a onClick="logVariable('permission')" class="var it40429" onMouseOver="hilite(40429)" onMouseOut="lolite()" href="../_variables/permission.html">permission</a>;
<a name="l3747"><span class="linenum">3747</span></a>              }
<a name="l3748"><span class="linenum">3748</span></a>          }
<a name="l3749"><span class="linenum">3749</span></a>      }
<a name="l3750"><span class="linenum">3750</span></a>  
<a name="l3751"><span class="linenum">3751</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l3752"><span class="linenum">3752</span></a>  }
<a name="l3753"><span class="linenum">3753</span></a>  
<a name="l3754"><span class="linenum">3754</span></a>  <span class="comment">/**</span>
<a name="l3755"><span class="linenum">3755</span></a>  <span class="comment"> * Returns current course id or false if outside of course based on context parameter.</span>
<a name="l3756"><span class="linenum">3756</span></a>  <span class="comment"> *</span>
<a name="l3757"><span class="linenum">3757</span></a>  <span class="comment"> * @see context::get_course_context()</span>
<a name="l3758"><span class="linenum">3758</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3759"><span class="linenum">3759</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3760"><span class="linenum">3760</span></a>  <span class="comment"> * @return int|bool related course id or false</span>
<a name="l3761"><span class="linenum">3761</span></a>  <span class="comment"> */</span>
<a name="l3762"><span class="linenum">3762</span></a>  function <a class="function" onClick="logFunction('get_courseid_from_context')" href="../_functions/get_courseid_from_context.html" onMouseOver="funcPopup(event,'get_courseid_from_context')">get_courseid_from_context</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3763"><span class="linenum">3763</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_courseid_from_context')" href="../_functions/get_courseid_from_context.html" onMouseOver="funcPopup(event,'get_courseid_from_context')">get_courseid_from_context</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(false) instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3764"><span class="linenum">3764</span></a>      if (<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_course_context')" href="../_functions/get_course_context.html" onMouseOver="funcPopup(event,'get_course_context')">get_course_context</a>(false)) {
<a name="l3765"><span class="linenum">3765</span></a>          return <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../_variables/coursecontext.html">$coursecontext</a>-&gt;<a onClick="logVariable('instanceid')" class="var it39493" onMouseOver="hilite(39493)" onMouseOut="lolite()" href="../_variables/instanceid.html">instanceid</a>;
<a name="l3766"><span class="linenum">3766</span></a>      } else {
<a name="l3767"><span class="linenum">3767</span></a>          return false;
<a name="l3768"><span class="linenum">3768</span></a>      }
<a name="l3769"><span class="linenum">3769</span></a>  }
<a name="l3770"><span class="linenum">3770</span></a>  
<a name="l3771"><span class="linenum">3771</span></a>  <span class="comment">/**</span>
<a name="l3772"><span class="linenum">3772</span></a>  <span class="comment"> * Preloads context information together with instances.</span>
<a name="l3773"><span class="linenum">3773</span></a>  <span class="comment"> * Use context_instance_preload() to strip the context info from the record and cache the context instance.</span>
<a name="l3774"><span class="linenum">3774</span></a>  <span class="comment"> *</span>
<a name="l3775"><span class="linenum">3775</span></a>  <span class="comment"> * If you are using this methid, you should have something like this:</span>
<a name="l3776"><span class="linenum">3776</span></a>  <span class="comment"> *</span>
<a name="l3777"><span class="linenum">3777</span></a>  <span class="comment"> *    list($ctxselect, $ctxjoin) = context_instance_preload_sql('c.id', CONTEXT_COURSE, 'ctx');</span>
<a name="l3778"><span class="linenum">3778</span></a>  <span class="comment"> *</span>
<a name="l3779"><span class="linenum">3779</span></a>  <span class="comment"> * To prevent the use of this deprecated function, replace the line above with something similar to this:</span>
<a name="l3780"><span class="linenum">3780</span></a>  <span class="comment"> *</span>
<a name="l3781"><span class="linenum">3781</span></a>  <span class="comment"> *    $ctxselect = ', ' . context_helper::get_preload_record_columns_sql('ctx');</span>
<a name="l3782"><span class="linenum">3782</span></a>  <span class="comment"> *                                                                        ^</span>
<a name="l3783"><span class="linenum">3783</span></a>  <span class="comment"> *    $ctxjoin = &quot;LEFT JOIN {context} ctx ON (ctx.instanceid = c.id AND ctx.contextlevel = :contextlevel)&quot;;</span>
<a name="l3784"><span class="linenum">3784</span></a>  <span class="comment"> *                                    ^       ^                ^        ^</span>
<a name="l3785"><span class="linenum">3785</span></a>  <span class="comment"> *    $params = array('contextlevel' =&gt; CONTEXT_COURSE);</span>
<a name="l3786"><span class="linenum">3786</span></a>  <span class="comment"> *                                      ^</span>
<a name="l3787"><span class="linenum">3787</span></a>  <span class="comment"> * @see context_helper:;get_preload_record_columns_sql()</span>
<a name="l3788"><span class="linenum">3788</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3789"><span class="linenum">3789</span></a>  <span class="comment"> * @param string $joinon for example 'u.id'</span>
<a name="l3790"><span class="linenum">3790</span></a>  <span class="comment"> * @param string $contextlevel context level of instance in $joinon</span>
<a name="l3791"><span class="linenum">3791</span></a>  <span class="comment"> * @param string $tablealias context table alias</span>
<a name="l3792"><span class="linenum">3792</span></a>  <span class="comment"> * @return array with two values - select and join part</span>
<a name="l3793"><span class="linenum">3793</span></a>  <span class="comment"> */</span>
<a name="l3794"><span class="linenum">3794</span></a>  function <a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>(<a class="var it25271" onMouseOver="hilite(25271)" onMouseOut="lolite()" onClick="logVariable('joinon')" href="../_variables/joinon.html">$joinon</a>, <a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>, <a class="var it10216" onMouseOver="hilite(10216)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a>) {
<a name="l3795"><span class="linenum">3795</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('context_instance_preload_sql')" href="../_functions/context_instance_preload_sql.html" onMouseOver="funcPopup(event,'context_instance_preload_sql')">context_instance_preload_sql</a>() is deprecated, please use <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>() instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3796"><span class="linenum">3796</span></a>      <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = &quot;, &quot; . <a class="class" onClick="logClass('context_helper')" href="../_classes/context_helper.html" onMouseOver="classPopup(event,'context_helper')">context_helper</a>::<a class="function" onClick="logFunction('get_preload_record_columns_sql')" href="../_functions/get_preload_record_columns_sql.html" onMouseOver="funcPopup(event,'get_preload_record_columns_sql')">get_preload_record_columns_sql</a>(<a class="var it10216" onMouseOver="hilite(10216)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a>);
<a name="l3797"><span class="linenum">3797</span></a>      <a class="var it6684" onMouseOver="hilite(6684)" onMouseOut="lolite()" onClick="logVariable('join')" href="../_variables/join.html">$join</a> = &quot;LEFT JOIN {context} <a class="var it10216" onMouseOver="hilite(10216)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a> <a class="function" onClick="logFunction('ON')" href="../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (<a class="var it10216" onMouseOver="hilite(10216)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a>.instanceid = <a class="var it25271" onMouseOver="hilite(25271)" onMouseOut="lolite()" onClick="logVariable('joinon')" href="../_variables/joinon.html">$joinon</a> AND <a class="var it10216" onMouseOver="hilite(10216)" onMouseOut="lolite()" onClick="logVariable('tablealias')" href="../_variables/tablealias.html">$tablealias</a>.contextlevel = <a class="var it1540" onMouseOver="hilite(1540)" onMouseOut="lolite()" onClick="logVariable('contextlevel')" href="../_variables/contextlevel.html">$contextlevel</a>)&quot;;
<a name="l3798"><span class="linenum">3798</span></a>      return array(<a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>, <a class="var it6684" onMouseOver="hilite(6684)" onMouseOut="lolite()" onClick="logVariable('join')" href="../_variables/join.html">$join</a>);
<a name="l3799"><span class="linenum">3799</span></a>  }
<a name="l3800"><span class="linenum">3800</span></a>  
<a name="l3801"><span class="linenum">3801</span></a>  <span class="comment">/**</span>
<a name="l3802"><span class="linenum">3802</span></a>  <span class="comment"> * Gets a string for sql calls, searching for stuff in this context or above.</span>
<a name="l3803"><span class="linenum">3803</span></a>  <span class="comment"> *</span>
<a name="l3804"><span class="linenum">3804</span></a>  <span class="comment"> * @deprecated since 2.2</span>
<a name="l3805"><span class="linenum">3805</span></a>  <span class="comment"> * @see context::get_parent_context_ids()</span>
<a name="l3806"><span class="linenum">3806</span></a>  <span class="comment"> * @param context $context</span>
<a name="l3807"><span class="linenum">3807</span></a>  <span class="comment"> * @return string</span>
<a name="l3808"><span class="linenum">3808</span></a>  <span class="comment"> */</span>
<a name="l3809"><span class="linenum">3809</span></a>  function <a class="function" onClick="logFunction('get_related_contexts_string')" href="../_functions/get_related_contexts_string.html" onMouseOver="funcPopup(event,'get_related_contexts_string')">get_related_contexts_string</a>(context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) {
<a name="l3810"><span class="linenum">3810</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_related_contexts_string')" href="../_functions/get_related_contexts_string.html" onMouseOver="funcPopup(event,'get_related_contexts_string')">get_related_contexts_string</a>() is deprecated, please use <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(true) instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3811"><span class="linenum">3811</span></a>      if (<a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a> = <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>()) {
<a name="l3812"><span class="linenum">3812</span></a>          return (' IN ('.<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>.','.<a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(',', <a class="var it1083" onMouseOver="hilite(1083)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../_variables/parents.html">$parents</a>).')');
<a name="l3813"><span class="linenum">3813</span></a>      } else {
<a name="l3814"><span class="linenum">3814</span></a>          return (' ='.<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l3815"><span class="linenum">3815</span></a>      }
<a name="l3816"><span class="linenum">3816</span></a>  }
<a name="l3817"><span class="linenum">3817</span></a>  
<a name="l3818"><span class="linenum">3818</span></a>  <span class="comment">/**</span>
<a name="l3819"><span class="linenum">3819</span></a>  <span class="comment"> * Get a list of all the plugins of a given type that contain a particular file.</span>
<a name="l3820"><span class="linenum">3820</span></a>  <span class="comment"> *</span>
<a name="l3821"><span class="linenum">3821</span></a>  <span class="comment"> * @param string $plugintype the type of plugin, e.g. 'mod' or 'report'.</span>
<a name="l3822"><span class="linenum">3822</span></a>  <span class="comment"> * @param string $file the name of file that must be present in the plugin.</span>
<a name="l3823"><span class="linenum">3823</span></a>  <span class="comment"> *      (e.g. 'view.php', 'db/install.xml').</span>
<a name="l3824"><span class="linenum">3824</span></a>  <span class="comment"> * @param bool $include if true (default false), the file will be include_once-ed if found.</span>
<a name="l3825"><span class="linenum">3825</span></a>  <span class="comment"> * @return array with plugin name as keys (e.g. 'forum', 'courselist') and the path</span>
<a name="l3826"><span class="linenum">3826</span></a>  <span class="comment"> *      to the file relative to dirroot as value (e.g. &quot;$CFG-&gt;dirroot/mod/forum/view.php&quot;).</span>
<a name="l3827"><span class="linenum">3827</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3828"><span class="linenum">3828</span></a>  <span class="comment"> * @see core_component::get_plugin_list_with_file()</span>
<a name="l3829"><span class="linenum">3829</span></a>  <span class="comment"> */</span>
<a name="l3830"><span class="linenum">3830</span></a>  function <a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it15554" onMouseOver="hilite(15554)" onMouseOut="lolite()" onClick="logVariable('include')" href="../_variables/include.html">$include</a> = false) {
<a name="l3831"><span class="linenum">3831</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>() is deprecated, please use <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>() instead.',
<a name="l3832"><span class="linenum">3832</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3833"><span class="linenum">3833</span></a>      return <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>, <a class="var it15554" onMouseOver="hilite(15554)" onMouseOut="lolite()" onClick="logVariable('include')" href="../_variables/include.html">$include</a>);
<a name="l3834"><span class="linenum">3834</span></a>  }
<a name="l3835"><span class="linenum">3835</span></a>  
<a name="l3836"><span class="linenum">3836</span></a>  <span class="comment">/**</span>
<a name="l3837"><span class="linenum">3837</span></a>  <span class="comment"> * Checks to see if is the browser operating system matches the specified brand.</span>
<a name="l3838"><span class="linenum">3838</span></a>  <span class="comment"> *</span>
<a name="l3839"><span class="linenum">3839</span></a>  <span class="comment"> * Known brand: 'Windows','Linux','Macintosh','SGI','SunOS','HP-UX'</span>
<a name="l3840"><span class="linenum">3840</span></a>  <span class="comment"> *</span>
<a name="l3841"><span class="linenum">3841</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3842"><span class="linenum">3842</span></a>  <span class="comment"> * @param string $brand The operating system identifier being tested</span>
<a name="l3843"><span class="linenum">3843</span></a>  <span class="comment"> * @return bool true if the given brand below to the detected operating system</span>
<a name="l3844"><span class="linenum">3844</span></a>  <span class="comment"> */</span>
<a name="l3845"><span class="linenum">3845</span></a>  function <a class="function" onClick="logFunction('check_browser_operating_system')" href="../_functions/check_browser_operating_system.html" onMouseOver="funcPopup(event,'check_browser_operating_system')">check_browser_operating_system</a>(<a class="var it7024" onMouseOver="hilite(7024)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>) {
<a name="l3846"><span class="linenum">3846</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('check_browser_operating_system has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3847"><span class="linenum">3847</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('check_browser_operating_system')" href="../_functions/check_browser_operating_system.html" onMouseOver="funcPopup(event,'check_browser_operating_system')">check_browser_operating_system</a>(<a class="var it7024" onMouseOver="hilite(7024)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>);
<a name="l3848"><span class="linenum">3848</span></a>  }
<a name="l3849"><span class="linenum">3849</span></a>  
<a name="l3850"><span class="linenum">3850</span></a>  <span class="comment">/**</span>
<a name="l3851"><span class="linenum">3851</span></a>  <span class="comment"> * Checks to see if is a browser matches the specified</span>
<a name="l3852"><span class="linenum">3852</span></a>  <span class="comment"> * brand and is equal or better version.</span>
<a name="l3853"><span class="linenum">3853</span></a>  <span class="comment"> *</span>
<a name="l3854"><span class="linenum">3854</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3855"><span class="linenum">3855</span></a>  <span class="comment"> * @param string $brand The browser identifier being tested</span>
<a name="l3856"><span class="linenum">3856</span></a>  <span class="comment"> * @param int $version The version of the browser, if not specified any version (except 5.5 for IE for BC reasons)</span>
<a name="l3857"><span class="linenum">3857</span></a>  <span class="comment"> * @return bool true if the given version is below that of the detected browser</span>
<a name="l3858"><span class="linenum">3858</span></a>  <span class="comment"> */</span>
<a name="l3859"><span class="linenum">3859</span></a>  function <a class="function" onClick="logFunction('check_browser_version')" href="../_functions/check_browser_version.html" onMouseOver="funcPopup(event,'check_browser_version')">check_browser_version</a>(<a class="var it7024" onMouseOver="hilite(7024)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = null) {
<a name="l3860"><span class="linenum">3860</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('check_browser_version has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3861"><span class="linenum">3861</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('check_browser_version')" href="../_functions/check_browser_version.html" onMouseOver="funcPopup(event,'check_browser_version')">check_browser_version</a>(<a class="var it7024" onMouseOver="hilite(7024)" onMouseOut="lolite()" onClick="logVariable('brand')" href="../_variables/brand.html">$brand</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l3862"><span class="linenum">3862</span></a>  }
<a name="l3863"><span class="linenum">3863</span></a>  
<a name="l3864"><span class="linenum">3864</span></a>  <span class="comment">/**</span>
<a name="l3865"><span class="linenum">3865</span></a>  <span class="comment"> * Returns whether a device/browser combination is mobile, tablet, legacy, default or the result of</span>
<a name="l3866"><span class="linenum">3866</span></a>  <span class="comment"> * an optional admin specified regular expression.  If enabledevicedetection is set to no or not set</span>
<a name="l3867"><span class="linenum">3867</span></a>  <span class="comment"> * it returns default</span>
<a name="l3868"><span class="linenum">3868</span></a>  <span class="comment"> *</span>
<a name="l3869"><span class="linenum">3869</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3870"><span class="linenum">3870</span></a>  <span class="comment"> * @return string device type</span>
<a name="l3871"><span class="linenum">3871</span></a>  <span class="comment"> */</span>
<a name="l3872"><span class="linenum">3872</span></a>  function <a class="function" onClick="logFunction('get_device_type')" href="../_functions/get_device_type.html" onMouseOver="funcPopup(event,'get_device_type')">get_device_type</a>() {
<a name="l3873"><span class="linenum">3873</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_device_type has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3874"><span class="linenum">3874</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_device_type')" href="../_functions/get_device_type.html" onMouseOver="funcPopup(event,'get_device_type')">get_device_type</a>();
<a name="l3875"><span class="linenum">3875</span></a>  }
<a name="l3876"><span class="linenum">3876</span></a>  
<a name="l3877"><span class="linenum">3877</span></a>  <span class="comment">/**</span>
<a name="l3878"><span class="linenum">3878</span></a>  <span class="comment"> * Returns a list of the device types supporting by Moodle</span>
<a name="l3879"><span class="linenum">3879</span></a>  <span class="comment"> *</span>
<a name="l3880"><span class="linenum">3880</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3881"><span class="linenum">3881</span></a>  <span class="comment"> * @param boolean $incusertypes includes types specified using the devicedetectregex admin setting</span>
<a name="l3882"><span class="linenum">3882</span></a>  <span class="comment"> * @return array $types</span>
<a name="l3883"><span class="linenum">3883</span></a>  <span class="comment"> */</span>
<a name="l3884"><span class="linenum">3884</span></a>  function <a class="function" onClick="logFunction('get_device_type_list')" href="../_functions/get_device_type_list.html" onMouseOver="funcPopup(event,'get_device_type_list')">get_device_type_list</a>(<a class="var it25272" onMouseOver="hilite(25272)" onMouseOut="lolite()" onClick="logVariable('incusertypes')" href="../_variables/incusertypes.html">$incusertypes</a> = true) {
<a name="l3885"><span class="linenum">3885</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_device_type_list has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3886"><span class="linenum">3886</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_device_type_list')" href="../_functions/get_device_type_list.html" onMouseOver="funcPopup(event,'get_device_type_list')">get_device_type_list</a>(<a class="var it25272" onMouseOver="hilite(25272)" onMouseOut="lolite()" onClick="logVariable('incusertypes')" href="../_variables/incusertypes.html">$incusertypes</a>);
<a name="l3887"><span class="linenum">3887</span></a>  }
<a name="l3888"><span class="linenum">3888</span></a>  
<a name="l3889"><span class="linenum">3889</span></a>  <span class="comment">/**</span>
<a name="l3890"><span class="linenum">3890</span></a>  <span class="comment"> * Returns the theme selected for a particular device or false if none selected.</span>
<a name="l3891"><span class="linenum">3891</span></a>  <span class="comment"> *</span>
<a name="l3892"><span class="linenum">3892</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3893"><span class="linenum">3893</span></a>  <span class="comment"> * @param string $devicetype</span>
<a name="l3894"><span class="linenum">3894</span></a>  <span class="comment"> * @return string|false The name of the theme to use for the device or the false if not set</span>
<a name="l3895"><span class="linenum">3895</span></a>  <span class="comment"> */</span>
<a name="l3896"><span class="linenum">3896</span></a>  function <a class="function" onClick="logFunction('get_selected_theme_for_device_type')" href="../_functions/get_selected_theme_for_device_type.html" onMouseOver="funcPopup(event,'get_selected_theme_for_device_type')">get_selected_theme_for_device_type</a>(<a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = null) {
<a name="l3897"><span class="linenum">3897</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_selected_theme_for_device_type has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3898"><span class="linenum">3898</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_device_type_theme')" href="../_functions/get_device_type_theme.html" onMouseOver="funcPopup(event,'get_device_type_theme')">get_device_type_theme</a>(<a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a>);
<a name="l3899"><span class="linenum">3899</span></a>  }
<a name="l3900"><span class="linenum">3900</span></a>  
<a name="l3901"><span class="linenum">3901</span></a>  <span class="comment">/**</span>
<a name="l3902"><span class="linenum">3902</span></a>  <span class="comment"> * Returns the name of the device type theme var in $CFG because there is not a convention to allow backwards compatibility.</span>
<a name="l3903"><span class="linenum">3903</span></a>  <span class="comment"> *</span>
<a name="l3904"><span class="linenum">3904</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3905"><span class="linenum">3905</span></a>  <span class="comment"> * @param string $devicetype</span>
<a name="l3906"><span class="linenum">3906</span></a>  <span class="comment"> * @return string The config variable to use to determine the theme</span>
<a name="l3907"><span class="linenum">3907</span></a>  <span class="comment"> */</span>
<a name="l3908"><span class="linenum">3908</span></a>  function <a class="function" onClick="logFunction('get_device_cfg_var_name')" href="../_functions/get_device_cfg_var_name.html" onMouseOver="funcPopup(event,'get_device_cfg_var_name')">get_device_cfg_var_name</a>(<a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a> = null) {
<a name="l3909"><span class="linenum">3909</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_device_cfg_var_name has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3910"><span class="linenum">3910</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_device_type_cfg_var_name')" href="../_functions/get_device_type_cfg_var_name.html" onMouseOver="funcPopup(event,'get_device_type_cfg_var_name')">get_device_type_cfg_var_name</a>(<a class="var it4455" onMouseOver="hilite(4455)" onMouseOut="lolite()" onClick="logVariable('devicetype')" href="../_variables/devicetype.html">$devicetype</a>);
<a name="l3911"><span class="linenum">3911</span></a>  }
<a name="l3912"><span class="linenum">3912</span></a>  
<a name="l3913"><span class="linenum">3913</span></a>  <span class="comment">/**</span>
<a name="l3914"><span class="linenum">3914</span></a>  <span class="comment"> * Allows the user to switch the device they are seeing the theme for.</span>
<a name="l3915"><span class="linenum">3915</span></a>  <span class="comment"> * This allows mobile users to switch back to the default theme, or theme for any other device.</span>
<a name="l3916"><span class="linenum">3916</span></a>  <span class="comment"> *</span>
<a name="l3917"><span class="linenum">3917</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3918"><span class="linenum">3918</span></a>  <span class="comment"> * @param string $newdevice The device the user is currently using.</span>
<a name="l3919"><span class="linenum">3919</span></a>  <span class="comment"> * @return string The device the user has switched to</span>
<a name="l3920"><span class="linenum">3920</span></a>  <span class="comment"> */</span>
<a name="l3921"><span class="linenum">3921</span></a>  function <a class="function" onClick="logFunction('set_user_device_type')" href="../_functions/set_user_device_type.html" onMouseOver="funcPopup(event,'set_user_device_type')">set_user_device_type</a>(<a class="var it7023" onMouseOver="hilite(7023)" onMouseOut="lolite()" onClick="logVariable('newdevice')" href="../_variables/newdevice.html">$newdevice</a>) {
<a name="l3922"><span class="linenum">3922</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('set_user_device_type has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3923"><span class="linenum">3923</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('set_user_device_type')" href="../_functions/set_user_device_type.html" onMouseOver="funcPopup(event,'set_user_device_type')">set_user_device_type</a>(<a class="var it7023" onMouseOver="hilite(7023)" onMouseOut="lolite()" onClick="logVariable('newdevice')" href="../_variables/newdevice.html">$newdevice</a>);
<a name="l3924"><span class="linenum">3924</span></a>  }
<a name="l3925"><span class="linenum">3925</span></a>  
<a name="l3926"><span class="linenum">3926</span></a>  <span class="comment">/**</span>
<a name="l3927"><span class="linenum">3927</span></a>  <span class="comment"> * Returns the device the user is currently using, or if the user has chosen to switch devices</span>
<a name="l3928"><span class="linenum">3928</span></a>  <span class="comment"> * for the current device type the type they have switched to.</span>
<a name="l3929"><span class="linenum">3929</span></a>  <span class="comment"> *</span>
<a name="l3930"><span class="linenum">3930</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3931"><span class="linenum">3931</span></a>  <span class="comment"> * @return string The device the user is currently using or wishes to use</span>
<a name="l3932"><span class="linenum">3932</span></a>  <span class="comment"> */</span>
<a name="l3933"><span class="linenum">3933</span></a>  function <a class="function" onClick="logFunction('get_user_device_type')" href="../_functions/get_user_device_type.html" onMouseOver="funcPopup(event,'get_user_device_type')">get_user_device_type</a>() {
<a name="l3934"><span class="linenum">3934</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_user_device_type has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3935"><span class="linenum">3935</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_user_device_type')" href="../_functions/get_user_device_type.html" onMouseOver="funcPopup(event,'get_user_device_type')">get_user_device_type</a>();
<a name="l3936"><span class="linenum">3936</span></a>  }
<a name="l3937"><span class="linenum">3937</span></a>  
<a name="l3938"><span class="linenum">3938</span></a>  <span class="comment">/**</span>
<a name="l3939"><span class="linenum">3939</span></a>  <span class="comment"> * Returns one or several CSS class names that match the user's browser. These can be put</span>
<a name="l3940"><span class="linenum">3940</span></a>  <span class="comment"> * in the body tag of the page to apply browser-specific rules without relying on CSS hacks</span>
<a name="l3941"><span class="linenum">3941</span></a>  <span class="comment"> *</span>
<a name="l3942"><span class="linenum">3942</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3943"><span class="linenum">3943</span></a>  <span class="comment"> * @return array An array of browser version classes</span>
<a name="l3944"><span class="linenum">3944</span></a>  <span class="comment"> */</span>
<a name="l3945"><span class="linenum">3945</span></a>  function <a class="function" onClick="logFunction('get_browser_version_classes')" href="../_functions/get_browser_version_classes.html" onMouseOver="funcPopup(event,'get_browser_version_classes')">get_browser_version_classes</a>() {
<a name="l3946"><span class="linenum">3946</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('get_browser_version_classes has been deprecated, please update your code to use core_useragent instead.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3947"><span class="linenum">3947</span></a>      return <a class="class" onClick="logClass('core_useragent')" href="../_classes/core_useragent.html" onMouseOver="classPopup(event,'core_useragent')">core_useragent</a>::<a class="function" onClick="logFunction('get_browser_version_classes')" href="../_functions/get_browser_version_classes.html" onMouseOver="funcPopup(event,'get_browser_version_classes')">get_browser_version_classes</a>();
<a name="l3948"><span class="linenum">3948</span></a>  }
<a name="l3949"><span class="linenum">3949</span></a>  
<a name="l3950"><span class="linenum">3950</span></a>  <span class="comment">/**</span>
<a name="l3951"><span class="linenum">3951</span></a>  <span class="comment"> * Generate a fake user for emails based on support settings</span>
<a name="l3952"><span class="linenum">3952</span></a>  <span class="comment"> *</span>
<a name="l3953"><span class="linenum">3953</span></a>  <span class="comment"> * @deprecated since Moodle 2.6</span>
<a name="l3954"><span class="linenum">3954</span></a>  <span class="comment"> * @see core_user::get_support_user()</span>
<a name="l3955"><span class="linenum">3955</span></a>  <span class="comment"> * @return stdClass user info</span>
<a name="l3956"><span class="linenum">3956</span></a>  <span class="comment"> */</span>
<a name="l3957"><span class="linenum">3957</span></a>  function <a class="function" onClick="logFunction('generate_email_supportuser')" href="../_functions/generate_email_supportuser.html" onMouseOver="funcPopup(event,'generate_email_supportuser')">generate_email_supportuser</a>() {
<a name="l3958"><span class="linenum">3958</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('generate_email_supportuser is deprecated, please use <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::get_support_user');
<a name="l3959"><span class="linenum">3959</span></a>      return <a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>::<a class="function" onClick="logFunction('get_support_user')" href="../_functions/get_support_user.html" onMouseOver="funcPopup(event,'get_support_user')">get_support_user</a>();
<a name="l3960"><span class="linenum">3960</span></a>  }
<a name="l3961"><span class="linenum">3961</span></a>  
<a name="l3962"><span class="linenum">3962</span></a>  <span class="comment">/**</span>
<a name="l3963"><span class="linenum">3963</span></a>  <span class="comment"> * Get issued badge details for assertion URL</span>
<a name="l3964"><span class="linenum">3964</span></a>  <span class="comment"> *</span>
<a name="l3965"><span class="linenum">3965</span></a>  <span class="comment"> * @deprecated since Moodle 2.6</span>
<a name="l3966"><span class="linenum">3966</span></a>  <span class="comment"> * @param string $hash Unique hash of a badge</span>
<a name="l3967"><span class="linenum">3967</span></a>  <span class="comment"> * @return array Information about issued badge.</span>
<a name="l3968"><span class="linenum">3968</span></a>  <span class="comment"> */</span>
<a name="l3969"><span class="linenum">3969</span></a>  function <a class="function" onClick="logFunction('badges_get_issued_badge_info')" href="../_functions/badges_get_issued_badge_info.html" onMouseOver="funcPopup(event,'badges_get_issued_badge_info')">badges_get_issued_badge_info</a>(<a class="var it6788" onMouseOver="hilite(6788)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../_variables/hash.html">$hash</a>) {
<a name="l3970"><span class="linenum">3970</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('badges_get_issued_badge_info')" href="../_functions/badges_get_issued_badge_info.html" onMouseOver="funcPopup(event,'badges_get_issued_badge_info')">badges_get_issued_badge_info</a>() is deprecated. Please use core_badges_assertion class and methods to generate badge assertion.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3971"><span class="linenum">3971</span></a>      <a class="var it11709" onMouseOver="hilite(11709)" onMouseOut="lolite()" onClick="logVariable('assertion')" href="../_variables/assertion.html">$assertion</a> = <span class="keyword">new </span><a class="class" onClick="logClass('core_badges_assertion')" href="../_classes/core_badges_assertion.html" onMouseOver="classPopup(event,'core_badges_assertion')">core_badges_assertion</a>(<a class="var it6788" onMouseOver="hilite(6788)" onMouseOut="lolite()" onClick="logVariable('hash')" href="../_variables/hash.html">$hash</a>);
<a name="l3972"><span class="linenum">3972</span></a>      return <a class="var it11709" onMouseOver="hilite(11709)" onMouseOut="lolite()" onClick="logVariable('assertion')" href="../_variables/assertion.html">$assertion</a>-&gt;<a class="function" onClick="logFunction('get_badge_assertion')" href="../_functions/get_badge_assertion.html" onMouseOver="funcPopup(event,'get_badge_assertion')">get_badge_assertion</a>();
<a name="l3973"><span class="linenum">3973</span></a>  }
<a name="l3974"><span class="linenum">3974</span></a>  
<a name="l3975"><span class="linenum">3975</span></a>  <span class="comment">/**</span>
<a name="l3976"><span class="linenum">3976</span></a>  <span class="comment"> * Does the user want and can edit using rich text html editor?</span>
<a name="l3977"><span class="linenum">3977</span></a>  <span class="comment"> * This function does not make sense anymore because a user can directly choose their preferred editor.</span>
<a name="l3978"><span class="linenum">3978</span></a>  <span class="comment"> *</span>
<a name="l3979"><span class="linenum">3979</span></a>  <span class="comment"> * @deprecated since 2.6</span>
<a name="l3980"><span class="linenum">3980</span></a>  <span class="comment"> * @return bool</span>
<a name="l3981"><span class="linenum">3981</span></a>  <span class="comment"> */</span>
<a name="l3982"><span class="linenum">3982</span></a>  function <a class="function" onClick="logFunction('can_use_html_editor')" href="../_functions/can_use_html_editor.html" onMouseOver="funcPopup(event,'can_use_html_editor')">can_use_html_editor</a>() {
<a name="l3983"><span class="linenum">3983</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('can_use_html_editor has been deprecated please update your code to assume it returns true.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l3984"><span class="linenum">3984</span></a>      return true;
<a name="l3985"><span class="linenum">3985</span></a>  }
<a name="l3986"><span class="linenum">3986</span></a>  
<a name="l3987"><span class="linenum">3987</span></a>  
<a name="l3988"><span class="linenum">3988</span></a>  <span class="comment">/**</span>
<a name="l3989"><span class="linenum">3989</span></a>  <span class="comment"> * Returns an object with counts of failed login attempts.</span>
<a name="l3990"><span class="linenum">3990</span></a>  <span class="comment"> *</span>
<a name="l3991"><span class="linenum">3991</span></a>  <span class="comment"> * @deprecated since Moodle 2.7, use {@link user_count_login_failures()} instead.</span>
<a name="l3992"><span class="linenum">3992</span></a>  <span class="comment"> */</span>
<a name="l3993"><span class="linenum">3993</span></a>  function <a class="function" onClick="logFunction('count_login_failures')" href="../_functions/count_login_failures.html" onMouseOver="funcPopup(event,'count_login_failures')">count_login_failures</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, <a class="var it463" onMouseOver="hilite(463)" onMouseOut="lolite()" onClick="logVariable('username')" href="../_variables/username.html">$username</a>, <a class="var it12951" onMouseOver="hilite(12951)" onMouseOut="lolite()" onClick="logVariable('lastlogin')" href="../_variables/lastlogin.html">$lastlogin</a>) {
<a name="l3994"><span class="linenum">3994</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('count_login_failures')" href="../_functions/count_login_failures.html" onMouseOver="funcPopup(event,'count_login_failures')">count_login_failures</a>() can not be used any more, please use <a class="function" onClick="logFunction('user_count_login_failures')" href="../_functions/user_count_login_failures.html" onMouseOver="funcPopup(event,'user_count_login_failures')">user_count_login_failures</a>().');
<a name="l3995"><span class="linenum">3995</span></a>  }
<a name="l3996"><span class="linenum">3996</span></a>  
<a name="l3997"><span class="linenum">3997</span></a>  <span class="comment">/**</span>
<a name="l3998"><span class="linenum">3998</span></a>  <span class="comment"> * It should no longer be required to work without JavaScript enabled.</span>
<a name="l3999"><span class="linenum">3999</span></a>  <span class="comment"> *</span>
<a name="l4000"><span class="linenum">4000</span></a>  <span class="comment"> * @deprecated since 2.7 MDL-33099/MDL-44088 - please do not use this function any more.</span>
<a name="l4001"><span class="linenum">4001</span></a>  <span class="comment"> */</span>
<a name="l4002"><span class="linenum">4002</span></a>  function <a class="function" onClick="logFunction('ajaxenabled')" href="../_functions/ajaxenabled.html" onMouseOver="funcPopup(event,'ajaxenabled')">ajaxenabled</a>(array <a class="var it12280" onMouseOver="hilite(12280)" onMouseOut="lolite()" onClick="logVariable('browsers')" href="../_variables/browsers.html">$browsers</a> = null) {
<a name="l4003"><span class="linenum">4003</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('ajaxenabled')" href="../_functions/ajaxenabled.html" onMouseOver="funcPopup(event,'ajaxenabled')">ajaxenabled</a>() can not be used anymore. Update your code to work with JS at all times.');
<a name="l4004"><span class="linenum">4004</span></a>  }
<a name="l4005"><span class="linenum">4005</span></a>  
<a name="l4006"><span class="linenum">4006</span></a>  <span class="comment">/**</span>
<a name="l4007"><span class="linenum">4007</span></a>  <span class="comment"> * Determine whether a course module is visible within a course.</span>
<a name="l4008"><span class="linenum">4008</span></a>  <span class="comment"> *</span>
<a name="l4009"><span class="linenum">4009</span></a>  <span class="comment"> * @deprecated Since Moodle 2.7 MDL-44070</span>
<a name="l4010"><span class="linenum">4010</span></a>  <span class="comment"> */</span>
<a name="l4011"><span class="linenum">4011</span></a>  function <a class="function" onClick="logFunction('coursemodule_visible_for_user')" href="../_functions/coursemodule_visible_for_user.html" onMouseOver="funcPopup(event,'coursemodule_visible_for_user')">coursemodule_visible_for_user</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../_variables/cm.html">$cm</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0) {
<a name="l4012"><span class="linenum">4012</span></a>      throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="function" onClick="logFunction('coursemodule_visible_for_user')" href="../_functions/coursemodule_visible_for_user.html" onMouseOver="funcPopup(event,'coursemodule_visible_for_user')">coursemodule_visible_for_user</a>() can not be used any more,
<a name="l4013"><span class="linenum">4013</span></a>              please use \core_availability\<a class="class" onClick="logClass('info_module')" href="../_classes/info_module.html" onMouseOver="classPopup(event,'info_module')">info_module</a>::<a class="function" onClick="logFunction('is_user_visible')" href="../_functions/is_user_visible.html" onMouseOver="funcPopup(event,'is_user_visible')">is_user_visible</a>()');
<a name="l4014"><span class="linenum">4014</span></a>  }
<a name="l4015"><span class="linenum">4015</span></a>  
<a name="l4016"><span class="linenum">4016</span></a>  <span class="comment">/**</span>
<a name="l4017"><span class="linenum">4017</span></a>  <span class="comment"> * Gets all the cohorts the user is able to view.</span>
<a name="l4018"><span class="linenum">4018</span></a>  <span class="comment"> *</span>
<a name="l4019"><span class="linenum">4019</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014, MDL-35618 this functionality is removed</span>
<a name="l4020"><span class="linenum">4020</span></a>  <span class="comment"> *</span>
<a name="l4021"><span class="linenum">4021</span></a>  <span class="comment"> * @param course_enrolment_manager $manager</span>
<a name="l4022"><span class="linenum">4022</span></a>  <span class="comment"> * @return array</span>
<a name="l4023"><span class="linenum">4023</span></a>  <span class="comment"> */</span>
<a name="l4024"><span class="linenum">4024</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_get_cohorts')" href="../_functions/enrol_cohort_get_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_get_cohorts')">enrol_cohort_get_cohorts</a>(course_enrolment_manager <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>) {
<a name="l4025"><span class="linenum">4025</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4026"><span class="linenum">4026</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('enrol_cohort_get_cohorts')" href="../_functions/enrol_cohort_get_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_get_cohorts')">enrol_cohort_get_cohorts</a>() is deprecated, use <a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>() or '.
<a name="l4027"><span class="linenum">4027</span></a>          '<a class="function" onClick="logFunction('cohort_get_available_cohorts')" href="../_functions/cohort_get_available_cohorts.html" onMouseOver="funcPopup(event,'cohort_get_available_cohorts')">cohort_get_available_cohorts</a>() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4028"><span class="linenum">4028</span></a>      return <a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>(<a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, 0, 0, '');
<a name="l4029"><span class="linenum">4029</span></a>  }
<a name="l4030"><span class="linenum">4030</span></a>  
<a name="l4031"><span class="linenum">4031</span></a>  <span class="comment">/**</span>
<a name="l4032"><span class="linenum">4032</span></a>  <span class="comment"> * Check if cohort exists and user is allowed to enrol it.</span>
<a name="l4033"><span class="linenum">4033</span></a>  <span class="comment"> *</span>
<a name="l4034"><span class="linenum">4034</span></a>  <span class="comment"> * This function is deprecated, use {@link cohort_can_view_cohort()} instead since it also</span>
<a name="l4035"><span class="linenum">4035</span></a>  <span class="comment"> * takes into account current context</span>
<a name="l4036"><span class="linenum">4036</span></a>  <span class="comment"> *</span>
<a name="l4037"><span class="linenum">4037</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014 please use cohort_can_view_cohort()</span>
<a name="l4038"><span class="linenum">4038</span></a>  <span class="comment"> *</span>
<a name="l4039"><span class="linenum">4039</span></a>  <span class="comment"> * @param int $cohortid Cohort ID</span>
<a name="l4040"><span class="linenum">4040</span></a>  <span class="comment"> * @return boolean</span>
<a name="l4041"><span class="linenum">4041</span></a>  <span class="comment"> */</span>
<a name="l4042"><span class="linenum">4042</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_can_view_cohort')" href="../_functions/enrol_cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'enrol_cohort_can_view_cohort')">enrol_cohort_can_view_cohort</a>(<a class="var it11016" onMouseOver="hilite(11016)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>) {
<a name="l4043"><span class="linenum">4043</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4044"><span class="linenum">4044</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../cohort/lib.php.html">/cohort/lib.php</a>');
<a name="l4045"><span class="linenum">4045</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('enrol_cohort_can_view_cohort')" href="../_functions/enrol_cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'enrol_cohort_can_view_cohort')">enrol_cohort_can_view_cohort</a>() is deprecated, use <a class="function" onClick="logFunction('cohort_can_view_cohort')" href="../_functions/cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'cohort_can_view_cohort')">cohort_can_view_cohort</a>() instead',
<a name="l4046"><span class="linenum">4046</span></a>          <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4047"><span class="linenum">4047</span></a>      return <a class="function" onClick="logFunction('cohort_can_view_cohort')" href="../_functions/cohort_can_view_cohort.html" onMouseOver="funcPopup(event,'cohort_can_view_cohort')">cohort_can_view_cohort</a>(<a class="var it11016" onMouseOver="hilite(11016)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, null);
<a name="l4048"><span class="linenum">4048</span></a>  }
<a name="l4049"><span class="linenum">4049</span></a>  
<a name="l4050"><span class="linenum">4050</span></a>  <span class="comment">/**</span>
<a name="l4051"><span class="linenum">4051</span></a>  <span class="comment"> * Returns list of cohorts from course parent contexts.</span>
<a name="l4052"><span class="linenum">4052</span></a>  <span class="comment"> *</span>
<a name="l4053"><span class="linenum">4053</span></a>  <span class="comment"> * Note: this function does not implement any capability checks,</span>
<a name="l4054"><span class="linenum">4054</span></a>  <span class="comment"> *       it means it may disclose existence of cohorts,</span>
<a name="l4055"><span class="linenum">4055</span></a>  <span class="comment"> *       make sure it is displayed to users with appropriate rights only.</span>
<a name="l4056"><span class="linenum">4056</span></a>  <span class="comment"> *</span>
<a name="l4057"><span class="linenum">4057</span></a>  <span class="comment"> * It is advisable to use {@link cohort_get_available_cohorts()} instead.</span>
<a name="l4058"><span class="linenum">4058</span></a>  <span class="comment"> *</span>
<a name="l4059"><span class="linenum">4059</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-36014 use cohort_get_available_cohorts() instead</span>
<a name="l4060"><span class="linenum">4060</span></a>  <span class="comment"> *</span>
<a name="l4061"><span class="linenum">4061</span></a>  <span class="comment"> * @param  stdClass $course</span>
<a name="l4062"><span class="linenum">4062</span></a>  <span class="comment"> * @param  bool $onlyenrolled true means include only cohorts with enrolled users</span>
<a name="l4063"><span class="linenum">4063</span></a>  <span class="comment"> * @return array of cohort names with number of enrolled users</span>
<a name="l4064"><span class="linenum">4064</span></a>  <span class="comment"> */</span>
<a name="l4065"><span class="linenum">4065</span></a>  function <a class="function" onClick="logFunction('cohort_get_visible_list')" href="../_functions/cohort_get_visible_list.html" onMouseOver="funcPopup(event,'cohort_get_visible_list')">cohort_get_visible_list</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>, <a class="var it21465" onMouseOver="hilite(21465)" onMouseOut="lolite()" onClick="logVariable('onlyenrolled')" href="../_variables/onlyenrolled.html">$onlyenrolled</a>=true) {
<a name="l4066"><span class="linenum">4066</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4067"><span class="linenum">4067</span></a>  
<a name="l4068"><span class="linenum">4068</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Function <a class="function" onClick="logFunction('cohort_get_visible_list')" href="../_functions/cohort_get_visible_list.html" onMouseOver="funcPopup(event,'cohort_get_visible_list')">cohort_get_visible_list</a>() is deprecated. Please use function <a class="function" onClick="logFunction('cohort_get_available_cohorts')" href="../_functions/cohort_get_available_cohorts.html" onMouseOver="funcPopup(event,'cohort_get_available_cohorts')">cohort_get_available_cohorts</a>() &quot;.
<a name="l4069"><span class="linenum">4069</span></a>          &quot;that correctly checks capabilities.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4070"><span class="linenum">4070</span></a>  
<a name="l4071"><span class="linenum">4071</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l4072"><span class="linenum">4072</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it9245" onMouseOver="hilite(9245)" onMouseOut="lolite()" onClick="logVariable('esql')" href="../_variables/esql.html">$esql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>) = <a class="function" onClick="logFunction('get_enrolled_sql')" href="../_functions/get_enrolled_sql.html" onMouseOver="funcPopup(event,'get_enrolled_sql')">get_enrolled_sql</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l4073"><span class="linenum">4073</span></a>      <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it17794" onMouseOver="hilite(17794)" onMouseOut="lolite()" onClick="logVariable('parentsql')" href="../_variables/parentsql.html">$parentsql</a>, <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('params2')" href="../_variables/params2.html">$params2</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a class="function" onClick="logFunction('get_parent_context_ids')" href="../_functions/get_parent_context_ids.html" onMouseOver="funcPopup(event,'get_parent_context_ids')">get_parent_context_ids</a>(), <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l4074"><span class="linenum">4074</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('params2')" href="../_variables/params2.html">$params2</a>);
<a name="l4075"><span class="linenum">4075</span></a>  
<a name="l4076"><span class="linenum">4076</span></a>      if (<a class="var it21465" onMouseOver="hilite(21465)" onMouseOut="lolite()" onClick="logVariable('onlyenrolled')" href="../_variables/onlyenrolled.html">$onlyenrolled</a>) {
<a name="l4077"><span class="linenum">4077</span></a>          <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a> = &quot;&quot;;
<a name="l4078"><span class="linenum">4078</span></a>          <a class="var it25273" onMouseOver="hilite(25273)" onMouseOut="lolite()" onClick="logVariable('having')" href="../_variables/having.html">$having</a> = &quot;HAVING <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(u.id) &gt; 0&quot;;
<a name="l4079"><span class="linenum">4079</span></a>      } else {
<a name="l4080"><span class="linenum">4080</span></a>          <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a> = &quot;LEFT&quot;;
<a name="l4081"><span class="linenum">4081</span></a>          <a class="var it25273" onMouseOver="hilite(25273)" onMouseOut="lolite()" onClick="logVariable('having')" href="../_variables/having.html">$having</a> = &quot;&quot;;
<a name="l4082"><span class="linenum">4082</span></a>      }
<a name="l4083"><span class="linenum">4083</span></a>  
<a name="l4084"><span class="linenum">4084</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT c.id, c.name, c.contextid, c.idnumber, c.visible, <a class="phpfunction" onClick="logFunction('COUNT')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(u.id) AS cnt
<a name="l4085"><span class="linenum">4085</span></a>                FROM {cohort} c
<a name="l4086"><span class="linenum">4086</span></a>          <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a> <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> ({cohort_members} cm
<a name="l4087"><span class="linenum">4087</span></a>                     <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (<a class="var it9245" onMouseOver="hilite(9245)" onMouseOut="lolite()" onClick="logVariable('esql')" href="../_variables/esql.html">$esql</a>) u ON u.id = cm.userid) ON cm.cohortid = c.id
<a name="l4088"><span class="linenum">4088</span></a>               WHERE c.contextid <a class="var it17794" onMouseOver="hilite(17794)" onMouseOut="lolite()" onClick="logVariable('parentsql')" href="../_variables/parentsql.html">$parentsql</a>
<a name="l4089"><span class="linenum">4089</span></a>            GROUP BY c.id, c.name, c.contextid, c.idnumber, c.visible
<a name="l4090"><span class="linenum">4090</span></a>             <a class="var it25273" onMouseOver="hilite(25273)" onMouseOut="lolite()" onClick="logVariable('having')" href="../_variables/having.html">$having</a>
<a name="l4091"><span class="linenum">4091</span></a>            ORDER BY c.name, c.idnumber, c.visible&quot;;
<a name="l4092"><span class="linenum">4092</span></a>  
<a name="l4093"><span class="linenum">4093</span></a>      <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l4094"><span class="linenum">4094</span></a>  
<a name="l4095"><span class="linenum">4095</span></a>      foreach (<a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> as <a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>=&gt;<a class="var it8409" onMouseOver="hilite(8409)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>) {
<a name="l4096"><span class="linenum">4096</span></a>          <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>[<a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>] = <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it8409" onMouseOver="hilite(8409)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('name')" class="var it39836" onMouseOver="hilite(39836)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, true, array('context'=&gt;<a class="var it8409" onMouseOver="hilite(8409)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it39836" onMouseOver="hilite(39836)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>));
<a name="l4097"><span class="linenum">4097</span></a>          if (<a class="var it8409" onMouseOver="hilite(8409)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('cnt')" class="var it39836" onMouseOver="hilite(39836)" onMouseOut="lolite()" href="../_variables/cnt.html">cnt</a>) {
<a name="l4098"><span class="linenum">4098</span></a>              <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>[<a class="var it1730" onMouseOver="hilite(1730)" onMouseOut="lolite()" onClick="logVariable('cid')" href="../_variables/cid.html">$cid</a>] .= ' (' . <a class="var it8409" onMouseOver="hilite(8409)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('cnt')" class="var it39836" onMouseOver="hilite(39836)" onMouseOut="lolite()" href="../_variables/cnt.html">cnt</a> . ')';
<a name="l4099"><span class="linenum">4099</span></a>          }
<a name="l4100"><span class="linenum">4100</span></a>      }
<a name="l4101"><span class="linenum">4101</span></a>  
<a name="l4102"><span class="linenum">4102</span></a>      return <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>;
<a name="l4103"><span class="linenum">4103</span></a>  }
<a name="l4104"><span class="linenum">4104</span></a>  
<a name="l4105"><span class="linenum">4105</span></a>  <span class="comment">/**</span>
<a name="l4106"><span class="linenum">4106</span></a>  <span class="comment"> * Enrols all of the users in a cohort through a manual plugin instance.</span>
<a name="l4107"><span class="linenum">4107</span></a>  <span class="comment"> *</span>
<a name="l4108"><span class="linenum">4108</span></a>  <span class="comment"> * In order for this to succeed the course must contain a valid manual</span>
<a name="l4109"><span class="linenum">4109</span></a>  <span class="comment"> * enrolment plugin instance that the user has permission to enrol users through.</span>
<a name="l4110"><span class="linenum">4110</span></a>  <span class="comment"> *</span>
<a name="l4111"><span class="linenum">4111</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-35618 this functionality is removed</span>
<a name="l4112"><span class="linenum">4112</span></a>  <span class="comment"> *</span>
<a name="l4113"><span class="linenum">4113</span></a>  <span class="comment"> * @global moodle_database $DB</span>
<a name="l4114"><span class="linenum">4114</span></a>  <span class="comment"> * @param course_enrolment_manager $manager</span>
<a name="l4115"><span class="linenum">4115</span></a>  <span class="comment"> * @param int $cohortid</span>
<a name="l4116"><span class="linenum">4116</span></a>  <span class="comment"> * @param int $roleid</span>
<a name="l4117"><span class="linenum">4117</span></a>  <span class="comment"> * @return int</span>
<a name="l4118"><span class="linenum">4118</span></a>  <span class="comment"> */</span>
<a name="l4119"><span class="linenum">4119</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_enrol_all_users')" href="../_functions/enrol_cohort_enrol_all_users.html" onMouseOver="funcPopup(event,'enrol_cohort_enrol_all_users')">enrol_cohort_enrol_all_users</a>(course_enrolment_manager <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, <a class="var it11016" onMouseOver="hilite(11016)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>) {
<a name="l4120"><span class="linenum">4120</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l4121"><span class="linenum">4121</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('enrol_cohort_enrol_all_users')" href="../_functions/enrol_cohort_enrol_all_users.html" onMouseOver="funcPopup(event,'enrol_cohort_enrol_all_users')">enrol_cohort_enrol_all_users</a>() is deprecated. This functionality is moved to enrol_manual.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4122"><span class="linenum">4122</span></a>  
<a name="l4123"><span class="linenum">4123</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>();
<a name="l4124"><span class="linenum">4124</span></a>      <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/course:enrolconfig', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l4125"><span class="linenum">4125</span></a>  
<a name="l4126"><span class="linenum">4126</span></a>      <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a> = false;
<a name="l4127"><span class="linenum">4127</span></a>      <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('get_enrolment_instances')" href="../_functions/get_enrolment_instances.html" onMouseOver="funcPopup(event,'get_enrolment_instances')">get_enrolment_instances</a>();
<a name="l4128"><span class="linenum">4128</span></a>      foreach (<a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> as <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>) {
<a name="l4129"><span class="linenum">4129</span></a>          if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>-&gt;<a onClick="logVariable('enrol')" class="var it39687" onMouseOver="hilite(39687)" onMouseOut="lolite()" href="../_variables/enrol.html">enrol</a> == 'manual') {
<a name="l4130"><span class="linenum">4130</span></a>              <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a> = <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>;
<a name="l4131"><span class="linenum">4131</span></a>              break;
<a name="l4132"><span class="linenum">4132</span></a>          }
<a name="l4133"><span class="linenum">4133</span></a>      }
<a name="l4134"><span class="linenum">4134</span></a>      <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> = <a class="function" onClick="logFunction('enrol_get_plugin')" href="../_functions/enrol_get_plugin.html" onMouseOver="funcPopup(event,'enrol_get_plugin')">enrol_get_plugin</a>('manual');
<a name="l4135"><span class="linenum">4135</span></a>      if (!<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a> || !<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> || !<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('allow_enrol')" href="../_functions/allow_enrol.html" onMouseOver="funcPopup(event,'allow_enrol')">allow_enrol</a>(<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>) || !<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('enrol/'.<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>().':enrol', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l4136"><span class="linenum">4136</span></a>          return false;
<a name="l4137"><span class="linenum">4137</span></a>      }
<a name="l4138"><span class="linenum">4138</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a> = &quot;SELECT com.userid
<a name="l4139"><span class="linenum">4139</span></a>                FROM {cohort_members} com
<a name="l4140"><span class="linenum">4140</span></a>           LEFT <a class="function" onClick="logFunction('JOIN')" href="../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> (
<a name="l4141"><span class="linenum">4141</span></a>                  SELECT *
<a name="l4142"><span class="linenum">4142</span></a>                    FROM {user_enrolments} ue
<a name="l4143"><span class="linenum">4143</span></a>                   WHERE ue.enrolid = :enrolid
<a name="l4144"><span class="linenum">4144</span></a>                   ) ue ON ue.userid=com.userid
<a name="l4145"><span class="linenum">4145</span></a>               WHERE com.cohortid = :cohortid AND ue.id IS NULL&quot;;
<a name="l4146"><span class="linenum">4146</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array('cohortid' =&gt; <a class="var it11016" onMouseOver="hilite(11016)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, 'enrolid' =&gt; <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('id')" class="var it39530" onMouseOver="hilite(39530)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l4147"><span class="linenum">4147</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>);
<a name="l4148"><span class="linenum">4148</span></a>      <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = 0;
<a name="l4149"><span class="linenum">4149</span></a>      foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a> as <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) {
<a name="l4150"><span class="linenum">4150</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>++;
<a name="l4151"><span class="linenum">4151</span></a>          <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('userid')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>, <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('roleid')" href="../_variables/roleid.html">$roleid</a>);
<a name="l4152"><span class="linenum">4152</span></a>      }
<a name="l4153"><span class="linenum">4153</span></a>      <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l4154"><span class="linenum">4154</span></a>      return <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>;
<a name="l4155"><span class="linenum">4155</span></a>  }
<a name="l4156"><span class="linenum">4156</span></a>  
<a name="l4157"><span class="linenum">4157</span></a>  <span class="comment">/**</span>
<a name="l4158"><span class="linenum">4158</span></a>  <span class="comment"> * Gets cohorts the user is able to view.</span>
<a name="l4159"><span class="linenum">4159</span></a>  <span class="comment"> *</span>
<a name="l4160"><span class="linenum">4160</span></a>  <span class="comment"> * @deprecated since Moodle 2.8 MDL-35618 this functionality is removed</span>
<a name="l4161"><span class="linenum">4161</span></a>  <span class="comment"> *</span>
<a name="l4162"><span class="linenum">4162</span></a>  <span class="comment"> * @global moodle_database $DB</span>
<a name="l4163"><span class="linenum">4163</span></a>  <span class="comment"> * @param course_enrolment_manager $manager</span>
<a name="l4164"><span class="linenum">4164</span></a>  <span class="comment"> * @param int $offset limit output from</span>
<a name="l4165"><span class="linenum">4165</span></a>  <span class="comment"> * @param int $limit items to output per load</span>
<a name="l4166"><span class="linenum">4166</span></a>  <span class="comment"> * @param string $search search string</span>
<a name="l4167"><span class="linenum">4167</span></a>  <span class="comment"> * @return array    Array(more =&gt; bool, offset =&gt; int, cohorts =&gt; array)</span>
<a name="l4168"><span class="linenum">4168</span></a>  <span class="comment"> */</span>
<a name="l4169"><span class="linenum">4169</span></a>  function <a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>(course_enrolment_manager <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>, <a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../_variables/offset.html">$offset</a> = 0, <a class="var it589" onMouseOver="hilite(589)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../_variables/limit.html">$limit</a> = 25, <a class="var it1502" onMouseOver="hilite(1502)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a> = '') {
<a name="l4170"><span class="linenum">4170</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4171"><span class="linenum">4171</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('enrol_cohort_search_cohorts')" href="../_functions/enrol_cohort_search_cohorts.html" onMouseOver="funcPopup(event,'enrol_cohort_search_cohorts')">enrol_cohort_search_cohorts</a>() is deprecated. This functionality is moved to enrol_manual.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4172"><span class="linenum">4172</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../cohort/lib.php.html">/cohort/lib.php</a>');
<a name="l4173"><span class="linenum">4173</span></a>  
<a name="l4174"><span class="linenum">4174</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>();
<a name="l4175"><span class="linenum">4175</span></a>      <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> = array();
<a name="l4176"><span class="linenum">4176</span></a>      <a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> = <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('get_enrolment_instances')" href="../_functions/get_enrolment_instances.html" onMouseOver="funcPopup(event,'get_enrolment_instances')">get_enrolment_instances</a>();
<a name="l4177"><span class="linenum">4177</span></a>      <a class="var it23237" onMouseOver="hilite(23237)" onMouseOut="lolite()" onClick="logVariable('enrolled')" href="../_variables/enrolled.html">$enrolled</a> = array();
<a name="l4178"><span class="linenum">4178</span></a>      foreach (<a class="var it1238" onMouseOver="hilite(1238)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../_variables/instances.html">$instances</a> as <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>) {
<a name="l4179"><span class="linenum">4179</span></a>          if (<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('enrol')" class="var it39530" onMouseOver="hilite(39530)" onMouseOut="lolite()" href="../_variables/enrol.html">enrol</a> === 'cohort') {
<a name="l4180"><span class="linenum">4180</span></a>              <a class="var it23237" onMouseOver="hilite(23237)" onMouseOut="lolite()" onClick="logVariable('enrolled')" href="../_variables/enrolled.html">$enrolled</a>[] = <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../_variables/instance.html">$instance</a>-&gt;<a onClick="logVariable('customint1')" class="var it39530" onMouseOver="hilite(39530)" onMouseOut="lolite()" href="../_variables/customint1.html">customint1</a>;
<a name="l4181"><span class="linenum">4181</span></a>          }
<a name="l4182"><span class="linenum">4182</span></a>      }
<a name="l4183"><span class="linenum">4183</span></a>  
<a name="l4184"><span class="linenum">4184</span></a>      <a class="var it25274" onMouseOver="hilite(25274)" onMouseOut="lolite()" onClick="logVariable('rawcohorts')" href="../_variables/rawcohorts.html">$rawcohorts</a> = <a class="function" onClick="logFunction('cohort_get_available_cohorts')" href="../_functions/cohort_get_available_cohorts.html" onMouseOver="funcPopup(event,'cohort_get_available_cohorts')">cohort_get_available_cohorts</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="constant" onClick="logConstant('COHORT_COUNT_MEMBERS')" href="../_constants/COHORT_COUNT_MEMBERS.html" onMouseOver="constPopup(event,'COHORT_COUNT_MEMBERS')">COHORT_COUNT_MEMBERS</a>, <a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../_variables/offset.html">$offset</a>, <a class="var it589" onMouseOver="hilite(589)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../_variables/limit.html">$limit</a>, <a class="var it1502" onMouseOver="hilite(1502)" onMouseOut="lolite()" onClick="logVariable('search')" href="../_variables/search.html">$search</a>);
<a name="l4185"><span class="linenum">4185</span></a>  
<a name="l4186"><span class="linenum">4186</span></a>  <span class="comment">    // Produce the output respecting parameters.</span>
<a name="l4187"><span class="linenum">4187</span></a>      foreach (<a class="var it25274" onMouseOver="hilite(25274)" onMouseOut="lolite()" onClick="logVariable('rawcohorts')" href="../_variables/rawcohorts.html">$rawcohorts</a> as <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>) {
<a name="l4188"><span class="linenum">4188</span></a>          <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>[<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('id')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/id.html">id</a>] = array(
<a name="l4189"><span class="linenum">4189</span></a>              'cohortid' =&gt; <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('id')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l4190"><span class="linenum">4190</span></a>              'name'     =&gt; <a class="function" onClick="logFunction('shorten_text')" href="../_functions/shorten_text.html" onMouseOver="funcPopup(event,'shorten_text')">shorten_text</a>(<a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('name')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/name.html">name</a>, true, array('context'=&gt;context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('contextid')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>))), 35),
<a name="l4191"><span class="linenum">4191</span></a>              'users'    =&gt; <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('memberscnt')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/memberscnt.html">memberscnt</a>,
<a name="l4192"><span class="linenum">4192</span></a>              'enrolled' =&gt; <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('c')" href="../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('id')" class="var it39708" onMouseOver="hilite(39708)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it23237" onMouseOver="hilite(23237)" onMouseOut="lolite()" onClick="logVariable('enrolled')" href="../_variables/enrolled.html">$enrolled</a>)
<a name="l4193"><span class="linenum">4193</span></a>          );
<a name="l4194"><span class="linenum">4194</span></a>      }
<a name="l4195"><span class="linenum">4195</span></a>      return array('more' =&gt; !(bool)<a class="var it589" onMouseOver="hilite(589)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../_variables/limit.html">$limit</a>, 'offset' =&gt; <a class="var it1331" onMouseOver="hilite(1331)" onMouseOut="lolite()" onClick="logVariable('offset')" href="../_variables/offset.html">$offset</a>, 'cohorts' =&gt; <a class="var it8406" onMouseOver="hilite(8406)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>);
<a name="l4196"><span class="linenum">4196</span></a>  }
<a name="l4197"><span class="linenum">4197</span></a>  
<a name="l4198"><span class="linenum">4198</span></a>  <span class="comment">/**</span>
<a name="l4199"><span class="linenum">4199</span></a>  <span class="comment"> * Is $USER one of the supplied users?</span>
<a name="l4200"><span class="linenum">4200</span></a>  <span class="comment"> *</span>
<a name="l4201"><span class="linenum">4201</span></a>  <span class="comment"> * $user2 will be null if viewing a user's recent conversations</span>
<a name="l4202"><span class="linenum">4202</span></a>  <span class="comment"> *</span>
<a name="l4203"><span class="linenum">4203</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-49371 - please do not use this function any more.</span>
<a name="l4204"><span class="linenum">4204</span></a>  <span class="comment"> * @todo MDL-49290 This will be deleted in Moodle 3.1.</span>
<a name="l4205"><span class="linenum">4205</span></a>  <span class="comment"> * @param stdClass the first user</span>
<a name="l4206"><span class="linenum">4206</span></a>  <span class="comment"> * @param stdClass the second user or null</span>
<a name="l4207"><span class="linenum">4207</span></a>  <span class="comment"> * @return bool True if the current user is one of either $user1 or $user2</span>
<a name="l4208"><span class="linenum">4208</span></a>  <span class="comment"> */</span>
<a name="l4209"><span class="linenum">4209</span></a>  function <a class="function" onClick="logFunction('message_current_user_is_involved')" href="../_functions/message_current_user_is_involved.html" onMouseOver="funcPopup(event,'message_current_user_is_involved')">message_current_user_is_involved</a>(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../_variables/user1.html">$user1</a>, <a class="var it168" onMouseOver="hilite(168)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>) {
<a name="l4210"><span class="linenum">4210</span></a>      global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>;
<a name="l4211"><span class="linenum">4211</span></a>  
<a name="l4212"><span class="linenum">4212</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('message_current_user_is_involved')" href="../_functions/message_current_user_is_involved.html" onMouseOver="funcPopup(event,'message_current_user_is_involved')">message_current_user_is_involved</a>() is deprecated, please do not use this function.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4213"><span class="linenum">4213</span></a>  
<a name="l4214"><span class="linenum">4214</span></a>      if (empty(<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it39641" onMouseOver="hilite(39641)" onMouseOut="lolite()" href="../_variables/id.html">id</a>) || (!empty(<a class="var it168" onMouseOver="hilite(168)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>) &amp;&amp; empty(<a class="var it168" onMouseOver="hilite(168)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>-&gt;<a onClick="logVariable('id')" class="var it39847" onMouseOver="hilite(39847)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l4215"><span class="linenum">4215</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Invalid user object detected. Missing id.');
<a name="l4216"><span class="linenum">4216</span></a>      }
<a name="l4217"><span class="linenum">4217</span></a>  
<a name="l4218"><span class="linenum">4218</span></a>      if (<a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('user1')" href="../_variables/user1.html">$user1</a>-&gt;<a onClick="logVariable('id')" class="var it39641" onMouseOver="hilite(39641)" onMouseOut="lolite()" href="../_variables/id.html">id</a> != <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a> &amp;&amp; (empty(<a class="var it168" onMouseOver="hilite(168)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>) || <a class="var it168" onMouseOver="hilite(168)" onMouseOut="lolite()" onClick="logVariable('user2')" href="../_variables/user2.html">$user2</a>-&gt;<a onClick="logVariable('id')" class="var it39847" onMouseOver="hilite(39847)" onMouseOut="lolite()" href="../_variables/id.html">id</a> != <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l4219"><span class="linenum">4219</span></a>          return false;
<a name="l4220"><span class="linenum">4220</span></a>      }
<a name="l4221"><span class="linenum">4221</span></a>      return true;
<a name="l4222"><span class="linenum">4222</span></a>  }
<a name="l4223"><span class="linenum">4223</span></a>  
<a name="l4224"><span class="linenum">4224</span></a>  <span class="comment">/**</span>
<a name="l4225"><span class="linenum">4225</span></a>  <span class="comment"> * Print badges on user profile page.</span>
<a name="l4226"><span class="linenum">4226</span></a>  <span class="comment"> *</span>
<a name="l4227"><span class="linenum">4227</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-45898 - please do not use this function any more.</span>
<a name="l4228"><span class="linenum">4228</span></a>  <span class="comment"> * @param int $userid User ID.</span>
<a name="l4229"><span class="linenum">4229</span></a>  <span class="comment"> * @param int $courseid Course if we need to filter badges (optional).</span>
<a name="l4230"><span class="linenum">4230</span></a>  <span class="comment"> */</span>
<a name="l4231"><span class="linenum">4231</span></a>  function <a class="function" onClick="logFunction('profile_display_badges')" href="../_functions/profile_display_badges.html" onMouseOver="funcPopup(event,'profile_display_badges')">profile_display_badges</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = 0) {
<a name="l4232"><span class="linenum">4232</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>;
<a name="l4233"><span class="linenum">4233</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../badges/renderer.php.html">/badges/renderer.php</a>');
<a name="l4234"><span class="linenum">4234</span></a>  
<a name="l4235"><span class="linenum">4235</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('profile_display_badges')" href="../_functions/profile_display_badges.html" onMouseOver="funcPopup(event,'profile_display_badges')">profile_display_badges</a>() is deprecated.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l4236"><span class="linenum">4236</span></a>  
<a name="l4237"><span class="linenum">4237</span></a>  <span class="comment">    // Determine context.</span>
<a name="l4238"><span class="linenum">4238</span></a>      if (<a class="function" onClick="logFunction('isloggedin')" href="../_functions/isloggedin.html" onMouseOver="funcPopup(event,'isloggedin')">isloggedin</a>()) {
<a name="l4239"><span class="linenum">4239</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_user')" href="../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l4240"><span class="linenum">4240</span></a>      } else {
<a name="l4241"><span class="linenum">4241</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l4242"><span class="linenum">4242</span></a>      }
<a name="l4243"><span class="linenum">4243</span></a>  
<a name="l4244"><span class="linenum">4244</span></a>      if (<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../_variables/id.html">id</a> == <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> || <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/badges:viewotherbadges', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l4245"><span class="linenum">4245</span></a>          <a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a> = <a class="function" onClick="logFunction('badges_get_user_badges')" href="../_functions/badges_get_user_badges.html" onMouseOver="funcPopup(event,'badges_get_user_badges')">badges_get_user_badges</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, null, null, null, true);
<a name="l4246"><span class="linenum">4246</span></a>          <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a> = <span class="keyword">new </span><a class="class" onClick="logClass('core_badges_renderer')" href="../_classes/core_badges_renderer.html" onMouseOver="classPopup(event,'core_badges_renderer')">core_badges_renderer</a>(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../_variables/PAGE.html">$PAGE</a>, '');
<a name="l4247"><span class="linenum">4247</span></a>  
<a name="l4248"><span class="linenum">4248</span></a>  <span class="comment">        // Print local badges.</span>
<a name="l4249"><span class="linenum">4249</span></a>          if (<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>) {
<a name="l4250"><span class="linenum">4250</span></a>              <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('localbadgesp', 'badges', <a class="function" onClick="logFunction('format_string')" href="../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it1063" onMouseOver="hilite(1063)" onMouseOut="lolite()" onClick="logVariable('SITE')" href="../_variables/SITE.html">$SITE</a>-&gt;<a onClick="logVariable('fullname')" class="var it39635" onMouseOver="hilite(39635)" onMouseOut="lolite()" href="../_variables/fullname.html">fullname</a>));
<a name="l4251"><span class="linenum">4251</span></a>              <a class="var it689" onMouseOver="hilite(689)" onMouseOut="lolite()" onClick="logVariable('right')" href="../_variables/right.html">$right</a> = <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('print_badges_list')" href="../_functions/print_badges_list.html" onMouseOver="funcPopup(event,'print_badges_list')">print_badges_list</a>(<a class="var it2579" onMouseOver="hilite(2579)" onMouseOut="lolite()" onClick="logVariable('records')" href="../_variables/records.html">$records</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, true);
<a name="l4252"><span class="linenum">4252</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('dt', <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a>);
<a name="l4253"><span class="linenum">4253</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('dd', <a class="var it689" onMouseOver="hilite(689)" onMouseOut="lolite()" onClick="logVariable('right')" href="../_variables/right.html">$right</a>);
<a name="l4254"><span class="linenum">4254</span></a>          }
<a name="l4255"><span class="linenum">4255</span></a>  
<a name="l4256"><span class="linenum">4256</span></a>  <span class="comment">        // Print external badges.</span>
<a name="l4257"><span class="linenum">4257</span></a>          if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> == 0 &amp;&amp; !empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('badges_allowexternalbackpack')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/badges_allowexternalbackpack.html">badges_allowexternalbackpack</a>)) {
<a name="l4258"><span class="linenum">4258</span></a>              <a class="var it5238" onMouseOver="hilite(5238)" onMouseOut="lolite()" onClick="logVariable('backpack')" href="../_variables/backpack.html">$backpack</a> = <a class="function" onClick="logFunction('get_backpack_settings')" href="../_functions/get_backpack_settings.html" onMouseOver="funcPopup(event,'get_backpack_settings')">get_backpack_settings</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l4259"><span class="linenum">4259</span></a>              if (isset(<a class="var it5238" onMouseOver="hilite(5238)" onMouseOut="lolite()" onClick="logVariable('backpack')" href="../_variables/backpack.html">$backpack</a>-&gt;<a onClick="logVariable('totalbadges')" class="var it40250" onMouseOver="hilite(40250)" onMouseOut="lolite()" href="../_variables/totalbadges.html">totalbadges</a>) &amp;&amp; <a class="var it5238" onMouseOver="hilite(5238)" onMouseOut="lolite()" onClick="logVariable('backpack')" href="../_variables/backpack.html">$backpack</a>-&gt;<a onClick="logVariable('totalbadges')" class="var it40250" onMouseOver="hilite(40250)" onMouseOut="lolite()" href="../_variables/totalbadges.html">totalbadges</a> !== 0) {
<a name="l4260"><span class="linenum">4260</span></a>                  <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('externalbadgesp', 'badges');
<a name="l4261"><span class="linenum">4261</span></a>                  <a class="var it689" onMouseOver="hilite(689)" onMouseOut="lolite()" onClick="logVariable('right')" href="../_variables/right.html">$right</a> = <a class="var it1689" onMouseOver="hilite(1689)" onMouseOut="lolite()" onClick="logVariable('renderer')" href="../_variables/renderer.html">$renderer</a>-&gt;<a class="function" onClick="logFunction('print_badges_list')" href="../_functions/print_badges_list.html" onMouseOver="funcPopup(event,'print_badges_list')">print_badges_list</a>(<a class="var it5238" onMouseOver="hilite(5238)" onMouseOut="lolite()" onClick="logVariable('backpack')" href="../_variables/backpack.html">$backpack</a>-&gt;<a onClick="logVariable('badges')" class="var it40250" onMouseOver="hilite(40250)" onMouseOut="lolite()" href="../_variables/badges.html">badges</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, true, true);
<a name="l4262"><span class="linenum">4262</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('dt', <a class="var it1347" onMouseOver="hilite(1347)" onMouseOut="lolite()" onClick="logVariable('left')" href="../_variables/left.html">$left</a>);
<a name="l4263"><span class="linenum">4263</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('dd', <a class="var it689" onMouseOver="hilite(689)" onMouseOut="lolite()" onClick="logVariable('right')" href="../_variables/right.html">$right</a>);
<a name="l4264"><span class="linenum">4264</span></a>              }
<a name="l4265"><span class="linenum">4265</span></a>          }
<a name="l4266"><span class="linenum">4266</span></a>      }
<a name="l4267"><span class="linenum">4267</span></a>  }
<a name="l4268"><span class="linenum">4268</span></a>  
<a name="l4269"><span class="linenum">4269</span></a>  <span class="comment">/**</span>
<a name="l4270"><span class="linenum">4270</span></a>  <span class="comment"> * Adds user preferences elements to user edit form.</span>
<a name="l4271"><span class="linenum">4271</span></a>  <span class="comment"> *</span>
<a name="l4272"><span class="linenum">4272</span></a>  <span class="comment"> * @deprecated since Moodle 2.9 MDL-45774 - Please do not use this function any more.</span>
<a name="l4273"><span class="linenum">4273</span></a>  <span class="comment"> * @todo MDL-49784 Remove this function in Moodle 3.1</span>
<a name="l4274"><span class="linenum">4274</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l4275"><span class="linenum">4275</span></a>  <span class="comment"> * @param moodleform $mform</span>
<a name="l4276"><span class="linenum">4276</span></a>  <span class="comment"> * @param array|null $editoroptions</span>
<a name="l4277"><span class="linenum">4277</span></a>  <span class="comment"> * @param array|null $filemanageroptions</span>
<a name="l4278"><span class="linenum">4278</span></a>  <span class="comment"> */</span>
<a name="l4279"><span class="linenum">4279</span></a>  function <a class="function" onClick="logFunction('useredit_shared_definition_preferences')" href="../_functions/useredit_shared_definition_preferences.html" onMouseOver="funcPopup(event,'useredit_shared_definition_preferences')">useredit_shared_definition_preferences</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, &amp;<a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>, <a class="var it2672" onMouseOver="hilite(2672)" onMouseOut="lolite()" onClick="logVariable('editoroptions')" href="../_variables/editoroptions.html">$editoroptions</a> = null, <a class="var it4009" onMouseOver="hilite(4009)" onMouseOut="lolite()" onClick="logVariable('filemanageroptions')" href="../_variables/filemanageroptions.html">$filemanageroptions</a> = null) {
<a name="l4280"><span class="linenum">4280</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l4281"><span class="linenum">4281</span></a>  
<a name="l4282"><span class="linenum">4282</span></a>      <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('<a class="function" onClick="logFunction('useredit_shared_definition_preferences')" href="../_functions/useredit_shared_definition_preferences.html" onMouseOver="funcPopup(event,'useredit_shared_definition_preferences')">useredit_shared_definition_preferences</a>() is deprecated.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>, backtrace);
<a name="l4283"><span class="linenum">4283</span></a>  
<a name="l4284"><span class="linenum">4284</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4285"><span class="linenum">4285</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildisplayno');
<a name="l4286"><span class="linenum">4286</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['1'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildisplayyes');
<a name="l4287"><span class="linenum">4287</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['2'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildisplaycourse');
<a name="l4288"><span class="linenum">4288</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'maildisplay', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildisplay'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4289"><span class="linenum">4289</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('maildisplay', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultpreference_maildisplay')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultpreference_maildisplay.html">defaultpreference_maildisplay</a>);
<a name="l4290"><span class="linenum">4290</span></a>  
<a name="l4291"><span class="linenum">4291</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4292"><span class="linenum">4292</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('textformat');
<a name="l4293"><span class="linenum">4293</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['1'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('htmlformat');
<a name="l4294"><span class="linenum">4294</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'mailformat', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emailformat'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4295"><span class="linenum">4295</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('mailformat', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultpreference_mailformat')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultpreference_mailformat.html">defaultpreference_mailformat</a>);
<a name="l4296"><span class="linenum">4296</span></a>  
<a name="l4297"><span class="linenum">4297</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('allowusermailcharset')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/allowusermailcharset.html">allowusermailcharset</a>)) {
<a name="l4298"><span class="linenum">4298</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4299"><span class="linenum">4299</span></a>          <a class="var it4138" onMouseOver="hilite(4138)" onMouseOut="lolite()" onClick="logVariable('charsets')" href="../_variables/charsets.html">$charsets</a> = <a class="function" onClick="logFunction('get_list_of_charsets')" href="../_functions/get_list_of_charsets.html" onMouseOver="funcPopup(event,'get_list_of_charsets')">get_list_of_charsets</a>();
<a name="l4300"><span class="linenum">4300</span></a>          if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('sitemailcharset')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/sitemailcharset.html">sitemailcharset</a>)) {
<a name="l4301"><span class="linenum">4301</span></a>              <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('site').' ('.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('sitemailcharset')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/sitemailcharset.html">sitemailcharset</a>.')';
<a name="l4302"><span class="linenum">4302</span></a>          } else {
<a name="l4303"><span class="linenum">4303</span></a>              <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('site').' (UTF-8)';
<a name="l4304"><span class="linenum">4304</span></a>          }
<a name="l4305"><span class="linenum">4305</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>, <a class="var it4138" onMouseOver="hilite(4138)" onMouseOut="lolite()" onClick="logVariable('charsets')" href="../_variables/charsets.html">$charsets</a>);
<a name="l4306"><span class="linenum">4306</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'preference_mailcharset', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emailcharset'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4307"><span class="linenum">4307</span></a>      }
<a name="l4308"><span class="linenum">4308</span></a>  
<a name="l4309"><span class="linenum">4309</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4310"><span class="linenum">4310</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildigestoff');
<a name="l4311"><span class="linenum">4311</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['1'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildigestcomplete');
<a name="l4312"><span class="linenum">4312</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['2'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildigestsubjects');
<a name="l4313"><span class="linenum">4313</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'maildigest', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('emaildigest'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4314"><span class="linenum">4314</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('maildigest', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultpreference_maildigest')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultpreference_maildigest.html">defaultpreference_maildigest</a>);
<a name="l4315"><span class="linenum">4315</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addHelpButton')" href="../_functions/addhelpbutton.html" onMouseOver="funcPopup(event,'addhelpbutton')">addHelpButton</a>('maildigest', 'emaildigest');
<a name="l4316"><span class="linenum">4316</span></a>  
<a name="l4317"><span class="linenum">4317</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4318"><span class="linenum">4318</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['1'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('autosubscribeyes');
<a name="l4319"><span class="linenum">4319</span></a>      <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('autosubscribeno');
<a name="l4320"><span class="linenum">4320</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'autosubscribe', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('autosubscribe'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4321"><span class="linenum">4321</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('autosubscribe', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultpreference_autosubscribe')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultpreference_autosubscribe.html">defaultpreference_autosubscribe</a>);
<a name="l4322"><span class="linenum">4322</span></a>  
<a name="l4323"><span class="linenum">4323</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('forum_trackreadposts')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/forum_trackreadposts.html">forum_trackreadposts</a>)) {
<a name="l4324"><span class="linenum">4324</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array();
<a name="l4325"><span class="linenum">4325</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['0'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('trackforumsno');
<a name="l4326"><span class="linenum">4326</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>['1'] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('trackforumsyes');
<a name="l4327"><span class="linenum">4327</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'trackforums', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('trackforums'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4328"><span class="linenum">4328</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('trackforums', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('defaultpreference_trackforums')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/defaultpreference_trackforums.html">defaultpreference_trackforums</a>);
<a name="l4329"><span class="linenum">4329</span></a>      }
<a name="l4330"><span class="linenum">4330</span></a>  
<a name="l4331"><span class="linenum">4331</span></a>      <a class="var it23566" onMouseOver="hilite(23566)" onMouseOut="lolite()" onClick="logVariable('editors')" href="../_variables/editors.html">$editors</a> = <a class="function" onClick="logFunction('editors_get_enabled')" href="../_functions/editors_get_enabled.html" onMouseOver="funcPopup(event,'editors_get_enabled')">editors_get_enabled</a>();
<a name="l4332"><span class="linenum">4332</span></a>      if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it23566" onMouseOver="hilite(23566)" onMouseOut="lolite()" onClick="logVariable('editors')" href="../_variables/editors.html">$editors</a>) &gt; 1) {
<a name="l4333"><span class="linenum">4333</span></a>          <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a> = array('' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('defaulteditor'));
<a name="l4334"><span class="linenum">4334</span></a>          <a class="var it25276" onMouseOver="hilite(25276)" onMouseOut="lolite()" onClick="logVariable('firsteditor')" href="../_variables/firsteditor.html">$firsteditor</a> = '';
<a name="l4335"><span class="linenum">4335</span></a>          foreach (<a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it23566" onMouseOver="hilite(23566)" onMouseOut="lolite()" onClick="logVariable('editors')" href="../_variables/editors.html">$editors</a>) as <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>) {
<a name="l4336"><span class="linenum">4336</span></a>              if (!<a class="var it25276" onMouseOver="hilite(25276)" onMouseOut="lolite()" onClick="logVariable('firsteditor')" href="../_variables/firsteditor.html">$firsteditor</a>) {
<a name="l4337"><span class="linenum">4337</span></a>                  <a class="var it25276" onMouseOver="hilite(25276)" onMouseOut="lolite()" onClick="logVariable('firsteditor')" href="../_variables/firsteditor.html">$firsteditor</a> = <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>;
<a name="l4338"><span class="linenum">4338</span></a>              }
<a name="l4339"><span class="linenum">4339</span></a>              <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>[<a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>] = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'editor_' . <a class="var it10214" onMouseOver="hilite(10214)" onMouseOut="lolite()" onClick="logVariable('editor')" href="../_variables/editor.html">$editor</a>);
<a name="l4340"><span class="linenum">4340</span></a>          }
<a name="l4341"><span class="linenum">4341</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'preference_htmleditor', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('textediting'), <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../_variables/choices.html">$choices</a>);
<a name="l4342"><span class="linenum">4342</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('preference_htmleditor', '');
<a name="l4343"><span class="linenum">4343</span></a>      } else {
<a name="l4344"><span class="linenum">4344</span></a>  <span class="comment">        // Empty string means use the first chosen text editor.</span>
<a name="l4345"><span class="linenum">4345</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'preference_htmleditor');
<a name="l4346"><span class="linenum">4346</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('preference_htmleditor', '');
<a name="l4347"><span class="linenum">4347</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('preference_htmleditor', <a class="constant" onClick="logConstant('PARAM_PLUGIN')" href="../_constants/PARAM_PLUGIN.html" onMouseOver="constPopup(event,'PARAM_PLUGIN')">PARAM_PLUGIN</a>);
<a name="l4348"><span class="linenum">4348</span></a>      }
<a name="l4349"><span class="linenum">4349</span></a>  
<a name="l4350"><span class="linenum">4350</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'lang', <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('preferredlanguage'), <a class="function" onClick="logFunction('get_string_manager')" href="../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('get_list_of_translations')" href="../_functions/get_list_of_translations.html" onMouseOver="funcPopup(event,'get_list_of_translations')">get_list_of_translations</a>());
<a name="l4351"><span class="linenum">4351</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('lang', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('lang')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/lang.html">lang</a>);
<a name="l4352"><span class="linenum">4352</span></a>  
<a name="l4353"><span class="linenum">4353</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'setdefault': ['setdefault', 'Set the field default ', [['lib/xmldb','xmldb_field.php',246],['lib/google/src/Google/Service','YouTube.php',7343],['lib/google/src/Google/Service','YouTube.php',8783],['lib','formslib.php',1857]], 684],
'css_files': ['css_files', 'Minify CSS files. ', [['lib/classes','minify.php',126]], 5],
'continue_button': ['continue_button', 'Displays a continue button ', [['backup/util/ui','renderer.php',501],['lib','outputrenderers.php',2875]], 104],
'print_continue': ['print_continue', '', [['lib','deprecatedlib.php',1132],['grade/export','lib.php',414]], 2],
'groups_course_module_visible': ['groups_course_module_visible', 'Determine if a course module is currently visible to a user ', [['lib','deprecatedlib.php',1020]], 2],
'mygroupid': ['mygroupid', '', [['lib','deprecatedlib.php',913]], 3],
'clean_filename': ['clean_filename', 'Cleans a given filename by removing suspicious or troublesome characters ', [['lib','moodlelib.php',6378]], 61],
'delete_content': ['delete_content', 'Delete all data linked to content, do not delete the context record itself ', [['lib','accesslib.php',5492],['mod/data','lib.php',399]], 9],
'load': ['load', 'Load the config.php file for a particular theme, and return an instance of this class. (That is, this is a factory method.) ', [['lib','outputlib.php',399],['lib/adodb','adodb-active-recordx.inc.php',747],['lib/phpexcel/PHPExcel/Reader/Excel5','Escher.php',94],['lib/htmlpurifier/HTMLPurifier','Language.php',69],['cache/classes','definition.php',323],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',44],['lib/mustache/src/Mustache','Loader.php',17],['lib/phpexcel/PHPExcel','IOFactory.php',181],['lib/simplepie/library/SimplePie/Cache','MySQL.php',286],['lib/phpexcel/PHPExcel/Reader','OOCalc.php',293],['lib/mustache/src/Mustache/Cache','NoopCache.php',20],['lib/phpexcel/PHPExcel/Reader','SYLK.php',197],['lib/phpexcel/PHPExcel/Reader','Excel5.php',602],['lib/simplepie/library/SimplePie/Cache','Base.php',87],['lib/pear/HTML/QuickForm','select.php',421],['lib/simplepie/library/SimplePie/Cache','File.php',118],['calendar','lib.php',2631],['backup/cc/cc_lib','xmlbase.php',92],['mod/lesson','locallib.php',1024],['mod/lesson','locallib.php',2243],['mod/lesson','locallib.php',3191],['lib/phpexcel/PHPExcel/Reader','Excel2007.php',337],['lib/mustache/src/Mustache/Cache','FilesystemCache.php',39],['lib/zend/Zend/Loader','PluginLoader.php',350],['lib/mustache/src/Mustache/Loader','StringLoader.php',28],['cache/classes','config.php',128],['lib/phpexcel/PHPExcel/Reader','IReader.php',46],['lib/mustache/src/Mustache/Loader','FilesystemLoader.php',69],['lib/phpexcel/PHPExcel/Reader','Excel2003XML.php',224],['lib/phpexcel/PHPExcel/Reader','CSV.php',218],['lib/phpexcel/PHPExcel','Autoloader.php',62],['lib/phpexcel/PHPExcel/Reader','Gnumeric.php',205],['lib/zend/Zend/Loader/PluginLoader','Interface.php',68],['lib/mustache/src/Mustache','Cache.php',20],['lib/simplepie/library/SimplePie/Cache','Memcache.php',123],['lib/phpunit/classes','autoloader.php',46],['grade/grading','lib.php',227],['lib/zend/Zend/Loader/Autoloader','Resource.php',428],['lib/mustache/src/Mustache/Loader','ArrayLoader.php',41],['lib/phpexcel/PHPExcel/Reader','HTML.php',128],['lib/mustache/src/Mustache/Loader','InlineLoader.php',87],['lib/adodb','adodb-active-record.inc.php',682],['lib/mustache/src/Mustache/Loader','CascadingLoader.php',48]], 182],
'frontpage_categories_list': ['frontpage_categories_list', 'Returns HTML to print tree of course categories (with number of courses) for the frontpage ', [['course','renderer.php',2124]], 2],
'instance_by_id': ['instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','accesslib.php',5383]], 174],
'print_container': ['print_container', '', [['lib','deprecatedlib.php',1085]], 2],
'is_course_participant': ['is_course_participant', '', [['lib','deprecatedlib.php',727]], 2],
'get_device_type_theme': ['get_device_type_theme', 'Returns the theme to use for the given device type. ', [['lib/classes','useragent.php',226]], 6],
'get_renderer': ['get_renderer', 'Get the renderer for a part of Moodle for this theme. ', [['lib','outputlib.php',1790],['mod/assign','locallib.php',2734],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['course/format','lib.php',889],['question/type/multichoice','question.php',137],['question/type/multichoice','question.php',259],['question/type','questionbase.php',275],['grade/grading/form/guide','lib.php',482],['question/behaviour','behaviourbase.php',135],['lib','pagelib.php',797],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49]], 339],
'kill_all_sessions': ['kill_all_sessions', 'Kill all active sessions, the core sessions table is purged afterwards. ', [['lib/classes/session','file.php',95],['lib/classes/session','database.php',97],['lib/classes/session','memcache.php',167],['lib/classes/session','manager.php',572],['lib/classes/session','memcached.php',158]], 6],
'update_timezone_records': ['update_timezone_records', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',82]], 1],
'get_timezone_offset': ['get_timezone_offset', 'Returns an int which represents the systems\'s timezone difference from GMT in seconds ', [['lib','deprecatedlib.php',59]], 19],
'reset_paths': ['reset_paths', 'Remove all context path info and optionally rebuild it. ', [['lib','accesslib.php',5464]], 7],
'skip_link_target': ['skip_link_target', 'Output the place a skip link goes to. ', [['lib','outputrenderers.php',2947]], 4],
'get_user_timezone_offset': ['get_user_timezone_offset', 'Returns a float which represents the user\'s timezone difference from GMT in hours Checks various settings and picks the most dominant of those which have a value ', [['lib','deprecatedlib.php',45]], 7],
'print_header_simple': ['print_header_simple', '', [['lib','deprecatedlib.php',1149]], 2],
'course_section_cm_edit_actions': ['course_section_cm_edit_actions', 'Renders HTML for displaying the sequence of course module editing buttons ', [['course','renderer.php',326]], 4],
'where': ['where', 'Add where clause ', [['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',120],['question/classes/bank/search','category_condition.php',96],['question/classes/bank/search','hidden_condition.php',53],['question/engine','datalib.php',1882],['question/engine','datalib.php',1964]], 61],
'course_category_hide': ['course_category_hide', 'Hide course category and child course and subcategories ', [['lib','deprecatedlib.php',2240]], 2],
'clam_replace_infected_file': ['clam_replace_infected_file', 'Replaces the given file with a string. ', [['lib','deprecatedlib.php',182]], 1],
'course_category': ['course_category', 'Renders HTML to display particular course category - list of it\'s subcategories and courses ', [['course','renderer.php',1660]], 3],
'allow_enrol': ['allow_enrol', 'Does this plugin allow manual enrolments? ', [['lib','enrollib.php',1177],['enrol/manual','lib.php',37]], 3],
'mark_context_dirty': ['mark_context_dirty', 'Mark a context as dirty (with timestamp) so as to force reloading of the context. ', [['lib','deprecatedlib.php',3590]], 5],
'print_recent_activity': ['print_recent_activity', 'This function trawls through the logs looking for anything new since the user\'s last login ', [['lib','deprecatedlib.php',1841]], 2],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'ajaxenabled': ['ajaxenabled', 'It should no longer be required to work without JavaScript enabled. ', [['lib','deprecatedlib.php',3997]], 1],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/zend/Zend/Soap','Wsdl.php',641],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',582]], 3296],
'get_user_timezone': ['get_user_timezone', 'Returns user timezone. ', [['lib/classes','date.php',216],['lib','moodlelib.php',2279]], 69],
'course_delete_module': ['course_delete_module', 'This function will handles the whole deletion process of a module. This includes calling the modules delete_instance function, deleting files, events, grades, conditional data, the data in the course_module and course_sections table and adding a module deletion event to the DB. ', [['course','lib.php',1635]], 16],
'groups_get_group': ['groups_get_group', 'Get the group object ', [['lib','grouplib.php',161]], 20],
'generate_email_supportuser': ['generate_email_supportuser', 'Generate a fake user for emails based on support settings ', [['lib','deprecatedlib.php',3950]], 1],
'print_section': ['print_section', 'Prints a section full of activity modules ', [['lib','deprecatedlib.php',1754]], 3],
'print_container_start': ['print_container_start', '', [['lib','deprecatedlib.php',1092]], 2],
'archive_to_pathname': ['archive_to_pathname', 'Zip files and store the result in os file. ', [['lib/filestorage','zip_packer.php',89],['lib/filestorage','tgz_packer.php',159],['lib/filestorage','mbz_packer.php',75]], 27],
'courses_list': ['courses_list', 'Displays a custom list of courses with paging bar if necessary ', [['course','renderer.php',1118]], 1],
'clam_log_infected': ['clam_log_infected', 'This function logs to error_log and to the log table that an infected file has been found and what\'s happened to it. ', [['lib','deprecatedlib.php',162]], 1],
'detect_munged_arguments': ['detect_munged_arguments', '', [['lib','deprecatedlib.php',764]], 2],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2762],['lib','outputrenderers.php',4128],['lib','outputrenderers.php',4201]], 495],
'dst_changes_for_year': ['dst_changes_for_year', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',104]], 1],
'print_courses': ['print_courses', 'Print courses in category. If category is 0 then all courses are printed. ', [['lib','deprecatedlib.php',2782]], 3],
'help_icon_scale': ['help_icon_scale', 'Returns HTML to display a scale help icon. ', [['lib','outputrenderers.php',2318]], 3],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',2987]], 351],
'enrol_get_users_courses': ['enrol_get_users_courses', 'Returns list of courses user is enrolled into. (Note: use enrol_get_all_users_courses if you want to use the list wihtout any cap checks ) ', [['lib','enrollib.php',679]], 18],
'get_capabilities': ['get_capabilities', 'Returns array of relevant context capability records. ', [['lib/tests','customcontext_test.php',43],['lib/tests','customcontext_test.php',67],['lib/tests','customcontext_test.php',91],['lib','accesslib.php',6098],['lib','accesslib.php',6158],['lib','accesslib.php',6416],['lib','accesslib.php',6596],['lib','accesslib.php',6840],['lib','accesslib.php',7065],['lib','accesslib.php',7300]], 9],
'on': ['on', '', [['lib/requirejs','require.js',506]], 3494],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'cleanup_contexts': ['cleanup_contexts', 'Remove stale context records. ', [['lib','deprecatedlib.php',3445]], 4],
'get_component_directory': ['get_component_directory', 'Return exact absolute path to a plugin directory. ', [['lib/classes','component.php',1003],['lib','deprecatedlib.php',543]], 44],
'context_moved': ['context_moved', 'Update the path field of the context and all dep. subcontexts that follow ', [['lib','deprecatedlib.php',3502]], 4],
'print_scale_menu_helpbutton': ['print_scale_menu_helpbutton', '', [['lib','deprecatedlib.php',1370]], 2],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3002]], 351],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'get_core_subsystems': ['get_core_subsystems', 'List all core subsystems and their location ', [['lib/classes','component.php',752],['lib','deprecatedlib.php',391]], 19],
'error': ['error', '', [['lib/adodb','adodb-active-recordx.inc.php',539],['lib/horde/framework/Horde/Imap/Client','DateTime.php',69],['lib/lessphp','Parser.php',2605],['question','format.php',218],['lib/htmlpurifier/HTMLPurifier','VarParser.php',143],['lib/yuilib/3.17.2/cookie','cookie-debug.js',34],['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',156],['lib/tcpdf','tcpdf_parser.php',794],['lib/lessphp/Tree','DefaultFunc.php',27],['lib/tcpdf','tcpdf.php',2915],['lib/minify/lib','FirePHP.php',416],['mod/assign/feedback/editpdf/fpdi','fpdi_pdf_parser.php',92],['lib/yuilib/3.17.2/cookie','cookie.js',34],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCII85_FPDI.php',30],['lib/simplepie/library','SimplePie.php',1554],['lib/tcpdf/include','tcpdf_filters.php',467],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',10815],['lib','deprecatedlib.php',1040],['mod/assign/feedback/editpdf/fpdi/filters','FilterLZW_FPDI.php',30],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','ValidatorAtom.php',124],['mod/assign/feedback/editpdf/fpdi','pdf_parser.php',134],['lib/simplepie/library/SimplePie','Misc.php',154],['lib/mustache/src/Mustache','Logger.php',78],['lib/htmlpurifier/HTMLPurifier/ConfigSchema','Validator.php',224],['mod/assign/feedback/editpdf/fpdi/filters','FilterASCII85.php',33],['lib/google/src/Google/Logger','Abstract.php',198],['admin/tool/uploadcourse/classes','course.php',238],['mod/assign/feedback/editpdf/fpdi/filters','FilterLZW.php',35],['auth/cas/CAS','CAS.php',476],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',61],['mod/lesson','format.php',334],['lib/adodb','adodb-active-record.inc.php',489]], 933],
'get_enrolment_instances': ['get_enrolment_instances', 'Returns all of the enrolment instances for this course. ', [['enrol','locallib.php',508]], 12],
'message_current_user_is_involved': ['message_current_user_is_involved', 'Is $USER one of the supplied users? ', [['lib','deprecatedlib.php',4198]], 1],
'get_contextlevel_name': ['get_contextlevel_name', 'Returns context level name ', [['lib','deprecatedlib.php',3560]], 4],
'get_categories': ['get_categories', 'Get categories ', [['course','externallib.php',1465],['lib/simplepie/library/SimplePie','Enclosure.php',347],['lib/simplepie/library','SimplePie.php',2033],['lib','deprecatedlib.php',2452],['lib/simplepie/library/SimplePie','Item.php',430],['blocks/tag_youtube','block_tag_youtube.php',202],['lib/simplepie/library/SimplePie','Source.php',153]], 13],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3234],['mod/assign','locallib.php',3440]], 532],
'delete_move': ['delete_move', 'Deletes a category and moves all content (children, courses and questions) to the new parent ', [['lib','coursecatlib.php',1690]], 7],
'get_preload_record_columns_sql': ['get_preload_record_columns_sql', 'Returns all fields necessary for context preloading from user $rec. ', [['lib','accesslib.php',6015]], 54],
'get_course_section': ['get_course_section', 'Returns course section - creates new if does not exist yet ', [['lib','deprecatedlib.php',1598]], 1],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'get_timezone_record': ['get_timezone_record', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',116]], 1],
'show': ['show', '', [['lib/jquery/ui-1.11.4','jquery-ui.js',13476],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',187],['lib','coursecatlib.php',2013]], 547],
'print_category_info': ['print_category_info', 'prints category information ', [['question/classes/bank','view.php',510],['lib','deprecatedlib.php',2677],['mod/quiz/classes/question/bank','custom_view.php',206],['question/classes/bank/search','category_condition.php',166]], 4],
'preload_course': ['preload_course', 'Preload all contexts instances from course. ', [['lib','accesslib.php',6041]], 7],
'context_instance_preload': ['context_instance_preload', 'Preloads context information from db record and strips the cached info. The db request has to contain both the $join and $select from context_instance_preload_sql() ', [['lib','deprecatedlib.php',3546]], 4],
'container_start': ['container_start', 'Outputs the opening section of a container. ', [['lib','outputrenderers.php',3023]], 113],
'filter_text': ['filter_text', '', [['lib','deprecatedlib.php',647],['lib','filterlib.php',196],['lib','filterlib.php',274],['lib','filterlib.php',335]], 7],
'get_log_manager': ['get_log_manager', 'Get instance of log manager. ', [['lib','datalib.php',1551]], 51],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'delete_course_module': ['delete_course_module', 'Delete a course module and any associated data at the course level (events) Until 1.5 this function simply marked a deleted flag ... now it deletes it completely. ', [['lib','deprecatedlib.php',2005]], 1],
'shorten_text': ['shorten_text', 'Given some text (which may contain HTML) and an ideal length, this function truncates the text neatly on a word boundary if possible ', [['lib','moodlelib.php',7484]], 79],
'mark_dirty': ['mark_dirty', 'Mark a context as dirty (with timestamp) so as to force reloading of the context. ', [['lib','accesslib.php',5792]], 42],
'session_kill_all': ['session_kill_all', 'Terminates all sessions, auth hooks are not executed. Useful in upgrade scripts. ', [['lib','deprecatedlib.php',260]], 2],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'course_info_box': ['course_info_box', 'Renders course info box. ', [['course','renderer.php',119]], 3],
'get_generic_section_name': ['get_generic_section_name', 'Gets the generic section name for a courses section ', [['lib','deprecatedlib.php',1494]], 1],
'print_side_block': ['print_side_block', '', [['lib','deprecatedlib.php',1158]], 2],
'badges_get_issued_badge_info': ['badges_get_issued_badge_info', 'Get issued badge details for assertion URL ', [['lib','deprecatedlib.php',3962]], 1],
'get_context_name': ['get_context_name', 'Returns human readable context identifier. ', [['lib','accesslib.php',5588],['lib','accesslib.php',6138],['lib','accesslib.php',6380],['lib','accesslib.php',6567],['lib','accesslib.php',6799],['lib','accesslib.php',7021],['lib','accesslib.php',7263]], 53],
'container_end': ['container_end', 'Outputs the closing section of a container. ', [['lib','outputrenderers.php',3036]], 113],
'use_editor': ['use_editor', '', [['lib/editor/textarea','lib.php',50],['lib/editor/tinymce','lib.php',72],['lib/editor/atto','lib.php',69]], 11],
'filter_user_list': ['filter_user_list', 'Tests against a user list. Users who cannot access the activity due to availability restrictions will be removed from the list. ', [['availability/classes','info_module.php',76],['availability/classes','info.php',613],['availability/condition/profile/classes','condition.php',448],['availability/classes','tree_node.php',161],['availability/condition/grouping/classes','condition.php',225],['availability/tests/fixtures','mock_condition.php',111],['availability/condition/group/classes','condition.php',193],['availability/classes','tree.php',297]], 39],
'print_context_name': ['print_context_name', 'Prints human readable context identifier. ', [['lib','deprecatedlib.php',3573]], 4],
'unzip_file': ['unzip_file', 'Unzip one zip file to a destination dir Both parameters must be FULL paths If destination isn\'t specified, it will be the SAME directory where the zip file resides. ', [['lib','deprecatedlib.php',769]], 2],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'get_plugin_list_with_class': ['get_plugin_list_with_class', 'Get a list of all the plugins of a given type that define a certain class in a certain file. The plugin component names and class names are returned. ', [['lib/classes','component.php',796],['lib','deprecatedlib.php',486]], 10],
'check_browser_version': ['check_browser_version', 'Returns true if the user agent matches the given brand and the version is equal to or greater than that specified. ', [['lib/classes','useragent.php',294],['lib','deprecatedlib.php',3850]], 3],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'print_arrow': ['print_arrow', 'Returns an image of an up or down arrow, used for column sorting. To avoid unnecessary DB accesses, please provide this function with the language strings for sortasc and sortdesc. ', [['lib','deprecatedlib.php',1254]], 2],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6481]], 147],
'set_user_device_type': ['set_user_device_type', 'Switches the device type we think the user is using to what ever was given. ', [['lib/classes','useragent.php',273],['lib','deprecatedlib.php',3913]], 8],
'get_plugin_directory': ['get_plugin_directory', 'Returns the exact absolute path to plugin directory. ', [['lib/classes','component.php',890],['lib','deprecatedlib.php',508]], 21],
'get_cm': ['get_cm', 'Obtains a single course-module object (for a course-module that is on this course). ', [['lib','modinfolib.php',222],['mod/quiz','attemptlib.php',215],['mod/quiz','attemptlib.php',701],['comment','lib.php',1006]], 96],
'delete_instance': ['delete_instance', 'The assignment has been deleted - remove the plugin specific data ', [['mod/assign','assignmentplugin.php',525],['mod/workshop/allocation/random','lib.php',243],['mod/assign/submission/file','locallib.php',447],['mod/assign/submission/onlinetext','locallib.php',538],['mod/workshop/form/accumulative','lib.php',375],['mod/workshop/form/rubric','lib.php',405],['mod/workshop/form/numerrors','lib.php',394],['lib','enrollib.php',1737],['mod/assign','locallib.php',677],['mod/workshop/form','lib.php',118],['mod/workshop/allocation/scheduled','lib.php',200],['mod/assign/feedback/editpdf','locallib.php',260],['mod/workshop/form/comments','lib.php',360],['mod/assign/feedback/file','locallib.php',256],['lib','accesslib.php',6060],['mod/workshop/eval','lib.php',59],['mod/workshop/allocation/manual','lib.php',349],['mod/assign/feedback/comments','locallib.php',458],['mod/workshop/eval/best','lib.php',125],['mod/workshop/allocation','lib.php',62]], 35],
'hide': ['hide', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/contextmenu','editor_plugin_src.js',71],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',269],['repository','lib.php',2059],['lib/google/src/Google/Service','GamesManagement.php',559],['lib','navigationlib.php',697],['lib','coursecatlib.php',1954]], 750],
'course_search_form': ['course_search_form', 'Renders html to display a course search form ', [['course','renderer.php',541],['course/classes','management_renderer.php',1287]], 8],
'delete': ['delete', 'Deletes a key pair ', [['lib/zend/Zend/Service/Amazon/Ec2','Keypair.php',110],['lib/google/src/Google/Service','Reseller.php',440],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',1006],['lib/adodb','adodb-active-recordx.inc.php',949],['lib/zend/Zend/Service/Delicious','Post.php',236],['lib/grade','grade_object.php',270],['lib/zend/Zend/Gdata','Gapps.php',258],['lib/google/src/Google/Service','Fusiontables.php',644],['lib/google/src/Google/Service','Fusiontables.php',809],['lib/google/src/Google/Service','Fusiontables.php',934],['lib/google/src/Google/Service','Fusiontables.php',1127],['lib/google/src/Google/Service','Fusiontables.php',1188],['blog','locallib.php',325],['lib/google/src/Google/Service','Blogger.php',1051],['lib/google/src/Google/Service','Blogger.php',1212],['lib/google/src/Google/Service','Blogger.php',1434],['lib/portfolio','plugin.php',692],['lib/google/src/Google/Service','AdExchangeBuyer.php',605],['lib/google/src/Google/Service','Manager.php',240],['lib/google/src/Google/Service','Manager.php',320],['lib/zend/Zend/Service/Amazon/Ec2','Securitygroups.php',137],['lib','webdavlib.php',691],['lib/grade','grade_item.php',354],['lib/google/src/Google/Service','Gmail.php',686],['lib/google/src/Google/Service','Gmail.php',843],['lib/google/src/Google/Service','Gmail.php',936],['lib/google/src/Google/Service','Gmail.php',1146],['course','lib.php',3133],['lib/google/src/Google/Service','Mirror.php',424],['lib/google/src/Google/Service','Mirror.php',592],['lib/google/src/Google/Service','Mirror.php',660],['lib/google/src/Google/Service','Mirror.php',771],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',731],['lib/google/src/Google/Service','Genomics.php',963],['lib/google/src/Google/Service','Genomics.php',1327],['lib/google/src/Google/Service','Genomics.php',1399],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Dfareporting.php',470],['lib/zend/Zend/Gdata/Gbase','ItemEntry.php',133],['lib/google/src/Google/Service','Licensing.php',221],['lib/google/src/Google/Service','Drive.php',1462],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1681],['lib/google/src/Google/Service','Drive.php',1932],['lib/google/src/Google/Service','Drive.php',2002],['lib/google/src/Google/Service','Drive.php',2131],['lib/google/src/Google/Service','Drive.php',2294],['lib/google/src/Google/Service','Drive.php',2414],['completion','data_object.php',272],['lib/google/src/Google/Service','Books.php',1804],['lib/zend/Zend/Gdata','App.php',914],['lib/google/src/Google/Cache','Memcache.php',142],['lib/google/src/Google/Service','Bigquery.php',512],['lib/google/src/Google/Service','Bigquery.php',822],['cache','disabledlib.php',102],['lib/zend/Zend/Server','Cache.php',132],['lib/zend/Zend/Gdata/App','Entry.php',212],['cache/stores/memcached','lib.php',368],['lib/google/src/Google/Service','YouTube.php',1470],['lib/google/src/Google/Service','YouTube.php',1979],['lib/google/src/Google/Service','YouTube.php',2277],['lib/google/src/Google/Service','YouTube.php',2510],['lib/google/src/Google/Service','YouTube.php',2657],['lib/google/src/Google/Service','YouTube.php',2998],['lib/google/src/Google/Service','YouTube.php',3196],['lib/google/src/Google/Service','Webmasters.php',298],['lib/google/src/Google/Service','Webmasters.php',388],['lib/google/src/Google/Service','Autoscaler.php',314],['lib/google/src/Google/Service','Autoscaler.php',428],['calendar','lib.php',2388],['lib/zend/Zend/Service/Amazon','Sqs.php',129],['lib/google/src/Google/Service','ShoppingContent.php',553],['lib/google/src/Google/Service','ShoppingContent.php',735],['lib/google/src/Google/Service','ShoppingContent.php',969],['mod/lesson','locallib.php',1039],['mod/lesson','locallib.php',2274],['lib/google/src/Google/Service','SQLAdmin.php',628],['lib/google/src/Google/Service','SQLAdmin.php',923],['lib/google/src/Google/Service','Fitness.php',458],['lib/google/src/Google/Service','Fitness.php',563],['lib/google/src/Google/Service','TagManager.php',1049],['lib/google/src/Google/Service','TagManager.php',1140],['lib/google/src/Google/Service','TagManager.php',1233],['lib/google/src/Google/Service','TagManager.php',1326],['lib/google/src/Google/Service','TagManager.php',1419],['lib/google/src/Google/Service','TagManager.php',1513],['lib/google/src/Google/Service','TagManager.php',1607],['lib/google/src/Google/Service','TagManager.php',1757],['lib/google/src/Google/Service','Directory.php',1300],['lib/google/src/Google/Service','Directory.php',1477],['lib/google/src/Google/Service','Directory.php',1587],['lib/google/src/Google/Service','Directory.php',1642],['lib/google/src/Google/Service','Directory.php',1769],['lib/google/src/Google/Service','Directory.php',1838],['lib/google/src/Google/Service','Directory.php',1935],['lib/google/src/Google/Service','Directory.php',2042],['lib/google/src/Google/Service','Directory.php',2144],['lib/google/src/Google/Service','Directory.php',2205],['lib/google/src/Google/Service','Directory.php',2405],['lib/google/src/Google/Service','Directory.php',2480],['cache/stores/static','lib.php',374],['lib/google/src/Google/Service','AppState.php',153],['lib/google/src/Google/Service','Taskqueue.php',292],['lib/google/src/Google/Service','Container.php',343],['lib/google/src/Google/Service','AndroidPublisher.php',1177],['lib/google/src/Google/Service','AndroidPublisher.php',1257],['lib/google/src/Google/Service','AndroidPublisher.php',1595],['lib/google/src/Google/Service','AndroidPublisher.php',1690],['lib/google/src/Google/Service','AndroidPublisher.php',1972],['repository','lib.php',427],['repository','lib.php',2012],['lib','accesslib.php',5529],['lib/google/src/Google/Service','AdSenseHost.php',733],['lib/google/src/Google/Service','AdSenseHost.php',1009],['lib/google/src/Google/Service','AdSenseHost.php',1167],['cache/stores/memcache','lib.php',401],['lib','filelib.php',3440],['lib/google/src/Google/Service','MapsEngine.php',1692],['lib/google/src/Google/Service','MapsEngine.php',1990],['lib/google/src/Google/Service','MapsEngine.php',2343],['lib/google/src/Google/Service','MapsEngine.php',2650],['lib/google/src/Google/Service','MapsEngine.php',2911],['lib/grade','grade_grade.php',955],['comment','lib.php',786],['lib/google/src/Google/Service','SiteVerification.php',138],['lib/google/src/Google/Service','Prediction.php',261],['cache/stores/session','lib.php',417],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Compute.php',2812],['lib/google/src/Google/Service','Compute.php',2896],['lib/google/src/Google/Service','Compute.php',3139],['lib/google/src/Google/Service','Compute.php',3225],['lib/google/src/Google/Service','Compute.php',3361],['lib/google/src/Google/Service','Compute.php',3463],['lib/google/src/Google/Service','Compute.php',3543],['lib/google/src/Google/Service','Compute.php',3662],['lib/google/src/Google/Service','Compute.php',3725],['lib/google/src/Google/Service','Compute.php',3844],['lib/google/src/Google/Service','Compute.php',3941],['lib/google/src/Google/Service','Compute.php',4080],['lib/google/src/Google/Service','Compute.php',4406],['lib/google/src/Google/Service','Compute.php',4543],['lib/google/src/Google/Service','Compute.php',4660],['lib/google/src/Google/Service','Compute.php',4740],['lib/google/src/Google/Service','Compute.php',4806],['lib/google/src/Google/Service','Compute.php',4927],['lib/google/src/Google/Service','Compute.php',5069],['lib/google/src/Google/Service','Compute.php',5229],['lib/google/src/Google/Service','Compute.php',5360],['badges/criteria','award_criteria.php',330],['badges/criteria','award_criteria_manual.php',220],['lib/google/src/Google/Service','Calendar.php',886],['lib/google/src/Google/Service','Calendar.php',1040],['lib/google/src/Google/Service','Calendar.php',1228],['lib/google/src/Google/Service','Calendar.php',1362],['lib/google/src/Google/Service','Analytics.php',2068],['lib/google/src/Google/Service','Analytics.php',2211],['lib/google/src/Google/Service','Analytics.php',2293],['lib/google/src/Google/Service','Analytics.php',2414],['lib/google/src/Google/Service','Analytics.php',2631],['lib/google/src/Google/Service','Analytics.php',2760],['lib/google/src/Google/Service','Analytics.php',2851],['lib/google/src/Google/Service','Analytics.php',3181],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Tasks.php',309],['lib/google/src/Google/Service','Tasks.php',427],['cache/classes','loaders.php',777],['cache/classes','loaders.php',1491],['cache/classes','loaders.php',1859],['cache/stores/mongodb','lib.php',361],['lib/grade','grade_category.php',259],['cache/stores/file','lib.php',392],['lib/google/src/Google/Service','Storage.php',945],['lib/google/src/Google/Service','Storage.php',1060],['lib/google/src/Google/Service','Storage.php',1227],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1565],['admin/tool/uploadcourse/classes','course.php',226],['lib/google/src/Google/Cache','Null.php',51],['lib/filestorage','stored_file.php',323],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','AdSense.php',1257],['lib/google/src/Google/Service','AdSense.php',1729],['lib/google/src/Google/Service','Pubsub.php',239],['lib/google/src/Google/Service','Pubsub.php',378],['lib/grade','grade_scale.php',136],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Cache','File.php',106],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/google/src/Google/Service','Dns.php',370],['lib/filebrowser','file_info_stored.php',631],['lib/google/src/Google/Service','Replicapool.php',374],['lib/google/src/Google/Service','Resourceviews.php',419],['lib','badgeslib.php',620],['lib/google/src/Google/Cache','Apc.php',103],['lib/adodb','adodb-active-record.inc.php',792],['mnet','peer.php',122],['lib/grade','grade_outcome.php',97]], 260],
'get_records_select': ['get_records_select', 'Get a number of records as an array of objects which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1283]], 163],
'update_moved': ['update_moved', 'Update context info after moving context in the tree structure. ', [['lib','accesslib.php',5419]], 8],
'course_section_cm_list': ['course_section_cm_list', 'Renders HTML to display a list of course modules in a course section Also displays "move here" controls in Javascript-disabled mode ', [['course','renderer.php',1042]], 10],
'get_context_url': ['get_context_url', 'Get a URL for a context, if there is a natural one. For example, for CONTEXT_COURSE, this is the course page. For CONTEXT_USER it is the user profile page. ', [['lib','deprecatedlib.php',3651]], 4],
'course_get_cm_edit_actions': ['course_get_cm_edit_actions', 'Returns the list of all editing actions that current user can perform on the module ', [['course','lib.php',1995]], 4],
'get_device_type_list': ['get_device_type_list', 'Gets a list of known device types. ', [['lib/classes','useragent.php',211],['lib','deprecatedlib.php',3877]], 6],
'update_login_count': ['update_login_count', 'Not used any more, the account lockout handling is now part of authenticate_user_login(). ', [['lib','deprecatedlib.php',606]], 1],
'print_my_moodle': ['print_my_moodle', 'Prints custom user information on the home page ', [['lib','deprecatedlib.php',2576]], 2],
'loginas': ['loginas', 'Login as another user - no security checks here. ', [['lib/classes/session','manager.php',806]], 11],
'password_compat_not_supported': ['password_compat_not_supported', 'Checks whether the password compatibility library will work with the current version of PHP. This cannot be done using PHP version numbers since the fix has been backported to earlier versions in some distributions. ', [['lib','deprecatedlib.php',214]], 1],
'userdate': ['userdate', 'Also in ADORecordSet. ', [['lib/adodb','adodb.inc.php',2607],['lib/adodb','adodb.inc.php',3271],['lib','moodlelib.php',2150]], 496],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'touch_session': ['touch_session', 'Fake last access for given session, this prevents session timeout. ', [['lib/classes/session','manager.php',559]], 6],
'groupmode': ['groupmode', 'Returns the current group mode for a given course or activity module ', [['lib','deprecatedlib.php',918]], 0],
'update': ['update', 'Update a customer resource if one it exists and is owned by the reseller. (customers.update) ', [['lib/google/src/Google/Service','Reseller.php',343],['mod/lesson/pagetypes','matching.php',308],['lib/adodb','adodb-active-recordx.inc.php',1047],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','Fusiontables.php',726],['lib/google/src/Google/Service','Fusiontables.php',889],['lib/google/src/Google/Service','Fusiontables.php',1095],['lib/google/src/Google/Service','Fusiontables.php',1269],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Blogger.php',1332],['lib/google/src/Google/Service','Blogger.php',1630],['lib/google/src/Google/Service','Doubleclicksearch.php',325],['lib/google/src/Google/Service','AdExchangeBuyer.php',392],['lib/google/src/Google/Service','AdExchangeBuyer.php',684],['lib/grade','grade_item.php',260],['lib/google/src/Google/Service','Gmail.php',756],['lib/google/src/Google/Service','Gmail.php',908],['lib/google/src/Google/Service','Mirror.php',495],['lib/google/src/Google/Service','Mirror.php',633],['lib/google/src/Google/Service','Mirror.php',744],['lib/google/src/Google/Service','Genomics.php',690],['lib/google/src/Google/Service','Genomics.php',811],['lib/google/src/Google/Service','Genomics.php',1064],['lib/google/src/Google/Service','Genomics.php',1370],['lib/google/src/Google/Service','Genomics.php',1521],['lib/google/src/Google/Service','Dfareporting.php',570],['lib/google/src/Google/Service','PlusDomains.php',691],['lib/google/src/Google/Service','Licensing.php',332],['lib/google/src/Google/Service','Drive.php',1624],['lib/google/src/Google/Service','Drive.php',1859],['lib/google/src/Google/Service','Drive.php',2100],['lib/google/src/Google/Service','Drive.php',2211],['lib/google/src/Google/Service','Drive.php',2261],['lib/google/src/Google/Service','Drive.php',2385],['lib/google/src/Google/Service','Drive.php',2473],['completion','data_object.php',251],['lib/google/src/Google/Service','Books.php',1901],['lib/google/src/Google/Service','Bigquery.php',603],['lib/google/src/Google/Service','Bigquery.php',911],['lib/google/src/Google/Service','Groupssettings.php',137],['lib/google/src/Google/Service','YouTube.php',1596],['lib/google/src/Google/Service','YouTube.php',1697],['lib/google/src/Google/Service','YouTube.php',2201],['lib/google/src/Google/Service','YouTube.php',2439],['lib/google/src/Google/Service','YouTube.php',2613],['lib/google/src/Google/Service','YouTube.php',2809],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','Coordinate.php',568],['lib/google/src/Google/Service','Coordinate.php',680],['lib/google/src/Google/Service','Autoscaler.php',399],['calendar','lib.php',2171],['lib/google/src/Google/Service','ShoppingContent.php',633],['lib/google/src/Google/Service','ShoppingContent.php',815],['lib','weblib.php',3154],['mod/lesson','locallib.php',2682],['lib/google/src/Google/Service','SQLAdmin.php',843],['lib/google/src/Google/Service','Fitness.php',424],['lib/google/src/Google/Service','Fitness.php',607],['lib/google/src/Google/Service','TagManager.php',1004],['lib/google/src/Google/Service','TagManager.php',1093],['lib/google/src/Google/Service','TagManager.php',1186],['lib/google/src/Google/Service','TagManager.php',1279],['lib/google/src/Google/Service','TagManager.php',1372],['lib/google/src/Google/Service','TagManager.php',1466],['lib/google/src/Google/Service','TagManager.php',1560],['lib/google/src/Google/Service','TagManager.php',1711],['lib/google/src/Google/Service','TagManager.php',1804],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Directory.php',1446],['lib/google/src/Google/Service','Directory.php',1559],['lib/google/src/Google/Service','Directory.php',1724],['lib/google/src/Google/Service','Directory.php',1907],['lib/google/src/Google/Service','Directory.php',2014],['lib/google/src/Google/Service','Directory.php',2116],['lib/google/src/Google/Service','Directory.php',2337],['lib/google/src/Google/Service','Directory.php',2523],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['lib/google/src/Google/Service','AppState.php',201],['lib/google/src/Google/Service','Taskqueue.php',397],['lib/google/src/Google/Service','AndroidPublisher.php',1360],['lib/google/src/Google/Service','AndroidPublisher.php',1472],['lib/google/src/Google/Service','AndroidPublisher.php',1542],['lib/google/src/Google/Service','AndroidPublisher.php',1780],['lib/google/src/Google/Service','AndroidPublisher.php',1846],['lib/google/src/Google/Service','AndroidPublisher.php',1928],['lib/google/src/Google/Service','AndroidPublisher.php',2066],['mod/lesson/pagetypes','essay.php',158],['lib/google/src/Google/Service','AdSenseHost.php',845],['lib/google/src/Google/Service','AdSenseHost.php',1096],['lib/google/src/Google/Service','Games.php',1507],['lib/grade','grade_grade.php',940],['lib/google/src/Google/Service','SiteVerification.php',226],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Prediction.php',338],['lib/google/src/Google/Service','Compute.php',2999],['lib/google/src/Google/Service','Compute.php',3310],['lib/google/src/Google/Service','Compute.php',3814],['lib/google/src/Google/Service','Compute.php',5314],['lib/google/src/Google/Service','Calendar.php',979],['lib/google/src/Google/Service','Calendar.php',1144],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1633],['lib/google/src/Google/Service','Analytics.php',2118],['lib/google/src/Google/Service','Analytics.php',2385],['lib/google/src/Google/Service','Analytics.php',2495],['lib/google/src/Google/Service','Analytics.php',2602],['lib/google/src/Google/Service','Analytics.php',2730],['lib/google/src/Google/Service','Analytics.php',2821],['lib/google/src/Google/Service','Analytics.php',2944],['lib/google/src/Google/Service','Analytics.php',3277],['lib/google/src/Google/Service','Analytics.php',3379],['lib/google/src/Google/Service','Analytics.php',3461],['lib/google/src/Google/Service','Tasks.php',385],['lib/google/src/Google/Service','Tasks.php',555],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72],['grade/grading/form/guide','lib.php',826],['lib/grade','grade_category.php',204],['lib/google/src/Google/Service','Storage.php',1030],['lib/google/src/Google/Service','Storage.php',1165],['lib/google/src/Google/Service','Storage.php',1318],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1718],['lib/filestorage','stored_file.php',103],['grade/grading/form/rubric','lib.php',828],['lib/grade','grade_scale.php',125],['lib','coursecatlib.php',441],['lib/adodb','adodb-active-record.inc.php',878],['lib/grade','grade_outcome.php',144],['mod/lesson/pagetypes','branchtable.php',262]], 290],
'events_trigger': ['events_trigger', 'Function to call all event handlers when triggering an event ', [['lib','deprecatedlib.php',377]], 2],
'course_create_sections_if_missing': ['course_create_sections_if_missing', 'Creates missing course section(s) and rebuilds course cache ', [['course','lib.php',1434]], 16],
'get_realuser': ['get_realuser', 'Returns the $USER object ignoring current login-as session ', [['lib/classes/session','manager.php',794]], 10],
'category_delete_full': ['category_delete_full', 'Recursively delete category including all subcategories and courses. ', [['lib','deprecatedlib.php',2187]], 2],
'get_child_contexts': ['get_child_contexts', 'Recursive function which, given a context, find all its children contexts. ', [['lib','deprecatedlib.php',3408],['lib','accesslib.php',5616],['lib','accesslib.php',6272],['lib','accesslib.php',6649],['lib','accesslib.php',7372]], 24],
'create_course_category': ['create_course_category', 'Create a new course category and marks the context as dirty ', [['lib','deprecatedlib.php',2337]], 2],
'editors_head_setup': ['editors_head_setup', 'Setup all JS and CSS needed for editors. ', [['lib','editorlib.php',148]], 7],
'build_context_path': ['build_context_path', 'Populate context.path and context.depth where missing. ', [['lib','deprecatedlib.php',3458]], 6],
'clam_change_log': ['clam_change_log', 'Some of the modules allow moving attachments (glossary), in which case we need to hunt down an original log and change the path. ', [['lib','deprecatedlib.php',172]], 1],
'can_use_rotated_text': ['can_use_rotated_text', 'Can handle rotated text. Whether it is safe to use the trickery in textrotate.js. ', [['lib','deprecatedlib.php',3305]], 1],
'get_user_courses_bycap': ['get_user_courses_bycap', 'Get an array of courses where cap requested is available and user is enrolled, this can be relatively slow. ', [['lib','deprecatedlib.php',3680]], 2],
'delete_full': ['delete_full', 'Recursively delete category including all subcategories and courses ', [['lib','coursecatlib.php',1548]], 8],
'get_device_type_cfg_var_name': ['get_device_type_cfg_var_name', 'Returns the CFG var used to find the theme to use for the given device. ', [['lib/classes','useragent.php',245]], 6],
'build_all_paths': ['build_all_paths', 'Rebuild paths and depths in all context levels. ', [['lib','accesslib.php',5977]], 10],
'get_system_context': ['get_system_context', 'Returns system context or null if can not be created yet. ', [['lib','deprecatedlib.php',3360]], 5],
'dst_offset_on': ['dst_offset_on', 'Calculates the Daylight Saving Offset for a given date/time (timestamp) - Note: Daylight saving only works for string timezones and not for float. ', [['lib','moodlelib.php',2311]], 14],
'get_current_group': ['get_current_group', 'Gets the current group - either from the session variable or from the database. ', [['lib','deprecatedlib.php',953],['mod/quiz/report','default.php',74]], 3],
'httpsrequired': ['httpsrequired', '', [['lib','deprecatedlib.php',654]], 2],
'enrol_cohort_get_cohorts': ['enrol_cohort_get_cohorts', 'Gets all the cohorts the user is able to view. ', [['lib','deprecatedlib.php',4016]], 2],
'blog_get_context_url': ['blog_get_context_url', 'Returns a URL based on the context of the current page. This URL points to blog/index.php and includes filter parameters appropriate for the current page. ', [['lib','deprecatedlib.php',2907]], 1],
'get_course_context': ['get_course_context', 'Get the context of the current course. ', [['mod/assign','locallib.php',1208],['lib','deprecatedlib.php',3666],['lib','accesslib.php',5713],['lib','accesslib.php',6858],['lib','accesslib.php',7119],['lib','accesslib.php',7330],['mod/assign','gradingtable.php',1342]], 85],
'get_recent_enrolments': ['get_recent_enrolments', 'Searches logs to find all enrolments since a certain date ', [['lib','deprecatedlib.php',731],['blocks/recent_activity','block_recent_activity.php',102]], 4],
'getoffset': ['getoffset', '', [['lib/google/src/Google/Service','Genomics.php',2484],['lib/google/src/Google/Service','Datastore.php',1167]], 20],
'format_weeks_get_section_dates': ['format_weeks_get_section_dates', 'Return the start and end date of the week in Weekly course format ', [['lib','deprecatedlib.php',1632]], 1],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'get_support_user': ['get_support_user', 'Return support user record, this is currently used in messaging system only for sending messages to support email. $CFG->supportuserid is set then returns user record $CFG->supportemail is set then return dummy record with $CFG->supportemail else return admin user record with hard-coded $user->emailstop = 0, so user gets support message. ', [['lib/classes','user.php',162]], 21],
'start_tag': ['start_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',215],['lib','outputcomponents.php',1075]], 694],
'sql_concat': ['sql_concat', '', [['lib/dml','pgsql_native_moodle_database.php',1315],['lib/dml','oci_native_moodle_database.php',1550],['lib/dml','sqlsrv_native_moodle_database.php',1257],['lib/dml','sqlite3_pdo_moodle_database.php',353],['lib/dml','mssql_native_moodle_database.php',1194],['lib/dml','mysqli_native_moodle_database.php',1531],['lib/dml/tests','dml_test.php',5433],['lib/dml','pdo_moodle_database.php',536]], 73],
'update_category_button': ['update_category_button', 'Prints the turn editing on/off button on course/index.php or course/category.php. ', [['lib','deprecatedlib.php',2051]], 1],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'get_level_name': ['get_level_name', 'Returns the name of specified context level ', [['lib','accesslib.php',6080],['lib','accesslib.php',6128],['lib','accesslib.php',6370],['lib','accesslib.php',6557],['lib','accesslib.php',6789],['lib','accesslib.php',7011],['lib','accesslib.php',7253]], 13],
'update_event': ['update_event', 'Call this function to update an event in the calendar table the event will be identified by the id field of the $event object. ', [['lib','deprecatedlib.php',1440]], 2],
'get_list_of_timezones': ['get_list_of_timezones', 'Returns a localised list of timezones. ', [['lib/classes','date.php',48],['lib','deprecatedlib.php',72]], 19],
'is_user_visible': ['is_user_visible', 'Checks if an activity is visible to the given user. ', [['availability/classes','info_module.php',140]], 25],
'toggle_visibility': ['toggle_visibility', 'Toggles the visibility of an event ', [['calendar','lib.php',2563]], 6],
'get_parent_context_ids': ['get_parent_context_ids', 'Returns parent contexts of this context in reversed order, i.e. parent first, then grand parent, etc. ', [['lib','accesslib.php',5674]], 58],
'print_whole_category_list': ['print_whole_category_list', 'Recursive function to print out all the categories in a nice format with or without courses included ', [['lib','deprecatedlib.php',2655]], 3],
'context_instance_preload_sql': ['context_instance_preload_sql', 'Preloads context information together with instances. Use context_instance_preload() to strip the context info from the record and cache the context instance. ', [['lib','deprecatedlib.php',3771]], 7],
'textlib_get_instance': ['textlib_get_instance', 'Original singleton helper function, please use static methods instead, ex: core_text::convert(). ', [['lib','deprecatedlib.php',1482]], 1],
'convert_tabrows_to_tree': ['convert_tabrows_to_tree', 'Convert nested tabrows to a nested array ', [['lib','deprecatedlib.php',3264]], 1],
'get_courseid_from_context': ['get_courseid_from_context', 'Returns current course id or false if outside of course based on context parameter. ', [['lib','deprecatedlib.php',3754]], 4],
'or': ['or', '', [['lib/tcpdf','LICENSE.TXT',69]], 552],
'get_courses': ['get_courses', 'Returns list of courses, for whole site, or category ', [['lib','datalib.php',592],['course','externallib.php',390],['course','externallib.php',2151],['badges/criteria','award_criteria_courseset.php',76],['lib','coursecatlib.php',1332]], 56],
'enrol_user': ['enrol_user', 'Enrol remote user to our course ', [['enrol/mnet','enrol.php',115],['lib/testing/generator','data_generator.php',848],['enrol/guest','lib.php',54],['lib','enrollib.php',1269],['enrol/flatfile','lib.php',144]], 472],
'get_role_context_caps': ['get_role_context_caps', 'This is really slow!!! do not use above course context level ', [['lib','deprecatedlib.php',3709]], 2],
'get_courses_wmanagers': ['get_courses_wmanagers', 'Retrieve course records with the course managers and other related records that we need for print_course(). This allows print_courses() to do its job in a constant number of DB queries, regardless of the number of courses, role assignments, etc. ', [['lib','deprecatedlib.php',2961]], 2],
'get_children': ['get_children', 'Returns list of children. ', [['lib/filebrowser','file_info_context_course.php',381],['lib/filebrowser','file_info_context_course.php',530],['lib/filebrowser','file_info_context_course.php',666],['lib/filebrowser','file_info_context_course.php',812],['lib/filebrowser','file_info_context_system.php',92],['mod/book','locallib.php',462],['lib/filebrowser','file_info_context_coursecat.php',152],['mod/forum','locallib.php',481],['lib','outputcomponents.php',2767],['backup/util/structure','base_nested_element.class.php',127],['lib/filebrowser','file_info_context_module.php',258],['lib/filebrowser','file_info_context_user.php',274],['mod/data','locallib.php',493],['mod/workshop','fileinfolib.php',91],['mod/workshop','fileinfolib.php',251],['mod/imscp','locallib.php',336],['mod/lesson/classes','file_info.php',102],['mod/glossary','locallib.php',543],['lib/grade','grade_category.php',1898],['lib','adminlib.php',1036],['lib/filebrowser','file_info_stored.php',330],['lib','coursecatlib.php',981]], 79],
'session_is_loggedinas': ['session_is_loggedinas', 'Is current $USER logged-in-as somebody else? ', [['lib','deprecatedlib.php',319]], 2],
'isloggedin': ['isloggedin', 'Return true, if session is currently logged into the backend server ', [['lib/zend/Zend/Service','LiveDocx.php',293],['lib','accesslib.php',1909]], 177],
'add_to_log': ['add_to_log', 'Util function to add a message to the log. ', [['mod/assign','locallib.php',2695],['lib','deprecatedlib.php',127]], 6],
'container': ['container', 'Outputs a container. ', [['lib','outputrenderers.php',3011]], 186],
'session_is_legacy': ['session_is_legacy', 'Returns true if legacy session used. ', [['lib','deprecatedlib.php',249]], 1],
'fetch_context_capabilities': ['fetch_context_capabilities', 'Extracts the relevant capabilities given a contextid. All case based, example an instance of forum context. Will fetch all forum related capabilities, while course contexts Will fetch all capabilities ', [['lib','deprecatedlib.php',3524]], 3],
'set_current_group': ['set_current_group', 'Sets the current group in the session variable When $SESSION->currentgroup[$courseid] is set to 0 it means, show all groups. Sets currentgroup[$courseid] in the session variable appropriately. Does not do any permission checking. ', [['lib','deprecatedlib.php',935]], 1],
'course_get_format': ['course_get_format', 'Returns an instance of format class (extending format_base) for given course ', [['course/format','lib.php',27]], 88],
'delete_event': ['delete_event', '', [['lib','deprecatedlib.php',1461]], 3],
'get_selected_theme_for_device_type': ['get_selected_theme_for_device_type', 'Returns the theme selected for a particular device or false if none selected. ', [['lib','deprecatedlib.php',3889]], 1],
'get_category_courses_array_recursively': ['get_category_courses_array_recursively', 'Recursive function to help flatten the course category tree. ', [['lib','deprecatedlib.php',2889]], 4],
'formerr': ['formerr', 'Prints some red text using echo ', [['lib','deprecatedlib.php',1063]], 1],
'cohort_get_visible_list': ['cohort_get_visible_list', 'Returns list of cohorts from course parent contexts. ', [['lib','deprecatedlib.php',4050]], 8],
'navbar': ['navbar', '', [['theme/bootstrapbase/renderers','core_renderer.php',34],['lib','outputrenderers.php',3299]], 7],
'print_remote_host': ['print_remote_host', 'Prints information about one remote host ', [['lib','deprecatedlib.php',2628]], 2],
'session_get_realuser': ['session_get_realuser', 'Returns the $USER object ignoring current login-as session ', [['lib','deprecatedlib.php',329]], 2],
'get_device_type': ['get_device_type', 'Returns the device type we believe is being used. ', [['lib/classes','useragent.php',149],['lib','deprecatedlib.php',3864]], 11],
'print_badges_list': ['print_badges_list', '', [['badges','renderer.php',36]], 7],
'https_required': ['https_required', 'This function indicates that current page requires the https when $CFG->loginhttps enabled. ', [['lib','pagelib.php',1374]], 15],
'js_minify': ['js_minify', 'Minify JavaScript files. ', [['lib','deprecatedlib.php',351]], 3],
'calendar_normalize_tz': ['calendar_normalize_tz', 'Convert region timezone to php supported timezone ', [['lib','deprecatedlib.php',33]], 1],
'get_context_instance': ['get_context_instance', 'Get the context instance as an object. This function will create the context instance if it does not exist yet. ', [['lib','deprecatedlib.php',3316]], 5],
'make_categories_list': ['make_categories_list', 'This function recursively travels the categories, building up a nice list for display. It also makes an array that list all the parents for each category. ', [['lib','deprecatedlib.php',2091],['lib','coursecatlib.php',2073]], 24],
'rebuild_course_cache': ['rebuild_course_cache', 'Rebuilds or resets the cached list of course activities stored in MUC. ', [['lib','modinfolib.php',2203]], 40],
'addhelpbutton': ['addhelpbutton', 'Add a help button to element, only one button per element is allowed. ', [['lib','formslib.php',1870]], 612],
'create_contexts': ['create_contexts', 'Precreates all contexts including all parents. ', [['lib','deprecatedlib.php',3431]], 4],
'badges_get_user_badges': ['badges_get_user_badges', 'Get badges for a specific user. ', [['lib','badgeslib.php',842]], 13],
'get_cache_flags': ['get_cache_flags', 'Get volatile flags ', [['lib','moodlelib.php',1632]], 10],
'get_file_packer': ['get_file_packer', 'Returns file packer ', [['lib','moodlelib.php',6004]], 58],
'during_initial_install': ['during_initial_install', 'Indicates whether we are in the middle of the initial Moodle install. ', [['lib','setuplib.php',1124]], 48],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'get_class_for_level': ['get_class_for_level', 'Returns a class name of the context level class ', [['lib','accesslib.php',5897]], 6],
'cleardoubleslashes': ['cleardoubleslashes', 'Replace 1 or more slashes or backslashes to 1 slash ', [['lib','moodlelib.php',8245]], 8],
'get_section_dates': ['get_section_dates', 'Return the start and end date of the passed section ', [['course/format/weeks','lib.php',364]], 3],
'fetch_all': ['fetch_all', 'Finds and returns all grade_object instances based on $params. ', [['lib/grade','grade_object.php',138],['lib/grade','grade_item.php',343],['completion/criteria','completion_criteria.php',153],['completion','data_object.php',165],['completion','completion_criteria_completion.php',84],['lib/grade','grade_grade.php',586],['lib/grade','grade_category.php',194],['lib/grade','grade_scale.php',100],['completion','completion_aggregation.php',79],['lib/grade','grade_outcome.php',193]], 65],
'can_edit_in_category': ['can_edit_in_category', 'Does the user have permission to edit things in this category? ', [['course','lib.php',1410]], 4],
'delete_context': ['delete_context', 'Remove a context record and any dependent entries, removes context from static context cache too ', [['lib','deprecatedlib.php',3625]], 8],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'print_container_end': ['print_container_end', '', [['lib','deprecatedlib.php',1099]], 2],
'arrow': ['arrow', 'Draws a grahic arrow. ', [['lib/tcpdf','tcpdf.php',12119]], 6],
'set_user': ['set_user', 'Set current user. ', [['lib/classes/session','manager.php',681]], 29],
'choose_from_menu': ['choose_from_menu', 'Given an array of values, output the HTML for a select element with those options. ', [['lib','deprecatedlib.php',1311]], 1],
'get_formatted_name': ['get_formatted_name', 'Returns the name to display on course/overview page, formatted and passed through filters ', [['lib','modinfolib.php',1294],['lib','coursecatlib.php',2035],['lib','coursecatlib.php',2891]], 52],
'js': ['js', 'Ensure that the specified JavaScript file is linked to from this page. ', [['lib','outputrequirementslib.php',398],['lib/classes','minify.php',31],['grade/report/singleview/classes/local/screen','screen.php',245]], 75],
'update_module_button': ['update_module_button', 'Prints the \'update this xxx\' button that appears on module pages. ', [['lib','deprecatedlib.php',1382],['lib','outputrenderers.php',2598]], 2],
'groups_filter_users_by_course_module_visible': ['groups_filter_users_by_course_module_visible', 'Filter a user list and return only the users that can see the course module based on groups/permissions etc. It is assumed that the users are pre-filtered to those who are enrolled in the course. ', [['lib','deprecatedlib.php',992]], 2],
'reset_login_count': ['reset_login_count', 'Not used any more, replaced by proper account lockout. ', [['lib','deprecatedlib.php',616]], 1],
'get_device_cfg_var_name': ['get_device_cfg_var_name', 'Returns the name of the device type theme var in $CFG because there is not a convention to allow backwards compatibility. ', [['lib','deprecatedlib.php',3901]], 1],
'get': ['get', 'Gets a customer resource if one exists and is owned by the reseller. (customers.get) ', [['lib/google/src/Google/Service','Reseller.php',294],['lib/google/src/Google/Service','Reseller.php',457],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['lib/google/src/Google/Service','Replicapoolupdater.php',275],['lib/zend/Zend/Gdata','Gapps.php',187],['lib/google/src/Google/Service','Fusiontables.php',658],['lib/google/src/Google/Service','Fusiontables.php',823],['lib/google/src/Google/Service','Fusiontables.php',947],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',148],['lib/htmlpurifier/HTMLPurifier','Context.php',36],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','Blogger.php',931],['lib/google/src/Google/Service','Blogger.php',962],['lib/google/src/Google/Service','Blogger.php',1066],['lib/google/src/Google/Service','Blogger.php',1184],['lib/google/src/Google/Service','Blogger.php',1226],['lib/google/src/Google/Service','Blogger.php',1365],['lib/google/src/Google/Service','Blogger.php',1448],['lib/google/src/Google/Service','Blogger.php',1669],['lib/google/src/Google/Service','Doubleclicksearch.php',256],['lib/google/src/Google/Service','Doubleclicksearch.php',380],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','AdExchangeBuyer.php',349],['lib/google/src/Google/Service','AdExchangeBuyer.php',419],['lib/google/src/Google/Service','AdExchangeBuyer.php',460],['lib/google/src/Google/Service','AdExchangeBuyer.php',528],['lib/google/src/Google/Service','AdExchangeBuyer.php',620],['lib/google/src/Google/Service','Manager.php',255],['lib/google/src/Google/Service','Manager.php',334],['lib/google/src/Google/Service','Reports.php',374],['lib/google/src/Google/Service','Reports.php',408],['lib/portfolio','exporter.php',134],['lib','webdavlib.php',264],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','Gmail.php',702],['lib/google/src/Google/Service','Gmail.php',859],['lib/google/src/Google/Service','Gmail.php',952],['lib/google/src/Google/Service','Gmail.php',1118],['lib/google/src/Google/Service','Gmail.php',1162],['lib/google/src/Google/Service','Plus.php',352],['lib/google/src/Google/Service','Plus.php',427],['lib/google/src/Google/Service','Plus.php',547],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/testing/classes','nasty_strings.php',73],['lib/google/src/Google/Service','Mirror.php',437],['lib/google/src/Google/Service','Mirror.php',522],['lib/google/src/Google/Service','Mirror.php',562],['lib/google/src/Google/Service','Mirror.php',673],['lib/google/src/Google/Service','Mirror.php',785],['lib/google/src/Google/Service','Genomics.php',645],['lib/google/src/Google/Service','Genomics.php',744],['lib/google/src/Google/Service','Genomics.php',891],['lib/google/src/Google/Service','Genomics.php',997],['lib/google/src/Google/Service','Genomics.php',1187],['lib/google/src/Google/Service','Genomics.php',1269],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1430],['lib/google/src/Google/Service','Urlshortener.php',108],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Dfareporting.php',421],['lib/google/src/Google/Service','Dfareporting.php',484],['lib/google/src/Google/Service','Dfareporting.php',626],['lib/google/src/Google/Service','Dfareporting.php',675],['lib/google/src/Google/Service','PlusDomains.php',467],['lib/google/src/Google/Service','PlusDomains.php',592],['lib/google/src/Google/Service','PlusDomains.php',718],['lib/google/src/Google/Service','PlusDomains.php',812],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','Licensing.php',236],['lib/google/src/Google/Service','Drive.php',1277],['lib/google/src/Google/Service','Drive.php',1313],['lib/google/src/Google/Service','Drive.php',1366],['lib/google/src/Google/Service','Drive.php',1476],['lib/google/src/Google/Service','Drive.php',1550],['lib/google/src/Google/Service','Drive.php',1706],['lib/google/src/Google/Service','Drive.php',1946],['lib/google/src/Google/Service','Drive.php',2016],['lib/google/src/Google/Service','Drive.php',2147],['lib/google/src/Google/Service','Drive.php',2241],['lib/google/src/Google/Service','Drive.php',2309],['lib/google/src/Google/Service','Drive.php',2428],['lib/google/src/Google/Service','Books.php',1343],['lib/google/src/Google/Service','Books.php',1512],['lib/google/src/Google/Service','Books.php',1564],['lib/google/src/Google/Service','Books.php',1639],['lib/google/src/Google/Service','Books.php',1819],['lib/google/src/Google/Service','Books.php',1960],['lib/google/src/Google/Service','Books.php',2077],['lib/google/src/Google/Service','Books.php',2175],['lib/google/src/Google/Service','Books.php',2207],['lib/zend/Zend/Gdata','App.php',847],['lib/google/src/Google/Service','AdExchangeSeller.php',443],['lib/google/src/Google/Service','AdExchangeSeller.php',551],['lib/google/src/Google/Service','AdExchangeSeller.php',665],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['lib/google/src/Google/Cache','Memcache.php',72],['lib/google/src/Google/Service','Bigquery.php',533],['lib/google/src/Google/Service','Bigquery.php',633],['lib/google/src/Google/Service','Bigquery.php',838],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['cache','disabledlib.php',55],['lib/zend/Zend/Server','Cache.php',78],['lib/google/src/Google/Service','Groupssettings.php',107],['cache/stores/memcached','lib.php',285],['lib/google/src/Google/Service','Coordinate.php',476],['lib/google/src/Google/Service','Coordinate.php',642],['lib/zend/Zend','Registry.php',130],['lib/google/src/Google/Service','Webmasters.php',314],['lib/google/src/Google/Service','Webmasters.php',403],['lib/google/src/Google/Service','Webmasters.php',479],['lib/google/src/Google/Service','Autoscaler.php',330],['lib/google/src/Google/Service','Autoscaler.php',444],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/google/src/Google/Service','ShoppingContent.php',567],['lib/google/src/Google/Service','ShoppingContent.php',675],['lib/google/src/Google/Service','ShoppingContent.php',749],['lib/google/src/Google/Service','ShoppingContent.php',857],['lib/google/src/Google/Service','ShoppingContent.php',985],['lib/google/src/Google/Service','ShoppingContent.php',1062],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/editor/tinymce/classes','plugin.php',447],['mod/lesson','locallib.php',3239],['lib/horde/framework/Horde','Variables.php',135],['lib/google/src/Google/Service','SQLAdmin.php',528],['lib/google/src/Google/Service','SQLAdmin.php',664],['lib/google/src/Google/Service','SQLAdmin.php',872],['lib/google/src/Google/Service','SQLAdmin.php',941],['lib/google/src/Google/Service','Fitness.php',363],['lib/google/src/Google/Service','Fitness.php',489],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1063],['lib/google/src/Google/Service','TagManager.php',1155],['lib/google/src/Google/Service','TagManager.php',1248],['lib/google/src/Google/Service','TagManager.php',1341],['lib/google/src/Google/Service','TagManager.php',1434],['lib/google/src/Google/Service','TagManager.php',1528],['lib/google/src/Google/Service','TagManager.php',1622],['lib/google/src/Google/Service','TagManager.php',1772],['lib/google/src/Google/Service','Directory.php',1315],['lib/google/src/Google/Service','Directory.php',1383],['lib/google/src/Google/Service','Directory.php',1490],['lib/google/src/Google/Service','Directory.php',1656],['lib/google/src/Google/Service','Directory.php',1783],['lib/google/src/Google/Service','Directory.php',1853],['lib/google/src/Google/Service','Directory.php',1949],['lib/google/src/Google/Service','Directory.php',2056],['lib/google/src/Google/Service','Directory.php',2160],['lib/google/src/Google/Service','Directory.php',2218],['lib/google/src/Google/Service','Directory.php',2493],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['cache/stores/static','lib.php',220],['question/engine','states.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/google/src/Google/Service','AppState.php',170],['lib/google/src/Google/Service','Taskqueue.php',263],['lib/google/src/Google/Service','Taskqueue.php',307],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Container.php',364],['lib/google/src/Google/Service','Container.php',411],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','AndroidPublisher.php',1194],['lib/google/src/Google/Service','AndroidPublisher.php',1296],['lib/google/src/Google/Service','AndroidPublisher.php',1437],['lib/google/src/Google/Service','AndroidPublisher.php',1500],['lib/google/src/Google/Service','AndroidPublisher.php',1723],['lib/google/src/Google/Service','AndroidPublisher.php',1811],['lib/google/src/Google/Service','AndroidPublisher.php',1875],['lib/google/src/Google/Service','AndroidPublisher.php',1987],['lib/google/src/Google/Service','AndroidPublisher.php',2112],['lib/google/src/Google/Service','AndroidPublisher.php',2182],['lib/zend/Zend','Date.php',516],['lib/google/src/Google/Service','AdSenseHost.php',644],['lib/google/src/Google/Service','AdSenseHost.php',685],['lib/google/src/Google/Service','AdSenseHost.php',750],['lib/google/src/Google/Service','AdSenseHost.php',917],['lib/google/src/Google/Service','AdSenseHost.php',1025],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Games.php',1219],['lib/google/src/Google/Service','Games.php',1338],['lib/google/src/Google/Service','Games.php',1440],['lib/google/src/Google/Service','Games.php',1698],['lib/google/src/Google/Service','Games.php',1805],['lib/google/src/Google/Service','Games.php',1947],['lib/google/src/Google/Service','Games.php',2081],['lib','filelib.php',3341],['lib','filelib.php',3589],['lib','oauthlib.php',302],['lib/google/src/Google/Service','MapsEngine.php',1529],['lib/google/src/Google/Service','MapsEngine.php',1708],['lib/google/src/Google/Service','MapsEngine.php',2005],['lib/google/src/Google/Service','MapsEngine.php',2267],['lib/google/src/Google/Service','MapsEngine.php',2359],['lib/google/src/Google/Service','MapsEngine.php',2665],['lib/google/src/Google/Service','MapsEngine.php',2926],['lib/google/src/Google/Service','MapsEngine.php',3117],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','SiteVerification.php',151],['lib/horde/framework/Horde/Support','Array.php',30],['lib/google/src/Google/Service','Prediction.php',275],['cache/stores/session','lib.php',225],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Compute.php',2828],['lib/google/src/Google/Service','Compute.php',2911],['lib/google/src/Google/Service','Compute.php',3050],['lib/google/src/Google/Service','Compute.php',3155],['lib/google/src/Google/Service','Compute.php',3240],['lib/google/src/Google/Service','Compute.php',3377],['lib/google/src/Google/Service','Compute.php',3478],['lib/google/src/Google/Service','Compute.php',3558],['lib/google/src/Google/Service','Compute.php',3676],['lib/google/src/Google/Service','Compute.php',3741],['lib/google/src/Google/Service','Compute.php',3876],['lib/google/src/Google/Service','Compute.php',3957],['lib/google/src/Google/Service','Compute.php',4132],['lib/google/src/Google/Service','Compute.php',4306],['lib/google/src/Google/Service','Compute.php',4355],['lib/google/src/Google/Service','Compute.php',4421],['lib/google/src/Google/Service','Compute.php',4486],['lib/google/src/Google/Service','Compute.php',4559],['lib/google/src/Google/Service','Compute.php',4611],['lib/google/src/Google/Service','Compute.php',4675],['lib/google/src/Google/Service','Compute.php',4756],['lib/google/src/Google/Service','Compute.php',4822],['lib/google/src/Google/Service','Compute.php',4943],['lib/google/src/Google/Service','Compute.php',5085],['lib/google/src/Google/Service','Compute.php',5244],['lib/google/src/Google/Service','Compute.php',5376],['lib/google/src/Google/Service','Compute.php',5428],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Calendar.php',900],['lib/google/src/Google/Service','Calendar.php',1053],['lib/google/src/Google/Service','Calendar.php',1241],['lib/google/src/Google/Service','Calendar.php',1337],['lib/google/src/Google/Service','Calendar.php',1379],['lib/google/src/Google/Service','Calendar.php',1780],['lib/google/src/Google/Service','Analytics.php',1891],['lib/google/src/Google/Service','Analytics.php',1940],['lib/google/src/Google/Service','Analytics.php',1987],['lib/google/src/Google/Service','Analytics.php',2309],['lib/google/src/Google/Service','Analytics.php',2429],['lib/google/src/Google/Service','Analytics.php',2522],['lib/google/src/Google/Service','Analytics.php',2648],['lib/google/src/Google/Service','Analytics.php',2867],['lib/google/src/Google/Service','Analytics.php',3004],['lib/google/src/Google/Service','Analytics.php',3095],['lib/google/src/Google/Service','Analytics.php',3197],['lib/google/src/Google/Service','Analytics.php',3308],['lib/google/src/Google/Service','Tasks.php',322],['lib/google/src/Google/Service','Tasks.php',441],['lib/behat/classes','behat_context_helper.php',66],['backup/cc/cc_lib/gral_lib','cssparser.php',137],['cache/classes','loaders.php',270],['cache/classes','loaders.php',1442],['cache/classes','loaders.php',1749],['cache/stores/mongodb','lib.php',252],['lib/zend/Zend/Service','Audioscrobbler.php',110],['lib/google/src/Google/Service','Oauth2.php',143],['lib/google/src/Google/Service','Oauth2.php',180],['cache/stores/file','lib.php',329],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Storage.php',962],['lib/google/src/Google/Service','Storage.php',1078],['lib/google/src/Google/Service','Storage.php',1244],['lib/google/src/Google/Service','Storage.php',1370],['lib/google/src/Google/Service','Storage.php',1592],['lib/google/src/Google/Cache','Null.php',34],['lib/google/src/Google/Service','AdSense.php',1075],['lib/google/src/Google/Service','AdSense.php',1154],['lib/google/src/Google/Service','AdSense.php',1302],['lib/google/src/Google/Service','AdSense.php',1518],['lib/google/src/Google/Service','AdSense.php',1630],['lib/google/src/Google/Service','AdSense.php',1772],['lib/google/src/Google/Service','AdSense.php',2046],['lib/google/src/Google/Service','Pubsub.php',254],['lib/google/src/Google/Service','Pubsub.php',393],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['lib/google/src/Google/Cache','File.php',45],['lib','navigationlib.php',382],['lib','navigationlib.php',833],['lib','navigationlib.php',2693],['lib','navigationlib.php',3126],['lib/google/src/Google/Service','Dns.php',299],['lib/google/src/Google/Service','Dns.php',385],['lib/google/src/Google/Service','Dns.php',434],['lib/mustache/src/Mustache','HelperCollection.php',81],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapool.php',416],['lib/google/src/Google/Service','Replicapool.php',571],['lib/google/src/Google/Service','Resourceviews.php',350],['lib/google/src/Google/Service','Resourceviews.php',435],['lib','coursecatlib.php',215],['lib/google/src/Google/Cache','Apc.php',50],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163]], 21003],
'get_badge_assertion': ['get_badge_assertion', 'Get badge assertion. ', [['badges/classes','assertion.php',79]], 4],
'notify': ['notify', 'Send a message from one user to another using events_trigger ', [['course','lib.php',3141],['lib','deprecatedlib.php',1103]], 56],
'get_module_types_names': ['get_module_types_names', 'Returns the localised human-readable names of all used modules ', [['course','lib.php',1148]], 16],
'cleanup_instances': ['cleanup_instances', 'Remove stale contexts that belonged to deleted instances. Ideally all code should cleanup contexts properly, unfortunately accidents happen... ', [['lib','accesslib.php',5924]], 7],
'end_tag': ['end_tag', '', [['backup/util/xml/parser','progressive_parser.class.php',261],['lib','outputcomponents.php',1086],['backup/util/xml','xml_writer.class.php',177]], 858],
'get_name': ['get_name', 'Return localised event name. ', [['report/log/classes/event','user_report_viewed.php',54],['mod/wiki/classes/event','page_deleted.php',54],['mod/forum/classes/message/inbound','reply_handler.php',50],['mod/chat/classes/event','sessions_viewed.php',65],['mod/glossary/classes/event','category_deleted.php',46],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['lib/classes/event','tag_updated.php',58],['lib/classes/event','course_resources_list_viewed.php',60],['mod/lesson/classes/event','content_page_viewed.php',48],['lib/classes/event','blog_association_created.php',56],['lib/classes/event','user_profile_viewed.php',56],['mod/feedback/classes/event','response_submitted.php',60],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','badge_awarded.php',54],['report/outline/classes/event','report_viewed.php',54],['question/classes/bank','checkbox_column.php',32],['mod/assign/classes/event','extension_granted.php',77],['admin/tool/capability/classes/event','report_viewed.php',47],['portfolio/picasa','lib.php',33],['lib/classes/event','message_viewed.php',54],['lib/classes/event','course_category_created.php',48],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/task','context_cleanup_task.php',32],['mod/survey/classes/event','response_submitted.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['cache/classes','definition.php',604],['report/loglive/classes/event','report_viewed.php',48],['mod/forum/classes/event','post_deleted.php',67],['mod/assign/classes/event','submission_duplicated.php',77],['mod/chat/classes/event','message_sent.php',59],['mod/workshop/classes/event','submission_created.php',63],['lib/classes/event','note_updated.php',56],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/feedback/classes/event','response_deleted.php',57],['lib/classes/event','course_module_instance_list_viewed.php',75],['mod/assign/classes/event','submission_locked.php',78],['enrol/imsenterprise/classes/task','cron_task.php',34],['mod/lesson/classes/event','page_updated.php',72],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['mod/quiz/classes/event','attempt_preview_started.php',54],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/task','calendar_cron_task.php',31],['mod/quiz/classes/event','report_viewed.php',56],['mod/lesson/classes/event','question_answered.php',54],['lib/portfolio','plugin.php',120],['mod/forum/classes/event','discussion_viewed.php',60],['mod/workshop/classes/event','submission_viewed.php',63],['lib/classes/task','registration_cron_task.php',31],['mod/assign/submission/file','locallib.php',44],['mod/assign/classes/event','submission_updated.php',57],['mod/workshop/classes/event','submission_reassessed.php',77],['mod/glossary/classes/event','entry_deleted.php',54],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','user_created.php',48],['question/classes/bank','preview_action_column.php',26],['mod/data/classes/event','field_updated.php',57],['mod/assign/submission/onlinetext','locallib.php',40],['mod/data/classes/event','template_updated.php',56],['lib/classes/event','comment_created.php',58],['lib/classes/event','cohort_deleted.php',49],['lib/grade','grade_item.php',1274],['mod/scorm/classes/event','tracks_viewed.php',64],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','course_viewed.php',75],['grade/report/overview/classes/event','grade_report_viewed.php',48],['lib/classes/task','stats_cron_task.php',31],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','course_content_deleted.php',54],['lib/classes/task','backup_cleanup_task.php',31],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/quiz/classes/event','attempt_abandoned.php',63],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','phase_switched.php',75],['lib/classes/event','base.php',282],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','content_viewed.php',80],['backup/util/ui','backup_ui.class.php',194],['lib/classes/event','course_completion_updated.php',47],['report/completion/classes/event','report_viewed.php',49],['lib/dml','pgsql_native_moodle_database.php',88],['backup/util/settings','base_setting.class.php',145],['lib/classes/task','messaging_cleanup_task.php',31],['question/classes/bank','modifier_name_column.php',27],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_reset_ended.php',53],['mod/choice/classes/event','answer_submitted.php',72],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/wiki/classes/event','page_diff_viewed.php',55],['lib/classes/event','course_category_updated.php',51],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/task','session_cleanup_task.php',31],['lib/classes/task','completion_cron_task.php',31],['lib/classes/event','webservice_service_created.php',65],['lib/classes/event','course_created.php',55],['lib/dml','oci_native_moodle_database.php',94],['mod/lesson/classes/event','lesson_started.php',48],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','calendar_event_deleted.php',58],['backup/util/plan','base_task.class.php',58],['lib/classes/event','group_created.php',65],['mod/quiz/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['repository/coursefiles','lib.php',183],['mod/assign/classes/event','submission_viewed.php',76],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/event','user_password_updated.php',70],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['backup/util/ui','restore_ui.class.php',349],['lib/classes/event','user_loggedinas.php',57],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['lib','modinfolib.php',1285],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/forum/classes/event','discussion_moved.php',66],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['mod/survey/classes/event','report_downloaded.php',55],['mod/wiki/classes/event','page_updated.php',54],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','user_list_viewed.php',56],['mod/forum/classes/event','readtracking_disabled.php',64],['lib/classes/event','comments_viewed.php',51],['lib/classes/event','cohort_member_added.php',49],['lib/classes/event','grouping_created.php',65],['lib/classes/event','recent_activity_viewed.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/dml','sqlsrv_native_moodle_database.php',102],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['question/classes/bank','question_name_column.php',28],['lib/classes/event','user_login_failed.php',56],['lib/classes/event','message_contact_added.php',48],['lib','enrollib.php',1075],['question/classes/bank','question_text_row.php',35],['lib/classes/event','role_allow_assign_updated.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['user/selector','lib.php',309],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/classes/event','email_failed.php',48],['portfolio/flickr','lib.php',41],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/classes/event','tag_removed.php',58],['mod/lesson/classes/event','highscores_viewed.php',48],['report/stats/classes/event','user_report_viewed.php',48],['mod/quiz/classes/event','group_override_deleted.php',54],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/log','reader.php',30],['mod/lesson/classes/event','question_viewed.php',54],['mod/scorm/classes/event','interactions_viewed.php',63],['lib/classes/event','course_module_updated.php',57],['mod/forum/classes/event','discussion_subscription_created.php',66],['lib/classes/task','plagiarism_cron_task.php',31],['mod/quiz/classes/event','question_manually_graded.php',55],['lib/classes/event','mnet_access_control_created.php',57],['lib/classes/event','role_assigned.php',56],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/lti/classes/local/ltiservice','service_base.php',87],['lib/classes/event','unknown_logged.php',43],['lib/simplepie/library/SimplePie','Author.php',106],['mod/scorm/classes/event','user_report_viewed.php',62],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['mod/forum/classes/task','cron_task.php',30],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','user_updated.php',48],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','comment_deleted.php',58],['mod/assign/classes/event','marker_updated.php',89],['lib/classes/event','webservice_login_failed.php',71],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','cohort_updated.php',49],['mod/assign/submission/comments','locallib.php',39],['lib/editor/tinymce/classes','plugin.php',101],['mod/forum/classes/event','post_updated.php',67],['mod/book/classes/event','chapter_viewed.php',79],['portfolio/download','lib.php',9],['lib/classes/event','note_deleted.php',56],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/task','file_trash_cleanup_task.php',31],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/book/classes/event','chapter_deleted.php',79],['lib/classes/event','course_deleted.php',56],['lib/classes/event','blog_entry_deleted.php',53],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['question/classes/bank','copy_action_column.php',35],['mod/assign/feedback/editpdf','locallib.php',43],['lib/classes/event','webservice_token_created.php',65],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','group_updated.php',65],['mod/quiz/classes/event','attempt_started.php',56],['mod/lesson/classes/event','group_override_updated.php',54],['lib/classes/event','course_module_viewed.php',62],['lib/classes/event','mnet_access_control_updated.php',57],['mod/quiz/classes/question/bank','add_action_column.php',45],['question/classes/bank','edit_action_column.php',35],['lib/classes/message/inbound','private_files_handler.php',56],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/quiz/classes/event','attempt_submitted.php',63],['mod/data/classes/event','field_created.php',58],['lib/classes/task','automated_backup_task.php',31],['lib/classes/event','question_category_created.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['backup/util/ui','restore_ui_stage.class.php',75],['backup/converter/moodle1','lib.php',1033],['mod/lesson/classes/event','group_override_created.php',55],['mod/workshop/classes/event','assessments_reset.php',74],['mod/lesson/classes/event','lesson_resumed.php',48],['mod/assign/classes/event','feedback_viewed.php',76],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['lib/classes/event','blog_entry_updated.php',74],['report/questioninstances/classes/event','report_viewed.php',55],['mod/assign/classes/event','submission_form_viewed.php',82],['mod/folder/classes/event','folder_updated.php',48],['mod/assign/classes/event','submission_created.php',57],['mod/assign/classes/event','statement_accepted.php',77],['lib/classes/event','grade_deleted.php',94],['lib/classes/event','role_capabilities_updated.php',51],['lib/classes/event','blog_entries_viewed.php',62],['lib/tests','messageinbound_test.php',170],['mod/wiki/classes/event','page_viewed.php',48],['lib/classes/event','group_deleted.php',65],['question/classes/bank','delete_action_column.php',36],['lib/classes/event','webservice_token_sent.php',56],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['lib/classes/task','create_contexts_task.php',31],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/assign/classes/event','submission_status_updated.php',79],['mod/assign/classes/event','grading_form_viewed.php',82],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','course_module_completion_updated.php',48],['mod/assign/feedback/file','locallib.php',45],['mod/workshop/classes/event','assessment_evaluated.php',66],['report/log/classes/event','report_viewed.php',58],['lib/classes/event','course_module_deleted.php',56],['lib/dml','mssql_native_moodle_database.php',83],['repository','lib.php',1884],['mod/book/classes/event','chapter_created.php',79],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','cohort_created.php',49],['lib/classes/event','webservice_function_called.php',67],['mod/scorm/classes/event','sco_launched.php',64],['lib/classes/event','blog_entry_created.php',76],['lib/classes/event','user_enrolment_created.php',53],['mod/data/classes/event','record_created.php',56],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','user_enrolment_updated.php',53],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/task','cache_cleanup_task.php',31],['mod/lesson/classes/event','page_moved.php',56],['mod/glossary/classes/event','category_created.php',46],['mod/lesson/classes/event','page_created.php',54],['lib/classes/event','cohort_member_removed.php',50],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/wiki/classes/event','page_version_viewed.php',54],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','role_allow_override_updated.php',47],['lib/classes/task','cache_cron_task.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib/classes/event','grouping_updated.php',65],['admin/tool/monitor/classes/event','rule_updated.php',50],['lib/classes/event','course_module_created.php',86],['lib/classes/event','tag_added.php',58],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/assign/classes/event','assessable_submitted.php',109],['mod/workshop/classes/event','submission_updated.php',63],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','grouping_deleted.php',72],['backup/util/ui','backup_ui_setting.class.php',86],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['backup/converter','convertlib.php',109],['lib/classes/event','tag_flagged.php',55],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/task','question_cron_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['lib/classes/event','tag_created.php',55],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','note_created.php',56],['lib/simplepie/library/SimplePie','Credit.php',139],['lib/bennu','iCalendar_components.php',37],['lib/dml','mysqli_native_moodle_database.php',352],['lib/classes/event','course_reset_started.php',53],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','webservice_service_user_removed.php',59],['mod/data/classes/event','record_deleted.php',56],['mod/choice/classes/event','answer_updated.php',72],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','group_member_removed.php',69],['mod/glossary/classes/event','entry_viewed.php',48],['mod/forum/classes/event','user_report_viewed.php',65],['lib/classes/event','course_category_deleted.php',59],['lib/classes/task','events_cron_task.php',31],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','calendar_event_created.php',58],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','webservice_service_updated.php',59],['backup/util/ui','base_ui_stage.class.php',110],['mod/wiki/classes/event','page_version_restored.php',54],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/data/classes/event','template_viewed.php',55],['lib/classes/event','course_user_report_viewed.php',66],['mod/data/classes/event','record_updated.php',56],['mod/wiki/classes/event','page_map_viewed.php',54],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['lib/grade','grade_category.php',2128],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/assign/feedback/comments','locallib.php',36],['question/behaviour','behaviourbase.php',83],['calendar/type/gregorian/classes','structure.php',29],['lib/classes/event','role_unassigned.php',53],['lib/classes/task','tag_cron_task.php',31],['lib/classes/task','blog_cron_task.php',31],['lib/classes/event','course_restored.php',58],['backup/util/structure','base_atom.class.php',71],['portfolio/boxnet','lib.php',14],['mod/choice/classes/event','report_viewed.php',47],['lib/classes/event','user_deleted.php',57],['lib/classes/event','user_enrolment_deleted.php',54],['lib/classes/task','send_failed_login_notifications_task.php',34],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/assign/classes/event','identities_revealed.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','course_updated.php',58],['admin/tool/log/classes/helper','reader.php',41],['mod/forum/classes/event','post_created.php',67],['mod/data/classes/event','field_deleted.php',57],['lib/classes/event','tag_deleted.php',55],['mod/glossary/classes/event','entry_created.php',52],['mod/forum/classes/event','discussion_created.php',65],['mod/forum/classes/event','discussion_deleted.php',66],['mod/scorm/classes/event','attempt_deleted.php',62],['mod/lesson/classes/event','lesson_ended.php',49],['lib/grade','grade_scale.php',156],['admin/tool/monitor/classes','subscription.php',123],['mod/forum/classes/event','subscribers_viewed.php',65],['backup/util/structure','restore_path_element.class.php',98],['mod/scorm/classes/event','report_viewed.php',63],['lib/classes/task','grade_cron_task.php',31],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib/dml/tests','dml_test.php',5409],['mod/lesson/classes/event','user_override_deleted.php',53],['report/completion/classes/event','user_report_viewed.php',49],['admin/tool/langimport/classes/event','langpack_imported.php',80],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/feedback/offline','locallib.php',42],['mod/lesson/classes/event','highscore_added.php',56],['mod/lesson/classes/event','essay_assessed.php',78],['lib/classes/event','message_sent.php',82],['lib/classes/event','message_contact_removed.php',48],['lib/classes/event','tag_unflagged.php',55],['mod/assign/classes/event','submission_graded.php',78],['lib','csslib.php',2155],['lib','csslib.php',2283],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/event','calendar_event_updated.php',58],['mod/lesson/classes/event','user_override_created.php',53],['lib/classes/task','legacy_plugin_cron_task.php',33],['portfolio/googledocs','lib.php',54],['mod/workshop/classes/event','assessment_reevaluated.php',76],['lib/dml','pdo_moodle_database.php',113],['lib','medialib.php',345],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','webservice_service_user_added.php',59],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['lib/classes/event','notes_viewed.php',49],['mod/glossary/classes/event','entry_updated.php',52],['admin/tool/monitor/classes/event','rule_created.php',50],['lib/classes/task','check_for_updates_task.php',31],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/classes/event','course_completed.php',73],['mod/assign/classes/event','submission_status_viewed.php',81],['portfolio/mahara','lib.php',61],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_created.php',48],['mod/quiz/classes/event','group_override_created.php',55],['lib/classes/task','delete_incomplete_users_task.php',31],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','group_member_added.php',78],['lib/classes/event','message_contact_unblocked.php',48],['mod/quiz/classes/event','attempt_deleted.php',47],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','user_loggedin.php',64],['admin/tool/monitor/classes/task','clean_events.php',32],['question/classes/bank','question_type_column.php',26],['admin/tool/monitor/classes','rule.php',239],['mod/lesson/classes/event','lesson_restarted.php',48],['lib/grade','grade_outcome.php',272]], 409],
'course_category_show': ['course_category_show', 'Show course category and child course and subcategories ', [['lib','deprecatedlib.php',2261]], 2],
'kill_session': ['kill_session', 'Kill one session, the session record is removed afterwards. ', [['lib/classes/session','file.php',107],['lib/classes/session','database.php',106],['lib/classes/session','memcache.php',194],['lib/classes/session','manager.php',590],['lib/classes/session','memcached.php',196]], 17],
'add_mod_to_section': ['add_mod_to_section', 'Given a full mod object with section and course already defined, adds this module to that section. ', [['lib','deprecatedlib.php',1544]], 1],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',2001]], 277],
'useredit_shared_definition_preferences': ['useredit_shared_definition_preferences', 'Adds user preferences elements to user edit form. ', [['lib','deprecatedlib.php',4269]], 1],
'get_backpack_settings': ['get_backpack_settings', 'Returns external backpack settings and badges from this backpack. ', [['lib','badgeslib.php',1056]], 4],
'editors_get_enabled': ['editors_get_enabled', 'Returns list of enabled text editors ', [['lib','editorlib.php',90]], 5],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'session_loginas': ['session_loginas', 'Login as another user - no security checks here. ', [['lib','deprecatedlib.php',339]], 2],
'clam_handle_infected_file': ['clam_handle_infected_file', 'Deals with an infected file - either moves it to a quarantinedir (specified in CFG->quarantinedir) or deletes it. ', [['lib','deprecatedlib.php',192]], 1],
'clam_log_upload': ['clam_log_upload', 'Adds a file upload to the log table so that clam can resolve the filename to the user later if necessary ', [['lib','deprecatedlib.php',152]], 1],
'frontpage_combo_list': ['frontpage_combo_list', 'Returns HTML to print tree with course categories and courses for the frontpage ', [['course','renderer.php',2100]], 4],
'session_kill': ['session_kill', 'Terminates one sessions, auth hooks are not executed. ', [['lib','deprecatedlib.php',282]], 2],
'show_event': ['show_event', '', [['lib','deprecatedlib.php',1477]], 2],
'print_header': ['print_header', 'Local print header function to be reused across the export ', [['lib/portfolio','exporter.php',584],['mod/wiki','pagelib.php',119],['mod/wiki','pagelib.php',297],['mod/wiki','pagelib.php',400],['mod/wiki','pagelib.php',593],['mod/wiki','pagelib.php',731],['mod/wiki','pagelib.php',845],['mod/wiki','pagelib.php',879],['mod/wiki','pagelib.php',994],['mod/wiki','pagelib.php',1094],['mod/wiki','pagelib.php',1201],['mod/wiki','pagelib.php',1421],['mod/wiki','pagelib.php',1852],['mod/wiki','pagelib.php',1928],['mod/wiki','pagelib.php',2001],['mod/wiki','pagelib.php',2098],['mod/wiki','pagelib.php',2177],['mod/wiki','pagelib.php',2207],['mod/wiki','pagelib.php',2257],['mod/wiki','pagelib.php',2337],['mod/wiki','pagelib.php',2369],['mod/wiki','pagelib.php',2443],['lib','deprecatedlib.php',1139]], 40],
'editors_get_preferred_editor': ['editors_get_preferred_editor', 'Returns users preferred editor for given format ', [['lib','editorlib.php',29]], 10],
'get_child_categories': ['get_child_categories', 'Gets the child categories of a given courses category ', [['lib','deprecatedlib.php',2407]], 2],
'error_text': ['error_text', 'Output an error message. By default wraps the error message in <span class="error">. If the error message is blank, nothing is output. ', [['lib','outputrenderers.php',2653]], 87],
'coursemodule_visible_for_user': ['coursemodule_visible_for_user', 'Determine whether a course module is visible within a course. ', [['lib','deprecatedlib.php',4006]], 1],
'editorshortcutshelpbutton': ['editorshortcutshelpbutton', 'Print a help button. ', [['lib','deprecatedlib.php',1236]], 0],
'session_set_user': ['session_set_user', 'Setup $USER object - called during login, loginas, etc. ', [['lib','deprecatedlib.php',305]], 3],
'create': ['create', 'Creates a new 2048 bit RSA key pair and returns a unique ID that can be used to reference this key pair when launching new instances. ', [['lib/zend/Zend/Service/Amazon/Ec2','Keypair.php',39],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',271],['repository/filesystem','lib.php',283],['lib/zend/Zend/Service/Amazon/Ec2','Securitygroups.php',39],['lib/google/src/Google/Service','Gmail.php',670],['lib/google/src/Google/Service','Gmail.php',827],['course','lib.php',2874],['lib/classes/event','base.php',139],['lib/google/src/Google/Service','Genomics.php',618],['lib/google/src/Google/Service','Genomics.php',717],['lib/google/src/Google/Service','Genomics.php',850],['lib/google/src/Google/Service','Genomics.php',1313],['lib','modinfolib.php',1747],['calendar','lib.php',2651],['lib/zend/Zend/Service/Amazon','Sqs.php',82],['lib','weblib.php',3048],['mod/lesson','locallib.php',1013],['mod/lesson','locallib.php',2166],['mod/lesson','locallib.php',3203],['lib/google/src/Google/Service','Fitness.php',340],['lib/google/src/Google/Service','TagManager.php',1034],['lib/google/src/Google/Service','TagManager.php',1124],['lib/google/src/Google/Service','TagManager.php',1217],['lib/google/src/Google/Service','TagManager.php',1310],['lib/google/src/Google/Service','TagManager.php',1403],['lib/google/src/Google/Service','TagManager.php',1497],['lib/google/src/Google/Service','TagManager.php',1591],['lib/google/src/Google/Service','TagManager.php',1742],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Container.php',314],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['repository','lib.php',206],['repository','lib.php',1960],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',555],['lib/google/src/Google/Service','Games.php',1648],['lib/google/src/Google/Service','Games.php',2012],['lib/google/src/Google/Service','MapsEngine.php',1676],['lib/google/src/Google/Service','MapsEngine.php',1976],['lib/google/src/Google/Service','MapsEngine.php',2252],['lib/google/src/Google/Service','MapsEngine.php',2329],['lib/google/src/Google/Service','MapsEngine.php',2897],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Pubsub.php',219],['lib/google/src/Google/Service','Pubsub.php',364],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/simplepie/library/SimplePie','Registry.php',153],['lib','navigationlib.php',266],['lib/google/src/Google/Service','Dns.php',282],['lib/google/src/Google/Service','Dns.php',355],['lib','coursecatlib.php',328],['mod/quiz/classes','structure.php',65]], 3074],
'is_enrolled': ['is_enrolled', 'Returns true if user is enrolled (is participating) in course this is intended for students and teachers. ', [['lib','accesslib.php',2037]], 143],
'print_textarea': ['print_textarea', 'Prints a basic textarea field. ', [['lib','deprecatedlib.php',1162]], 7],
'get_list_of_translations': ['get_list_of_translations', 'Returns localised list of installed translations ', [['lib/classes','string_manager_standard.php',504],['lib/classes','string_manager.php',102],['lib/classes','string_manager_install.php',209]], 21],
'convert_tree_to_html': ['convert_tree_to_html', 'Converts a nested array tree into HTML ul:li [recursive] ', [['lib','deprecatedlib.php',3198]], 2],
'checkbox': ['checkbox', 'Creates a CheckBox field ', [['lib/tcpdf','tcpdf.php',13017],['lib','outputcomponents.php',1209]], 31],
'add_event': ['add_event', 'To be called from phpunit_util only! ', [['lib/phpunit/classes','event_sink.php',48],['lib','deprecatedlib.php',1436]], 3],
'get_browser_version_classes': ['get_browser_version_classes', 'Gets an array of CSS classes to represent the user agent. ', [['lib/classes','useragent.php',843],['lib','deprecatedlib.php',3938]], 5],
'get_plugin_types': ['get_plugin_types', 'Get list of available plugin types together with their location. ', [['lib/classes','component.php',771],['lib','deprecatedlib.php',433],['lib/classes','plugin_manager.php',116]], 60],
'extract_to_pathname': ['extract_to_pathname', 'Unzip file to given file path (real OS filesystem), existing files are overwritten. ', [['lib/filestorage','zip_packer.php',252],['lib/filestorage','tgz_packer.php',631],['lib/filestorage','mbz_packer.php',91],['lib/filestorage','stored_file.php',516],['lib/filebrowser','virtual_root_file.php',135]], 28],
'fix_course_sortorder': ['fix_course_sortorder', 'Fixes course category and course sortorder, also verifies category and course parents and paths. (circular references are not fixed) ', [['lib','datalib.php',850]], 20],
'category_delete_move': ['category_delete_move', 'Delete category, but move contents to another category. ', [['lib','deprecatedlib.php',2165]], 2],
'change_parent': ['change_parent', 'Efficiently moves a category - NOTE that this can have a huge impact access-control-wise... ', [['lib','coursecatlib.php',1864]], 8],
'cohort_can_view_cohort': ['cohort_can_view_cohort', 'Check if cohort exists and user is allowed to access it from the given context. ', [['cohort','lib.php',294]], 3],
'cohort_get_available_cohorts': ['cohort_get_available_cohorts', 'Returns the list of cohorts visible to the current user in the given course. ', [['cohort','lib.php',212]], 34],
'get_course_participants': ['get_course_participants', '', [['lib','deprecatedlib.php',720]], 2],
'get_formatted_content': ['get_formatted_content', 'Returns the content to display on course/overview page, formatted and passed through filters ', [['lib','modinfolib.php',1260]], 7],
'course_add_cm_to_section': ['course_add_cm_to_section', 'Adds an existing module to the section ', [['course','lib.php',1469]], 12],
'normalise_timezone': ['normalise_timezone', 'Normalise the timezone name. If timezone not supported this method falls back to server timezone (if valid) or default PHP timezone. ', [['lib/classes','date.php',110]], 67],
'profile_display_badges': ['profile_display_badges', 'Print badges on user profile page. ', [['lib','deprecatedlib.php',4224]], 2],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1922]], 237],
'css_minify_css': ['css_minify_css', 'Minify CSS files. ', [['lib','deprecatedlib.php',364]], 3],
'zip_files': ['zip_files', 'Zip an array of files/dirs to a destination zip file Both parameters must be FULL paths to the files/dirs ', [['lib','deprecatedlib.php',837]], 1],
'preload_from_record': ['preload_from_record', 'Preloads context information from db record and strips the cached info. ', [['lib','accesslib.php',5199],['lib','accesslib.php',6028]], 57],
'session_kill_user': ['session_kill_user', 'Terminates all sessions of one user, auth hooks are not executed. NOTE: This can not work for file based sessions! ', [['lib','deprecatedlib.php',293]], 2],
'print_navigation': ['print_navigation', '', [['lib','deprecatedlib.php',1412]], 2],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',768]], 607],
'get_related_contexts_string': ['get_related_contexts_string', 'Gets a string for sql calls, searching for stuff in this context or above. ', [['lib','deprecatedlib.php',3801]], 3],
'get_file_url': ['get_file_url', 'Given a physical path to a file, returns the URL through which it can be reached in Moodle. ', [['lib','deprecatedlib.php',658]], 3],
'skip_main_destination': ['skip_main_destination', '', [['lib','deprecatedlib.php',1078]], 2],
'kill_user_sessions': ['kill_user_sessions', 'Terminate all sessions of given user unconditionally. ', [['lib/classes/session','manager.php',608]], 14],
'get_user_device_type': ['get_user_device_type', 'Gets the device type the user is currently using. ', [['lib/classes','useragent.php',260],['lib','deprecatedlib.php',3926]], 4],
'current_theme': ['current_theme', '', [['lib','deprecatedlib.php',1059]], 2],
'get_all_mods': ['get_all_mods', 'Returns a number of useful structures for course displays ', [['lib','deprecatedlib.php',1563]], 1],
'get_course_category_tree': ['get_course_category_tree', 'This function generates a structured array of courses and categories. ', [['lib','deprecatedlib.php',2698]], 4],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'print_course_search': ['print_course_search', 'Displays a course search form ', [['lib','deprecatedlib.php',2551]], 1],
'session_touch': ['session_touch', 'Mark session as accessed, prevents timeouts. ', [['lib','deprecatedlib.php',271]], 2],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'enrol_cohort_search_cohorts': ['enrol_cohort_search_cohorts', 'Gets cohorts the user is able to view. ', [['lib','deprecatedlib.php',4157]], 4],
'css': ['css', 'Ensure that the specified CSS file is linked to from this page. ', [['lib','outputrequirementslib.php',866],['lib/classes','minify.php',93]], 709],
'render_tabtree': ['render_tabtree', 'Renders tabtree ', [['theme/bootstrapbase/renderers','core_renderer.php',168],['lib','outputrenderers.php',3608]], 1],
'get_category_courses_array': ['get_category_courses_array', 'Gets an array whose keys are category ids and whose values are arrays of courses in the corresponding category. ', [['lib','deprecatedlib.php',2858]], 2],
'get_section_info_all': ['get_section_info_all', 'Gets all sections as array from section number => data about section. ', [['lib','modinfolib.php',303]], 27],
'count_login_failures': ['count_login_failures', 'Returns an object with counts of failed login attempts. ', [['lib','deprecatedlib.php',3988]], 1],
'calculate_user_dst_table': ['calculate_user_dst_table', 'Previous internal API, it was not supposed to be used anywhere. ', [['lib','deprecatedlib.php',91]], 1],
'print_course': ['print_course', 'Print a description of a course, suitable for browsing in a list. ', [['lib','deprecatedlib.php',2835]], 2],
'get_all_sections': ['get_all_sections', 'Returns an array of sections for the requested course id ', [['lib','deprecatedlib.php',1512]], 1],
'preload_course_contexts': ['preload_course_contexts', 'Preloads all contexts relating to a course: course, modules. Block contexts are no longer loaded here. The contexts for all the blocks on the current page are now efficiently loaded by {@link block_manager::load_blocks()}. ', [['lib','deprecatedlib.php',3487]], 4],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" rules. ', [['lib/classes','component.php',968],['lib','deprecatedlib.php',528]], 85],
'print_section_add_menus': ['print_section_add_menus', 'Prints the menus to add activities and resources. ', [['lib','deprecatedlib.php',1682]], 3],
'get_parents': ['get_parents', 'Returns ids of all parents of the category. Last element in the return array is the direct parent ', [['lib','coursecatlib.php',2050]], 11],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'get_plugin_list_with_file': ['get_plugin_list_with_file', 'Get a list of all the plugins of a given type that contain a particular file. ', [['lib/classes','component.php',851],['lib','deprecatedlib.php',3818]], 24],
'set_cache_flag': ['set_cache_flag', 'Set a volatile flag ', [['lib','moodlelib.php',1679]], 14],
'print_remote_course': ['print_remote_course', 'Prints information about one remote course ', [['lib','deprecatedlib.php',2593]], 2],
'create_instances': ['create_instances', 'Create all context instances at the given level and above. ', [['lib','accesslib.php',5955],['backup/cc','cc2moodle.php',609]], 11],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'get_print_section_cm_text': ['get_print_section_cm_text', 'Obtains shared data that is used in print_section when displaying a course-module entry. ', [['lib','deprecatedlib.php',1653]], 5],
'enrol_cohort_enrol_all_users': ['enrol_cohort_enrol_all_users', 'Enrols all of the users in a cohort through a manual plugin instance. ', [['lib','deprecatedlib.php',4105]], 1],
'get_used_module_names': ['get_used_module_names', 'Returns array of localised human-readable module names used in this course ', [['lib','modinfolib.php',243]], 8],
'sql_cast_char2int': ['sql_cast_char2int', '', [['lib/dml','pgsql_native_moodle_database.php',1307],['lib/dml','oci_native_moodle_database.php',1507],['lib/dml','sqlsrv_native_moodle_database.php',1176],['lib/dml','moodle_database.php',1949],['lib/dml','mssql_native_moodle_database.php',1111],['lib/dml','mysqli_native_moodle_database.php',1494]], 14],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'course_section_add_cm_control': ['course_section_add_cm_control', 'Renders HTML for the menus to add activities and resources to the current course ', [['course','renderer.php',413]], 10],
'events_trigger_legacy': ['events_trigger_legacy', 'Do not call directly, this is intended to be used from new event base only. ', [['lib','eventslib.php',478]], 15],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'print_overview': ['print_overview', 'Displays the list of courses with user notes ', [['lib','deprecatedlib.php',1784]], 1],
'clam_scan_moodle_file': ['clam_scan_moodle_file', 'If $CFG->runclamonupload is set, we scan a given file. (called from {@link preprocess_files()}) ', [['lib','deprecatedlib.php',204]], 1],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'groups_get_all_groups': ['groups_get_all_groups', 'Gets array of all groups in a specified course. ', [['lib','grouplib.php',189]], 104],
'block': ['block', '', [['lib/minify/lib','JSMinPlus.php',781],['lib','outputrenderers.php',1346],['lib','outputrenderers.php',4546],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/paste','editor_plugin_src.js',222]], 33],
'enrol_get_plugin': ['enrol_get_plugin', 'Returns instance of enrol plugin ', [['lib','enrollib.php',111]], 144],
'session_get_instance': ['session_get_instance', 'Factory method that was returning moodle_session object. ', [['lib','deprecatedlib.php',230]], 3],
'check_browser_operating_system': ['check_browser_operating_system', 'Check if the user agent matches a given brand. ', [['lib/classes','useragent.php',830],['lib','deprecatedlib.php',3836]], 3],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'update_log_display_entry': ['update_log_display_entry', 'Insert or update log display entry. Entry may already exist. $module, $action must be unique ', [['lib','deprecatedlib.php',625]], 1],
'check_gd_version': ['check_gd_version', 'Hack to find out the GD version by parsing phpinfo output ', [['lib','deprecatedlib.php',561]], 1],
'user_count_login_failures': ['user_count_login_failures', 'Count the number of failed login attempts for the given user, since last successful login. ', [['user','lib.php',592]], 5],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1735]], 298],
'hide_event': ['hide_event', '', [['lib','deprecatedlib.php',1469]], 2],
'move_category': ['move_category', 'Efficiently moves a category - NOTE that this can have a huge impact access-control-wise... ', [['lib','deprecatedlib.php',2209]], 2],
'rebuild_contexts': ['rebuild_contexts', 'Rebuild all related context depth and path caches. ', [['lib','deprecatedlib.php',3471]], 4],
'get_parent_context': ['get_parent_context', 'Returns parent context ', [['lib','accesslib.php',5695]], 37],
'get_parent_contexts': ['get_parent_contexts', 'Recursive function which, given a context, find all parent context ids, and return the array in reverse order, i.e. parent first, then grand parent, etc. ', [['lib','deprecatedlib.php',3373],['lib','accesslib.php',5653]], 12],
'build_navigation': ['build_navigation', '', [['lib','deprecatedlib.php',1419]], 2],
'get_parent_contextid': ['get_parent_contextid', 'Return the id of the parent of this context, or false if there is no parent (only happens if this is the site context.) ', [['lib','deprecatedlib.php',3389]], 6],
'get_course_category': ['get_course_category', 'Return specified category, default if given does not exist ', [['lib','deprecatedlib.php',2282]], 2],
'make_editing_buttons': ['make_editing_buttons', 'Produces the editing buttons for a module ', [['lib','deprecatedlib.php',1718]], 3],
'editorhelpbutton': ['editorhelpbutton', 'Returns a string of html with an image of a help icon linked to a help page on a number of help topics. Should be used only with htmleditor or textarea. ', [['lib','deprecatedlib.php',1220]], 0],
'get_enrolled_sql': ['get_enrolled_sql', 'Returns array with sql code and parameters returning all ids of users enrolled into course. ', [['lib','accesslib.php',2246]], 48],
'frontpage_my_courses': ['frontpage_my_courses', 'Returns HTML to print list of courses user is enrolled to for the frontpage ', [['course','renderer.php',1986]], 3],
'get_cms': ['get_cms', '', [['lib','modinfolib.php',218]], 32],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','moodle_database.php',1815],['lib/dml','sqlite3_pdo_moodle_database.php',337]], 778],
'enrol_cohort_can_view_cohort': ['enrol_cohort_can_view_cohort', 'Check if cohort exists and user is allowed to enrol it. ', [['lib','deprecatedlib.php',4031]], 1],
'js_files': ['js_files', 'Minify JS files. ', [['lib/classes','minify.php',69]], 9],
'user_is_editing': ['user_is_editing', 'Should the current user see this page in editing mode. That is, are they allowed to edit this page, and are they currently in editing mode. ', [['lib','pagelib.php',827]], 52],
'get_field': ['get_field', 'Get the right field name to fetch a stat for these attempts that is calculated for more than one $whichattempts (count or avg). ', [['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1497],['user/filters','lib.php',124],['lib/behat','behat_field_manager.php',243]], 485],
'navmenu': ['navmenu', '', [['lib','deprecatedlib.php',1426]], 2],
'get_enrolled_users': ['get_enrolled_users', 'Returns list of users enrolled into course. ', [['lib','accesslib.php',2438],['enrol','externallib.php',390],['enrol','externallib.php',821]], 51],
'legacy_add_to_log': ['legacy_add_to_log', 'Legacy add_to_log() redirection. ', [['admin/tool/log/classes/log','manager.php',202],['admin/tool/log/store/legacy/classes/log','store.php',183]], 4],
'get_all_subcategories': ['get_all_subcategories', 'Returns an array of category ids of all the subcategories for a given category. ', [['lib','deprecatedlib.php',2370]], 3],
'can_use_html_editor': ['can_use_html_editor', 'Does the user want and can edit using rich text html editor? This function does not make sense anymore because a user can directly choose their preferred editor. ', [['lib','deprecatedlib.php',3975]], 0],
'get_context': ['get_context', '', [['availability/classes','info_module.php',72],['grade/grading/form','lib.php',102],['availability/tests/fixtures','mock_info.php',59],['lib/classes/event','base.php',544],['lib','modinfolib.php',1501],['mod/assign','locallib.php',1247],['enrol','locallib.php',906],['lib/tests/behat','behat_data_generators.php',718],['mod/quiz','attemptlib.php',220],['comment','lib.php',990],['availability/classes','info_section.php',55],['grade/grading','lib.php',107],['lib','badgeslib.php',157],['lib','coursecatlib.php',2255],['lib','coursecatlib.php',2951]], 676],
'get_context_instance_by_id': ['get_context_instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','deprecatedlib.php',3350]], 2],
'get_list_of_charsets': ['get_list_of_charsets', 'Returns a list of charset codes ', [['lib','moodlelib.php',6708]], 4],
'format_text': ['format_text', 'Given text in a variety of format codings, this function returns the text as safe HTML. ', [['lib','weblib.php',1115],['lib','tablelib.php',846],['lib','tablelib.php',1583],['lib','tablelib.php',1900],['question/type','questionbase.php',345],['lib/classes','grading_external.php',182]], 325],
'print_checkbox': ['print_checkbox', '', [['lib','deprecatedlib.php',1378]], 2],
'is_loggedinas': ['is_loggedinas', 'Is current $USER logged-in-as somebody else? ', [['lib/classes/session','manager.php',786]], 32],
'get_url': ['get_url', 'Returns relevant URL. ', [['report/log/classes/event','user_report_viewed.php',82],['mod/wiki/classes/event','page_deleted.php',83],['mod/chat/classes/event','sessions_viewed.php',74],['mod/glossary/classes/event','category_deleted.php',65],['mod/workshop/classes/event','assessment_evaluations_reset.php',84],['lib/classes/event','course_resources_list_viewed.php',69],['lib/filebrowser','file_info_context_course.php',505],['mod/lesson/classes/event','content_page_viewed.php',57],['lib/classes/event','blog_association_created.php',75],['lib/classes/event','user_profile_viewed.php',76],['mod/feedback/classes/event','response_submitted.php',79],['lib/classes/event','badge_awarded.php',72],['report/outline/classes/event','report_viewed.php',83],['admin/tool/capability/classes/event','report_viewed.php',74],['lib/classes/event','message_viewed.php',63],['lib/classes/event','course_category_created.php',57],['mod/quiz/classes/event','group_override_updated.php',73],['mod/survey/classes/event','response_submitted.php',71],['lib/classes/event','blog_comment_created.php',38],['mod/book/tool/exportimscp/classes/event','book_exported.php',85],['report/loglive/classes/event','report_viewed.php',75],['mod/forum/classes/event','post_deleted.php',76],['badges/lib','backpacklib.php',116],['mod/chat/classes/event','message_sent.php',68],['mod/workshop/classes/event','submission_created.php',72],['lib/classes/event','note_updated.php',75],['mod/lesson/classes/event','group_override_deleted.php',73],['lib/classes/event','course_module_instance_list_viewed.php',84],['mod/lesson/classes/event','page_updated.php',81],['mod/forum/classes/event','discussion_subscription_deleted.php',75],['mod/quiz/classes/event','attempt_preview_started.php',73],['mod/lesson/classes/event','user_override_updated.php',73],['mod/quiz/classes/event','report_viewed.php',75],['mod/lesson/classes/event','question_answered.php',63],['mod/forum/classes/event','discussion_viewed.php',69],['mod/workshop/classes/event','submission_viewed.php',72],['mod/data/classes/event','comment_created.php',37],['mod/workshop/classes/event','submission_reassessed.php',86],['mod/glossary/classes/event','entry_deleted.php',73],['mod/glossary/classes/event','comment_created.php',37],['lib/classes/event','user_created.php',66],['mod/data/classes/event','field_updated.php',76],['mod/data/classes/event','template_updated.php',85],['lib/classes/event','comment_created.php',77],['lib/classes/event','cohort_deleted.php',67],['lib/tests','customcontext_test.php',33],['lib/tests','customcontext_test.php',57],['lib/tests','customcontext_test.php',81],['mod/scorm/classes/event','tracks_viewed.php',73],['lib/classes/event','course_viewed.php',84],['mod/quiz/classes/event','attempt_abandoned.php',81],['mod/workshop/classes/event','phase_switched.php',84],['lib/classes/event','base.php',556],['lib/classes/event','course_completion_updated.php',65],['report/completion/classes/event','report_viewed.php',67],['mod/forum/classes/event','discussion_updated.php',74],['lib/classes/event','course_reset_ended.php',62],['mod/glossary/classes/event','course_module_viewed.php',47],['mod/choice/classes/event','answer_submitted.php',81],['mod/forum/classes/event','assessable_uploaded.php',95],['mod/wiki/classes/event','page_diff_viewed.php',85],['lib/classes/event','course_category_updated.php',60],['admin/tool/langimport/classes/event','langpack_updated.php',89],['lib/classes/event','webservice_service_created.php',74],['lib/classes/event','course_created.php',73],['mod/lesson/classes/event','lesson_started.php',57],['lib/classes/event','group_created.php',74],['mod/quiz/classes/event','user_override_created.php',72],['mod/glossary/classes/event','category_updated.php',65],['backup/util/ui','restore_ui_components.php',98],['mod/glossary/classes/event','entry_disapproved.php',65],['lib/classes/event','user_password_updated.php',95],['lib/classes/event','role_deleted.php',73],['admin/tool/log/store/legacy/tests/fixtures','event.php',44],['lib/classes/event','user_loggedinas.php',85],['lib','modinfolib.php',1245],['mod/lesson/classes/event','essay_attempt_viewed.php',57],['mod/forum/classes/event','discussion_moved.php',75],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',92],['mod/quiz/report','attemptsreport_options.php',133],['mod/survey/classes/event','report_downloaded.php',73],['mod/wiki/classes/event','page_updated.php',83],['admin/tool/log/store/standard/tests/fixtures','event.php',44],['lib/classes/event','user_list_viewed.php',74],['mod/forum/classes/event','readtracking_disabled.php',73],['lib/classes/event','comments_viewed.php',69],['lib/classes/event','cohort_member_added.php',68],['lib/classes/event','grouping_created.php',74],['lib/classes/event','recent_activity_viewed.php',76],['lib/classes/event','role_allow_switch_updated.php',65],['mod/assign/submission/comments/classes/event','comment_deleted.php',37],['lib/classes/event','user_login_failed.php',76],['lib/classes/event','message_contact_added.php',57],['lib/classes/event','role_allow_assign_updated.php',65],['mod/quiz/classes/event','user_override_deleted.php',72],['mod/quiz/classes/event','edit_page_viewed.php',72],['mod/lesson/classes/event','highscores_viewed.php',57],['report/stats/classes/event','user_report_viewed.php',76],['mod/quiz/classes/event','group_override_deleted.php',73],['mod/book/classes/event','chapter_updated.php',88],['mod/lesson/classes/event','question_viewed.php',63],['mod/scorm/classes/event','interactions_viewed.php',72],['lib/classes/event','course_module_updated.php',76],['mod/forum/classes/event','discussion_subscription_created.php',75],['mod/quiz/classes/event','question_manually_graded.php',74],['lib/classes/event','mnet_access_control_created.php',66],['lib/classes/event','role_assigned.php',75],['mod/scorm/classes/event','user_report_viewed.php',71],['report/participation/classes/event','report_viewed.php',86],['mod/data/classes/event','comment_deleted.php',37],['lib/classes/event','user_updated.php',66],['lib/classes/event','course_section_updated.php',75],['lib/classes/event','comment_deleted.php',77],['mod/assign/submission/file/classes/event','assessable_uploaded.php',94],['admin/tool/log/store/database/tests/fixtures','event.php',44],['lib/classes/event','cohort_updated.php',67],['mod/forum/classes/event','post_updated.php',76],['mod/book/classes/event','chapter_viewed.php',88],['lib/classes/event','user_loggedout.php',72],['lib/classes/event','grade_report_viewed.php',72],['mod/book/classes/event','chapter_deleted.php',88],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',43],['lib/classes/event','webservice_token_created.php',74],['enrol','locallib.php',1396],['mod/forum/classes/event','course_searched.php',75],['lib/classes/event','group_updated.php',74],['mod/quiz/classes/event','attempt_started.php',74],['mod/lesson/classes/event','group_override_updated.php',73],['lib/classes/event','course_module_viewed.php',71],['lib/classes/event','mnet_access_control_updated.php',66],['mod/wiki/classes/event','comments_viewed.php',68],['lib/tests/fixtures','event_fixtures.php',47],['lib/tests/fixtures','event_fixtures.php',273],['mod/quiz/classes/event','attempt_submitted.php',81],['mod/data/classes/event','field_created.php',77],['lib/classes/event','question_category_created.php',66],['admin/tool/monitor/classes/event','rule_deleted.php',68],['lib/classes/event','blog_comment_deleted.php',38],['mod/lesson/classes/event','group_override_created.php',74],['mod/workshop/classes/event','assessments_reset.php',83],['mod/wiki/classes/event','comment_created.php',38],['mod/lesson/classes/event','lesson_resumed.php',57],['lib','outputcomponents.php',326],['lib','outputcomponents.php',2751],['lib/classes/event','blog_entry_updated.php',92],['report/questioninstances/classes/event','report_viewed.php',83],['mod/folder/classes/event','folder_updated.php',66],['lib/classes/event','role_capabilities_updated.php',69],['lib/classes/event','blog_entries_viewed.php',80],['mod/wiki/classes/event','page_viewed.php',86],['lib/classes/event','group_deleted.php',74],['mod/quiz/classes/event','attempt_becameoverdue.php',84],['mod/quiz/classes/event','attempt_viewed.php',73],['lib/classes/event','course_module_completion_updated.php',67],['mod/workshop/classes/event','assessment_evaluated.php',75],['report/log/classes/event','report_viewed.php',85],['mod/book/classes/event','chapter_created.php',88],['mod/workshop/classes/event','submission_assessed.php',85],['lib/classes/event','cohort_created.php',67],['lib','accesslib.php',6092],['lib','accesslib.php',6149],['lib','accesslib.php',6400],['lib','accesslib.php',6587],['lib','accesslib.php',6827],['lib','accesslib.php',7047],['lib','accesslib.php',7290],['mod/scorm/classes/event','sco_launched.php',73],['mod/wiki/classes/event','comment_deleted.php',38],['lib/classes/event','blog_entry_created.php',94],['lib/classes/event','user_enrolment_created.php',72],['mod/data/classes/event','record_created.php',75],['mod/quiz/classes/event','attempt_summary_viewed.php',75],['lib/classes/event','user_enrolment_updated.php',72],['mod/quiz/classes/event','attempt_reviewed.php',72],['mod/glossary/classes/event','comment_deleted.php',37],['mod/lesson/classes/event','page_moved.php',65],['mod/glossary/classes/event','category_created.php',65],['mod/lesson/classes/event','page_created.php',63],['mod/forum/classes/event','course_module_viewed.php',50],['lib/classes/event','cohort_member_removed.php',69],['mod/wiki/classes/event','page_version_viewed.php',84],['lib/classes/event','role_allow_override_updated.php',65],['mod/workshop/classes/event','assessable_uploaded.php',102],['lib/classes/event','grouping_updated.php',74],['admin/tool/monitor/classes/event','rule_updated.php',68],['lib/classes/event','course_module_created.php',105],['admin/tool/langimport/classes/event','langpack_removed.php',80],['mod/workshop/classes/event','submission_updated.php',72],['mod/lesson/classes/event','page_deleted.php',63],['lib/classes/event','grouping_deleted.php',81],['mod/assign/submission/comments/classes/event','comment_created.php',37],['mod/wiki/classes/event','page_history_viewed.php',77],['mod/survey/classes/event','report_viewed.php',73],['report/stats/classes/event','report_viewed.php',83],['lib/classes/event','note_created.php',75],['lib/classes/event','course_reset_started.php',62],['mod/book/tool/print/classes/event','book_printed.php',85],['lib/classes/event','webservice_service_user_removed.php',68],['mod/data/classes/event','record_deleted.php',75],['mod/choice/classes/event','answer_updated.php',81],['lib/classes/event','group_member_removed.php',78],['mod/glossary/classes/event','entry_viewed.php',67],['mod/forum/classes/event','user_report_viewed.php',74],['mod/forum/classes/event','subscription_created.php',74],['lib/classes/event','calendar_event_created.php',77],['lib/classes/event','message_contact_blocked.php',57],['lib/classes/event','webservice_service_updated.php',68],['mod/wiki/classes/event','page_version_restored.php',83],['mod/data/classes/event','template_viewed.php',74],['lib/classes/event','course_user_report_viewed.php',75],['mod/data/classes/event','record_updated.php',75],['mod/wiki/classes/event','page_map_viewed.php',83],['mod/wiki/classes/event','page_locks_deleted.php',83],['lib/classes/event','webservice_service_deleted.php',68],['mod/forum/classes/event','readtracking_enabled.php',73],['lib/classes/event','role_unassigned.php',72],['lib/classes/event','course_restored.php',76],['mod/choice/classes/event','report_viewed.php',66],['lib/classes/event','user_enrolment_deleted.php',73],['mod/book/tool/print/classes/event','chapter_printed.php',88],['lib/classes/event','user_graded.php',115],['mod/assign/classes/event','base.php',90],['lib/classes/event','course_updated.php',76],['mod/forum/classes/event','post_created.php',76],['mod/data/classes/event','field_deleted.php',76],['mod/glossary/classes/event','entry_created.php',71],['mod/forum/classes/event','discussion_created.php',74],['mod/forum/classes/event','discussion_deleted.php',75],['mod/scorm/classes/event','attempt_deleted.php',71],['mod/lesson/classes/event','lesson_ended.php',58],['mod/forum/classes/event','subscribers_viewed.php',74],['mod/scorm/classes/event','report_viewed.php',72],['mod/lesson/classes/event','user_override_deleted.php',72],['report/completion/classes/event','user_report_viewed.php',77],['admin/tool/langimport/classes/event','langpack_imported.php',89],['mod/forum/classes/event','subscription_deleted.php',74],['mod/lesson/classes/event','highscore_added.php',65],['mod/lesson/classes/event','essay_assessed.php',87],['lib/classes/event','message_sent.php',91],['lib/classes/event','message_contact_removed.php',57],['lib/filebrowser','file_info.php',226],['report/outline/classes/event','activity_report_viewed.php',75],['lib/classes/event','calendar_event_updated.php',77],['mod/lesson/classes/event','user_override_created.php',72],['mod/workshop/classes/event','assessment_reevaluated.php',85],['mod/quiz/classes/event','user_override_updated.php',73],['lib/simplepie/library/SimplePie','Copyright.php',96],['lib/classes/event','webservice_service_user_added.php',68],['lib/classes/event','notes_viewed.php',71],['lib/filebrowser','file_info_stored.php',156],['mod/glossary/classes/event','entry_updated.php',71],['admin/tool/monitor/classes/event','rule_created.php',68],['mod/wiki/classes/event','page_version_deleted.php',83],['lib/classes/event','course_completed.php',91],['mod/glossary/classes/event','entry_approved.php',65],['mod/wiki/classes/event','page_created.php',77],['mod/quiz/classes/event','group_override_created.php',74],['repository/alfresco','lib.php',121],['lib/classes/event','group_member_added.php',87],['lib/classes/event','message_contact_unblocked.php',57],['mod/quiz/classes/event','attempt_deleted.php',66],['lib/classes/event','user_loggedin.php',73],['mod/lesson/classes/event','lesson_restarted.php',57]], 186],
'is_readable': ['is_readable', '', [], 207],
'explode': ['explode', '', [], 1599],
'is_array': ['is_array', '', [], 1820],
'count': ['count', '', [], 3984],
'trim': ['trim', '', [], 1889],
'in_array': ['in_array', '', [], 1173],
'ob_end_clean': ['ob_end_clean', '', [], 79],
'time': ['time', '', [], 1768],
'round': ['round', '', [], 903],
'array_shift': ['array_shift', '', [], 607],
'implode': ['implode', '', [], 1259],
'rtrim': ['rtrim', '', [], 169],
'dirname': ['dirname', '', [], 1071],
'array_map': ['array_map', '', [], 149],
'array_key_exists': ['array_key_exists', '', [], 1539],
'ob_get_contents': ['ob_get_contents', '', [], 63],
'substr': ['substr', '', [], 2883],
'gd_info': ['gd_info', '', [], 1],
'substr_count': ['substr_count', '', [], 78],
'str_replace': ['str_replace', '', [], 1667],
'is_null': ['is_null', '', [], 1992],
'file_exists': ['file_exists', '', [], 873],
'array_keys': ['array_keys', '', [], 1152],
'array_unique': ['array_unique', '', [], 173],
'is_numeric': ['is_numeric', '', [], 723],
'settype': ['settype', '', [], 1490],
'array_merge': ['array_merge', '', [], 2320],
'pathinfo': ['pathinfo', '', [], 66],
'strip_tags': ['strip_tags', '', [], 149],
'is_string': ['is_string', '', [], 680],
'array_reverse': ['array_reverse', '', [], 127],
'intval': ['intval', '', [], 484],
'phpinfo': ['phpinfo', '', [], 2],
'array_push': ['array_push', '', [], 214],
'max': ['max', '', [], 1096],
'htmlspecialchars': ['htmlspecialchars', '', [], 207],
'is_dir': ['is_dir', '', [], 221],
'strpos': ['strpos', '', [], 1623],
'ob_start': ['ob_start', '', [], 101],
'rawurlencode': ['rawurlencode', '', [], 90],
'defined': ['defined', '', [], 4098],
'function_exists': ['function_exists', '', [], 443],
'method_exists': ['method_exists', '', [], 279],
'reset': ['reset', '', [], 1070],
'preg_replace': ['preg_replace', '', [], 903],
'link': ['link', '', [], 635],
'is_object': ['is_object', '', [], 508]};
CLASS_DATA={
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 143],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6106]], 929],
'cm_info': ['cm_info', 'Data about a single module on a course. This contains most of the fields in the course_modules table, plus additional data when required. ', [['lib','modinfolib.php',631]], 22],
'core_badges_renderer': ['core_badges_renderer', 'Standard HTML output renderer for badges ', [['badges','renderer.php',30]], 2],
'manager': ['manager', 'Defines MAnager class for myprofile navigation tree. ', [['user/classes/output/myprofile','manager.php',28],['lib/classes/log','manager.php',29],['admin/tool/messageinbound/classes','manager.php',29],['lib/classes/message','manager.php',31],['lib/classes/message/inbound','manager.php',29],['admin/tool/log/classes/log','manager.php',29],['lib/classes/session','manager.php',29],['lib/classes/task','manager.php',28],['lib/classes/event','manager.php',30]], 346],
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'grade_item': ['grade_item', 'Class representing a grade item. ', [['lib/grade','grade_item.php',29]], 206],
'context_coursecat': ['context_coursecat', 'Course category context class ', [['lib','accesslib.php',6534]], 160],
'tabtree': ['tabtree', 'Stores tabs list ', [['lib','outputcomponents.php',3176]], 2],
'core_minify': ['core_minify', 'Collection of JS and CSS compression methods. ', [['lib/classes','minify.php',27]], 21],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'core_renderer': ['core_renderer', 'The standard implementation of the core_renderer interface. ', [['lib','outputrenderers.php',360]], 19],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6347]], 288],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 512],
'core_useragent': ['core_useragent', 'The user agent class. ', [['lib/classes','useragent.php',25]], 149],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'coursecat': ['coursecat', 'Class to store, cache, render and manage course category ', [['lib','coursecatlib.php',28]], 262],
'core_date': ['core_date', 'Core date and time related code. ', [['lib/classes','date.php',26]], 194],
'info_module': ['info_module', 'Class handles conditional availability information for an activity. ', [['availability/classes','info_module.php',29]], 38],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',68]], 478],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485],
'context_helper': ['context_helper', 'Context maintenance and helper methods. ', [['lib','accesslib.php',5824]], 210],
'core_badges_assertion': ['core_badges_assertion', 'Class that represents badge assertion. ', [['badges/classes','assertion.php',38]], 4],
'calendar_event': ['calendar_event', 'Manage calendar events ', [['calendar','lib.php',1916]], 59]};
CONST_DATA={
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'COURSE_MAX_RECENT_PERIOD': ['COURSE_MAX_RECENT_PERIOD', '', [['course','lib.php',32]], 6],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 462],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 204],
'CONTEXT_COURSECAT': ['CONTEXT_COURSECAT', '', [['lib','accesslib.php',146]], 99],
'CONTEXT_BLOCK': ['CONTEXT_BLOCK', '', [['lib','accesslib.php',156]], 99],
'SITEID': ['SITEID', '', [['admin/cli','install.php',217],['','install.php',244],['lib/db','install.php',87],['lib','setup.php',748]], 612],
'COHORT_COUNT_MEMBERS': ['COHORT_COUNT_MEMBERS', '', [['cohort','lib.php',28]], 2],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 999],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 271],
'CONTEXT_SYSTEM': ['CONTEXT_SYSTEM', '', [['lib','accesslib.php',142]], 165],
'MAX_COURSES_IN_CATEGORY': ['MAX_COURSES_IN_CATEGORY', '', [['lib','datalib.php',35]], 13],
'PARAM_PLUGIN': ['PARAM_PLUGIN', '', [['lib','moodlelib.php',324]], 118],
'SYSCONTEXTID': ['SYSCONTEXTID', '', [['lib','accesslib.php',6265]], 74],
'CONTEXT_COURSE': ['CONTEXT_COURSE', '', [['lib','accesslib.php',148]], 422],
'PARAM_FILE': ['PARAM_FILE', '', [['lib','moodlelib.php',133]], 122],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'CONTEXT_USER': ['CONTEXT_USER', '', [['lib','accesslib.php',144]], 95],
'COMPLETION_CRITERIA_TYPE_ACTIVITY': ['COMPLETION_CRITERIA_TYPE_ACTIVITY', '', [['completion/criteria','completion_criteria.php',53]], 24],
'CLI_SCRIPT': ['CLI_SCRIPT', '', [['auth/ldap/cli','sync_users.php',49],['admin/tool/behat/cli','init.php',36],['auth/db/cli','sync_users.php',45],['admin/cli','mysql_collation.php',25],['admin/cli','cron.php',31],['admin/tool/behat/cli','util_single_run.php',90],['repository/boxnet/cli','migrationv1.php',25],['admin/cli','install.php',32],['enrol/self/cli','sync.php',31],['enrol/flatfile/cli','sync.php',30],['enrol/meta/cli','sync.php',31],['admin/cli','fix_deleted_users.php',26],['','mdeploy.php',65],['admin/cli','check_database_schema.php',26],['admin/tool/dbtransfer/cli','migrate.php',30],['enrol/paypal/cli','sync.php',30],['admin/tool/behat/cli','util.php',34],['admin/tool/replace/cli','replace.php',25],['','install.php',46],['mod/chat','chatd.php',25],['admin/tool/generator/cli','maketestsite.php',25],['enrol/database/cli','sync.php',34],['enrol/manual/cli','sync.php',30],['admin','cron.php',47],['admin/cli','mysql_engine.php',27],['admin/tool/generator/cli','maketestcourse.php',25],['admin/cli','upgrade.php',38],['admin/cli','reset_password.php',27],['admin/cli','maintenance.php',26],['admin/cli','install_database.php',31],['lib/editor/tinymce/cli','update_lang_files.php',25],['theme/base/cli','svgtool.php',26],['admin/cli','automated_backups.php',29],['admin/cli','mysql_compressed_rows.php',26],['admin/cli','backup.php',26],['admin/tool/behat/cli','run.php',30],['admin/tool/task/cli','schedule_task.php',25],['enrol/ldap/cli','sync.php',43],['lib/filestorage/tests/fixtures','zip_info.php',25],['auth/cas/cli','sync_users.php',45],['lib','setup.php',289],['admin/cli','alternative_component_cache.php',30],['enrol/category/cli','sync.php',33],['lib/phpunit','bootstrap.php',73],['lib/tests/behat','behat_hooks.php',115],['admin/cli','fix_course_sequence.php',26],['admin/cli','purge_caches.php',24],['admin/tool/generator/cli','maketestplan.php',25],['lib/filestorage/tests/fixtures','zip_create_test_file.php',25],['enrol/cohort/cli','sync.php',31],['admin/tool/uploadcourse/cli','uploadcourse.php',25]], 109]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
