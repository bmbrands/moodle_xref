<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/classes/progress/base.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='lib/classes/progress';
filename='base.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/classes/progress/</a> -> <a href="base.php.html">base.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="base.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="base.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  namespace core\progress;
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l20"><span class="linenum">  20</span></a>  
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">/**</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * Base class for handling progress information.</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * Subclasses should generally override the {@link current_progress} function which</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * summarises all progress information.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> *</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @package core_progress</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @copyright 2013 The Open University</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  abstract class base {
<a name="l32"><span class="linenum">  32</span></a>      <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">     * @var int Constant indicating that the number of progress calls is unknown.</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">     */</span>
<a name="l35"><span class="linenum">  35</span></a>      const INDETERMINATE = -1;
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * This value is set rather high to ensure there are no regressions from</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * previous behaviour. For testing, it may be useful to set the</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * frontendservertimeout config option to a lower value, such as 180</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * seconds (default for some commercial products).</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     *</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @var int The number of seconds that can pass without {@link progress()} calls.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      const TIME_LIMIT_WITHOUT_PROGRESS = 3600;
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>      <span class="comment">/**</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @var int Time of last progress call.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      protected <a class="var it36135" onMouseOver="hilite(36135)" onMouseOut="lolite()" onClick="logVariable('lastprogresstime')" href="../../../_variables/lastprogresstime.html">$lastprogresstime</a>;
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>      <span class="comment">/**</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * @var int Number of progress calls (restricted to ~ 1/second).</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     */</span>
<a name="l55"><span class="linenum">  55</span></a>      protected <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>;
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * @var array Array of progress descriptions for each stack level.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     */</span>
<a name="l60"><span class="linenum">  60</span></a>      protected <a class="var it25671" onMouseOver="hilite(25671)" onMouseOut="lolite()" onClick="logVariable('descriptions')" href="../../../_variables/descriptions.html">$descriptions</a> = array();
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @var array Array of maximum progress values for each stack level.</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     */</span>
<a name="l65"><span class="linenum">  65</span></a>      protected <a class="var it33713" onMouseOver="hilite(33713)" onMouseOut="lolite()" onClick="logVariable('maxes')" href="../../../_variables/maxes.html">$maxes</a> = array();
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>      <span class="comment">/**</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * @var array Array of current progress values.</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     */</span>
<a name="l70"><span class="linenum">  70</span></a>      protected <a class="var it36136" onMouseOver="hilite(36136)" onMouseOut="lolite()" onClick="logVariable('currents')" href="../../../_variables/currents.html">$currents</a> = array();
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>      <span class="comment">/**</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * @var int[] Array of counts within parent progress entry (ignored for first)</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     */</span>
<a name="l75"><span class="linenum">  75</span></a>      protected <a class="var it36137" onMouseOver="hilite(36137)" onMouseOut="lolite()" onClick="logVariable('parentcounts')" href="../../../_variables/parentcounts.html">$parentcounts</a> = array();
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>      <span class="comment">/**</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     * Marks the start of an operation that will display progress.</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     *</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     * This can be called multiple times for nested progress sections. It must</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * be paired with calls to end_progress.</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     *</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * The progress maximum may be {@link self::INDETERMINATE} if the current operation has</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * an unknown number of steps. (This is default.)</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     *</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * Calling this function will always result in a new display, so this</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * should not be called exceedingly frequently.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     *</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * When it is complete by calling {@link end_progress()}, each {@link start_progress} section</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * automatically adds progress to its parent, as defined by $parentcount.</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     *</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * @param string $description Description to display</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * @param int $max Maximum value of progress for this section</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * @param int $parentcount How many progress points this section counts for</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * @throws \coding_exception If max is invalid</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     */</span>
<a name="l97"><span class="linenum">  97</span></a>      public function <a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>(<a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>, <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> = self::INDETERMINATE,
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a> = 1) {
<a name="l99"><span class="linenum">  99</span></a>          if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> != self::INDETERMINATE &amp;&amp; <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> &lt; 0) {
<a name="l100"><span class="linenum"> 100</span></a>              throw new \coding_exception(
<a name="l101"><span class="linenum"> 101</span></a>                      '<a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>() max value cannot be negative');
<a name="l102"><span class="linenum"> 102</span></a>          }
<a name="l103"><span class="linenum"> 103</span></a>          if (<a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a> &lt; 1) {
<a name="l104"><span class="linenum"> 104</span></a>              throw new \coding_exception(
<a name="l105"><span class="linenum"> 105</span></a>                      '<a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>() parent progress count must be at least 1');
<a name="l106"><span class="linenum"> 106</span></a>          }
<a name="l107"><span class="linenum"> 107</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>)) {
<a name="l108"><span class="linenum"> 108</span></a>              <a class="var it36139" onMouseOver="hilite(36139)" onMouseOut="lolite()" onClick="logVariable('prevmax')" href="../../../_variables/prevmax.html">$prevmax</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>);
<a name="l109"><span class="linenum"> 109</span></a>              if (<a class="var it36139" onMouseOver="hilite(36139)" onMouseOut="lolite()" onClick="logVariable('prevmax')" href="../../../_variables/prevmax.html">$prevmax</a> !== self::INDETERMINATE) {
<a name="l110"><span class="linenum"> 110</span></a>                  <a class="var it36140" onMouseOver="hilite(36140)" onMouseOut="lolite()" onClick="logVariable('prevcurrent')" href="../../../_variables/prevcurrent.html">$prevcurrent</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l111"><span class="linenum"> 111</span></a>                  if (<a class="var it36140" onMouseOver="hilite(36140)" onMouseOut="lolite()" onClick="logVariable('prevcurrent')" href="../../../_variables/prevcurrent.html">$prevcurrent</a> + <a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a> &gt; <a class="var it36139" onMouseOver="hilite(36139)" onMouseOut="lolite()" onClick="logVariable('prevmax')" href="../../../_variables/prevmax.html">$prevmax</a>) {
<a name="l112"><span class="linenum"> 112</span></a>                      throw new \coding_exception(
<a name="l113"><span class="linenum"> 113</span></a>                              '<a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>() parent progress would exceed max');
<a name="l114"><span class="linenum"> 114</span></a>                  }
<a name="l115"><span class="linenum"> 115</span></a>              }
<a name="l116"><span class="linenum"> 116</span></a>          } else {
<a name="l117"><span class="linenum"> 117</span></a>              if (<a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a> != 1) {
<a name="l118"><span class="linenum"> 118</span></a>                  throw new \coding_exception(
<a name="l119"><span class="linenum"> 119</span></a>                          '<a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>() progress count must be 1 when no parent');
<a name="l120"><span class="linenum"> 120</span></a>              }
<a name="l121"><span class="linenum"> 121</span></a>          }
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>[] = <a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>;
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>[] = <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>;
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>[] = 0;
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parentcounts')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/parentcounts.html">parentcounts</a>[] = <a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a>;
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('update_progress')" href="../../../_functions/update_progress.html" onMouseOver="funcPopup(event,'update_progress')">update_progress</a>();
<a name="l127"><span class="linenum"> 127</span></a>      }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <span class="comment">/**</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * Marks the end of an operation that will display progress.</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     *</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * This must be paired with each {@link start_progress} call.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     *</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * If there is a parent progress section, its progress will be increased</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * automatically to reflect the end of the child section.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     *</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @throws \coding_exception If progress hasn't been started</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     */</span>
<a name="l139"><span class="linenum"> 139</span></a>      public function <a class="function" onClick="logFunction('end_progress')" href="../../../_functions/end_progress.html" onMouseOver="funcPopup(event,'end_progress')">end_progress</a>() {
<a name="l140"><span class="linenum"> 140</span></a>          if (!<a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>)) {
<a name="l141"><span class="linenum"> 141</span></a>              throw new \coding_exception('<a class="function" onClick="logFunction('end_progress')" href="../../../_functions/end_progress.html" onMouseOver="funcPopup(event,'end_progress')">end_progress</a>() without <a class="function" onClick="logFunction('start_progress')" href="../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>()');
<a name="l142"><span class="linenum"> 142</span></a>          }
<a name="l143"><span class="linenum"> 143</span></a>          <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>);
<a name="l144"><span class="linenum"> 144</span></a>          <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>);
<a name="l145"><span class="linenum"> 145</span></a>          <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l146"><span class="linenum"> 146</span></a>          <a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parentcounts')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/parentcounts.html">parentcounts</a>);
<a name="l147"><span class="linenum"> 147</span></a>          if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>)) {
<a name="l148"><span class="linenum"> 148</span></a>              <a class="var it36141" onMouseOver="hilite(36141)" onMouseOut="lolite()" onClick="logVariable('lastmax')" href="../../../_variables/lastmax.html">$lastmax</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>);
<a name="l149"><span class="linenum"> 149</span></a>              if (<a class="var it36141" onMouseOver="hilite(36141)" onMouseOut="lolite()" onClick="logVariable('lastmax')" href="../../../_variables/lastmax.html">$lastmax</a> != self::INDETERMINATE) {
<a name="l150"><span class="linenum"> 150</span></a>                  <a class="var it13443" onMouseOver="hilite(13443)" onMouseOut="lolite()" onClick="logVariable('lastvalue')" href="../../../_variables/lastvalue.html">$lastvalue</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l151"><span class="linenum"> 151</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>[<a class="phpfunction" onClick="logFunction('key')" href="../../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>)] = <a class="var it13443" onMouseOver="hilite(13443)" onMouseOut="lolite()" onClick="logVariable('lastvalue')" href="../../../_variables/lastvalue.html">$lastvalue</a> + <a class="var it36138" onMouseOver="hilite(36138)" onMouseOut="lolite()" onClick="logVariable('parentcount')" href="../../../_variables/parentcount.html">$parentcount</a>;
<a name="l152"><span class="linenum"> 152</span></a>              }
<a name="l153"><span class="linenum"> 153</span></a>          }
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('update_progress')" href="../../../_functions/update_progress.html" onMouseOver="funcPopup(event,'update_progress')">update_progress</a>();
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * Indicates that progress has occurred.</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     *</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * The progress value should indicate the total progress so far, from 0</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * to the value supplied for $max (inclusive) in {@link start_progress}.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     *</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     * You do not need to call this function for every value. It is OK to skip</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     * values. It is also OK to call this function as often as desired; it</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">     * doesn't update the display if called more than once per second.</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     *</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * It must be INDETERMINATE if {@link start_progress} was called with $max set to</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * INDETERMINATE. Otherwise it must not be indeterminate.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param int $progress Progress so far</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @throws \coding_exception If progress value is invalid</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     */</span>
<a name="l173"><span class="linenum"> 173</span></a>      public function <a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a> = self::INDETERMINATE) {
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">        // Check we are inside a progress section.</span>
<a name="l175"><span class="linenum"> 175</span></a>          <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>);
<a name="l176"><span class="linenum"> 176</span></a>          if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> === false) {
<a name="l177"><span class="linenum"> 177</span></a>              throw new \coding_exception(
<a name="l178"><span class="linenum"> 178</span></a>                      '<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>() without start_progress');
<a name="l179"><span class="linenum"> 179</span></a>          }
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">        // Check and apply new progress.</span>
<a name="l182"><span class="linenum"> 182</span></a>          if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a> === self::INDETERMINATE) {
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">            // Indeterminate progress.</span>
<a name="l184"><span class="linenum"> 184</span></a>              if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> !== self::INDETERMINATE) {
<a name="l185"><span class="linenum"> 185</span></a>                  throw new \coding_exception(
<a name="l186"><span class="linenum"> 186</span></a>                          '<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>() INDETERMINATE, expecting value');
<a name="l187"><span class="linenum"> 187</span></a>              }
<a name="l188"><span class="linenum"> 188</span></a>          } else {
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">            // Determinate progress.</span>
<a name="l190"><span class="linenum"> 190</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l191"><span class="linenum"> 191</span></a>              if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> === self::INDETERMINATE) {
<a name="l192"><span class="linenum"> 192</span></a>                  throw new \coding_exception(
<a name="l193"><span class="linenum"> 193</span></a>                          '<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>() with value, expecting INDETERMINATE');
<a name="l194"><span class="linenum"> 194</span></a>              } else if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a> &lt; 0 || <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a> &gt; <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>) {
<a name="l195"><span class="linenum"> 195</span></a>                  throw new \coding_exception(
<a name="l196"><span class="linenum"> 196</span></a>                          '<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>() value out of range');
<a name="l197"><span class="linenum"> 197</span></a>              } else if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a> &lt; <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a>) {
<a name="l198"><span class="linenum"> 198</span></a>                  throw new \coding_exception(
<a name="l199"><span class="linenum"> 199</span></a>                          '<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>() value may not go backwards');
<a name="l200"><span class="linenum"> 200</span></a>              }
<a name="l201"><span class="linenum"> 201</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>[<a class="phpfunction" onClick="logFunction('key')" href="../../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>)] = <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../_variables/progress.html">$progress</a>;
<a name="l202"><span class="linenum"> 202</span></a>          }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">        // Don't update progress bar too frequently (more than once per second).</span>
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_time')" href="../../../_functions/get_time.html" onMouseOver="funcPopup(event,'get_time')">get_time</a>();
<a name="l206"><span class="linenum"> 206</span></a>          if (<a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a> === <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lastprogresstime')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/lastprogresstime.html">lastprogresstime</a>) {
<a name="l207"><span class="linenum"> 207</span></a>              return;
<a name="l208"><span class="linenum"> 208</span></a>          }
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">        // Update progress.</span>
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('count')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/count.html">count</a>++;
<a name="l212"><span class="linenum"> 212</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lastprogresstime')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/lastprogresstime.html">lastprogresstime</a> = <a class="var it345" onMouseOver="hilite(345)" onMouseOut="lolite()" onClick="logVariable('now')" href="../../../_variables/now.html">$now</a>;
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">        // Update time limit before next progress display.</span>
<a name="l215"><span class="linenum"> 215</span></a>          \<a class="class" onClick="logClass('core_php_time_limit')" href="../../../_classes/core_php_time_limit.html" onMouseOver="classPopup(event,'core_php_time_limit')">core_php_time_limit</a>::<a class="function" onClick="logFunction('raise')" href="../../../_functions/raise.html" onMouseOver="funcPopup(event,'raise')">raise</a>(self::TIME_LIMIT_WITHOUT_PROGRESS);
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('update_progress')" href="../../../_functions/update_progress.html" onMouseOver="funcPopup(event,'update_progress')">update_progress</a>();
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * An alternative to calling progress. This keeps track of the number of items done internally. Call this method</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * with no parameters to increment the internal counter by one or you can use the $incby parameter to specify a positive</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * change in progress. The internal progress counter should not exceed $max as passed to {@link start_progress} for this</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * section.</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     *</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * If you called {@link start_progress} with parameter INDETERMINATE then you cannot call this method.</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     *</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @var int $incby The positive change to apply to the internal progress counter. Defaults to 1.</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     */</span>
<a name="l229"><span class="linenum"> 229</span></a>      public function <a class="function" onClick="logFunction('increment_progress')" href="../../../_functions/increment_progress.html" onMouseOver="funcPopup(event,'increment_progress')">increment_progress</a>(<a class="var it36142" onMouseOver="hilite(36142)" onMouseOut="lolite()" onClick="logVariable('incby')" href="../../../_variables/incby.html">$incby</a> = 1) {
<a name="l230"><span class="linenum"> 230</span></a>          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l231"><span class="linenum"> 231</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../../_variables/current.html">$current</a> + <a class="var it36142" onMouseOver="hilite(36142)" onMouseOut="lolite()" onClick="logVariable('incby')" href="../../../_variables/incby.html">$incby</a>);
<a name="l232"><span class="linenum"> 232</span></a>      }
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>      <span class="comment">/**</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * Gets time (this is provided so that unit tests can override it).</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     *</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * @return int Current system time</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     */</span>
<a name="l239"><span class="linenum"> 239</span></a>      protected function <a class="function" onClick="logFunction('get_time')" href="../../../_functions/get_time.html" onMouseOver="funcPopup(event,'get_time')">get_time</a>() {
<a name="l240"><span class="linenum"> 240</span></a>          return <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l241"><span class="linenum"> 241</span></a>      }
<a name="l242"><span class="linenum"> 242</span></a>  
<a name="l243"><span class="linenum"> 243</span></a>      <span class="comment">/**</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     * Called whenever new progress should be displayed.</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     */</span>
<a name="l246"><span class="linenum"> 246</span></a>      protected abstract function <a class="function" onClick="logFunction('update_progress')" href="../../../_functions/update_progress.html" onMouseOver="funcPopup(event,'update_progress')">update_progress</a>();
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>      <span class="comment">/**</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * @return bool True if currently inside a progress section</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     */</span>
<a name="l251"><span class="linenum"> 251</span></a>      public function <a class="function" onClick="logFunction('is_in_progress_section')" href="../../../_functions/is_in_progress_section.html" onMouseOver="funcPopup(event,'is_in_progress_section')">is_in_progress_section</a>() {
<a name="l252"><span class="linenum"> 252</span></a>          return !empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>);
<a name="l253"><span class="linenum"> 253</span></a>      }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>      <span class="comment">/**</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * Checks max value of current progress section.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     *</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     * @return int Current max value - may be {@link \core\progress\base::INDETERMINATE}.</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     * @throws \coding_exception If not in a progress section</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     */</span>
<a name="l261"><span class="linenum"> 261</span></a>      public function <a class="function" onClick="logFunction('get_current_max')" href="../../../_functions/get_current_max.html" onMouseOver="funcPopup(event,'get_current_max')">get_current_max</a>() {
<a name="l262"><span class="linenum"> 262</span></a>          <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>);
<a name="l263"><span class="linenum"> 263</span></a>          if (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> === false) {
<a name="l264"><span class="linenum"> 264</span></a>              throw new \coding_exception('Not inside progress section');
<a name="l265"><span class="linenum"> 265</span></a>          }
<a name="l266"><span class="linenum"> 266</span></a>          return <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>;
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>      <span class="comment">/**</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     * @throws \coding_exception</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     * @return string Current progress section description</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     */</span>
<a name="l273"><span class="linenum"> 273</span></a>      public function <a class="function" onClick="logFunction('get_current_description')" href="../../../_functions/get_current_description.html" onMouseOver="funcPopup(event,'get_current_description')">get_current_description</a>() {
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('descriptions')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/descriptions.html">descriptions</a>);
<a name="l275"><span class="linenum"> 275</span></a>          if (<a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a> === false) {
<a name="l276"><span class="linenum"> 276</span></a>              throw new \coding_exception('Not inside progress section');
<a name="l277"><span class="linenum"> 277</span></a>          }
<a name="l278"><span class="linenum"> 278</span></a>          return <a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>;
<a name="l279"><span class="linenum"> 279</span></a>      }
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>      <span class="comment">/**</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * Obtains current progress in a way suitable for drawing a progress bar.</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     *</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * Progress is returned as a minimum and maximum value. If there is no</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * indeterminate progress, these values will be identical. If there is</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * intermediate progress, these values can be different. (For example, if</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * the top level progress sections is indeterminate, then the values will</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * always be 0.0 and 1.0.)</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     *</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * @return array Minimum and maximum possible progress proportions</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     */</span>
<a name="l292"><span class="linenum"> 292</span></a>      public function <a class="function" onClick="logFunction('get_progress_proportion_range')" href="../../../_functions/get_progress_proportion_range.html" onMouseOver="funcPopup(event,'get_progress_proportion_range')">get_progress_proportion_range</a>() {
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">        // If there is no progress underway, we must have finished.</span>
<a name="l294"><span class="linenum"> 294</span></a>          if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>)) {
<a name="l295"><span class="linenum"> 295</span></a>              return array(1.0, 1.0);
<a name="l296"><span class="linenum"> 296</span></a>          }
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>);
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a> = 0.0;
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> = 1.0;
<a name="l300"><span class="linenum"> 300</span></a>          for (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = 0; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> &lt; <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>++) {
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">            // Get max value at that section - if it's indeterminate we can tell</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">            // no more.</span>
<a name="l303"><span class="linenum"> 303</span></a>              <a class="var it36143" onMouseOver="hilite(36143)" onMouseOut="lolite()" onClick="logVariable('sectionmax')" href="../../../_variables/sectionmax.html">$sectionmax</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('maxes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/maxes.html">maxes</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>];
<a name="l304"><span class="linenum"> 304</span></a>              if (<a class="var it36143" onMouseOver="hilite(36143)" onMouseOut="lolite()" onClick="logVariable('sectionmax')" href="../../../_variables/sectionmax.html">$sectionmax</a> === self::INDETERMINATE) {
<a name="l305"><span class="linenum"> 305</span></a>                  return array(<a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>, <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>);
<a name="l306"><span class="linenum"> 306</span></a>              }
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">            // Special case if current value is max (this should only happen</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">            // just before ending a section).</span>
<a name="l310"><span class="linenum"> 310</span></a>              <a class="var it36144" onMouseOver="hilite(36144)" onMouseOut="lolite()" onClick="logVariable('sectioncurrent')" href="../../../_variables/sectioncurrent.html">$sectioncurrent</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('currents')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/currents.html">currents</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>];
<a name="l311"><span class="linenum"> 311</span></a>              if (<a class="var it36144" onMouseOver="hilite(36144)" onMouseOut="lolite()" onClick="logVariable('sectioncurrent')" href="../../../_variables/sectioncurrent.html">$sectioncurrent</a> === <a class="var it36143" onMouseOver="hilite(36143)" onMouseOut="lolite()" onClick="logVariable('sectionmax')" href="../../../_variables/sectionmax.html">$sectionmax</a>) {
<a name="l312"><span class="linenum"> 312</span></a>                  return array(<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>, <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a>);
<a name="l313"><span class="linenum"> 313</span></a>              }
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">            // Using the current value at that section, we know we are somewhere</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">            // between 'current' and the next 'current' value which depends on</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">            // the parentcount of the nested section (if any).</span>
<a name="l318"><span class="linenum"> 318</span></a>              <a class="var it36145" onMouseOver="hilite(36145)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../../_variables/newmin.html">$newmin</a> = (<a class="var it36144" onMouseOver="hilite(36144)" onMouseOut="lolite()" onClick="logVariable('sectioncurrent')" href="../../../_variables/sectioncurrent.html">$sectioncurrent</a> / <a class="var it36143" onMouseOver="hilite(36143)" onMouseOut="lolite()" onClick="logVariable('sectionmax')" href="../../../_variables/sectionmax.html">$sectionmax</a>) * (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> - <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>) + <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>;
<a name="l319"><span class="linenum"> 319</span></a>              <a class="var it36146" onMouseOver="hilite(36146)" onMouseOut="lolite()" onClick="logVariable('nextcurrent')" href="../../../_variables/nextcurrent.html">$nextcurrent</a> = <a class="var it36144" onMouseOver="hilite(36144)" onMouseOut="lolite()" onClick="logVariable('sectioncurrent')" href="../../../_variables/sectioncurrent.html">$sectioncurrent</a> + 1;
<a name="l320"><span class="linenum"> 320</span></a>              if (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1 &lt; <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>) {
<a name="l321"><span class="linenum"> 321</span></a>                  <a class="var it5702" onMouseOver="hilite(5702)" onMouseOut="lolite()" onClick="logVariable('weight')" href="../../../_variables/weight.html">$weight</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('parentcounts')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/parentcounts.html">parentcounts</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1];
<a name="l322"><span class="linenum"> 322</span></a>                  <a class="var it36146" onMouseOver="hilite(36146)" onMouseOut="lolite()" onClick="logVariable('nextcurrent')" href="../../../_variables/nextcurrent.html">$nextcurrent</a> = <a class="var it36144" onMouseOver="hilite(36144)" onMouseOut="lolite()" onClick="logVariable('sectioncurrent')" href="../../../_variables/sectioncurrent.html">$sectioncurrent</a> + <a class="var it5702" onMouseOver="hilite(5702)" onMouseOut="lolite()" onClick="logVariable('weight')" href="../../../_variables/weight.html">$weight</a>;
<a name="l323"><span class="linenum"> 323</span></a>              }
<a name="l324"><span class="linenum"> 324</span></a>              <a class="var it36147" onMouseOver="hilite(36147)" onMouseOut="lolite()" onClick="logVariable('newmax')" href="../../../_variables/newmax.html">$newmax</a> = (<a class="var it36146" onMouseOver="hilite(36146)" onMouseOut="lolite()" onClick="logVariable('nextcurrent')" href="../../../_variables/nextcurrent.html">$nextcurrent</a> / <a class="var it36143" onMouseOver="hilite(36143)" onMouseOut="lolite()" onClick="logVariable('sectionmax')" href="../../../_variables/sectionmax.html">$sectionmax</a>) * (<a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> - <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>) + <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>;
<a name="l325"><span class="linenum"> 325</span></a>              <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a> = <a class="var it36145" onMouseOver="hilite(36145)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../../_variables/newmin.html">$newmin</a>;
<a name="l326"><span class="linenum"> 326</span></a>              <a class="var it588" onMouseOver="hilite(588)" onMouseOut="lolite()" onClick="logVariable('max')" href="../../../_variables/max.html">$max</a> = <a class="var it36147" onMouseOver="hilite(36147)" onMouseOut="lolite()" onClick="logVariable('newmax')" href="../../../_variables/newmax.html">$newmax</a>;
<a name="l327"><span class="linenum"> 327</span></a>          }
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">        // If there was nothing indeterminate, we use the min value as current.</span>
<a name="l330"><span class="linenum"> 330</span></a>          return array(<a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>, <a class="var it1329" onMouseOver="hilite(1329)" onMouseOut="lolite()" onClick="logVariable('min')" href="../../../_variables/min.html">$min</a>);
<a name="l331"><span class="linenum"> 331</span></a>      }
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>      <span class="comment">/**</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">     * Obtains current indeterminate progress in a way suitable for adding to</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">     * the progress display.</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">     *</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">     * This returns the number of indeterminate calls (at any level) during the</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     * lifetime of this progress reporter, whether or not there is a current</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * indeterminate step. (The number will not be ridiculously high because</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     * progress calls are limited to one per second.)</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     *</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @return int Number of indeterminate progress calls</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     */</span>
<a name="l344"><span class="linenum"> 344</span></a>      public function <a class="function" onClick="logFunction('get_progress_count')" href="../../../_functions/get_progress_count.html" onMouseOver="funcPopup(event,'get_progress_count')">get_progress_count</a>() {
<a name="l345"><span class="linenum"> 345</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('count')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/count.html">count</a>;
<a name="l346"><span class="linenum"> 346</span></a>      }
<a name="l347"><span class="linenum"> 347</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'start_progress': ['start_progress', 'Marks the start of an operation that will display progress. ', [['lib/classes/progress','base.php',77]], 81],
'get_time': ['get_time', '', [['lib/tests','progress_test.php',424],['availability/condition/date/classes','condition.php',171],['lib/classes/progress','base.php',234]], 2],
'get_current_max': ['get_current_max', 'Checks max value of current progress section. ', [['lib/classes/progress','base.php',255]], 1],
'end_progress': ['end_progress', 'Marks the end of an operation that will display progress. ', [['lib/classes/progress','base.php',129]], 69],
'get_progress_proportion_range': ['get_progress_proportion_range', 'Obtains current progress in a way suitable for drawing a progress bar. ', [['lib/classes/progress','base.php',281]], 2],
'increment_progress': ['increment_progress', 'An alternative to calling progress. This keeps track of the number of items done internally. Call this method with no parameters to increment the internal counter by one or you can use the $incby parameter to specify a positive change in progress. The internal progress counter should not exceed $max as passed to {@link start_progress} for this section. ', [['lib/classes/progress','base.php',219]], 12],
'raise': ['raise', 'Sets the PHP time limit to a number of seconds from now. ', [['lib/classes','php_time_limit.php',41]], 85],
'progress': ['progress', 'Implementation for file_progress interface to display unzip progress. ', [['backup/moodle2','backup_stepslib.php',1817],['backup/util/ui','restore_ui_stage.class.php',334],['lib/filestorage/tests','zip_packer_test.php',520],['lib/filestorage','file_progress.php',35],['lib/classes/progress','base.php',157],['lib/filestorage/tests','tgz_packer_test.php',422]], 111],
'update_progress': ['update_progress', '', [['lib/tests','progress_test.php',420],['backup/controller/tests','controller_test.php',166],['lib/classes/progress','null.php',29],['lib/classes/progress','display_if_slow.php',99],['lib/classes/progress','display.php',102]], 5],
'get_progress_count': ['get_progress_count', 'Obtains current indeterminate progress in a way suitable for adding to the progress display. ', [['lib/classes/progress','base.php',333]], 13],
'get_current_description': ['get_current_description', '', [['lib/classes/progress','base.php',273]], 5],
'is_in_progress_section': ['is_in_progress_section', '', [['lib/classes/progress','base.php',251]], 5],
'key': ['key', '', [], 198],
'count': ['count', '', [], 3984],
'time': ['time', '', [], 1768],
'array_pop': ['array_pop', '', [], 438],
'defined': ['defined', '', [], 4098],
'end': ['end', '', [], 432]};
CLASS_DATA={
'core_php_time_limit': ['core_php_time_limit', 'Utility class to manage PHP time limit. ', [['lib/classes','php_time_limit.php',27]], 87]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
