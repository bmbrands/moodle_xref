<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of file_lock_factory.php</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='lib/classes/lock';
filename='file_lock_factory.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/classes/lock/</a> -> <a href="file_lock_factory.php.source.html">file_lock_factory.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="file_lock_factory.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../../_stats.html">Project Stats</a>]</p>
<p><b>Flock based file locking factory. The file lock factory returns file locks locked with the flock function. Works OK, except on some NFS, exotic shared storage and exotic server OSes (like windows). On windows, a second attempt to get a lock will block indefinitely instead of timing out.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>Damyon Wiese 2013</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>200 lines (7 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>file_lock_factory::</b> (9 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#supports_timeout">supports_timeout</a>()<br>
&nbsp;&nbsp;<a href="#supports_auto_release">supports_auto_release</a>()<br>
&nbsp;&nbsp;<a href="#is_available">is_available</a>()<br>
&nbsp;&nbsp;<a href="#supports_recursion">supports_recursion</a>()<br>
&nbsp;&nbsp;<a href="#get_debug_info">get_debug_info</a>()<br>
&nbsp;&nbsp;<a href="#get_lock">get_lock</a>()<br>
&nbsp;&nbsp;<a href="#release_lock">release_lock</a>()<br>
&nbsp;&nbsp;<a href="#extend_lock">extend_lock</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="file_lock_factory"><b>file_lock_factory</b></a>&nbsp;&nbsp;- <a href="../../../_classes/file_lock_factory.html"><small>X-Ref</small></a>
</p>
<b>Flock based file locking factory.<BR>
</b><br>
The file lock factory returns file locks locked with the flock function. Works OK, except on some<BR>
NFS, exotic shared storage and exotic server OSes (like windows). On windows, a second attempt to get a<BR>
lock will block indefinitely instead of timing out.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'file_lock_factory.php.source.html#l57')" href="file_lock_factory.php.source.html#l57">__construct</a>(<a href="../../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create this lock factory.<BR>
</b><BR><b>param:</b> string $type - The type, e.g. cron, cache, session<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="supports_timeout" onClick="logFunction('supports_timeout', 'file_lock_factory.php.source.html#l77')" href="file_lock_factory.php.source.html#l77">supports_timeout</a>()&nbsp;&nbsp;
<a href="../../../_functions/supports_timeout.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return information about the blocking behaviour of the lock type on this platform.<BR>
</b><BR><b>return:</b> boolean - False if attempting to get a lock will block indefinitely.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="supports_auto_release" onClick="logFunction('supports_auto_release', 'file_lock_factory.php.source.html#l87')" href="file_lock_factory.php.source.html#l87">supports_auto_release</a>()&nbsp;&nbsp;
<a href="../../../_functions/supports_auto_release.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This lock type will be automatically released when a process ends.<BR>
</b><BR><b>return:</b> boolean - True<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_available" onClick="logFunction('is_available', 'file_lock_factory.php.source.html#l95')" href="file_lock_factory.php.source.html#l95">is_available</a>()&nbsp;&nbsp;
<a href="../../../_functions/is_available.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Is available.<BR>
</b><BR><b>return:</b> boolean - True if preventfilelocking is not set - or the file_lock_root is not in dataroot.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="supports_recursion" onClick="logFunction('supports_recursion', 'file_lock_factory.php.source.html#l109')" href="file_lock_factory.php.source.html#l109">supports_recursion</a>()&nbsp;&nbsp;
<a href="../../../_functions/supports_recursion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Multiple locks for the same resource cannot be held from a single process.<BR>
</b><BR><b>return:</b> boolean - False<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_debug_info" onClick="logFunction('get_debug_info', 'file_lock_factory.php.source.html#l117')" href="file_lock_factory.php.source.html#l117">get_debug_info</a>()&nbsp;&nbsp;
<a href="../../../_functions/get_debug_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get some info that might be useful for debugging.<BR>
</b><BR><b>return:</b> boolean - string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_lock" onClick="logFunction('get_lock', 'file_lock_factory.php.source.html#l125')" href="file_lock_factory.php.source.html#l125">get_lock</a>(<a href="../../../_variables/resource.html">$resource</a>, <a href="../../../_variables/timeout.html">$timeout</a>, <a href="../../../_variables/maxlifetime.html">$maxlifetime</a> = 86400)&nbsp;&nbsp;
<a href="../../../_functions/get_lock.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a lock within the specified timeout or return false.<BR>
</b><BR><b>param:</b> string $resource - The identifier for the lock. Should use frankenstyle prefix.<br>
<b>param:</b> int $timeout - The number of seconds to wait for a lock before giving up.<br>
<b>param:</b> int $maxlifetime - Unused by this lock type.<br>
<b>return:</b> boolean - true if a lock was obtained.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="release_lock" onClick="logFunction('release_lock', 'file_lock_factory.php.source.html#l171')" href="file_lock_factory.php.source.html#l171">release_lock</a>(lock <a href="../../../_variables/lock.html">$lock</a>)&nbsp;&nbsp;
<a href="../../../_functions/release_lock.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Release a lock that was previously obtained with @lock.<BR>
</b><BR><b>param:</b> lock $lock - A lock obtained from this factory.<br>
<b>return:</b> boolean - true if the lock is no longer held (including if it was never held).<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extend_lock" onClick="logFunction('extend_lock', 'file_lock_factory.php.source.html#l189')" href="file_lock_factory.php.source.html#l189">extend_lock</a>(lock <a href="../../../_variables/lock.html">$lock</a>, <a href="../../../_variables/maxlifetime.html">$maxlifetime</a> = 86400)&nbsp;&nbsp;
<a href="../../../_functions/extend_lock.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extend a lock that was previously obtained with @lock.<BR>
</b><BR><b>param:</b> lock $lock - not used<br>
<b>param:</b> int $maxlifetime - not used<br>
<b>return:</b> boolean - true if the lock was extended.<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
