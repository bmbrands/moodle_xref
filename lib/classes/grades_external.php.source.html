<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/classes/grades_external.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/classes';
filename='grades_external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/classes/</a> -> <a href="grades_external.php.html">grades_external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="grades_external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="grades_external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Core grades external functions</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_grades</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2012 Andrew Davis</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @since Moodle 2.7</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l29"><span class="linenum">  29</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/gradelib.php&quot;);
<a name="l30"><span class="linenum">  30</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/querylib.php&quot;);
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * core grades functions</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grades_external')" href="../../_classes/core_grades_external.html" onMouseOver="classPopup(event,'core_grades_external')">core_grades_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     *</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * @deprecated Moodle 3.2 MDL-51373 - Please do not call this function any more.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @see gradereport_user_external::get_grades_table for a similar function</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     */</span>
<a name="l44"><span class="linenum">  44</span></a>      public static function <a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>() {
<a name="l45"><span class="linenum">  45</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l46"><span class="linenum">  46</span></a>              array(
<a name="l47"><span class="linenum">  47</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of course'),
<a name="l48"><span class="linenum">  48</span></a>                  'component' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l49"><span class="linenum">  49</span></a>                      <a class="constant" onClick="logConstant('PARAM_COMPONENT')" href="../../_constants/PARAM_COMPONENT.html" onMouseOver="constPopup(event,'PARAM_COMPONENT')">PARAM_COMPONENT</a>, 'A component, for example mod_forum or mod_quiz', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l50"><span class="linenum">  50</span></a>                  'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The activity ID', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l51"><span class="linenum">  51</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l52"><span class="linenum">  52</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user ID'),
<a name="l53"><span class="linenum">  53</span></a>                      'An array of user IDs, leave empty to just retrieve grade item information', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l54"><span class="linenum">  54</span></a>                  )
<a name="l55"><span class="linenum">  55</span></a>              )
<a name="l56"><span class="linenum">  56</span></a>          );
<a name="l57"><span class="linenum">  57</span></a>      }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>      <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * Returns student course total grade and grades for activities.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * This function does not return category or manual items.</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * This function is suitable for managers or teachers not students.</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @param  int $courseid        Course id</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @param  string $component    Component name</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @param  int $activityid      Activity id</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @param  array  $userids      Array of user ids</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * @return array                Array of grades</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @deprecated Moodle 3.2 MDL-51373 - Please do not call this function any more.</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @see gradereport_user_external::get_grades_table for a similar function</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     */</span>
<a name="l73"><span class="linenum">  73</span></a>      public static function <a class="function" onClick="logFunction('get_grades')" href="../../_functions/get_grades.html" onMouseOver="funcPopup(event,'get_grades')">get_grades</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a> = null, <a class="var it11228" onMouseOver="hilite(11228)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a> = null, <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a> = array()) {
<a name="l74"><span class="linenum">  74</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>(),
<a name="l77"><span class="linenum">  77</span></a>              array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'component' =&gt; <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, 'activityid' =&gt; <a class="var it11228" onMouseOver="hilite(11228)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>, 'userids' =&gt; <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>));
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a> = array(
<a name="l80"><span class="linenum">  80</span></a>              'items'     =&gt; array(),
<a name="l81"><span class="linenum">  81</span></a>              'outcomes'  =&gt; array()
<a name="l82"><span class="linenum">  82</span></a>          );
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>          try {
<a name="l87"><span class="linenum">  87</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l88"><span class="linenum">  88</span></a>          } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a> = new stdClass();
<a name="l90"><span class="linenum">  90</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('message')" class="var it43661" onMouseOver="hilite(43661)" onMouseOut="lolite()" href="../../_variables/message.html">message</a> = <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l91"><span class="linenum">  91</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('courseid')" class="var it43661" onMouseOver="hilite(43661)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'];
<a name="l92"><span class="linenum">  92</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('errorcoursecontextnotvalid' , 'webservice', '', <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>);
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:viewhidden', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = false;
<a name="l100"><span class="linenum"> 100</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">            // Can view all user's grades in this course.</span>
<a name="l102"><span class="linenum"> 102</span></a>              <a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>          } else if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('showgrades')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/showgrades.html">showgrades</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']) == 1) {
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">            // Course showgrades == students/parents can access grades.</span>
<a name="l106"><span class="linenum"> 106</span></a>  
<a name="l107"><span class="linenum"> 107</span></a>              if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'][0] == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> and <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:view', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">                // Student can view their own grades in this course.</span>
<a name="l109"><span class="linenum"> 109</span></a>                  <a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>              } else if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="class" onClick="logClass('context_user')" href="../../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'][0]))) {
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">                // User can view the grades of this user. Parent most probably.</span>
<a name="l113"><span class="linenum"> 113</span></a>                  <a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l114"><span class="linenum"> 114</span></a>              }
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          if (!<a class="var it1030" onMouseOver="hilite(1030)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a>) {
<a name="l118"><span class="linenum"> 118</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error');
<a name="l119"><span class="linenum"> 119</span></a>          }
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a> = null;
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a> = null;
<a name="l123"><span class="linenum"> 123</span></a>          <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = null;
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'])) {
<a name="l126"><span class="linenum"> 126</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) = <a class="function" onClick="logFunction('normalize_component')" href="../../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component']);
<a name="l127"><span class="linenum"> 127</span></a>          }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = null;
<a name="l130"><span class="linenum"> 130</span></a>          if (!empty(<a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) &amp;&amp; !empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['activityid'])) {
<a name="l131"><span class="linenum"> 131</span></a>              if (!<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>(<a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['activityid'])) {
<a name="l132"><span class="linenum"> 132</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invalidcoursemodule');
<a name="l133"><span class="linenum"> 133</span></a>              }
<a name="l134"><span class="linenum"> 134</span></a>              <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l135"><span class="linenum"> 135</span></a>          }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">        // Load all the module info.</span>
<a name="l138"><span class="linenum"> 138</span></a>          <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it28732" onMouseOver="hilite(28732)" onMouseOut="lolite()" onClick="logVariable('activityinstances')" href="../../_variables/activityinstances.html">$activityinstances</a> = <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_instances')" href="../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>();
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it28733" onMouseOver="hilite(28733)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a> = array('courseid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l142"><span class="linenum"> 142</span></a>          if (!empty(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>)) {
<a name="l143"><span class="linenum"> 143</span></a>              <a class="var it28733" onMouseOver="hilite(28733)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['itemtype'] = <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>;
<a name="l144"><span class="linenum"> 144</span></a>          }
<a name="l145"><span class="linenum"> 145</span></a>          if (!empty(<a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>)) {
<a name="l146"><span class="linenum"> 146</span></a>              <a class="var it28733" onMouseOver="hilite(28733)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['itemmodule'] = <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>;
<a name="l147"><span class="linenum"> 147</span></a>          }
<a name="l148"><span class="linenum"> 148</span></a>          if (!empty(<a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>)) {
<a name="l149"><span class="linenum"> 149</span></a>              <a class="var it28733" onMouseOver="hilite(28733)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['iteminstance'] = <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>;
<a name="l150"><span class="linenum"> 150</span></a>          }
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>          if (<a class="var it28734" onMouseOver="hilite(28734)" onMouseOut="lolite()" onClick="logVariable('activitygrades')" href="../../_variables/activitygrades.html">$activitygrades</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch_all')" href="../../_functions/fetch_all.html" onMouseOver="funcPopup(event,'fetch_all')">fetch_all</a>(<a class="var it28733" onMouseOver="hilite(28733)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>)) {
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it3982" onMouseOver="hilite(3982)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a> = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewhidden', <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']));
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>              foreach (<a class="var it28734" onMouseOver="hilite(28734)" onMouseOut="lolite()" onClick="logVariable('activitygrades')" href="../../_variables/activitygrades.html">$activitygrades</a> as <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>) {
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>                  if (<a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'course' and <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'mod') {
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">                    // This function currently only supports course and mod grade items. Manual and category not supported.</span>
<a name="l159"><span class="linenum"> 159</span></a>                      continue;
<a name="l160"><span class="linenum"> 160</span></a>                  }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>;
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>                  if (<a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> == 'course') {
<a name="l165"><span class="linenum"> 165</span></a>                      <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a> = <a class="function" onClick="logFunction('grade_get_course_grades')" href="../../_functions/grade_get_course_grades.html" onMouseOver="funcPopup(event,'grade_get_course_grades')">grade_get_course_grades</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']);
<a name="l166"><span class="linenum"> 166</span></a>                      <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemnumber')" class="var it42962" onMouseOver="hilite(42962)" onMouseOut="lolite()" href="../../_variables/itemnumber.html">itemnumber</a> = 0;
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>                      <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = new stdClass;
<a name="l169"><span class="linenum"> 169</span></a>                      <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it43825" onMouseOver="hilite(43825)" onMouseOut="lolite()" href="../../_variables/items.html">items</a> = array(<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>);
<a name="l170"><span class="linenum"> 170</span></a>                      <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('outcomes')" class="var it43825" onMouseOver="hilite(43825)" onMouseOut="lolite()" href="../../_variables/outcomes.html">outcomes</a> = array();
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>                  } else {
<a name="l173"><span class="linenum"> 173</span></a>                      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it28732" onMouseOver="hilite(28732)" onMouseOut="lolite()" onClick="logVariable('activityinstances')" href="../../_variables/activityinstances.html">$activityinstances</a>[<a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>][<a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>];
<a name="l174"><span class="linenum"> 174</span></a>                      <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l175"><span class="linenum"> 175</span></a>                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>                      <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'], <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>,
<a name="l178"><span class="linenum"> 178</span></a>                                                  <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']);
<a name="l179"><span class="linenum"> 179</span></a>                  }
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">                // Convert from objects to arrays so all web service clients are supported.</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">                // While we're doing that we also remove grades the current user can't see due to hiding.</span>
<a name="l183"><span class="linenum"> 183</span></a>                  foreach (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it43825" onMouseOver="hilite(43825)" onMouseOut="lolite()" href="../../_variables/items.html">items</a> as <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>) {
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">                    // Switch the stdClass instance for a grade item instance so we can call is_hidden() and use the ID.</span>
<a name="l185"><span class="linenum"> 185</span></a>                      <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = self::<a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(
<a name="l186"><span class="linenum"> 186</span></a>                          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>, <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>, 0);
<a name="l187"><span class="linenum"> 187</span></a>                      if (!<a class="var it3982" onMouseOver="hilite(3982)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a> &amp;&amp; <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l188"><span class="linenum"> 188</span></a>                          continue;
<a name="l189"><span class="linenum"> 189</span></a>                      }
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">                    // Format mixed bool/integer parameters.</span>
<a name="l192"><span class="linenum"> 192</span></a>                      <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l193"><span class="linenum"> 193</span></a>                      <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>                      <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a> = (array)<a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>;
<a name="l196"><span class="linenum"> 196</span></a>                      <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'] = array();
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>                      if (!empty(<a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('grades')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>)) {
<a name="l199"><span class="linenum"> 199</span></a>                          foreach (<a class="var it2470" onMouseOver="hilite(2470)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('grades')" class="var it42964" onMouseOver="hilite(42964)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a> as <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a> =&gt; <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>) {
<a name="l200"><span class="linenum"> 200</span></a>                              if (!<a class="var it3982" onMouseOver="hilite(3982)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a>) {
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">                                // Need to load the grade_grade object to check visibility.</span>
<a name="l202"><span class="linenum"> 202</span></a>                                  <a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l203"><span class="linenum"> 203</span></a>                                      array(
<a name="l204"><span class="linenum"> 204</span></a>                                          'userid' =&gt; <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>,
<a name="l205"><span class="linenum"> 205</span></a>                                          'itemid' =&gt; <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;id
<a name="l206"><span class="linenum"> 206</span></a>                                      )
<a name="l207"><span class="linenum"> 207</span></a>                                  );
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">                                // The grade grade may be legitimately missing if the student has no grade.</span>
<a name="l209"><span class="linenum"> 209</span></a>                                  if (!empty(<a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>) &amp;&amp; <a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l210"><span class="linenum"> 210</span></a>                                      continue;
<a name="l211"><span class="linenum"> 211</span></a>                                  }
<a name="l212"><span class="linenum"> 212</span></a>                              }
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">                            // Format mixed bool/integer parameters.</span>
<a name="l215"><span class="linenum"> 215</span></a>                              <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l216"><span class="linenum"> 216</span></a>                              <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l217"><span class="linenum"> 217</span></a>                              <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a> = (empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a>)) ? 0 : <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a>;
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>                              if (<a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44992" onMouseOver="hilite(44992)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'course' and !empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>)) {
<a name="l220"><span class="linenum"> 220</span></a>                                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>) =
<a name="l221"><span class="linenum"> 221</span></a>                                      <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>,
<a name="l222"><span class="linenum"> 222</span></a>                                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'], 'feedback', null);
<a name="l223"><span class="linenum"> 223</span></a>                              }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>                              <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'][<a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>] = (array)<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>;
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">                            // Add the student ID as some WS clients can't access the array key.</span>
<a name="l227"><span class="linenum"> 227</span></a>                              <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'][<a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>]['userid'] = <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>;
<a name="l228"><span class="linenum"> 228</span></a>                          }
<a name="l229"><span class="linenum"> 229</span></a>                      }
<a name="l230"><span class="linenum"> 230</span></a>  
<a name="l231"><span class="linenum"> 231</span></a>                      if (<a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44992" onMouseOver="hilite(44992)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> == 'course') {
<a name="l232"><span class="linenum"> 232</span></a>                          <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items']['course'] = <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>;
<a name="l233"><span class="linenum"> 233</span></a>                          <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items']['course']['activityid'] = 'course';
<a name="l234"><span class="linenum"> 234</span></a>                      } else {
<a name="l235"><span class="linenum"> 235</span></a>                          <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it28737" onMouseOver="hilite(28737)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>;
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">                        // Add the activity ID as some WS clients can't access the array key.</span>
<a name="l237"><span class="linenum"> 237</span></a>                          <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['activityid'] = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l238"><span class="linenum"> 238</span></a>                      }
<a name="l239"><span class="linenum"> 239</span></a>                  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>                  foreach (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('outcomes')" class="var it43825" onMouseOver="hilite(43825)" onMouseOut="lolite()" href="../../_variables/outcomes.html">outcomes</a> as <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>) {
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">                    // Format mixed bool/integer parameters.</span>
<a name="l243"><span class="linenum"> 243</span></a>                      <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l244"><span class="linenum"> 244</span></a>                      <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>                      <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = (array)<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>;
<a name="l247"><span class="linenum"> 247</span></a>                      <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['activityid'] = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>                      <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'] = array();
<a name="l250"><span class="linenum"> 250</span></a>                      if (!empty(<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('grades')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>)) {
<a name="l251"><span class="linenum"> 251</span></a>                          foreach (<a class="var it3376" onMouseOver="hilite(3376)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('grades')" class="var it43346" onMouseOver="hilite(43346)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a> as <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a> =&gt; <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>) {
<a name="l252"><span class="linenum"> 252</span></a>                              if (!<a class="var it3982" onMouseOver="hilite(3982)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a>) {
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">                                // Need to load the grade_grade object to check visibility.</span>
<a name="l254"><span class="linenum"> 254</span></a>                                  <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = self::<a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>,
<a name="l255"><span class="linenum"> 255</span></a>                                                                             <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>,
<a name="l256"><span class="linenum"> 256</span></a>                                                                             <a class="var it28735" onMouseOver="hilite(28735)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemnumber')" class="var it44991" onMouseOver="hilite(44991)" onMouseOut="lolite()" href="../../_variables/itemnumber.html">itemnumber</a>);
<a name="l257"><span class="linenum"> 257</span></a>                                  <a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l258"><span class="linenum"> 258</span></a>                                      array(
<a name="l259"><span class="linenum"> 259</span></a>                                          'userid' =&gt; <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>,
<a name="l260"><span class="linenum"> 260</span></a>                                          'itemid' =&gt; <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;id
<a name="l261"><span class="linenum"> 261</span></a>                                      )
<a name="l262"><span class="linenum"> 262</span></a>                                  );
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">                                // The grade grade may be legitimately missing if the student has no grade.</span>
<a name="l264"><span class="linenum"> 264</span></a>                                  if (!empty(<a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> ) &amp;&amp; <a class="var it28738" onMouseOver="hilite(28738)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l265"><span class="linenum"> 265</span></a>                                      continue;
<a name="l266"><span class="linenum"> 266</span></a>                                  }
<a name="l267"><span class="linenum"> 267</span></a>                              }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">                            // Format mixed bool/integer parameters.</span>
<a name="l270"><span class="linenum"> 270</span></a>                              <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l271"><span class="linenum"> 271</span></a>                              <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>                              if (!empty(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>)) {
<a name="l274"><span class="linenum"> 274</span></a>                                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>) =
<a name="l275"><span class="linenum"> 275</span></a>                                      <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it44807" onMouseOver="hilite(44807)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>,
<a name="l276"><span class="linenum"> 276</span></a>                                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'], 'feedback', null);
<a name="l277"><span class="linenum"> 277</span></a>                              }
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>                              <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'][<a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>] = (array)<a class="var it1226" onMouseOver="hilite(1226)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>;
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">                            // Add the student ID into the grade structure as some WS clients can't access the key.</span>
<a name="l282"><span class="linenum"> 282</span></a>                              <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'][<a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>]['userid'] = <a class="var it8603" onMouseOver="hilite(8603)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>;
<a name="l283"><span class="linenum"> 283</span></a>                          }
<a name="l284"><span class="linenum"> 284</span></a>                      }
<a name="l285"><span class="linenum"> 285</span></a>                  }
<a name="l286"><span class="linenum"> 286</span></a>              }
<a name="l287"><span class="linenum"> 287</span></a>          }
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>          return <a class="var it28730" onMouseOver="hilite(28730)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>;
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>      <span class="comment">/**</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * Get a grade item</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * @param  int $courseid        Course id</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * @param  string $itemtype     Item type</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * @param  string $itemmodule   Item module</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @param  int $iteminstance    Item instance</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * @param  int $itemnumber      Item number</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * @return grade_item           A grade_item instance</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     * @deprecated Moodle 3.2 MDL-51373 - Please do not call this function any more.</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @see gradereport_user_external::get_grades_table for a similar function</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     */</span>
<a name="l303"><span class="linenum"> 303</span></a>      private static function <a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a> = null, <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = null, <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a> = null) {
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = null;
<a name="l305"><span class="linenum"> 305</span></a>          if (<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a> == 'course') {
<a name="l306"><span class="linenum"> 306</span></a>              <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'itemtype' =&gt; <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>));
<a name="l307"><span class="linenum"> 307</span></a>          } else {
<a name="l308"><span class="linenum"> 308</span></a>              <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l309"><span class="linenum"> 309</span></a>                  array('courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'itemtype' =&gt; <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>,
<a name="l310"><span class="linenum"> 310</span></a>                      'itemmodule' =&gt; <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, 'iteminstance' =&gt; <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>, 'itemnumber' =&gt; <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>));
<a name="l311"><span class="linenum"> 311</span></a>          }
<a name="l312"><span class="linenum"> 312</span></a>          return <a class="var it28736" onMouseOver="hilite(28736)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>;
<a name="l313"><span class="linenum"> 313</span></a>      }
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>      <span class="comment">/**</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     *</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @return external_description</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * @deprecated Moodle 3.2 MDL-51373 - Please do not call this function any more.</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     * @see gradereport_user_external::get_grades_table for a similar function</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">     */</span>
<a name="l323"><span class="linenum"> 323</span></a>      public static function <a class="function" onClick="logFunction('get_grades_returns')" href="../../_functions/get_grades_returns.html" onMouseOver="funcPopup(event,'get_grades_returns')">get_grades_returns</a>() {
<a name="l324"><span class="linenum"> 324</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l325"><span class="linenum"> 325</span></a>              array(
<a name="l326"><span class="linenum"> 326</span></a>                  'items'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l327"><span class="linenum"> 327</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l328"><span class="linenum"> 328</span></a>                          array(
<a name="l329"><span class="linenum"> 329</span></a>                              'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l330"><span class="linenum"> 330</span></a>                                  <a class="constant" onClick="logConstant('PARAM_ALPHANUM')" href="../../_constants/PARAM_ALPHANUM.html" onMouseOver="constPopup(event,'PARAM_ALPHANUM')">PARAM_ALPHANUM</a>, 'The ID of the activity or &quot;course&quot; for the course grade item'),
<a name="l331"><span class="linenum"> 331</span></a>                              'itemnumber'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Will be 0 unless the module has multiple grades'),
<a name="l332"><span class="linenum"> 332</span></a>                              'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale or 0'),
<a name="l333"><span class="linenum"> 333</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The module name'),
<a name="l334"><span class="linenum"> 334</span></a>                              'grademin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Minimum grade'),
<a name="l335"><span class="linenum"> 335</span></a>                              'grademax' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Maximum grade'),
<a name="l336"><span class="linenum"> 336</span></a>                              'gradepass' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The passing grade threshold'),
<a name="l337"><span class="linenum"> 337</span></a>                              'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l338"><span class="linenum"> 338</span></a>                              'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, &gt; 1 is a date to hide until'),
<a name="l339"><span class="linenum"> 339</span></a>                              'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l340"><span class="linenum"> 340</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l341"><span class="linenum"> 341</span></a>                                      array(
<a name="l342"><span class="linenum"> 342</span></a>                                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l343"><span class="linenum"> 343</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l344"><span class="linenum"> 344</span></a>                                          'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l345"><span class="linenum"> 345</span></a>                                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l346"><span class="linenum"> 346</span></a>                                          'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l347"><span class="linenum"> 347</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l348"><span class="linenum"> 348</span></a>                                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l349"><span class="linenum"> 349</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, 1 hidden, &gt; 1 is a date to hide until'),
<a name="l350"><span class="linenum"> 350</span></a>                                          'overridden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l351"><span class="linenum"> 351</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not overridden, &gt; 1 means overridden'),
<a name="l352"><span class="linenum"> 352</span></a>                                          'feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l353"><span class="linenum"> 353</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Feedback from the grader'),
<a name="l354"><span class="linenum"> 354</span></a>                                          'feedbackformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l355"><span class="linenum"> 355</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The format of the feedback'),
<a name="l356"><span class="linenum"> 356</span></a>                                          'usermodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l357"><span class="linenum"> 357</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the last user to modify this student grade'),
<a name="l358"><span class="linenum"> 358</span></a>                                          'datesubmitted' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l359"><span class="linenum"> 359</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'A timestamp indicating when the student submitted the activity'),
<a name="l360"><span class="linenum"> 360</span></a>                                          'dategraded' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l361"><span class="linenum"> 361</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'A timestamp indicating when the assignment was grades'),
<a name="l362"><span class="linenum"> 362</span></a>                                          'str_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l363"><span class="linenum"> 363</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A string representation of the grade'),
<a name="l364"><span class="linenum"> 364</span></a>                                          'str_long_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l365"><span class="linenum"> 365</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A nicely formatted string representation of the grade'),
<a name="l366"><span class="linenum"> 366</span></a>                                          'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l367"><span class="linenum"> 367</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A formatted string representation of the feedback from the grader'),
<a name="l368"><span class="linenum"> 368</span></a>                                      )
<a name="l369"><span class="linenum"> 369</span></a>                                  )
<a name="l370"><span class="linenum"> 370</span></a>                              ),
<a name="l371"><span class="linenum"> 371</span></a>                          )
<a name="l372"><span class="linenum"> 372</span></a>                      )
<a name="l373"><span class="linenum"> 373</span></a>                  ),
<a name="l374"><span class="linenum"> 374</span></a>                  'outcomes'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l375"><span class="linenum"> 375</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l376"><span class="linenum"> 376</span></a>                          array(
<a name="l377"><span class="linenum"> 377</span></a>                              'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l378"><span class="linenum"> 378</span></a>                                  <a class="constant" onClick="logConstant('PARAM_ALPHANUM')" href="../../_constants/PARAM_ALPHANUM.html" onMouseOver="constPopup(event,'PARAM_ALPHANUM')">PARAM_ALPHANUM</a>, 'The ID of the activity or &quot;course&quot; for the course grade item'),
<a name="l379"><span class="linenum"> 379</span></a>                              'itemnumber'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Will be 0 unless the module has multiple grades'),
<a name="l380"><span class="linenum"> 380</span></a>                              'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale or 0'),
<a name="l381"><span class="linenum"> 381</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The module name'),
<a name="l382"><span class="linenum"> 382</span></a>                              'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l383"><span class="linenum"> 383</span></a>                              'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, &gt; 1 is a date to hide until'),
<a name="l384"><span class="linenum"> 384</span></a>                              'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l385"><span class="linenum"> 385</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l386"><span class="linenum"> 386</span></a>                                      array(
<a name="l387"><span class="linenum"> 387</span></a>                                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l388"><span class="linenum"> 388</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l389"><span class="linenum"> 389</span></a>                                          'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l390"><span class="linenum"> 390</span></a>                                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l391"><span class="linenum"> 391</span></a>                                          'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l392"><span class="linenum"> 392</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l393"><span class="linenum"> 393</span></a>                                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l394"><span class="linenum"> 394</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, 1 hidden, &gt; 1 is a date to hide until'),
<a name="l395"><span class="linenum"> 395</span></a>                                          'feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l396"><span class="linenum"> 396</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Feedback from the grader'),
<a name="l397"><span class="linenum"> 397</span></a>                                          'feedbackformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l398"><span class="linenum"> 398</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The feedback format'),
<a name="l399"><span class="linenum"> 399</span></a>                                          'usermodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l400"><span class="linenum"> 400</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the last user to modify this student grade'),
<a name="l401"><span class="linenum"> 401</span></a>                                          'str_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l402"><span class="linenum"> 402</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A string representation of the grade'),
<a name="l403"><span class="linenum"> 403</span></a>                                          'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l404"><span class="linenum"> 404</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A formatted string representation of the feedback from the grader'),
<a name="l405"><span class="linenum"> 405</span></a>                                      )
<a name="l406"><span class="linenum"> 406</span></a>                                  )
<a name="l407"><span class="linenum"> 407</span></a>                              ),
<a name="l408"><span class="linenum"> 408</span></a>                          )
<a name="l409"><span class="linenum"> 409</span></a>                      ), 'An array of outcomes associated with the grade items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l410"><span class="linenum"> 410</span></a>                  )
<a name="l411"><span class="linenum"> 411</span></a>              )
<a name="l412"><span class="linenum"> 412</span></a>          );
<a name="l413"><span class="linenum"> 413</span></a>  
<a name="l414"><span class="linenum"> 414</span></a>      }
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>      <span class="comment">/**</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * Marking the method as deprecated.</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     *</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @return bool</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     */</span>
<a name="l421"><span class="linenum"> 421</span></a>      public static function <a class="function" onClick="logFunction('get_grades_is_deprecated')" href="../../_functions/get_grades_is_deprecated.html" onMouseOver="funcPopup(event,'get_grades_is_deprecated')">get_grades_is_deprecated</a>() {
<a name="l422"><span class="linenum"> 422</span></a>          return true;
<a name="l423"><span class="linenum"> 423</span></a>      }
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>      <span class="comment">/**</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     *</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     */</span>
<a name="l431"><span class="linenum"> 431</span></a>      public static function <a class="function" onClick="logFunction('update_grades_parameters')" href="../../_functions/update_grades_parameters.html" onMouseOver="funcPopup(event,'update_grades_parameters')">update_grades_parameters</a>() {
<a name="l432"><span class="linenum"> 432</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l433"><span class="linenum"> 433</span></a>              array(
<a name="l434"><span class="linenum"> 434</span></a>                  'source' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'The source of the grade update'),
<a name="l435"><span class="linenum"> 435</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of course'),
<a name="l436"><span class="linenum"> 436</span></a>                  'component' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_COMPONENT')" href="../../_constants/PARAM_COMPONENT.html" onMouseOver="constPopup(event,'PARAM_COMPONENT')">PARAM_COMPONENT</a>, 'A component, for example mod_forum or mod_quiz'),
<a name="l437"><span class="linenum"> 437</span></a>                  'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The activity ID'),
<a name="l438"><span class="linenum"> 438</span></a>                  'itemnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l439"><span class="linenum"> 439</span></a>                      <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade item ID number for modules that have multiple grades. Typically this is 0.'),
<a name="l440"><span class="linenum"> 440</span></a>                  'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l441"><span class="linenum"> 441</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l442"><span class="linenum"> 442</span></a>                          array(
<a name="l443"><span class="linenum"> 443</span></a>                              'studentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l444"><span class="linenum"> 444</span></a>                              'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l445"><span class="linenum"> 445</span></a>                              'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l446"><span class="linenum"> 446</span></a>                                  <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'A string representation of the feedback from the grader', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l447"><span class="linenum"> 447</span></a>                          )
<a name="l448"><span class="linenum"> 448</span></a>                  ), 'Any student grades to alter', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l449"><span class="linenum"> 449</span></a>                  'itemdetails' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l450"><span class="linenum"> 450</span></a>                      array(
<a name="l451"><span class="linenum"> 451</span></a>                          'itemname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l452"><span class="linenum"> 452</span></a>                              <a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The grade item name', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l453"><span class="linenum"> 453</span></a>                          'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l454"><span class="linenum"> 454</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Arbitrary ID provided by the module responsible for the grade item', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l455"><span class="linenum"> 455</span></a>                          'gradetype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l456"><span class="linenum"> 456</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The type of <a class="function" onClick="logFunction('grade')" href="../../_functions/grade.html" onMouseOver="funcPopup(event,'grade')">grade</a> (0 = none, 1 = value, 2 = scale, 3 = text)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l457"><span class="linenum"> 457</span></a>                          'grademax' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l458"><span class="linenum"> 458</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Maximum grade allowed', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l459"><span class="linenum"> 459</span></a>                          'grademin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l460"><span class="linenum"> 460</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Minimum grade allowed', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l461"><span class="linenum"> 461</span></a>                          'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l462"><span class="linenum"> 462</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale being is used', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l463"><span class="linenum"> 463</span></a>                          'multfactor' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l464"><span class="linenum"> 464</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Multiply all grades by this number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l465"><span class="linenum"> 465</span></a>                          'plusfactor' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l466"><span class="linenum"> 466</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Add this to all grades', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l467"><span class="linenum"> 467</span></a>                          'deleted' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l468"><span class="linenum"> 468</span></a>                              <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if the grade item should be deleted', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l469"><span class="linenum"> 469</span></a>                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l470"><span class="linenum"> 470</span></a>                              <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if the grade item is hidden', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l471"><span class="linenum"> 471</span></a>                      ), 'Any grade item settings to alter', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l472"><span class="linenum"> 472</span></a>                  )
<a name="l473"><span class="linenum"> 473</span></a>              )
<a name="l474"><span class="linenum"> 474</span></a>          );
<a name="l475"><span class="linenum"> 475</span></a>      }
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>      <span class="comment">/**</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">     * Update a grade item and, optionally, student grades</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">     *</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">     * @param  string $source       The source of the grade update</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">     * @param  int $courseid        The course id</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * @param  string $component    Component name</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * @param  int $activityid      The activity id</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     * @param  int $itemnumber      The item number</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">     * @param  array  $grades      Array of grades</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * @param  array  $itemdetails Array of item details</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     * @return int                  A status flag</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     */</span>
<a name="l490"><span class="linenum"> 490</span></a>      public static function <a class="function" onClick="logFunction('update_grades')" href="../../_functions/update_grades.html" onMouseOver="funcPopup(event,'update_grades')">update_grades</a>(<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it11228" onMouseOver="hilite(11228)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>,
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>, <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = array(), <a class="var it28739" onMouseOver="hilite(28739)" onMouseOut="lolite()" onClick="logVariable('itemdetails')" href="../../_variables/itemdetails.html">$itemdetails</a> = array()) {
<a name="l492"><span class="linenum"> 492</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(
<a name="l495"><span class="linenum"> 495</span></a>              self::<a class="function" onClick="logFunction('update_grades_parameters')" href="../../_functions/update_grades_parameters.html" onMouseOver="funcPopup(event,'update_grades_parameters')">update_grades_parameters</a>(),
<a name="l496"><span class="linenum"> 496</span></a>              array(
<a name="l497"><span class="linenum"> 497</span></a>                  'source' =&gt; <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>,
<a name="l498"><span class="linenum"> 498</span></a>                  'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>,
<a name="l499"><span class="linenum"> 499</span></a>                  'component' =&gt; <a class="var it227" onMouseOver="hilite(227)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>,
<a name="l500"><span class="linenum"> 500</span></a>                  'activityid' =&gt; <a class="var it11228" onMouseOver="hilite(11228)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>,
<a name="l501"><span class="linenum"> 501</span></a>                  'itemnumber' =&gt; <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>,
<a name="l502"><span class="linenum"> 502</span></a>                  'grades' =&gt; <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>,
<a name="l503"><span class="linenum"> 503</span></a>                  'itemdetails' =&gt; <a class="var it28739" onMouseOver="hilite(28739)" onMouseOut="lolite()" onClick="logVariable('itemdetails')" href="../../_variables/itemdetails.html">$itemdetails</a>
<a name="l504"><span class="linenum"> 504</span></a>              )
<a name="l505"><span class="linenum"> 505</span></a>          );
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) = <a class="function" onClick="logFunction('normalize_component')" href="../../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component']);
<a name="l508"><span class="linenum"> 508</span></a>  
<a name="l509"><span class="linenum"> 509</span></a>          if (! <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>(<a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it11228" onMouseOver="hilite(11228)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>)) {
<a name="l510"><span class="linenum"> 510</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invalidcoursemodule');
<a name="l511"><span class="linenum"> 511</span></a>          }
<a name="l512"><span class="linenum"> 512</span></a>          <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>          <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>          try {
<a name="l517"><span class="linenum"> 517</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l518"><span class="linenum"> 518</span></a>          } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l519"><span class="linenum"> 519</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a> = new stdClass();
<a name="l520"><span class="linenum"> 520</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('message')" class="var it43661" onMouseOver="hilite(43661)" onMouseOut="lolite()" href="../../_variables/message.html">message</a> = <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l521"><span class="linenum"> 521</span></a>              <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('courseid')" class="var it43661" onMouseOver="hilite(43661)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'];
<a name="l522"><span class="linenum"> 522</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('errorcoursecontextnotvalid' , 'webservice', '', <a class="var it28731" onMouseOver="hilite(28731)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>);
<a name="l523"><span class="linenum"> 523</span></a>          }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>          <a class="var it28740" onMouseOver="hilite(28740)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> = false;
<a name="l526"><span class="linenum"> 526</span></a>          <a class="var it28741" onMouseOver="hilite(28741)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> = false;
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it28742" onMouseOver="hilite(28742)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> = false;
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it28743" onMouseOver="hilite(28743)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a> = array();
<a name="l530"><span class="linenum"> 530</span></a>          foreach (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> as <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>) {
<a name="l531"><span class="linenum"> 531</span></a>              <a class="var it28742" onMouseOver="hilite(28742)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> = true;
<a name="l532"><span class="linenum"> 532</span></a>              <a class="var it28743" onMouseOver="hilite(28743)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a>[ <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['studentid'] ] = array('userid' =&gt; <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['studentid'], 'rawgrade' =&gt; <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['grade']);
<a name="l533"><span class="linenum"> 533</span></a>          }
<a name="l534"><span class="linenum"> 534</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails'])) {
<a name="l535"><span class="linenum"> 535</span></a>              if (isset(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails']['hidden'])) {
<a name="l536"><span class="linenum"> 536</span></a>                  <a class="var it28740" onMouseOver="hilite(28740)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> = true;
<a name="l537"><span class="linenum"> 537</span></a>              } else {
<a name="l538"><span class="linenum"> 538</span></a>                  <a class="var it28741" onMouseOver="hilite(28741)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> = true;
<a name="l539"><span class="linenum"> 539</span></a>              }
<a name="l540"><span class="linenum"> 540</span></a>          }
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>          if (<a class="var it28741" onMouseOver="hilite(28741)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l543"><span class="linenum"> 543</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l544"><span class="linenum"> 544</span></a>                  'moodle/grade:manage required to edit grade information');
<a name="l545"><span class="linenum"> 545</span></a>          }
<a name="l546"><span class="linenum"> 546</span></a>          if (<a class="var it28740" onMouseOver="hilite(28740)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:hide', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>) &amp;&amp;
<a name="l547"><span class="linenum"> 547</span></a>              !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:hide', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l548"><span class="linenum"> 548</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l549"><span class="linenum"> 549</span></a>                  'moodle/grade:hide required to hide grade items');
<a name="l550"><span class="linenum"> 550</span></a>          }
<a name="l551"><span class="linenum"> 551</span></a>          if (<a class="var it28742" onMouseOver="hilite(28742)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:edit', <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l552"><span class="linenum"> 552</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l553"><span class="linenum"> 553</span></a>                  'moodle/grade:edit required to edit grades');
<a name="l554"><span class="linenum"> 554</span></a>          }
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>          return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['source'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'], <a class="var it976" onMouseOver="hilite(976)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>,
<a name="l557"><span class="linenum"> 557</span></a>              <a class="var it977" onMouseOver="hilite(977)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it978" onMouseOver="hilite(978)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>, <a class="var it2970" onMouseOver="hilite(2970)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>, <a class="var it28743" onMouseOver="hilite(28743)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails']);
<a name="l558"><span class="linenum"> 558</span></a>      }
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>      <span class="comment">/**</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment">     *</span>
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment">     * @return external_description</span>
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">     */</span>
<a name="l566"><span class="linenum"> 566</span></a>      public static function <a class="function" onClick="logFunction('update_grades_returns')" href="../../_functions/update_grades_returns.html" onMouseOver="funcPopup(event,'update_grades_returns')">update_grades_returns</a>() {
<a name="l567"><span class="linenum"> 567</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l568"><span class="linenum"> 568</span></a>              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>,
<a name="l569"><span class="linenum"> 569</span></a>              'A value like ' . <a class="constant" onClick="logConstant('GRADE_UPDATE_OK')" href="../../_constants/GRADE_UPDATE_OK.html" onMouseOver="constPopup(event,'GRADE_UPDATE_OK')">GRADE_UPDATE_OK</a> . ' =&gt; OK, ' . <a class="constant" onClick="logConstant('GRADE_UPDATE_FAILED')" href="../../_constants/GRADE_UPDATE_FAILED.html" onMouseOver="constPopup(event,'GRADE_UPDATE_FAILED')">GRADE_UPDATE_FAILED</a> . ' =&gt; FAILED
<a name="l570"><span class="linenum"> 570</span></a>              as defined in lib/grade/constants.php'
<a name="l571"><span class="linenum"> 571</span></a>          );
<a name="l572"><span class="linenum"> 572</span></a>      }
<a name="l573"><span class="linenum"> 573</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_grade_item': ['get_grade_item', 'Returns this grade_item. This method is also available in grade_category, for cases where the object type is not know. ', [['lib/grade','grade_item.php',1306],['lib/grade','grade_category.php',2235],['lib/classes','grades_external.php',292],['mod/assign','locallib.php',1245]], 26],
'get_grades_returns': ['get_grades_returns', 'Returns description of method result value ', [['lib/classes','grades_external.php',315],['mod/assign','externallib.php',236]], 9],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'grade_get_course_grades': ['grade_get_course_grades', 'Returns the aggregated or calculated course grade(s) for a single course for one or more users ', [['grade','querylib.php',26]], 1],
'grade': ['grade', 'Return a question answer that describes the outcome (fraction and feeback) for a particular respons. ', [['question/type','questionbase.php',956],['question/type','questionbase.php',1017]], 17],
'update_grades_returns': ['update_grades_returns', 'Returns description of method result value ', [['lib/classes','grades_external.php',560]], 5],
'getmessage': ['getmessage', '', [['lib/google/src/Google/Service','Freebase.php',441],['lib/google/src/Google/Service','AdSense.php',2970],['lib/google/src/Google/Service','Replicapool.php',1165],['lib/google/src/Google/Service','Replicapool.php',1257],['lib/google/src/Google/Service','Computeaccounts.php',1368],['lib/google/src/Google/Service','Computeaccounts.php',1460],['lib/google/src/Google/Service','Appengine.php',1604],['lib/google/src/Google/Service','Books.php',3579],['lib/google/src/Google/Service','Books.php',4429],['lib/google/src/Google/Service','Script.php',360],['lib/google/src/Google/Service','DeploymentManager.php',1116],['lib/google/src/Google/Service','DeploymentManager.php',1604],['lib/google/src/Google/Service','DeploymentManager.php',1641],['lib/google/src/Google/Service','DeploymentManager.php',1823],['lib/google/src/Google/Service','DeploymentManager.php',1860],['lib/google/src/Google/Service','Dataflow.php',2656],['lib/google/src/Google/Service','CloudUserAccounts.php',1807],['lib/google/src/Google/Service','CloudUserAccounts.php',1899],['lib/google/src/Google/Service','Replicapoolupdater.php',617],['lib/google/src/Google/Service','Replicapoolupdater.php',926],['lib/google/src/Google/Service','Replicapoolupdater.php',1018],['lib/google/src/Google/Service','Replicapoolupdater.php',1252],['lib/google/src/Google/Service','Bigquery.php',1367],['lib/google/src/Google/Service','ShoppingContent.php',4125],['lib/google/src/Google/Service','ShoppingContent.php',4527],['lib/google/src/Google/Service','ShoppingContent.php',4572],['lib/google/src/Google/Service','Genomics.php',3622],['lib/google/src/Google/Service','Reports.php',1106],['lib/google/src/Google/Service','Gmail.php',1371],['lib/google/src/Google/Service','Gmail.php',1467],['lib/google/src/Google/Service','Gmail.php',1495],['lib/google/src/Google/Service','Gmail.php',1513],['lib/google/src/Google/Service','Gmail.php',1531],['lib/google/src/Google/Service','Autoscaler.php',1079],['lib/google/src/Google/Service','Autoscaler.php',1171],['lib/google/src/Google/Service','AdExchangeSeller.php',1043],['lib/google/src/Google/Service','IdentityToolkit.php',1266],['lib/pear','PEAR.php',941],['lib/google/src/Google/Service','Storagetransfer.php',948],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Resourceviews.php',894],['lib/google/src/Google/Service','Resourceviews.php',986],['lib/google/src/Google/Service','SQLAdmin.php',3029],['lib/google/src/Google/Service','Compute.php',8752],['lib/google/src/Google/Service','Compute.php',9200],['lib/google/src/Google/Service','Compute.php',10292],['lib/google/src/Google/Service','Compute.php',10384],['lib/google/src/Google/Service','Compute.php',10890],['lib/google/src/Google/Service','Compute.php',12525],['lib/google/src/Google/Service','Compute.php',12771],['lib/google/src/Google/Service','Compute.php',13249],['lib/google/src/Google/Service','Compute.php',13652],['lib/google/src/Google/Service','Compute.php',13804],['lib/google/src/Google/Service','Compute.php',14396],['lib/google/src/Google/Service','Compute.php',14488],['lib/google/src/Google/Service','Compute.php',14580],['lib/google/src/Google/Service','Compute.php',15235],['lib/google/src/Google/Service','Compute.php',16249],['lib/google/src/Google/Service','Compute.php',16675],['lib/google/src/Google/Service','Compute.php',17005],['lib/google/src/Google/Service','Compute.php',17723],['lib/google/src/Google/Service','Pubsub.php',711],['lib/google/src/Google/Service','Pubsub.php',748],['lib/google/src/Google/Service','Dfareporting.php',19533]], 489],
'get_coursemodule_from_id': ['get_coursemodule_from_id', 'Given an id of a course module, finds the coursemodule description ', [['lib','datalib.php',1238]], 212],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'get_instances': ['get_instances', 'Obtains all module instances on this course. ', [['lib','modinfolib.php',235],['repository','lib.php',993],['admin/tool/monitor/classes','rule_manager.php',276],['admin/tool/monitor/classes','subscription_manager.php',370]], 33],
'is_hidden': ['is_hidden', 'Returns the current hidden state of this grade_item ', [['lib/grade','grade_object.php',415],['lib/grade','grade_grade.php',562],['lib','adminlib.php',708],['lib','adminlib.php',995],['lib','adminlib.php',1305],['lib','adminlib.php',1506]], 55],
'get_grades': ['get_grades', 'Returns student course total grade and grades for activities. This function does not return category or manual items. This function is suitable for managers or teachers not students. ', [['lib/classes','grades_external.php',59],['mod/assign','externallib.php',90]], 14],
'update_grades': ['update_grades', 'Update a grade item and, optionally, student grades ', [['lib/classes','grades_external.php',477]], 8],
'fetch_all': ['fetch_all', 'Finds and returns all grade_item instances based on params. ', [['lib/grade','grade_item.php',385],['lib/grade','grade_category.php',209],['lib/grade','grade_scale.php',100],['lib/grade','grade_object.php',138],['completion','data_object.php',165],['lib/grade','grade_grade.php',645],['lib/grade','grade_outcome.php',193],['completion','completion_aggregation.php',79],['completion/criteria','completion_criteria.php',153],['completion','completion_criteria_completion.php',84]], 66],
'update_grades_parameters': ['update_grades_parameters', 'Returns description of method parameters ', [['lib/classes','grades_external.php',425]], 1],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" names. ', [['lib','deprecatedlib.php',211],['lib/classes','component.php',1016]], 89],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',1977]], 289],
'fetch': ['fetch', 'Finds and returns a data_object instance based on params. ', [['completion/criteria','completion_criteria_course.php',46],['lib/minify/lib/Minify/Cache','APC.php',91],['lib/grade','grade_item.php',346],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['lib/grade','grade_scale.php',89],['lib/grade','grade_object.php',126],['completion','data_object.php',152],['completion','completion_completion.php',70],['lib/grade','grade_grade.php',635],['lib/classes/update','checker.php',117],['lib/grade','grade_outcome.php',182],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_role.php',43],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','completion_criteria_completion.php',74],['completion/criteria','completion_criteria_self.php',43],['completion/criteria','completion_criteria_grade.php',45],['completion/criteria','completion_criteria_unenrol.php',43],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/classes','notification.php',93],['completion/criteria','completion_criteria_activity.php',45],['completion/criteria','completion_criteria_duration.php',43],['lib/minify/lib/Minify/Cache','WinCache.php',89],['lib/minify/lib/Minify/Cache','XCache.php',86]], 253],
'get_grades_parameters': ['get_grades_parameters', 'Returns description of method parameters ', [['lib/classes','grades_external.php',36],['mod/assign','externallib.php',71]], 2],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'get_grades_is_deprecated': ['get_grades_is_deprecated', 'Marking the method as deprecated. ', [['lib/classes','grades_external.php',416]], 0],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'grade_get_grades': ['grade_get_grades', 'Returns grading information for given activity, optionally with user grades Manual, course or category items can not be queried. ', [['lib','gradelib.php',408]], 53],
'count': ['count', '', [], 4095],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'core_grades_external': ['core_grades_external', 'core grades functions ', [['lib/classes','grades_external.php',32]], 33],
'grade_item': ['grade_item', 'Class representing a grade item. ', [['lib/grade','grade_item.php',29]], 246],
'grade_grade': ['grade_grade', 'grade_grades is an object mapped to DB table {prefix}grade_grades ', [['lib/grade','grade_grade.php',30]], 154],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350]};
CONST_DATA={
'PARAM_COMPONENT': ['PARAM_COMPONENT', '', [['lib','moodlelib.php',310]], 113],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'GRADE_UPDATE_FAILED': ['GRADE_UPDATE_FAILED', '', [['lib/grade','constants.php',108]], 6],
'PARAM_ALPHANUM': ['PARAM_ALPHANUM', '', [['lib','moodlelib.php',88]], 112],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 215],
'GRADE_UPDATE_OK': ['GRADE_UPDATE_OK', '', [['lib/grade','constants.php',103]], 18],
'PARAM_FLOAT': ['PARAM_FLOAT', '', [['lib','moodlelib.php',146]], 103],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
