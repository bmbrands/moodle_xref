<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/classes/grades_external.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/classes';
filename='grades_external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/classes/</a> -> <a href="grades_external.php.html">grades_external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="grades_external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="grades_external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Core grades external functions</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_grades</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2012 Andrew Davis</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @since Moodle 2.7</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l29"><span class="linenum">  29</span></a>  require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/gradelib.php&quot;);
<a name="l30"><span class="linenum">  30</span></a>  require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/querylib.php&quot;);
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * core grades functions</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grades_external')" href="../../_classes/core_grades_external.html" onMouseOver="classPopup(event,'core_grades_external')">core_grades_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     *</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     */</span>
<a name="l42"><span class="linenum">  42</span></a>      public static function <a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>() {
<a name="l43"><span class="linenum">  43</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l44"><span class="linenum">  44</span></a>              array(
<a name="l45"><span class="linenum">  45</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of course'),
<a name="l46"><span class="linenum">  46</span></a>                  'component' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l47"><span class="linenum">  47</span></a>                      <a class="constant" onClick="logConstant('PARAM_COMPONENT')" href="../../_constants/PARAM_COMPONENT.html" onMouseOver="constPopup(event,'PARAM_COMPONENT')">PARAM_COMPONENT</a>, 'A component, for example mod_forum or mod_quiz', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l48"><span class="linenum">  48</span></a>                  'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The activity ID', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l49"><span class="linenum">  49</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l50"><span class="linenum">  50</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user ID'),
<a name="l51"><span class="linenum">  51</span></a>                      'An array of user IDs, leave empty to just retrieve grade item information', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l52"><span class="linenum">  52</span></a>                  )
<a name="l53"><span class="linenum">  53</span></a>              )
<a name="l54"><span class="linenum">  54</span></a>          );
<a name="l55"><span class="linenum">  55</span></a>      }
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>      <span class="comment">/**</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * Returns student course total grade and grades for activities.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * This function does not return category or manual items.</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * This function is suitable for managers or teachers not students.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     *</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * @param  int $courseid        Course id</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @param  string $component    Component name</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @param  int $activityid      Activity id</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @param  array  $userids      Array of user ids</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @return array                Array of grades</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     */</span>
<a name="l69"><span class="linenum">  69</span></a>      public static function <a class="function" onClick="logFunction('get_grades')" href="../../_functions/get_grades.html" onMouseOver="funcPopup(event,'get_grades')">get_grades</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a> = null, <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a> = null, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a> = array()) {
<a name="l70"><span class="linenum">  70</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>(),
<a name="l73"><span class="linenum">  73</span></a>              array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'component' =&gt; <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, 'activityid' =&gt; <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>, 'userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>));
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a> = array(
<a name="l76"><span class="linenum">  76</span></a>              'items'     =&gt; array(),
<a name="l77"><span class="linenum">  77</span></a>              'outcomes'  =&gt; array()
<a name="l78"><span class="linenum">  78</span></a>          );
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>          try {
<a name="l83"><span class="linenum">  83</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l84"><span class="linenum">  84</span></a>          } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a> = new stdClass();
<a name="l86"><span class="linenum">  86</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('message')" class="var it40896" onMouseOver="hilite(40896)" onMouseOut="lolite()" href="../../_variables/message.html">message</a> = <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('courseid')" class="var it40896" onMouseOver="hilite(40896)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'];
<a name="l88"><span class="linenum">  88</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('errorcoursecontextnotvalid' , 'webservice', '', <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>);
<a name="l89"><span class="linenum">  89</span></a>          }
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:viewhidden', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l94"><span class="linenum">  94</span></a>  
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it1026" onMouseOver="hilite(1026)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = false;
<a name="l96"><span class="linenum">  96</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">            // Can view all user's grades in this course.</span>
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it1026" onMouseOver="hilite(1026)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>          } else if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('showgrades')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/showgrades.html">showgrades</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']) == 1) {
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">            // Course showgrades == students/parents can access grades.</span>
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>              if (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'][0] == <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> and <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:view', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">                // Student can view their own grades in this course.</span>
<a name="l105"><span class="linenum"> 105</span></a>                  <a class="var it1026" onMouseOver="hilite(1026)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l106"><span class="linenum"> 106</span></a>  
<a name="l107"><span class="linenum"> 107</span></a>              } else if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="class" onClick="logClass('context_user')" href="../../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'][0]))) {
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">                // User can view the grades of this user. Parent most probably.</span>
<a name="l109"><span class="linenum"> 109</span></a>                  <a class="var it1026" onMouseOver="hilite(1026)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a> = true;
<a name="l110"><span class="linenum"> 110</span></a>              }
<a name="l111"><span class="linenum"> 111</span></a>          }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>          if (!<a class="var it1026" onMouseOver="hilite(1026)" onMouseOut="lolite()" onClick="logVariable('access')" href="../../_variables/access.html">$access</a>) {
<a name="l114"><span class="linenum"> 114</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error');
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a> = null;
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a> = null;
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = null;
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>          if (!empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'])) {
<a name="l122"><span class="linenum"> 122</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) = <a class="function" onClick="logFunction('normalize_component')" href="../../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component']);
<a name="l123"><span class="linenum"> 123</span></a>          }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = null;
<a name="l126"><span class="linenum"> 126</span></a>          if (!empty(<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) &amp;&amp; !empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['activityid'])) {
<a name="l127"><span class="linenum"> 127</span></a>              if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>(<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['activityid'])) {
<a name="l128"><span class="linenum"> 128</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invalidcoursemodule');
<a name="l129"><span class="linenum"> 129</span></a>              }
<a name="l130"><span class="linenum"> 130</span></a>              <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l131"><span class="linenum"> 131</span></a>          }
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">        // Load all the module info.</span>
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l135"><span class="linenum"> 135</span></a>          <a class="var it27872" onMouseOver="hilite(27872)" onMouseOut="lolite()" onClick="logVariable('activityinstances')" href="../../_variables/activityinstances.html">$activityinstances</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_instances')" href="../../_functions/get_instances.html" onMouseOver="funcPopup(event,'get_instances')">get_instances</a>();
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it27873" onMouseOver="hilite(27873)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a> = array('courseid' =&gt; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l138"><span class="linenum"> 138</span></a>          if (!empty(<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>)) {
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it27873" onMouseOver="hilite(27873)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['itemtype'] = <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>;
<a name="l140"><span class="linenum"> 140</span></a>          }
<a name="l141"><span class="linenum"> 141</span></a>          if (!empty(<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>)) {
<a name="l142"><span class="linenum"> 142</span></a>              <a class="var it27873" onMouseOver="hilite(27873)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['itemmodule'] = <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>;
<a name="l143"><span class="linenum"> 143</span></a>          }
<a name="l144"><span class="linenum"> 144</span></a>          if (!empty(<a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>)) {
<a name="l145"><span class="linenum"> 145</span></a>              <a class="var it27873" onMouseOver="hilite(27873)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>['iteminstance'] = <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>;
<a name="l146"><span class="linenum"> 146</span></a>          }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>          if (<a class="var it27874" onMouseOver="hilite(27874)" onMouseOut="lolite()" onClick="logVariable('activitygrades')" href="../../_variables/activitygrades.html">$activitygrades</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch_all')" href="../../_functions/fetch_all.html" onMouseOver="funcPopup(event,'fetch_all')">fetch_all</a>(<a class="var it27873" onMouseOver="hilite(27873)" onMouseOut="lolite()" onClick="logVariable('gradeparams')" href="../../_variables/gradeparams.html">$gradeparams</a>)) {
<a name="l149"><span class="linenum"> 149</span></a>              <a class="var it7319" onMouseOver="hilite(7319)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a> = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewhidden', <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']));
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>              foreach (<a class="var it27874" onMouseOver="hilite(27874)" onMouseOut="lolite()" onClick="logVariable('activitygrades')" href="../../_variables/activitygrades.html">$activitygrades</a> as <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>) {
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>                  if (<a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'course' and <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'mod') {
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">                    // This function currently only supports course and mod grade items. Manual and category not supported.</span>
<a name="l155"><span class="linenum"> 155</span></a>                      continue;
<a name="l156"><span class="linenum"> 156</span></a>                  }
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>                  if (<a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> == 'course') {
<a name="l159"><span class="linenum"> 159</span></a>                      <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a> = <a class="function" onClick="logFunction('grade_get_course_grades')" href="../../_functions/grade_get_course_grades.html" onMouseOver="funcPopup(event,'grade_get_course_grades')">grade_get_course_grades</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']);
<a name="l160"><span class="linenum"> 160</span></a>                      <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>-&gt;<a onClick="logVariable('itemnumber')" class="var it39599" onMouseOver="hilite(39599)" onMouseOut="lolite()" href="../../_variables/itemnumber.html">itemnumber</a> = 0;
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = new stdClass;
<a name="l163"><span class="linenum"> 163</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it40209" onMouseOver="hilite(40209)" onMouseOut="lolite()" href="../../_variables/items.html">items</a> = array(<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>);
<a name="l164"><span class="linenum"> 164</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('outcomes')" class="var it40209" onMouseOver="hilite(40209)" onMouseOut="lolite()" href="../../_variables/outcomes.html">outcomes</a> = array();
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>                  } else {
<a name="l167"><span class="linenum"> 167</span></a>                      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it27872" onMouseOver="hilite(27872)" onMouseOut="lolite()" onClick="logVariable('activityinstances')" href="../../_variables/activityinstances.html">$activityinstances</a>[<a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>][<a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>];
<a name="l168"><span class="linenum"> 168</span></a>                      <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l169"><span class="linenum"> 169</span></a>                      <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'], <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>,
<a name="l170"><span class="linenum"> 170</span></a>                                                  <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']);
<a name="l171"><span class="linenum"> 171</span></a>                  }
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">                // Convert from objects to arrays so all web service clients are supported.</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">                // While we're doing that we also remove grades the current user can't see due to hiding.</span>
<a name="l175"><span class="linenum"> 175</span></a>                  foreach (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it40209" onMouseOver="hilite(40209)" onMouseOut="lolite()" href="../../_variables/items.html">items</a> as <a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>) {
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">                    // Switch the stdClass instance for a grade item instance so we can call is_hidden() and use the ID.</span>
<a name="l177"><span class="linenum"> 177</span></a>                      <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = self::<a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(
<a name="l178"><span class="linenum"> 178</span></a>                          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>, <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>, 0);
<a name="l179"><span class="linenum"> 179</span></a>                      if (!<a class="var it7319" onMouseOver="hilite(7319)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a> &amp;&amp; <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l180"><span class="linenum"> 180</span></a>                          continue;
<a name="l181"><span class="linenum"> 181</span></a>                      }
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">                    // Format mixed bool/integer parameters.</span>
<a name="l184"><span class="linenum"> 184</span></a>                      <a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('hidden')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l185"><span class="linenum"> 185</span></a>                      <a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('locked')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>                      <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a> = (array)<a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>;
<a name="l188"><span class="linenum"> 188</span></a>                      <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'] = array();
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>                      if (!empty(<a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('grades')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>)) {
<a name="l191"><span class="linenum"> 191</span></a>                          foreach (<a class="var it3925" onMouseOver="hilite(3925)" onMouseOut="lolite()" onClick="logVariable('gradeitem')" href="../../_variables/gradeitem.html">$gradeitem</a>-&gt;<a onClick="logVariable('grades')" class="var it39531" onMouseOver="hilite(39531)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a> as <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a> =&gt; <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>) {
<a name="l192"><span class="linenum"> 192</span></a>                              if (!<a class="var it7319" onMouseOver="hilite(7319)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a>) {
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">                                // Need to load the grade_grade object to check visibility.</span>
<a name="l194"><span class="linenum"> 194</span></a>                                  <a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l195"><span class="linenum"> 195</span></a>                                      array(
<a name="l196"><span class="linenum"> 196</span></a>                                          'userid' =&gt; <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>,
<a name="l197"><span class="linenum"> 197</span></a>                                          'itemid' =&gt; <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;id
<a name="l198"><span class="linenum"> 198</span></a>                                      )
<a name="l199"><span class="linenum"> 199</span></a>                                  );
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">                                // The grade grade may be legitimately missing if the student has no grade.</span>
<a name="l201"><span class="linenum"> 201</span></a>                                  if (!empty(<a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>) &amp;&amp; <a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l202"><span class="linenum"> 202</span></a>                                      continue;
<a name="l203"><span class="linenum"> 203</span></a>                                  }
<a name="l204"><span class="linenum"> 204</span></a>                              }
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">                            // Format mixed bool/integer parameters.</span>
<a name="l207"><span class="linenum"> 207</span></a>                              <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l208"><span class="linenum"> 208</span></a>                              <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l209"><span class="linenum"> 209</span></a>                              <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a> = (empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a>)) ? 0 : <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('overridden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/overridden.html">overridden</a>;
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>                              if (<a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41883" onMouseOver="hilite(41883)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> != 'course' and !empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>)) {
<a name="l212"><span class="linenum"> 212</span></a>                                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>) =
<a name="l213"><span class="linenum"> 213</span></a>                                      <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>,
<a name="l214"><span class="linenum"> 214</span></a>                                      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'], 'feedback', null);
<a name="l215"><span class="linenum"> 215</span></a>                              }
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>                              <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'][<a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>] = (array)<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>;
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">                            // Add the student ID as some WS clients can't access the array key.</span>
<a name="l219"><span class="linenum"> 219</span></a>                              <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>['grades'][<a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>]['userid'] = <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>;
<a name="l220"><span class="linenum"> 220</span></a>                          }
<a name="l221"><span class="linenum"> 221</span></a>                      }
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>                      if (<a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41883" onMouseOver="hilite(41883)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a> == 'course') {
<a name="l224"><span class="linenum"> 224</span></a>                          <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items']['course'] = <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>;
<a name="l225"><span class="linenum"> 225</span></a>                          <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items']['course']['activityid'] = 'course';
<a name="l226"><span class="linenum"> 226</span></a>                      } else {
<a name="l227"><span class="linenum"> 227</span></a>                          <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it27877" onMouseOver="hilite(27877)" onMouseOut="lolite()" onClick="logVariable('gradeitemarray')" href="../../_variables/gradeitemarray.html">$gradeitemarray</a>;
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">                        // Add the activity ID as some WS clients can't access the array key.</span>
<a name="l229"><span class="linenum"> 229</span></a>                          <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['items'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['activityid'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l230"><span class="linenum"> 230</span></a>                      }
<a name="l231"><span class="linenum"> 231</span></a>                  }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>                  foreach (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('outcomes')" class="var it40209" onMouseOver="hilite(40209)" onMouseOut="lolite()" href="../../_variables/outcomes.html">outcomes</a> as <a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>) {
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">                    // Format mixed bool/integer parameters.</span>
<a name="l235"><span class="linenum"> 235</span></a>                      <a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('hidden')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l236"><span class="linenum"> 236</span></a>                      <a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('locked')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>                      <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = (array)<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>;
<a name="l239"><span class="linenum"> 239</span></a>                      <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['activityid'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>                      <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'] = array();
<a name="l242"><span class="linenum"> 242</span></a>                      if (!empty(<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('grades')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>)) {
<a name="l243"><span class="linenum"> 243</span></a>                          foreach (<a class="var it3926" onMouseOver="hilite(3926)" onMouseOut="lolite()" onClick="logVariable('outcome')" href="../../_variables/outcome.html">$outcome</a>-&gt;<a onClick="logVariable('grades')" class="var it39893" onMouseOver="hilite(39893)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a> as <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a> =&gt; <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>) {
<a name="l244"><span class="linenum"> 244</span></a>                              if (!<a class="var it7319" onMouseOver="hilite(7319)" onMouseOut="lolite()" onClick="logVariable('canviewhidden')" href="../../_variables/canviewhidden.html">$canviewhidden</a>) {
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">                                // Need to load the grade_grade object to check visibility.</span>
<a name="l246"><span class="linenum"> 246</span></a>                                  <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = self::<a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemtype')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemtype.html">itemtype</a>,
<a name="l247"><span class="linenum"> 247</span></a>                                                                             <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemmodule')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemmodule.html">itemmodule</a>, <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('iteminstance')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/iteminstance.html">iteminstance</a>,
<a name="l248"><span class="linenum"> 248</span></a>                                                                             <a class="var it27875" onMouseOver="hilite(27875)" onMouseOut="lolite()" onClick="logVariable('activitygrade')" href="../../_variables/activitygrade.html">$activitygrade</a>-&gt;<a onClick="logVariable('itemnumber')" class="var it41882" onMouseOver="hilite(41882)" onMouseOut="lolite()" href="../../_variables/itemnumber.html">itemnumber</a>);
<a name="l249"><span class="linenum"> 249</span></a>                                  <a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> = <a class="class" onClick="logClass('grade_grade')" href="../../_classes/grade_grade.html" onMouseOver="classPopup(event,'grade_grade')">grade_grade</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l250"><span class="linenum"> 250</span></a>                                      array(
<a name="l251"><span class="linenum"> 251</span></a>                                          'userid' =&gt; <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>,
<a name="l252"><span class="linenum"> 252</span></a>                                          'itemid' =&gt; <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>-&gt;id
<a name="l253"><span class="linenum"> 253</span></a>                                      )
<a name="l254"><span class="linenum"> 254</span></a>                                  );
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">                                // The grade grade may be legitimately missing if the student has no grade.</span>
<a name="l256"><span class="linenum"> 256</span></a>                                  if (!empty(<a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a> ) &amp;&amp; <a class="var it27878" onMouseOver="hilite(27878)" onMouseOut="lolite()" onClick="logVariable('gradegradeinstance')" href="../../_variables/gradegradeinstance.html">$gradegradeinstance</a>-&gt;<a class="function" onClick="logFunction('is_hidden')" href="../../_functions/is_hidden.html" onMouseOver="funcPopup(event,'is_hidden')">is_hidden</a>()) {
<a name="l257"><span class="linenum"> 257</span></a>                                      continue;
<a name="l258"><span class="linenum"> 258</span></a>                                  }
<a name="l259"><span class="linenum"> 259</span></a>                              }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">                            // Format mixed bool/integer parameters.</span>
<a name="l262"><span class="linenum"> 262</span></a>                              <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a> = (empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>)) ? 0 : <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('hidden')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/hidden.html">hidden</a>;
<a name="l263"><span class="linenum"> 263</span></a>                              <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = (empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>)) ? 0 : <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('locked')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>                              if (!empty(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>)) {
<a name="l266"><span class="linenum"> 266</span></a>                                  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>) =
<a name="l267"><span class="linenum"> 267</span></a>                                      <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedback')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>, <a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>-&gt;<a onClick="logVariable('feedbackformat')" class="var it39539" onMouseOver="hilite(39539)" onMouseOut="lolite()" href="../../_variables/feedbackformat.html">feedbackformat</a>,
<a name="l268"><span class="linenum"> 268</span></a>                                      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component'], 'feedback', null);
<a name="l269"><span class="linenum"> 269</span></a>                              }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>                              <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'][<a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>] = (array)<a class="var it10060" onMouseOver="hilite(10060)" onMouseOut="lolite()" onClick="logVariable('studentgrade')" href="../../_variables/studentgrade.html">$studentgrade</a>;
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">                            // Add the student ID into the grade structure as some WS clients can't access the key.</span>
<a name="l274"><span class="linenum"> 274</span></a>                              <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>['outcomes'][<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['grades'][<a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>]['userid'] = <a class="var it3010" onMouseOver="hilite(3010)" onMouseOut="lolite()" onClick="logVariable('studentid')" href="../../_variables/studentid.html">$studentid</a>;
<a name="l275"><span class="linenum"> 275</span></a>                          }
<a name="l276"><span class="linenum"> 276</span></a>                      }
<a name="l277"><span class="linenum"> 277</span></a>                  }
<a name="l278"><span class="linenum"> 278</span></a>              }
<a name="l279"><span class="linenum"> 279</span></a>          }
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>          return <a class="var it27871" onMouseOver="hilite(27871)" onMouseOut="lolite()" onClick="logVariable('gradesarray')" href="../../_variables/gradesarray.html">$gradesarray</a>;
<a name="l282"><span class="linenum"> 282</span></a>      }
<a name="l283"><span class="linenum"> 283</span></a>  
<a name="l284"><span class="linenum"> 284</span></a>      <span class="comment">/**</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     * Get a grade item</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * @param  int $courseid        Course id</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * @param  string $itemtype     Item type</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @param  string $itemmodule   Item module</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * @param  int $iteminstance    Item instance</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * @param  int $itemnumber      Item number</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * @return grade_item           A grade_item instance</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     */</span>
<a name="l293"><span class="linenum"> 293</span></a>      private static function <a class="function" onClick="logFunction('get_grade_item')" href="../../_functions/get_grade_item.html" onMouseOver="funcPopup(event,'get_grade_item')">get_grade_item</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a> = null, <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = null, <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a> = null) {
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = null;
<a name="l295"><span class="linenum"> 295</span></a>          if (<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a> == 'course') {
<a name="l296"><span class="linenum"> 296</span></a>              <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'itemtype' =&gt; <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>));
<a name="l297"><span class="linenum"> 297</span></a>          } else {
<a name="l298"><span class="linenum"> 298</span></a>              <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a> = <a class="class" onClick="logClass('grade_item')" href="../../_classes/grade_item.html" onMouseOver="classPopup(event,'grade_item')">grade_item</a>::<a class="function" onClick="logFunction('fetch')" href="../../_functions/fetch.html" onMouseOver="funcPopup(event,'fetch')">fetch</a>(
<a name="l299"><span class="linenum"> 299</span></a>                  array('courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'itemtype' =&gt; <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>,
<a name="l300"><span class="linenum"> 300</span></a>                      'itemmodule' =&gt; <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, 'iteminstance' =&gt; <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>, 'itemnumber' =&gt; <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>));
<a name="l301"><span class="linenum"> 301</span></a>          }
<a name="l302"><span class="linenum"> 302</span></a>          return <a class="var it27876" onMouseOver="hilite(27876)" onMouseOut="lolite()" onClick="logVariable('gradeiteminstance')" href="../../_variables/gradeiteminstance.html">$gradeiteminstance</a>;
<a name="l303"><span class="linenum"> 303</span></a>      }
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>      <span class="comment">/**</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     *</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * @return external_description</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     */</span>
<a name="l311"><span class="linenum"> 311</span></a>      public static function <a class="function" onClick="logFunction('get_grades_returns')" href="../../_functions/get_grades_returns.html" onMouseOver="funcPopup(event,'get_grades_returns')">get_grades_returns</a>() {
<a name="l312"><span class="linenum"> 312</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l313"><span class="linenum"> 313</span></a>              array(
<a name="l314"><span class="linenum"> 314</span></a>                  'items'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l315"><span class="linenum"> 315</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l316"><span class="linenum"> 316</span></a>                          array(
<a name="l317"><span class="linenum"> 317</span></a>                              'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l318"><span class="linenum"> 318</span></a>                                  <a class="constant" onClick="logConstant('PARAM_ALPHANUM')" href="../../_constants/PARAM_ALPHANUM.html" onMouseOver="constPopup(event,'PARAM_ALPHANUM')">PARAM_ALPHANUM</a>, 'The ID of the activity or &quot;course&quot; for the course grade item'),
<a name="l319"><span class="linenum"> 319</span></a>                              'itemnumber'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Will be 0 unless the module has multiple grades'),
<a name="l320"><span class="linenum"> 320</span></a>                              'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale or 0'),
<a name="l321"><span class="linenum"> 321</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The module name'),
<a name="l322"><span class="linenum"> 322</span></a>                              'grademin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Minimum grade'),
<a name="l323"><span class="linenum"> 323</span></a>                              'grademax' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Maximum grade'),
<a name="l324"><span class="linenum"> 324</span></a>                              'gradepass' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The passing grade threshold'),
<a name="l325"><span class="linenum"> 325</span></a>                              'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l326"><span class="linenum"> 326</span></a>                              'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, &gt; 1 is a date to hide until'),
<a name="l327"><span class="linenum"> 327</span></a>                              'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l328"><span class="linenum"> 328</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l329"><span class="linenum"> 329</span></a>                                      array(
<a name="l330"><span class="linenum"> 330</span></a>                                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l331"><span class="linenum"> 331</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l332"><span class="linenum"> 332</span></a>                                          'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l333"><span class="linenum"> 333</span></a>                                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l334"><span class="linenum"> 334</span></a>                                          'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l335"><span class="linenum"> 335</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l336"><span class="linenum"> 336</span></a>                                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l337"><span class="linenum"> 337</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, 1 hidden, &gt; 1 is a date to hide until'),
<a name="l338"><span class="linenum"> 338</span></a>                                          'overridden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l339"><span class="linenum"> 339</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not overridden, &gt; 1 means overridden'),
<a name="l340"><span class="linenum"> 340</span></a>                                          'feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l341"><span class="linenum"> 341</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Feedback from the grader'),
<a name="l342"><span class="linenum"> 342</span></a>                                          'feedbackformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l343"><span class="linenum"> 343</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The format of the feedback'),
<a name="l344"><span class="linenum"> 344</span></a>                                          'usermodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l345"><span class="linenum"> 345</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the last user to modify this student grade'),
<a name="l346"><span class="linenum"> 346</span></a>                                          'datesubmitted' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l347"><span class="linenum"> 347</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'A timestamp indicating when the student submitted the activity'),
<a name="l348"><span class="linenum"> 348</span></a>                                          'dategraded' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l349"><span class="linenum"> 349</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'A timestamp indicating when the assignment was grades'),
<a name="l350"><span class="linenum"> 350</span></a>                                          'str_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l351"><span class="linenum"> 351</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A string representation of the grade'),
<a name="l352"><span class="linenum"> 352</span></a>                                          'str_long_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l353"><span class="linenum"> 353</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A nicely formatted string representation of the grade'),
<a name="l354"><span class="linenum"> 354</span></a>                                          'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l355"><span class="linenum"> 355</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A formatted string representation of the feedback from the grader'),
<a name="l356"><span class="linenum"> 356</span></a>                                      )
<a name="l357"><span class="linenum"> 357</span></a>                                  )
<a name="l358"><span class="linenum"> 358</span></a>                              ),
<a name="l359"><span class="linenum"> 359</span></a>                          )
<a name="l360"><span class="linenum"> 360</span></a>                      )
<a name="l361"><span class="linenum"> 361</span></a>                  ),
<a name="l362"><span class="linenum"> 362</span></a>                  'outcomes'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l363"><span class="linenum"> 363</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l364"><span class="linenum"> 364</span></a>                          array(
<a name="l365"><span class="linenum"> 365</span></a>                              'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l366"><span class="linenum"> 366</span></a>                                  <a class="constant" onClick="logConstant('PARAM_ALPHANUM')" href="../../_constants/PARAM_ALPHANUM.html" onMouseOver="constPopup(event,'PARAM_ALPHANUM')">PARAM_ALPHANUM</a>, 'The ID of the activity or &quot;course&quot; for the course grade item'),
<a name="l367"><span class="linenum"> 367</span></a>                              'itemnumber'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Will be 0 unless the module has multiple grades'),
<a name="l368"><span class="linenum"> 368</span></a>                              'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale or 0'),
<a name="l369"><span class="linenum"> 369</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The module name'),
<a name="l370"><span class="linenum"> 370</span></a>                              'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l371"><span class="linenum"> 371</span></a>                              'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, &gt; 1 is a date to hide until'),
<a name="l372"><span class="linenum"> 372</span></a>                              'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l373"><span class="linenum"> 373</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l374"><span class="linenum"> 374</span></a>                                      array(
<a name="l375"><span class="linenum"> 375</span></a>                                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l376"><span class="linenum"> 376</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l377"><span class="linenum"> 377</span></a>                                          'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l378"><span class="linenum"> 378</span></a>                                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l379"><span class="linenum"> 379</span></a>                                          'locked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l380"><span class="linenum"> 380</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not locked, &gt; 1 is a date to lock until'),
<a name="l381"><span class="linenum"> 381</span></a>                                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l382"><span class="linenum"> 382</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 means not hidden, 1 hidden, &gt; 1 is a date to hide until'),
<a name="l383"><span class="linenum"> 383</span></a>                                          'feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l384"><span class="linenum"> 384</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Feedback from the grader'),
<a name="l385"><span class="linenum"> 385</span></a>                                          'feedbackformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l386"><span class="linenum"> 386</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The feedback format'),
<a name="l387"><span class="linenum"> 387</span></a>                                          'usermodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l388"><span class="linenum"> 388</span></a>                                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the last user to modify this student grade'),
<a name="l389"><span class="linenum"> 389</span></a>                                          'str_grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l390"><span class="linenum"> 390</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A string representation of the grade'),
<a name="l391"><span class="linenum"> 391</span></a>                                          'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l392"><span class="linenum"> 392</span></a>                                              <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'A formatted string representation of the feedback from the grader'),
<a name="l393"><span class="linenum"> 393</span></a>                                      )
<a name="l394"><span class="linenum"> 394</span></a>                                  )
<a name="l395"><span class="linenum"> 395</span></a>                              ),
<a name="l396"><span class="linenum"> 396</span></a>                          )
<a name="l397"><span class="linenum"> 397</span></a>                      ), 'An array of outcomes associated with the grade items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l398"><span class="linenum"> 398</span></a>                  )
<a name="l399"><span class="linenum"> 399</span></a>              )
<a name="l400"><span class="linenum"> 400</span></a>          );
<a name="l401"><span class="linenum"> 401</span></a>  
<a name="l402"><span class="linenum"> 402</span></a>      }
<a name="l403"><span class="linenum"> 403</span></a>  
<a name="l404"><span class="linenum"> 404</span></a>      <span class="comment">/**</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     *</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     */</span>
<a name="l410"><span class="linenum"> 410</span></a>      public static function <a class="function" onClick="logFunction('update_grades_parameters')" href="../../_functions/update_grades_parameters.html" onMouseOver="funcPopup(event,'update_grades_parameters')">update_grades_parameters</a>() {
<a name="l411"><span class="linenum"> 411</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l412"><span class="linenum"> 412</span></a>              array(
<a name="l413"><span class="linenum"> 413</span></a>                  'source' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'The source of the grade update'),
<a name="l414"><span class="linenum"> 414</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of course'),
<a name="l415"><span class="linenum"> 415</span></a>                  'component' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_COMPONENT')" href="../../_constants/PARAM_COMPONENT.html" onMouseOver="constPopup(event,'PARAM_COMPONENT')">PARAM_COMPONENT</a>, 'A component, for example mod_forum or mod_quiz'),
<a name="l416"><span class="linenum"> 416</span></a>                  'activityid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The activity ID'),
<a name="l417"><span class="linenum"> 417</span></a>                  'itemnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l418"><span class="linenum"> 418</span></a>                      <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade item ID number for modules that have multiple grades. Typically this is 0.'),
<a name="l419"><span class="linenum"> 419</span></a>                  'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l420"><span class="linenum"> 420</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l421"><span class="linenum"> 421</span></a>                          array(
<a name="l422"><span class="linenum"> 422</span></a>                              'studentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Student ID'),
<a name="l423"><span class="linenum"> 423</span></a>                              'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Student grade'),
<a name="l424"><span class="linenum"> 424</span></a>                              'str_feedback' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l425"><span class="linenum"> 425</span></a>                                  <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'A string representation of the feedback from the grader', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l426"><span class="linenum"> 426</span></a>                          )
<a name="l427"><span class="linenum"> 427</span></a>                  ), 'Any student grades to alter', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l428"><span class="linenum"> 428</span></a>                  'itemdetails' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l429"><span class="linenum"> 429</span></a>                      array(
<a name="l430"><span class="linenum"> 430</span></a>                          'itemname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l431"><span class="linenum"> 431</span></a>                              <a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The grade item name', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l432"><span class="linenum"> 432</span></a>                          'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l433"><span class="linenum"> 433</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Arbitrary ID provided by the module responsible for the grade item', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l434"><span class="linenum"> 434</span></a>                          'gradetype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l435"><span class="linenum"> 435</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The type of <a class="function" onClick="logFunction('grade')" href="../../_functions/grade.html" onMouseOver="funcPopup(event,'grade')">grade</a> (0 = none, 1 = value, 2 = scale, 3 = text)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l436"><span class="linenum"> 436</span></a>                          'grademax' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l437"><span class="linenum"> 437</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Maximum grade allowed', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l438"><span class="linenum"> 438</span></a>                          'grademin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l439"><span class="linenum"> 439</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Minimum grade allowed', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l440"><span class="linenum"> 440</span></a>                          'scaleid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l441"><span class="linenum"> 441</span></a>                              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The ID of the custom scale being is used', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l442"><span class="linenum"> 442</span></a>                          'multfactor' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l443"><span class="linenum"> 443</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Multiply all grades by this number', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l444"><span class="linenum"> 444</span></a>                          'plusfactor' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l445"><span class="linenum"> 445</span></a>                              <a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'Add this to all grades', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l446"><span class="linenum"> 446</span></a>                          'deleted' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l447"><span class="linenum"> 447</span></a>                              <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if the grade item should be deleted', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l448"><span class="linenum"> 448</span></a>                          'hidden' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l449"><span class="linenum"> 449</span></a>                              <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if the grade item is hidden', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l450"><span class="linenum"> 450</span></a>                      ), 'Any grade item settings to alter', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l451"><span class="linenum"> 451</span></a>                  )
<a name="l452"><span class="linenum"> 452</span></a>              )
<a name="l453"><span class="linenum"> 453</span></a>          );
<a name="l454"><span class="linenum"> 454</span></a>      }
<a name="l455"><span class="linenum"> 455</span></a>  
<a name="l456"><span class="linenum"> 456</span></a>      <span class="comment">/**</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">     * Update a grade item and, optionally, student grades</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     *</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * @param  string $source       The source of the grade update</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     * @param  int $courseid        The course id</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">     * @param  string $component    Component name</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * @param  int $activityid      The activity id</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     * @param  int $itemnumber      The item number</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * @param  array  $grades      Array of grades</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * @param  array  $itemdetails Array of item details</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * @return int                  A status flag</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     */</span>
<a name="l469"><span class="linenum"> 469</span></a>      public static function <a class="function" onClick="logFunction('update_grades')" href="../../_functions/update_grades.html" onMouseOver="funcPopup(event,'update_grades')">update_grades</a>(<a class="var it1344" onMouseOver="hilite(1344)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>, <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>,
<a name="l470"><span class="linenum"> 470</span></a>          <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = array(), <a class="var it27879" onMouseOver="hilite(27879)" onMouseOut="lolite()" onClick="logVariable('itemdetails')" href="../../_variables/itemdetails.html">$itemdetails</a> = array()) {
<a name="l471"><span class="linenum"> 471</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(
<a name="l474"><span class="linenum"> 474</span></a>              self::<a class="function" onClick="logFunction('update_grades_parameters')" href="../../_functions/update_grades_parameters.html" onMouseOver="funcPopup(event,'update_grades_parameters')">update_grades_parameters</a>(),
<a name="l475"><span class="linenum"> 475</span></a>              array(
<a name="l476"><span class="linenum"> 476</span></a>                  'source' =&gt; <a class="var it1344" onMouseOver="hilite(1344)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../_variables/source.html">$source</a>,
<a name="l477"><span class="linenum"> 477</span></a>                  'courseid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>,
<a name="l478"><span class="linenum"> 478</span></a>                  'component' =&gt; <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>,
<a name="l479"><span class="linenum"> 479</span></a>                  'activityid' =&gt; <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>,
<a name="l480"><span class="linenum"> 480</span></a>                  'itemnumber' =&gt; <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>,
<a name="l481"><span class="linenum"> 481</span></a>                  'grades' =&gt; <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>,
<a name="l482"><span class="linenum"> 482</span></a>                  'itemdetails' =&gt; <a class="var it27879" onMouseOver="hilite(27879)" onMouseOut="lolite()" onClick="logVariable('itemdetails')" href="../../_variables/itemdetails.html">$itemdetails</a>
<a name="l483"><span class="linenum"> 483</span></a>              )
<a name="l484"><span class="linenum"> 484</span></a>          );
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>, <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>) = <a class="function" onClick="logFunction('normalize_component')" href="../../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['component']);
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>          if (! <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>(<a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('activityid')" href="../../_variables/activityid.html">$activityid</a>)) {
<a name="l489"><span class="linenum"> 489</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invalidcoursemodule');
<a name="l490"><span class="linenum"> 490</span></a>          }
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a> = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid']);
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>          try {
<a name="l496"><span class="linenum"> 496</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>);
<a name="l497"><span class="linenum"> 497</span></a>          } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l498"><span class="linenum"> 498</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a> = new stdClass();
<a name="l499"><span class="linenum"> 499</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('message')" class="var it40896" onMouseOver="hilite(40896)" onMouseOut="lolite()" href="../../_variables/message.html">message</a> = <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>();
<a name="l500"><span class="linenum"> 500</span></a>              <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>-&gt;<a onClick="logVariable('courseid')" class="var it40896" onMouseOver="hilite(40896)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'];
<a name="l501"><span class="linenum"> 501</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('errorcoursecontextnotvalid' , 'webservice', '', <a class="var it9765" onMouseOver="hilite(9765)" onMouseOut="lolite()" onClick="logVariable('exceptionparam')" href="../../_variables/exceptionparam.html">$exceptionparam</a>);
<a name="l502"><span class="linenum"> 502</span></a>          }
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>          <a class="var it27880" onMouseOver="hilite(27880)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> = false;
<a name="l505"><span class="linenum"> 505</span></a>          <a class="var it27881" onMouseOver="hilite(27881)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> = false;
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it27882" onMouseOver="hilite(27882)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> = false;
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>          <a class="var it27883" onMouseOver="hilite(27883)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a> = array();
<a name="l509"><span class="linenum"> 509</span></a>          foreach (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> as <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>) {
<a name="l510"><span class="linenum"> 510</span></a>              <a class="var it27882" onMouseOver="hilite(27882)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> = true;
<a name="l511"><span class="linenum"> 511</span></a>              <a class="var it27883" onMouseOver="hilite(27883)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a>[ <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['studentid'] ] = array('userid' =&gt; <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['studentid'], 'rawgrade' =&gt; <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['grade']);
<a name="l512"><span class="linenum"> 512</span></a>          }
<a name="l513"><span class="linenum"> 513</span></a>          if (!empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails'])) {
<a name="l514"><span class="linenum"> 514</span></a>              if (isset(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails']['hidden'])) {
<a name="l515"><span class="linenum"> 515</span></a>                  <a class="var it27880" onMouseOver="hilite(27880)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> = true;
<a name="l516"><span class="linenum"> 516</span></a>              } else {
<a name="l517"><span class="linenum"> 517</span></a>                  <a class="var it27881" onMouseOver="hilite(27881)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> = true;
<a name="l518"><span class="linenum"> 518</span></a>              }
<a name="l519"><span class="linenum"> 519</span></a>          }
<a name="l520"><span class="linenum"> 520</span></a>  
<a name="l521"><span class="linenum"> 521</span></a>          if (<a class="var it27881" onMouseOver="hilite(27881)" onMouseOut="lolite()" onClick="logVariable('editinggradeitem')" href="../../_variables/editinggradeitem.html">$editinggradeitem</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:manage', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l522"><span class="linenum"> 522</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l523"><span class="linenum"> 523</span></a>                  'moodle/grade:manage required to edit grade information');
<a name="l524"><span class="linenum"> 524</span></a>          }
<a name="l525"><span class="linenum"> 525</span></a>          if (<a class="var it27880" onMouseOver="hilite(27880)" onMouseOut="lolite()" onClick="logVariable('hidinggrades')" href="../../_variables/hidinggrades.html">$hidinggrades</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:hide', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>) &amp;&amp;
<a name="l526"><span class="linenum"> 526</span></a>              !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:hide', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l527"><span class="linenum"> 527</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l528"><span class="linenum"> 528</span></a>                  'moodle/grade:hide required to hide grade items');
<a name="l529"><span class="linenum"> 529</span></a>          }
<a name="l530"><span class="linenum"> 530</span></a>          if (<a class="var it27882" onMouseOver="hilite(27882)" onMouseOut="lolite()" onClick="logVariable('editinggrades')" href="../../_variables/editinggrades.html">$editinggrades</a> &amp;&amp; !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:edit', <a class="var it1590" onMouseOver="hilite(1590)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)) {
<a name="l531"><span class="linenum"> 531</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('nopermissiontoviewgrades', 'error', '', null,
<a name="l532"><span class="linenum"> 532</span></a>                  'moodle/grade:edit required to edit grades');
<a name="l533"><span class="linenum"> 533</span></a>          }
<a name="l534"><span class="linenum"> 534</span></a>  
<a name="l535"><span class="linenum"> 535</span></a>          return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['source'], <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseid'], <a class="var it5769" onMouseOver="hilite(5769)" onMouseOut="lolite()" onClick="logVariable('itemtype')" href="../../_variables/itemtype.html">$itemtype</a>,
<a name="l536"><span class="linenum"> 536</span></a>              <a class="var it6480" onMouseOver="hilite(6480)" onMouseOut="lolite()" onClick="logVariable('itemmodule')" href="../../_variables/itemmodule.html">$itemmodule</a>, <a class="var it6497" onMouseOver="hilite(6497)" onMouseOut="lolite()" onClick="logVariable('iteminstance')" href="../../_variables/iteminstance.html">$iteminstance</a>, <a class="var it5026" onMouseOver="hilite(5026)" onMouseOut="lolite()" onClick="logVariable('itemnumber')" href="../../_variables/itemnumber.html">$itemnumber</a>, <a class="var it27883" onMouseOver="hilite(27883)" onMouseOut="lolite()" onClick="logVariable('gradestructure')" href="../../_variables/gradestructure.html">$gradestructure</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['itemdetails']);
<a name="l537"><span class="linenum"> 537</span></a>      }
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>      <span class="comment">/**</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     *</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     * @return external_description</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     */</span>
<a name="l545"><span class="linenum"> 545</span></a>      public static function <a class="function" onClick="logFunction('update_grades_returns')" href="../../_functions/update_grades_returns.html" onMouseOver="funcPopup(event,'update_grades_returns')">update_grades_returns</a>() {
<a name="l546"><span class="linenum"> 546</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(
<a name="l547"><span class="linenum"> 547</span></a>              <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>,
<a name="l548"><span class="linenum"> 548</span></a>              'A value like ' . <a class="constant" onClick="logConstant('GRADE_UPDATE_OK')" href="../../_constants/GRADE_UPDATE_OK.html" onMouseOver="constPopup(event,'GRADE_UPDATE_OK')">GRADE_UPDATE_OK</a> . ' =&gt; OK, ' . <a class="constant" onClick="logConstant('GRADE_UPDATE_FAILED')" href="../../_constants/GRADE_UPDATE_FAILED.html" onMouseOver="constPopup(event,'GRADE_UPDATE_FAILED')">GRADE_UPDATE_FAILED</a> . ' =&gt; FAILED
<a name="l549"><span class="linenum"> 549</span></a>              as defined in lib/grade/constants.php'
<a name="l550"><span class="linenum"> 550</span></a>          );
<a name="l551"><span class="linenum"> 551</span></a>      }
<a name="l552"><span class="linenum"> 552</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'update_grades_returns': ['update_grades_returns', 'Returns description of method result value ', [['lib/classes','grades_external.php',539]], 5],
'get_instances': ['get_instances', 'Helper method to convert db records to instances. ', [['admin/tool/monitor/classes','subscription_manager.php',366],['lib','modinfolib.php',235],['admin/tool/monitor/classes','rule_manager.php',276],['repository','lib.php',991]], 35],
'grade_get_grades': ['grade_get_grades', 'Returns grading information for given activity, optionally with user grades Manual, course or category items can not be queried. ', [['lib','gradelib.php',328]], 53],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',343]], 104],
'get_grades_parameters': ['get_grades_parameters', 'Returns description of method parameters ', [['lib/classes','grades_external.php',36],['mod/assign','externallib.php',69]], 2],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'get_grades': ['get_grades', 'Returns student course total grade and grades for activities. This function does not return category or manual items. This function is suitable for managers or teachers not students. ', [['lib/classes','grades_external.php',57],['mod/assign','externallib.php',88]], 14],
'getmessage': ['getmessage', 'Get the error message from an error object. ', [['lib/pear','PEAR.php',921],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Reports.php',1105],['lib/google/src/Google/Service','Gmail.php',1283],['lib/google/src/Google/Service','IdentityToolkit.php',1159],['lib/google/src/Google/Service','Dfareporting.php',2039],['lib/zend/Zend/XmlRpc','Fault.php',152],['lib/google/src/Google/Service','Books.php',3266],['lib/google/src/Google/Service','Books.php',3951],['lib/google/src/Google/Service','AdExchangeSeller.php',1042],['lib/google/src/Google/Service','Bigquery.php',1245],['lib/google/src/Google/Service','Freebase.php',440],['lib/google/src/Google/Service','Autoscaler.php',1078],['lib/google/src/Google/Service','Autoscaler.php',1170],['lib/google/src/Google/Service','ShoppingContent.php',2096],['lib/google/src/Google/Service','ShoppingContent.php',2498],['lib/google/src/Google/Service','ShoppingContent.php',2543],['lib/zend/Zend/Http','Response.php',323],['lib/google/src/Google/Service','Compute.php',5785],['lib/google/src/Google/Service','Compute.php',6842],['lib/google/src/Google/Service','Compute.php',6934],['lib/google/src/Google/Service','Compute.php',7440],['lib/google/src/Google/Service','Compute.php',8566],['lib/google/src/Google/Service','Compute.php',8969],['lib/google/src/Google/Service','Compute.php',9561],['lib/google/src/Google/Service','Compute.php',9653],['lib/google/src/Google/Service','Compute.php',9745],['lib/google/src/Google/Service','Compute.php',10382],['lib/google/src/Google/Service','Compute.php',11098],['lib/google/src/Google/Service','Compute.php',11524],['lib/zend/Zend/Service/DeveloperGarden/Request/SendSms','SendSmsAbstract.php',148],['lib/google/src/Google/Service','AdSense.php',2959],['lib/google/src/Google/Service','Pubsub.php',700],['lib/google/src/Google/Service','Pubsub.php',737],['lib/google/src/Google/Service','Replicapool.php',1151],['lib/google/src/Google/Service','Replicapool.php',1243],['lib/google/src/Google/Service','Resourceviews.php',890],['lib/google/src/Google/Service','Resourceviews.php',982]], 434],
'fetch': ['fetch', 'Fetches the available update status from the remote site ', [['lib/classes/update','checker.php',113],['lib/minify/lib/Minify/Cache','XCache.php',86],['lib/grade','grade_object.php',126],['completion/criteria','completion_criteria_unenrol.php',43],['completion/criteria','completion_criteria_grade.php',45],['lib/grade','grade_item.php',332],['lib/minify/lib/Minify/Cache','Memcache.php',97],['lib/minify/lib/Minify/Cache','APC.php',91],['completion/criteria','completion_criteria_activity.php',45],['lib/horde/framework/Horde/Imap/Client','Base.php',2373],['completion','data_object.php',152],['completion/criteria','completion_criteria_course.php',46],['completion','completion_completion.php',70],['completion/criteria','completion_criteria_role.php',43],['completion','completion_criteria_completion.php',74],['lib/grade','grade_grade.php',576],['lib/minify/lib/Minify/Cache','ZendPlatform.php',97],['completion/criteria','completion_criteria_date.php',43],['lib/grade','grade_category.php',184],['completion/criteria','completion_criteria_self.php',43],['lib/grade','grade_scale.php',89],['lib/minify/lib/Minify/Cache','File.php',90],['completion','completion_aggregation.php',68],['completion/criteria','completion_criteria_duration.php',43],['lib/grade','grade_outcome.php',182]], 192],
'grade_get_course_grades': ['grade_get_course_grades', 'Returns the aggregated or calculated course grade(s) for a single course for one or more users ', [['grade','querylib.php',26]], 1],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'update_grades_parameters': ['update_grades_parameters', 'Returns description of method parameters ', [['lib/classes','grades_external.php',404]], 1],
'fetch_all': ['fetch_all', 'Finds and returns all grade_object instances based on $params. ', [['lib/grade','grade_object.php',138],['lib/grade','grade_item.php',343],['completion/criteria','completion_criteria.php',153],['completion','data_object.php',165],['completion','completion_criteria_completion.php',84],['lib/grade','grade_grade.php',586],['lib/grade','grade_category.php',194],['lib/grade','grade_scale.php',100],['completion','completion_aggregation.php',79],['lib/grade','grade_outcome.php',193]], 65],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'update_grades': ['update_grades', 'Update a grade item and, optionally, student grades ', [['lib/classes','grades_external.php',456]], 8],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',174]], 128],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',2001]], 277],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'is_hidden': ['is_hidden', 'Returns the current hidden state of this grade_item ', [['lib/grade','grade_object.php',415],['lib/grade','grade_grade.php',503],['lib','adminlib.php',709],['lib','adminlib.php',996],['lib','adminlib.php',1306],['lib','adminlib.php',1503]], 55],
'grade': ['grade', 'Return a question answer that describes the outcome (fraction and feeback) for a particular respons. ', [['question/type','questionbase.php',956],['question/type','questionbase.php',1017]], 15],
'get_grades_returns': ['get_grades_returns', 'Returns description of method result value ', [['lib/classes','grades_external.php',305],['mod/assign','externallib.php',222]], 9],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_grade_item': ['get_grade_item', 'Returns this grade_item. This method is also available in grade_category, for cases where the object type is not know. ', [['lib/grade','grade_item.php',1196],['mod/assign','locallib.php',1185],['lib/classes','grades_external.php',284],['lib/grade','grade_category.php',2063]], 23],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" rules. ', [['lib/classes','component.php',968],['lib','deprecatedlib.php',528]], 85],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',721]], 31],
'get_coursemodule_from_id': ['get_coursemodule_from_id', 'Given an id of a course module, finds the coursemodule description ', [['lib','datalib.php',1269]], 212],
'count': ['count', '', [], 3984],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',475]], 238],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',441]], 1255],
'grade_item': ['grade_item', 'Class representing a grade item. ', [['lib/grade','grade_item.php',29]], 206],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',139]], 302],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',504]], 212],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'grade_grade': ['grade_grade', 'grade_grades is an object mapped to DB table {prefix}grade_grades ', [['lib/grade','grade_grade.php',30]], 129],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6347]], 288],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',68]], 478],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',533]], 126],
'core_grades_external': ['core_grades_external', 'core grades functions ', [['lib/classes','grades_external.php',32]], 32]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 409],
'PARAM_FLOAT': ['PARAM_FLOAT', '', [['lib','moodlelib.php',146]], 93],
'GRADE_UPDATE_FAILED': ['GRADE_UPDATE_FAILED', '', [['lib/grade','constants.php',108]], 6],
'PARAM_ALPHANUM': ['PARAM_ALPHANUM', '', [['lib','moodlelib.php',88]], 97],
'GRADE_UPDATE_OK': ['GRADE_UPDATE_OK', '', [['lib/grade','constants.php',103]], 18],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 476],
'PARAM_COMPONENT': ['PARAM_COMPONENT', '', [['lib','moodlelib.php',310]], 94],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 165],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 692],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 129]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
