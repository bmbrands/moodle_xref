<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/classes/date.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/classes';
filename='date.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/classes/</a> -> <a href="date.php.html">date.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="date.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="date.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Core date and time related code.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   core</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2015 Totara Learning Solutions Ltd {@link http://www.totaralms.com/}</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @author    Petr Skoda &lt;petr.skoda@totaralms.com&gt;</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">/**</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * Core date and time related code.</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> *</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @since Moodle 2.9</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * @package   core</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @copyright 2015 Totara Learning Solutions Ltd {@link http://www.totaralms.com/}</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @author    Petr Skoda &lt;petr.skoda@totaralms.com&gt;</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a> {
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">    /** @var array list of recommended zones */</span>
<a name="l37"><span class="linenum">  37</span></a>      protected static <a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a> = null;
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">    /** @var array list of BC zones supported by PHP */</span>
<a name="l40"><span class="linenum">  40</span></a>      protected static <a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a> = null;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">    /** @var array mapping of timezones not supported by PHP */</span>
<a name="l43"><span class="linenum">  43</span></a>      protected static <a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a> = null;
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">    /** @var string the default PHP timezone right after config.php */</span>
<a name="l46"><span class="linenum">  46</span></a>      protected static <a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a> = null;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>      <span class="comment">/**</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * Returns a localised list of timezones.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @param string $currentvalue</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * @param bool $include99 should the server timezone info be included?</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @return array</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     */</span>
<a name="l54"><span class="linenum">  54</span></a>      public static function <a class="function" onClick="logFunction('get_list_of_timezones')" href="../../_functions/get_list_of_timezones.html" onMouseOver="funcPopup(event,'get_list_of_timezones')">get_list_of_timezones</a>(<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a> = null, <a class="var it30881" onMouseOver="hilite(30881)" onMouseOut="lolite()" onClick="logVariable('include99')" href="../../_variables/include99.html">$include99</a> = false) {
<a name="l55"><span class="linenum">  55</span></a>          self::<a class="function" onClick="logFunction('init_zones')" href="../../_functions/init_zones.html" onMouseOver="funcPopup(event,'init_zones')">init_zones</a>();
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">        // Localise first.</span>
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a> = array();
<a name="l59"><span class="linenum">  59</span></a>          foreach (self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a> as <a class="var it30882" onMouseOver="hilite(30882)" onMouseOut="lolite()" onClick="logVariable('tzkey')" href="../../_variables/tzkey.html">$tzkey</a> =&gt; <a class="var it2583" onMouseOver="hilite(2583)" onMouseOut="lolite()" onClick="logVariable('ignored')" href="../../_variables/ignored.html">$ignored</a>) {
<a name="l60"><span class="linenum">  60</span></a>              <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>[<a class="var it30882" onMouseOver="hilite(30882)" onMouseOut="lolite()" onClick="logVariable('tzkey')" href="../../_variables/tzkey.html">$tzkey</a>] = self::<a class="function" onClick="logFunction('get_localised_timezone')" href="../../_functions/get_localised_timezone.html" onMouseOver="funcPopup(event,'get_localised_timezone')">get_localised_timezone</a>(<a class="var it30882" onMouseOver="hilite(30882)" onMouseOut="lolite()" onClick="logVariable('tzkey')" href="../../_variables/tzkey.html">$tzkey</a>);
<a name="l61"><span class="linenum">  61</span></a>          }
<a name="l62"><span class="linenum">  62</span></a>          <a class="class" onClick="logClass('core_collator')" href="../../_classes/core_collator.html" onMouseOver="classPopup(event,'core_collator')">core_collator</a>::<a class="phpfunction" onClick="logFunction('asort')" href="../../_functions/asort.html" onMouseOver="phpfuncPopup(event,'asort')">asort</a>(<a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>);
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">        // Add '99' if requested.</span>
<a name="l65"><span class="linenum">  65</span></a>          if (<a class="var it30881" onMouseOver="hilite(30881)" onMouseOut="lolite()" onClick="logVariable('include99')" href="../../_variables/include99.html">$include99</a> or <a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a> == 99) {
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>['99'] = self::<a class="function" onClick="logFunction('get_localised_timezone')" href="../../_functions/get_localised_timezone.html" onMouseOver="funcPopup(event,'get_localised_timezone')">get_localised_timezone</a>('99');
<a name="l67"><span class="linenum">  67</span></a>          }
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>          if (!isset(<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>) or isset(<a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>[<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>])) {
<a name="l70"><span class="linenum">  70</span></a>              return <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>;
<a name="l71"><span class="linenum">  71</span></a>          }
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>)) {
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">            // UTC offset.</span>
<a name="l75"><span class="linenum">  75</span></a>              if (<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a> == 0) {
<a name="l76"><span class="linenum">  76</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 'UTC';
<a name="l77"><span class="linenum">  77</span></a>              } else {
<a name="l78"><span class="linenum">  78</span></a>                  <a class="var it2001" onMouseOver="hilite(2001)" onMouseOut="lolite()" onClick="logVariable('modifier')" href="../../_variables/modifier.html">$modifier</a> = (<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a> &gt; 0) ? '+' : '';
<a name="l79"><span class="linenum">  79</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a> = 'UTC' . <a class="var it2001" onMouseOver="hilite(2001)" onMouseOut="lolite()" onClick="logVariable('modifier')" href="../../_variables/modifier.html">$modifier</a> . <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>, 1);
<a name="l80"><span class="linenum">  80</span></a>              }
<a name="l81"><span class="linenum">  81</span></a>              <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>[<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>] = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('timezoneinvalid', 'core_admin', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>);
<a name="l82"><span class="linenum">  82</span></a>          } else {
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">            // Some string we don't recognise.</span>
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>[<a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>] = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('timezoneinvalid', 'core_admin', <a class="var it15377" onMouseOver="hilite(15377)" onMouseOut="lolite()" onClick="logVariable('currentvalue')" href="../../_variables/currentvalue.html">$currentvalue</a>);
<a name="l85"><span class="linenum">  85</span></a>          }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>          return <a class="var it2633" onMouseOver="hilite(2633)" onMouseOut="lolite()" onClick="logVariable('timezones')" href="../../_variables/timezones.html">$timezones</a>;
<a name="l88"><span class="linenum">  88</span></a>      }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>      <span class="comment">/**</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * Returns localised timezone name.</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * @param string $tz</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * @return string</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     */</span>
<a name="l95"><span class="linenum">  95</span></a>      public static function <a class="function" onClick="logFunction('get_localised_timezone')" href="../../_functions/get_localised_timezone.html" onMouseOver="funcPopup(event,'get_localised_timezone')">get_localised_timezone</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>) {
<a name="l96"><span class="linenum">  96</span></a>          if (<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> == 99) {
<a name="l97"><span class="linenum">  97</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="function" onClick="logFunction('get_server_timezone')" href="../../_functions/get_server_timezone.html" onMouseOver="funcPopup(event,'get_server_timezone')">get_server_timezone</a>();
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="function" onClick="logFunction('get_localised_timezone')" href="../../_functions/get_localised_timezone.html" onMouseOver="funcPopup(event,'get_localised_timezone')">get_localised_timezone</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>);
<a name="l99"><span class="linenum">  99</span></a>              return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('timezoneserver', 'core_admin', <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>);
<a name="l100"><span class="linenum"> 100</span></a>          }
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>          if (<a class="function" onClick="logFunction('get_string_manager')" href="../../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>), 'core_timezones')) {
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>), 'core_timezones');
<a name="l104"><span class="linenum"> 104</span></a>          } else if (<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> === 'GMT' or <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> === 'Etc/GMT' or <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> === 'Etc/UTC') {
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = 'UTC';
<a name="l106"><span class="linenum"> 106</span></a>          } else if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('|^Etc/GMT([+-])([0-9]+)$|', <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>              <a class="var it7253" onMouseOver="hilite(7253)" onMouseOut="lolite()" onClick="logVariable('sign')" href="../../_variables/sign.html">$sign</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1] === '+' ? '-' : '+';
<a name="l108"><span class="linenum"> 108</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = 'UTC' . <a class="var it7253" onMouseOver="hilite(7253)" onMouseOut="lolite()" onClick="logVariable('sign')" href="../../_variables/sign.html">$sign</a> . <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2];
<a name="l109"><span class="linenum"> 109</span></a>          }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>          return <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l112"><span class="linenum"> 112</span></a>      }
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>      <span class="comment">/**</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * Normalise the timezone name. If timezone not supported</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * this method falls back to server timezone (if valid)</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     * or default PHP timezone.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     *</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * @param int|string|float|DateTimeZone $tz</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     * @return string timezone compatible with PHP</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     */</span>
<a name="l122"><span class="linenum"> 122</span></a>      public static function <a class="function" onClick="logFunction('normalise_timezone')" href="../../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>) {
<a name="l123"><span class="linenum"> 123</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          if (<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> instanceof DateTimeZone) {
<a name="l126"><span class="linenum"> 126</span></a>              return <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l127"><span class="linenum"> 127</span></a>          }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>          self::<a class="function" onClick="logFunction('init_zones')" href="../../_functions/init_zones.html" onMouseOver="funcPopup(event,'init_zones')">init_zones</a>();
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = (string)<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>          if (isset(self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>]) or isset(self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>])) {
<a name="l133"><span class="linenum"> 133</span></a>              return <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l134"><span class="linenum"> 134</span></a>          }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('fixed')" href="../../_variables/fixed.html">$fixed</a> = false;
<a name="l137"><span class="linenum"> 137</span></a>          if (isset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>])) {
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">            // Convert to known zone.</span>
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>];
<a name="l140"><span class="linenum"> 140</span></a>              <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('fixed')" href="../../_variables/fixed.html">$fixed</a> = true;
<a name="l141"><span class="linenum"> 141</span></a>          } else if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>)) {
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">            // Half hour numeric offsets were already tested, try rounding to integers here.</span>
<a name="l143"><span class="linenum"> 143</span></a>              <a class="var it30883" onMouseOver="hilite(30883)" onMouseOut="lolite()" onClick="logVariable('roundedtz')" href="../../_variables/roundedtz.html">$roundedtz</a> = (string)(int)<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l144"><span class="linenum"> 144</span></a>              if (isset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it30883" onMouseOver="hilite(30883)" onMouseOut="lolite()" onClick="logVariable('roundedtz')" href="../../_variables/roundedtz.html">$roundedtz</a>])) {
<a name="l145"><span class="linenum"> 145</span></a>                  <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it30883" onMouseOver="hilite(30883)" onMouseOut="lolite()" onClick="logVariable('roundedtz')" href="../../_variables/roundedtz.html">$roundedtz</a>];
<a name="l146"><span class="linenum"> 146</span></a>                  <a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('fixed')" href="../../_variables/fixed.html">$fixed</a> = true;
<a name="l147"><span class="linenum"> 147</span></a>              }
<a name="l148"><span class="linenum"> 148</span></a>          }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          if (<a class="var it16966" onMouseOver="hilite(16966)" onMouseOut="lolite()" onClick="logVariable('fixed')" href="../../_variables/fixed.html">$fixed</a> and isset(self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>]) or isset(self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a>[<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>])) {
<a name="l151"><span class="linenum"> 151</span></a>              return <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l152"><span class="linenum"> 152</span></a>          }
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">        // Is server timezone usable?</span>
<a name="l155"><span class="linenum"> 155</span></a>          if (isset(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) and !<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>)) {
<a name="l156"><span class="linenum"> 156</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @timezone_open(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>); <span class="comment">// Hide notices if invalid.</span>
<a name="l157"><span class="linenum"> 157</span></a>              if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> !== false) {
<a name="l158"><span class="linenum"> 158</span></a>                  return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l159"><span class="linenum"> 159</span></a>              }
<a name="l160"><span class="linenum"> 160</span></a>          }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">        // Bad luck, use the php.ini default or value set in config.php.</span>
<a name="l163"><span class="linenum"> 163</span></a>          return self::<a class="function" onClick="logFunction('get_default_php_timezone')" href="../../_functions/get_default_php_timezone.html" onMouseOver="funcPopup(event,'get_default_php_timezone')">get_default_php_timezone</a>();
<a name="l164"><span class="linenum"> 164</span></a>      }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      <span class="comment">/**</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * Returns server timezone.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * @return string normalised timezone name compatible with PHP</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     **/</span>
<a name="l170"><span class="linenum"> 170</span></a>      public static function <a class="function" onClick="logFunction('get_server_timezone')" href="../../_functions/get_server_timezone.html" onMouseOver="funcPopup(event,'get_server_timezone')">get_server_timezone</a>() {
<a name="l171"><span class="linenum"> 171</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>          if (!isset(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) or <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> == 99 or <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> === '') {
<a name="l174"><span class="linenum"> 174</span></a>              return self::<a class="function" onClick="logFunction('get_default_php_timezone')" href="../../_functions/get_default_php_timezone.html" onMouseOver="funcPopup(event,'get_default_php_timezone')">get_default_php_timezone</a>();
<a name="l175"><span class="linenum"> 175</span></a>          }
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>          return self::<a class="function" onClick="logFunction('normalise_timezone')" href="../../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>);
<a name="l178"><span class="linenum"> 178</span></a>      }
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>      <span class="comment">/**</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * Returns server timezone.</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @return DateTimeZone</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     **/</span>
<a name="l184"><span class="linenum"> 184</span></a>      public static function <a class="function" onClick="logFunction('get_server_timezone_object')" href="../../_functions/get_server_timezone_object.html" onMouseOver="funcPopup(event,'get_server_timezone_object')">get_server_timezone_object</a>() {
<a name="l185"><span class="linenum"> 185</span></a>          <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="function" onClick="logFunction('get_server_timezone')" href="../../_functions/get_server_timezone.html" onMouseOver="funcPopup(event,'get_server_timezone')">get_server_timezone</a>();
<a name="l186"><span class="linenum"> 186</span></a>          return new DateTimeZone(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>);
<a name="l187"><span class="linenum"> 187</span></a>      }
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>      <span class="comment">/**</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * Set PHP default timezone to $CFG-&gt;timezone.</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     */</span>
<a name="l192"><span class="linenum"> 192</span></a>      public static function <a class="function" onClick="logFunction('set_default_server_timezone')" href="../../_functions/set_default_server_timezone.html" onMouseOver="funcPopup(event,'set_default_server_timezone')">set_default_server_timezone</a>() {
<a name="l193"><span class="linenum"> 193</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>          if (!isset(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) or <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> == 99 or <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> === '') {
<a name="l196"><span class="linenum"> 196</span></a>              date_default_timezone_set(self::<a class="function" onClick="logFunction('get_default_php_timezone')" href="../../_functions/get_default_php_timezone.html" onMouseOver="funcPopup(event,'get_default_php_timezone')">get_default_php_timezone</a>());
<a name="l197"><span class="linenum"> 197</span></a>              return;
<a name="l198"><span class="linenum"> 198</span></a>          }
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = date_default_timezone_get();
<a name="l201"><span class="linenum"> 201</span></a>          if (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> === <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) {
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">            // Nothing to do.</span>
<a name="l203"><span class="linenum"> 203</span></a>              return;
<a name="l204"><span class="linenum"> 204</span></a>          }
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>          if (!isset(self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a>)) {
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">            // For better performance try do do this without full tz init,</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">            // because this is called from lib/setup.php file on each page.</span>
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = @timezone_open(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>); <span class="comment">// Ignore error if setting invalid.</span>
<a name="l210"><span class="linenum"> 210</span></a>              if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> !== false) {
<a name="l211"><span class="linenum"> 211</span></a>                  date_default_timezone_set(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>());
<a name="l212"><span class="linenum"> 212</span></a>                  return;
<a name="l213"><span class="linenum"> 213</span></a>              }
<a name="l214"><span class="linenum"> 214</span></a>          }
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">        // Slow way is the last option.</span>
<a name="l217"><span class="linenum"> 217</span></a>          date_default_timezone_set(self::<a class="function" onClick="logFunction('get_server_timezone')" href="../../_functions/get_server_timezone.html" onMouseOver="funcPopup(event,'get_server_timezone')">get_server_timezone</a>());
<a name="l218"><span class="linenum"> 218</span></a>      }
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>      <span class="comment">/**</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * Returns user timezone.</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     *</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * Ideally the parameter should be a real user record,</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * unfortunately the legacy code is using 99 for both server</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * and default value.</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     *</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * Example of using legacy API:</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     *    // Date for other user via legacy API.</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     *    $datestr = userdate($time, core_date::get_user_timezone($user));</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     *</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * The coding style rules in Moodle are moronic,</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     * why cannot the parameter names have underscores in them?</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     *</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * @param mixed $userorforcedtz user object or legacy forced timezone string or tz object</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     * @return string normalised timezone name compatible with PHP</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     */</span>
<a name="l237"><span class="linenum"> 237</span></a>      public static function <a class="function" onClick="logFunction('get_user_timezone')" href="../../_functions/get_user_timezone.html" onMouseOver="funcPopup(event,'get_user_timezone')">get_user_timezone</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> = null) {
<a name="l238"><span class="linenum"> 238</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>          if (<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> instanceof DateTimeZone) {
<a name="l241"><span class="linenum"> 241</span></a>              return <a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>-&gt;<a class="function" onClick="logFunction('getName')" href="../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>();
<a name="l242"><span class="linenum"> 242</span></a>          }
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>          if (isset(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>) and !<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>) and <a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> != 99) {
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">            // Legacy code is forcing timezone in legacy API.</span>
<a name="l246"><span class="linenum"> 246</span></a>              return self::<a class="function" onClick="logFunction('normalise_timezone')" href="../../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>);
<a name="l247"><span class="linenum"> 247</span></a>          }
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>          if (isset(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('forcetimezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/forcetimezone.html">forcetimezone</a>) and <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('forcetimezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/forcetimezone.html">forcetimezone</a> != 99) {
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">            // Override any user timezone.</span>
<a name="l251"><span class="linenum"> 251</span></a>              return self::<a class="function" onClick="logFunction('normalise_timezone')" href="../../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('forcetimezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/forcetimezone.html">forcetimezone</a>);
<a name="l252"><span class="linenum"> 252</span></a>          }
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>          if (<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> === null) {
<a name="l255"><span class="linenum"> 255</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = isset(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('timezone')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) ? <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('timezone')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> : 99;
<a name="l256"><span class="linenum"> 256</span></a>  
<a name="l257"><span class="linenum"> 257</span></a>          } else if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>)) {
<a name="l258"><span class="linenum"> 258</span></a>              <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = isset(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>-&gt;<a onClick="logVariable('timezone')" class="var it44988" onMouseOver="hilite(44988)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) ? <a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>-&gt;<a onClick="logVariable('timezone')" class="var it44988" onMouseOver="hilite(44988)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> : 99;
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>          } else {
<a name="l261"><span class="linenum"> 261</span></a>              if (<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> == 99) {
<a name="l262"><span class="linenum"> 262</span></a>                  <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = isset(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('timezone')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>) ? <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('timezone')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a> : 99;
<a name="l263"><span class="linenum"> 263</span></a>              } else {
<a name="l264"><span class="linenum"> 264</span></a>                  <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = <a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>;
<a name="l265"><span class="linenum"> 265</span></a>              }
<a name="l266"><span class="linenum"> 266</span></a>          }
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>          if (<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> == 99) {
<a name="l269"><span class="linenum"> 269</span></a>              return self::<a class="function" onClick="logFunction('get_server_timezone')" href="../../_functions/get_server_timezone.html" onMouseOver="funcPopup(event,'get_server_timezone')">get_server_timezone</a>();
<a name="l270"><span class="linenum"> 270</span></a>          }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>          return self::<a class="function" onClick="logFunction('normalise_timezone')" href="../../_functions/normalise_timezone.html" onMouseOver="funcPopup(event,'normalise_timezone')">normalise_timezone</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>);
<a name="l273"><span class="linenum"> 273</span></a>      }
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <span class="comment">/**</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * Return user timezone object.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     *</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * @param mixed $userorforcedtz</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     * @return DateTimeZone</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     */</span>
<a name="l281"><span class="linenum"> 281</span></a>      public static function <a class="function" onClick="logFunction('get_user_timezone_object')" href="../../_functions/get_user_timezone_object.html" onMouseOver="funcPopup(event,'get_user_timezone_object')">get_user_timezone_object</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a> = null) {
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a> = self::<a class="function" onClick="logFunction('get_user_timezone')" href="../../_functions/get_user_timezone.html" onMouseOver="funcPopup(event,'get_user_timezone')">get_user_timezone</a>(<a class="var it30884" onMouseOver="hilite(30884)" onMouseOut="lolite()" onClick="logVariable('userorforcedtz')" href="../../_variables/userorforcedtz.html">$userorforcedtz</a>);
<a name="l283"><span class="linenum"> 283</span></a>          return new DateTimeZone(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>);
<a name="l284"><span class="linenum"> 284</span></a>      }
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>      <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * Return default timezone set in php.ini or config.php.</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @return string normalised timezone compatible with PHP</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     */</span>
<a name="l290"><span class="linenum"> 290</span></a>      public static function <a class="function" onClick="logFunction('get_default_php_timezone')" href="../../_functions/get_default_php_timezone.html" onMouseOver="funcPopup(event,'get_default_php_timezone')">get_default_php_timezone</a>() {
<a name="l291"><span class="linenum"> 291</span></a>          if (!isset(self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a>)) {
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">            // This should not happen.</span>
<a name="l293"><span class="linenum"> 293</span></a>              self::<a class="function" onClick="logFunction('store_default_php_timezone')" href="../../_functions/store_default_php_timezone.html" onMouseOver="funcPopup(event,'store_default_php_timezone')">store_default_php_timezone</a>();
<a name="l294"><span class="linenum"> 294</span></a>          }
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>          return self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a>;
<a name="l297"><span class="linenum"> 297</span></a>      }
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>      <span class="comment">/**</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     * To be called from lib/setup.php only!</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     */</span>
<a name="l302"><span class="linenum"> 302</span></a>      public static function <a class="function" onClick="logFunction('store_default_php_timezone')" href="../../_functions/store_default_php_timezone.html" onMouseOver="funcPopup(event,'store_default_php_timezone')">store_default_php_timezone</a>() {
<a name="l303"><span class="linenum"> 303</span></a>          if ((<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>') and <a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>)
<a name="l304"><span class="linenum"> 304</span></a>              or <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BEHAT_SITE_RUNNING')" href="../../_constants/BEHAT_SITE_RUNNING.html" onMouseOver="constPopup(event,'BEHAT_SITE_RUNNING')">BEHAT_SITE_RUNNING</a>') or <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BEHAT_TEST')" href="../../_constants/BEHAT_TEST.html" onMouseOver="constPopup(event,'BEHAT_TEST')">BEHAT_TEST</a>') or <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('BEHAT_UTIL')" href="../../_constants/BEHAT_UTIL.html" onMouseOver="constPopup(event,'BEHAT_UTIL')">BEHAT_UTIL</a>')) {
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">            // We want all test sites to be consistent by default.</span>
<a name="l306"><span class="linenum"> 306</span></a>              self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a> = 'Australia/Perth';
<a name="l307"><span class="linenum"> 307</span></a>              return;
<a name="l308"><span class="linenum"> 308</span></a>          }
<a name="l309"><span class="linenum"> 309</span></a>          if (!isset(self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a>)) {
<a name="l310"><span class="linenum"> 310</span></a>              self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a> = date_default_timezone_get();
<a name="l311"><span class="linenum"> 311</span></a>          }
<a name="l312"><span class="linenum"> 312</span></a>      }
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>      <span class="comment">/**</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * Do not use directly - use $this-&gt;setTimezone('xx', $tz) instead in your test case.</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @param string $tz valid timezone name</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     */</span>
<a name="l318"><span class="linenum"> 318</span></a>      public static function <a class="function" onClick="logFunction('phpunit_override_default_php_timezone')" href="../../_functions/phpunit_override_default_php_timezone.html" onMouseOver="funcPopup(event,'phpunit_override_default_php_timezone')">phpunit_override_default_php_timezone</a>(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>) {
<a name="l319"><span class="linenum"> 319</span></a>          if (!<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>')) {
<a name="l320"><span class="linenum"> 320</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('phpunit_override_default_php_timezone')" href="../../_functions/phpunit_override_default_php_timezone.html" onMouseOver="funcPopup(event,'phpunit_override_default_php_timezone')">phpunit_override_default_php_timezone</a>() must be used only from unit tests');
<a name="l321"><span class="linenum"> 321</span></a>          }
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = timezone_open(<a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>); <span class="comment">// This triggers error if $tz invalid.</span>
<a name="l323"><span class="linenum"> 323</span></a>          if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> !== false) {
<a name="l324"><span class="linenum"> 324</span></a>              self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a> = <a class="var it2632" onMouseOver="hilite(2632)" onMouseOut="lolite()" onClick="logVariable('tz')" href="../../_variables/tz.html">$tz</a>;
<a name="l325"><span class="linenum"> 325</span></a>          } else {
<a name="l326"><span class="linenum"> 326</span></a>              self::<a class="var it30880" onMouseOver="hilite(30880)" onMouseOut="lolite()" onClick="logVariable('defaultphptimezone')" href="../../_variables/defaultphptimezone.html">$defaultphptimezone</a> = 'Australia/Perth';
<a name="l327"><span class="linenum"> 327</span></a>          }
<a name="l328"><span class="linenum"> 328</span></a>      }
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>      <span class="comment">/**</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     * To be called from phpunit reset only, after restoring $CFG.</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     */</span>
<a name="l333"><span class="linenum"> 333</span></a>      public static function <a class="function" onClick="logFunction('phpunit_reset')" href="../../_functions/phpunit_reset.html" onMouseOver="funcPopup(event,'phpunit_reset')">phpunit_reset</a>() {
<a name="l334"><span class="linenum"> 334</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l335"><span class="linenum"> 335</span></a>          if (!<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('PHPUNIT_TEST')" href="../../_constants/PHPUNIT_TEST.html" onMouseOver="constPopup(event,'PHPUNIT_TEST')">PHPUNIT_TEST</a>')) {
<a name="l336"><span class="linenum"> 336</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('<a class="class" onClick="logClass('core_date')" href="../../_classes/core_date.html" onMouseOver="classPopup(event,'core_date')">core_date</a>::<a class="function" onClick="logFunction('phpunit_reset')" href="../../_functions/phpunit_reset.html" onMouseOver="funcPopup(event,'phpunit_reset')">phpunit_reset</a>() must be used only from unit tests');
<a name="l337"><span class="linenum"> 337</span></a>          }
<a name="l338"><span class="linenum"> 338</span></a>          self::<a class="function" onClick="logFunction('store_default_php_timezone')" href="../../_functions/store_default_php_timezone.html" onMouseOver="funcPopup(event,'store_default_php_timezone')">store_default_php_timezone</a>();
<a name="l339"><span class="linenum"> 339</span></a>          date_default_timezone_set(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('timezone')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/timezone.html">timezone</a>);
<a name="l340"><span class="linenum"> 340</span></a>      }
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>      <span class="comment">/**</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     * Initialise timezone arrays, call before use.</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     */</span>
<a name="l345"><span class="linenum"> 345</span></a>      protected static function <a class="function" onClick="logFunction('init_zones')" href="../../_functions/init_zones.html" onMouseOver="funcPopup(event,'init_zones')">init_zones</a>() {
<a name="l346"><span class="linenum"> 346</span></a>          if (isset(self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a>)) {
<a name="l347"><span class="linenum"> 347</span></a>              return;
<a name="l348"><span class="linenum"> 348</span></a>          }
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>          <a class="var it21295" onMouseOver="hilite(21295)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../../_variables/zones.html">$zones</a> = DateTimeZone::listIdentifiers();
<a name="l351"><span class="linenum"> 351</span></a>          self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a> = array_fill_keys(<a class="var it21295" onMouseOver="hilite(21295)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../../_variables/zones.html">$zones</a>, true);
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>          <a class="var it21295" onMouseOver="hilite(21295)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../../_variables/zones.html">$zones</a> = DateTimeZone::listIdentifiers(DateTimeZone::ALL_WITH_BC);
<a name="l354"><span class="linenum"> 354</span></a>          self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a> = array();
<a name="l355"><span class="linenum"> 355</span></a>          foreach (<a class="var it21295" onMouseOver="hilite(21295)" onMouseOut="lolite()" onClick="logVariable('zones')" href="../../_variables/zones.html">$zones</a> as <a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>) {
<a name="l356"><span class="linenum"> 356</span></a>              if (isset(self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>])) {
<a name="l357"><span class="linenum"> 357</span></a>                  continue;
<a name="l358"><span class="linenum"> 358</span></a>              }
<a name="l359"><span class="linenum"> 359</span></a>              self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>] = true;
<a name="l360"><span class="linenum"> 360</span></a>          }
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>          self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a> = array(
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">            // Windows time zones.</span>
<a name="l364"><span class="linenum"> 364</span></a>              'Dateline Standard Time' =&gt; 'Etc/GMT+12',
<a name="l365"><span class="linenum"> 365</span></a>              'Hawaiian Standard Time' =&gt; 'Pacific/Honolulu',
<a name="l366"><span class="linenum"> 366</span></a>              'Alaskan Standard Time' =&gt; 'America/Anchorage',
<a name="l367"><span class="linenum"> 367</span></a>              'Pacific Standard <a class="phpfunction" onClick="logFunction('Time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">Time</a> (Mexico)' =&gt; 'America/Santa_Isabel',
<a name="l368"><span class="linenum"> 368</span></a>              'Pacific Standard Time' =&gt; 'America/Los_Angeles',
<a name="l369"><span class="linenum"> 369</span></a>              'US Mountain Standard Time' =&gt; 'America/Phoenix',
<a name="l370"><span class="linenum"> 370</span></a>              'Mountain Standard <a class="phpfunction" onClick="logFunction('Time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">Time</a> (Mexico)' =&gt; 'America/Chihuahua',
<a name="l371"><span class="linenum"> 371</span></a>              'Mountain Standard Time' =&gt; 'America/Denver',
<a name="l372"><span class="linenum"> 372</span></a>              'Central America Standard Time' =&gt; 'America/Guatemala',
<a name="l373"><span class="linenum"> 373</span></a>              'Central Standard Time' =&gt; 'America/Chicago',
<a name="l374"><span class="linenum"> 374</span></a>              'Central Standard <a class="phpfunction" onClick="logFunction('Time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">Time</a> (Mexico)' =&gt; 'America/Mexico_City',
<a name="l375"><span class="linenum"> 375</span></a>              'Canada Central Standard Time' =&gt; 'America/Regina',
<a name="l376"><span class="linenum"> 376</span></a>              'SA Pacific Standard Time' =&gt; 'America/Bogota',
<a name="l377"><span class="linenum"> 377</span></a>              'Eastern Standard Time' =&gt; 'America/New_York',
<a name="l378"><span class="linenum"> 378</span></a>              'US Eastern Standard Time' =&gt; 'America/Indianapolis',
<a name="l379"><span class="linenum"> 379</span></a>              'Venezuela Standard Time' =&gt; 'America/Caracas',
<a name="l380"><span class="linenum"> 380</span></a>              'Paraguay Standard Time' =&gt; 'America/Asuncion',
<a name="l381"><span class="linenum"> 381</span></a>              'Atlantic Standard Time' =&gt; 'America/Halifax',
<a name="l382"><span class="linenum"> 382</span></a>              'Central Brazilian Standard Time' =&gt; 'America/Cuiaba',
<a name="l383"><span class="linenum"> 383</span></a>              'SA Western Standard Time' =&gt; 'America/La_Paz',
<a name="l384"><span class="linenum"> 384</span></a>              'Pacific SA Standard Time' =&gt; 'America/Santiago',
<a name="l385"><span class="linenum"> 385</span></a>              'Newfoundland Standard Time' =&gt; 'America/St_Johns',
<a name="l386"><span class="linenum"> 386</span></a>              'E. South America Standard Time' =&gt; 'America/Sao_Paulo',
<a name="l387"><span class="linenum"> 387</span></a>              'Argentina Standard Time' =&gt; 'America/Buenos_Aires',
<a name="l388"><span class="linenum"> 388</span></a>              'SA Eastern Standard Time' =&gt; 'America/Cayenne',
<a name="l389"><span class="linenum"> 389</span></a>              'Greenland Standard Time' =&gt; 'America/Godthab',
<a name="l390"><span class="linenum"> 390</span></a>              'Montevideo Standard Time' =&gt; 'America/Montevideo',
<a name="l391"><span class="linenum"> 391</span></a>              'Bahia Standard Time' =&gt; 'America/Bahia',
<a name="l392"><span class="linenum"> 392</span></a>              'Azores Standard Time' =&gt; 'Atlantic/Azores',
<a name="l393"><span class="linenum"> 393</span></a>              'Cape Verde Standard Time' =&gt; 'Atlantic/Cape_Verde',
<a name="l394"><span class="linenum"> 394</span></a>              'Morocco Standard Time' =&gt; 'Africa/Casablanca',
<a name="l395"><span class="linenum"> 395</span></a>              'GMT Standard Time' =&gt; 'Europe/London',
<a name="l396"><span class="linenum"> 396</span></a>              'Greenwich Standard Time' =&gt; 'Atlantic/Reykjavik',
<a name="l397"><span class="linenum"> 397</span></a>              'W. Europe Standard Time' =&gt; 'Europe/Berlin',
<a name="l398"><span class="linenum"> 398</span></a>              'Central Europe Standard Time' =&gt; 'Europe/Budapest',
<a name="l399"><span class="linenum"> 399</span></a>              'Romance Standard Time' =&gt; 'Europe/Paris',
<a name="l400"><span class="linenum"> 400</span></a>              'Central European Standard Time' =&gt; 'Europe/Warsaw',
<a name="l401"><span class="linenum"> 401</span></a>              'W. Central Africa Standard Time' =&gt; 'Africa/Lagos',
<a name="l402"><span class="linenum"> 402</span></a>              'Namibia Standard Time' =&gt; 'Africa/Windhoek',
<a name="l403"><span class="linenum"> 403</span></a>              'Jordan Standard Time' =&gt; 'Asia/Amman',
<a name="l404"><span class="linenum"> 404</span></a>              'GTB Standard Time' =&gt; 'Europe/Bucharest',
<a name="l405"><span class="linenum"> 405</span></a>              'Middle East Standard Time' =&gt; 'Asia/Beirut',
<a name="l406"><span class="linenum"> 406</span></a>              'Egypt Standard Time' =&gt; 'Africa/Cairo',
<a name="l407"><span class="linenum"> 407</span></a>              'Syria Standard Time' =&gt; 'Asia/Damascus',
<a name="l408"><span class="linenum"> 408</span></a>              'South Africa Standard Time' =&gt; 'Africa/Johannesburg',
<a name="l409"><span class="linenum"> 409</span></a>              'FLE Standard Time' =&gt; 'Europe/Kiev',
<a name="l410"><span class="linenum"> 410</span></a>              'Turkey Standard Time' =&gt; 'Europe/Istanbul',
<a name="l411"><span class="linenum"> 411</span></a>              'Israel Standard Time' =&gt; 'Asia/Jerusalem',
<a name="l412"><span class="linenum"> 412</span></a>              'Kaliningrad Standard Time' =&gt; 'Europe/Kaliningrad',
<a name="l413"><span class="linenum"> 413</span></a>              'Libya Standard Time' =&gt; 'Africa/Tripoli',
<a name="l414"><span class="linenum"> 414</span></a>              'Arabic Standard Time' =&gt; 'Asia/Baghdad',
<a name="l415"><span class="linenum"> 415</span></a>              'Arab Standard Time' =&gt; 'Asia/Riyadh',
<a name="l416"><span class="linenum"> 416</span></a>              'Belarus Standard Time' =&gt; 'Europe/Minsk',
<a name="l417"><span class="linenum"> 417</span></a>              'Russian Standard Time' =&gt; 'Europe/Moscow',
<a name="l418"><span class="linenum"> 418</span></a>              'E. Africa Standard Time' =&gt; 'Africa/Nairobi',
<a name="l419"><span class="linenum"> 419</span></a>              'Iran Standard Time' =&gt; 'Asia/Tehran',
<a name="l420"><span class="linenum"> 420</span></a>              'Arabian Standard Time' =&gt; 'Asia/Dubai',
<a name="l421"><span class="linenum"> 421</span></a>              'Azerbaijan Standard Time' =&gt; 'Asia/Baku',
<a name="l422"><span class="linenum"> 422</span></a>              'Russia Time Zone 3' =&gt; 'Europe/Samara',
<a name="l423"><span class="linenum"> 423</span></a>              'Mauritius Standard Time' =&gt; 'Indian/Mauritius',
<a name="l424"><span class="linenum"> 424</span></a>              'Georgian Standard Time' =&gt; 'Asia/Tbilisi',
<a name="l425"><span class="linenum"> 425</span></a>              'Caucasus Standard Time' =&gt; 'Asia/Yerevan',
<a name="l426"><span class="linenum"> 426</span></a>              'Afghanistan Standard Time' =&gt; 'Asia/Kabul',
<a name="l427"><span class="linenum"> 427</span></a>              'West Asia Standard Time' =&gt; 'Asia/Tashkent',
<a name="l428"><span class="linenum"> 428</span></a>              'Ekaterinburg Standard Time' =&gt; 'Asia/Yekaterinburg',
<a name="l429"><span class="linenum"> 429</span></a>              'Pakistan Standard Time' =&gt; 'Asia/Karachi',
<a name="l430"><span class="linenum"> 430</span></a>              'India Standard Time' =&gt; 'Asia/Kolkata', // PHP and Windows differ in spelling.
<a name="l431"><span class="linenum"> 431</span></a>              'Sri Lanka Standard Time' =&gt; 'Asia/Colombo',
<a name="l432"><span class="linenum"> 432</span></a>              'Nepal Standard Time' =&gt; 'Asia/Katmandu',
<a name="l433"><span class="linenum"> 433</span></a>              'Central Asia Standard Time' =&gt; 'Asia/Almaty',
<a name="l434"><span class="linenum"> 434</span></a>              'Bangladesh Standard Time' =&gt; 'Asia/Dhaka',
<a name="l435"><span class="linenum"> 435</span></a>              'N. Central Asia Standard Time' =&gt; 'Asia/Novosibirsk',
<a name="l436"><span class="linenum"> 436</span></a>              'Myanmar Standard Time' =&gt; 'Asia/Rangoon',
<a name="l437"><span class="linenum"> 437</span></a>              'SE Asia Standard Time' =&gt; 'Asia/Bangkok',
<a name="l438"><span class="linenum"> 438</span></a>              'North Asia Standard Time' =&gt; 'Asia/Krasnoyarsk',
<a name="l439"><span class="linenum"> 439</span></a>              'China Standard Time' =&gt; 'Asia/Shanghai',
<a name="l440"><span class="linenum"> 440</span></a>              'North Asia East Standard Time' =&gt; 'Asia/Irkutsk',
<a name="l441"><span class="linenum"> 441</span></a>              'Singapore Standard Time' =&gt; 'Asia/Singapore',
<a name="l442"><span class="linenum"> 442</span></a>              'W. Australia Standard Time' =&gt; 'Australia/Perth',
<a name="l443"><span class="linenum"> 443</span></a>              'Taipei Standard Time' =&gt; 'Asia/Taipei',
<a name="l444"><span class="linenum"> 444</span></a>              'Ulaanbaatar Standard Time' =&gt; 'Asia/Ulaanbaatar',
<a name="l445"><span class="linenum"> 445</span></a>              'Tokyo Standard Time' =&gt; 'Asia/Tokyo',
<a name="l446"><span class="linenum"> 446</span></a>              'Korea Standard Time' =&gt; 'Asia/Seoul',
<a name="l447"><span class="linenum"> 447</span></a>              'Yakutsk Standard Time' =&gt; 'Asia/Yakutsk',
<a name="l448"><span class="linenum"> 448</span></a>              'Cen. Australia Standard Time' =&gt; 'Australia/Adelaide',
<a name="l449"><span class="linenum"> 449</span></a>              'AUS Central Standard Time' =&gt; 'Australia/Darwin',
<a name="l450"><span class="linenum"> 450</span></a>              'E. Australia Standard Time' =&gt; 'Australia/Brisbane',
<a name="l451"><span class="linenum"> 451</span></a>              'AUS Eastern Standard Time' =&gt; 'Australia/Sydney',
<a name="l452"><span class="linenum"> 452</span></a>              'West Pacific Standard Time' =&gt; 'Pacific/Port_Moresby',
<a name="l453"><span class="linenum"> 453</span></a>              'Tasmania Standard Time' =&gt; 'Australia/Hobart',
<a name="l454"><span class="linenum"> 454</span></a>              'Magadan Standard Time' =&gt; 'Asia/Magadan',
<a name="l455"><span class="linenum"> 455</span></a>              'Vladivostok Standard Time' =&gt; 'Asia/Vladivostok',
<a name="l456"><span class="linenum"> 456</span></a>              'Russia Time Zone 10' =&gt; 'Asia/Srednekolymsk',
<a name="l457"><span class="linenum"> 457</span></a>              'Central Pacific Standard Time' =&gt; 'Pacific/Guadalcanal',
<a name="l458"><span class="linenum"> 458</span></a>              'Russia Time Zone 11' =&gt; 'Asia/Kamchatka',
<a name="l459"><span class="linenum"> 459</span></a>              'New Zealand Standard Time' =&gt; 'Pacific/Auckland',
<a name="l460"><span class="linenum"> 460</span></a>              'Fiji Standard Time' =&gt; 'Pacific/Fiji',
<a name="l461"><span class="linenum"> 461</span></a>              'Tonga Standard Time' =&gt; 'Pacific/Tongatapu',
<a name="l462"><span class="linenum"> 462</span></a>              'Samoa Standard Time' =&gt; 'Pacific/Apia',
<a name="l463"><span class="linenum"> 463</span></a>              'Line Islands Standard Time' =&gt; 'Pacific/Kiritimati',
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">            // A lot more bad legacy time zones.</span>
<a name="l466"><span class="linenum"> 466</span></a>              'CET' =&gt; 'Europe/Berlin',
<a name="l467"><span class="linenum"> 467</span></a>              'Central European Time' =&gt; 'Europe/Berlin',
<a name="l468"><span class="linenum"> 468</span></a>              'CST' =&gt; 'America/Chicago',
<a name="l469"><span class="linenum"> 469</span></a>              'Central Time' =&gt; 'America/Chicago',
<a name="l470"><span class="linenum"> 470</span></a>              'CST6CDT' =&gt; 'America/Chicago',
<a name="l471"><span class="linenum"> 471</span></a>              'CDT' =&gt; 'America/Chicago',
<a name="l472"><span class="linenum"> 472</span></a>              'China Time' =&gt; 'Asia/Shanghai',
<a name="l473"><span class="linenum"> 473</span></a>              'EDT' =&gt; 'America/New_York',
<a name="l474"><span class="linenum"> 474</span></a>              'EST' =&gt; 'America/New_York',
<a name="l475"><span class="linenum"> 475</span></a>              'EST5EDT' =&gt; 'America/New_York',
<a name="l476"><span class="linenum"> 476</span></a>              'Eastern Time' =&gt; 'America/New_York',
<a name="l477"><span class="linenum"> 477</span></a>              'IST' =&gt; 'Asia/Kolkata',
<a name="l478"><span class="linenum"> 478</span></a>              'India Time' =&gt; 'Asia/Kolkata',
<a name="l479"><span class="linenum"> 479</span></a>              'JST' =&gt; 'Asia/Tokyo',
<a name="l480"><span class="linenum"> 480</span></a>              'Japan Time' =&gt; 'Asia/Tokyo',
<a name="l481"><span class="linenum"> 481</span></a>              'Japan Standard Time' =&gt; 'Asia/Tokyo',
<a name="l482"><span class="linenum"> 482</span></a>              'MDT' =&gt; 'America/Denver',
<a name="l483"><span class="linenum"> 483</span></a>              'MST' =&gt; 'America/Denver',
<a name="l484"><span class="linenum"> 484</span></a>              'MST7MDT' =&gt; 'America/Denver',
<a name="l485"><span class="linenum"> 485</span></a>              'PDT' =&gt; 'America/Los_Angeles',
<a name="l486"><span class="linenum"> 486</span></a>              'PST' =&gt; 'America/Los_Angeles',
<a name="l487"><span class="linenum"> 487</span></a>              'Pacific Time' =&gt; 'America/Los_Angeles',
<a name="l488"><span class="linenum"> 488</span></a>              'PST8PDT' =&gt; 'America/Los_Angeles',
<a name="l489"><span class="linenum"> 489</span></a>              'HST' =&gt; 'Pacific/Honolulu',
<a name="l490"><span class="linenum"> 490</span></a>              'WET' =&gt; 'Europe/London',
<a name="l491"><span class="linenum"> 491</span></a>              'EET' =&gt; 'Europe/Kiev',
<a name="l492"><span class="linenum"> 492</span></a>              'FET' =&gt; 'Europe/Minsk',
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">            // Some UTC variations.</span>
<a name="l495"><span class="linenum"> 495</span></a>              'UTC-01' =&gt; 'Etc/GMT+1',
<a name="l496"><span class="linenum"> 496</span></a>              'UTC-02' =&gt; 'Etc/GMT+2',
<a name="l497"><span class="linenum"> 497</span></a>              'UTC-03' =&gt; 'Etc/GMT+3',
<a name="l498"><span class="linenum"> 498</span></a>              'UTC-04' =&gt; 'Etc/GMT+4',
<a name="l499"><span class="linenum"> 499</span></a>              'UTC-05' =&gt; 'Etc/GMT+5',
<a name="l500"><span class="linenum"> 500</span></a>              'UTC-06' =&gt; 'Etc/GMT+6',
<a name="l501"><span class="linenum"> 501</span></a>              'UTC-07' =&gt; 'Etc/GMT+7',
<a name="l502"><span class="linenum"> 502</span></a>              'UTC-08' =&gt; 'Etc/GMT+8',
<a name="l503"><span class="linenum"> 503</span></a>              'UTC-09' =&gt; 'Etc/GMT+9',
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">            // Some weird GMTs.</span>
<a name="l506"><span class="linenum"> 506</span></a>              'Etc/GMT+0' =&gt; 'Etc/GMT',
<a name="l507"><span class="linenum"> 507</span></a>              'Etc/GMT-0' =&gt; 'Etc/GMT',
<a name="l508"><span class="linenum"> 508</span></a>              'Etc/GMT0' =&gt; 'Etc/GMT',
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">            // And lastly some alternative city spelling.</span>
<a name="l511"><span class="linenum"> 511</span></a>              'Asia/Calcutta' =&gt; 'Asia/Kolkata',
<a name="l512"><span class="linenum"> 512</span></a>          );
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">        // Legacy GMT fallback.</span>
<a name="l515"><span class="linenum"> 515</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = -12; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= 14; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l516"><span class="linenum"> 516</span></a>              <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a> = <a class="phpfunction" onClick="logFunction('abs')" href="../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l517"><span class="linenum"> 517</span></a>              if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; 0) {
<a name="l518"><span class="linenum"> 518</span></a>                  <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a> = 'Etc/GMT+' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l519"><span class="linenum"> 519</span></a>                  <a class="var it26778" onMouseOver="hilite(26778)" onMouseOut="lolite()" onClick="logVariable('utc')" href="../../_variables/utc.html">$utc</a> = 'UTC-' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l520"><span class="linenum"> 520</span></a>                  <a class="var it5736" onMouseOver="hilite(5736)" onMouseOut="lolite()" onClick="logVariable('gmt')" href="../../_variables/gmt.html">$gmt</a> = 'GMT-' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l521"><span class="linenum"> 521</span></a>              } else if (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; 0) {
<a name="l522"><span class="linenum"> 522</span></a>                  <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a> = 'Etc/GMT-' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l523"><span class="linenum"> 523</span></a>                  <a class="var it26778" onMouseOver="hilite(26778)" onMouseOut="lolite()" onClick="logVariable('utc')" href="../../_variables/utc.html">$utc</a> = 'UTC+' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l524"><span class="linenum"> 524</span></a>                  <a class="var it5736" onMouseOver="hilite(5736)" onMouseOut="lolite()" onClick="logVariable('gmt')" href="../../_variables/gmt.html">$gmt</a> = 'GMT+' . <a class="var it3097" onMouseOver="hilite(3097)" onMouseOut="lolite()" onClick="logVariable('off')" href="../../_variables/off.html">$off</a>;
<a name="l525"><span class="linenum"> 525</span></a>              } else {
<a name="l526"><span class="linenum"> 526</span></a>                  <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a> = 'Etc/GMT';
<a name="l527"><span class="linenum"> 527</span></a>                  <a class="var it26778" onMouseOver="hilite(26778)" onMouseOut="lolite()" onClick="logVariable('utc')" href="../../_variables/utc.html">$utc</a> = 'UTC';
<a name="l528"><span class="linenum"> 528</span></a>                  <a class="var it5736" onMouseOver="hilite(5736)" onMouseOut="lolite()" onClick="logVariable('gmt')" href="../../_variables/gmt.html">$gmt</a> = 'GMT';
<a name="l529"><span class="linenum"> 529</span></a>              }
<a name="l530"><span class="linenum"> 530</span></a>              if (isset(self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a>[<a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a>])) {
<a name="l531"><span class="linenum"> 531</span></a>                  self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> . ''] = <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a>;
<a name="l532"><span class="linenum"> 532</span></a>                  self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> . '.0'] = <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a>;
<a name="l533"><span class="linenum"> 533</span></a>                  self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it26778" onMouseOver="hilite(26778)" onMouseOut="lolite()" onClick="logVariable('utc')" href="../../_variables/utc.html">$utc</a>] = <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a>;
<a name="l534"><span class="linenum"> 534</span></a>                  self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it5736" onMouseOver="hilite(5736)" onMouseOut="lolite()" onClick="logVariable('gmt')" href="../../_variables/gmt.html">$gmt</a>] = <a class="var it25949" onMouseOver="hilite(25949)" onMouseOut="lolite()" onClick="logVariable('mapto')" href="../../_variables/mapto.html">$mapto</a>;
<a name="l535"><span class="linenum"> 535</span></a>              }
<a name="l536"><span class="linenum"> 536</span></a>          }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">        // Legacy Moodle half an hour offsets - pick any city nearby, ideally without DST.</span>
<a name="l539"><span class="linenum"> 539</span></a>          self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>['4.5'] = 'Asia/Kabul';
<a name="l540"><span class="linenum"> 540</span></a>          self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>['5.5'] = 'Asia/Kolkata';
<a name="l541"><span class="linenum"> 541</span></a>          self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>['6.5'] = 'Asia/Rangoon';
<a name="l542"><span class="linenum"> 542</span></a>          self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>['9.5'] = 'Australia/Darwin';
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">        // Remove bad zones that are elsewhere.</span>
<a name="l545"><span class="linenum"> 545</span></a>          foreach (self::<a class="var it30878" onMouseOver="hilite(30878)" onMouseOut="lolite()" onClick="logVariable('bczones')" href="../../_variables/bczones.html">$bczones</a> as <a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a> =&gt; <a class="var it1292" onMouseOver="hilite(1292)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../../_variables/unused.html">$unused</a>) {
<a name="l546"><span class="linenum"> 546</span></a>              if (isset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>])) {
<a name="l547"><span class="linenum"> 547</span></a>                  unset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>]);
<a name="l548"><span class="linenum"> 548</span></a>              }
<a name="l549"><span class="linenum"> 549</span></a>          }
<a name="l550"><span class="linenum"> 550</span></a>          foreach (self::<a class="var it30877" onMouseOver="hilite(30877)" onMouseOut="lolite()" onClick="logVariable('goodzones')" href="../../_variables/goodzones.html">$goodzones</a> as <a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a> =&gt; <a class="var it1292" onMouseOver="hilite(1292)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../../_variables/unused.html">$unused</a>) {
<a name="l551"><span class="linenum"> 551</span></a>              if (isset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>])) {
<a name="l552"><span class="linenum"> 552</span></a>                  unset(self::<a class="var it30879" onMouseOver="hilite(30879)" onMouseOut="lolite()" onClick="logVariable('badzones')" href="../../_variables/badzones.html">$badzones</a>[<a class="var it5462" onMouseOver="hilite(5462)" onMouseOut="lolite()" onClick="logVariable('zone')" href="../../_variables/zone.html">$zone</a>]);
<a name="l553"><span class="linenum"> 553</span></a>              }
<a name="l554"><span class="linenum"> 554</span></a>          }
<a name="l555"><span class="linenum"> 555</span></a>      }
<a name="l556"><span class="linenum"> 556</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'phpunit_reset': ['phpunit_reset', 'Reset everything if necessary. ', [['lib/classes/event','manager.php',341],['lib/classes','date.php',330]], 4],
'get_user_timezone_object': ['get_user_timezone_object', 'Return user timezone object. ', [['lib/classes','date.php',275]], 5],
'normalise_timezone': ['normalise_timezone', 'Normalise the timezone name. If timezone not supported this method falls back to server timezone (if valid) or default PHP timezone. ', [['lib/classes','date.php',114]], 64],
'store_default_php_timezone': ['store_default_php_timezone', 'To be called from lib/setup.php only! ', [['lib/classes','date.php',299]], 3],
'phpunit_override_default_php_timezone': ['phpunit_override_default_php_timezone', 'Do not use directly - use $this->setTimezone(\'xx\', $tz) instead in your test case. ', [['lib/classes','date.php',314]], 2],
'set_default_server_timezone': ['set_default_server_timezone', 'Set PHP default timezone to $CFG->timezone. ', [['lib/classes','date.php',189]], 23],
'init_zones': ['init_zones', 'Initialise timezone arrays, call before use. ', [['lib/classes','date.php',342]], 2],
'get_server_timezone_object': ['get_server_timezone_object', 'Returns server timezone. ', [['lib/classes','date.php',180]], 5],
'get_user_timezone': ['get_user_timezone', 'Returns a float or a string which denotes the user\'s timezone A float value means that a simple offset from GMT is used, while a string (it will be the name of a timezone in the database) means that for this timezone there are also DST rules to be taken into account Checks various settings and picks the most dominant of those which have a value ', [['lib','moodlelib.php',2284],['lib/classes','date.php',220]], 69],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'get_list_of_timezones': ['get_list_of_timezones', 'Returns a list of timezones in the current language. ', [['lib','deprecatedlib.php',2180],['lib/classes','date.php',48]], 20],
'get_localised_timezone': ['get_localised_timezone', 'Returns localised timezone name. ', [['lib/classes','date.php',90]], 11],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6678]], 163],
'get_default_php_timezone': ['get_default_php_timezone', 'Return default timezone set in php.ini or config.php. ', [['lib/classes','date.php',286]], 9],
'get_server_timezone': ['get_server_timezone', 'Returns server timezone. ', [['lib/classes','date.php',166]], 14],
'getname': ['getname', '', [['lib/spout/src/Spout/Reader/ODS','Sheet.php',62],['lib/pear/HTML/QuickForm','static.php',87],['lib/google/src/Google/Service','DataTransfer.php',304],['lib/google/src/Google/Service','Freebase.php',305],['lib/google/src/Google/Service','Freebase.php',339],['lib/google/src/Google/Service','AdSense.php',2162],['lib/google/src/Google/Service','AdSense.php',2577],['lib/google/src/Google/Service','AdSense.php',2916],['lib/google/src/Google/Service','AdSense.php',3060],['lib/google/src/Google/Service','AdSense.php',3384],['lib/google/src/Google/Service','AdSense.php',3465],['mod/wiki/editors','wikifiletable.php',76],['lib/google/src/Google/Service','Replicapool.php',725],['lib/google/src/Google/Service','Replicapool.php',1015],['lib/google/src/Google/Service','GamesManagement.php',1238],['lib/form','filemanager.php',119],['lib/google/src/Google/Service','Partners.php',720],['lib/pear/HTML/QuickForm','select.php',160],['lib/google/src/Google/Service','AndroidPublisher.php',2881],['lib/pear/HTML/QuickForm','input.php',98],['lib/google/src/Google/Service','YouTubeReporting.php',473],['lib/google/src/Google/Service','YouTubeReporting.php',670],['lib/google/src/Google/Service','Computeaccounts.php',834],['lib/google/src/Google/Service','Computeaccounts.php',1218],['lib/google/src/Google/Service','Computeaccounts.php',1606],['lib/phpexcel/PHPExcel','Chart.php',188],['lib/google/src/Google/Service','YouTubeAnalytics.php',727],['lib/google/src/Google/Service','YouTubeAnalytics.php',1193],['lib/google/src/Google/Service','MapsEngine.php',3421],['lib/google/src/Google/Service','MapsEngine.php',3611],['lib/google/src/Google/Service','MapsEngine.php',4067],['lib/google/src/Google/Service','MapsEngine.php',4097],['lib/google/src/Google/Service','MapsEngine.php',4348],['lib/google/src/Google/Service','MapsEngine.php',4640],['lib/google/src/Google/Service','MapsEngine.php',4755],['lib/google/src/Google/Service','MapsEngine.php',4820],['lib/google/src/Google/Service','MapsEngine.php',4877],['lib/google/src/Google/Service','MapsEngine.php',5197],['lib/google/src/Google/Service','MapsEngine.php',5265],['lib/google/src/Google/Service','MapsEngine.php',5356],['lib/google/src/Google/Service','MapsEngine.php',5534],['lib/google/src/Google/Service','MapsEngine.php',5696],['lib/google/src/Google/Service','MapsEngine.php',5830],['lib/google/src/Google/Service','MapsEngine.php',6217],['lib/google/src/Google/Service','MapsEngine.php',6291],['lib/google/src/Google/Service','Dns.php',662],['lib/google/src/Google/Service','Dns.php',861],['lib/google/src/Google/Service','Appengine.php',687],['lib/google/src/Google/Service','Appengine.php',1048],['lib/google/src/Google/Service','Appengine.php',1185],['lib/google/src/Google/Service','Appengine.php',1229],['lib/google/src/Google/Service','Appengine.php',1275],['lib/google/src/Google/Service','Appengine.php',1964],['lib/google/src/Google/Service','Translate.php',320],['lib/google/src/Google/Service','AdExchangeBuyer.php',1872],['lib/google/src/Google/Service','AdExchangeBuyer.php',2029],['lib/google/src/Google/Service','AdExchangeBuyer.php',2073],['lib/google/src/Google/Service','AdExchangeBuyer.php',2189],['lib/google/src/Google/Service','AdExchangeBuyer.php',2392],['lib/google/src/Google/Service','AdExchangeBuyer.php',3250],['lib/google/src/Google/Service','AdExchangeBuyer.php',4338],['lib/google/src/Google/Service','AdExchangeBuyer.php',4658],['lib/google/src/Google/Service','AdExchangeBuyer.php',4862],['lib/google/src/Google/Service','AdExchangeBuyer.php',6618],['lib/google/src/Google/Service','CivicInfo.php',355],['lib/google/src/Google/Service','CivicInfo.php',469],['lib/google/src/Google/Service','CivicInfo.php',543],['lib/google/src/Google/Service','CivicInfo.php',885],['lib/google/src/Google/Service','CivicInfo.php',929],['lib/google/src/Google/Service','CivicInfo.php',974],['lib/google/src/Google/Service','CivicInfo.php',1045],['lib/google/src/Google/Service','CivicInfo.php',1081],['lib/google/src/Google/Service','CivicInfo.php',1129],['lib/google/src/Google/Service','CivicInfo.php',1204],['lib/google/src/Google/Service','CivicInfo.php',1288],['lib/google/src/Google/Service','CivicInfo.php',1522],['lib/horde/framework/Horde/Mime','Part.php',374],['lib/google/src/Google/Service','Books.php',3528],['lib/google/src/Google/Service','Oauth2.php',483],['lib/google/src/Google/Service','Analytics.php',3826],['lib/google/src/Google/Service','Analytics.php',3938],['lib/google/src/Google/Service','Analytics.php',4058],['lib/google/src/Google/Service','Analytics.php',4450],['lib/google/src/Google/Service','Analytics.php',4717],['lib/google/src/Google/Service','Analytics.php',4963],['lib/google/src/Google/Service','Analytics.php',5177],['lib/google/src/Google/Service','Analytics.php',5614],['lib/google/src/Google/Service','Analytics.php',5797],['lib/google/src/Google/Service','Analytics.php',6013],['lib/google/src/Google/Service','Analytics.php',6353],['lib/google/src/Google/Service','Analytics.php',6706],['lib/google/src/Google/Service','Analytics.php',7079],['lib/google/src/Google/Service','Analytics.php',7340],['lib/google/src/Google/Service','Analytics.php',7673],['lib/google/src/Google/Service','Analytics.php',8036],['lib/google/src/Google/Service','Analytics.php',8411],['lib/google/src/Google/Service','Analytics.php',8455],['lib/google/src/Google/Service','Analytics.php',8673],['lib/google/src/Google/Service','Analytics.php',8860],['lib/google/src/Google/Service','Analytics.php',9515],['lib/google/src/Google/Service','Analytics.php',9572],['lib/google/src/Google/Service','Analytics.php',9777],['lib/google/src/Google/Service','Coordinate.php',897],['lib/google/src/Google/Service','Coordinate.php',1449],['lib/pear/HTML/QuickForm','xbutton.php',90],['lib/google/src/Google/Service','Script.php',282],['lib/google/src/Google/Service','DeploymentManager.php',928],['lib/google/src/Google/Service','DeploymentManager.php',1031],['lib/google/src/Google/Service','DeploymentManager.php',1230],['lib/google/src/Google/Service','DeploymentManager.php',1305],['lib/google/src/Google/Service','DeploymentManager.php',1454],['lib/google/src/Google/Service','DeploymentManager.php',1979],['lib/google/src/Google/Service','Blogger.php',1770],['lib/google/src/Google/Service','Blogger.php',3010],['lib/google/src/Google/Service','Dataflow.php',927],['lib/google/src/Google/Service','Dataflow.php',1030],['lib/google/src/Google/Service','Dataflow.php',1483],['lib/google/src/Google/Service','Dataflow.php',1561],['lib/google/src/Google/Service','Dataflow.php',1645],['lib/google/src/Google/Service','Dataflow.php',1745],['lib/google/src/Google/Service','Dataflow.php',2069],['lib/google/src/Google/Service','Dataflow.php',2687],['lib/pear/HTML/QuickForm','textarea.php',93],['lib/google/src/Google/Service','CloudUserAccounts.php',1229],['lib/google/src/Google/Service','CloudUserAccounts.php',1657],['lib/google/src/Google/Service','CloudUserAccounts.php',2202],['lib/google/src/Google/Service','Cloudresourcemanager.php',800],['lib/google/src/Google/Service','Customsearch.php',1077],['lib/google/src/Google/Service','TagManager.php',1793],['lib/google/src/Google/Service','TagManager.php',1915],['lib/google/src/Google/Service','TagManager.php',2084],['lib/google/src/Google/Service','TagManager.php',2182],['lib/google/src/Google/Service','TagManager.php',2241],['lib/google/src/Google/Service','TagManager.php',2337],['lib/google/src/Google/Service','TagManager.php',2617],['lib/google/src/Google/Service','TagManager.php',2805],['lib/google/src/Google/Service','TagManager.php',2952],['lib/google/src/Google/Service','TagManager.php',3202],['lib/google/src/Google/Service','TagManager.php',3385],['lib/google/src/Google/Service','Replicapoolupdater.php',776],['lib/spout/src/Spout/Writer/Common','Sheet.php',59],['lib/google/src/Google/Service','Bigquery.php',3370],['lib/google/src/Google/Service','ShoppingContent.php',2156],['lib/google/src/Google/Service','ShoppingContent.php',2363],['lib/google/src/Google/Service','ShoppingContent.php',2492],['lib/google/src/Google/Service','ShoppingContent.php',2563],['lib/google/src/Google/Service','ShoppingContent.php',2646],['lib/google/src/Google/Service','ShoppingContent.php',3882],['lib/google/src/Google/Service','ShoppingContent.php',4882],['lib/google/src/Google/Service','ShoppingContent.php',7879],['lib/google/src/Google/Service','ShoppingContent.php',7931],['lib/google/src/Google/Service','Clouddebugger.php',662],['lib/google/src/Google/Service','Clouddebugger.php',1315],['lib/spout/src/Spout/Reader/XLSX','Sheet.php',60],['lib/form','selectgroups.php',124],['lib/pear/HTML/QuickForm','group.php',138],['lib/google/src/Google/Service','Container.php',567],['lib/google/src/Google/Service','Container.php',816],['lib/form','editor.php',138],['lib/google/src/Google/Service','Audit.php',334],['lib/google/src/Google/Service','Audit.php',360],['lib/google/src/Google/Service','Datastore.php',580],['lib/google/src/Google/Service','Datastore.php',652],['lib/google/src/Google/Service','Datastore.php',669],['lib/google/src/Google/Service','Datastore.php',1097],['lib/google/src/Google/Service','Storage.php',2088],['lib/google/src/Google/Service','Storage.php',2767],['lib/google/src/Google/Service','Storage.php',3260],['lib/google/src/Google/Service','QPXExpress.php',128],['lib/google/src/Google/Service','QPXExpress.php',172],['lib/google/src/Google/Service','QPXExpress.php',261],['lib/google/src/Google/Service','QPXExpress.php',305],['lib/google/src/Google/Service','QPXExpress.php',1224],['lib/google/src/Google/Service','Genomics.php',1598],['lib/google/src/Google/Service','Genomics.php',1720],['lib/google/src/Google/Service','Genomics.php',2208],['lib/google/src/Google/Service','Genomics.php',2396],['lib/google/src/Google/Service','Genomics.php',2680],['lib/google/src/Google/Service','Genomics.php',2773],['lib/google/src/Google/Service','Genomics.php',2845],['lib/google/src/Google/Service','Genomics.php',2997],['lib/google/src/Google/Service','Genomics.php',3078],['lib/google/src/Google/Service','Games.php',2358],['lib/google/src/Google/Service','Games.php',2925],['lib/google/src/Google/Service','Games.php',3556],['lib/google/src/Google/Service','Games.php',3632],['lib/google/src/Google/Service','Games.php',3868],['lib/google/src/Google/Service','Games.php',4531],['lib/google/src/Google/Service','Games.php',5449],['lib/google/src/Google/Service','Fitness.php',924],['lib/google/src/Google/Service','Fitness.php',1148],['lib/google/src/Google/Service','Fitness.php',1184],['lib/google/src/Google/Service','Fitness.php',1211],['lib/google/src/Google/Service','Fitness.php',1483],['lib/xmldb','xmldb_object.php',118],['lib/google/src/Google/Service','Reports.php',621],['lib/google/src/Google/Service','Reports.php',692],['lib/google/src/Google/Service','Reports.php',1001],['lib/google/src/Google/Service','Gmail.php',1596],['lib/google/src/Google/Service','Gmail.php',1997],['lib/phpexcel/PHPExcel/Worksheet','BaseDrawing.php',154],['lib/google/src/Google/Service','Doubleclicksearch.php',865],['lib/google/src/Google/Service','Doubleclicksearch.php',891],['lib/google/src/Google/Service','Autoscaler.php',575],['lib/google/src/Google/Service','Autoscaler.php',929],['lib/google/src/Google/Service','Autoscaler.php',1274],['lib/google/src/Google/Service','Autoscaler.php',1397],['lib/google/src/Google/Service','AdExchangeSeller.php',861],['lib/google/src/Google/Service','AdExchangeSeller.php',1133],['lib/google/src/Google/Service','AdExchangeSeller.php',1467],['lib/google/src/Google/Service','AdExchangeSeller.php',1582],['lib/google/src/Google/Service','Appsactivity.php',392],['lib/google/src/Google/Service','Appsactivity.php',539],['lib/google/src/Google/Service','Appsactivity.php',558],['lib/google/src/Google/Service','Drive.php',2740],['lib/google/src/Google/Service','Drive.php',3129],['lib/google/src/Google/Service','Drive.php',5242],['lib/google/src/Google/Service','Spectrum.php',246],['lib/phpexcel/PHPExcel','NamedRange.php',90],['lib/google/src/Google/Service','Proximitybeacon.php',1013],['lib/google/src/Google/Service','Groupssettings.php',315],['lib/google/src/Google/Service','Directory.php',3539],['lib/google/src/Google/Service','Directory.php',4499],['lib/google/src/Google/Service','Directory.php',4862],['lib/google/src/Google/Service','Directory.php',5259],['lib/google/src/Google/Service','Directory.php',6256],['lib/google/src/Google/Service','Directory.php',6787],['lib/google/src/Google/Service','Fusiontables.php',1439],['lib/google/src/Google/Service','Fusiontables.php',2031],['lib/google/src/Google/Service','Fusiontables.php',2204],['lib/google/src/Google/Service','Fusiontables.php',2419],['lib/google/src/Google/Service','AdSenseHost.php',1254],['lib/google/src/Google/Service','AdSenseHost.php',1624],['lib/google/src/Google/Service','AdSenseHost.php',1927],['lib/google/src/Google/Service','AdSenseHost.php',2073],['lib/google/src/Google/Service','Plus.php',902],['lib/google/src/Google/Service','Plus.php',2515],['lib/google/src/Google/Service','Plus.php',3071],['lib/google/src/Google/Service','Plus.php',3462],['lib/pear/HTML/QuickForm','element.php',152],['lib/google/src/Google/Service','AndroidEnterprise.php',2200],['lib/google/src/Google/Service','AndroidEnterprise.php',2397],['lib/google/src/Google/Service','AndroidEnterprise.php',2774],['lib/google/src/Google/Service','Playmoviespartner.php',1022],['lib/google/src/Google/Service','Playmoviespartner.php',1326],['lib/google/src/Google/Service','Playmoviespartner.php',1576],['lib/pear/HTML/QuickForm','link.php',99],['lib/google/src/Google/Service','Cloudtrace.php',409],['lib/google/src/Google/Service','Cloudbilling.php',334],['lib/google/src/Google/Service','Cloudbilling.php',434],['lib/google/src/Google/Service','PlusDomains.php',1193],['lib/google/src/Google/Service','PlusDomains.php',3290],['lib/google/src/Google/Service','PlusDomains.php',3655],['lib/google/src/Google/Service','Storagetransfer.php',850],['lib/google/src/Google/Service','Storagetransfer.php',1207],['lib/google/src/Google/Service','Storagetransfer.php',1292],['lib/google/src/Google/Service','GamesConfiguration.php',617],['lib/google/src/Google/Service','GamesConfiguration.php',948],['lib/google/src/Google/Service','Resourceviews.php',744],['lib/google/src/Google/Service','Resourceviews.php',1099],['lib/google/src/Google/Service','Resourceviews.php',1149],['lib/phpexcel/PHPExcel/Style','Font.php',219],['lib/google/src/Google/Service','Classroom.php',1112],['lib/google/src/Google/Service','Classroom.php',1513],['lib/phpexcel/PHPExcel/Worksheet','HeaderFooterDrawing.php',94],['lib/google/src/Google/Service','SQLAdmin.php',1587],['lib/google/src/Google/Service','SQLAdmin.php',1910],['lib/google/src/Google/Service','SQLAdmin.php',1944],['lib/google/src/Google/Service','SQLAdmin.php',2066],['lib/google/src/Google/Service','SQLAdmin.php',2373],['lib/google/src/Google/Service','SQLAdmin.php',2930],['lib/google/src/Google/Service','SQLAdmin.php',3659],['lib/google/src/Google/Service','Compute.php',8458],['lib/google/src/Google/Service','Compute.php',8541],['lib/google/src/Google/Service','Compute.php',8997],['lib/google/src/Google/Service','Compute.php',9519],['lib/google/src/Google/Service','Compute.php',9787],['lib/google/src/Google/Service','Compute.php',10089],['lib/google/src/Google/Service','Compute.php',10479],['lib/google/src/Google/Service','Compute.php',10679],['lib/google/src/Google/Service','Compute.php',11098],['lib/google/src/Google/Service','Compute.php',11278],['lib/google/src/Google/Service','Compute.php',11471],['lib/google/src/Google/Service','Compute.php',11722],['lib/google/src/Google/Service','Compute.php',11913],['lib/google/src/Google/Service','Compute.php',12170],['lib/google/src/Google/Service','Compute.php',13075],['lib/google/src/Google/Service','Compute.php',13311],['lib/google/src/Google/Service','Compute.php',13432],['lib/google/src/Google/Service','Compute.php',13885],['lib/google/src/Google/Service','Compute.php',13966],['lib/google/src/Google/Service','Compute.php',14004],['lib/google/src/Google/Service','Compute.php',14188],['lib/google/src/Google/Service','Compute.php',14644],['lib/google/src/Google/Service','Compute.php',14757],['lib/google/src/Google/Service','Compute.php',14885],['lib/google/src/Google/Service','Compute.php',15063],['lib/google/src/Google/Service','Compute.php',15436],['lib/google/src/Google/Service','Compute.php',15603],['lib/google/src/Google/Service','Compute.php',15756],['lib/google/src/Google/Service','Compute.php',15902],['lib/google/src/Google/Service','Compute.php',16046],['lib/google/src/Google/Service','Compute.php',16368],['lib/google/src/Google/Service','Compute.php',16786],['lib/google/src/Google/Service','Compute.php',17162],['lib/google/src/Google/Service','Compute.php',17488],['lib/google/src/Google/Service','Compute.php',17826],['lib/google/src/Google/Service','Compute.php',17949],['lib/google/src/Google/Service','Pubsub.php',954],['lib/google/src/Google/Service','Pubsub.php',987],['lib/google/src/Google/Service','YouTube.php',5438],['lib/google/src/Google/Service','YouTube.php',8084],['lib/google/src/Google/Service','YouTube.php',8210],['lib/google/src/Google/Service','YouTube.php',9156],['lib/google/src/Google/Service','Dfareporting.php',9031],['lib/google/src/Google/Service','Dfareporting.php',9163],['lib/google/src/Google/Service','Dfareporting.php',9206],['lib/google/src/Google/Service','Dfareporting.php',9370],['lib/google/src/Google/Service','Dfareporting.php',9819],['lib/google/src/Google/Service','Dfareporting.php',9947],['lib/google/src/Google/Service','Dfareporting.php',10120],['lib/google/src/Google/Service','Dfareporting.php',10188],['lib/google/src/Google/Service','Dfareporting.php',10297],['lib/google/src/Google/Service','Dfareporting.php',10334],['lib/google/src/Google/Service','Dfareporting.php',10396],['lib/google/src/Google/Service','Dfareporting.php',10664],['lib/google/src/Google/Service','Dfareporting.php',11068],['lib/google/src/Google/Service','Dfareporting.php',11111],['lib/google/src/Google/Service','Dfareporting.php',11309],['lib/google/src/Google/Service','Dfareporting.php',11418],['lib/google/src/Google/Service','Dfareporting.php',11491],['lib/google/src/Google/Service','Dfareporting.php',11850],['lib/google/src/Google/Service','Dfareporting.php',12438],['lib/google/src/Google/Service','Dfareporting.php',12796],['lib/google/src/Google/Service','Dfareporting.php',13012],['lib/google/src/Google/Service','Dfareporting.php',13113],['lib/google/src/Google/Service','Dfareporting.php',13682],['lib/google/src/Google/Service','Dfareporting.php',13994],['lib/google/src/Google/Service','Dfareporting.php',14390],['lib/google/src/Google/Service','Dfareporting.php',14855],['lib/google/src/Google/Service','Dfareporting.php',14954],['lib/google/src/Google/Service','Dfareporting.php',15057],['lib/google/src/Google/Service','Dfareporting.php',15692],['lib/google/src/Google/Service','Dfareporting.php',15855],['lib/google/src/Google/Service','Dfareporting.php',16113],['lib/google/src/Google/Service','Dfareporting.php',16184],['lib/google/src/Google/Service','Dfareporting.php',16265],['lib/google/src/Google/Service','Dfareporting.php',16434],['lib/google/src/Google/Service','Dfareporting.php',16489],['lib/google/src/Google/Service','Dfareporting.php',16708],['lib/google/src/Google/Service','Dfareporting.php',17328],['lib/google/src/Google/Service','Dfareporting.php',17691],['lib/google/src/Google/Service','Dfareporting.php',17881],['lib/google/src/Google/Service','Dfareporting.php',18009],['lib/google/src/Google/Service','Dfareporting.php',18606],['lib/google/src/Google/Service','Dfareporting.php',18872],['lib/google/src/Google/Service','Dfareporting.php',19027],['lib/google/src/Google/Service','Dfareporting.php',19246],['lib/google/src/Google/Service','Dfareporting.php',20213],['lib/google/src/Google/Service','Dfareporting.php',20527],['lib/google/src/Google/Service','Dfareporting.php',20589],['lib/google/src/Google/Service','Dfareporting.php',20884],['lib/google/src/Google/Service','Dfareporting.php',21234],['lib/google/src/Google/Service','Dfareporting.php',21303],['lib/google/src/Google/Service','Dfareporting.php',21346],['lib/google/src/Google/Service','Manager.php',405],['lib/google/src/Google/Service','Manager.php',641],['lib/google/src/Google/Service','Manager.php',1300],['lib/google/src/Google/Service','Manager.php',1821],['lib/google/src/Google/Service','CloudMonitoring.php',730]], 827],
'string_exists': ['string_exists', 'Does the string actually exist? ', [['lib/classes','string_manager_install.php',64],['lib/classes','string_manager_standard.php',263],['lib/classes','string_manager.php',50]], 85],
'abs': ['abs', '', [], 560],
'strtolower': ['strtolower', '', [], 817],
'is_object': ['is_object', '', [], 544],
'number_format': ['number_format', '', [], 37],
'asort': ['asort', '', [], 114],
'time': ['time', '', [], 1959],
'is_numeric': ['is_numeric', '', [], 672],
'preg_match': ['preg_match', '', [], 1286],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',239]], 1200],
'core_collator': ['core_collator', 'A collator class with static methods that can be used for sorting. ', [['lib/classes','collator.php',28]], 152],
'core_date': ['core_date', 'Core date and time related code. ', [['lib/classes','date.php',26]], 192]};
CONST_DATA={
'PHPUNIT_TEST': ['PHPUNIT_TEST', '', [['admin/cli','install.php',145],['','install.php',49],['lib/phpunit','bootstrap.php',63],['lib','setup.php',247]], 59],
'BEHAT_SITE_RUNNING': ['BEHAT_SITE_RUNNING', '', [['lib','setup.php',131]], 26],
'BEHAT_UTIL': ['BEHAT_UTIL', '', [['admin/tool/behat/cli','run.php',29],['admin/tool/behat/cli','util.php',33],['admin/tool/behat/cli','util_single_run.php',89]], 14],
'BEHAT_TEST': ['BEHAT_TEST', '', [['lib/tests/behat','behat_hooks.php',131]], 10]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
