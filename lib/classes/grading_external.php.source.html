<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/classes/grading_external.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='lib/classes';
filename='grading_external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/classes/</a> -> <a href="grading_external.php.html">grading_external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="grading_external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="grading_external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External grading API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_grading</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @since      Moodle 2.5</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2013 Paul Charsley</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l29"><span class="linenum">  29</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/lib.php&quot;);
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * core grading functions</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> */</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_grading_external')" href="../../_classes/core_grading_external.html" onMouseOver="classPopup(event,'core_grading_external')">core_grading_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Describes the parameters for get_definitions</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     */</span>
<a name="l41"><span class="linenum">  41</span></a>      public static function <a class="function" onClick="logFunction('get_definitions_parameters')" href="../../_functions/get_definitions_parameters.html" onMouseOver="funcPopup(event,'get_definitions_parameters')">get_definitions_parameters</a>() {
<a name="l42"><span class="linenum">  42</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l43"><span class="linenum">  43</span></a>              array(
<a name="l44"><span class="linenum">  44</span></a>                  'cmids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l45"><span class="linenum">  45</span></a>                          <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course module id'), '1 or more course module ids'),
<a name="l46"><span class="linenum">  46</span></a>                  'areaname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_AREA')" href="../../_constants/PARAM_AREA.html" onMouseOver="constPopup(event,'PARAM_AREA')">PARAM_AREA</a>, 'area name'),
<a name="l47"><span class="linenum">  47</span></a>                  'activeonly' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Only the active method', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l48"><span class="linenum">  48</span></a>              )
<a name="l49"><span class="linenum">  49</span></a>          );
<a name="l50"><span class="linenum">  50</span></a>      }
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>      <span class="comment">/**</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * Returns the definitions for the requested course module ids</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * @param array of ints $cmids</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * @param string $areaname</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * @param boolean $activeonly default is false, if true, only the active method is returned</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * @return array of areas with definitions for each requested course module id</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     */</span>
<a name="l60"><span class="linenum">  60</span></a>      public static function <a class="function" onClick="logFunction('get_definitions')" href="../../_functions/get_definitions.html" onMouseOver="funcPopup(event,'get_definitions')">get_definitions</a>(<a class="var it14697" onMouseOver="hilite(14697)" onMouseOut="lolite()" onClick="logVariable('cmids')" href="../../_variables/cmids.html">$cmids</a>, <a class="var it2225" onMouseOver="hilite(2225)" onMouseOut="lolite()" onClick="logVariable('areaname')" href="../../_variables/areaname.html">$areaname</a>, <a class="var it14698" onMouseOver="hilite(14698)" onMouseOut="lolite()" onClick="logVariable('activeonly')" href="../../_variables/activeonly.html">$activeonly</a> = false) {
<a name="l61"><span class="linenum">  61</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l62"><span class="linenum">  62</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/form/lib.php&quot;);
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_definitions_parameters')" href="../../_functions/get_definitions_parameters.html" onMouseOver="funcPopup(event,'get_definitions_parameters')">get_definitions_parameters</a>(),
<a name="l64"><span class="linenum">  64</span></a>              array('cmids' =&gt; <a class="var it14697" onMouseOver="hilite(14697)" onMouseOut="lolite()" onClick="logVariable('cmids')" href="../../_variables/cmids.html">$cmids</a>,
<a name="l65"><span class="linenum">  65</span></a>                  'areaname' =&gt; <a class="var it2225" onMouseOver="hilite(2225)" onMouseOut="lolite()" onClick="logVariable('areaname')" href="../../_variables/areaname.html">$areaname</a>,
<a name="l66"><span class="linenum">  66</span></a>                  'activeonly' =&gt; <a class="var it14698" onMouseOver="hilite(14698)" onMouseOut="lolite()" onClick="logVariable('activeonly')" href="../../_variables/activeonly.html">$activeonly</a>));
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = array();
<a name="l69"><span class="linenum">  69</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['cmids'] as <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>) {
<a name="l70"><span class="linenum">  70</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>);
<a name="l71"><span class="linenum">  71</span></a>              try {
<a name="l72"><span class="linenum">  72</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l73"><span class="linenum">  73</span></a>              } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l74"><span class="linenum">  74</span></a>                  <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l75"><span class="linenum">  75</span></a>                      'item' =&gt; 'module',
<a name="l76"><span class="linenum">  76</span></a>                      'itemid' =&gt; <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l77"><span class="linenum">  77</span></a>                      'message' =&gt; 'No access rights in module context',
<a name="l78"><span class="linenum">  78</span></a>                      'warningcode' =&gt; '1'
<a name="l79"><span class="linenum">  79</span></a>                  );
<a name="l80"><span class="linenum">  80</span></a>                  continue;
<a name="l81"><span class="linenum">  81</span></a>              }
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">            // Check if the user has managegradingforms capability.</span>
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it14699" onMouseOver="hilite(14699)" onMouseOut="lolite()" onClick="logVariable('isgradingmethodmanager')" href="../../_variables/isgradingmethodmanager.html">$isgradingmethodmanager</a> = false;
<a name="l84"><span class="linenum">  84</span></a>              if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:managegradingforms', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l85"><span class="linenum">  85</span></a>                  <a class="var it14699" onMouseOver="hilite(14699)" onMouseOut="lolite()" onClick="logVariable('isgradingmethodmanager')" href="../../_variables/isgradingmethodmanager.html">$isgradingmethodmanager</a> = true;
<a name="l86"><span class="linenum">  86</span></a>              }
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>('', <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a> = &quot;mod_&quot;.<a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('modname')" class="var it42973" onMouseOver="hilite(42973)" onMouseOut="lolite()" href="../../_variables/modname.html">modname</a>;
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">            // Get the grading manager.</span>
<a name="l91"><span class="linenum">  91</span></a>              <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a> = <a class="function" onClick="logFunction('get_grading_manager')" href="../../_functions/get_grading_manager.html" onMouseOver="funcPopup(event,'get_grading_manager')">get_grading_manager</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['areaname']);
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">            // Get the controller for each grading method.</span>
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> = array();
<a name="l94"><span class="linenum">  94</span></a>              if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['activeonly'] == true) {
<a name="l95"><span class="linenum">  95</span></a>                  <a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a>[] = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_active_method')" href="../../_functions/get_active_method.html" onMouseOver="funcPopup(event,'get_active_method')">get_active_method</a>();
<a name="l96"><span class="linenum">  96</span></a>              } else {
<a name="l97"><span class="linenum">  97</span></a>                  <a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_available_methods')" href="../../_functions/get_available_methods.html" onMouseOver="funcPopup(event,'get_available_methods')">get_available_methods</a>(false));
<a name="l98"><span class="linenum">  98</span></a>              }
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a> = array();
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['cmid'] = <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>;
<a name="l102"><span class="linenum"> 102</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['contextid'] = <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['component'] = <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>;
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['areaname'] = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['areaname'];
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['activemethod'] = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_active_method')" href="../../_functions/get_active_method.html" onMouseOver="funcPopup(event,'get_active_method')">get_active_method</a>();
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['definitions'] = array();
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>              foreach (<a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> as <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l109"><span class="linenum"> 109</span></a>                  <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a> = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_controller')" href="../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>(<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>);
<a name="l110"><span class="linenum"> 110</span></a>                  <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a> = <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a>-&gt;<a class="function" onClick="logFunction('get_definition')" href="../../_functions/get_definition.html" onMouseOver="funcPopup(event,'get_definition')">get_definition</a>(true);
<a name="l111"><span class="linenum"> 111</span></a>                  if (<a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a> == false) {
<a name="l112"><span class="linenum"> 112</span></a>                      continue;
<a name="l113"><span class="linenum"> 113</span></a>                  }
<a name="l114"><span class="linenum"> 114</span></a>                  if (<a class="var it14699" onMouseOver="hilite(14699)" onMouseOut="lolite()" onClick="logVariable('isgradingmethodmanager')" href="../../_variables/isgradingmethodmanager.html">$isgradingmethodmanager</a> == false) {
<a name="l115"><span class="linenum"> 115</span></a>                      <a class="var it14701" onMouseOver="hilite(14701)" onMouseOut="lolite()" onClick="logVariable('isviewable')" href="../../_variables/isviewable.html">$isviewable</a> = true;
<a name="l116"><span class="linenum"> 116</span></a>                      if (<a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('status')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> != gradingform_controller::DEFINITION_STATUS_READY) {
<a name="l117"><span class="linenum"> 117</span></a>                          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l118"><span class="linenum"> 118</span></a>                              'item' =&gt; 'module',
<a name="l119"><span class="linenum"> 119</span></a>                              'itemid' =&gt; <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l120"><span class="linenum"> 120</span></a>                              'message' =&gt; 'Capability moodle/grade:managegradingforms required to view draft definitions',
<a name="l121"><span class="linenum"> 121</span></a>                              'warningcode' =&gt; '1'
<a name="l122"><span class="linenum"> 122</span></a>                          );
<a name="l123"><span class="linenum"> 123</span></a>                          <a class="var it14701" onMouseOver="hilite(14701)" onMouseOut="lolite()" onClick="logVariable('isviewable')" href="../../_variables/isviewable.html">$isviewable</a> = false;
<a name="l124"><span class="linenum"> 124</span></a>                      }
<a name="l125"><span class="linenum"> 125</span></a>                      if (!empty(<a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('options')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/options.html">options</a>)) {
<a name="l126"><span class="linenum"> 126</span></a>                          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a> = json_decode(<a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('options')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/options.html">options</a>);
<a name="l127"><span class="linenum"> 127</span></a>                          if (isset(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('alwaysshowdefinition')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../_variables/alwaysshowdefinition.html">alwaysshowdefinition</a>) &amp;&amp;
<a name="l128"><span class="linenum"> 128</span></a>                              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>-&gt;<a onClick="logVariable('alwaysshowdefinition')" class="var it42909" onMouseOver="hilite(42909)" onMouseOut="lolite()" href="../../_variables/alwaysshowdefinition.html">alwaysshowdefinition</a> == 0) {
<a name="l129"><span class="linenum"> 129</span></a>                              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l130"><span class="linenum"> 130</span></a>                                  'item' =&gt; 'module',
<a name="l131"><span class="linenum"> 131</span></a>                                  'itemid' =&gt; <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l132"><span class="linenum"> 132</span></a>                                  'message' =&gt; 'Capability moodle/grade:managegradingforms required to preview definition',
<a name="l133"><span class="linenum"> 133</span></a>                                  'warningcode' =&gt; '1'
<a name="l134"><span class="linenum"> 134</span></a>                              );
<a name="l135"><span class="linenum"> 135</span></a>                              <a class="var it14701" onMouseOver="hilite(14701)" onMouseOut="lolite()" onClick="logVariable('isviewable')" href="../../_variables/isviewable.html">$isviewable</a> = false;
<a name="l136"><span class="linenum"> 136</span></a>                          }
<a name="l137"><span class="linenum"> 137</span></a>                      }
<a name="l138"><span class="linenum"> 138</span></a>                      if (<a class="var it14701" onMouseOver="hilite(14701)" onMouseOut="lolite()" onClick="logVariable('isviewable')" href="../../_variables/isviewable.html">$isviewable</a> == false) {
<a name="l139"><span class="linenum"> 139</span></a>                          continue;
<a name="l140"><span class="linenum"> 140</span></a>                      }
<a name="l141"><span class="linenum"> 141</span></a>                  }
<a name="l142"><span class="linenum"> 142</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = array();
<a name="l143"><span class="linenum"> 143</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['id'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('id')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l144"><span class="linenum"> 144</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method'] = <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>;
<a name="l145"><span class="linenum"> 145</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['name'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('name')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l146"><span class="linenum"> 146</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('description')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/description.html">description</a>;
<a name="l147"><span class="linenum"> 147</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/descriptionformat.html">descriptionformat</a>;
<a name="l148"><span class="linenum"> 148</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['status'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('status')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>;
<a name="l149"><span class="linenum"> 149</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['copiedfromid'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('copiedfromid')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/copiedfromid.html">copiedfromid</a>;
<a name="l150"><span class="linenum"> 150</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timecreated'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('timecreated')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>;
<a name="l151"><span class="linenum"> 151</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['usercreated'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('usercreated')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/usercreated.html">usercreated</a>;
<a name="l152"><span class="linenum"> 152</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timemodified'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l153"><span class="linenum"> 153</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['usermodified'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/usermodified.html">usermodified</a>;
<a name="l154"><span class="linenum"> 154</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timecopied'] = <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('timecopied')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/timecopied.html">timecopied</a>;
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">                // Format the description text field.</span>
<a name="l156"><span class="linenum"> 156</span></a>                  <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a> = <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description'],
<a name="l157"><span class="linenum"> 157</span></a>                      <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'],
<a name="l158"><span class="linenum"> 158</span></a>                      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l159"><span class="linenum"> 159</span></a>                      <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>,
<a name="l160"><span class="linenum"> 160</span></a>                      'description',
<a name="l161"><span class="linenum"> 161</span></a>                      <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('id')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l162"><span class="linenum"> 162</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description'] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[0];
<a name="l163"><span class="linenum"> 163</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[1];
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>                  <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> = <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a>-&gt;<a class="function" onClick="logFunction('get_external_definition_details')" href="../../_functions/get_external_definition_details.html" onMouseOver="funcPopup(event,'get_external_definition_details')">get_external_definition_details</a>();
<a name="l166"><span class="linenum"> 166</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l167"><span class="linenum"> 167</span></a>                  foreach (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l168"><span class="linenum"> 168</span></a>                      <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;{<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>}, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>, <a class="var it500" onMouseOver="hilite(500)" onMouseOut="lolite()" onClick="logVariable('def')" href="../../_variables/def.html">$def</a>-&gt;<a onClick="logVariable('id')" class="var it43059" onMouseOver="hilite(43059)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l169"><span class="linenum"> 169</span></a>                  }
<a name="l170"><span class="linenum"> 170</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>[<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>] = <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>;
<a name="l171"><span class="linenum"> 171</span></a>                  <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['definitions'][] = <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>;
<a name="l172"><span class="linenum"> 172</span></a>              }
<a name="l173"><span class="linenum"> 173</span></a>              <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>[] = <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>;
<a name="l174"><span class="linenum"> 174</span></a>          }
<a name="l175"><span class="linenum"> 175</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array(
<a name="l176"><span class="linenum"> 176</span></a>              'areas' =&gt; <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>,
<a name="l177"><span class="linenum"> 177</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>
<a name="l178"><span class="linenum"> 178</span></a>          );
<a name="l179"><span class="linenum"> 179</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l180"><span class="linenum"> 180</span></a>      }
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>      <span class="comment">/**</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * Recursively processes all elements in an array and runs external_format_text()on</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     * all elements which have a text field and associated format field with a key name</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     * that ends with the text 'format'. The modified array is returned.</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * @param array $items the array to be processed</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     * @param int $contextid</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * @param string $componentname</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     * @param int $itemid</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">     * @see external_format_text in lib/externallib.php</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">     * @return array the input array with all fields formatted</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     */</span>
<a name="l193"><span class="linenum"> 193</span></a>      private static function <a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>) {
<a name="l194"><span class="linenum"> 194</span></a>          <a class="var it14703" onMouseOver="hilite(14703)" onMouseOut="lolite()" onClick="logVariable('formatkeys')" href="../../_variables/formatkeys.html">$formatkeys</a> = array();
<a name="l195"><span class="linenum"> 195</span></a>          foreach (<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l196"><span class="linenum"> 196</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr_compare')" href="../../_functions/substr_compare.html" onMouseOver="phpfuncPopup(event,'substr_compare')">substr_compare</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, 'format', -6, 6) === 0) {
<a name="l197"><span class="linenum"> 197</span></a>                  <a class="var it14703" onMouseOver="hilite(14703)" onMouseOut="lolite()" onClick="logVariable('formatkeys')" href="../../_variables/formatkeys.html">$formatkeys</a>[] = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l198"><span class="linenum"> 198</span></a>              }
<a name="l199"><span class="linenum"> 199</span></a>          }
<a name="l200"><span class="linenum"> 200</span></a>          foreach (<a class="var it14703" onMouseOver="hilite(14703)" onMouseOut="lolite()" onClick="logVariable('formatkeys')" href="../../_variables/formatkeys.html">$formatkeys</a> as <a class="var it14704" onMouseOver="hilite(14704)" onMouseOut="lolite()" onClick="logVariable('formatkey')" href="../../_variables/formatkey.html">$formatkey</a>) {
<a name="l201"><span class="linenum"> 201</span></a>              <a class="var it14705" onMouseOver="hilite(14705)" onMouseOut="lolite()" onClick="logVariable('descriptionkey')" href="../../_variables/descriptionkey.html">$descriptionkey</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it14704" onMouseOver="hilite(14704)" onMouseOut="lolite()" onClick="logVariable('formatkey')" href="../../_variables/formatkey.html">$formatkey</a>, 0, -6);
<a name="l202"><span class="linenum"> 202</span></a>              <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a> = <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it14705" onMouseOver="hilite(14705)" onMouseOut="lolite()" onClick="logVariable('descriptionkey')" href="../../_variables/descriptionkey.html">$descriptionkey</a>],
<a name="l203"><span class="linenum"> 203</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it14704" onMouseOver="hilite(14704)" onMouseOut="lolite()" onClick="logVariable('formatkey')" href="../../_variables/formatkey.html">$formatkey</a>],
<a name="l204"><span class="linenum"> 204</span></a>                  <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>,
<a name="l205"><span class="linenum"> 205</span></a>                  <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>,
<a name="l206"><span class="linenum"> 206</span></a>                  'description',
<a name="l207"><span class="linenum"> 207</span></a>                  <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>);
<a name="l208"><span class="linenum"> 208</span></a>              <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it14705" onMouseOver="hilite(14705)" onMouseOut="lolite()" onClick="logVariable('descriptionkey')" href="../../_variables/descriptionkey.html">$descriptionkey</a>] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[0];
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it14704" onMouseOver="hilite(14704)" onMouseOut="lolite()" onClick="logVariable('formatkey')" href="../../_variables/formatkey.html">$formatkey</a>] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[1];
<a name="l210"><span class="linenum"> 210</span></a>          }
<a name="l211"><span class="linenum"> 211</span></a>          foreach (<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l212"><span class="linenum"> 212</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l213"><span class="linenum"> 213</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>, <a class="var it2129" onMouseOver="hilite(2129)" onMouseOut="lolite()" onClick="logVariable('componentname')" href="../../_variables/componentname.html">$componentname</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>);
<a name="l214"><span class="linenum"> 214</span></a>              }
<a name="l215"><span class="linenum"> 215</span></a>          }
<a name="l216"><span class="linenum"> 216</span></a>          return <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>;
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Creates a grading area</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * @since  Moodle 2.5</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     */</span>
<a name="l224"><span class="linenum"> 224</span></a>      private static function <a class="function" onClick="logFunction('grading_area')" href="../../_functions/grading_area.html" onMouseOver="funcPopup(event,'grading_area')">grading_area</a>() {
<a name="l225"><span class="linenum"> 225</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l226"><span class="linenum"> 226</span></a>              array (
<a name="l227"><span class="linenum"> 227</span></a>                  'cmid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course module id'),
<a name="l228"><span class="linenum"> 228</span></a>                  'contextid'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'context id'),
<a name="l229"><span class="linenum"> 229</span></a>                  'component' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'component name'),
<a name="l230"><span class="linenum"> 230</span></a>                  'areaname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'area name'),
<a name="l231"><span class="linenum"> 231</span></a>                  'activemethod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'active method', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l232"><span class="linenum"> 232</span></a>                  'definitions'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('definition')" href="../../_functions/definition.html" onMouseOver="funcPopup(event,'definition')">definition</a>(), 'definitions')
<a name="l233"><span class="linenum"> 233</span></a>              )
<a name="l234"><span class="linenum"> 234</span></a>          );
<a name="l235"><span class="linenum"> 235</span></a>      }
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>      <span class="comment">/**</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * creates a grading form definition</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     * @since  Moodle 2.5</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     */</span>
<a name="l242"><span class="linenum"> 242</span></a>      private static function <a class="function" onClick="logFunction('definition')" href="../../_functions/definition.html" onMouseOver="funcPopup(event,'definition')">definition</a>() {
<a name="l243"><span class="linenum"> 243</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l244"><span class="linenum"> 244</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = array();
<a name="l245"><span class="linenum"> 245</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['id']                = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'definition id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method']            = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'method');
<a name="l247"><span class="linenum"> 247</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['name']              = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'name');
<a name="l248"><span class="linenum"> 248</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description']       = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l249"><span class="linenum"> 249</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'] = <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l250"><span class="linenum"> 250</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['status']            = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'status');
<a name="l251"><span class="linenum"> 251</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['copiedfromid']      = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'copied from id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l252"><span class="linenum"> 252</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timecreated']       = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'creation time');
<a name="l253"><span class="linenum"> 253</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['usercreated']       = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user who created definition');
<a name="l254"><span class="linenum"> 254</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timemodified']      = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'last modified time');
<a name="l255"><span class="linenum"> 255</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['usermodified']      = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user who modified definition');
<a name="l256"><span class="linenum"> 256</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['timecopied']        = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'time copied', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l257"><span class="linenum"> 257</span></a>          foreach (self::<a class="function" onClick="logFunction('get_grading_methods')" href="../../_functions/get_grading_methods.html" onMouseOver="funcPopup(event,'get_grading_methods')">get_grading_methods</a>() as <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l258"><span class="linenum"> 258</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'/lib.php');
<a name="l259"><span class="linenum"> 259</span></a>              <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>  = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_controller::get_external_definition_details');
<a name="l260"><span class="linenum"> 260</span></a>              if (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> != null) {
<a name="l261"><span class="linenum"> 261</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l262"><span class="linenum"> 262</span></a>                  foreach (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l263"><span class="linenum"> 263</span></a>                      <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]-&gt;required = <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>;
<a name="l264"><span class="linenum"> 264</span></a>                      <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l265"><span class="linenum"> 265</span></a>                  }
<a name="l266"><span class="linenum"> 266</span></a>                  <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>[<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, 'items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l267"><span class="linenum"> 267</span></a>              }
<a name="l268"><span class="linenum"> 268</span></a>          }
<a name="l269"><span class="linenum"> 269</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>);
<a name="l270"><span class="linenum"> 270</span></a>      }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>      <span class="comment">/**</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * Describes the get_definitions return value</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     */</span>
<a name="l277"><span class="linenum"> 277</span></a>      public static function <a class="function" onClick="logFunction('get_definitions_returns')" href="../../_functions/get_definitions_returns.html" onMouseOver="funcPopup(event,'get_definitions_returns')">get_definitions_returns</a>() {
<a name="l278"><span class="linenum"> 278</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l279"><span class="linenum"> 279</span></a>              array(
<a name="l280"><span class="linenum"> 280</span></a>                  'areas' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('grading_area')" href="../../_functions/grading_area.html" onMouseOver="funcPopup(event,'grading_area')">grading_area</a>(), 'list of grading areas'),
<a name="l281"><span class="linenum"> 281</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l282"><span class="linenum"> 282</span></a>              )
<a name="l283"><span class="linenum"> 283</span></a>          );
<a name="l284"><span class="linenum"> 284</span></a>      }
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>      <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * @return array of available grading methods</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     */</span>
<a name="l290"><span class="linenum"> 290</span></a>      private static function <a class="function" onClick="logFunction('get_grading_methods')" href="../../_functions/get_grading_methods.html" onMouseOver="funcPopup(event,'get_grading_methods')">get_grading_methods</a>() {
<a name="l291"><span class="linenum"> 291</span></a>          <a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="class" onClick="logClass('grading_manager')" href="../../_classes/grading_manager.html" onMouseOver="classPopup(event,'grading_manager')">grading_manager</a>::<a class="function" onClick="logFunction('available_methods')" href="../../_functions/available_methods.html" onMouseOver="funcPopup(event,'available_methods')">available_methods</a>(false));
<a name="l292"><span class="linenum"> 292</span></a>          return <a class="var it6183" onMouseOver="hilite(6183)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a>;
<a name="l293"><span class="linenum"> 293</span></a>      }
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>      <span class="comment">/**</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * Describes the parameters for get_gradingform_instances</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     *</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     */</span>
<a name="l301"><span class="linenum"> 301</span></a>      public static function <a class="function" onClick="logFunction('get_gradingform_instances_parameters')" href="../../_functions/get_gradingform_instances_parameters.html" onMouseOver="funcPopup(event,'get_gradingform_instances_parameters')">get_gradingform_instances_parameters</a>() {
<a name="l302"><span class="linenum"> 302</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l303"><span class="linenum"> 303</span></a>              array(
<a name="l304"><span class="linenum"> 304</span></a>                  'definitionid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'definition id'),
<a name="l305"><span class="linenum"> 305</span></a>                  'since' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submitted since', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l306"><span class="linenum"> 306</span></a>              )
<a name="l307"><span class="linenum"> 307</span></a>          );
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <span class="comment">/**</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * Returns the instances and fillings for the requested definition id</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     *</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * @param int $definitionid</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @param int $since only return instances with timemodified &gt;= since</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @return array of grading instances with fillings for the definition id</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     */</span>
<a name="l318"><span class="linenum"> 318</span></a>      public static function <a class="function" onClick="logFunction('get_gradingform_instances')" href="../../_functions/get_gradingform_instances.html" onMouseOver="funcPopup(event,'get_gradingform_instances')">get_gradingform_instances</a>(<a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>, <a class="var it9468" onMouseOver="hilite(9468)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a> = 0) {
<a name="l319"><span class="linenum"> 319</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l320"><span class="linenum"> 320</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/form/lib.php&quot;);
<a name="l321"><span class="linenum"> 321</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_gradingform_instances_parameters')" href="../../_functions/get_gradingform_instances_parameters.html" onMouseOver="funcPopup(event,'get_gradingform_instances_parameters')">get_gradingform_instances_parameters</a>(),
<a name="l322"><span class="linenum"> 322</span></a>              array('definitionid' =&gt; <a class="var it11712" onMouseOver="hilite(11712)" onMouseOut="lolite()" onClick="logVariable('definitionid')" href="../../_variables/definitionid.html">$definitionid</a>,
<a name="l323"><span class="linenum"> 323</span></a>                  'since' =&gt; <a class="var it9468" onMouseOver="hilite(9468)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a>));
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../../_variables/instances.html">$instances</a> = array();
<a name="l325"><span class="linenum"> 325</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_definitions',
<a name="l328"><span class="linenum"> 328</span></a>              array('id' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['definitionid']),
<a name="l329"><span class="linenum"> 329</span></a>              'areaid,method', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l330"><span class="linenum"> 330</span></a>          <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('grading_areas',
<a name="l331"><span class="linenum"> 331</span></a>              array('id' =&gt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('areaid')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/areaid.html">areaid</a>),
<a name="l332"><span class="linenum"> 332</span></a>              'contextid,component', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l333"><span class="linenum"> 333</span></a>  
<a name="l334"><span class="linenum"> 334</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('contextid')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a>);
<a name="l335"><span class="linenum"> 335</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:managegradingforms', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>          <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a> = <a class="function" onClick="logFunction('get_grading_manager')" href="../../_functions/get_grading_manager.html" onMouseOver="funcPopup(event,'get_grading_manager')">get_grading_manager</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('areaid')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/areaid.html">areaid</a>);
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a> = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_controller')" href="../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>);
<a name="l339"><span class="linenum"> 339</span></a>          <a class="var it14706" onMouseOver="hilite(14706)" onMouseOut="lolite()" onClick="logVariable('activeinstances')" href="../../_variables/activeinstances.html">$activeinstances</a> = <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a>-&gt;<a onClick="logVariable('get_all_active_instances')" class="var it44538" onMouseOver="hilite(44538)" onMouseOut="lolite()" href="../../_variables/get_all_active_instances.html">get_all_active_instances</a> (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['since']);
<a name="l340"><span class="linenum"> 340</span></a>          <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> = <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a>-&gt;<a class="function" onClick="logFunction('get_external_instance_filling_details')" href="../../_functions/get_external_instance_filling_details.html" onMouseOver="funcPopup(event,'get_external_instance_filling_details')">get_external_instance_filling_details</a>();
<a name="l341"><span class="linenum"> 341</span></a>          if (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> == null) {
<a name="l342"><span class="linenum"> 342</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l343"><span class="linenum"> 343</span></a>                  'item' =&gt; 'definition',
<a name="l344"><span class="linenum"> 344</span></a>                  'itemid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['definitionid'],
<a name="l345"><span class="linenum"> 345</span></a>                  'message' =&gt; 'Fillings unavailable because get_external_instance_filling_details is not defined',
<a name="l346"><span class="linenum"> 346</span></a>                  'warningcode' =&gt; '1'
<a name="l347"><span class="linenum"> 347</span></a>              );
<a name="l348"><span class="linenum"> 348</span></a>          }
<a name="l349"><span class="linenum"> 349</span></a>          <a class="var it14708" onMouseOver="hilite(14708)" onMouseOut="lolite()" onClick="logVariable('getfilling')" href="../../_variables/getfilling.html">$getfilling</a> = null;
<a name="l350"><span class="linenum"> 350</span></a>          if (<a class="phpfunction" onClick="logFunction('method_exists')" href="../../_functions/method_exists.html" onMouseOver="phpfuncPopup(event,'method_exists')">method_exists</a>('gradingform_'.<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>.'_instance', 'get_'.<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>.'_filling')) {
<a name="l351"><span class="linenum"> 351</span></a>              <a class="var it14708" onMouseOver="hilite(14708)" onMouseOut="lolite()" onClick="logVariable('getfilling')" href="../../_variables/getfilling.html">$getfilling</a> = 'get_'.<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>.'_filling';
<a name="l352"><span class="linenum"> 352</span></a>          } else {
<a name="l353"><span class="linenum"> 353</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l354"><span class="linenum"> 354</span></a>                  'item' =&gt; 'definition',
<a name="l355"><span class="linenum"> 355</span></a>                  'itemid' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['definitionid'],
<a name="l356"><span class="linenum"> 356</span></a>                  'message' =&gt; 'Fillings unavailable because get_'.<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>.'_filling is not defined',
<a name="l357"><span class="linenum"> 357</span></a>                  'warningcode' =&gt; '1'
<a name="l358"><span class="linenum"> 358</span></a>              );
<a name="l359"><span class="linenum"> 359</span></a>          }
<a name="l360"><span class="linenum"> 360</span></a>          foreach (<a class="var it14706" onMouseOver="hilite(14706)" onMouseOut="lolite()" onClick="logVariable('activeinstances')" href="../../_variables/activeinstances.html">$activeinstances</a> as <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>) {
<a name="l361"><span class="linenum"> 361</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = array();
<a name="l362"><span class="linenum"> 362</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['id'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_id')" href="../../_functions/get_id.html" onMouseOver="funcPopup(event,'get_id')">get_id</a>();
<a name="l363"><span class="linenum"> 363</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['raterid'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('raterid');
<a name="l364"><span class="linenum"> 364</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['itemid'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('itemid');
<a name="l365"><span class="linenum"> 365</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['rawgrade'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('rawgrade');
<a name="l366"><span class="linenum"> 366</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['status'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('status');
<a name="l367"><span class="linenum"> 367</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedback'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('feedback');
<a name="l368"><span class="linenum"> 368</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedbackformat'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('feedbackformat');
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">            // Format the feedback text field.</span>
<a name="l370"><span class="linenum"> 370</span></a>              <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a> = <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('feedback'),
<a name="l371"><span class="linenum"> 371</span></a>                  <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('feedbackformat'),
<a name="l372"><span class="linenum"> 372</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l373"><span class="linenum"> 373</span></a>                  <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('component')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/component.html">component</a>,
<a name="l374"><span class="linenum"> 374</span></a>                  'feedback',
<a name="l375"><span class="linenum"> 375</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['definitionid']);
<a name="l376"><span class="linenum"> 376</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedback'] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[0];
<a name="l377"><span class="linenum"> 377</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedbackformat'] = <a class="var it8368" onMouseOver="hilite(8368)" onMouseOut="lolite()" onClick="logVariable('formattedtext')" href="../../_variables/formattedtext.html">$formattedtext</a>[1];
<a name="l378"><span class="linenum"> 378</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['timemodified'] = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="function" onClick="logFunction('get_data')" href="../../_functions/get_data.html" onMouseOver="funcPopup(event,'get_data')">get_data</a>('timemodified');
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>              if (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> != null &amp;&amp; <a class="var it14708" onMouseOver="hilite(14708)" onMouseOut="lolite()" onClick="logVariable('getfilling')" href="../../_variables/getfilling.html">$getfilling</a> != null) {
<a name="l381"><span class="linenum"> 381</span></a>                  <a class="var it14710" onMouseOver="hilite(14710)" onMouseOut="lolite()" onClick="logVariable('fillingdata')" href="../../_variables/fillingdata.html">$fillingdata</a> = <a class="var it14709" onMouseOver="hilite(14709)" onMouseOut="lolite()" onClick="logVariable('activeinstance')" href="../../_variables/activeinstance.html">$activeinstance</a>-&gt;<a class="var it14708" onMouseOver="hilite(14708)" onMouseOut="lolite()" onClick="logVariable('getfilling')" href="../../_variables/getfilling.html">$getfilling</a>();
<a name="l382"><span class="linenum"> 382</span></a>                  <a class="var it14711" onMouseOver="hilite(14711)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a> = array();
<a name="l383"><span class="linenum"> 383</span></a>                  foreach (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l384"><span class="linenum"> 384</span></a>                      <a class="var it14711" onMouseOver="hilite(14711)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = self::<a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it14710" onMouseOver="hilite(14710)" onMouseOut="lolite()" onClick="logVariable('fillingdata')" href="../../_variables/fillingdata.html">$fillingdata</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>],
<a name="l385"><span class="linenum"> 385</span></a>                          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l386"><span class="linenum"> 386</span></a>                          <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>-&gt;<a onClick="logVariable('component')" class="var it44439" onMouseOver="hilite(44439)" onMouseOut="lolite()" href="../../_variables/component.html">component</a>,
<a name="l387"><span class="linenum"> 387</span></a>                          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['definitionid']);
<a name="l388"><span class="linenum"> 388</span></a>                  }
<a name="l389"><span class="linenum"> 389</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>[<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>-&gt;<a onClick="logVariable('method')" class="var it43208" onMouseOver="hilite(43208)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>] = <a class="var it14711" onMouseOver="hilite(14711)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>;
<a name="l390"><span class="linenum"> 390</span></a>              }
<a name="l391"><span class="linenum"> 391</span></a>              <a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../../_variables/instances.html">$instances</a>[] = <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>;
<a name="l392"><span class="linenum"> 392</span></a>          }
<a name="l393"><span class="linenum"> 393</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array(
<a name="l394"><span class="linenum"> 394</span></a>              'instances' =&gt; <a class="var it1025" onMouseOver="hilite(1025)" onMouseOut="lolite()" onClick="logVariable('instances')" href="../../_variables/instances.html">$instances</a>,
<a name="l395"><span class="linenum"> 395</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>
<a name="l396"><span class="linenum"> 396</span></a>          );
<a name="l397"><span class="linenum"> 397</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Creates a grading instance</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     */</span>
<a name="l406"><span class="linenum"> 406</span></a>      private static function <a class="function" onClick="logFunction('grading_instance')" href="../../_functions/grading_instance.html" onMouseOver="funcPopup(event,'grading_instance')">grading_instance</a>() {
<a name="l407"><span class="linenum"> 407</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l408"><span class="linenum"> 408</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = array();
<a name="l409"><span class="linenum"> 409</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['id']                = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'instance id');
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['raterid']           = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'rater id');
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['itemid']            = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'item id');
<a name="l412"><span class="linenum"> 412</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['rawgrade']          = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'raw grade', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['status']            = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'status');
<a name="l414"><span class="linenum"> 414</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedback']          = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'feedback', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l415"><span class="linenum"> 415</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['feedbackformat']    = <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('feedback', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>['timemodified']      = <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'modified time');
<a name="l417"><span class="linenum"> 417</span></a>          foreach (self::<a class="function" onClick="logFunction('get_grading_methods')" href="../../_functions/get_grading_methods.html" onMouseOver="funcPopup(event,'get_grading_methods')">get_grading_methods</a>() as <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l418"><span class="linenum"> 418</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'/lib.php');
<a name="l419"><span class="linenum"> 419</span></a>              <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>  = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_controller::get_external_instance_filling_details');
<a name="l420"><span class="linenum"> 420</span></a>              if (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> != null) {
<a name="l421"><span class="linenum"> 421</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l422"><span class="linenum"> 422</span></a>                  foreach (<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l423"><span class="linenum"> 423</span></a>                      <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>]-&gt;required = <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>;
<a name="l424"><span class="linenum"> 424</span></a>                      <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l425"><span class="linenum"> 425</span></a>                  }
<a name="l426"><span class="linenum"> 426</span></a>                  <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>[<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, 'items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l427"><span class="linenum"> 427</span></a>              }
<a name="l428"><span class="linenum"> 428</span></a>          }
<a name="l429"><span class="linenum"> 429</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>);
<a name="l430"><span class="linenum"> 430</span></a>      }
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>      <span class="comment">/**</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * Describes the get_gradingform_instances return value</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     *</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">     */</span>
<a name="l438"><span class="linenum"> 438</span></a>      public static function <a class="function" onClick="logFunction('get_gradingform_instances_returns')" href="../../_functions/get_gradingform_instances_returns.html" onMouseOver="funcPopup(event,'get_gradingform_instances_returns')">get_gradingform_instances_returns</a>() {
<a name="l439"><span class="linenum"> 439</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l440"><span class="linenum"> 440</span></a>              array(
<a name="l441"><span class="linenum"> 441</span></a>                  'instances' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('grading_instance')" href="../../_functions/grading_instance.html" onMouseOver="funcPopup(event,'grading_instance')">grading_instance</a>(), 'list of grading instances'),
<a name="l442"><span class="linenum"> 442</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l443"><span class="linenum"> 443</span></a>              )
<a name="l444"><span class="linenum"> 444</span></a>          );
<a name="l445"><span class="linenum"> 445</span></a>      }
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>      <span class="comment">/**</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * Describes the parameters for save_definitions</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     *</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     */</span>
<a name="l453"><span class="linenum"> 453</span></a>      public static function <a class="function" onClick="logFunction('save_definitions_parameters')" href="../../_functions/save_definitions_parameters.html" onMouseOver="funcPopup(event,'save_definitions_parameters')">save_definitions_parameters</a>() {
<a name="l454"><span class="linenum"> 454</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l455"><span class="linenum"> 455</span></a>              array(
<a name="l456"><span class="linenum"> 456</span></a>                  'areas' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('grading_area')" href="../../_functions/grading_area.html" onMouseOver="funcPopup(event,'grading_area')">grading_area</a>(), 'areas with definitions to save')
<a name="l457"><span class="linenum"> 457</span></a>              )
<a name="l458"><span class="linenum"> 458</span></a>          );
<a name="l459"><span class="linenum"> 459</span></a>      }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>      <span class="comment">/**</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * Saves the areas and definitions</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     * @param array $areas array of areas containing definitions to be saved</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * @return null</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * @throws invalid_parameter_exception</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     */</span>
<a name="l468"><span class="linenum"> 468</span></a>      public static function <a class="function" onClick="logFunction('save_definitions')" href="../../_functions/save_definitions.html" onMouseOver="funcPopup(event,'save_definitions')">save_definitions</a>(<a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>) {
<a name="l469"><span class="linenum"> 469</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_definitions_parameters')" href="../../_functions/save_definitions_parameters.html" onMouseOver="funcPopup(event,'save_definitions_parameters')">save_definitions_parameters</a>(),
<a name="l470"><span class="linenum"> 470</span></a>                                              array('areas' =&gt; <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>));
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['areas'] as <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>) {
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['contextid']);
<a name="l475"><span class="linenum"> 475</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/grade:managegradingforms', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l476"><span class="linenum"> 476</span></a>              <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a> = <a class="function" onClick="logFunction('get_grading_manager')" href="../../_functions/get_grading_manager.html" onMouseOver="funcPopup(event,'get_grading_manager')">get_grading_manager</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['component'], <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['areaname']);
<a name="l477"><span class="linenum"> 477</span></a>              <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('set_active_method')" href="../../_functions/set_active_method.html" onMouseOver="funcPopup(event,'set_active_method')">set_active_method</a>(<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['activemethod']);
<a name="l478"><span class="linenum"> 478</span></a>              <a class="var it14712" onMouseOver="hilite(14712)" onMouseOut="lolite()" onClick="logVariable('availablemethods')" href="../../_variables/availablemethods.html">$availablemethods</a> = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_available_methods')" href="../../_functions/get_available_methods.html" onMouseOver="funcPopup(event,'get_available_methods')">get_available_methods</a>();
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>              foreach (<a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('area')" href="../../_variables/area.html">$area</a>['definitions'] as <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>) {
<a name="l481"><span class="linenum"> 481</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method'], <a class="var it14712" onMouseOver="hilite(14712)" onMouseOut="lolite()" onClick="logVariable('availablemethods')" href="../../_variables/availablemethods.html">$availablemethods</a>)) {
<a name="l482"><span class="linenum"> 482</span></a>                      <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a> = <a class="var it14700" onMouseOver="hilite(14700)" onMouseOut="lolite()" onClick="logVariable('gradingmanager')" href="../../_variables/gradingmanager.html">$gradingmanager</a>-&gt;<a class="function" onClick="logFunction('get_controller')" href="../../_functions/get_controller.html" onMouseOver="funcPopup(event,'get_controller')">get_controller</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method']);
<a name="l483"><span class="linenum"> 483</span></a>                      <a class="var it585" onMouseOver="hilite(585)" onMouseOut="lolite()" onClick="logVariable('controller')" href="../../_variables/controller.html">$controller</a>-&gt;<a class="function" onClick="logFunction('update_definition')" href="../../_functions/update_definition.html" onMouseOver="funcPopup(event,'update_definition')">update_definition</a>(self::<a class="function" onClick="logFunction('create_definition_object')" href="../../_functions/create_definition_object.html" onMouseOver="funcPopup(event,'create_definition_object')">create_definition_object</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>));
<a name="l484"><span class="linenum"> 484</span></a>                  } else {
<a name="l485"><span class="linenum"> 485</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Unknown Grading method: '. <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method']);
<a name="l486"><span class="linenum"> 486</span></a>                  }
<a name="l487"><span class="linenum"> 487</span></a>              }
<a name="l488"><span class="linenum"> 488</span></a>          }
<a name="l489"><span class="linenum"> 489</span></a>      }
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>      <span class="comment">/**</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">     * Describes the return value for save_definitions</span>
<a name="l493"><span class="linenum"> 493</span></a>  <span class="comment">     *</span>
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">     */</span>
<a name="l497"><span class="linenum"> 497</span></a>      public static function <a class="function" onClick="logFunction('save_definitions_returns')" href="../../_functions/save_definitions_returns.html" onMouseOver="funcPopup(event,'save_definitions_returns')">save_definitions_returns</a>() {
<a name="l498"><span class="linenum"> 498</span></a>          return null;
<a name="l499"><span class="linenum"> 499</span></a>      }
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>      <span class="comment">/**</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     * Creates a definition stdClass object using the values from the definition</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     * array that is passed in as a parameter</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     *</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     * @param array $definition</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">     * @return stdClass definition object</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">     */</span>
<a name="l509"><span class="linenum"> 509</span></a>      private static function <a class="function" onClick="logFunction('create_definition_object')" href="../../_functions/create_definition_object.html" onMouseOver="funcPopup(event,'create_definition_object')">create_definition_object</a>(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>) {
<a name="l510"><span class="linenum"> 510</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>          <a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a> = <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['method'];
<a name="l513"><span class="linenum"> 513</span></a>          <a class="var it14713" onMouseOver="hilite(14713)" onMouseOut="lolite()" onClick="logVariable('definitionobject')" href="../../_variables/definitionobject.html">$definitionobject</a> = new stdClass();
<a name="l514"><span class="linenum"> 514</span></a>          foreach (<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l515"><span class="linenum"> 515</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>)) {
<a name="l516"><span class="linenum"> 516</span></a>                  <a class="var it14713" onMouseOver="hilite(14713)" onMouseOut="lolite()" onClick="logVariable('definitionobject')" href="../../_variables/definitionobject.html">$definitionobject</a>-&gt;<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l517"><span class="linenum"> 517</span></a>              }
<a name="l518"><span class="linenum"> 518</span></a>          }
<a name="l519"><span class="linenum"> 519</span></a>          <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = '';
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../_variables/format.html">$format</a> = <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l521"><span class="linenum"> 521</span></a>          if (isset(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description'])) {
<a name="l522"><span class="linenum"> 522</span></a>              <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a> = <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['description'];
<a name="l523"><span class="linenum"> 523</span></a>              if (isset(<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'])) {
<a name="l524"><span class="linenum"> 524</span></a>                  <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../_variables/format.html">$format</a> = <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>['descriptionformat'];
<a name="l525"><span class="linenum"> 525</span></a>              }
<a name="l526"><span class="linenum"> 526</span></a>          }
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it14713" onMouseOver="hilite(14713)" onMouseOut="lolite()" onClick="logVariable('definitionobject')" href="../../_variables/definitionobject.html">$definitionobject</a>-&gt;<a onClick="logVariable('description_editor')" class="var it44993" onMouseOver="hilite(44993)" onMouseOut="lolite()" href="../../_variables/description_editor.html">description_editor</a> = array('text' =&gt; <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../_variables/text.html">$text</a>, 'format' =&gt; <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../_variables/format.html">$format</a>);
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/filelib.php&quot;);
<a name="l530"><span class="linenum"> 530</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'/lib.php');
<a name="l531"><span class="linenum"> 531</span></a>          <a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>  = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_controller::get_external_definition_details');
<a name="l532"><span class="linenum"> 532</span></a>          <a class="var it14714" onMouseOver="hilite(14714)" onMouseOut="lolite()" onClick="logVariable('methodarray')" href="../../_variables/methodarray.html">$methodarray</a> = array();
<a name="l533"><span class="linenum"> 533</span></a>          foreach (<a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it1294" onMouseOver="hilite(1294)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>) as <a class="var it14715" onMouseOver="hilite(14715)" onMouseOut="lolite()" onClick="logVariable('definitionkey')" href="../../_variables/definitionkey.html">$definitionkey</a>) {
<a name="l534"><span class="linenum"> 534</span></a>              <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l535"><span class="linenum"> 535</span></a>              <a class="var it312" onMouseOver="hilite(312)" onMouseOut="lolite()" onClick="logVariable('idnumber')" href="../../_variables/idnumber.html">$idnumber</a> = 1;
<a name="l536"><span class="linenum"> 536</span></a>              foreach (<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('definition')" href="../../_variables/definition.html">$definition</a>[<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>][<a class="var it14715" onMouseOver="hilite(14715)" onMouseOut="lolite()" onClick="logVariable('definitionkey')" href="../../_variables/definitionkey.html">$definitionkey</a>] as <a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>) {
<a name="l537"><span class="linenum"> 537</span></a>                  <a class="var it14716" onMouseOver="hilite(14716)" onMouseOut="lolite()" onClick="logVariable('processeditem')" href="../../_variables/processeditem.html">$processeditem</a> = self::<a class="function" onClick="logFunction('set_new_ids')" href="../../_functions/set_new_ids.html" onMouseOver="funcPopup(event,'set_new_ids')">set_new_ids</a>(<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>, <a class="var it312" onMouseOver="hilite(312)" onMouseOut="lolite()" onClick="logVariable('idnumber')" href="../../_variables/idnumber.html">$idnumber</a>);
<a name="l538"><span class="linenum"> 538</span></a>                  <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it14716" onMouseOver="hilite(14716)" onMouseOut="lolite()" onClick="logVariable('processeditem')" href="../../_variables/processeditem.html">$processeditem</a>['id']] = <a class="var it14716" onMouseOver="hilite(14716)" onMouseOut="lolite()" onClick="logVariable('processeditem')" href="../../_variables/processeditem.html">$processeditem</a>;
<a name="l539"><span class="linenum"> 539</span></a>                  <a class="var it312" onMouseOver="hilite(312)" onMouseOut="lolite()" onClick="logVariable('idnumber')" href="../../_variables/idnumber.html">$idnumber</a>++;
<a name="l540"><span class="linenum"> 540</span></a>              }
<a name="l541"><span class="linenum"> 541</span></a>              <a class="var it14717" onMouseOver="hilite(14717)" onMouseOut="lolite()" onClick="logVariable('definitionobjectkey')" href="../../_variables/definitionobjectkey.html">$definitionobjectkey</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it14715" onMouseOver="hilite(14715)" onMouseOut="lolite()" onClick="logVariable('definitionkey')" href="../../_variables/definitionkey.html">$definitionkey</a>, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_'));
<a name="l542"><span class="linenum"> 542</span></a>              <a class="var it14714" onMouseOver="hilite(14714)" onMouseOut="lolite()" onClick="logVariable('methodarray')" href="../../_variables/methodarray.html">$methodarray</a>[<a class="var it14717" onMouseOver="hilite(14717)" onMouseOut="lolite()" onClick="logVariable('definitionobjectkey')" href="../../_variables/definitionobjectkey.html">$definitionobjectkey</a>] = <a class="var it644" onMouseOver="hilite(644)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>;
<a name="l543"><span class="linenum"> 543</span></a>              <a class="var it14713" onMouseOver="hilite(14713)" onMouseOut="lolite()" onClick="logVariable('definitionobject')" href="../../_variables/definitionobject.html">$definitionobject</a>-&gt;<a class="var it532" onMouseOver="hilite(532)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a> = <a class="var it14714" onMouseOver="hilite(14714)" onMouseOut="lolite()" onClick="logVariable('methodarray')" href="../../_variables/methodarray.html">$methodarray</a>;
<a name="l544"><span class="linenum"> 544</span></a>          }
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>          return <a class="var it14713" onMouseOver="hilite(14713)" onMouseOut="lolite()" onClick="logVariable('definitionobject')" href="../../_variables/definitionobject.html">$definitionobject</a>;
<a name="l547"><span class="linenum"> 547</span></a>      }
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>      <span class="comment">/**</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * Recursively iterates through arrays. Any array without an id key-value combination</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     * is assumed to be an array of values to be inserted and an id key-value is added with</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment">     * the value matching the regex '/^NEWID\d+$/' that is expected by each grading form implementation.</span>
<a name="l553"><span class="linenum"> 553</span></a>  <span class="comment">     *</span>
<a name="l554"><span class="linenum"> 554</span></a>  <span class="comment">     * @param array $arraytoset the array to be processed</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * @param int $startnumber the starting number for the new id numbers</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     * @return array with missing id keys added for all arrays</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     * @since Moodle 2.8</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     */</span>
<a name="l559"><span class="linenum"> 559</span></a>      private static function <a class="function" onClick="logFunction('set_new_ids')" href="../../_functions/set_new_ids.html" onMouseOver="funcPopup(event,'set_new_ids')">set_new_ids</a>(<a class="var it14718" onMouseOver="hilite(14718)" onMouseOut="lolite()" onClick="logVariable('arraytoset')" href="../../_variables/arraytoset.html">$arraytoset</a>, <a class="var it14719" onMouseOver="hilite(14719)" onMouseOut="lolite()" onClick="logVariable('startnumber')" href="../../_variables/startnumber.html">$startnumber</a>) {
<a name="l560"><span class="linenum"> 560</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l561"><span class="linenum"> 561</span></a>          <a class="var it14720" onMouseOver="hilite(14720)" onMouseOut="lolite()" onClick="logVariable('foundid')" href="../../_variables/foundid.html">$foundid</a> = false;
<a name="l562"><span class="linenum"> 562</span></a>          <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a> = <a class="var it14719" onMouseOver="hilite(14719)" onMouseOut="lolite()" onClick="logVariable('startnumber')" href="../../_variables/startnumber.html">$startnumber</a>;
<a name="l563"><span class="linenum"> 563</span></a>          foreach (<a class="var it14718" onMouseOver="hilite(14718)" onMouseOut="lolite()" onClick="logVariable('arraytoset')" href="../../_variables/arraytoset.html">$arraytoset</a> as <a class="var it9590" onMouseOver="hilite(9590)" onMouseOut="lolite()" onClick="logVariable('key1')" href="../../_variables/key1.html">$key1</a> =&gt; <a class="var it12433" onMouseOver="hilite(12433)" onMouseOut="lolite()" onClick="logVariable('value1')" href="../../_variables/value1.html">$value1</a>) {
<a name="l564"><span class="linenum"> 564</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it12433" onMouseOver="hilite(12433)" onMouseOut="lolite()" onClick="logVariable('value1')" href="../../_variables/value1.html">$value1</a>)) {
<a name="l565"><span class="linenum"> 565</span></a>                  foreach (<a class="var it12433" onMouseOver="hilite(12433)" onMouseOut="lolite()" onClick="logVariable('value1')" href="../../_variables/value1.html">$value1</a> as <a class="var it9591" onMouseOver="hilite(9591)" onMouseOut="lolite()" onClick="logVariable('key2')" href="../../_variables/key2.html">$key2</a> =&gt; <a class="var it14721" onMouseOver="hilite(14721)" onMouseOut="lolite()" onClick="logVariable('value2')" href="../../_variables/value2.html">$value2</a>) {
<a name="l566"><span class="linenum"> 566</span></a>                      <a class="var it14722" onMouseOver="hilite(14722)" onMouseOut="lolite()" onClick="logVariable('processedvalue')" href="../../_variables/processedvalue.html">$processedvalue</a> = self::<a class="function" onClick="logFunction('set_new_ids')" href="../../_functions/set_new_ids.html" onMouseOver="funcPopup(event,'set_new_ids')">set_new_ids</a>(<a class="var it14721" onMouseOver="hilite(14721)" onMouseOut="lolite()" onClick="logVariable('value2')" href="../../_variables/value2.html">$value2</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>);
<a name="l567"><span class="linenum"> 567</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it9590" onMouseOver="hilite(9590)" onMouseOut="lolite()" onClick="logVariable('key1')" href="../../_variables/key1.html">$key1</a>][<a class="var it14722" onMouseOver="hilite(14722)" onMouseOut="lolite()" onClick="logVariable('processedvalue')" href="../../_variables/processedvalue.html">$processedvalue</a>['id']] = <a class="var it14722" onMouseOver="hilite(14722)" onMouseOut="lolite()" onClick="logVariable('processedvalue')" href="../../_variables/processedvalue.html">$processedvalue</a>;
<a name="l568"><span class="linenum"> 568</span></a>                      <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>++;
<a name="l569"><span class="linenum"> 569</span></a>                  }
<a name="l570"><span class="linenum"> 570</span></a>              } else {
<a name="l571"><span class="linenum"> 571</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it9590" onMouseOver="hilite(9590)" onMouseOut="lolite()" onClick="logVariable('key1')" href="../../_variables/key1.html">$key1</a>] = <a class="var it12433" onMouseOver="hilite(12433)" onMouseOut="lolite()" onClick="logVariable('value1')" href="../../_variables/value1.html">$value1</a>;
<a name="l572"><span class="linenum"> 572</span></a>              }
<a name="l573"><span class="linenum"> 573</span></a>              if (<a class="var it9590" onMouseOver="hilite(9590)" onMouseOut="lolite()" onClick="logVariable('key1')" href="../../_variables/key1.html">$key1</a> === 'id') {
<a name="l574"><span class="linenum"> 574</span></a>                  <a class="var it14720" onMouseOver="hilite(14720)" onMouseOut="lolite()" onClick="logVariable('foundid')" href="../../_variables/foundid.html">$foundid</a> = true;
<a name="l575"><span class="linenum"> 575</span></a>              }
<a name="l576"><span class="linenum"> 576</span></a>          }
<a name="l577"><span class="linenum"> 577</span></a>          if (!<a class="var it14720" onMouseOver="hilite(14720)" onMouseOut="lolite()" onClick="logVariable('foundid')" href="../../_variables/foundid.html">$foundid</a>) {
<a name="l578"><span class="linenum"> 578</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = 'NEWID'.<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../_variables/number.html">$number</a>;
<a name="l579"><span class="linenum"> 579</span></a>          }
<a name="l580"><span class="linenum"> 580</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l581"><span class="linenum"> 581</span></a>      }
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_data': ['get_data', '', [['mod/scorm','mod_form.php',526],['mod/feedback/item/multichoicerated','multichoicerated_form.php',96],['backup/util/structure','restore_path_element.class.php',118],['admin/tool/uploaduser','user_form.php',399],['mod/feedback/item/textfield','textfield_form.php',58],['admin/tool/lp/classes/form','persistent.php',202],['grade/export','grade_export_form.php',206],['mod/feedback','mod_form.php',163],['message/tests','inbound_test.php',632],['mod/feedback/item/textarea','textarea_form.php',57],['mod/survey','mod_form.php',49],['lib/simplepie/library/SimplePie','Parser.php',263],['lib','formslib.php',606],['mod/feedback/item/numeric','numeric_form.php',60],['admin/tool/uploadcourse/classes','course.php',269],['mod/feedback/item','feedback_item_class.php',52],['mod/feedback/item','feedback_item_class.php',264],['admin/webservice','forms.php',299],['grade/grading/form','lib.php',841],['blocks/rss_client','editfeed.php',101],['mod/lesson','mod_form.php',417],['grade/grading/form/guide','edit_form.php',142],['course','editsection_form.php',105],['lib/classes/event','base.php',647],['grade/grading/form/rubric','edit_form.php',136],['mod/feedback/item','feedback_item_form_class.php',112],['admin/tool/filetypes','edit_form.php',97],['mod/forum','mod_form.php',270],['mod/scorm/report/graphs/classes','report.php',49],['lib/classes/message/inbound','address_manager.php',361],['mod/workshop','locallib.php',3990],['mod/glossary','mod_form.php',203],['mod/feedback/item/captcha','lib.php',67],['lib','completionlib.php',869],['mod/feedback/item/multichoice','multichoice_form.php',93],['mod/choice','mod_form.php',121]], 388],
'get_definition': ['get_definition', 'Returns the cache definition. ', [['cache/classes','loaders.php',889],['grade/grading/form','lib.php',246]], 32],
'update_definition': ['update_definition', 'Saves the defintion data into the database ', [['grade/grading/form','lib.php',290],['grade/grading/form/rubric','lib.php',92],['grade/grading/form/guide','lib.php',96]], 9],
'get_external_definition_details': ['get_external_definition_details', 'Overridden by sub classes that wish to make definition details available to web services. When not overridden, only definition data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the definition returned by the get_definition() function. For examples, look at: $gradingform_rubric_controller->get_external_definition_details() $gradingform_guide_controller->get_external_definition_details() ', [['grade/grading/form','lib.php',689],['grade/grading/form/rubric','lib.php',667],['grade/grading/form/guide','lib.php',670]], 1],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'get_definitions_parameters': ['get_definitions_parameters', 'Describes the parameters for get_definitions ', [['lib/classes','grading_external.php',36]], 1],
'available_methods': ['available_methods', 'Returns the list of installed grading plugins together, optionally extended with a simple direct grading. ', [['grade/grading','lib.php',241]], 7],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'save_definitions': ['save_definitions', 'Saves the areas and definitions ', [['lib/classes','grading_external.php',461]], 7],
'get_controller': ['get_controller', 'Returns the controller object. ', [['backup/util/ui','base_ui.class.php',302],['grade/grading','lib.php',488],['grade/grading/form','lib.php',832]], 72],
'get_external_instance_filling_details': ['get_external_instance_filling_details', 'Overridden by sub classes that wish to make instance filling details available to web services. When not overridden, only instance filling data common to all grading methods is made available. When overriding, the return value should be an array containing one or more key/value pairs. These key/value pairs should match the filling data returned by the get_<method>_filling() function in the gradingform_instance subclass. For examples, look at: $gradingform_rubric_controller->get_external_instance_filling_details() $gradingform_guide_controller->get_external_instance_filling_details() ', [['grade/grading/form','lib.php',705],['grade/grading/form/rubric','lib.php',691],['grade/grading/form/guide','lib.php',698]], 1],
'get_definitions_returns': ['get_definitions_returns', 'Describes the get_definitions return value ', [['lib/classes','grading_external.php',272]], 1],
'create_definition_object': ['create_definition_object', 'Creates a definition stdClass object using the values from the definition array that is passed in as a parameter ', [['lib/classes','grading_external.php',501]], 1],
'instance_by_id': ['instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','accesslib.php',5434]], 235],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'get_available_methods': ['get_available_methods', 'Returns the list of available grading methods in the given context ', [['grade/grading','lib.php',263]], 6],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'definition': ['definition', 'Overrides the abstract moodleform::definition method for defining what the form that is to be presented to the user. ', [['tag','edit_form.php',41],['admin/webservice','testclient_forms.php',7],['admin/webservice','testclient_forms.php',39],['admin/webservice','testclient_forms.php',123],['admin/webservice','testclient_forms.php',211],['grade/edit/outcome','import_outcomes_form.php',33],['report/eventlist/classes','filter_form.php',30],['course','completion_form.php',38],['mod/scorm','mod_form.php',26],['backup/util/ui','base_moodleform.class.php',93],['mod/feedback/item/multichoicerated','multichoicerated_form.php',22],['mod/workshop/eval','lib.php',78],['grade/edit/tree','grade_form.php',33],['mod/feedback/classes','complete_form.php',75],['mod/scorm','reportsettings_form.php',24],['mod/assign','extensionform.php',42],['admin/tool/lp/classes/form','competency.php',42],['grade/edit/tree','category_form.php',34],['mod/wiki','mod_form.php',44],['mod/lesson/pagetypes','numerical.php',281],['course','edit_form.php',16],['admin/tool/customlang','filter_form.php',33],['login','forgot_password_form.php',39],['admin/tool/uploadcourse/classes','step1_form.php',38],['login','signup_form.php',34],['mod/assign','mod_form.php',39],['admin/tool/lp/classes/form','plan.php',42],['mod/lti','register_form.php',41],['mod/lesson','view_form.php',42],['mod/imscp','mod_form.php',38],['mod/assign','submission_form.php',40],['mod/feedback','use_templ_form.php',32],['grade/report/singleview/classes/local/screen','tablelike.php',107],['course','reset_form.php',36],['mod/data','export_form.php',33],['admin/user','user_bulk_cohortadd_form.php',30],['lib/form/tests','dateselector_test.php',174],['mod/glossary','edit_form.php',10],['mod/lti','mod_form.php',56],['admin/tool/lp/classes/form','user_evidence.php',41],['mod/lesson','import_form.php',35],['group','group_form.php',39],['grade/report/grader','preferences_form.php',37],['admin/tool/uploaduser','user_form.php',38],['admin/tool/uploaduser','user_form.php',76],['admin/tool/uploadcourse/classes','step2_form.php',36],['search/classes/output/form','search.php',33],['question/type','edit_question_form.php',116],['admin/tool/dbtransfer','database_transfer_form.php',39],['mod/feedback/classes','course_select_form.php',52],['mod/feedback/item/label','label_form.php',23],['user/classes','course_form.php',44],['mod/feedback/item/captcha','captcha_form.php',22],['mod/forum/classes','prune_form.php',40],['message','send_form.php',39],['user','files_form.php',37],['admin/tool/task/classes','edit_scheduled_task_form.php',36],['mod/workshop/allocation/scheduled','settings_form.php',39],['mod/feedback/item/textfield','textfield_form.php',22],['mod/feedback','edit_form.php',34],['mod/feedback','edit_form.php',97],['grade/edit/settings','form.php',37],['login','restored_password_form.php',44],['question/type/random','edit_random_form.php',37],['lib/tests','formslib_test.php',616],['lib/tests','formslib_test.php',647],['lib/tests','formslib_test.php',658],['lib/tests','formslib_test.php',669],['lib/tests','formslib_test.php',680],['lib/tests','formslib_test.php',695],['lib/tests','formslib_test.php',710],['lib/tests','formslib_test.php',725],['lib/tests','formslib_test.php',740],['lib/tests','formslib_test.php',752],['lib/tests','formslib_test.php',767],['lib/tests','formslib_test.php',782],['lib/tests','formslib_test.php',800],['lib/tests','formslib_test.php',886],['lib/tests','formslib_test.php',898],['calendar','managesubscriptions_form.php',38],['question/type/calculated','datasetdefinitions_form.php',72],['mod/lesson/pagetypes','matching.php',530],['mod/data','import_form.php',11],['mod/workshop','feedbackauthor_form.php',32],['course/classes','editcategory_form.php',39],['question','move_form.php',39],['admin/tool/behat','steps_definitions_form.php',38],['filter','local_settings_form.php',39],['grade/export','grade_export_form.php',25],['mod/feedback','mod_form.php',34],['mod/feedback/item/info','info_form.php',22],['enrol/self/classes','empty_form.php',33],['mod/book/tool/importhtml','import_form.php',31],['enrol','users_forms.php',30],['enrol','users_forms.php',81],['enrol','users_forms.php',140],['lib/classes','grading_external.php',237],['grade/edit/tree','outcomeitem_form.php',32],['mod/glossary','import_form.php',10],['blog','edit_form.php',26],['mod/feedback/item/textarea','textarea_form.php',22],['mod/survey','mod_form.php',10],['mod/assign/feedback/offline','importgradesform.php',39],['mod/feedback/item/numeric','numeric_form.php',22],['mod/label','mod_form.php',32],['mod/chat','mod_form.php',25],['admin/mnet','peer_forms.php',36],['admin/mnet','peer_forms.php',74],['mod/lesson/pagetypes','multichoice.php',481],['mod/lesson/pagetypes','multichoice.php',542],['admin/roles/classes','preset_form.php',39],['badges','preferences_form.php',34],['calendar','event_form.php',42],['grade/export','key_form.php',35],['lib/editor/atto/plugins/managefiles','manage_form.php',40],['mod/scorm/report/interactions','responsessettings_form.php',30],['course','request_form.php',45],['course','request_form.php',136],['mod/quiz/report/statistics','statistics_form.php',39],['cohort','upload_form.php',44],['admin/tool/uploadcourse/classes','base_form.php',37],['mod/lesson','locallib.php',755],['repository','lib.php',2842],['repository','lib.php',2941],['user/profile','index_category_form.php',39],['admin/tool/generator/classes','make_testplan_form.php',38],['mod/assign','batchsetallocatedmarkerform.php',38],['mod/book','edit_form.php',31],['enrol','bulkchange_forms.php',37],['enrol','bulkchange_forms.php',101],['mod/assign','gradingoptionsform.php',39],['mod/assign','quickgradingform.php',39],['grade/edit/scale','edit_form.php',32],['blog','preferences_form.php',34],['mod/wiki','comments_form.php',10],['mod/lesson/pagetypes','truefalse.php',374],['admin/user','user_message_form.php',11],['mod/folder','edit_form.php',31],['mod/wiki','filesedit_form.php',30],['enrol','editenrolment_form.php',30],['admin/roles/classes','permission_prohibit_form.php',32],['mod/scorm/report/objectives','responsessettings_form.php',35],['admin/tool/profiling','import_form.php',30],['user','forum_form.php',42],['admin/webservice','forms.php',33],['admin/webservice','forms.php',59],['admin/webservice','forms.php',184],['admin/webservice','forms.php',227],['mod/assign','gradeform.php',43],['admin/tool/lp/classes/form','template.php',39],['mod/resource','mod_form.php',33],['backup','backupfilesedit_form.php',27],['admin/tool/lp/classes/form','template_cohorts.php',41],['user','editor_form.php',39],['grade/import/direct/classes','import_form.php',32],['admin/tool/dbtransfer','database_export_form.php',38],['grade/import/direct/classes','mapping_form.php',33],['mod/wiki','create_form.php',31],['mod/assign','batchsetmarkingworkflowstateform.php',38],['mod/workshop','submission_form.php',32],['mod/feedback','import_form.php',33],['grade/edit/letter','edit_form.php',33],['question','import_form.php',40],['admin/tool/lpmigrate/classes/form','migrate_framework.php',54],['admin/roles/classes','permission_allow_form.php',31],['admin/tool/assignmentupgrade','upgradableassignmentsbatchform.php',37],['course','tags_form.php',38],['cohort','edit_form.php',31],['admin/tool/cohortroles/classes/form','assign_role_cohort.php',42],['user','edit_form.php',39],['mod/quiz','addrandomform.php',39],['lib/form/tests','datetimeselector_test.php',188],['backup','restorefile_form.php',27],['mod/assignment','mod_form.php',38],['grade/import','key_form.php',35],['calendar','preferences_form.php',43],['grade/edit/outcome','edit_form.php',32],['admin/tool/monitor/classes','rule_form.php',39],['blocks/rss_client','editfeed.php',42],['admin/mnet','profilefields_form.php',38],['login','change_password_form.php',33],['mod/workshop/form','edit_form.php',43],['mod/folder','mod_form.php',31],['mod/wiki','edit_form.php',38],['mod/assign/feedback/offline','uploadgradesform.php',37],['admin/tool/replace/classes','form.php',33],['lib/editor/tinymce/plugins/managefiles','manage_form.php',39],['mod/quiz/report','attemptsreport_form.php',31],['mod/forum/classes','post_form.php',77],['user','language_form.php',39],['blocks/community','forms.php',37],['mod/lesson','essay_form.php',41],['mod/lesson','mod_form.php',51],['group','import_form.php',40],['grade/edit/tree','item_form.php',34],['admin/user','user_bulk_forms.php',7],['admin/user','user_bulk_forms.php',41],['grade/grading/form/guide','edit_form.php',41],['admin/tool/assignmentupgrade','paginationform.php',37],['user/profile','index_field_form.php',42],['admin/tool/installaddon/classes','installfromzip_form.php',38],['grade/report/history/classes','filter_form.php',43],['mod/assign','gradingbatchoperationsform.php',38],['mod/page','mod_form.php',33],['badges','edit_form.php',39],['badges','edit_form.php',199],['mod/data','preset_form.php',10],['mod/data','preset_form.php',27],['mod/data','preset_form.php',42],['mod/data','preset_form.php',53],['admin/tool/uploaduser','picture_form.php',31],['blocks','edit_form.php',60],['mod/lesson/pagetypes','shortanswer.php',353],['mod/feedback/classes','course_map_form.php',34],['mod/quiz','accessmanager_form.php',39],['question','export_form.php',40],['mod/workshop','mod_form.php',51],['grade/grading','pick_form.php',38],['course','editsection_form.php',19],['group','autogroup_form.php',41],['admin/tool/capability/classes','settings_form.php',39],['user/filters','user_filter_forms.php',35],['user/filters','user_filter_forms.php',69],['mod/url','mod_form.php',32],['mod/lesson/pagetypes','essay.php',301],['grade/import','grade_import_form.php',26],['grade/import','grade_import_form.php',89],['mod/workshop/form','assessment_form.php',40],['calendar/classes','export_form.php',40],['mod/lesson','override_form.php',80],['enrol/self','locallib.php',69],['grade/grading/form/rubric','edit_form.php',40],['group','grouping_form.php',41],['mod/feedback/item','feedback_item_form_class.php',22],['admin/mnet','services_form.php',36],['admin/tool/filetypes','edit_form.php',36],['mod/data','mod_form.php',10],['mod/workshop/allocation/random','settings_form.php',41],['admin/tool/lp/classes/form','competency_framework.php',41],['course','recent_form.php',33],['mod/forum','mod_form.php',32],['question','category_form.php',40],['mod/quiz/report/grading','gradingsettings_form.php',54],['admin/tool/generator/classes','make_course_form.php',38],['files','coursefilesedit_form.php',21],['mod/workshop','feedbackreviewer_form.php',32],['lib/portfolio','forms.php',48],['lib/portfolio','forms.php',159],['lib/portfolio','forms.php',266],['lib/portfolio','forms.php',315],['course/classes','deletecategory_form.php',45],['mod/book','mod_form.php',32],['mod/lti','edit_form.php',56],['question','previewlib.php',39],['lib/tests/fixtures','max_input_vars.php',38],['enrol','editinstance_form.php',38],['course/publish','forms.php',44],['course/publish','forms.php',96],['mod/glossary','mod_form.php',10],['mod/assign/feedback/file','uploadzipform.php',37],['grade/import/xml','grade_import_form.php',25],['enrol/guest','locallib.php',32],['grade/edit/tree','calculation_form.php',35],['mod/quiz','mod_form.php',61],['admin/tool/lp/classes/form','template_plans.php',41],['login','set_password_form.php',42],['mod/quiz','override_form.php',80],['notes','edit_form.php',25],['cache','forms.php',42],['cache','forms.php',131],['cache','forms.php',202],['cache','forms.php',281],['cache','forms.php',328],['admin/registration','forms.php',42],['admin/registration','forms.php',76],['admin/registration','forms.php',110],['admin/registration','forms.php',192],['blog','external_blog_edit_form.php',34],['user','editadvanced_form.php',39],['question/type/calculated','datasetitems_form.php',116],['mod/assign','submissionconfirmform.php',38],['mod/assign/feedback/file','batchuploadfilesform.php',38],['badges','criteria_form.php',37],['mod/assign/feedback/file','importzipform.php',39],['mod/feedback/item/multichoice','multichoice_form.php',22],['mod/choice','mod_form.php',10],['admin/tool/messageinbound/classes','edit_handler_form.php',37],['badges','backpack_form.php',38],['badges','backpack_form.php',101]], 19],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'format_text': ['format_text', 'Formats a text string coming from the search engine. ', [['search/classes','document.php',606],['lib/classes','grading_external.php',182],['search/engine/solr/classes','document.php',129],['lib','weblib.php',1158],['lib','tablelib.php',860],['lib','tablelib.php',1667],['question/type','questionbase.php',345]], 322],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'set_active_method': ['set_active_method', 'Sets the currently active grading method in the gradable area ', [['grade/grading','lib.php',360]], 6],
'get_coursemodule_from_id': ['get_coursemodule_from_id', 'Given an id of a course module, finds the coursemodule description ', [['lib','datalib.php',1238]], 212],
'grading_area': ['grading_area', 'Creates a grading area ', [['lib/classes','grading_external.php',219]], 2],
'save_definitions_parameters': ['save_definitions_parameters', 'Describes the parameters for save_definitions ', [['lib/classes','grading_external.php',447]], 1],
'get_gradingform_instances_parameters': ['get_gradingform_instances_parameters', 'Describes the parameters for get_gradingform_instances ', [['lib/classes','grading_external.php',295]], 1],
'grading_instance': ['grading_instance', 'Creates a grading instance ', [['lib/classes','grading_external.php',400]], 1],
'save_definitions_returns': ['save_definitions_returns', 'Describes the return value for save_definitions ', [['lib/classes','grading_external.php',491]], 0],
'set_new_ids': ['set_new_ids', 'Recursively iterates through arrays. Any array without an id key-value combination is assumed to be an array of values to be inserted and an id key-value is added with the value matching the regex \'/^NEWID\d+$/\' that is expected by each grading form implementation. ', [['lib/classes','grading_external.php',549]], 2],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'get_grading_manager': ['get_grading_manager', 'Factory method returning an instance of the grading manager ', [['grade/grading','lib.php',27]], 37],
'get_gradingform_instances': ['get_gradingform_instances', 'Returns the instances and fillings for the requested definition id ', [['lib/classes','grading_external.php',310]], 1],
'get_definitions': ['get_definitions', 'Returns the definitions for the requested course module ids ', [['lib/classes','grading_external.php',52],['cache/classes','config.php',389]], 11],
'get_gradingform_instances_returns': ['get_gradingform_instances_returns', 'Describes the get_gradingform_instances return value ', [['lib/classes','grading_external.php',432]], 1],
'get_id': ['get_id', 'Getter for $id. ', [['lib/classes/task','adhoc_task.php',51],['backup/converter','convertlib.php',100],['lib/filebrowser','virtual_root_file.php',290],['lib','adminlib.php',1719],['admin/tool/uploadcourse/classes','course.php',335],['lib/simplepie/library/SimplePie','Item.php',199],['lib/filestorage','stored_file.php',786],['cache/classes','definition.php',613],['grade/grading/form','lib.php',854],['question/engine','questionusage.php',120],['mod/lti/classes/local/ltiservice','service_base.php',76],['blocks/rss_client/classes/output','item.php',152],['backup/controller','backup_controller.class.php',263],['question/engine','questionattemptstep.php',136],['mod/lti/classes/local/ltiservice','resource_base.php',81]], 2250],
'get_grading_methods': ['get_grading_methods', '', [['lib/classes','grading_external.php',290]], 2],
'get_active_method': ['get_active_method', 'Returns the currently active grading method in the gradable area ', [['grade/grading','lib.php',333]], 15],
'array_keys': ['array_keys', '', [], 1256],
'array_key_exists': ['array_key_exists', '', [], 1445],
'defined': ['defined', '', [], 4731],
'call_user_func': ['call_user_func', '', [], 113],
'substr_compare': ['substr_compare', '', [], 1],
'substr': ['substr', '', [], 2823],
'method_exists': ['method_exists', '', [], 265],
'is_array': ['is_array', '', [], 1608]};
CLASS_DATA={
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'grading_manager': ['grading_manager', 'General class providing access to common grading features ', [['grade/grading','lib.php',76]], 10],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'core_grading_external': ['core_grading_external', 'core grading functions ', [['lib/classes','grading_external.php',31]], 11],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',259]], 88],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106]};
CONST_DATA={
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'PARAM_AREA': ['PARAM_AREA', '', [['lib','moodlelib.php',317]], 47],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 506],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
