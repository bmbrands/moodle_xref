<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/xhprof/xhprof_lib/utils/callgraph_utils.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='lib/xhprof/xhprof_lib/utils';
filename='callgraph_utils.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/xhprof/xhprof_lib/utils/</a> -> <a href="callgraph_utils.php.html">callgraph_utils.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="callgraph_utils.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="callgraph_utils.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">//  Copyright (c) 2009 Facebook</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">//  you may not use this file except in compliance with the License.</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">//  You may obtain a copy of the License at</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">//</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//      http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">//  Unless required by applicable law or agreed to in writing, software</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">//  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//  See the License for the specific language governing permissions and</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//  limitations under the License.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">//</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/*</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file contains callgraph image generation related XHProf utility</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * functions</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> */</span>
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">// Supported ouput format</span>
<a name="l24"><span class="linenum">  24</span></a>  <a class="var it36394" onMouseOver="hilite(36394)" onMouseOut="lolite()" onClick="logVariable('xhprof_legal_image_types')" href="../../../../_variables/xhprof_legal_image_types.html">$xhprof_legal_image_types</a> = array(
<a name="l25"><span class="linenum">  25</span></a>      &quot;jpg&quot; =&gt; 1,
<a name="l26"><span class="linenum">  26</span></a>      &quot;gif&quot; =&gt; 1,
<a name="l27"><span class="linenum">  27</span></a>      &quot;png&quot; =&gt; 1,
<a name="l28"><span class="linenum">  28</span></a>      &quot;svg&quot; =&gt; 1, // support scalable vector graphic
<a name="l29"><span class="linenum">  29</span></a>      &quot;ps&quot;  =&gt; 1,
<a name="l30"><span class="linenum">  30</span></a>      );
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Send an HTTP header with the response. You MUST use this function instead</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * of header() so that we can debug header issues because they're virtually</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * impossible to debug otherwise. If you try to commit header(), SVN will</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * reject your commit.</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @param string  HTTP header name, like 'Location'</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @param string  HTTP header value, like 'http://www.example.com/'</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> */</span>
<a name="l42"><span class="linenum">  42</span></a>  function <a class="function" onClick="logFunction('xhprof_http_header')" href="../../../../_functions/xhprof_http_header.html" onMouseOver="funcPopup(event,'xhprof_http_header')">xhprof_http_header</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>    if (!<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>) {
<a name="l45"><span class="linenum">  45</span></a>      <a class="function" onClick="logFunction('xhprof_error')" href="../../../../_functions/xhprof_error.html" onMouseOver="funcPopup(event,'xhprof_error')">xhprof_error</a>('http_header usage');
<a name="l46"><span class="linenum">  46</span></a>      return null;
<a name="l47"><span class="linenum">  47</span></a>    }
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>    if (!<a class="phpfunction" onClick="logFunction('is_string')" href="../../../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>)) {
<a name="l50"><span class="linenum">  50</span></a>      <a class="function" onClick="logFunction('xhprof_error')" href="../../../../_functions/xhprof_error.html" onMouseOver="funcPopup(event,'xhprof_error')">xhprof_error</a>('http_header value not a string');
<a name="l51"><span class="linenum">  51</span></a>    }
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>    <a class="phpfunction" onClick="logFunction('header')" href="../../../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>.': '.<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>, true);
<a name="l54"><span class="linenum">  54</span></a>  }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * Genearte and send MIME header for the output image to client browser.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @author cjiang</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> */</span>
<a name="l61"><span class="linenum">  61</span></a>  function <a class="function" onClick="logFunction('xhprof_generate_mime_header')" href="../../../../_functions/xhprof_generate_mime_header.html" onMouseOver="funcPopup(event,'xhprof_generate_mime_header')">xhprof_generate_mime_header</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../../../_variables/length.html">$length</a>) {
<a name="l62"><span class="linenum">  62</span></a>    switch (<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>) {
<a name="l63"><span class="linenum">  63</span></a>      case 'jpg':
<a name="l64"><span class="linenum">  64</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = 'image/jpeg';
<a name="l65"><span class="linenum">  65</span></a>        break;
<a name="l66"><span class="linenum">  66</span></a>      case 'gif':
<a name="l67"><span class="linenum">  67</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = 'image/gif';
<a name="l68"><span class="linenum">  68</span></a>        break;
<a name="l69"><span class="linenum">  69</span></a>      case 'png':
<a name="l70"><span class="linenum">  70</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = 'image/png';
<a name="l71"><span class="linenum">  71</span></a>        break;
<a name="l72"><span class="linenum">  72</span></a>      case 'svg':
<a name="l73"><span class="linenum">  73</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = 'image/svg+xml'; <span class="comment">// content type for scalable vector graphic</span>
<a name="l74"><span class="linenum">  74</span></a>        break;
<a name="l75"><span class="linenum">  75</span></a>      case 'ps':
<a name="l76"><span class="linenum">  76</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = 'application/postscript';
<a name="l77"><span class="linenum">  77</span></a>      default:
<a name="l78"><span class="linenum">  78</span></a>        <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a> = false;
<a name="l79"><span class="linenum">  79</span></a>    }
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>    if (<a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a>) {
<a name="l82"><span class="linenum">  82</span></a>      <a class="function" onClick="logFunction('xhprof_http_header')" href="../../../../_functions/xhprof_http_header.html" onMouseOver="funcPopup(event,'xhprof_http_header')">xhprof_http_header</a>('Content-type', <a class="var it8198" onMouseOver="hilite(8198)" onMouseOut="lolite()" onClick="logVariable('mime')" href="../../../../_variables/mime.html">$mime</a>);
<a name="l83"><span class="linenum">  83</span></a>      <a class="function" onClick="logFunction('xhprof_http_header')" href="../../../../_functions/xhprof_http_header.html" onMouseOver="funcPopup(event,'xhprof_http_header')">xhprof_http_header</a>('Content-length', (string)<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('length')" href="../../../../_variables/length.html">$length</a>);
<a name="l84"><span class="linenum">  84</span></a>    }
<a name="l85"><span class="linenum">  85</span></a>  }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> * Generate image according to DOT script. This function will spawn a process</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * with &quot;dot&quot; command and pipe the &quot;dot_script&quot; to it and pipe out the</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> * generated image content.</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> *</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> * @param dot_script, string, the script for DOT to generate the image.</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * @param type, one of the supported image types, see</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * $xhprof_legal_image_types.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> * @returns, binary content of the generated image on success. empty string on</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment"> *           failure.</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment"> *</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment"> * @author cjiang</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment"> */</span>
<a name="l100"><span class="linenum"> 100</span></a>  function <a class="function" onClick="logFunction('xhprof_generate_image_by_dot')" href="../../../../_functions/xhprof_generate_image_by_dot.html" onMouseOver="funcPopup(event,'xhprof_generate_image_by_dot')">xhprof_generate_image_by_dot</a>(<a class="var it36395" onMouseOver="hilite(36395)" onMouseOut="lolite()" onClick="logVariable('dot_script')" href="../../../../_variables/dot_script.html">$dot_script</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>) {
<a name="l101"><span class="linenum"> 101</span></a>    <a class="var it36396" onMouseOver="hilite(36396)" onMouseOut="lolite()" onClick="logVariable('descriptorspec')" href="../../../../_variables/descriptorspec.html">$descriptorspec</a> = array(
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">       // stdin is a pipe that the child will read from</span>
<a name="l103"><span class="linenum"> 103</span></a>         0 =&gt; array(&quot;pipe&quot;, &quot;r&quot;),
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">       // stdout is a pipe that the child will write to</span>
<a name="l105"><span class="linenum"> 105</span></a>         1 =&gt; array(&quot;pipe&quot;, &quot;w&quot;),
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">       // stderr is a pipe that the child will write to</span>
<a name="l107"><span class="linenum"> 107</span></a>         2 =&gt; array(&quot;pipe&quot;, &quot;w&quot;)
<a name="l108"><span class="linenum"> 108</span></a>         );
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">  // Start moodle modification: use $CFG-&gt;pathtodot for executing this.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">  // $cmd = &quot; dot -T&quot;.$type;</span>
<a name="l112"><span class="linenum"> 112</span></a>    global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>;
<a name="l113"><span class="linenum"> 113</span></a>    <a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../../../_variables/cmd.html">$cmd</a> = (!empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('pathtodot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../../_variables/pathtodot.html">pathtodot</a>) ? <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('pathtodot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../../_variables/pathtodot.html">pathtodot</a> : 'dot') . ' -T' . <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>;
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">  // End moodle modification.</span>
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>    <a class="var it4483" onMouseOver="hilite(4483)" onMouseOut="lolite()" onClick="logVariable('process')" href="../../../../_variables/process.html">$process</a> = <a class="phpfunction" onClick="logFunction('proc_open')" href="../../../../_functions/proc_open.html" onMouseOver="phpfuncPopup(event,'proc_open')">proc_open</a>(<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../../../_variables/cmd.html">$cmd</a>, <a class="var it36396" onMouseOver="hilite(36396)" onMouseOut="lolite()" onClick="logVariable('descriptorspec')" href="../../../../_variables/descriptorspec.html">$descriptorspec</a>, <a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>, &quot;/tmp&quot;, array());
<a name="l117"><span class="linenum"> 117</span></a>    if (<a class="phpfunction" onClick="logFunction('is_resource')" href="../../../../_functions/is_resource.html" onMouseOver="phpfuncPopup(event,'is_resource')">is_resource</a>(<a class="var it4483" onMouseOver="hilite(4483)" onMouseOut="lolite()" onClick="logVariable('process')" href="../../../../_variables/process.html">$process</a>)) {
<a name="l118"><span class="linenum"> 118</span></a>      <a class="phpfunction" onClick="logFunction('fwrite')" href="../../../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[0], <a class="var it36395" onMouseOver="hilite(36395)" onMouseOut="lolite()" onClick="logVariable('dot_script')" href="../../../../_variables/dot_script.html">$dot_script</a>);
<a name="l119"><span class="linenum"> 119</span></a>      <a class="phpfunction" onClick="logFunction('fclose')" href="../../../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[0]);
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>      <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="phpfunction" onClick="logFunction('stream_get_contents')" href="../../../../_functions/stream_get_contents.html" onMouseOver="phpfuncPopup(event,'stream_get_contents')">stream_get_contents</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[1]);
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>      <a class="var it210" onMouseOver="hilite(210)" onMouseOut="lolite()" onClick="logVariable('err')" href="../../../../_variables/err.html">$err</a> = <a class="phpfunction" onClick="logFunction('stream_get_contents')" href="../../../../_functions/stream_get_contents.html" onMouseOver="phpfuncPopup(event,'stream_get_contents')">stream_get_contents</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[2]);
<a name="l124"><span class="linenum"> 124</span></a>      if (!empty(<a class="var it210" onMouseOver="hilite(210)" onMouseOut="lolite()" onClick="logVariable('err')" href="../../../../_variables/err.html">$err</a>)) {
<a name="l125"><span class="linenum"> 125</span></a>        print &quot;failed to execute cmd: \&quot;<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../../../_variables/cmd.html">$cmd</a>\&quot;. stderr: `<a class="var it210" onMouseOver="hilite(210)" onMouseOut="lolite()" onClick="logVariable('err')" href="../../../../_variables/err.html">$err</a>'\n&quot;;
<a name="l126"><span class="linenum"> 126</span></a>        exit;
<a name="l127"><span class="linenum"> 127</span></a>      }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <a class="phpfunction" onClick="logFunction('fclose')" href="../../../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[2]);
<a name="l130"><span class="linenum"> 130</span></a>      <a class="phpfunction" onClick="logFunction('fclose')" href="../../../../_functions/fclose.html" onMouseOver="phpfuncPopup(event,'fclose')">fclose</a>(<a class="var it27095" onMouseOver="hilite(27095)" onMouseOut="lolite()" onClick="logVariable('pipes')" href="../../../../_variables/pipes.html">$pipes</a>[1]);
<a name="l131"><span class="linenum"> 131</span></a>      <a class="phpfunction" onClick="logFunction('proc_close')" href="../../../../_functions/proc_close.html" onMouseOver="phpfuncPopup(event,'proc_close')">proc_close</a>(<a class="var it4483" onMouseOver="hilite(4483)" onMouseOut="lolite()" onClick="logVariable('process')" href="../../../../_variables/process.html">$process</a>);
<a name="l132"><span class="linenum"> 132</span></a>      return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l133"><span class="linenum"> 133</span></a>    }
<a name="l134"><span class="linenum"> 134</span></a>    print &quot;failed to execute cmd \&quot;<a class="var it4480" onMouseOver="hilite(4480)" onMouseOut="lolite()" onClick="logVariable('cmd')" href="../../../../_variables/cmd.html">$cmd</a>\&quot;&quot;;
<a name="l135"><span class="linenum"> 135</span></a>    exit();
<a name="l136"><span class="linenum"> 136</span></a>  }
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">/*</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment"> * Get the children list of all nodes.</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> */</span>
<a name="l141"><span class="linenum"> 141</span></a>  function <a class="function" onClick="logFunction('xhprof_get_children_table')" href="../../../../_functions/xhprof_get_children_table.html" onMouseOver="funcPopup(event,'xhprof_get_children_table')">xhprof_get_children_table</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>) {
<a name="l142"><span class="linenum"> 142</span></a>    <a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a> = array();
<a name="l143"><span class="linenum"> 143</span></a>    foreach (<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a> as <a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l144"><span class="linenum"> 144</span></a>      <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>, <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>) = <a class="function" onClick="logFunction('xhprof_parse_parent_child')" href="../../../../_functions/xhprof_parse_parent_child.html" onMouseOver="funcPopup(event,'xhprof_parse_parent_child')">xhprof_parse_parent_child</a>(<a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a>);
<a name="l145"><span class="linenum"> 145</span></a>      if (!isset(<a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>])) {
<a name="l146"><span class="linenum"> 146</span></a>        <a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>] = array(<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>);
<a name="l147"><span class="linenum"> 147</span></a>      } else {
<a name="l148"><span class="linenum"> 148</span></a>        <a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>][] = <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>;
<a name="l149"><span class="linenum"> 149</span></a>      }
<a name="l150"><span class="linenum"> 150</span></a>    }
<a name="l151"><span class="linenum"> 151</span></a>    return <a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>;
<a name="l152"><span class="linenum"> 152</span></a>  }
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">/**</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> * Generate DOT script from the given raw phprof data.</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment"> *</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment"> * @param raw_data, phprof profile data.</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment"> * @param threshold, float, the threshold value [0,1). The functions in the</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment"> *                   raw_data whose exclusive wall times ratio are below the</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment"> *                   threshold will be filtered out and won't apprear in the</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment"> *                   generated image.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment"> * @param page, string(optional), the root node name. This can be used to</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> *              replace the 'main()' as the root node.</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> * @param func, string, the focus function.</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment"> * @param critical_path, bool, whether or not to display critical path with</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment"> *                             bold lines.</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment"> * @returns, string, the DOT script to generate image.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment"> *</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment"> * @author cjiang</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment"> */</span>
<a name="l171"><span class="linenum"> 171</span></a>  function <a class="function" onClick="logFunction('xhprof_generate_dot_script')" href="../../../../_functions/xhprof_generate_dot_script.html" onMouseOver="funcPopup(event,'xhprof_generate_dot_script')">xhprof_generate_dot_script</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>, <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>,
<a name="l172"><span class="linenum"> 172</span></a>                                      <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>, <a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>, <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>=null,
<a name="l173"><span class="linenum"> 173</span></a>                                      <a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>=null) {
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>    <a class="var it36400" onMouseOver="hilite(36400)" onMouseOut="lolite()" onClick="logVariable('max_width')" href="../../../../_variables/max_width.html">$max_width</a> = 5;
<a name="l176"><span class="linenum"> 176</span></a>    <a class="var it36401" onMouseOver="hilite(36401)" onMouseOut="lolite()" onClick="logVariable('max_height')" href="../../../../_variables/max_height.html">$max_height</a> = 3.5;
<a name="l177"><span class="linenum"> 177</span></a>    <a class="var it36402" onMouseOver="hilite(36402)" onMouseOut="lolite()" onClick="logVariable('max_fontsize')" href="../../../../_variables/max_fontsize.html">$max_fontsize</a> = 35;
<a name="l178"><span class="linenum"> 178</span></a>    <a class="var it36403" onMouseOver="hilite(36403)" onMouseOut="lolite()" onClick="logVariable('max_sizing_ratio')" href="../../../../_variables/max_sizing_ratio.html">$max_sizing_ratio</a> = 20;
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>    <a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>;
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>    if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a> === null) {
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">    // init_metrics($raw_data, null, null);</span>
<a name="l184"><span class="linenum"> 184</span></a>    }
<a name="l185"><span class="linenum"> 185</span></a>    <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a> = <a class="function" onClick="logFunction('xhprof_compute_flat_info')" href="../../../../_functions/xhprof_compute_flat_info.html" onMouseOver="funcPopup(event,'xhprof_compute_flat_info')">xhprof_compute_flat_info</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>, <a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>);
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>    if (<a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>) {
<a name="l188"><span class="linenum"> 188</span></a>      <a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a> = <a class="function" onClick="logFunction('xhprof_get_children_table')" href="../../../../_functions/xhprof_get_children_table.html" onMouseOver="funcPopup(event,'xhprof_get_children_table')">xhprof_get_children_table</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>);
<a name="l189"><span class="linenum"> 189</span></a>      <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a> = &quot;main()&quot;;
<a name="l190"><span class="linenum"> 190</span></a>      <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../_variables/path.html">$path</a> = array();
<a name="l191"><span class="linenum"> 191</span></a>      <a class="var it36405" onMouseOver="hilite(36405)" onMouseOut="lolite()" onClick="logVariable('path_edges')" href="../../../../_variables/path_edges.html">$path_edges</a> = array();
<a name="l192"><span class="linenum"> 192</span></a>      <a class="var it17356" onMouseOver="hilite(17356)" onMouseOut="lolite()" onClick="logVariable('visited')" href="../../../../_variables/visited.html">$visited</a> = array();
<a name="l193"><span class="linenum"> 193</span></a>      while (<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>) {
<a name="l194"><span class="linenum"> 194</span></a>        <a class="var it17356" onMouseOver="hilite(17356)" onMouseOut="lolite()" onClick="logVariable('visited')" href="../../../../_variables/visited.html">$visited</a>[<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>] = true;
<a name="l195"><span class="linenum"> 195</span></a>        if (isset(<a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>[<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>])) {
<a name="l196"><span class="linenum"> 196</span></a>          <a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a> = null;
<a name="l197"><span class="linenum"> 197</span></a>          foreach (<a class="var it36398" onMouseOver="hilite(36398)" onMouseOut="lolite()" onClick="logVariable('children_table')" href="../../../../_variables/children_table.html">$children_table</a>[<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>] as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>) {
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>            if (isset(<a class="var it17356" onMouseOver="hilite(17356)" onMouseOut="lolite()" onClick="logVariable('visited')" href="../../../../_variables/visited.html">$visited</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>])) {
<a name="l200"><span class="linenum"> 200</span></a>              continue;
<a name="l201"><span class="linenum"> 201</span></a>            }
<a name="l202"><span class="linenum"> 202</span></a>            if (<a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a> === null ||
<a name="l203"><span class="linenum"> 203</span></a>              <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>[<a class="function" onClick="logFunction('xhprof_build_parent_child_key')" href="../../../../_functions/xhprof_build_parent_child_key.html" onMouseOver="funcPopup(event,'xhprof_build_parent_child_key')">xhprof_build_parent_child_key</a>(<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>,
<a name="l204"><span class="linenum"> 204</span></a>                                                          <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>)][&quot;wt&quot;]) &gt;
<a name="l205"><span class="linenum"> 205</span></a>              <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>[<a class="function" onClick="logFunction('xhprof_build_parent_child_key')" href="../../../../_functions/xhprof_build_parent_child_key.html" onMouseOver="funcPopup(event,'xhprof_build_parent_child_key')">xhprof_build_parent_child_key</a>(<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>,
<a name="l206"><span class="linenum"> 206</span></a>                                                          <a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a>)][&quot;wt&quot;])) {
<a name="l207"><span class="linenum"> 207</span></a>              <a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a> = <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>;
<a name="l208"><span class="linenum"> 208</span></a>            }
<a name="l209"><span class="linenum"> 209</span></a>          }
<a name="l210"><span class="linenum"> 210</span></a>          if (<a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a> !== null) {
<a name="l211"><span class="linenum"> 211</span></a>            <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../_variables/path.html">$path</a>[<a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a>] = true;
<a name="l212"><span class="linenum"> 212</span></a>            <a class="var it36405" onMouseOver="hilite(36405)" onMouseOut="lolite()" onClick="logVariable('path_edges')" href="../../../../_variables/path_edges.html">$path_edges</a>[<a class="function" onClick="logFunction('xhprof_build_parent_child_key')" href="../../../../_functions/xhprof_build_parent_child_key.html" onMouseOver="funcPopup(event,'xhprof_build_parent_child_key')">xhprof_build_parent_child_key</a>(<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a>, <a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a>)] = true;
<a name="l213"><span class="linenum"> 213</span></a>          }
<a name="l214"><span class="linenum"> 214</span></a>          <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a> = <a class="var it36406" onMouseOver="hilite(36406)" onMouseOut="lolite()" onClick="logVariable('max_child')" href="../../../../_variables/max_child.html">$max_child</a>;
<a name="l215"><span class="linenum"> 215</span></a>        } else {
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../../../_variables/node.html">$node</a> = null;
<a name="l217"><span class="linenum"> 217</span></a>        }
<a name="l218"><span class="linenum"> 218</span></a>      }
<a name="l219"><span class="linenum"> 219</span></a>    }
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">  // if it is a benchmark callgraph, we make the benchmarked function the root.</span>
<a name="l222"><span class="linenum"> 222</span></a>   if (<a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a> == &quot;bm&quot; &amp;&amp; <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(&quot;main()&quot;, <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>)) {
<a name="l223"><span class="linenum"> 223</span></a>      <a class="var it36407" onMouseOver="hilite(36407)" onMouseOut="lolite()" onClick="logVariable('total_times')" href="../../../../_variables/total_times.html">$total_times</a> = <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[&quot;main()&quot;][&quot;ct&quot;];
<a name="l224"><span class="linenum"> 224</span></a>      <a class="var it36408" onMouseOver="hilite(36408)" onMouseOut="lolite()" onClick="logVariable('remove_funcs')" href="../../../../_variables/remove_funcs.html">$remove_funcs</a> = array(&quot;main()&quot;,
<a name="l225"><span class="linenum"> 225</span></a>                            &quot;hotprofiler_disable&quot;,
<a name="l226"><span class="linenum"> 226</span></a>                            &quot;call_user_func_array&quot;,
<a name="l227"><span class="linenum"> 227</span></a>                            &quot;xhprof_disable&quot;);
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>      foreach (<a class="var it36408" onMouseOver="hilite(36408)" onMouseOut="lolite()" onClick="logVariable('remove_funcs')" href="../../../../_variables/remove_funcs.html">$remove_funcs</a> as <a class="var it36409" onMouseOver="hilite(36409)" onMouseOut="lolite()" onClick="logVariable('cur_del_func')" href="../../../../_variables/cur_del_func.html">$cur_del_func</a>) {
<a name="l230"><span class="linenum"> 230</span></a>        if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it36409" onMouseOver="hilite(36409)" onMouseOut="lolite()" onClick="logVariable('cur_del_func')" href="../../../../_variables/cur_del_func.html">$cur_del_func</a>, <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>) &amp;&amp;
<a name="l231"><span class="linenum"> 231</span></a>            <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it36409" onMouseOver="hilite(36409)" onMouseOut="lolite()" onClick="logVariable('cur_del_func')" href="../../../../_variables/cur_del_func.html">$cur_del_func</a>][&quot;ct&quot;] == <a class="var it36407" onMouseOver="hilite(36407)" onMouseOut="lolite()" onClick="logVariable('total_times')" href="../../../../_variables/total_times.html">$total_times</a>) {
<a name="l232"><span class="linenum"> 232</span></a>          unset(<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it36409" onMouseOver="hilite(36409)" onMouseOut="lolite()" onClick="logVariable('cur_del_func')" href="../../../../_variables/cur_del_func.html">$cur_del_func</a>]);
<a name="l233"><span class="linenum"> 233</span></a>        }
<a name="l234"><span class="linenum"> 234</span></a>      }
<a name="l235"><span class="linenum"> 235</span></a>    }
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">  // use the function to filter out irrelevant functions.</span>
<a name="l238"><span class="linenum"> 238</span></a>    if (!empty(<a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>)) {
<a name="l239"><span class="linenum"> 239</span></a>      <a class="var it36410" onMouseOver="hilite(36410)" onMouseOut="lolite()" onClick="logVariable('interested_funcs')" href="../../../../_variables/interested_funcs.html">$interested_funcs</a> = array();
<a name="l240"><span class="linenum"> 240</span></a>      foreach (<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a> as <a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l241"><span class="linenum"> 241</span></a>        <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>, <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>) = <a class="function" onClick="logFunction('xhprof_parse_parent_child')" href="../../../../_functions/xhprof_parse_parent_child.html" onMouseOver="funcPopup(event,'xhprof_parse_parent_child')">xhprof_parse_parent_child</a>(<a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a>);
<a name="l242"><span class="linenum"> 242</span></a>        if (<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a> == <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a> || <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a> == <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>) {
<a name="l243"><span class="linenum"> 243</span></a>          <a class="var it36410" onMouseOver="hilite(36410)" onMouseOut="lolite()" onClick="logVariable('interested_funcs')" href="../../../../_variables/interested_funcs.html">$interested_funcs</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>] = 1;
<a name="l244"><span class="linenum"> 244</span></a>          <a class="var it36410" onMouseOver="hilite(36410)" onMouseOut="lolite()" onClick="logVariable('interested_funcs')" href="../../../../_variables/interested_funcs.html">$interested_funcs</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>] = 1;
<a name="l245"><span class="linenum"> 245</span></a>        }
<a name="l246"><span class="linenum"> 246</span></a>      }
<a name="l247"><span class="linenum"> 247</span></a>      foreach (<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a> as <a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l248"><span class="linenum"> 248</span></a>        if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>, <a class="var it36410" onMouseOver="hilite(36410)" onMouseOut="lolite()" onClick="logVariable('interested_funcs')" href="../../../../_variables/interested_funcs.html">$interested_funcs</a>)) {
<a name="l249"><span class="linenum"> 249</span></a>          unset(<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>]);
<a name="l250"><span class="linenum"> 250</span></a>        }
<a name="l251"><span class="linenum"> 251</span></a>      }
<a name="l252"><span class="linenum"> 252</span></a>    }
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>    <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = &quot;digraph call_graph {\n&quot;;
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">  // Filter out functions whose exclusive time ratio is below threshold, and</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">  // also assign a unique integer id for each function to be generated. In the</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">  // meantime, find the function with the most exclusive time (potentially the</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">  // performance bottleneck).</span>
<a name="l260"><span class="linenum"> 260</span></a>    <a class="var it36411" onMouseOver="hilite(36411)" onMouseOut="lolite()" onClick="logVariable('cur_id')" href="../../../../_variables/cur_id.html">$cur_id</a> = 0; <a class="var it36412" onMouseOver="hilite(36412)" onMouseOut="lolite()" onClick="logVariable('max_wt')" href="../../../../_variables/max_wt.html">$max_wt</a> = 0;
<a name="l261"><span class="linenum"> 261</span></a>    foreach (<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a> as <a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l262"><span class="linenum"> 262</span></a>      if (empty(<a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / <a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>[&quot;wt&quot;]) &lt; <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>) {
<a name="l263"><span class="linenum"> 263</span></a>        unset(<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>]);
<a name="l264"><span class="linenum"> 264</span></a>        continue;
<a name="l265"><span class="linenum"> 265</span></a>      }
<a name="l266"><span class="linenum"> 266</span></a>      if (<a class="var it36412" onMouseOver="hilite(36412)" onMouseOut="lolite()" onClick="logVariable('max_wt')" href="../../../../_variables/max_wt.html">$max_wt</a> == 0 || <a class="var it36412" onMouseOver="hilite(36412)" onMouseOut="lolite()" onClick="logVariable('max_wt')" href="../../../../_variables/max_wt.html">$max_wt</a> &lt; <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;])) {
<a name="l267"><span class="linenum"> 267</span></a>        <a class="var it36412" onMouseOver="hilite(36412)" onMouseOut="lolite()" onClick="logVariable('max_wt')" href="../../../../_variables/max_wt.html">$max_wt</a> = <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;]);
<a name="l268"><span class="linenum"> 268</span></a>      }
<a name="l269"><span class="linenum"> 269</span></a>      <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;id&quot;] = <a class="var it36411" onMouseOver="hilite(36411)" onMouseOut="lolite()" onClick="logVariable('cur_id')" href="../../../../_variables/cur_id.html">$cur_id</a>;
<a name="l270"><span class="linenum"> 270</span></a>      <a class="var it36411" onMouseOver="hilite(36411)" onMouseOut="lolite()" onClick="logVariable('cur_id')" href="../../../../_variables/cur_id.html">$cur_id</a> ++;
<a name="l271"><span class="linenum"> 271</span></a>    }
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">  // Generate all nodes' information.</span>
<a name="l274"><span class="linenum"> 274</span></a>    foreach (<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a> as <a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l275"><span class="linenum"> 275</span></a>      if (<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] == 0) {
<a name="l276"><span class="linenum"> 276</span></a>        <a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> = <a class="var it36403" onMouseOver="hilite(36403)" onMouseOut="lolite()" onClick="logVariable('max_sizing_ratio')" href="../../../../_variables/max_sizing_ratio.html">$max_sizing_ratio</a>;
<a name="l277"><span class="linenum"> 277</span></a>      } else {
<a name="l278"><span class="linenum"> 278</span></a>        <a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> = <a class="var it36412" onMouseOver="hilite(36412)" onMouseOut="lolite()" onClick="logVariable('max_wt')" href="../../../../_variables/max_wt.html">$max_wt</a> / <a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;]) ;
<a name="l279"><span class="linenum"> 279</span></a>        if (<a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> &gt; <a class="var it36403" onMouseOver="hilite(36403)" onMouseOut="lolite()" onClick="logVariable('max_sizing_ratio')" href="../../../../_variables/max_sizing_ratio.html">$max_sizing_ratio</a>) {
<a name="l280"><span class="linenum"> 280</span></a>          <a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> = <a class="var it36403" onMouseOver="hilite(36403)" onMouseOut="lolite()" onClick="logVariable('max_sizing_ratio')" href="../../../../_variables/max_sizing_ratio.html">$max_sizing_ratio</a>;
<a name="l281"><span class="linenum"> 281</span></a>        }
<a name="l282"><span class="linenum"> 282</span></a>      }
<a name="l283"><span class="linenum"> 283</span></a>      <a class="var it36414" onMouseOver="hilite(36414)" onMouseOut="lolite()" onClick="logVariable('fillcolor')" href="../../../../_variables/fillcolor.html">$fillcolor</a> = ((<a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> &lt; 1.5) ?
<a name="l284"><span class="linenum"> 284</span></a>                    &quot;, style=filled, fillcolor=red&quot; : &quot;&quot;);
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>      if (<a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>) {
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">      // highlight nodes along critical path.</span>
<a name="l288"><span class="linenum"> 288</span></a>        if (!<a class="var it36414" onMouseOver="hilite(36414)" onMouseOut="lolite()" onClick="logVariable('fillcolor')" href="../../../../_variables/fillcolor.html">$fillcolor</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>, <a class="var it240" onMouseOver="hilite(240)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../_variables/path.html">$path</a>)) {
<a name="l289"><span class="linenum"> 289</span></a>          <a class="var it36414" onMouseOver="hilite(36414)" onMouseOut="lolite()" onClick="logVariable('fillcolor')" href="../../../../_variables/fillcolor.html">$fillcolor</a> = &quot;, style=filled, fillcolor=yellow&quot;;
<a name="l290"><span class="linenum"> 290</span></a>        }
<a name="l291"><span class="linenum"> 291</span></a>      }
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>      <a class="var it16896" onMouseOver="hilite(16896)" onMouseOut="lolite()" onClick="logVariable('fontsize')" href="../../../../_variables/fontsize.html">$fontsize</a> = &quot;, fontsize=&quot;
<a name="l294"><span class="linenum"> 294</span></a>                 .(int)(<a class="var it36402" onMouseOver="hilite(36402)" onMouseOut="lolite()" onClick="logVariable('max_fontsize')" href="../../../../_variables/max_fontsize.html">$max_fontsize</a> / ((<a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a> - 1) / 10 + 1));
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>      <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../_variables/width.html">$width</a> = &quot;, width=&quot;.sprintf(&quot;%.1f&quot;, <a class="var it36400" onMouseOver="hilite(36400)" onMouseOut="lolite()" onClick="logVariable('max_width')" href="../../../../_variables/max_width.html">$max_width</a> / <a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a>);
<a name="l297"><span class="linenum"> 297</span></a>      <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../_variables/height.html">$height</a> = &quot;, height=&quot;.sprintf(&quot;%.1f&quot;, <a class="var it36401" onMouseOver="hilite(36401)" onMouseOut="lolite()" onClick="logVariable('max_height')" href="../../../../_variables/max_height.html">$max_height</a> / <a class="var it36413" onMouseOver="hilite(36413)" onMouseOut="lolite()" onClick="logVariable('sizing_factor')" href="../../../../_variables/sizing_factor.html">$sizing_factor</a>);
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>      if (<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a> == &quot;main()&quot;) {
<a name="l300"><span class="linenum"> 300</span></a>        <a class="var it1666" onMouseOver="hilite(1666)" onMouseOut="lolite()" onClick="logVariable('shape')" href="../../../../_variables/shape.html">$shape</a> = &quot;octagon&quot;;
<a name="l301"><span class="linenum"> 301</span></a>        <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> = &quot;Total: &quot;.(<a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>[&quot;wt&quot;] / 1000.0).&quot; ms\\n&quot;;
<a name="l302"><span class="linenum"> 302</span></a>        <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> .= <a class="phpfunction" onClick="logFunction('addslashes')" href="../../../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(isset(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>) ? <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a> : <a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>);
<a name="l303"><span class="linenum"> 303</span></a>      } else {
<a name="l304"><span class="linenum"> 304</span></a>        <a class="var it1666" onMouseOver="hilite(1666)" onMouseOut="lolite()" onClick="logVariable('shape')" href="../../../../_variables/shape.html">$shape</a> = &quot;box&quot;;
<a name="l305"><span class="linenum"> 305</span></a>        <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> = <a class="phpfunction" onClick="logFunction('addslashes')" href="../../../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>).&quot;\\nInc: &quot;. sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / 1000) .
<a name="l306"><span class="linenum"> 306</span></a>                &quot; ms (&quot; . sprintf(&quot;%.1f%%&quot;, 100 * <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / <a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>[&quot;wt&quot;]).&quot;)&quot;;
<a name="l307"><span class="linenum"> 307</span></a>      }
<a name="l308"><span class="linenum"> 308</span></a>      if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a> === null) {
<a name="l309"><span class="linenum"> 309</span></a>        <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = &quot;, label=\&quot;&quot;.<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>.&quot;\\nExcl: &quot;
<a name="l310"><span class="linenum"> 310</span></a>                 .(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] / 1000.0)).&quot; ms (&quot;
<a name="l311"><span class="linenum"> 311</span></a>                 .sprintf(&quot;%.1f%%&quot;, 100 * <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] / <a class="var it5206" onMouseOver="hilite(5206)" onMouseOut="lolite()" onClick="logVariable('totals')" href="../../../../_variables/totals.html">$totals</a>[&quot;wt&quot;])
<a name="l312"><span class="linenum"> 312</span></a>                 . &quot;)\\n&quot;.<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;].&quot; total calls\&quot;&quot;;
<a name="l313"><span class="linenum"> 313</span></a>      } else {
<a name="l314"><span class="linenum"> 314</span></a>        if (isset(<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>]) &amp;&amp; isset(<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>])) {
<a name="l315"><span class="linenum"> 315</span></a>           <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = &quot;, label=\&quot;&quot;.<a class="phpfunction" onClick="logFunction('addslashes')" href="../../../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>).
<a name="l316"><span class="linenum"> 316</span></a>                    &quot;\\nInc: &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;wt&quot;] / 1000.0))
<a name="l317"><span class="linenum"> 317</span></a>                    .&quot; ms - &quot;
<a name="l318"><span class="linenum"> 318</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;wt&quot;] / 1000.0)).&quot; ms = &quot;
<a name="l319"><span class="linenum"> 319</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / 1000.0)).&quot; ms&quot;.
<a name="l320"><span class="linenum"> 320</span></a>                    &quot;\\nExcl: &quot;
<a name="l321"><span class="linenum"> 321</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;excl_wt&quot;] / 1000.0))
<a name="l322"><span class="linenum"> 322</span></a>                    .&quot; ms - &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;excl_wt&quot;] / 1000.0))
<a name="l323"><span class="linenum"> 323</span></a>                     .&quot; ms = &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] / 1000.0)).&quot; ms&quot;.
<a name="l324"><span class="linenum"> 324</span></a>                    &quot;\\nCalls: &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;ct&quot;])).&quot; - &quot;
<a name="l325"><span class="linenum"> 325</span></a>                     .(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;ct&quot;])).&quot; = &quot;
<a name="l326"><span class="linenum"> 326</span></a>                     .(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;])).&quot;\&quot;&quot;;
<a name="l327"><span class="linenum"> 327</span></a>        } else if (isset(<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>])) {
<a name="l328"><span class="linenum"> 328</span></a>          <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = &quot;, label=\&quot;&quot;.<a class="phpfunction" onClick="logFunction('addslashes')" href="../../../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>).
<a name="l329"><span class="linenum"> 329</span></a>                    &quot;\\nInc: &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;wt&quot;] / 1000.0))
<a name="l330"><span class="linenum"> 330</span></a>                     .&quot; ms - 0 ms = &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / 1000.0))
<a name="l331"><span class="linenum"> 331</span></a>                     .&quot; ms&quot;.&quot;\\nExcl: &quot;
<a name="l332"><span class="linenum"> 332</span></a>                     .(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;excl_wt&quot;] / 1000.0))
<a name="l333"><span class="linenum"> 333</span></a>                     .&quot; ms - 0 ms = &quot;
<a name="l334"><span class="linenum"> 334</span></a>                     .(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] / 1000.0)).&quot; ms&quot;.
<a name="l335"><span class="linenum"> 335</span></a>                    &quot;\\nCalls: &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../../../_variables/left.html">$left</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;ct&quot;])).&quot; - 0 = &quot;
<a name="l336"><span class="linenum"> 336</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;])).&quot;\&quot;&quot;;
<a name="l337"><span class="linenum"> 337</span></a>        } else {
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = &quot;, label=\&quot;&quot;.<a class="phpfunction" onClick="logFunction('addslashes')" href="../../../../_functions/addslashes.html" onMouseOver="phpfuncPopup(event,'addslashes')">addslashes</a>(<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>).
<a name="l339"><span class="linenum"> 339</span></a>                    &quot;\\nInc: 0 ms - &quot;
<a name="l340"><span class="linenum"> 340</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;wt&quot;] / 1000.0))
<a name="l341"><span class="linenum"> 341</span></a>                    .&quot; ms = &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] / 1000.0)).&quot; ms&quot;.
<a name="l342"><span class="linenum"> 342</span></a>                    &quot;\\nExcl: 0 ms - &quot;
<a name="l343"><span class="linenum"> 343</span></a>                    .(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;excl_wt&quot;] / 1000.0))
<a name="l344"><span class="linenum"> 344</span></a>                    .&quot; ms = &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;excl_wt&quot;] / 1000.0)).&quot; ms&quot;.
<a name="l345"><span class="linenum"> 345</span></a>                    &quot;\\nCalls: 0 - &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../../../_variables/right.html">$right</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;ct&quot;]))
<a name="l346"><span class="linenum"> 346</span></a>                    .&quot; = &quot;.(sprintf(&quot;%.3f&quot;,<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;])).&quot;\&quot;&quot;;
<a name="l347"><span class="linenum"> 347</span></a>        }
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> .= &quot;N&quot; . <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it5603" onMouseOver="hilite(5603)" onMouseOut="lolite()" onClick="logVariable('symbol')" href="../../../../_variables/symbol.html">$symbol</a>][&quot;id&quot;];
<a name="l350"><span class="linenum"> 350</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> .= &quot;[shape=<a class="var it1666" onMouseOver="hilite(1666)" onMouseOut="lolite()" onClick="logVariable('shape')" href="../../../../_variables/shape.html">$shape</a> &quot;.<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a>.<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../../../_variables/width.html">$width</a>
<a name="l351"><span class="linenum"> 351</span></a>                 .<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../../../_variables/height.html">$height</a>.<a class="var it16896" onMouseOver="hilite(16896)" onMouseOut="lolite()" onClick="logVariable('fontsize')" href="../../../../_variables/fontsize.html">$fontsize</a>.<a class="var it36414" onMouseOver="hilite(36414)" onMouseOut="lolite()" onClick="logVariable('fillcolor')" href="../../../../_variables/fillcolor.html">$fillcolor</a>.&quot;];\n&quot;;
<a name="l352"><span class="linenum"> 352</span></a>    }
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">  // Generate all the edges' information.</span>
<a name="l355"><span class="linenum"> 355</span></a>    foreach (<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a> as <a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a> =&gt; <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>) {
<a name="l356"><span class="linenum"> 356</span></a>      <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>, <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>) = <a class="function" onClick="logFunction('xhprof_parse_parent_child')" href="../../../../_functions/xhprof_parse_parent_child.html" onMouseOver="funcPopup(event,'xhprof_parse_parent_child')">xhprof_parse_parent_child</a>(<a class="var it5579" onMouseOver="hilite(5579)" onMouseOut="lolite()" onClick="logVariable('parent_child')" href="../../../../_variables/parent_child.html">$parent_child</a>);
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>      if (isset(<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>]) &amp;&amp; isset(<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>]) &amp;&amp;
<a name="l359"><span class="linenum"> 359</span></a>          (empty(<a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>) ||
<a name="l360"><span class="linenum"> 360</span></a>           (!empty(<a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>) &amp;&amp; (<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a> == <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a> || <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a> == <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>)))) {
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>        <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;] == 1 ? <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;].&quot; call&quot; : <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;ct&quot;].&quot; calls&quot;;
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>        <a class="var it36415" onMouseOver="hilite(36415)" onMouseOut="lolite()" onClick="logVariable('headlabel')" href="../../../../_variables/headlabel.html">$headlabel</a> = <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>][&quot;wt&quot;] &gt; 0 ?
<a name="l365"><span class="linenum"> 365</span></a>                    sprintf(&quot;%.1f%%&quot;, 100 * <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;]
<a name="l366"><span class="linenum"> 366</span></a>                                      / <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>][&quot;wt&quot;])
<a name="l367"><span class="linenum"> 367</span></a>                    : &quot;0.0%&quot;;
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>        <a class="var it36416" onMouseOver="hilite(36416)" onMouseOut="lolite()" onClick="logVariable('taillabel')" href="../../../../_variables/taillabel.html">$taillabel</a> = (<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>][&quot;wt&quot;] &gt; 0) ?
<a name="l370"><span class="linenum"> 370</span></a>          sprintf(&quot;%.1f%%&quot;,
<a name="l371"><span class="linenum"> 371</span></a>                  100 * <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../../../_variables/info.html">$info</a>[&quot;wt&quot;] /
<a name="l372"><span class="linenum"> 372</span></a>                  (<a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>][&quot;wt&quot;] - <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[&quot;<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>&quot;][&quot;excl_wt&quot;]))
<a name="l373"><span class="linenum"> 373</span></a>          : &quot;0.0%&quot;;
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>        <a class="var it25379" onMouseOver="hilite(25379)" onMouseOut="lolite()" onClick="logVariable('linewidth')" href="../../../../_variables/linewidth.html">$linewidth</a> = 1;
<a name="l376"><span class="linenum"> 376</span></a>        <a class="var it36417" onMouseOver="hilite(36417)" onMouseOut="lolite()" onClick="logVariable('arrow_size')" href="../../../../_variables/arrow_size.html">$arrow_size</a> = 1;
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>        if (<a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a> &amp;&amp;
<a name="l379"><span class="linenum"> 379</span></a>            isset(<a class="var it36405" onMouseOver="hilite(36405)" onMouseOut="lolite()" onClick="logVariable('path_edges')" href="../../../../_variables/path_edges.html">$path_edges</a>[<a class="function" onClick="logFunction('xhprof_build_parent_child_key')" href="../../../../_functions/xhprof_build_parent_child_key.html" onMouseOver="funcPopup(event,'xhprof_build_parent_child_key')">xhprof_build_parent_child_key</a>(<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>, <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>)])) {
<a name="l380"><span class="linenum"> 380</span></a>          <a class="var it25379" onMouseOver="hilite(25379)" onMouseOut="lolite()" onClick="logVariable('linewidth')" href="../../../../_variables/linewidth.html">$linewidth</a> = 10; <a class="var it36417" onMouseOver="hilite(36417)" onMouseOut="lolite()" onClick="logVariable('arrow_size')" href="../../../../_variables/arrow_size.html">$arrow_size</a> = 2;
<a name="l381"><span class="linenum"> 381</span></a>        }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>        <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> .= &quot;N&quot; . <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../../../_variables/parent.html">$parent</a>][&quot;id&quot;] . &quot; -&gt; N&quot;
<a name="l384"><span class="linenum"> 384</span></a>                   . <a class="var it36404" onMouseOver="hilite(36404)" onMouseOut="lolite()" onClick="logVariable('sym_table')" href="../../../../_variables/sym_table.html">$sym_table</a>[<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../../../_variables/child.html">$child</a>][&quot;id&quot;];
<a name="l385"><span class="linenum"> 385</span></a>        <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> .= &quot;[arrowsize=<a class="var it36417" onMouseOver="hilite(36417)" onMouseOut="lolite()" onClick="logVariable('arrow_size')" href="../../../../_variables/arrow_size.html">$arrow_size</a>, style=\&quot;<a class="function" onClick="logFunction('setlinewidth')" href="../../../../_functions/setlinewidth.html" onMouseOver="funcPopup(event,'setlinewidth')">setlinewidth</a>(<a class="var it25379" onMouseOver="hilite(25379)" onMouseOut="lolite()" onClick="logVariable('linewidth')" href="../../../../_variables/linewidth.html">$linewidth</a>)\&quot;,&quot;
<a name="l386"><span class="linenum"> 386</span></a>                   .&quot; label=\&quot;&quot;
<a name="l387"><span class="linenum"> 387</span></a>                   .<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a>.&quot;\&quot;, headlabel=\&quot;&quot;.<a class="var it36415" onMouseOver="hilite(36415)" onMouseOut="lolite()" onClick="logVariable('headlabel')" href="../../../../_variables/headlabel.html">$headlabel</a>
<a name="l388"><span class="linenum"> 388</span></a>                   .&quot;\&quot;, taillabel=\&quot;&quot;.<a class="var it36416" onMouseOver="hilite(36416)" onMouseOut="lolite()" onClick="logVariable('taillabel')" href="../../../../_variables/taillabel.html">$taillabel</a>.&quot;\&quot; ]&quot;;
<a name="l389"><span class="linenum"> 389</span></a>        <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> .= &quot;;\n&quot;;
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>      }
<a name="l392"><span class="linenum"> 392</span></a>    }
<a name="l393"><span class="linenum"> 393</span></a>    <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> . &quot;\n}&quot;;
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>    return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l396"><span class="linenum"> 396</span></a>  }
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>  function  <a class="function" onClick="logFunction('xhprof_render_diff_image')" href="../../../../_functions/xhprof_render_diff_image.html" onMouseOver="funcPopup(event,'xhprof_render_diff_image')">xhprof_render_diff_image</a>(<a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>, <a class="var it6136" onMouseOver="hilite(6136)" onMouseOut="lolite()" onClick="logVariable('run1')" href="../../../../_variables/run1.html">$run1</a>, <a class="var it6137" onMouseOver="hilite(6137)" onMouseOut="lolite()" onClick="logVariable('run2')" href="../../../../_variables/run2.html">$run2</a>,
<a name="l399"><span class="linenum"> 399</span></a>                                     <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>) {
<a name="l400"><span class="linenum"> 400</span></a>    <a class="var it36418" onMouseOver="hilite(36418)" onMouseOut="lolite()" onClick="logVariable('total1')" href="../../../../_variables/total1.html">$total1</a>;
<a name="l401"><span class="linenum"> 401</span></a>    <a class="var it36419" onMouseOver="hilite(36419)" onMouseOut="lolite()" onClick="logVariable('total2')" href="../../../../_variables/total2.html">$total2</a>;
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>    <a class="var it36420" onMouseOver="hilite(36420)" onMouseOut="lolite()" onClick="logVariable('raw_data1')" href="../../../../_variables/raw_data1.html">$raw_data1</a> = <a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>-&gt;<a class="function" onClick="logFunction('get_run')" href="../../../../_functions/get_run.html" onMouseOver="funcPopup(event,'get_run')">get_run</a>(<a class="var it6136" onMouseOver="hilite(6136)" onMouseOut="lolite()" onClick="logVariable('run1')" href="../../../../_variables/run1.html">$run1</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it23968" onMouseOver="hilite(23968)" onMouseOut="lolite()" onClick="logVariable('desc_unused')" href="../../../../_variables/desc_unused.html">$desc_unused</a>);
<a name="l404"><span class="linenum"> 404</span></a>    <a class="var it36421" onMouseOver="hilite(36421)" onMouseOut="lolite()" onClick="logVariable('raw_data2')" href="../../../../_variables/raw_data2.html">$raw_data2</a> = <a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>-&gt;<a class="function" onClick="logFunction('get_run')" href="../../../../_functions/get_run.html" onMouseOver="funcPopup(event,'get_run')">get_run</a>(<a class="var it6137" onMouseOver="hilite(6137)" onMouseOut="lolite()" onClick="logVariable('run2')" href="../../../../_variables/run2.html">$run2</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it23968" onMouseOver="hilite(23968)" onMouseOut="lolite()" onClick="logVariable('desc_unused')" href="../../../../_variables/desc_unused.html">$desc_unused</a>);
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">  // init_metrics($raw_data1, null, null);</span>
<a name="l407"><span class="linenum"> 407</span></a>    <a class="var it36422" onMouseOver="hilite(36422)" onMouseOut="lolite()" onClick="logVariable('children_table1')" href="../../../../_variables/children_table1.html">$children_table1</a> = <a class="function" onClick="logFunction('xhprof_get_children_table')" href="../../../../_functions/xhprof_get_children_table.html" onMouseOver="funcPopup(event,'xhprof_get_children_table')">xhprof_get_children_table</a>(<a class="var it36420" onMouseOver="hilite(36420)" onMouseOut="lolite()" onClick="logVariable('raw_data1')" href="../../../../_variables/raw_data1.html">$raw_data1</a>);
<a name="l408"><span class="linenum"> 408</span></a>    <a class="var it36423" onMouseOver="hilite(36423)" onMouseOut="lolite()" onClick="logVariable('children_table2')" href="../../../../_variables/children_table2.html">$children_table2</a> = <a class="function" onClick="logFunction('xhprof_get_children_table')" href="../../../../_functions/xhprof_get_children_table.html" onMouseOver="funcPopup(event,'xhprof_get_children_table')">xhprof_get_children_table</a>(<a class="var it36421" onMouseOver="hilite(36421)" onMouseOut="lolite()" onClick="logVariable('raw_data2')" href="../../../../_variables/raw_data2.html">$raw_data2</a>);
<a name="l409"><span class="linenum"> 409</span></a>    <a class="var it22271" onMouseOver="hilite(22271)" onMouseOut="lolite()" onClick="logVariable('symbol_tab1')" href="../../../../_variables/symbol_tab1.html">$symbol_tab1</a> = <a class="function" onClick="logFunction('xhprof_compute_flat_info')" href="../../../../_functions/xhprof_compute_flat_info.html" onMouseOver="funcPopup(event,'xhprof_compute_flat_info')">xhprof_compute_flat_info</a>(<a class="var it36420" onMouseOver="hilite(36420)" onMouseOut="lolite()" onClick="logVariable('raw_data1')" href="../../../../_variables/raw_data1.html">$raw_data1</a>, <a class="var it36418" onMouseOver="hilite(36418)" onMouseOut="lolite()" onClick="logVariable('total1')" href="../../../../_variables/total1.html">$total1</a>);
<a name="l410"><span class="linenum"> 410</span></a>    <a class="var it22272" onMouseOver="hilite(22272)" onMouseOut="lolite()" onClick="logVariable('symbol_tab2')" href="../../../../_variables/symbol_tab2.html">$symbol_tab2</a> = <a class="function" onClick="logFunction('xhprof_compute_flat_info')" href="../../../../_functions/xhprof_compute_flat_info.html" onMouseOver="funcPopup(event,'xhprof_compute_flat_info')">xhprof_compute_flat_info</a>(<a class="var it36421" onMouseOver="hilite(36421)" onMouseOut="lolite()" onClick="logVariable('raw_data2')" href="../../../../_variables/raw_data2.html">$raw_data2</a>, <a class="var it36419" onMouseOver="hilite(36419)" onMouseOut="lolite()" onClick="logVariable('total2')" href="../../../../_variables/total2.html">$total2</a>);
<a name="l411"><span class="linenum"> 411</span></a>    <a class="var it22270" onMouseOver="hilite(22270)" onMouseOut="lolite()" onClick="logVariable('run_delta')" href="../../../../_variables/run_delta.html">$run_delta</a> = <a class="function" onClick="logFunction('xhprof_compute_diff')" href="../../../../_functions/xhprof_compute_diff.html" onMouseOver="funcPopup(event,'xhprof_compute_diff')">xhprof_compute_diff</a>(<a class="var it36420" onMouseOver="hilite(36420)" onMouseOut="lolite()" onClick="logVariable('raw_data1')" href="../../../../_variables/raw_data1.html">$raw_data1</a>, <a class="var it36421" onMouseOver="hilite(36421)" onMouseOut="lolite()" onClick="logVariable('raw_data2')" href="../../../../_variables/raw_data2.html">$raw_data2</a>);
<a name="l412"><span class="linenum"> 412</span></a>    <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../../../_variables/script.html">$script</a> = <a class="function" onClick="logFunction('xhprof_generate_dot_script')" href="../../../../_functions/xhprof_generate_dot_script.html" onMouseOver="funcPopup(event,'xhprof_generate_dot_script')">xhprof_generate_dot_script</a>(<a class="var it22270" onMouseOver="hilite(22270)" onMouseOut="lolite()" onClick="logVariable('run_delta')" href="../../../../_variables/run_delta.html">$run_delta</a>, <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>,
<a name="l413"><span class="linenum"> 413</span></a>                                         null, null, true,
<a name="l414"><span class="linenum"> 414</span></a>                                         <a class="var it22271" onMouseOver="hilite(22271)" onMouseOut="lolite()" onClick="logVariable('symbol_tab1')" href="../../../../_variables/symbol_tab1.html">$symbol_tab1</a>, <a class="var it22272" onMouseOver="hilite(22272)" onMouseOut="lolite()" onClick="logVariable('symbol_tab2')" href="../../../../_variables/symbol_tab2.html">$symbol_tab2</a>);
<a name="l415"><span class="linenum"> 415</span></a>    <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a> = <a class="function" onClick="logFunction('xhprof_generate_image_by_dot')" href="../../../../_functions/xhprof_generate_image_by_dot.html" onMouseOver="funcPopup(event,'xhprof_generate_image_by_dot')">xhprof_generate_image_by_dot</a>(<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../../../_variables/script.html">$script</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>);
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>    <a class="function" onClick="logFunction('xhprof_generate_mime_header')" href="../../../../_functions/xhprof_generate_mime_header.html" onMouseOver="funcPopup(event,'xhprof_generate_mime_header')">xhprof_generate_mime_header</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="function" onClick="logFunction('strlen')" href="../../../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>));
<a name="l418"><span class="linenum"> 418</span></a>    echo <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>;
<a name="l419"><span class="linenum"> 419</span></a>  }
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">/**</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment"> * Generate image content from phprof run id.</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment"> *</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment"> * @param object  $xhprof_runs_impl  An object that implements</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment"> *                                   the iXHProfRuns interface</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> * @param run_id, integer, the unique id for the phprof run, this is the</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment"> *                primary key for phprof database table.</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment"> * @param type, string, one of the supported image types. See also</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment"> *              $xhprof_legal_image_types.</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment"> * @param threshold, float, the threshold value [0,1). The functions in the</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment"> *                   raw_data whose exclusive wall times ratio are below the</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment"> *                   threshold will be filtered out and won't apprear in the</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment"> *                   generated image.</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> * @param func, string, the focus function.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * @returns, string, the DOT script to generate image.</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> *</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> * @author cjiang</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> */</span>
<a name="l439"><span class="linenum"> 439</span></a>  function <a class="function" onClick="logFunction('xhprof_get_content_by_run')" href="../../../../_functions/xhprof_get_content_by_run.html" onMouseOver="funcPopup(event,'xhprof_get_content_by_run')">xhprof_get_content_by_run</a>(<a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>, <a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>,
<a name="l440"><span class="linenum"> 440</span></a>                                     <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>, <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>,
<a name="l441"><span class="linenum"> 441</span></a>                                     <a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>) {
<a name="l442"><span class="linenum"> 442</span></a>    if (!<a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>)
<a name="l443"><span class="linenum"> 443</span></a>      return &quot;&quot;;
<a name="l444"><span class="linenum"> 444</span></a>  
<a name="l445"><span class="linenum"> 445</span></a>    <a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a> = <a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>-&gt;<a class="function" onClick="logFunction('get_run')" href="../../../../_functions/get_run.html" onMouseOver="funcPopup(event,'get_run')">get_run</a>(<a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../../_variables/description.html">$description</a>);
<a name="l446"><span class="linenum"> 446</span></a>    if (!<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>) {
<a name="l447"><span class="linenum"> 447</span></a>      <a class="function" onClick="logFunction('xhprof_error')" href="../../../../_functions/xhprof_error.html" onMouseOver="funcPopup(event,'xhprof_error')">xhprof_error</a>(&quot;Raw data is empty&quot;);
<a name="l448"><span class="linenum"> 448</span></a>      return &quot;&quot;;
<a name="l449"><span class="linenum"> 449</span></a>    }
<a name="l450"><span class="linenum"> 450</span></a>  
<a name="l451"><span class="linenum"> 451</span></a>    <a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../../../_variables/script.html">$script</a> = <a class="function" onClick="logFunction('xhprof_generate_dot_script')" href="../../../../_functions/xhprof_generate_dot_script.html" onMouseOver="funcPopup(event,'xhprof_generate_dot_script')">xhprof_generate_dot_script</a>(<a class="var it5581" onMouseOver="hilite(5581)" onMouseOut="lolite()" onClick="logVariable('raw_data')" href="../../../../_variables/raw_data.html">$raw_data</a>, <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>,
<a name="l452"><span class="linenum"> 452</span></a>                                         <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../../_variables/description.html">$description</a>, <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>, <a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>);
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>    <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a> = <a class="function" onClick="logFunction('xhprof_generate_image_by_dot')" href="../../../../_functions/xhprof_generate_image_by_dot.html" onMouseOver="funcPopup(event,'xhprof_generate_image_by_dot')">xhprof_generate_image_by_dot</a>(<a class="var it2003" onMouseOver="hilite(2003)" onMouseOut="lolite()" onClick="logVariable('script')" href="../../../../_variables/script.html">$script</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>);
<a name="l455"><span class="linenum"> 455</span></a>    return <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>;
<a name="l456"><span class="linenum"> 456</span></a>  }
<a name="l457"><span class="linenum"> 457</span></a>  
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">/**</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment"> * Generate image from phprof run id and send it to client.</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment"> *</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment"> * @param object  $xhprof_runs_impl  An object that implements</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment"> *                                   the iXHProfRuns interface</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment"> * @param run_id, integer, the unique id for the phprof run, this is the</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment"> *                primary key for phprof database table.</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment"> * @param type, string, one of the supported image types. See also</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment"> *              $xhprof_legal_image_types.</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment"> * @param threshold, float, the threshold value [0,1). The functions in the</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment"> *                   raw_data whose exclusive wall times ratio are below the</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment"> *                   threshold will be filtered out and won't apprear in the</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment"> *                   generated image.</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> * @param func, string, the focus function.</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> * @param bool, does this run correspond to a PHProfLive run or a dev run?</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @author cjiang</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> */</span>
<a name="l475"><span class="linenum"> 475</span></a>  function <a class="function" onClick="logFunction('xhprof_render_image')" href="../../../../_functions/xhprof_render_image.html" onMouseOver="funcPopup(event,'xhprof_render_image')">xhprof_render_image</a>(<a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>, <a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>,
<a name="l476"><span class="linenum"> 476</span></a>                               <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>) {
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>    <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a> = <a class="function" onClick="logFunction('xhprof_get_content_by_run')" href="../../../../_functions/xhprof_get_content_by_run.html" onMouseOver="funcPopup(event,'xhprof_get_content_by_run')">xhprof_get_content_by_run</a>(<a class="var it5588" onMouseOver="hilite(5588)" onMouseOut="lolite()" onClick="logVariable('xhprof_runs_impl')" href="../../../../_variables/xhprof_runs_impl.html">$xhprof_runs_impl</a>, <a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>,
<a name="l479"><span class="linenum"> 479</span></a>                                         <a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>,
<a name="l480"><span class="linenum"> 480</span></a>                                         <a class="var it5458" onMouseOver="hilite(5458)" onMouseOut="lolite()" onClick="logVariable('func')" href="../../../../_variables/func.html">$func</a>, <a class="var it1771" onMouseOver="hilite(1771)" onMouseOut="lolite()" onClick="logVariable('source')" href="../../../../_variables/source.html">$source</a>, <a class="var it36399" onMouseOver="hilite(36399)" onMouseOut="lolite()" onClick="logVariable('critical_path')" href="../../../../_variables/critical_path.html">$critical_path</a>);
<a name="l481"><span class="linenum"> 481</span></a>    if (!<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>) {
<a name="l482"><span class="linenum"> 482</span></a>      print &quot;Error: either we can not find profile data for run_id &quot;.<a class="var it5580" onMouseOver="hilite(5580)" onMouseOut="lolite()" onClick="logVariable('run_id')" href="../../../../_variables/run_id.html">$run_id</a>
<a name="l483"><span class="linenum"> 483</span></a>            .&quot; or the threshold &quot;.<a class="var it1385" onMouseOver="hilite(1385)" onMouseOut="lolite()" onClick="logVariable('threshold')" href="../../../../_variables/threshold.html">$threshold</a>.&quot; is too small or you do not&quot;
<a name="l484"><span class="linenum"> 484</span></a>            .&quot; have 'dot' image generation utility installed.&quot;;
<a name="l485"><span class="linenum"> 485</span></a>      exit();
<a name="l486"><span class="linenum"> 486</span></a>    }
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>    <a class="function" onClick="logFunction('xhprof_generate_mime_header')" href="../../../../_functions/xhprof_generate_mime_header.html" onMouseOver="funcPopup(event,'xhprof_generate_mime_header')">xhprof_generate_mime_header</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="function" onClick="logFunction('strlen')" href="../../../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>));
<a name="l489"><span class="linenum"> 489</span></a>    echo <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../../_variables/content.html">$content</a>;
<a name="l490"><span class="linenum"> 490</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'xhprof_generate_image_by_dot': ['xhprof_generate_image_by_dot', 'Generate image according to DOT script. This function will spawn a process with "dot" command and pipe the "dot_script" to it and pipe out the generated image content. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',87]], 2],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'xhprof_compute_diff': ['xhprof_compute_diff', 'Hierarchical diff: Compute and return difference of two call graphs: Run2 - Run1. ', [['lib/xhprof/xhprof_lib/utils','xhprof_lib.php',510]], 2],
'xhprof_get_children_table': ['xhprof_get_children_table', '', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',141]], 3],
'xhprof_parse_parent_child': ['xhprof_parse_parent_child', 'Takes a parent/child function name encoded as "a==>b" and returns array("a", "b"). ', [['lib/xhprof/xhprof_lib/utils','xhprof_lib.php',142]], 10],
'xhprof_build_parent_child_key': ['xhprof_build_parent_child_key', 'Given parent & child function name, composes the key in the format present in the raw data. ', [['lib/xhprof/xhprof_lib/utils','xhprof_lib.php',159]], 7],
'xhprof_compute_flat_info': ['xhprof_compute_flat_info', 'Analyze hierarchical raw data, and compute per-function (flat) inclusive and exclusive metrics. ', [['lib/xhprof/xhprof_lib/utils','xhprof_lib.php',438]], 7],
'xhprof_render_diff_image': ['xhprof_render_diff_image', '', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',398]], 1],
'get_run': ['get_run', 'Returns XHProf data given a run id ($run) of a given type ($type). ', [['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',34],['lib/xhprof/xhprof_lib/utils','xhprof_runs.php',111],['lib/xhprof','xhprof_moodle.php',792]], 10],
'setlinewidth': ['setlinewidth', 'Defines the line width. By default, the value equals 0.2 mm. The method can be called before the first page is created and the value is retained from page to page. ', [['lib/tcpdf','tcpdf.php',11262]], 7],
'xhprof_generate_dot_script': ['xhprof_generate_dot_script', 'Generate DOT script from the given raw phprof data. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',154]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'xhprof_generate_mime_header': ['xhprof_generate_mime_header', 'Genearte and send MIME header for the output image to client browser. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',56]], 2],
'xhprof_get_content_by_run': ['xhprof_get_content_by_run', 'Generate image content from phprof run id. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',421]], 1],
'xhprof_http_header': ['xhprof_http_header', 'Send an HTTP header with the response. You MUST use this function instead of header() so that we can debug header issues because they\'re virtually impossible to debug otherwise. If you try to commit header(), SVN will reject your commit. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',32]], 2],
'xhprof_error': ['xhprof_error', '', [['lib/xhprof/xhprof_lib/utils','xhprof_lib.php',22]], 20],
'xhprof_render_image': ['xhprof_render_image', 'Generate image from phprof run id and send it to client. ', [['lib/xhprof/xhprof_lib/utils','callgraph_utils.php',458]], 1],
'addslashes': ['addslashes', '', [], 28],
'fwrite': ['fwrite', '', [], 227],
'header': ['header', '', [], 1355],
'fclose': ['fclose', '', [], 275],
'stream_get_contents': ['stream_get_contents', '', [], 23],
'is_resource': ['is_resource', '', [], 59],
'array_key_exists': ['array_key_exists', '', [], 1445],
'proc_close': ['proc_close', '', [], 2],
'abs': ['abs', '', [], 560],
'proc_open': ['proc_open', '', [], 2],
'is_string': ['is_string', '', [], 536]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
