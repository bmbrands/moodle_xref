<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/zend/Zend/Gdata/HttpAdapterStreamingProxy.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='lib/zend/Zend/Gdata';
filename='HttpAdapterStreamingProxy.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/zend/Zend/Gdata/</a> -> <a href="HttpAdapterStreamingProxy.php.html">HttpAdapterStreamingProxy.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="HttpAdapterStreamingProxy.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="HttpAdapterStreamingProxy.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Zend Framework</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * LICENSE</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * This source file is subject to the new BSD license that is bundled</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * with this package in the file LICENSE.txt.</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * It is also available through the world-wide-web at this URL:</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * http://framework.zend.com/license/new-bsd</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * If you did not receive a copy of the license and are unable to</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * obtain it through the world-wide-web, please send an email</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> * to license@zend.com so we can send you a copy immediately.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> *</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> * @category   Zend</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * @package    Zend_Gdata</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * @subpackage Gdata</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @copyright  Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @license    http://framework.zend.com/license/new-bsd     New BSD License</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @version    $Id$</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> */</span>
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">/**</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @see Zend_Http_Client_Adapter_Proxy</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> */</span>
<a name="l27"><span class="linenum">  27</span></a>  require_once 'Zend/Http/Client/Adapter/Proxy.php';
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">/**</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * Extends the proxy HTTP adapter to handle streams instead of discrete body</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * strings.</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @category   Zend</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @package    Zend_Gdata</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @subpackage Gdata</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @copyright  Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @license    http://framework.zend.com/license/new-bsd     New BSD License</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> */</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Zend_Gdata_HttpAdapterStreamingProxy')" href="../../../../_classes/zend_gdata_httpadapterstreamingproxy.html" onMouseOver="classPopup(event,'zend_gdata_httpadapterstreamingproxy')">Zend_Gdata_HttpAdapterStreamingProxy</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('Zend_Http_Client_Adapter_Proxy')" href="../../../../_classes/zend_http_client_adapter_proxy.html" onMouseOver="classPopup(event,'zend_http_client_adapter_proxy')">Zend_Http_Client_Adapter_Proxy</a>
<a name="l40"><span class="linenum">  40</span></a>  {
<a name="l41"><span class="linenum">  41</span></a>      <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * The amount read from a stream source at a time.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * @var integer</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     */</span>
<a name="l46"><span class="linenum">  46</span></a>      const CHUNK_SIZE = 1024;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>      <span class="comment">/**</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * Send request to the proxy server with streaming support</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     *</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * @param string        $method</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @param Zend_Uri_Http $uri</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * @param string        $http_ver</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * @param array         $headers</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * @param string        $body</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * @return string Request as string</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     */</span>
<a name="l58"><span class="linenum">  58</span></a>      public function <a class="function" onClick="logFunction('write')" href="../../../../_functions/write.html" onMouseOver="funcPopup(event,'write')">write</a>(<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../../_variables/method.html">$method</a>, <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>, <a class="var it3036" onMouseOver="hilite(3036)" onMouseOut="lolite()" onClick="logVariable('http_ver')" href="../../../../_variables/http_ver.html">$http_ver</a> = '1.1', <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a> = array(), <a class="var it2792" onMouseOver="hilite(2792)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../../../_variables/body.html">$body</a> = '')
<a name="l59"><span class="linenum">  59</span></a>      {
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">        // If no proxy is set, throw an error</span>
<a name="l61"><span class="linenum">  61</span></a>          if (! <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_host']) {
<a name="l62"><span class="linenum">  62</span></a>              require_once 'Zend/Http/Client/Adapter/Exception.php';
<a name="l63"><span class="linenum">  63</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('Zend_Http_Client_Adapter_Exception')" href="../../../../_classes/zend_http_client_adapter_exception.html" onMouseOver="classPopup(event,'zend_http_client_adapter_exception')">Zend_Http_Client_Adapter_Exception</a>('No proxy host set!');
<a name="l64"><span class="linenum">  64</span></a>          }
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // Make sure we're properly connected</span>
<a name="l67"><span class="linenum">  67</span></a>          if (! <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('socket')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/socket.html">socket</a>) {
<a name="l68"><span class="linenum">  68</span></a>              require_once 'Zend/Http/Client/Adapter/Exception.php';
<a name="l69"><span class="linenum">  69</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('Zend_Http_Client_Adapter_Exception')" href="../../../../_classes/zend_http_client_adapter_exception.html" onMouseOver="classPopup(event,'zend_http_client_adapter_exception')">Zend_Http_Client_Adapter_Exception</a>(
<a name="l70"><span class="linenum">  70</span></a>                  'Trying to write but we are not connected');
<a name="l71"><span class="linenum">  71</span></a>          }
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../../../_variables/host.html">$host</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_host'];
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../../../_variables/port.html">$port</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_port'];
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('connected_to')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/connected_to.html">connected_to</a>[0] != <a class="var it100" onMouseOver="hilite(100)" onMouseOut="lolite()" onClick="logVariable('host')" href="../../../../_variables/host.html">$host</a> || <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('connected_to')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/connected_to.html">connected_to</a>[1] != <a class="var it2565" onMouseOver="hilite(2565)" onMouseOut="lolite()" onClick="logVariable('port')" href="../../../../_variables/port.html">$port</a>) {
<a name="l77"><span class="linenum">  77</span></a>              require_once 'Zend/Http/Client/Adapter/Exception.php';
<a name="l78"><span class="linenum">  78</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('Zend_Http_Client_Adapter_Exception')" href="../../../../_classes/zend_http_client_adapter_exception.html" onMouseOver="classPopup(event,'zend_http_client_adapter_exception')">Zend_Http_Client_Adapter_Exception</a>(
<a name="l79"><span class="linenum">  79</span></a>                  'Trying to write but we are connected to the wrong proxy ' .
<a name="l80"><span class="linenum">  80</span></a>                  'server');
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Add Proxy-Authorization header</span>
<a name="l84"><span class="linenum">  84</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_user'] &amp;&amp; ! isset(<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>['proxy-authorization'])) {
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>['proxy-authorization'] = <a class="class" onClick="logClass('Zend_Http_Client')" href="../../../../_classes/zend_http_client.html" onMouseOver="classPopup(event,'zend_http_client')">Zend_Http_Client</a>::<a class="function" onClick="logFunction('encodeAuthHeader')" href="../../../../_functions/encodeauthheader.html" onMouseOver="funcPopup(event,'encodeauthheader')">encodeAuthHeader</a>(
<a name="l86"><span class="linenum">  86</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_user'], <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_pass'], <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('config')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/config.html">config</a>['proxy_auth']
<a name="l87"><span class="linenum">  87</span></a>              );
<a name="l88"><span class="linenum">  88</span></a>          }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">        // if we are proxying HTTPS, preform CONNECT handshake with the proxy</span>
<a name="l91"><span class="linenum">  91</span></a>          if (<a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>-&gt;<a class="function" onClick="logFunction('getScheme')" href="../../../../_functions/getscheme.html" onMouseOver="funcPopup(event,'getscheme')">getScheme</a>() == 'https' &amp;&amp; (! <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('negotiated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/negotiated.html">negotiated</a>)) {
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('connectHandshake')" href="../../../../_functions/connecthandshake.html" onMouseOver="funcPopup(event,'connecthandshake')">connectHandshake</a>(<a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>-&gt;<a class="function" onClick="logFunction('getHost')" href="../../../../_functions/gethost.html" onMouseOver="funcPopup(event,'gethost')">getHost</a>(), <a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>-&gt;<a class="function" onClick="logFunction('getPort')" href="../../../../_functions/getport.html" onMouseOver="funcPopup(event,'getport')">getPort</a>(), <a class="var it3036" onMouseOver="hilite(3036)" onMouseOut="lolite()" onClick="logVariable('http_ver')" href="../../../../_variables/http_ver.html">$http_ver</a>, <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>);
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('negotiated')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/negotiated.html">negotiated</a> = true;
<a name="l94"><span class="linenum">  94</span></a>          }
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">        // Save request method for later</span>
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('method')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/method.html">method</a> = <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../../_variables/method.html">$method</a>;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">        // Build request headers</span>
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it2793" onMouseOver="hilite(2793)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a> = &quot;{<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../../../_variables/method.html">$method</a>} {<a class="var it2644" onMouseOver="hilite(2644)" onMouseOut="lolite()" onClick="logVariable('uri')" href="../../../../_variables/uri.html">$uri</a>-&gt;<a class="function" onClick="logFunction('__toString')" href="../../../../_functions/__tostring.html" onMouseOver="funcPopup(event,'__tostring')">__toString</a>()} HTTP/{<a class="var it3036" onMouseOver="hilite(3036)" onMouseOut="lolite()" onClick="logVariable('http_ver')" href="../../../../_variables/http_ver.html">$http_ver</a>}\r\n&quot;;
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">        // Add all headers to the request string</span>
<a name="l103"><span class="linenum"> 103</span></a>          foreach (<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l104"><span class="linenum"> 104</span></a>              if (<a class="phpfunction" onClick="logFunction('is_string')" href="../../../../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>)) <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = &quot;<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>: <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>&quot;;
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it2793" onMouseOver="hilite(2793)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a> .= &quot;<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>\r\n&quot;;
<a name="l106"><span class="linenum"> 106</span></a>          }
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it2793" onMouseOver="hilite(2793)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a> .= &quot;\r\n&quot;;
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">        // Send the request headers</span>
<a name="l111"><span class="linenum"> 111</span></a>          if (! @<a class="phpfunction" onClick="logFunction('fwrite')" href="../../../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('socket')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/socket.html">socket</a>, <a class="var it2793" onMouseOver="hilite(2793)" onMouseOut="lolite()" onClick="logVariable('request')" href="../../../../_variables/request.html">$request</a>)) {
<a name="l112"><span class="linenum"> 112</span></a>              require_once 'Zend/Http/Client/Adapter/Exception.php';
<a name="l113"><span class="linenum"> 113</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('Zend_Http_Client_Adapter_Exception')" href="../../../../_classes/zend_http_client_adapter_exception.html" onMouseOver="classPopup(event,'zend_http_client_adapter_exception')">Zend_Http_Client_Adapter_Exception</a>(
<a name="l114"><span class="linenum"> 114</span></a>                  'Error writing request to proxy server');
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">        //read from $body, write to socket</span>
<a name="l118"><span class="linenum"> 118</span></a>          while (<a class="var it2792" onMouseOver="hilite(2792)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../../../_variables/body.html">$body</a>-&gt;hasData()) {
<a name="l119"><span class="linenum"> 119</span></a>              if (! @<a class="phpfunction" onClick="logFunction('fwrite')" href="../../../../_functions/fwrite.html" onMouseOver="phpfuncPopup(event,'fwrite')">fwrite</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('socket')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/socket.html">socket</a>, <a class="var it2792" onMouseOver="hilite(2792)" onMouseOut="lolite()" onClick="logVariable('body')" href="../../../../_variables/body.html">$body</a>-&gt;<a class="function" onClick="logFunction('read')" href="../../../../_functions/read.html" onMouseOver="funcPopup(event,'read')">read</a>(self::CHUNK_SIZE))) {
<a name="l120"><span class="linenum"> 120</span></a>                  require_once 'Zend/Http/Client/Adapter/Exception.php';
<a name="l121"><span class="linenum"> 121</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('Zend_Http_Client_Adapter_Exception')" href="../../../../_classes/zend_http_client_adapter_exception.html" onMouseOver="classPopup(event,'zend_http_client_adapter_exception')">Zend_Http_Client_Adapter_Exception</a>(
<a name="l122"><span class="linenum"> 122</span></a>                      'Error writing request to server');
<a name="l123"><span class="linenum"> 123</span></a>              }
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>          return 'Large upload, request is not cached.';
<a name="l126"><span class="linenum"> 126</span></a>      }
<a name="l127"><span class="linenum"> 127</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'getscheme': ['getscheme', 'Retrieves a scheme validator object ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',34],['lib/zend/Zend','Uri.php',150],['lib/zend/Zend/Gdata/YouTube/Extension','MediaRating.php',116],['lib/alfresco/Service','Store.php',55],['lib/zend/Zend/Gdata/Media/Extension','MediaCategory.php',109],['lib/zend/Zend/Gdata/Media/Extension','MediaCredit.php',134],['lib/zend/Zend/Gdata/App/Extension','Category.php',107],['lib/zend/Zend/Gdata/YouTube/Extension','MediaCredit.php',154],['lib/zend/Zend/Gdata/Media/Extension','MediaRating.php',103]], 17],
'connecthandshake': ['connecthandshake', 'Preform handshaking with HTTPS proxy using CONNECT method ', [['lib/zend/Zend/Http/Client/Adapter','Proxy.php',194]], 2],
'read': ['read', 'Read response from server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',310],['lib/horde/framework/Horde','Secret.php',79],['lib/zend/Zend/Gdata','MimeBodyString.php',60],['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Pop3.php',54],['auth/cas/CAS/CAS/PGTStorage','File.php',222],['lib/zend/Zend/Http/Client/Adapter','Test.php',174],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',97],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',203],['lib/zend/Zend/Http/Client/Adapter','Interface.php',66],['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Socket.php',110],['lib/jabber/XMPP','XMLStream.php',660],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',331],['auth/cas/CAS/CAS/PGTStorage','Db.php',384],['lib/zend/Zend/Http/Client/Adapter','Curl.php',450],['lib/zend/Zend/Gdata','MimeFile.php',54],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',119],['lib/zend/Zend/Gdata','MediaMimeStream.php',128]], 56],
'getport': ['getport', '', [['lib/google/src/Google/Service','Manager.php',917],['lib/alfresco/Service','Repository.php',58],['lib/google/src/Google/Service','Compute.php',6130],['lib/google/src/Google/Service','Compute.php',7527],['lib/google/src/Google/Service','Compute.php',7656],['lib/zend/Zend/Uri','Http.php',472],['lib/zend/Zend/Service','Akismet.php',164],['lib/google/src/Google/Service','Resourceviews.php',1153]], 11],
'encodeauthheader': ['encodeauthheader', 'Create a HTTP authentication "Authorization:" header according to the specified user, password and authentication method. ', [['lib/zend/Zend/Http','Client.php',1372]], 3],
'write': ['write', 'Send request to the remote server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',250],['lib/horde/framework/Horde','Secret.php',62],['lib/google/src/Google/Logger','Null.php',35],['lib/tcpdf','tcpdf.php',6254],['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Pop3.php',35],['lib','excellib.class.php',268],['lib/zend/Zend/Gdata','HttpAdapterStreamingSocket.php',49],['auth/cas/CAS/CAS/PGTStorage','File.php',188],['lib/zend/Zend/Http/Client/Adapter','Test.php',142],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',80],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',109],['admin/tool/log/classes/helper','buffered_writer.php',53],['auth/cas/CAS/CAS/PGTStorage','AbstractStorage.php',187],['lib/zend/Zend/Http/Client/Adapter','Interface.php',54],['lib/alfresco/Service/Logger','Logger.php',75],['lib/horde/framework/Horde/Imap/Client/Socket/Connection','Socket.php',38],['admin/tool/log/classes/log','writer.php',30],['backup/util/xml','xml_writer.class.php',224],['lib','odslib.class.php',258],['lib/zend/Zend/Gdata','HttpAdapterStreamingProxy.php',48],['lib/google/src/Google/Logger','File.php',72],['auth/cas/CAS/CAS/PGTStorage','Db.php',340],['lib/google/src/Google/Logger','Psr.php',85],['lib/zend/Zend/Http/Client/Adapter','Curl.php',251],['backup/util/xml/output','xml_output.class.php',103],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',142]], 227],
'__tostring': ['__tostring', 'Cooerce to string. ', [['lib/horde/framework/Horde/Support','Uuid.php',75],['lib/simplepie/library/SimplePie','Restriction.php',94],['lib/horde/framework/Horde/Imap/Client','DateTime.php',59],['lib/zend/Zend/XmlRpc','Request.php',437],['lib/zend/Zend/Gdata/Extension','Who.php',174],['lib/horde/framework/Horde/Support','Randomid.php',65],['lib/zend/Zend/Rest/Client','Result.php',215],['lib/horde/framework/Horde/Imap/Client/Data/Format','DateTime.php',27],['lib/pear','PEAR.php',1004],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nstring.php',39],['lib/pear/PEAR','Exception.php',315],['lib/zend/Zend/Gdata/YouTube/Extension','Racy.php',115],['lib/adodb','adodb.inc.php',2971],['lib/horde/framework/Horde/Imap/Client/Data/Format','String.php',81],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',123],['lib/zend/Zend/XmlRpc/Response','Http.php',38],['lib/zend/Zend/Http','Cookie.php',260],['backup/cc','validator.php',97],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',44],['lib/alfresco/Service','SpacesStore.php',33],['lib/zend/Zend/Gdata/App','MediaFileSource.php',136],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',78],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',68],['lib/pear/Net/GeoIP','Location.php',176],['lib/horde/framework/Horde/Imap/Client','Ids.php',150],['lib/horde/framework/Horde/Support','Stub.php',21],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',116],['lib/zend/Zend/Gdata/Gapps/Extension','EmailList.php',133],['lib','moodlelib.php',9469],['lib/zend/Zend/Gdata/Media/Extension','MediaContent.php',259],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',101],['lib/horde/framework/Horde/Stream','TempString.php',109],['lib/horde/framework/Horde/Imap/Client/Data/Format','Date.php',44],['lib/zend/Zend/Gdata/Gapps/Extension','Login.php',472],['lib/zend/Zend/Gdata/Gapps','ServiceException.php',196],['lib/zend/Zend/XmlRpc','Fault.php',298],['lib/zend/Zend','Uri.php',48],['lib/zend/Zend/Gdata/YouTube/Extension','Duration.php',115],['lib/horde/framework/Horde/Imap/Client/Data/Format','Number.php',27],['lib/zend/Zend/Gdata/Gapps/Extension','Nickname.php',133],['lib/simplepie/library/SimplePie','Caption.php',113],['mod/lti','OAuth.php',79],['mod/lti','OAuth.php',109],['mod/lti','OAuth.php',460],['lib/horde/framework/Horde/Imap/Client/Data','Namespace.php',122],['lib/horde/framework/Horde/Imap/Client/Search','Query.php',60],['lib/alfresco/Service','ContentData.php',57],['lib/classes/output','mustache_uniqid_helper.php',41],['lib/zend/Zend/Gdata/Gapps/Extension','Quota.php',133],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',115],['lib/zend/Zend/Gdata/Extension','Transparency.php',113],['lib/simplepie/library/SimplePie','Enclosure.php',264],['lib/simplepie/library','SimplePie.php',655],['lib/alfresco/Service','Store.php',38],['lib/simplepie/library/SimplePie','Rating.php',85],['lib/horde/framework/Horde/Support','Backtrace.php',121],['lib/simplepie/library/SimplePie','Author.php',95],['lib/horde/framework/Horde/Imap/Client','Url.php',132],['lib/phpexcel/PHPExcel','Comment.php',318],['lib/phpexcel/PHPExcel','RichText.php',130],['lib/zend/Zend/Gdata/App','Base.php',561],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',317],['lib','weblib.php',538],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',113],['lib/simplepie/library/SimplePie','Item.php',110],['lib/zend/Zend/Service','ReCaptcha.php',153],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',44],['lib/zend/Zend/Amf','Response.php',140],['lib/zend/Zend/Gdata/YouTube/Extension','State.php',182],['question/engine','states.php',108],['lib/zend/Zend/XmlRpc/Generator','GeneratorAbstract.php',109],['lib/horde/framework/Horde/Imap/Client/Data','Acl.php',43],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',116],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',116],['lib/zend/Zend','Date.php',468],['lib/zend/Zend/Gdata/Extension','EventStatus.php',92],['lib/phpexcel/PHPExcel','Cell.php',979],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',124],['lib/zend/Zend/Http','Response.php',400],['lib/lessphp/Tree','Dimension.php',74],['lib/zend/Zend/Gdata/Extension','Visibility.php',113],['lib/zend/Zend/Gdata/YouTube/Extension','Statistics.php',294],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',124],['lib/simplepie/library/SimplePie','Category.php',95],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',139],['lib/horde/framework/Horde/Imap/Client/Data/Format','Nil.php',34],['lib/simplepie/library/SimplePie','Credit.php',94],['lib/zend/Zend/Gdata/Extension','Reminder.php',103],['lib/phpexcel/PHPExcel/Worksheet','AutoFilter.php',850],['lib/horde/framework/Horde','Stream.php',103],['lib/zend/Zend/XmlRpc','Response.php',239],['availability/classes','condition.php',93],['lib/horde/framework/Horde/Support','Guid.php',63],['lib/zend/Zend/Gdata/Extension','Where.php',117],['lib/simplepie/library/SimplePie','IRI.php',133],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',122],['lib/horde/framework/Horde/Imap/Client/Data','AclRights.php',59],['lib/zend/Zend/Service/DeveloperGarden/Response/VoiceButler','NewCallResponse.php',51],['lib/alfresco/Service','Node.php',292],['lib/horde/framework/Horde/Imap/Client/Data','BaseSubject.php',84],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',113],['lib/dml/tests','dml_test.php',5446],['lib/zend/Zend','Exception.php',69],['lib/zend/Zend/Service/ReCaptcha','MailHide.php',161],['grade/report/singleview/classes/local/ui','attribute_format.php',44],['lib/simplepie/library/SimplePie','Source.php',72],['lib/zend/Zend/Gdata/Extension','When.php',115],['lib/simplepie/library/SimplePie','Copyright.php',85],['availability/classes','tree.php',91],['lib/zend/Zend/Gdata/Gapps','Error.php',223],['lib/lessphp/Tree','Unit.php',48],['lib/zend/Zend/Gdata/Gapps/Extension','Name.php',172],['lib/horde/framework/Horde/Imap/Client/Auth','DigestMD5.php',107],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',79],['lib/horde/framework/Horde/Mail/Rfc822','Object.php',25],['question/engine','datalib.php',1686],['question/engine','datalib.php',1754]], 41],
'gethost': ['gethost', '', [['lib/google/src/Google/Service','Manager.php',901],['lib/alfresco/Service','Repository.php',53],['lib/google/src/Google/Service','Compute.php',7624],['lib/google/src/Google/Service','Compute.php',11603],['lib/google/src/Google/Service','Compute.php',11822],['lib/zend/Zend/Uri','Http.php',417]], 14],
'is_string': ['is_string', '', [], 680],
'fwrite': ['fwrite', '', [], 209]};
CLASS_DATA={
'zend_http_client_adapter_exception': ['zend_http_client_adapter_exception', '', [['lib/zend/Zend/Http/Client/Adapter','Exception.php',35]], 41],
'zend_gdata_httpadapterstreamingproxy': ['zend_gdata_httpadapterstreamingproxy', 'Extends the proxy HTTP adapter to handle streams instead of discrete body strings. ', [['lib/zend/Zend/Gdata','HttpAdapterStreamingProxy.php',29]], 1],
'zend_http_client_adapter_proxy': ['zend_http_client_adapter_proxy', 'HTTP Proxy-supporting Zend_Http_Client adapter class, based on the default socket based adapter. ', [['lib/zend/Zend/Http/Client/Adapter','Proxy.php',37]], 1],
'zend_http_client': ['zend_http_client', 'Zend_Http_Client is an implemetation of an HTTP client in PHP. The client supports basic features like sending different HTTP requests and handling redirections, as well as more advanced features like proxy settings, HTTP authentication and cookie persistance (using a Zend_Http_CookieJar object) ', [['lib/zend/Zend/Http','Client.php',52]], 78]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
