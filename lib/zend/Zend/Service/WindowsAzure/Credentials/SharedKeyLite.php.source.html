<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/zend/Zend/Service/WindowsAzure/Credentials/SharedKeyLite.php source</title>
    <link rel="stylesheet" href="../../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../../';
subdir='lib/zend/Zend/Service/WindowsAzure/Credentials';
filename='SharedKeyLite.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/zend/Zend/Service/WindowsAzure/Credentials/</a> -> <a href="SharedKeyLite.php.html">SharedKeyLite.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="SharedKeyLite.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="SharedKeyLite.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * Zend Framework</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * LICENSE</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> *</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * This source file is subject to the new BSD license that is bundled</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * with this package in the file LICENSE.txt.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * It is also available through the world-wide-web at this URL:</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * http://framework.zend.com/license/new-bsd</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * If you did not receive a copy of the license and are unable to</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * obtain it through the world-wide-web, please send an email</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * to license@zend.com so we can send you a copy immediately.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> *</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> * @category   Zend</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> * @package    Zend_Service_WindowsAzure</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * @copyright  Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * @license    http://framework.zend.com/license/new-bsd     New BSD License</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @version    $Id$</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> */</span>
<a name="l21"><span class="linenum">  21</span></a>  
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">/**</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @see Zend_Service_WindowsAzure_Credentials_CredentialsAbstract</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  require_once 'Zend/Service/WindowsAzure/Credentials/CredentialsAbstract.php';
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @see Zend_Service_WindowsAzure_Storage</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> */</span>
<a name="l30"><span class="linenum">  30</span></a>  require_once 'Zend/Service/WindowsAzure/Storage.php';
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @see Zend_Service_WindowsAzure_Credentials_SharedKey</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  require_once 'Zend/Service/WindowsAzure/Credentials/SharedKey.php';
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @category   Zend</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @package    Zend_Service_WindowsAzure</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @copyright  Copyright (c) 2005-2010 Zend Technologies USA Inc. (http://www.zend.com)</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @license    http://framework.zend.com/license/new-bsd     New BSD License</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> */</span> 
<a name="l43"><span class="linenum">  43</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Zend_Service_WindowsAzure_Credentials_SharedKeyLite')" href="../../../../../../_classes/zend_service_windowsazure_credentials_sharedkeylite.html" onMouseOver="classPopup(event,'zend_service_windowsazure_credentials_sharedkeylite')">Zend_Service_WindowsAzure_Credentials_SharedKeyLite</a>
<a name="l44"><span class="linenum">  44</span></a>      extends Zend_Service_WindowsAzure_Credentials_CredentialsAbstract
<a name="l45"><span class="linenum">  45</span></a>  {
<a name="l46"><span class="linenum">  46</span></a>      <span class="comment">/**</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * Sign request URL with credentials</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     *</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * @param string $requestUrl Request URL</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @param string $resourceType Resource type</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * @param string $requiredPermission Required permission</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @return string Signed request URL</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     */</span>
<a name="l54"><span class="linenum">  54</span></a>  	public function <a class="function" onClick="logFunction('signRequestUrl')" href="../../../../../../_functions/signrequesturl.html" onMouseOver="funcPopup(event,'signrequesturl')">signRequestUrl</a>(
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it4515" onMouseOver="hilite(4515)" onMouseOut="lolite()" onClick="logVariable('requestUrl')" href="../../../../../../_variables/requestUrl.html">$requestUrl</a> = '',
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it4513" onMouseOver="hilite(4513)" onMouseOut="lolite()" onClick="logVariable('resourceType')" href="../../../../../../_variables/resourceType.html">$resourceType</a> = <a class="class" onClick="logClass('Zend_Service_WindowsAzure_Storage')" href="../../../../../../_classes/zend_service_windowsazure_storage.html" onMouseOver="classPopup(event,'zend_service_windowsazure_storage')">Zend_Service_WindowsAzure_Storage</a>::RESOURCE_UNKNOWN,
<a name="l57"><span class="linenum">  57</span></a>          <a class="var it4514" onMouseOver="hilite(4514)" onMouseOut="lolite()" onClick="logVariable('requiredPermission')" href="../../../../../../_variables/requiredPermission.html">$requiredPermission</a> = Zend_Service_WindowsAzure_Credentials_CredentialsAbstract::PERMISSION_READ
<a name="l58"><span class="linenum">  58</span></a>      ) {
<a name="l59"><span class="linenum">  59</span></a>          return <a class="var it4515" onMouseOver="hilite(4515)" onMouseOut="lolite()" onClick="logVariable('requestUrl')" href="../../../../../../_variables/requestUrl.html">$requestUrl</a>;
<a name="l60"><span class="linenum">  60</span></a>      }
<a name="l61"><span class="linenum">  61</span></a>      
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * Sign request headers with credentials</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     *</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @param string $httpVerb HTTP verb the request will use</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @param string $path Path for the request</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @param string $queryString Query string for the request</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * @param array $headers x-ms headers to add</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * @param boolean $forTableStorage Is the request for table storage?</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @param string $resourceType Resource type</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @param string $requiredPermission Required permission</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @return array Array of headers</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     */</span>
<a name="l74"><span class="linenum">  74</span></a>  	public function <a class="function" onClick="logFunction('signRequestHeaders')" href="../../../../../../_functions/signrequestheaders.html" onMouseOver="funcPopup(event,'signrequestheaders')">signRequestHeaders</a>(
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it4510" onMouseOver="hilite(4510)" onMouseOut="lolite()" onClick="logVariable('httpVerb')" href="../../../../../../_variables/httpVerb.html">$httpVerb</a> = <a class="class" onClick="logClass('Zend_Http_Client')" href="../../../../../../_classes/zend_http_client.html" onMouseOver="classPopup(event,'zend_http_client')">Zend_Http_Client</a>::GET,
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../../_variables/path.html">$path</a> = '/',
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it2815" onMouseOver="hilite(2815)" onMouseOut="lolite()" onClick="logVariable('queryString')" href="../../../../../../_variables/queryString.html">$queryString</a> = '',
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a> = null,
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it4511" onMouseOver="hilite(4511)" onMouseOut="lolite()" onClick="logVariable('forTableStorage')" href="../../../../../../_variables/forTableStorage.html">$forTableStorage</a> = false,
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it4513" onMouseOver="hilite(4513)" onMouseOut="lolite()" onClick="logVariable('resourceType')" href="../../../../../../_variables/resourceType.html">$resourceType</a> = <a class="class" onClick="logClass('Zend_Service_WindowsAzure_Storage')" href="../../../../../../_classes/zend_service_windowsazure_storage.html" onMouseOver="classPopup(event,'zend_service_windowsazure_storage')">Zend_Service_WindowsAzure_Storage</a>::RESOURCE_UNKNOWN,
<a name="l81"><span class="linenum">  81</span></a>          <a class="var it4514" onMouseOver="hilite(4514)" onMouseOut="lolite()" onClick="logVariable('requiredPermission')" href="../../../../../../_variables/requiredPermission.html">$requiredPermission</a> = Zend_Service_WindowsAzure_Credentials_CredentialsAbstract::PERMISSION_READ
<a name="l82"><span class="linenum">  82</span></a>      ) {
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">        // Determine path</span>
<a name="l84"><span class="linenum">  84</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_usePathStyleUri')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_usePathStyleUri.html">_usePathStyleUri</a>) {
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../../_variables/path.html">$path</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../../_variables/path.html">$path</a>, <a class="phpfunction" onClick="logFunction('strpos')" href="../../../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../../_variables/path.html">$path</a>, '/'));
<a name="l86"><span class="linenum">  86</span></a>          }
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">        // Determine query</span>
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it2815" onMouseOver="hilite(2815)" onMouseOut="lolite()" onClick="logVariable('queryString')" href="../../../../../../_variables/queryString.html">$queryString</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_prepareQueryStringForSigning')" href="../../../../../../_functions/_preparequerystringforsigning.html" onMouseOver="funcPopup(event,'_preparequerystringforsigning')">_prepareQueryStringForSigning</a>(<a class="var it2815" onMouseOver="hilite(2815)" onMouseOut="lolite()" onClick="logVariable('queryString')" href="../../../../../../_variables/queryString.html">$queryString</a>);
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">        // Build canonicalized resource string</span>
<a name="l92"><span class="linenum">  92</span></a>          <a class="var it22266" onMouseOver="hilite(22266)" onMouseOut="lolite()" onClick="logVariable('canonicalizedResource')" href="../../../../../../_variables/canonicalizedResource.html">$canonicalizedResource</a>  = '/' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_accountName')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_accountName.html">_accountName</a>;
<a name="l93"><span class="linenum">  93</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_usePathStyleUri')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_usePathStyleUri.html">_usePathStyleUri</a>) {
<a name="l94"><span class="linenum">  94</span></a>              <a class="var it22266" onMouseOver="hilite(22266)" onMouseOut="lolite()" onClick="logVariable('canonicalizedResource')" href="../../../../../../_variables/canonicalizedResource.html">$canonicalizedResource</a> .= '/' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_accountName')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_accountName.html">_accountName</a>;
<a name="l95"><span class="linenum">  95</span></a>          }
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it22266" onMouseOver="hilite(22266)" onMouseOut="lolite()" onClick="logVariable('canonicalizedResource')" href="../../../../../../_variables/canonicalizedResource.html">$canonicalizedResource</a> .= <a class="var it154" onMouseOver="hilite(154)" onMouseOut="lolite()" onClick="logVariable('path')" href="../../../../../../_variables/path.html">$path</a>;
<a name="l97"><span class="linenum">  97</span></a>          if (<a class="var it2815" onMouseOver="hilite(2815)" onMouseOut="lolite()" onClick="logVariable('queryString')" href="../../../../../../_variables/queryString.html">$queryString</a> !== '') {
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it22266" onMouseOver="hilite(22266)" onMouseOut="lolite()" onClick="logVariable('canonicalizedResource')" href="../../../../../../_variables/canonicalizedResource.html">$canonicalizedResource</a> .= <a class="var it2815" onMouseOver="hilite(2815)" onMouseOut="lolite()" onClick="logVariable('queryString')" href="../../../../../../_variables/queryString.html">$queryString</a>;
<a name="l99"><span class="linenum">  99</span></a>          }
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">        // Request date</span>
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it22265" onMouseOver="hilite(22265)" onMouseOut="lolite()" onClick="logVariable('requestDate')" href="../../../../../../_variables/requestDate.html">$requestDate</a> = '';
<a name="l103"><span class="linenum"> 103</span></a>          if (isset(<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a>[Zend_Service_WindowsAzure_Credentials_CredentialsAbstract::PREFIX_STORAGE_HEADER . 'date'])) {
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it22265" onMouseOver="hilite(22265)" onMouseOut="lolite()" onClick="logVariable('requestDate')" href="../../../../../../_variables/requestDate.html">$requestDate</a> = <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a>[Zend_Service_WindowsAzure_Credentials_CredentialsAbstract::PREFIX_STORAGE_HEADER . 'date'];
<a name="l105"><span class="linenum"> 105</span></a>          } else {
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it22265" onMouseOver="hilite(22265)" onMouseOut="lolite()" onClick="logVariable('requestDate')" href="../../../../../../_variables/requestDate.html">$requestDate</a> = <a class="phpfunction" onClick="logFunction('gmdate')" href="../../../../../../_functions/gmdate.html" onMouseOver="phpfuncPopup(event,'gmdate')">gmdate</a>('D, d M Y H:i:s', <a class="phpfunction" onClick="logFunction('time')" href="../../../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()) . ' GMT'; <span class="comment">// RFC 1123</span>
<a name="l107"><span class="linenum"> 107</span></a>          }
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">        // Create string to sign   </span>
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>   = array();
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>[] = <a class="var it22265" onMouseOver="hilite(22265)" onMouseOut="lolite()" onClick="logVariable('requestDate')" href="../../../../../../_variables/requestDate.html">$requestDate</a>; <span class="comment">// Date</span>
<a name="l112"><span class="linenum"> 112</span></a>          <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>[] = <a class="var it22266" onMouseOver="hilite(22266)" onMouseOut="lolite()" onClick="logVariable('canonicalizedResource')" href="../../../../../../_variables/canonicalizedResource.html">$canonicalizedResource</a>;                     <span class="comment">// Canonicalized resource</span>
<a name="l113"><span class="linenum"> 113</span></a>          <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>   = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;\n&quot;, <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>);
<a name="l114"><span class="linenum"> 114</span></a>          <a class="var it22268" onMouseOver="hilite(22268)" onMouseOut="lolite()" onClick="logVariable('signString')" href="../../../../../../_variables/signString.html">$signString</a>     = <a class="phpfunction" onClick="logFunction('base64_encode')" href="../../../../../../_functions/base64_encode.html" onMouseOver="phpfuncPopup(event,'base64_encode')">base64_encode</a>(hash_hmac('sha256', <a class="var it22267" onMouseOver="hilite(22267)" onMouseOut="lolite()" onClick="logVariable('stringToSign')" href="../../../../../../_variables/stringToSign.html">$stringToSign</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_accountKey')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_accountKey.html">_accountKey</a>, true));
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">        // Sign request</span>
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a>[Zend_Service_WindowsAzure_Credentials_CredentialsAbstract::PREFIX_STORAGE_HEADER . 'date'] = <a class="var it22265" onMouseOver="hilite(22265)" onMouseOut="lolite()" onClick="logVariable('requestDate')" href="../../../../../../_variables/requestDate.html">$requestDate</a>;
<a name="l118"><span class="linenum"> 118</span></a>          <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a>['Authorization'] = 'SharedKeyLite ' . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_accountName')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../../../_variables/_accountName.html">_accountName</a> . ':' . <a class="var it22268" onMouseOver="hilite(22268)" onMouseOut="lolite()" onClick="logVariable('signString')" href="../../../../../../_variables/signString.html">$signString</a>;
<a name="l119"><span class="linenum"> 119</span></a>          
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">        // Return headers</span>
<a name="l121"><span class="linenum"> 121</span></a>          return <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../../../_variables/headers.html">$headers</a>;
<a name="l122"><span class="linenum"> 122</span></a>      }
<a name="l123"><span class="linenum"> 123</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'_preparequerystringforsigning': ['_preparequerystringforsigning', 'Prepare query string for signing ', [['lib/zend/Zend/Service/WindowsAzure/Credentials','CredentialsAbstract.php',167]], 2],
'signrequestheaders': ['signrequestheaders', 'Sign request headers with credentials ', [['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedKey.php',62],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',282],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedKeyLite.php',62]], 3],
'signrequesturl': ['signrequesturl', 'Sign request URL with credentials ', [['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedKey.php',46],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedAccessSignature.php',246],['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedKeyLite.php',46]], 3],
'gmdate': ['gmdate', '', [], 145],
'time': ['time', '', [], 1768],
'substr': ['substr', '', [], 2883],
'base64_encode': ['base64_encode', '', [], 146],
'implode': ['implode', '', [], 1259],
'strpos': ['strpos', '', [], 1623]};
CLASS_DATA={
'zend_http_client': ['zend_http_client', 'Zend_Http_Client is an implemetation of an HTTP client in PHP. The client supports basic features like sending different HTTP requests and handling redirections, as well as more advanced features like proxy settings, HTTP authentication and cookie persistance (using a Zend_Http_CookieJar object) ', [['lib/zend/Zend/Http','Client.php',52]], 78],
'zend_service_windowsazure_storage': ['zend_service_windowsazure_storage', '', [['lib/zend/Zend/Service/WindowsAzure','Storage.php',60]], 26],
'zend_service_windowsazure_credentials_sharedkeylite': ['zend_service_windowsazure_credentials_sharedkeylite', '', [['lib/zend/Zend/Service/WindowsAzure/Credentials','SharedKeyLite.php',43]], 1]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
