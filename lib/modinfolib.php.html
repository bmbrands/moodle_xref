<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of modinfolib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='modinfolib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="modinfolib.php.source.html">modinfolib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="modinfolib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>modinfolib.php - Functions/classes relating to cached information about module instances on a course.</b></p>
<table>
<tr><td align="right">Author: </td><td>sam marshall</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2774 lines (106 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 4 classes</h3>
<div class="inset">
<p><b>course_modinfo::</b> (23 methods):<br>
&nbsp;&nbsp;<a href="#__get">__get</a>()<br>
&nbsp;&nbsp;<a href="#__isset">__isset</a>()<br>
&nbsp;&nbsp;<a href="#__empty">__empty</a>()<br>
&nbsp;&nbsp;<a href="#__set">__set</a>()<br>
&nbsp;&nbsp;<a href="#get_course">get_course</a>()<br>
&nbsp;&nbsp;<a href="#get_course_id">get_course_id</a>()<br>
&nbsp;&nbsp;<a href="#get_user_id">get_user_id</a>()<br>
&nbsp;&nbsp;<a href="#get_sections">get_sections</a>()<br>
&nbsp;&nbsp;<a href="#get_cms">get_cms</a>()<br>
&nbsp;&nbsp;<a href="#get_cm">get_cm</a>()<br>
&nbsp;&nbsp;<a href="#get_instances">get_instances</a>()<br>
&nbsp;&nbsp;<a href="#get_used_module_names">get_used_module_names</a>()<br>
&nbsp;&nbsp;<a href="#get_instances_of">get_instances_of</a>()<br>
&nbsp;&nbsp;<a href="#get_groups_all">get_groups_all</a>()<br>
&nbsp;&nbsp;<a href="#get_groups">get_groups</a>()<br>
&nbsp;&nbsp;<a href="#get_section_info_all">get_section_info_all</a>()<br>
&nbsp;&nbsp;<a href="#get_section_info">get_section_info</a>()<br>
&nbsp;&nbsp;<a href="#clear_instance_cache">clear_instance_cache</a>()<br>
&nbsp;&nbsp;<a href="#instance">instance</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#build_section_cache">build_section_cache</a>()<br>
&nbsp;&nbsp;<a href="#build_course_section_cache">build_course_section_cache</a>()<br>
&nbsp;&nbsp;<a href="#build_course_cache">build_course_cache</a>()<br>
</p>
<p><b>cm_info::</b> (57 methods):<br>
&nbsp;&nbsp;<a href="#__call">__call</a>()<br>
&nbsp;&nbsp;<a href="#__get">__get</a>()<br>
&nbsp;&nbsp;<a href="#getiterator">getIterator</a>()<br>
&nbsp;&nbsp;<a href="#__isset">__isset</a>()<br>
&nbsp;&nbsp;<a href="#__empty">__empty</a>()<br>
&nbsp;&nbsp;<a href="#__set">__set</a>()<br>
&nbsp;&nbsp;<a href="#has_view">has_view</a>()<br>
&nbsp;&nbsp;<a href="#get_url">get_url</a>()<br>
&nbsp;&nbsp;<a href="#get_content">get_content</a>()<br>
&nbsp;&nbsp;<a href="#get_formatted_content">get_formatted_content</a>()<br>
&nbsp;&nbsp;<a href="#get_name">get_name</a>()<br>
&nbsp;&nbsp;<a href="#get_formatted_name">get_formatted_name</a>()<br>
&nbsp;&nbsp;<a href="#get_extra_classes">get_extra_classes</a>()<br>
&nbsp;&nbsp;<a href="#get_on_click">get_on_click</a>()<br>
&nbsp;&nbsp;<a href="#get_custom_data">get_custom_data</a>()<br>
&nbsp;&nbsp;<a href="#get_after_link">get_after_link</a>()<br>
&nbsp;&nbsp;<a href="#get_after_edit_icons">get_after_edit_icons</a>()<br>
&nbsp;&nbsp;<a href="#get_icon_url">get_icon_url</a>()<br>
&nbsp;&nbsp;<a href="#get_grouping_label">get_grouping_label</a>()<br>
&nbsp;&nbsp;<a href="#get_module_type_name">get_module_type_name</a>()<br>
&nbsp;&nbsp;<a href="#get_module_type_name_plural">get_module_type_name_plural</a>()<br>
&nbsp;&nbsp;<a href="#get_modinfo">get_modinfo</a>()<br>
&nbsp;&nbsp;<a href="#get_course">get_course</a>()<br>
&nbsp;&nbsp;<a href="#get_course_id">get_course_id</a>()<br>
&nbsp;&nbsp;<a href="#get_course_groupmode">get_course_groupmode</a>()<br>
&nbsp;&nbsp;<a href="#get_course_groupmodeforce">get_course_groupmodeforce</a>()<br>
&nbsp;&nbsp;<a href="#get_effective_groupmode">get_effective_groupmode</a>()<br>
&nbsp;&nbsp;<a href="#get_context">get_context</a>()<br>
&nbsp;&nbsp;<a href="#get_course_module_record">get_course_module_record</a>()<br>
&nbsp;&nbsp;<a href="#set_content">set_content</a>()<br>
&nbsp;&nbsp;<a href="#set_extra_classes">set_extra_classes</a>()<br>
&nbsp;&nbsp;<a href="#set_icon_url">set_icon_url</a>()<br>
&nbsp;&nbsp;<a href="#set_on_click">set_on_click</a>()<br>
&nbsp;&nbsp;<a href="#set_after_link">set_after_link</a>()<br>
&nbsp;&nbsp;<a href="#set_after_edit_icons">set_after_edit_icons</a>()<br>
&nbsp;&nbsp;<a href="#set_name">set_name</a>()<br>
&nbsp;&nbsp;<a href="#set_no_view_link">set_no_view_link</a>()<br>
&nbsp;&nbsp;<a href="#set_user_visible">set_user_visible</a>()<br>
&nbsp;&nbsp;<a href="#set_available">set_available</a>()<br>
&nbsp;&nbsp;<a href="#check_not_view_only">check_not_view_only</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#create">create</a>()<br>
&nbsp;&nbsp;<a href="#obtain_dynamic_data">obtain_dynamic_data</a>()<br>
&nbsp;&nbsp;<a href="#get_user_visible">get_user_visible</a>()<br>
&nbsp;&nbsp;<a href="#get_available">get_available</a>()<br>
&nbsp;&nbsp;<a href="#get_deprecated_group_members_only">get_deprecated_group_members_only</a>()<br>
&nbsp;&nbsp;<a href="#get_available_info">get_available_info</a>()<br>
&nbsp;&nbsp;<a href="#update_user_visible">update_user_visible</a>()<br>
&nbsp;&nbsp;<a href="#is_user_access_restricted_by_group">is_user_access_restricted_by_group</a>()<br>
&nbsp;&nbsp;<a href="#is_user_access_restricted_by_capability">is_user_access_restricted_by_capability</a>()<br>
&nbsp;&nbsp;<a href="#is_user_access_restricted_by_conditional_access">is_user_access_restricted_by_conditional_access</a>()<br>
&nbsp;&nbsp;<a href="#call_mod_function">call_mod_function</a>()<br>
&nbsp;&nbsp;<a href="#obtain_view_data">obtain_view_data</a>()<br>
&nbsp;&nbsp;<a href="#get_fast_modinfo">get_fast_modinfo</a>()<br>
&nbsp;&nbsp;<a href="#get_course_and_cm_from_cmid">get_course_and_cm_from_cmid</a>()<br>
&nbsp;&nbsp;<a href="#get_course_and_cm_from_instance">get_course_and_cm_from_instance</a>()<br>
&nbsp;&nbsp;<a href="#rebuild_course_cache">rebuild_course_cache</a>()<br>
</p>
<p><b>cached_cm_info::</b> (0 methods):<br>
</p>
<p><b>section_info::</b> (12 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#__isset">__isset</a>()<br>
&nbsp;&nbsp;<a href="#__empty">__empty</a>()<br>
&nbsp;&nbsp;<a href="#__get">__get</a>()<br>
&nbsp;&nbsp;<a href="#get_available">get_available</a>()<br>
&nbsp;&nbsp;<a href="#get_availableinfo">get_availableinfo</a>()<br>
&nbsp;&nbsp;<a href="#getiterator">getIterator</a>()<br>
&nbsp;&nbsp;<a href="#get_uservisible">get_uservisible</a>()<br>
&nbsp;&nbsp;<a href="#get_sequence">get_sequence</a>()<br>
&nbsp;&nbsp;<a href="#get_course">get_course</a>()<br>
&nbsp;&nbsp;<a href="#get_modinfo">get_modinfo</a>()<br>
&nbsp;&nbsp;<a href="#convert_for_section_cache">convert_for_section_cache</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="course_modinfo"><b>course_modinfo</b></a>&nbsp;&nbsp;- <a href="../_classes/course_modinfo.html"><small>X-Ref</small></a>
</p>
<b>Information about a course that is cached in the course table 'modinfo' field (and then in<BR>
memory) in order to reduce the need for other database queries.<BR>
</b><br>
This includes information about the course-modules and the sections on the course. It can also<BR>
include dynamic data that has been updated for the current user.<BR>
<BR>
Use {@link get_fast_modinfo()} to retrieve the instance of the object for particular course<BR>
and particular user.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__get" onClick="logFunction('__get', 'modinfolib.php.source.html#l124')" href="modinfolib.php.source.html#l124">__get</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method getter<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__isset" onClick="logFunction('__isset', 'modinfolib.php.source.html#l140')" href="modinfolib.php.source.html#l140">__isset</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__isset.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method for function isset()<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__empty" onClick="logFunction('__empty', 'modinfolib.php.source.html#l154')" href="modinfolib.php.source.html#l154">__empty</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__empty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method for function empty()<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__set" onClick="logFunction('__set', 'modinfolib.php.source.html#l168')" href="modinfolib.php.source.html#l168">__set</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/value.html">$value</a>)&nbsp;&nbsp;
<a href="../_functions/__set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method setter<BR>
</b><BR>Will display the developer warning when trying to set/overwrite existing property.<BR>
<BR>
<b>param:</b> string $name<br>
<b>param:</b> mixed $value<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course" onClick="logFunction('get_course', 'modinfolib.php.source.html#l180')" href="modinfolib.php.source.html#l180">get_course</a>()&nbsp;&nbsp;
<a href="../_functions/get_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns course object that was used in the first {@link get_fast_modinfo()} call.<BR>
</b><BR>It may not contain all fields from DB table {course} but always has at least the following:<BR>
id,shortname,fullname,format,enablecompletion,groupmode,groupmodeforce,cacherev<BR>
<BR>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_id" onClick="logFunction('get_course_id', 'modinfolib.php.source.html#l195')" href="modinfolib.php.source.html#l195">get_course_id</a>()&nbsp;&nbsp;
<a href="../_functions/get_course_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> int Course ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_id" onClick="logFunction('get_user_id', 'modinfolib.php.source.html#l202')" href="modinfolib.php.source.html#l202">get_user_id</a>()&nbsp;&nbsp;
<a href="../_functions/get_user_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> int User ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_sections" onClick="logFunction('get_sections', 'modinfolib.php.source.html#l210')" href="modinfolib.php.source.html#l210">get_sections</a>()&nbsp;&nbsp;
<a href="../_functions/get_sections.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> array Array from section number (e.g. 0) to array of course-module IDs in that<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_cms" onClick="logFunction('get_cms', 'modinfolib.php.source.html#l218')" href="modinfolib.php.source.html#l218">get_cms</a>()&nbsp;&nbsp;
<a href="../_functions/get_cms.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> cm_info[] Array from course-module instance to cm_info object within this course, in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_cm" onClick="logFunction('get_cm', 'modinfolib.php.source.html#l222')" href="modinfolib.php.source.html#l222">get_cm</a>(<a href="../_variables/cmid.html">$cmid</a>)&nbsp;&nbsp;
<a href="../_functions/get_cm.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains a single course-module object (for a course-module that is on this course).<BR>
</b><BR><b>param:</b> int $cmid Course-module ID<br>
<b>return:</b> cm_info Information about that course-module<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_instances" onClick="logFunction('get_instances', 'modinfolib.php.source.html#l235')" href="modinfolib.php.source.html#l235">get_instances</a>()&nbsp;&nbsp;
<a href="../_functions/get_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains all module instances on this course.<BR>
</b><BR><b>return:</b> cm_info[][] Array from module name =&gt; array from instance id =&gt; cm_info<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_used_module_names" onClick="logFunction('get_used_module_names', 'modinfolib.php.source.html#l243')" href="modinfolib.php.source.html#l243">get_used_module_names</a>(<a href="../_variables/plural.html">$plural</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_used_module_names.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of localised human-readable module names used in this course<BR>
</b><BR><b>param:</b> bool $plural if true returns the plural form of modules names<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_instances_of" onClick="logFunction('get_instances_of', 'modinfolib.php.source.html#l261')" href="modinfolib.php.source.html#l261">get_instances_of</a>(<a href="../_variables/modname.html">$modname</a>)&nbsp;&nbsp;
<a href="../_functions/get_instances_of.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains all instances of a particular module on this course.<BR>
</b><BR><b>param:</b> $modname Name of module (not full frankenstyle) e.g. 'label'<br>
<b>return:</b> cm_info[] Array from instance id =&gt; cm_info for modules on this course; empty if none<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_groups_all" onClick="logFunction('get_groups_all', 'modinfolib.php.source.html#l273')" href="modinfolib.php.source.html#l273">get_groups_all</a>()&nbsp;&nbsp;
<a href="../_functions/get_groups_all.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Groups that the current user belongs to organised by grouping id. Calculated on the first request.<BR>
</b><BR><b>return:</b> int[][] array of grouping id =&gt; array of group id =&gt; group id. Includes grouping id 0 for 'all groups'<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_groups" onClick="logFunction('get_groups', 'modinfolib.php.source.html#l289')" href="modinfolib.php.source.html#l289">get_groups</a>(<a href="../_variables/groupingid.html">$groupingid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/get_groups.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns groups that the current user belongs to on the course. Note: If not already<BR>
available, this may make a database query.<BR>
</b><BR><b>param:</b> int $groupingid Grouping ID or 0 (default) for all groups<br>
<b>return:</b> int[] Array of int (group id) =&gt; int (same group id again); empty array if none<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_section_info_all" onClick="logFunction('get_section_info_all', 'modinfolib.php.source.html#l303')" href="modinfolib.php.source.html#l303">get_section_info_all</a>()&nbsp;&nbsp;
<a href="../_functions/get_section_info_all.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all sections as array from section number =&gt; data about section.<BR>
</b><BR><b>return:</b> section_info[] Array of section_info objects organised by section number<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_section_info" onClick="logFunction('get_section_info', 'modinfolib.php.source.html#l311')" href="modinfolib.php.source.html#l311">get_section_info</a>(<a href="../_variables/sectionnumber.html">$sectionnumber</a>, <a href="../_variables/strictness.html">$strictness</a> = IGNORE_MISSING)&nbsp;&nbsp;
<a href="../_functions/get_section_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets data about specific numbered section.<BR>
</b><BR><b>param:</b> int $sectionnumber Number (not id) of section<br>
<b>param:</b> int $strictness Use MUST_EXIST to throw exception if it doesn't<br>
<b>return:</b> section_info Information for numbered section or null if not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear_instance_cache" onClick="logFunction('clear_instance_cache', 'modinfolib.php.source.html#l346')" href="modinfolib.php.source.html#l346">clear_instance_cache</a>(<a href="../_variables/courseorid.html">$courseorid</a> = null)&nbsp;&nbsp;
<a href="../_functions/clear_instance_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clears the cache used in course_modinfo::instance()<BR>
</b><BR>Used in {@link get_fast_modinfo()} when called with argument $reset = true<BR>
and in {@link rebuild_course_cache()}<BR>
<BR>
<b>param:</b> null|int|stdClass $courseorid if specified removes only cached value for this course<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="instance" onClick="logFunction('instance', 'modinfolib.php.source.html#l373')" href="modinfolib.php.source.html#l373">instance</a>(<a href="../_variables/courseorid.html">$courseorid</a>, <a href="../_variables/userid.html">$userid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the instance of course_modinfo for the specified course and specified user<BR>
</b><BR>This function uses static cache for the retrieved instances. The cache<BR>
size is limited by MAX_MODINFO_CACHE_SIZE. If instance is not found in<BR>
the static cache or it was created for another user or the cacherev validation<BR>
failed - a new instance is constructed and returned.<BR>
<BR>
Used in {@link get_fast_modinfo()}<BR>
<BR>
<b>param:</b> int|stdClass $courseorid object from DB table 'course' (must have field 'id'<br>
<b>param:</b> int $userid User id to populate 'availble' and 'uservisible' attributes of modules and sections.<br>
<b>return:</b> course_modinfo<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'modinfolib.php.source.html#l429')" href="modinfolib.php.source.html#l429">__construct</a>(<a href="../_variables/course.html">$course</a>, <a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs based on course.<BR>
Note: This constructor should not usually be called directly.<BR>
Use get_fast_modinfo($course) instead as this maintains a cache.<BR>
</b><BR><b>param:</b> stdClass $course course object, only property id is required.<br>
<b>param:</b> int $userid User ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_section_cache" onClick="logFunction('build_section_cache', 'modinfolib.php.source.html#l533')" href="modinfolib.php.source.html#l533">build_section_cache</a>(<a href="../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../_functions/build_section_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Builds a list of information about sections on a course to be stored in<BR>
the course cache. (Does not include information that is already cached<BR>
in some other way.)<BR>
</b><BR>This function will be removed in 2.7<BR>
<BR>
<b>param:</b> int $courseid Course ID<br>
<b>return:</b> array Information about sections, indexed by section number (not id)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_course_section_cache" onClick="logFunction('build_course_section_cache', 'modinfolib.php.source.html#l552')" href="modinfolib.php.source.html#l552">build_course_section_cache</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/build_course_section_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Builds a list of information about sections on a course to be stored in<BR>
the course cache. (Does not include information that is already cached<BR>
in some other way.)<BR>
</b><BR><b>param:</b> stdClass $course Course object (must contain fields<br>
<b>return:</b> array Information about sections, indexed by section number (not id)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_course_cache" onClick="logFunction('build_course_cache', 'modinfolib.php.source.html#l589')" href="modinfolib.php.source.html#l589">build_course_cache</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/build_course_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Builds and stores in MUC object containing information about course<BR>
modules and sections together with cached fields from table course.<BR>
</b><BR><b>param:</b> stdClass $course object from DB table course. Must have property 'id'<br>
<b>return:</b> stdClass object with all cached keys of the course plus fields modinfo and sectioncache.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="cm_info"><b>cm_info</b></a>&nbsp;&nbsp;- <a href="../_classes/cm_info.html"><small>X-Ref</small></a>
</p>
<b>Data about a single module on a course. This contains most of the fields in the course_modules<BR>
table, plus additional data when required.<BR>
</b><br>
The object can be accessed by core or any plugin (i.e. course format, block, filter, etc.) as<BR>
get_fast_modinfo($courseorid)-&gt;cms[$coursemoduleid]<BR>
or<BR>
get_fast_modinfo($courseorid)-&gt;instances[$moduletype][$instanceid]<BR>
<BR>
There are three stages when activity module can add/modify data in this object:<BR>
<BR>
&lt;b&gt;Stage 1 - during building the cache.&lt;/b&gt;<BR>
Allows to add to the course cache static user-independent information about the module.<BR>
Modules should try to include only absolutely necessary information that may be required<BR>
when displaying course view page. The information is stored in application-level cache<BR>
and reset when {@link rebuild_course_cache()} is called or cache is purged by admin.<BR>
<BR>
Modules can implement callback XXX_get_coursemodule_info() returning instance of object<BR>
{@link cached_cm_info}<BR>
<BR>
&lt;b&gt;Stage 2 - dynamic data.&lt;/b&gt;<BR>
Dynamic data is user-dependend, it is stored in request-level cache. To reset this cache<BR>
{@link get_fast_modinfo()} with $reset argument may be called.<BR>
<BR>
Dynamic data is obtained when any of the following properties/methods is requested:<BR>
- {@link cm_info::$url}<BR>
- {@link cm_info::$name}<BR>
- {@link cm_info::$onclick}<BR>
- {@link cm_info::get_icon_url()}<BR>
- {@link cm_info::$uservisible}<BR>
- {@link cm_info::$available}<BR>
- {@link cm_info::$availableinfo}<BR>
- plus any of the properties listed in Stage 3.<BR>
<BR>
Modules can implement callback &lt;b&gt;XXX_cm_info_dynamic()&lt;/b&gt; and inside this callback they<BR>
are allowed to use any of the following set methods:<BR>
- {@link cm_info::set_available()}<BR>
- {@link cm_info::set_name()}<BR>
- {@link cm_info::set_no_view_link()}<BR>
- {@link cm_info::set_user_visible()}<BR>
- {@link cm_info::set_on_click()}<BR>
- {@link cm_info::set_icon_url()}<BR>
Any methods affecting view elements can also be set in this callback.<BR>
<BR>
&lt;b&gt;Stage 3 (view data).&lt;/b&gt;<BR>
Also user-dependend data stored in request-level cache. Second stage is created<BR>
because populating the view data can be expensive as it may access much more<BR>
Moodle APIs such as filters, user information, output renderers and we<BR>
don't want to request it until necessary.<BR>
View data is obtained when any of the following properties/methods is requested:<BR>
- {@link cm_info::$afterediticons}<BR>
- {@link cm_info::$content}<BR>
- {@link cm_info::get_formatted_content()}<BR>
- {@link cm_info::$extraclasses}<BR>
- {@link cm_info::$afterlink}<BR>
<BR>
Modules can implement callback &lt;b&gt;XXX_cm_info_view()&lt;/b&gt; and inside this callback they<BR>
are allowed to use any of the following set methods:<BR>
- {@link cm_info::set_after_edit_icons()}<BR>
- {@link cm_info::set_after_link()}<BR>
- {@link cm_info::set_content()}<BR>
- {@link cm_info::set_extra_classes()}<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__call" onClick="logFunction('__call', 'modinfolib.php.source.html#l1126')" href="modinfolib.php.source.html#l1126">__call</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/arguments.html">$arguments</a>)&nbsp;&nbsp;
<a href="../_functions/__call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method to call functions that are now declared as private now but<BR>
were public in Moodle before 2.6. Developers can access them without<BR>
any warnings but they are not listed in the class methods list.<BR>
</b><BR><b>param:</b> string $name<br>
<b>param:</b> array $arguments<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__get" onClick="logFunction('__get', 'modinfolib.php.source.html#l1153')" href="modinfolib.php.source.html#l1153">__get</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method getter<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getiterator" onClick="logFunction('getiterator', 'modinfolib.php.source.html#l1172')" href="modinfolib.php.source.html#l1172">getIterator</a>()&nbsp;&nbsp;
<a href="../_functions/getiterator.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Implementation of IteratorAggregate::getIterator(), allows to cycle through properties<BR>
and use {@link convert_to_array()}<BR>
</b><BR><b>return:</b> ArrayIterator<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__isset" onClick="logFunction('__isset', 'modinfolib.php.source.html#l1193')" href="modinfolib.php.source.html#l1193">__isset</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__isset.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method for function isset()<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__empty" onClick="logFunction('__empty', 'modinfolib.php.source.html#l1207')" href="modinfolib.php.source.html#l1207">__empty</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__empty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method for function empty()<BR>
</b><BR><b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__set" onClick="logFunction('__set', 'modinfolib.php.source.html#l1221')" href="modinfolib.php.source.html#l1221">__set</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/value.html">$value</a>)&nbsp;&nbsp;
<a href="../_functions/__set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method setter<BR>
</b><BR>Will display the developer warning when trying to set/overwrite property.<BR>
<BR>
<b>param:</b> string $name<br>
<b>param:</b> mixed $value<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_view" onClick="logFunction('has_view', 'modinfolib.php.source.html#l1238')" href="modinfolib.php.source.html#l1238">has_view</a>()&nbsp;&nbsp;
<a href="../_functions/has_view.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> bool True if this module has a 'view' page that should be linked to in navigation<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_url" onClick="logFunction('get_url', 'modinfolib.php.source.html#l1245')" href="modinfolib.php.source.html#l1245">get_url</a>()&nbsp;&nbsp;
<a href="../_functions/get_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> moodle_url URL to link to for this module, or null if it doesn't have a view page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_content" onClick="logFunction('get_content', 'modinfolib.php.source.html#l1250')" href="modinfolib.php.source.html#l1250">get_content</a>()&nbsp;&nbsp;
<a href="../_functions/get_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains content to display on main (view) page.<BR>
Note: Will collect view data, if not already obtained.<BR>
</b><BR><b>return:</b> string Content to display on main page below link, or empty string if none<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_formatted_content" onClick="logFunction('get_formatted_content', 'modinfolib.php.source.html#l1260')" href="modinfolib.php.source.html#l1260">get_formatted_content</a>(<a href="../_variables/options.html">$options</a> = array()&nbsp;&nbsp;
<a href="../_functions/get_formatted_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the content to display on course/overview page, formatted and passed through filters<BR>
</b><BR>if $options['context'] is not specified, the module context is used<BR>
<BR>
<b>param:</b> array|stdClass $options formatting options, see {@link format_text()}<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_name" onClick="logFunction('get_name', 'modinfolib.php.source.html#l1285')" href="modinfolib.php.source.html#l1285">get_name</a>()&nbsp;&nbsp;
<a href="../_functions/get_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter method for property $name, ensures that dynamic data is obtained.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_formatted_name" onClick="logFunction('get_formatted_name', 'modinfolib.php.source.html#l1294')" href="modinfolib.php.source.html#l1294">get_formatted_name</a>(<a href="../_variables/options.html">$options</a> = array()&nbsp;&nbsp;
<a href="../_functions/get_formatted_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the name to display on course/overview page, formatted and passed through filters<BR>
</b><BR>if $options['context'] is not specified, the module context is used<BR>
<BR>
<b>param:</b> array|stdClass $options formatting options, see {@link format_string()}<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extra_classes" onClick="logFunction('get_extra_classes', 'modinfolib.php.source.html#l1317')" href="modinfolib.php.source.html#l1317">get_extra_classes</a>()&nbsp;&nbsp;
<a href="../_functions/get_extra_classes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Note: Will collect view data, if not already obtained.<BR>
</b><BR><b>return:</b> string Extra CSS classes to add to html output for this activity on main page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_on_click" onClick="logFunction('get_on_click', 'modinfolib.php.source.html#l1330')" href="modinfolib.php.source.html#l1330">get_on_click</a>()&nbsp;&nbsp;
<a href="../_functions/get_on_click.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> string Content of HTML on-click attribute. This string will be used literally<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_custom_data" onClick="logFunction('get_custom_data', 'modinfolib.php.source.html#l1338')" href="modinfolib.php.source.html#l1338">get_custom_data</a>()&nbsp;&nbsp;
<a href="../_functions/get_custom_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> mixed Optional custom data stored in modinfo cache for this activity, or null if none<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_after_link" onClick="logFunction('get_after_link', 'modinfolib.php.source.html#l1342')" href="modinfolib.php.source.html#l1342">get_after_link</a>()&nbsp;&nbsp;
<a href="../_functions/get_after_link.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Note: Will collect view data, if not already obtained.<BR>
</b><BR><b>return:</b> string Extra HTML code to display after link<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_after_edit_icons" onClick="logFunction('get_after_edit_icons', 'modinfolib.php.source.html#l1351')" href="modinfolib.php.source.html#l1351">get_after_edit_icons</a>()&nbsp;&nbsp;
<a href="../_functions/get_after_edit_icons.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Note: Will collect view data, if not already obtained.<BR>
</b><BR><b>return:</b> string Extra HTML code to display after editing icons (e.g. more icons)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_icon_url" onClick="logFunction('get_icon_url', 'modinfolib.php.source.html#l1364')" href="modinfolib.php.source.html#l1364">get_icon_url</a>(<a href="../_variables/output.html">$output</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_icon_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> moodle_core_renderer $output Output render to use, or null for default (global)<br>
<b>return:</b> moodle_url Icon URL for a suitable icon to put beside this cm<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_grouping_label" onClick="logFunction('get_grouping_label', 'modinfolib.php.source.html#l1398')" href="modinfolib.php.source.html#l1398">get_grouping_label</a>(<a href="../_variables/textclasses.html">$textclasses</a> = '')&nbsp;&nbsp;
<a href="../_functions/get_grouping_label.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> string $textclasses additionnal classes for grouping label<br>
<b>return:</b> string An empty string or HTML grouping label span tag<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_module_type_name" onClick="logFunction('get_module_type_name', 'modinfolib.php.source.html#l1408')" href="modinfolib.php.source.html#l1408">get_module_type_name</a>(<a href="../_variables/plural.html">$plural</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_module_type_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a localised human-readable name of the module type<BR>
</b><BR><b>param:</b> bool $plural return plural form<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_module_type_name_plural" onClick="logFunction('get_module_type_name_plural', 'modinfolib.php.source.html#l1423')" href="modinfolib.php.source.html#l1423">get_module_type_name_plural</a>()&nbsp;&nbsp;
<a href="../_functions/get_module_type_name_plural.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a localised human-readable name of the module type in plural form - calculated on request<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_modinfo" onClick="logFunction('get_modinfo', 'modinfolib.php.source.html#l1435')" href="modinfolib.php.source.html#l1435">get_modinfo</a>()&nbsp;&nbsp;
<a href="../_functions/get_modinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> course_modinfo Modinfo object that this came from<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course" onClick="logFunction('get_course', 'modinfolib.php.source.html#l1439')" href="modinfolib.php.source.html#l1439">get_course</a>()&nbsp;&nbsp;
<a href="../_functions/get_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns course object that was used in the first {@link get_fast_modinfo()} call.<BR>
</b><BR>It may not contain all fields from DB table {course} but always has at least the following:<BR>
id,shortname,fullname,format,enablecompletion,groupmode,groupmodeforce,cacherev<BR>
<BR>
If the course object lacks the field you need you can use the global<BR>
function {@link get_course()} that will save extra query if you access<BR>
current course or frontpage course.<BR>
<BR>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_id" onClick="logFunction('get_course_id', 'modinfolib.php.source.html#l1455')" href="modinfolib.php.source.html#l1455">get_course_id</a>()&nbsp;&nbsp;
<a href="../_functions/get_course_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns course id for which the modinfo was generated.<BR>
</b><BR><b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_groupmode" onClick="logFunction('get_course_groupmode', 'modinfolib.php.source.html#l1464')" href="modinfolib.php.source.html#l1464">get_course_groupmode</a>()&nbsp;&nbsp;
<a href="../_functions/get_course_groupmode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns group mode used for the course containing the module<BR>
</b><BR><b>return:</b> int one of constants NOGROUPS, SEPARATEGROUPS, VISIBLEGROUPS<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_groupmodeforce" onClick="logFunction('get_course_groupmodeforce', 'modinfolib.php.source.html#l1473')" href="modinfolib.php.source.html#l1473">get_course_groupmodeforce</a>()&nbsp;&nbsp;
<a href="../_functions/get_course_groupmodeforce.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether group mode is forced for the course containing the module<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_effective_groupmode" onClick="logFunction('get_effective_groupmode', 'modinfolib.php.source.html#l1482')" href="modinfolib.php.source.html#l1482">get_effective_groupmode</a>()&nbsp;&nbsp;
<a href="../_functions/get_effective_groupmode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns effective groupmode of the module that may be overwritten by forced course groupmode.<BR>
</b><BR><b>return:</b> int one of constants NOGROUPS, SEPARATEGROUPS, VISIBLEGROUPS<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_context" onClick="logFunction('get_context', 'modinfolib.php.source.html#l1501')" href="modinfolib.php.source.html#l1501">get_context</a>()&nbsp;&nbsp;
<a href="../_functions/get_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> context_module Current module context<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_module_record" onClick="logFunction('get_course_module_record', 'modinfolib.php.source.html#l1505')" href="modinfolib.php.source.html#l1505">get_course_module_record</a>(<a href="../_variables/additionalfields.html">$additionalfields</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_course_module_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns itself in the form of stdClass.<BR>
</b><BR>The object includes all fields that table course_modules has and additionally<BR>
fields 'name', 'modname', 'sectionnum' (if requested).<BR>
<BR>
This can be used as a faster alternative to {@link get_coursemodule_from_id()}<BR>
<BR>
<b>param:</b> bool $additionalfields include additional fields 'name', 'modname', 'sectionnum'<br>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_content" onClick="logFunction('set_content', 'modinfolib.php.source.html#l1541')" href="modinfolib.php.source.html#l1541">set_content</a>(<a href="../_variables/content.html">$content</a>)&nbsp;&nbsp;
<a href="../_functions/set_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets content to display on course view page below link (if present).<BR>
</b><BR><b>param:</b> string $content New content as HTML string (empty string if none)<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_extra_classes" onClick="logFunction('set_extra_classes', 'modinfolib.php.source.html#l1550')" href="modinfolib.php.source.html#l1550">set_extra_classes</a>(<a href="../_variables/extraclasses.html">$extraclasses</a>)&nbsp;&nbsp;
<a href="../_functions/set_extra_classes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets extra classes to include in CSS.<BR>
</b><BR><b>param:</b> string $extraclasses Extra classes (empty string if none)<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_icon_url" onClick="logFunction('set_icon_url', 'modinfolib.php.source.html#l1559')" href="modinfolib.php.source.html#l1559">set_icon_url</a>(moodle_url <a href="../_variables/iconurl.html">$iconurl</a>)&nbsp;&nbsp;
<a href="../_functions/set_icon_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the external full url that points to the icon being used<BR>
by the activity. Useful for external-tool modules (lti...)<BR>
If set, takes precedence over $icon and $iconcomponent<BR>
</b><BR><b>param:</b> moodle_url $iconurl full external url pointing to icon image for activity<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_on_click" onClick="logFunction('set_on_click', 'modinfolib.php.source.html#l1571')" href="modinfolib.php.source.html#l1571">set_on_click</a>(<a href="../_variables/onclick.html">$onclick</a>)&nbsp;&nbsp;
<a href="../_functions/set_on_click.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets value of on-click attribute for JavaScript.<BR>
Note: May not be called from _cm_info_view (only _cm_info_dynamic).<BR>
</b><BR><b>param:</b> string $onclick New onclick attribute which should be HTML-escaped<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_after_link" onClick="logFunction('set_after_link', 'modinfolib.php.source.html#l1583')" href="modinfolib.php.source.html#l1583">set_after_link</a>(<a href="../_variables/afterlink.html">$afterlink</a>)&nbsp;&nbsp;
<a href="../_functions/set_after_link.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets HTML that displays after link on course view page.<BR>
</b><BR><b>param:</b> string $afterlink HTML string (empty string if none)<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_after_edit_icons" onClick="logFunction('set_after_edit_icons', 'modinfolib.php.source.html#l1592')" href="modinfolib.php.source.html#l1592">set_after_edit_icons</a>(<a href="../_variables/afterediticons.html">$afterediticons</a>)&nbsp;&nbsp;
<a href="../_functions/set_after_edit_icons.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets HTML that displays after edit icons on course view page.<BR>
</b><BR><b>param:</b> string $afterediticons HTML string (empty string if none)<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_name" onClick="logFunction('set_name', 'modinfolib.php.source.html#l1601')" href="modinfolib.php.source.html#l1601">set_name</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/set_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Changes the name (text of link) for this module instance.<BR>
Note: May not be called from _cm_info_view (only _cm_info_dynamic).<BR>
</b><BR><b>param:</b> string $name Name of activity / link text<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_no_view_link" onClick="logFunction('set_no_view_link', 'modinfolib.php.source.html#l1614')" href="modinfolib.php.source.html#l1614">set_no_view_link</a>()&nbsp;&nbsp;
<a href="../_functions/set_no_view_link.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Turns off the view link for this module instance.<BR>
Note: May not be called from _cm_info_view (only _cm_info_dynamic).<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_user_visible" onClick="logFunction('set_user_visible', 'modinfolib.php.source.html#l1624')" href="modinfolib.php.source.html#l1624">set_user_visible</a>(<a href="../_variables/uservisible.html">$uservisible</a>)&nbsp;&nbsp;
<a href="../_functions/set_user_visible.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the 'uservisible' flag. This can be used (by setting false) to prevent access and<BR>
display of this module link for the current user.<BR>
Note: May not be called from _cm_info_view (only _cm_info_dynamic).<BR>
</b><BR><b>param:</b> bool $uservisible<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_available" onClick="logFunction('set_available', 'modinfolib.php.source.html#l1636')" href="modinfolib.php.source.html#l1636">set_available</a>(<a href="../_variables/available.html">$available</a>, <a href="../_variables/showavailability.html">$showavailability</a>=0, <a href="../_variables/availableinfo.html">$availableinfo</a>='')&nbsp;&nbsp;
<a href="../_functions/set_available.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the 'available' flag and related details. This flag is normally used to make<BR>
course modules unavailable until a certain date or condition is met. (When a course<BR>
module is unavailable, it is still visible to users who have viewhiddenactivities<BR>
permission.)<BR>
</b><BR>When this is function is called, user-visible status is recalculated automatically.<BR>
<BR>
The $showavailability flag does not really do anything any more, but is retained<BR>
for backward compatibility. Setting this to false will cause $availableinfo to<BR>
be ignored.<BR>
<BR>
Note: May not be called from _cm_info_view (only _cm_info_dynamic).<BR>
<b>param:</b> bool $available False if this item is not 'available'<br>
<b>param:</b> int $showavailability 0 = do not show this item at all if it's not available,<br>
<b>param:</b> string $availableinfo Information about why this is not available, or<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_not_view_only" onClick="logFunction('check_not_view_only', 'modinfolib.php.source.html#l1666')" href="modinfolib.php.source.html#l1666">check_not_view_only</a>()&nbsp;&nbsp;
<a href="../_functions/check_not_view_only.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Some set functions can only be called from _cm_info_dynamic and not _cm_info_view.<BR>
This is because they may affect parts of this object which are used on pages other<BR>
than the view page (e.g. in the navigation block, or when checking access on<BR>
module pages).<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'modinfolib.php.source.html#l1680')" href="modinfolib.php.source.html#l1680">__construct</a>(course_modinfo <a href="../_variables/modinfo.html">$modinfo</a>, <a href="../_variables/notused1.html">$notused1</a>, <a href="../_variables/mod.html">$mod</a>, <a href="../_variables/notused2.html">$notused2</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor should not be called directly; use {@link get_fast_modinfo()}<BR>
</b><BR><b>param:</b> course_modinfo $modinfo Parent object<br>
<b>param:</b> stdClass $notused1 Argument not used<br>
<b>param:</b> stdClass $mod Module object from the modinfo field of course table<br>
<b>param:</b> stdClass $notused2 Argument not used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create" onClick="logFunction('create', 'modinfolib.php.source.html#l1747')" href="modinfolib.php.source.html#l1747">create</a>(<a href="../_variables/cm.html">$cm</a>, <a href="../_variables/userid.html">$userid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/create.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a cm_info object from a database record (also accepts cm_info<BR>
in which case it is just returned unchanged).<BR>
</b><BR><b>param:</b> stdClass|cm_info|null|bool $cm Stdclass or cm_info (or null or false)<br>
<b>param:</b> int $userid Optional userid (default to current)<br>
<b>return:</b> cm_info|null Object as cm_info, or null if input was null/false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="obtain_dynamic_data" onClick="logFunction('obtain_dynamic_data', 'modinfolib.php.source.html#l1772')" href="modinfolib.php.source.html#l1772">obtain_dynamic_data</a>()&nbsp;&nbsp;
<a href="../_functions/obtain_dynamic_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If dynamic data for this course-module is not yet available, gets it.<BR>
</b><BR>This function is automatically called when requesting any course_modinfo property<BR>
that can be modified by modules (have a set_xxx method).<BR>
<BR>
Dynamic data is data which does not come directly from the cache but is calculated at<BR>
runtime based on the current user. Primarily this concerns whether the user can access<BR>
the module or not.<BR>
<BR>
As part of this function, the module's _cm_info_dynamic function from its lib.php will<BR>
be called (if it exists).<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_visible" onClick="logFunction('get_user_visible', 'modinfolib.php.source.html#l1825')" href="modinfolib.php.source.html#l1825">get_user_visible</a>()&nbsp;&nbsp;
<a href="../_functions/get_user_visible.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter method for property $uservisible, ensures that dynamic data is retrieved.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_available" onClick="logFunction('get_available', 'modinfolib.php.source.html#l1834')" href="modinfolib.php.source.html#l1834">get_available</a>()&nbsp;&nbsp;
<a href="../_functions/get_available.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter method for property $available, ensures that dynamic data is retrieved<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_deprecated_group_members_only" onClick="logFunction('get_deprecated_group_members_only', 'modinfolib.php.source.html#l1843')" href="modinfolib.php.source.html#l1843">get_deprecated_group_members_only</a>()&nbsp;&nbsp;
<a href="../_functions/get_deprecated_group_members_only.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter method for $availablefrom and $availableuntil. Just returns zero<BR>
as these are no longer supported.<BR>
</b><BR><b>return:</b> int Zero<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_available_info" onClick="logFunction('get_available_info', 'modinfolib.php.source.html#l1858')" href="modinfolib.php.source.html#l1858">get_available_info</a>()&nbsp;&nbsp;
<a href="../_functions/get_available_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter method for property $availableinfo, ensures that dynamic data is retrieved<BR>
</b><BR><b>return:</b> string Available info (HTML)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_user_visible" onClick="logFunction('update_user_visible', 'modinfolib.php.source.html#l1868')" href="modinfolib.php.source.html#l1868">update_user_visible</a>()&nbsp;&nbsp;
<a href="../_functions/update_user_visible.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Works out whether activity is available to the current user<BR>
</b><BR>If the activity is unavailable, additional checks are required to determine if its hidden or greyed out<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_user_access_restricted_by_group" onClick="logFunction('is_user_access_restricted_by_group', 'modinfolib.php.source.html#l1899')" href="modinfolib.php.source.html#l1899">is_user_access_restricted_by_group</a>()&nbsp;&nbsp;
<a href="../_functions/is_user_access_restricted_by_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the module's group settings restrict the current user's<BR>
access. This function is not necessary now that all access restrictions<BR>
are handled by the availability API. You can use $cm-&gt;uservisible to<BR>
find out if the current user can access an activity, or $cm-&gt;availableinfo<BR>
to get information about why not.<BR>
</b><BR><b>return:</b> bool False<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_user_access_restricted_by_capability" onClick="logFunction('is_user_access_restricted_by_capability', 'modinfolib.php.source.html#l1916')" href="modinfolib.php.source.html#l1916">is_user_access_restricted_by_capability</a>()&nbsp;&nbsp;
<a href="../_functions/is_user_access_restricted_by_capability.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether mod/...:view capability restricts the current user's access.<BR>
</b><BR><b>return:</b> bool True if the user access is restricted.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_user_access_restricted_by_conditional_access" onClick="logFunction('is_user_access_restricted_by_conditional_access', 'modinfolib.php.source.html#l1937')" href="modinfolib.php.source.html#l1937">is_user_access_restricted_by_conditional_access</a>()&nbsp;&nbsp;
<a href="../_functions/is_user_access_restricted_by_conditional_access.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the module's conditional access settings mean that the<BR>
user cannot see the activity at all<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="call_mod_function" onClick="logFunction('call_mod_function', 'modinfolib.php.source.html#l1950')" href="modinfolib.php.source.html#l1950">call_mod_function</a>(<a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/call_mod_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Calls a module function (if exists), passing in one parameter: this object.<BR>
</b><BR><b>param:</b> string $type Name of function e.g. if this is 'grooblezorb' and the modname is<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="obtain_view_data" onClick="logFunction('obtain_view_data', 'modinfolib.php.source.html#l1973')" href="modinfolib.php.source.html#l1973">obtain_view_data</a>()&nbsp;&nbsp;
<a href="../_functions/obtain_view_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If view data for this course-module is not yet available, obtains it.<BR>
</b><BR>This function is automatically called if any of the functions (marked) which require<BR>
view data are called.<BR>
<BR>
View data is data which is needed only for displaying the course main page (&amp; any similar<BR>
functionality on other pages) but is not needed in general. Obtaining view data may have<BR>
a performance cost.<BR>
<BR>
As part of this function, the module's _cm_info_view function from its lib.php will<BR>
be called (if it exists).<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_fast_modinfo" onClick="logFunction('get_fast_modinfo', 'modinfolib.php.source.html#l2001')" href="modinfolib.php.source.html#l2001">get_fast_modinfo</a>(<a href="../_variables/courseorid.html">$courseorid</a>, <a href="../_variables/userid.html">$userid</a> = 0, <a href="../_variables/resetonly.html">$resetonly</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_fast_modinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns reference to full info about modules in course (including visibility).<BR>
Cached and as fast as possible (0 or 1 db query).<BR>
</b><BR>use get_fast_modinfo($courseid, 0, true) to reset the static cache for particular course<BR>
use get_fast_modinfo(0, 0, true) to reset the static cache for all courses<BR>
<BR>
use rebuild_course_cache($courseid, true) to reset the application AND static cache<BR>
for particular course when it's contents has changed<BR>
<BR>
<b>param:</b> int|stdClass $courseorid object from DB table 'course' (must have field 'id'<br>
<b>param:</b> int $userid User id to populate 'availble' and 'uservisible' attributes of modules and sections.<br>
<b>param:</b> bool $resetonly whether we want to get modinfo or just reset the cache<br>
<b>return:</b> course_modinfo|null Module information for course, or null if resetting<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_and_cm_from_cmid" onClick="logFunction('get_course_and_cm_from_cmid', 'modinfolib.php.source.html#l2044')" href="modinfolib.php.source.html#l2044">get_course_and_cm_from_cmid</a>(<a href="../_variables/cmorid.html">$cmorid</a>, <a href="../_variables/modulename.html">$modulename</a> = '', <a href="../_variables/courseorid.html">$courseorid</a> = 0, <a href="../_variables/userid.html">$userid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/get_course_and_cm_from_cmid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given<BR>
a cmid. If module name is also provided, it will ensure the cm is of that type.<BR>
</b><BR>Usage:<BR>
list($course, $cm) = get_course_and_cm_from_cmid($cmid, 'forum');<BR>
<BR>
Using this method has a performance advantage because it works by loading<BR>
modinfo for the course - which will then be cached and it is needed later<BR>
in most requests. It also guarantees that the $cm object is a cm_info and<BR>
not a stdclass.<BR>
<BR>
The $course object can be supplied if already known and will speed<BR>
up this function - although it is more efficient to use this function to<BR>
get the course if you are starting from a cmid.<BR>
<BR>
To avoid security problems and obscure bugs, you should always specify<BR>
$modulename if the cmid value came from user input.<BR>
<BR>
By default this obtains information (for example, whether user can access<BR>
the activity) for current user, but you can specify a userid if required.<BR>
<BR>
<b>param:</b> stdClass|int $cmorid Id of course-module, or database object<br>
<b>param:</b> string $modulename Optional modulename (improves security)<br>
<b>param:</b> stdClass|int $courseorid Optional course object if already loaded<br>
<b>param:</b> int $userid Optional userid (default = current)<br>
<b>return:</b> array Array with 2 elements $course and $cm<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_and_cm_from_instance" onClick="logFunction('get_course_and_cm_from_instance', 'modinfolib.php.source.html#l2123')" href="modinfolib.php.source.html#l2123">get_course_and_cm_from_instance</a>(<a href="../_variables/instanceorid.html">$instanceorid</a>, <a href="../_variables/modulename.html">$modulename</a>, <a href="../_variables/courseorid.html">$courseorid</a> = 0, <a href="../_variables/userid.html">$userid</a> = 0)&nbsp;&nbsp;
<a href="../_functions/get_course_and_cm_from_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given<BR>
an instance id or record and module name.<BR>
</b><BR>Usage:<BR>
list($course, $cm) = get_course_and_cm_from_instance($forum, 'forum');<BR>
<BR>
Using this method has a performance advantage because it works by loading<BR>
modinfo for the course - which will then be cached and it is needed later<BR>
in most requests. It also guarantees that the $cm object is a cm_info and<BR>
not a stdclass.<BR>
<BR>
The $course object can be supplied if already known and will speed<BR>
up this function - although it is more efficient to use this function to<BR>
get the course if you are starting from an instance id.<BR>
<BR>
By default this obtains information (for example, whether user can access<BR>
the activity) for current user, but you can specify a userid if required.<BR>
<BR>
<b>param:</b> stdclass|int $instanceorid Id of module instance, or database object<br>
<b>param:</b> string $modulename Modulename (required)<br>
<b>param:</b> stdClass|int $courseorid Optional course object if already loaded<br>
<b>param:</b> int $userid Optional userid (default = current)<br>
<b>return:</b> array Array with 2 elements $course and $cm<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="rebuild_course_cache" onClick="logFunction('rebuild_course_cache', 'modinfolib.php.source.html#l2203')" href="modinfolib.php.source.html#l2203">rebuild_course_cache</a>(<a href="../_variables/courseid.html">$courseid</a>=0, <a href="../_variables/clearonly.html">$clearonly</a>=false)&nbsp;&nbsp;
<a href="../_functions/rebuild_course_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Rebuilds or resets the cached list of course activities stored in MUC.<BR>
</b><BR>rebuild_course_cache() must NEVER be called from lib/db/upgrade.php.<BR>
At the same time course cache may ONLY be cleared using this function in<BR>
upgrade scripts of plugins.<BR>
<BR>
During the bulk operations if it is necessary to reset cache of multiple<BR>
courses it is enough to call {@link increment_revision_number()} for the<BR>
table 'course' and field 'cacherev' specifying affected courses in select.<BR>
<BR>
Cached course information is stored in MUC core/coursemodinfo and is<BR>
validated with the DB field {course}.cacherev<BR>
<BR>
<b>param:</b> int $courseid id of course to rebuild, empty means all<br>
<b>param:</b> boolean $clearonly only clear the cache, gets rebuild automatically on the fly.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="cached_cm_info"><b>cached_cm_info</b></a>&nbsp;&nbsp;- <a href="../_classes/cached_cm_info.html"><small>X-Ref</small></a>
</p>
<b>Class that is the return value for the _get_coursemodule_info module API function.<BR>
</b><br>
Note: For backward compatibility, you can also return a stdclass object from that function.<BR>
The difference is that the stdclass object may contain an 'extra' field (deprecated,<BR>
use extraclasses and onclick instead). The stdclass object may not contain<BR>
the new fields defined here (content, extraclasses, customdata).<BR>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="section_info"><b>section_info</b></a>&nbsp;&nbsp;- <a href="../_classes/section_info.html"><small>X-Ref</small></a>
</p>
<b>Data about a single section on a course. This contains the fields from the<BR>
course_sections table, plus additional data when required.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'modinfolib.php.source.html#l2516')" href="modinfolib.php.source.html#l2516">__construct</a>(<a href="../_variables/data.html">$data</a>, <a href="../_variables/number.html">$number</a>, <a href="../_variables/notused1.html">$notused1</a>, <a href="../_variables/notused2.html">$notused2</a>, <a href="../_variables/modinfo.html">$modinfo</a>, <a href="../_variables/notused3.html">$notused3</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs object from database information plus extra required data.<BR>
</b><BR><b>param:</b> object $data Array entry from cached sectioncache<br>
<b>param:</b> int $number Section number (array key)<br>
<b>param:</b> int $notused1 argument not used (informaion is available in $modinfo)<br>
<b>param:</b> int $notused2 argument not used (informaion is available in $modinfo)<br>
<b>param:</b> course_modinfo $modinfo Owner (needed for checking availability)<br>
<b>param:</b> int $notused3 argument not used (informaion is available in $modinfo)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__isset" onClick="logFunction('__isset', 'modinfolib.php.source.html#l2569')" href="modinfolib.php.source.html#l2569">__isset</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__isset.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method to check if the property is set<BR>
</b><BR><b>param:</b> string $name name of the property<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__empty" onClick="logFunction('__empty', 'modinfolib.php.source.html#l2585')" href="modinfolib.php.source.html#l2585">__empty</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__empty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method to check if the property is empty<BR>
</b><BR><b>param:</b> string $name name of the property<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__get" onClick="logFunction('__get', 'modinfolib.php.source.html#l2601')" href="modinfolib.php.source.html#l2601">__get</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/__get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method to retrieve the property, this is either basic section property<BR>
or availability information or additional properties added by course format<BR>
</b><BR><b>param:</b> string $name name of the property<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_available" onClick="logFunction('get_available', 'modinfolib.php.source.html#l2627')" href="modinfolib.php.source.html#l2627">get_available</a>()&nbsp;&nbsp;
<a href="../_functions/get_available.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds whether this section is available at the moment for the current user.<BR>
</b><BR>The value can be accessed publicly as $sectioninfo-&gt;available<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_availableinfo" onClick="logFunction('get_availableinfo', 'modinfolib.php.source.html#l2660')" href="modinfolib.php.source.html#l2660">get_availableinfo</a>()&nbsp;&nbsp;
<a href="../_functions/get_availableinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the availability text shown next to the section on course page.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getiterator" onClick="logFunction('getiterator', 'modinfolib.php.source.html#l2672')" href="modinfolib.php.source.html#l2672">getIterator</a>()&nbsp;&nbsp;
<a href="../_functions/getiterator.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Implementation of IteratorAggregate::getIterator(), allows to cycle through properties<BR>
and use {@link convert_to_array()}<BR>
</b><BR><b>return:</b> ArrayIterator<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_uservisible" onClick="logFunction('get_uservisible', 'modinfolib.php.source.html#l2695')" href="modinfolib.php.source.html#l2695">get_uservisible</a>()&nbsp;&nbsp;
<a href="../_functions/get_uservisible.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Works out whether activity is visible *for current user* - if this is false, they<BR>
aren't allowed to access it.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_sequence" onClick="logFunction('get_sequence', 'modinfolib.php.source.html#l2717')" href="modinfolib.php.source.html#l2717">get_sequence</a>()&nbsp;&nbsp;
<a href="../_functions/get_sequence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Restores the course_sections.sequence value<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course" onClick="logFunction('get_course', 'modinfolib.php.source.html#l2730')" href="modinfolib.php.source.html#l2730">get_course</a>()&nbsp;&nbsp;
<a href="../_functions/get_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns course ID - from course_sections table<BR>
</b><BR><b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_modinfo" onClick="logFunction('get_modinfo', 'modinfolib.php.source.html#l2739')" href="modinfolib.php.source.html#l2739">get_modinfo</a>()&nbsp;&nbsp;
<a href="../_functions/get_modinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Modinfo object<BR>
</b><BR><b>return:</b> course_modinfo<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="convert_for_section_cache" onClick="logFunction('convert_for_section_cache', 'modinfolib.php.source.html#l2748')" href="modinfolib.php.source.html#l2748">convert_for_section_cache</a>(<a href="../_variables/section.html">$section</a>)&nbsp;&nbsp;
<a href="../_functions/convert_for_section_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepares section data for inclusion in sectioncache cache, removing items<BR>
that are set to defaults, and adding availability data if required.<BR>
</b><BR>Called by build_section_cache in course_modinfo only; do not use otherwise.<BR>
<b>param:</b> object $section Raw section data object<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
