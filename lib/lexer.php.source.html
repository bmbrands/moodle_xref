<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/lexer.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='lexer.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="lexer.php.html">lexer.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lexer.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lexer.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * PHP lexer code snarfed from the CVS tree for the lamplib project at</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * http://sourceforge.net/projects/lamplib</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * This project is administered by Markus Baker, Harry Fuecks and Matt</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * Mitchell, and the project  code is in the public domain.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * </span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * Thanks, guys!</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> *</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @package   moodlecore</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * @copyright Markus Baker, Harry Fuecks and Matt Mitchell</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @license   Public Domain {@link http://sourceforge.net/projects/lamplib}</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">    /** LEXER_ENTER = 1 */</span>
<a name="l17"><span class="linenum">  17</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LEXER_ENTER')" href="../_constants/LEXER_ENTER.html" onMouseOver="constPopup(event,'LEXER_ENTER')">LEXER_ENTER</a>&quot;, 1);
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">    /** LEXER_MATCHED = 2 */</span>
<a name="l19"><span class="linenum">  19</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LEXER_MATCHED')" href="../_constants/LEXER_MATCHED.html" onMouseOver="constPopup(event,'LEXER_MATCHED')">LEXER_MATCHED</a>&quot;, 2);
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">    /** LEXER_UNMATCHED = 3 */</span>
<a name="l21"><span class="linenum">  21</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LEXER_UNMATCHED')" href="../_constants/LEXER_UNMATCHED.html" onMouseOver="constPopup(event,'LEXER_UNMATCHED')">LEXER_UNMATCHED</a>&quot;, 3);
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">    /** LEXER_EXIT = 4 */</span>
<a name="l23"><span class="linenum">  23</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LEXER_EXIT')" href="../_constants/LEXER_EXIT.html" onMouseOver="constPopup(event,'LEXER_EXIT')">LEXER_EXIT</a>&quot;, 4);
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">    /** LEXER_SPECIAL = 5 */</span>
<a name="l25"><span class="linenum">  25</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LEXER_SPECIAL')" href="../_constants/LEXER_SPECIAL.html" onMouseOver="constPopup(event,'LEXER_SPECIAL')">LEXER_SPECIAL</a>&quot;, 5);
<a name="l26"><span class="linenum">  26</span></a>      
<a name="l27"><span class="linenum">  27</span></a>      <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">     * Compounded regular expression. Any of</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">     * the contained patterns could match and</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">     * when one does it's label is returned.</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * @package   moodlecore</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     * @copyright Markus Baker, Harry Fuecks and Matt Mitchell</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">     * @license   Public Domain {@link http://sourceforge.net/projects/lamplib}</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">     */</span>
<a name="l35"><span class="linenum">  35</span></a>      <span class="keyword">class </span><a class="class" onClick="logClass('ParallelRegex')" href="../_classes/parallelregex.html" onMouseOver="classPopup(event,'parallelregex')">ParallelRegex</a> {
<a name="l36"><span class="linenum">  36</span></a>          var <a class="var it30579" onMouseOver="hilite(30579)" onMouseOut="lolite()" onClick="logVariable('_patterns')" href="../_variables/_patterns.html">$_patterns</a>;
<a name="l37"><span class="linenum">  37</span></a>          var <a class="var it30580" onMouseOver="hilite(30580)" onMouseOut="lolite()" onClick="logVariable('_labels')" href="../_variables/_labels.html">$_labels</a>;
<a name="l38"><span class="linenum">  38</span></a>          var <a class="var it30581" onMouseOver="hilite(30581)" onMouseOut="lolite()" onClick="logVariable('_regex')" href="../_variables/_regex.html">$_regex</a>;
<a name="l39"><span class="linenum">  39</span></a>          var <a class="var it5568" onMouseOver="hilite(5568)" onMouseOut="lolite()" onClick="logVariable('_case')" href="../_variables/_case.html">$_case</a>;
<a name="l40"><span class="linenum">  40</span></a>          
<a name="l41"><span class="linenum">  41</span></a>          <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">         *    Constructor. Starts with no patterns.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">         *    @param bool $case    True for case sensitive, false</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">         *                    for insensitive.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">         *    @access public</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">         */</span>
<a name="l47"><span class="linenum">  47</span></a>          function <a class="function" onClick="logFunction('ParallelRegex')" href="../_functions/parallelregex.html" onMouseOver="funcPopup(event,'parallelregex')">ParallelRegex</a>(<a class="var it4228" onMouseOver="hilite(4228)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a>) {
<a name="l48"><span class="linenum">  48</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a> = <a class="var it4228" onMouseOver="hilite(4228)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a>;
<a name="l49"><span class="linenum">  49</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a> = array();
<a name="l50"><span class="linenum">  50</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_labels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_labels.html">_labels</a> = array();
<a name="l51"><span class="linenum">  51</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regex')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regex.html">_regex</a> = null;
<a name="l52"><span class="linenum">  52</span></a>          }
<a name="l53"><span class="linenum">  53</span></a>          
<a name="l54"><span class="linenum">  54</span></a>          <span class="comment">/**</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">         *    Adds a pattern with an optional label.</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">         *    @param string $pattern      Perl style regex, but ( and )</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">         *                         lose the usual meaning.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">         *    @param string $label        Label of regex to be returned</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">         *                         on a match.</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">         *    @access public</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">         */</span>
<a name="l62"><span class="linenum">  62</span></a>          function <a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a> = true) {
<a name="l63"><span class="linenum">  63</span></a>              <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>);
<a name="l64"><span class="linenum">  64</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>[<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>] = <a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>;
<a name="l65"><span class="linenum">  65</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_labels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_labels.html">_labels</a>[<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>] = <a class="var it329" onMouseOver="hilite(329)" onMouseOut="lolite()" onClick="logVariable('label')" href="../_variables/label.html">$label</a>;
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regex')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regex.html">_regex</a> = null;
<a name="l67"><span class="linenum">  67</span></a>          }
<a name="l68"><span class="linenum">  68</span></a>          
<a name="l69"><span class="linenum">  69</span></a>          <span class="comment">/**</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">         *    Attempts to match all patterns at once against</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">         *    a string.</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">         *    @param string $subject      String to match against.</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">         *    @param string $match        First matched portion of</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">         *                         subject.</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">         *    @return bool             True on success.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">         *    @access public</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">         */</span>
<a name="l78"><span class="linenum">  78</span></a>          function <a class="function" onClick="logFunction('match')" href="../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(<a class="var it1426" onMouseOver="hilite(1426)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a>, &amp;<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a>) {
<a name="l79"><span class="linenum">  79</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>) == 0) {
<a name="l80"><span class="linenum">  80</span></a>                  return false;
<a name="l81"><span class="linenum">  81</span></a>              }
<a name="l82"><span class="linenum">  82</span></a>              if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_getCompoundedRegex')" href="../_functions/_getcompoundedregex.html" onMouseOver="funcPopup(event,'_getcompoundedregex')">_getCompoundedRegex</a>(), <a class="var it1426" onMouseOver="hilite(1426)" onMouseOut="lolite()" onClick="logVariable('subject')" href="../_variables/subject.html">$subject</a>, <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>)) {
<a name="l83"><span class="linenum">  83</span></a>                  <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a> = &quot;&quot;;
<a name="l84"><span class="linenum">  84</span></a>                  return false;
<a name="l85"><span class="linenum">  85</span></a>              }
<a name="l86"><span class="linenum">  86</span></a>              <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[0];
<a name="l87"><span class="linenum">  87</span></a>              for (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 1; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>); <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++) {
<a name="l88"><span class="linenum">  88</span></a>                  if (<a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../_variables/matches.html">$matches</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>]) {
<a name="l89"><span class="linenum">  89</span></a>                      return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_labels')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_labels.html">_labels</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> - 1];
<a name="l90"><span class="linenum">  90</span></a>                  }
<a name="l91"><span class="linenum">  91</span></a>              }
<a name="l92"><span class="linenum">  92</span></a>              return true;
<a name="l93"><span class="linenum">  93</span></a>          }
<a name="l94"><span class="linenum">  94</span></a>          
<a name="l95"><span class="linenum">  95</span></a>          <span class="comment">/**</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">         *    Compounds the patterns into a single</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">         *    regular expression separated with the</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">         *    &quot;or&quot; operator. Caches the regex.</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">         *    Will automatically escape (, ) and / tokens.</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">         *    @access private</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">         */</span>
<a name="l102"><span class="linenum"> 102</span></a>          function <a class="function" onClick="logFunction('_getCompoundedRegex')" href="../_functions/_getcompoundedregex.html" onMouseOver="funcPopup(event,'_getcompoundedregex')">_getCompoundedRegex</a>() {
<a name="l103"><span class="linenum"> 103</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regex')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regex.html">_regex</a> == null) {
<a name="l104"><span class="linenum"> 104</span></a>                  for (<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> = 0; <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>); <a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>++) {
<a name="l105"><span class="linenum"> 105</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>] = '(' . <a class="phpfunction" onClick="logFunction('str_replace')" href="../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(
<a name="l106"><span class="linenum"> 106</span></a>                              array('/', '(', ')'),
<a name="l107"><span class="linenum"> 107</span></a>                              array('\/', '\(', '\)'),
<a name="l108"><span class="linenum"> 108</span></a>                              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>[<a class="var it80" onMouseOver="hilite(80)" onMouseOut="lolite()" onClick="logVariable('i')" href="../_variables/i.html">$i</a>]) . ')';
<a name="l109"><span class="linenum"> 109</span></a>                  }
<a name="l110"><span class="linenum"> 110</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regex')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regex.html">_regex</a> = &quot;/&quot; . <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;|&quot;, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_patterns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_patterns.html">_patterns</a>) . &quot;/&quot; . <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_getPerlMatchingFlags')" href="../_functions/_getperlmatchingflags.html" onMouseOver="funcPopup(event,'_getperlmatchingflags')">_getPerlMatchingFlags</a>();
<a name="l111"><span class="linenum"> 111</span></a>              }
<a name="l112"><span class="linenum"> 112</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regex')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regex.html">_regex</a>;
<a name="l113"><span class="linenum"> 113</span></a>          }
<a name="l114"><span class="linenum"> 114</span></a>          
<a name="l115"><span class="linenum"> 115</span></a>          <span class="comment">/**</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">         *    Accessor for perl regex mode flags to use.</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">         *    @return string       Flags as string.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">         *    @access private</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">         */</span>
<a name="l120"><span class="linenum"> 120</span></a>          function <a class="function" onClick="logFunction('_getPerlMatchingFlags')" href="../_functions/_getperlmatchingflags.html" onMouseOver="funcPopup(event,'_getperlmatchingflags')">_getPerlMatchingFlags</a>() {
<a name="l121"><span class="linenum"> 121</span></a>              return (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a> ? &quot;msS&quot; : &quot;msSi&quot;);
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>      
<a name="l125"><span class="linenum"> 125</span></a>      <span class="comment">/**</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * States for a stack machine.</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     *</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * @package   moodlecore</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * @copyright Markus Baker, Harry Fuecks and Matt Mitchell</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * @license   Public Domain {@link http://sourceforge.net/projects/lamplib}</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     */</span>
<a name="l132"><span class="linenum"> 132</span></a>      <span class="keyword">class </span><a class="class" onClick="logClass('StateStack')" href="../_classes/statestack.html" onMouseOver="classPopup(event,'statestack')">StateStack</a> {
<a name="l133"><span class="linenum"> 133</span></a>          var <a class="var it22785" onMouseOver="hilite(22785)" onMouseOut="lolite()" onClick="logVariable('_stack')" href="../_variables/_stack.html">$_stack</a>;
<a name="l134"><span class="linenum"> 134</span></a>          
<a name="l135"><span class="linenum"> 135</span></a>          <span class="comment">/**</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">         *    Constructor. Starts in named state.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">         *    @param string $start        Starting state name.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">         *    @access public</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">         */</span>
<a name="l140"><span class="linenum"> 140</span></a>          function <a class="function" onClick="logFunction('StateStack')" href="../_functions/statestack.html" onMouseOver="funcPopup(event,'statestack')">StateStack</a>(<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a>) {
<a name="l141"><span class="linenum"> 141</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a> = array(<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a>);
<a name="l142"><span class="linenum"> 142</span></a>          }
<a name="l143"><span class="linenum"> 143</span></a>          
<a name="l144"><span class="linenum"> 144</span></a>          <span class="comment">/**</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">         *    Accessor for current state.</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">         *    @return string State as string.</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">         *    @access public</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">         */</span>
<a name="l149"><span class="linenum"> 149</span></a>          function <a class="function" onClick="logFunction('getCurrent')" href="../_functions/getcurrent.html" onMouseOver="funcPopup(event,'getcurrent')">getCurrent</a>() {
<a name="l150"><span class="linenum"> 150</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a>[<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a>) - 1];
<a name="l151"><span class="linenum"> 151</span></a>          }
<a name="l152"><span class="linenum"> 152</span></a>          
<a name="l153"><span class="linenum"> 153</span></a>          <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">         *    Adds a state to the stack and sets it</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">         *    to be the current state.</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">         *    @param string $state        New state.</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">         *    @access public</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">         */</span>
<a name="l159"><span class="linenum"> 159</span></a>          function <a class="function" onClick="logFunction('enter')" href="../_functions/enter.html" onMouseOver="funcPopup(event,'enter')">enter</a>(<a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l160"><span class="linenum"> 160</span></a>              <a class="phpfunction" onClick="logFunction('array_push')" href="../_functions/array_push.html" onMouseOver="phpfuncPopup(event,'array_push')">array_push</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a>, <a class="var it1082" onMouseOver="hilite(1082)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>);
<a name="l161"><span class="linenum"> 161</span></a>          }
<a name="l162"><span class="linenum"> 162</span></a>          
<a name="l163"><span class="linenum"> 163</span></a>          <span class="comment">/**</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">         *    Leaves the current state and reverts</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">         *    to the previous one.</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">         *    @return bool     False if we drop off</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">         *                the bottom of the list.</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">         *    @access public</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">         */</span>
<a name="l170"><span class="linenum"> 170</span></a>          function <a class="function" onClick="logFunction('leave')" href="../_functions/leave.html" onMouseOver="funcPopup(event,'leave')">leave</a>() {
<a name="l171"><span class="linenum"> 171</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a>) == 1) {
<a name="l172"><span class="linenum"> 172</span></a>                  return false;
<a name="l173"><span class="linenum"> 173</span></a>              }
<a name="l174"><span class="linenum"> 174</span></a>              <a class="phpfunction" onClick="logFunction('array_pop')" href="../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_stack')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_stack.html">_stack</a>);
<a name="l175"><span class="linenum"> 175</span></a>              return true;
<a name="l176"><span class="linenum"> 176</span></a>          }
<a name="l177"><span class="linenum"> 177</span></a>      }
<a name="l178"><span class="linenum"> 178</span></a>      
<a name="l179"><span class="linenum"> 179</span></a>      <span class="comment">/**</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * Accepts text and breaks it into tokens.</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * Some optimisation to make the sure the</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * content is only scanned by the PHP regex</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * parser once. Lexer modes must not start</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     * with leading underscores.</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     *</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     * @package   moodlecore</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">     * @copyright Markus Baker, Harry Fuecks and Matt Mitchell</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">     * @license   Public Domain {@link http://sourceforge.net/projects/lamplib}</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment">     */</span>
<a name="l190"><span class="linenum"> 190</span></a>      <span class="keyword">class </span><a class="class" onClick="logClass('Lexer')" href="../_classes/lexer.html" onMouseOver="classPopup(event,'lexer')">Lexer</a> {
<a name="l191"><span class="linenum"> 191</span></a>          var <a class="var it30582" onMouseOver="hilite(30582)" onMouseOut="lolite()" onClick="logVariable('_regexes')" href="../_variables/_regexes.html">$_regexes</a>;
<a name="l192"><span class="linenum"> 192</span></a>          var <a class="var it9577" onMouseOver="hilite(9577)" onMouseOut="lolite()" onClick="logVariable('_parser')" href="../_variables/_parser.html">$_parser</a>;
<a name="l193"><span class="linenum"> 193</span></a>          var <a class="var it13344" onMouseOver="hilite(13344)" onMouseOut="lolite()" onClick="logVariable('_mode')" href="../_variables/_mode.html">$_mode</a>;
<a name="l194"><span class="linenum"> 194</span></a>          var <a class="var it30583" onMouseOver="hilite(30583)" onMouseOut="lolite()" onClick="logVariable('_mode_handlers')" href="../_variables/_mode_handlers.html">$_mode_handlers</a>;
<a name="l195"><span class="linenum"> 195</span></a>          var <a class="var it5568" onMouseOver="hilite(5568)" onMouseOut="lolite()" onClick="logVariable('_case')" href="../_variables/_case.html">$_case</a>;
<a name="l196"><span class="linenum"> 196</span></a>          
<a name="l197"><span class="linenum"> 197</span></a>          <span class="comment">/**</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">         *    Sets up the lexer in case insensitive matching</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">         *    by default.</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">         *    @param object $parser     Handling strategy by</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">         *                       reference.</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">         *    @param string $start      Starting handler.</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">         *    @param bool $case       True for case sensitive.</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">         *    @access public</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">         */</span>
<a name="l206"><span class="linenum"> 206</span></a>          function <a class="function" onClick="logFunction('Lexer')" href="../_functions/lexer.html" onMouseOver="funcPopup(event,'lexer')">Lexer</a>(&amp;<a class="var it3416" onMouseOver="hilite(3416)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../_variables/parser.html">$parser</a>, <a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a> = &quot;accept&quot;, <a class="var it4228" onMouseOver="hilite(4228)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a> = false) {
<a name="l207"><span class="linenum"> 207</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a> = <a class="var it4228" onMouseOver="hilite(4228)" onMouseOut="lolite()" onClick="logVariable('case')" href="../_variables/case.html">$case</a>;
<a name="l208"><span class="linenum"> 208</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a> = array();
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_parser')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_parser.html">_parser</a> = &amp;<a class="var it3416" onMouseOver="hilite(3416)" onMouseOut="lolite()" onClick="logVariable('parser')" href="../_variables/parser.html">$parser</a>;
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a> = <span class="keyword">new </span><a class="class" onClick="logClass('StateStack')" href="../_classes/statestack.html" onMouseOver="classPopup(event,'statestack')">StateStack</a>(<a class="var it340" onMouseOver="hilite(340)" onMouseOut="lolite()" onClick="logVariable('start')" href="../_variables/start.html">$start</a>);
<a name="l211"><span class="linenum"> 211</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode_handlers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode_handlers.html">_mode_handlers</a> = array();
<a name="l212"><span class="linenum"> 212</span></a>          }
<a name="l213"><span class="linenum"> 213</span></a>          
<a name="l214"><span class="linenum"> 214</span></a>          <span class="comment">/**</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">         *    Adds a token search pattern for a particular</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">         *    parsing mode. The pattern does not change the</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">         *    current mode.</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">         *    @param string $pattern      Perl style regex, but ( and )</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">         *                         lose the usual meaning.</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">         *    @param string $mode         Should only apply this</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">         *                         pattern when dealing with</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">         *                         this type of input.</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">         *    @access public</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">         */</span>
<a name="l225"><span class="linenum"> 225</span></a>          function <a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a> = &quot;accept&quot;) {
<a name="l226"><span class="linenum"> 226</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>])) {
<a name="l227"><span class="linenum"> 227</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('ParallelRegex')" href="../_classes/parallelregex.html" onMouseOver="classPopup(event,'parallelregex')">ParallelRegex</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a>);
<a name="l228"><span class="linenum"> 228</span></a>              }
<a name="l229"><span class="linenum"> 229</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>]-&gt;<a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>);
<a name="l230"><span class="linenum"> 230</span></a>          }
<a name="l231"><span class="linenum"> 231</span></a>          
<a name="l232"><span class="linenum"> 232</span></a>          <span class="comment">/**</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">         *    Adds a pattern that will enter a new parsing</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">         *    mode. Useful for entering parenthesis, strings,</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">         *    tags, etc.</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">         *    @param string $pattern      Perl style regex, but ( and )</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">         *                         lose the usual meaning.</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">         *    @param string $mode         Should only apply this</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">         *                         pattern when dealing with</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">         *                         this type of input.</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">         *    @param string $new_mode     Change parsing to this new</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">         *                         nested mode.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">         *    @access public</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">         */</span>
<a name="l245"><span class="linenum"> 245</span></a>          function <a class="function" onClick="logFunction('addEntryPattern')" href="../_functions/addentrypattern.html" onMouseOver="funcPopup(event,'addentrypattern')">addEntryPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, <a class="var it30584" onMouseOver="hilite(30584)" onMouseOut="lolite()" onClick="logVariable('new_mode')" href="../_variables/new_mode.html">$new_mode</a>) {
<a name="l246"><span class="linenum"> 246</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>])) {
<a name="l247"><span class="linenum"> 247</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('ParallelRegex')" href="../_classes/parallelregex.html" onMouseOver="classPopup(event,'parallelregex')">ParallelRegex</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a>);
<a name="l248"><span class="linenum"> 248</span></a>              }
<a name="l249"><span class="linenum"> 249</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>]-&gt;<a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it30584" onMouseOver="hilite(30584)" onMouseOut="lolite()" onClick="logVariable('new_mode')" href="../_variables/new_mode.html">$new_mode</a>);
<a name="l250"><span class="linenum"> 250</span></a>          }
<a name="l251"><span class="linenum"> 251</span></a>          
<a name="l252"><span class="linenum"> 252</span></a>          <span class="comment">/**</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">         *    Adds a pattern that will exit the current mode</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">         *    and re-enter the previous one.</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">         *    @param string $pattern      Perl style regex, but ( and )</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">         *                         lose the usual meaning.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">         *    @param string $mode         Mode to leave.</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">         *    @access public</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">         */</span>
<a name="l260"><span class="linenum"> 260</span></a>          function <a class="function" onClick="logFunction('addExitPattern')" href="../_functions/addexitpattern.html" onMouseOver="funcPopup(event,'addexitpattern')">addExitPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>) {
<a name="l261"><span class="linenum"> 261</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>])) {
<a name="l262"><span class="linenum"> 262</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('ParallelRegex')" href="../_classes/parallelregex.html" onMouseOver="classPopup(event,'parallelregex')">ParallelRegex</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a>);
<a name="l263"><span class="linenum"> 263</span></a>              }
<a name="l264"><span class="linenum"> 264</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>]-&gt;<a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, &quot;__exit&quot;);
<a name="l265"><span class="linenum"> 265</span></a>          }
<a name="l266"><span class="linenum"> 266</span></a>          
<a name="l267"><span class="linenum"> 267</span></a>          <span class="comment">/**</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">         *    Adds a pattern that has a special mode.</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">         *    Acts as an entry and exit pattern in one go.</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">         *    @param string $pattern      Perl style regex, but ( and )</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">         *                         lose the usual meaning.</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">         *    @param string $mode         Should only apply this</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">         *                         pattern when dealing with</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">         *                         this type of input.</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">         *    @param string $special      Use this mode for this one token.</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">         *    @access public</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">         */</span>
<a name="l278"><span class="linenum"> 278</span></a>          function <a class="function" onClick="logFunction('addSpecialPattern')" href="../_functions/addspecialpattern.html" onMouseOver="funcPopup(event,'addspecialpattern')">addSpecialPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, <a class="var it14872" onMouseOver="hilite(14872)" onMouseOut="lolite()" onClick="logVariable('special')" href="../_variables/special.html">$special</a>) {
<a name="l279"><span class="linenum"> 279</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>])) {
<a name="l280"><span class="linenum"> 280</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('ParallelRegex')" href="../_classes/parallelregex.html" onMouseOver="classPopup(event,'parallelregex')">ParallelRegex</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_case')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_case.html">_case</a>);
<a name="l281"><span class="linenum"> 281</span></a>              }
<a name="l282"><span class="linenum"> 282</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>]-&gt;<a class="function" onClick="logFunction('addPattern')" href="../_functions/addpattern.html" onMouseOver="funcPopup(event,'addpattern')">addPattern</a>(<a class="var it1861" onMouseOver="hilite(1861)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../_variables/pattern.html">$pattern</a>, &quot;_<a class="var it14872" onMouseOver="hilite(14872)" onMouseOut="lolite()" onClick="logVariable('special')" href="../_variables/special.html">$special</a>&quot;);
<a name="l283"><span class="linenum"> 283</span></a>          }
<a name="l284"><span class="linenum"> 284</span></a>          
<a name="l285"><span class="linenum"> 285</span></a>          <span class="comment">/**</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">         *    Adds a mapping from a mode to another handler.</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">         *    @param string $mode        Mode to be remapped.</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">         *    @param string $handler     New target handler.</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">         *    @access public</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">         */</span>
<a name="l291"><span class="linenum"> 291</span></a>          function <a class="function" onClick="logFunction('mapHandler')" href="../_functions/maphandler.html" onMouseOver="funcPopup(event,'maphandler')">mapHandler</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, <a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>) {
<a name="l292"><span class="linenum"> 292</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode_handlers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode_handlers.html">_mode_handlers</a>[<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>] = <a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>;
<a name="l293"><span class="linenum"> 293</span></a>          }
<a name="l294"><span class="linenum"> 294</span></a>          
<a name="l295"><span class="linenum"> 295</span></a>          <span class="comment">/**</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">         *    Splits the page text into tokens. Will fail</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">         *    if the handlers report an error or if no</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">         *    content is consumed. If successful then each</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">         *    unparsed and parsed token invokes a call to the</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">         *    held listener.</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">         *    @param string $raw        Raw HTML text.</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">         *    @return bool           True on success, else false.</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">         *    @access public</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">         */</span>
<a name="l305"><span class="linenum"> 305</span></a>          function <a class="function" onClick="logFunction('parse')" href="../_functions/parse.html" onMouseOver="funcPopup(event,'parse')">parse</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>) {
<a name="l306"><span class="linenum"> 306</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_parser')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_parser.html">_parser</a>)) {
<a name="l307"><span class="linenum"> 307</span></a>                  return false;
<a name="l308"><span class="linenum"> 308</span></a>              }
<a name="l309"><span class="linenum"> 309</span></a>              <a class="var it1293" onMouseOver="hilite(1293)" onMouseOut="lolite()" onClick="logVariable('length')" href="../_variables/length.html">$length</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>);
<a name="l310"><span class="linenum"> 310</span></a>              while (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../_variables/parsed.html">$parsed</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_reduce')" href="../_functions/_reduce.html" onMouseOver="funcPopup(event,'_reduce')">_reduce</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>))) {
<a name="l311"><span class="linenum"> 311</span></a>                  <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it30585" onMouseOver="hilite(30585)" onMouseOut="lolite()" onClick="logVariable('unmatched')" href="../_variables/unmatched.html">$unmatched</a>, <a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>) = <a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../_variables/parsed.html">$parsed</a>;
<a name="l312"><span class="linenum"> 312</span></a>                  if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_dispatchTokens')" href="../_functions/_dispatchtokens.html" onMouseOver="funcPopup(event,'_dispatchtokens')">_dispatchTokens</a>(<a class="var it30585" onMouseOver="hilite(30585)" onMouseOut="lolite()" onClick="logVariable('unmatched')" href="../_variables/unmatched.html">$unmatched</a>, <a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>)) {
<a name="l313"><span class="linenum"> 313</span></a>                      return false;
<a name="l314"><span class="linenum"> 314</span></a>                  }
<a name="l315"><span class="linenum"> 315</span></a>                  if (<a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>) == <a class="var it1293" onMouseOver="hilite(1293)" onMouseOut="lolite()" onClick="logVariable('length')" href="../_variables/length.html">$length</a>) {
<a name="l316"><span class="linenum"> 316</span></a>                      return false;
<a name="l317"><span class="linenum"> 317</span></a>                  }
<a name="l318"><span class="linenum"> 318</span></a>                  <a class="var it1293" onMouseOver="hilite(1293)" onMouseOut="lolite()" onClick="logVariable('length')" href="../_variables/length.html">$length</a> = <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>);
<a name="l319"><span class="linenum"> 319</span></a>              }
<a name="l320"><span class="linenum"> 320</span></a>              if (!<a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../_variables/parsed.html">$parsed</a>) {
<a name="l321"><span class="linenum"> 321</span></a>                  return false;
<a name="l322"><span class="linenum"> 322</span></a>              }
<a name="l323"><span class="linenum"> 323</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>, <a class="constant" onClick="logConstant('LEXER_UNMATCHED')" href="../_constants/LEXER_UNMATCHED.html" onMouseOver="constPopup(event,'LEXER_UNMATCHED')">LEXER_UNMATCHED</a>);
<a name="l324"><span class="linenum"> 324</span></a>          }
<a name="l325"><span class="linenum"> 325</span></a>          
<a name="l326"><span class="linenum"> 326</span></a>          <span class="comment">/**</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">         *    Sends the matched token and any leading unmatched</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">         *    text to the parser changing the lexer to a new</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">         *    mode if one is listed.</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">         *    @param string $unmatched    Unmatched leading portion.</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">         *    @param string $matched      Actual token match.</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">         *    @param string $mode         Mode after match. The &quot;_exit&quot;</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">         *                         mode causes a stack pop. An</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">         *                         false mode causes no change.</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">         *    @return bool              False if there was any error</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">         *                         from the parser.</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">         *    @access private</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">         */</span>
<a name="l339"><span class="linenum"> 339</span></a>          function <a class="function" onClick="logFunction('_dispatchTokens')" href="../_functions/_dispatchtokens.html" onMouseOver="funcPopup(event,'_dispatchtokens')">_dispatchTokens</a>(<a class="var it30585" onMouseOver="hilite(30585)" onMouseOut="lolite()" onClick="logVariable('unmatched')" href="../_variables/unmatched.html">$unmatched</a>, <a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a> = false) {
<a name="l340"><span class="linenum"> 340</span></a>              if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it30585" onMouseOver="hilite(30585)" onMouseOut="lolite()" onClick="logVariable('unmatched')" href="../_variables/unmatched.html">$unmatched</a>, <a class="constant" onClick="logConstant('LEXER_UNMATCHED')" href="../_constants/LEXER_UNMATCHED.html" onMouseOver="constPopup(event,'LEXER_UNMATCHED')">LEXER_UNMATCHED</a>)) {
<a name="l341"><span class="linenum"> 341</span></a>                  return false;
<a name="l342"><span class="linenum"> 342</span></a>              }
<a name="l343"><span class="linenum"> 343</span></a>              if (<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a> === &quot;__exit&quot;) {
<a name="l344"><span class="linenum"> 344</span></a>                  if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="constant" onClick="logConstant('LEXER_EXIT')" href="../_constants/LEXER_EXIT.html" onMouseOver="constPopup(event,'LEXER_EXIT')">LEXER_EXIT</a>)) {
<a name="l345"><span class="linenum"> 345</span></a>                      return false;
<a name="l346"><span class="linenum"> 346</span></a>                  }
<a name="l347"><span class="linenum"> 347</span></a>                  return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('leave')" href="../_functions/leave.html" onMouseOver="funcPopup(event,'leave')">leave</a>();
<a name="l348"><span class="linenum"> 348</span></a>              }
<a name="l349"><span class="linenum"> 349</span></a>              if (<a class="phpfunction" onClick="logFunction('strncmp')" href="../_functions/strncmp.html" onMouseOver="phpfuncPopup(event,'strncmp')">strncmp</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, &quot;_&quot;, 1) == 0) {
<a name="l350"><span class="linenum"> 350</span></a>                  <a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>, 1);
<a name="l351"><span class="linenum"> 351</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('enter')" href="../_functions/enter.html" onMouseOver="funcPopup(event,'enter')">enter</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>);
<a name="l352"><span class="linenum"> 352</span></a>                  if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="constant" onClick="logConstant('LEXER_SPECIAL')" href="../_constants/LEXER_SPECIAL.html" onMouseOver="constPopup(event,'LEXER_SPECIAL')">LEXER_SPECIAL</a>)) {
<a name="l353"><span class="linenum"> 353</span></a>                      return false;
<a name="l354"><span class="linenum"> 354</span></a>                  }
<a name="l355"><span class="linenum"> 355</span></a>                  return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('leave')" href="../_functions/leave.html" onMouseOver="funcPopup(event,'leave')">leave</a>();
<a name="l356"><span class="linenum"> 356</span></a>              }
<a name="l357"><span class="linenum"> 357</span></a>              if (<a class="phpfunction" onClick="logFunction('is_string')" href="../_functions/is_string.html" onMouseOver="phpfuncPopup(event,'is_string')">is_string</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>)) {
<a name="l358"><span class="linenum"> 358</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('enter')" href="../_functions/enter.html" onMouseOver="funcPopup(event,'enter')">enter</a>(<a class="var it267" onMouseOver="hilite(267)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../_variables/mode.html">$mode</a>);
<a name="l359"><span class="linenum"> 359</span></a>                  return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="constant" onClick="logConstant('LEXER_ENTER')" href="../_constants/LEXER_ENTER.html" onMouseOver="constPopup(event,'LEXER_ENTER')">LEXER_ENTER</a>);
<a name="l360"><span class="linenum"> 360</span></a>              }
<a name="l361"><span class="linenum"> 361</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it21074" onMouseOver="hilite(21074)" onMouseOut="lolite()" onClick="logVariable('matched')" href="../_variables/matched.html">$matched</a>, <a class="constant" onClick="logConstant('LEXER_MATCHED')" href="../_constants/LEXER_MATCHED.html" onMouseOver="constPopup(event,'LEXER_MATCHED')">LEXER_MATCHED</a>);
<a name="l362"><span class="linenum"> 362</span></a>          }
<a name="l363"><span class="linenum"> 363</span></a>          
<a name="l364"><span class="linenum"> 364</span></a>          <span class="comment">/**</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">         *    Calls the parser method named after the current</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">         *    mode. Empty content will be ignored.</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">         *    @param string $content        Text parsed.</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">         *    @param string $is_match       Token is recognised rather</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">         *                           than unparsed data.</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">         *    @access private</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">         */</span>
<a name="l372"><span class="linenum"> 372</span></a>          function <a class="function" onClick="logFunction('_invokeParser')" href="../_functions/_invokeparser.html" onMouseOver="funcPopup(event,'_invokeparser')">_invokeParser</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it30586" onMouseOver="hilite(30586)" onMouseOut="lolite()" onClick="logVariable('is_match')" href="../_variables/is_match.html">$is_match</a>) {
<a name="l373"><span class="linenum"> 373</span></a>              if ((<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> === &quot;&quot;) || (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a> === false)) {
<a name="l374"><span class="linenum"> 374</span></a>                  return true;
<a name="l375"><span class="linenum"> 375</span></a>              }
<a name="l376"><span class="linenum"> 376</span></a>              <a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('getCurrent')" href="../_functions/getcurrent.html" onMouseOver="funcPopup(event,'getcurrent')">getCurrent</a>();
<a name="l377"><span class="linenum"> 377</span></a>              if (isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode_handlers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode_handlers.html">_mode_handlers</a>[<a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>])) {
<a name="l378"><span class="linenum"> 378</span></a>                  <a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode_handlers')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode_handlers.html">_mode_handlers</a>[<a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>];
<a name="l379"><span class="linenum"> 379</span></a>              }
<a name="l380"><span class="linenum"> 380</span></a>              return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_parser')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_parser.html">_parser</a>-&gt;<a class="var it5372" onMouseOver="hilite(5372)" onMouseOut="lolite()" onClick="logVariable('handler')" href="../_variables/handler.html">$handler</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('content')" href="../_variables/content.html">$content</a>, <a class="var it30586" onMouseOver="hilite(30586)" onMouseOut="lolite()" onClick="logVariable('is_match')" href="../_variables/is_match.html">$is_match</a>);
<a name="l381"><span class="linenum"> 381</span></a>          }
<a name="l382"><span class="linenum"> 382</span></a>          
<a name="l383"><span class="linenum"> 383</span></a>          <span class="comment">/**</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">         *    Tries to match a chunk of text and if successful</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">         *    removes the recognised chunk and any leading</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">         *    unparsed data. Empty strings will not be matched.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">         *    @param string $raw  The subject to parse. This is the</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">         *                        content that will be eaten.</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">         *    @return bool|array  Three item list of unparsed</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">         *                        content followed by the</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">         *                        recognised token and finally the</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">         *                        action the parser is to take.</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">         *                        True if no match, false if there</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">         *                        is a parsing error.</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">         *    @access private</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">         */</span>
<a name="l397"><span class="linenum"> 397</span></a>          function <a class="function" onClick="logFunction('_reduce')" href="../_functions/_reduce.html" onMouseOver="funcPopup(event,'_reduce')">_reduce</a>(&amp;<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>) {
<a name="l398"><span class="linenum"> 398</span></a>              if (!isset(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('getCurrent')" href="../_functions/getcurrent.html" onMouseOver="funcPopup(event,'getcurrent')">getCurrent</a>()])) {
<a name="l399"><span class="linenum"> 399</span></a>                  return false;
<a name="l400"><span class="linenum"> 400</span></a>              }
<a name="l401"><span class="linenum"> 401</span></a>              if (<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a> === &quot;&quot;) {
<a name="l402"><span class="linenum"> 402</span></a>                  return true;
<a name="l403"><span class="linenum"> 403</span></a>              }
<a name="l404"><span class="linenum"> 404</span></a>              if (<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_regexes')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_regexes.html">_regexes</a>[<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_mode')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/_mode.html">_mode</a>-&gt;<a class="function" onClick="logFunction('getCurrent')" href="../_functions/getcurrent.html" onMouseOver="funcPopup(event,'getcurrent')">getCurrent</a>()]-&gt;<a class="function" onClick="logFunction('match')" href="../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>, <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a>)) {
<a name="l405"><span class="linenum"> 405</span></a>                  <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>, <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a>);
<a name="l406"><span class="linenum"> 406</span></a>                  <a class="var it30587" onMouseOver="hilite(30587)" onMouseOut="lolite()" onClick="logVariable('unparsed')" href="../_variables/unparsed.html">$unparsed</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>, 0, <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a>);
<a name="l407"><span class="linenum"> 407</span></a>                  <a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it3813" onMouseOver="hilite(3813)" onMouseOut="lolite()" onClick="logVariable('raw')" href="../_variables/raw.html">$raw</a>, <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../_variables/count.html">$count</a> + <a class="function" onClick="logFunction('strlen')" href="../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a>));
<a name="l408"><span class="linenum"> 408</span></a>                  return array(<a class="var it30587" onMouseOver="hilite(30587)" onMouseOut="lolite()" onClick="logVariable('unparsed')" href="../_variables/unparsed.html">$unparsed</a>, <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('match')" href="../_variables/match.html">$match</a>, <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../_variables/action.html">$action</a>);
<a name="l409"><span class="linenum"> 409</span></a>              }
<a name="l410"><span class="linenum"> 410</span></a>              return true;
<a name="l411"><span class="linenum"> 411</span></a>          }
<a name="l412"><span class="linenum"> 412</span></a>      }
<a name="l413"><span class="linenum"> 413</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'_reduce': ['_reduce', 'Tries to match a chunk of text and if successful removes the recognised chunk and any leading unparsed data. Empty strings will not be matched. ', [['lib','lexer.php',383]], 20],
'match': ['match', 'Parse from a token, regexp or string, and move forward if match ', [['lib/lessphp','Parser.php',661],['lib/zend/Zend/Http','Cookie.php',221],['lib/phpexcel/PHPExcel/Calculation','LookupRef.php',477],['lib/horde/framework/Horde/Mail/Rfc822','List.php',244],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',121],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17319],['lib','lexer.php',69],['lib/minify/lib','JSMinPlus.php',1780],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',181],['lib/lessphp/Tree','Selector.php',67],['lib/zend/Zend/Rest','Route.php',113]], 908],
'addpattern': ['addpattern', 'Adds a pattern with an optional label. ', [['lib','lexer.php',54],['lib','lexer.php',214]], 4],
'strlen': ['strlen', 'Multibyte safe strlen() function, uses mbstring or iconv for UTF-8, falls back to typo3. ', [['lib/classes','text.php',281],['lib/typo3','class.t3lib_cs.php',1520]], 1698],
'maphandler': ['maphandler', 'Adds a mapping from a mode to another handler. ', [['lib','lexer.php',285]], 0],
'addexitpattern': ['addexitpattern', 'Adds a pattern that will exit the current mode and re-enter the previous one. ', [['lib','lexer.php',252]], 10],
'statestack': ['statestack', 'Constructor. Starts in named state. ', [['lib','lexer.php',135]], 1],
'_dispatchtokens': ['_dispatchtokens', 'Sends the matched token and any leading unmatched text to the parser changing the lexer to a new mode if one is listed. ', [['lib','lexer.php',326]], 1],
'lexer': ['lexer', 'Sets up the lexer in case insensitive matching by default. ', [['lib','lexer.php',197]], 1],
'parallelregex': ['parallelregex', 'Constructor. Starts with no patterns. ', [['lib','lexer.php',41]], 4],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'leave': ['leave', 'Leave a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.leave) ', [['lib/google/src/Google/Service','Games.php',1734],['lib/google/src/Google/Service','Games.php',2116],['lib','lexer.php',163]], 4],
'addentrypattern': ['addentrypattern', 'Adds a pattern that will enter a new parsing mode. Useful for entering parenthesis, strings, tags, etc. ', [['lib','lexer.php',232]], 10],
'addspecialpattern': ['addspecialpattern', 'Adds a pattern that has a special mode. Acts as an entry and exit pattern in one go. ', [['lib','lexer.php',267]], 0],
'enter': ['enter', 'Adds a state to the stack and sets it to be the current state. ', [['lib','lexer.php',153]], 2],
'parse': ['parse', 'parse the response data and throws exceptions ', [['lib/zend/Zend/Service/DeveloperGarden/Response/SendSms','SendSmsAbstract.php',46],['lib/lessphp','Parser.php',274],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','LocateIPResponse.php',74],['lib/zend/Zend/Amf/Parse/Resource','MysqliResult.php',98],['lib/htmlpurifier/HTMLPurifier','VarParser.php',51],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',365],['lib/simplepie/library/SimplePie/Parse','Date.php',582],['lib/zend/Zend/Service/DeveloperGarden/Response/IpLocation','IPAddressLocationType.php',117],['lib/zend/Zend/Service/DeveloperGarden/Response','ResponseAbstract.php',52],['backup/util/xml/parser','progressive_parser.class.php',178],['lib/mustache/src/Mustache','Parser.php',27],['lib/zend/Zend/Service/DeveloperGarden/Response/VoiceButler','VoiceButlerAbstract.php',56],['lib/simplepie/library/SimplePie/HTTP','Parser.php',142],['lib/mustache/src/Mustache','Engine.php',729],['lib/simplepie/library/SimplePie','gzdecode.php',197],['lib/zend/Zend/Service/DeveloperGarden/Response/ConferenceCall','ConferenceCallAbstract.php',56],['lib/zend/Zend/Service/DeveloperGarden/Response','BaseType.php',53],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',91],['lib/simplepie/library/SimplePie','Parser.php',78],['lib/google/src/Google/Utils','URITemplate.php',59],['lib/htmlpurifier/HTMLPurifier','URIParser.php',20],['lib/zend/Zend/Amf/Parse/Resource','MysqlResult.php',45],['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',122],['lib','lexer.php',295],['lib/minify/lib','JSMinPlus.php',732],['mod/wiki/parser','parser.php',16],['mod/wiki/parser','parser.php',100],['mod/scorm/datamodels','scormlib.php',911],['backup/cc/cc_lib/gral_lib','cssparser.php',241],['mnet/xmlrpc','xmlparser.php',51],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',44],['lib/zend/Zend/Amf/Parse/Resource','Stream.php',33]], 377],
'_invokeparser': ['_invokeparser', 'Calls the parser method named after the current mode. Empty content will be ignored. ', [['lib','lexer.php',364]], 6],
'_getcompoundedregex': ['_getcompoundedregex', 'Compounds the patterns into a single regular expression separated with the "or" operator. Caches the regex. Will automatically escape (, ) and / tokens. ', [['lib','lexer.php',95]], 1],
'_getperlmatchingflags': ['_getperlmatchingflags', 'Accessor for perl regex mode flags to use. ', [['lib','lexer.php',115]], 1],
'getcurrent': ['getcurrent', 'Accessor for current state. ', [['lib','lexer.php',144]], 3],
'is_array': ['is_array', '', [], 1820],
'count': ['count', '', [], 3984],
'array_pop': ['array_pop', '', [], 438],
'implode': ['implode', '', [], 1259],
'substr': ['substr', '', [], 2883],
'str_replace': ['str_replace', '', [], 1667],
'strncmp': ['strncmp', '', [], 66],
'is_string': ['is_string', '', [], 680],
'define': ['define', '', [], 2170],
'array_push': ['array_push', '', [], 214],
'strpos': ['strpos', '', [], 1623],
'preg_match': ['preg_match', '', [], 1317]};
CLASS_DATA={
'statestack': ['statestack', 'States for a stack machine. ', [['lib','lexer.php',125]], 1],
'lexer': ['lexer', 'Accepts text and breaks it into tokens. Some optimisation to make the sure the content is only scanned by the PHP regex parser once. Lexer modes must not start with leading underscores. ', [['lib','lexer.php',179]], 1],
'parallelregex': ['parallelregex', 'Compounded regular expression. Any of the contained patterns could match and when one does it\'s label is returned. ', [['lib','lexer.php',27]], 4]};
CONST_DATA={
'LEXER_EXIT': ['LEXER_EXIT', '', [['lib','lexer.php',23]], 2],
'LEXER_ENTER': ['LEXER_ENTER', '', [['lib','lexer.php',17]], 2],
'LEXER_MATCHED': ['LEXER_MATCHED', '', [['lib','lexer.php',19]], 2],
'LEXER_UNMATCHED': ['LEXER_UNMATCHED', '', [['lib','lexer.php',21]], 3],
'LEXER_SPECIAL': ['LEXER_SPECIAL', '', [['lib','lexer.php',25]], 2]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
