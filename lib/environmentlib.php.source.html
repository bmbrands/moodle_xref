<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/environmentlib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='environmentlib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/</a> -> <a href="environmentlib.php.html">environmentlib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="environmentlib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="environmentlib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * This library includes all the necessary stuff to execute some standard</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * tests of required versions and libraries to run Moodle. It can be</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * used from the admin interface, and both at install and upgrade.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * All the info is stored in the admin/environment.xml file,</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * supporting to have an updated version in dataroot/environment</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> *</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @copyright  (C) 2001-3001 Eloy Lafuente (stronk7) {@link http://contiento.com}</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * @package    core</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * @subpackage admin</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> */</span>
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">/// Add required files</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * Include the necessary</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> */</span>
<a name="l38"><span class="linenum">  38</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>.'/xmlize.php');
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">/// Define a bunch of XML processing errors</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l42"><span class="linenum">  42</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_ERROR')" href="../_constants/NO_ERROR.html" onMouseOver="constPopup(event,'NO_ERROR')">NO_ERROR</a>',                           0);
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l44"><span class="linenum">  44</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>',              1);
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l46"><span class="linenum">  46</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_DATABASE_SECTION_FOUND')" href="../_constants/NO_DATABASE_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_SECTION_FOUND')">NO_DATABASE_SECTION_FOUND</a>',          2);
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l48"><span class="linenum">  48</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_DATABASE_VENDORS_FOUND')" href="../_constants/NO_DATABASE_VENDORS_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDORS_FOUND')">NO_DATABASE_VENDORS_FOUND</a>',          3);
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l50"><span class="linenum">  50</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_MYSQL_FOUND')" href="../_constants/NO_DATABASE_VENDOR_MYSQL_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_MYSQL_FOUND')">NO_DATABASE_VENDOR_MYSQL_FOUND</a>',     4);
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l52"><span class="linenum">  52</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_POSTGRES_FOUND')" href="../_constants/NO_DATABASE_VENDOR_POSTGRES_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_POSTGRES_FOUND')">NO_DATABASE_VENDOR_POSTGRES_FOUND</a>',  5);
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l54"><span class="linenum">  54</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_PHP_SECTION_FOUND')" href="../_constants/NO_PHP_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_SECTION_FOUND')">NO_PHP_SECTION_FOUND</a>',               6);
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l56"><span class="linenum">  56</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_PHP_VERSION_FOUND')" href="../_constants/NO_PHP_VERSION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_VERSION_FOUND')">NO_PHP_VERSION_FOUND</a>',               7);
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l58"><span class="linenum">  58</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_PHP_EXTENSIONS_SECTION_FOUND')" href="../_constants/NO_PHP_EXTENSIONS_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_EXTENSIONS_SECTION_FOUND')">NO_PHP_EXTENSIONS_SECTION_FOUND</a>',    8);
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l60"><span class="linenum">  60</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_PHP_EXTENSIONS_NAME_FOUND')" href="../_constants/NO_PHP_EXTENSIONS_NAME_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_EXTENSIONS_NAME_FOUND')">NO_PHP_EXTENSIONS_NAME_FOUND</a>',       9);
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l62"><span class="linenum">  62</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_VERSION_FOUND')" href="../_constants/NO_DATABASE_VENDOR_VERSION_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_VERSION_FOUND')">NO_DATABASE_VENDOR_VERSION_FOUND</a>',  10);
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l64"><span class="linenum">  64</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_UNICODE_SECTION_FOUND')" href="../_constants/NO_UNICODE_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_UNICODE_SECTION_FOUND')">NO_UNICODE_SECTION_FOUND</a>',          11);
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l66"><span class="linenum">  66</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_CUSTOM_CHECK_FOUND')" href="../_constants/NO_CUSTOM_CHECK_FOUND.html" onMouseOver="constPopup(event,'NO_CUSTOM_CHECK_FOUND')">NO_CUSTOM_CHECK_FOUND</a>',             12);
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l68"><span class="linenum">  68</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('CUSTOM_CHECK_FILE_MISSING')" href="../_constants/CUSTOM_CHECK_FILE_MISSING.html" onMouseOver="constPopup(event,'CUSTOM_CHECK_FILE_MISSING')">CUSTOM_CHECK_FILE_MISSING</a>',         13);
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l70"><span class="linenum">  70</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('CUSTOM_CHECK_FUNCTION_MISSING')" href="../_constants/CUSTOM_CHECK_FUNCTION_MISSING.html" onMouseOver="constPopup(event,'CUSTOM_CHECK_FUNCTION_MISSING')">CUSTOM_CHECK_FUNCTION_MISSING</a>',     14);
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l72"><span class="linenum">  72</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NO_PHP_SETTINGS_NAME_FOUND')" href="../_constants/NO_PHP_SETTINGS_NAME_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_SETTINGS_NAME_FOUND')">NO_PHP_SETTINGS_NAME_FOUND</a>',        15);
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l74"><span class="linenum">  74</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('INCORRECT_FEEDBACK_FOR_REQUIRED')" href="../_constants/INCORRECT_FEEDBACK_FOR_REQUIRED.html" onMouseOver="constPopup(event,'INCORRECT_FEEDBACK_FOR_REQUIRED')">INCORRECT_FEEDBACK_FOR_REQUIRED</a>',   16);
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">    /** XML Processing Error */</span>
<a name="l76"><span class="linenum">  76</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('INCORRECT_FEEDBACK_FOR_OPTIONAL')" href="../_constants/INCORRECT_FEEDBACK_FOR_OPTIONAL.html" onMouseOver="constPopup(event,'INCORRECT_FEEDBACK_FOR_OPTIONAL')">INCORRECT_FEEDBACK_FOR_OPTIONAL</a>',   17);
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">/// Define algorithm used to select the xml file</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">    /** To select the newer file available to perform checks */</span>
<a name="l80"><span class="linenum">  80</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a>',                   0);
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">    /** To enforce the use of the file under dataroot */</span>
<a name="l82"><span class="linenum">  82</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('ENV_SELECT_DATAROOT')" href="../_constants/ENV_SELECT_DATAROOT.html" onMouseOver="constPopup(event,'ENV_SELECT_DATAROOT')">ENV_SELECT_DATAROOT</a>',                1);
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">    /** To enforce the use of the file under admin (release) */</span>
<a name="l84"><span class="linenum">  84</span></a>      <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('ENV_SELECT_RELEASE')" href="../_constants/ENV_SELECT_RELEASE.html" onMouseOver="constPopup(event,'ENV_SELECT_RELEASE')">ENV_SELECT_RELEASE</a>',                 2);
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">/**</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment"> * This function checks all the requirements defined in environment.xml.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> *</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * @param string $version version to check.</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> * @param int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. Default ENV_SELECT_NEWER (BC)</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> * @return array with two elements. The first element true/false, depending on</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> *      on whether the check passed. The second element is an array of environment_results</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> *      objects that has detailed information about the checks and which ones passed.</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> */</span>
<a name="l95"><span class="linenum">  95</span></a>  function <a class="function" onClick="logFunction('check_moodle_environment')" href="../_functions/check_moodle_environment.html" onMouseOver="funcPopup(event,'check_moodle_environment')">check_moodle_environment</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> = <a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a>) {
<a name="l96"><span class="linenum">  96</span></a>      if (<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_DATAROOT')" href="../_constants/ENV_SELECT_DATAROOT.html" onMouseOver="constPopup(event,'ENV_SELECT_DATAROOT')">ENV_SELECT_DATAROOT</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_RELEASE')" href="../_constants/ENV_SELECT_RELEASE.html" onMouseOver="constPopup(event,'ENV_SELECT_RELEASE')">ENV_SELECT_RELEASE</a>) {
<a name="l97"><span class="linenum">  97</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Incorrect value of <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> parameter');
<a name="l98"><span class="linenum">  98</span></a>      }
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">/// Get the more recent version before the requested</span>
<a name="l101"><span class="linenum"> 101</span></a>      if (!<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('get_latest_version_available')" href="../_functions/get_latest_version_available.html" onMouseOver="funcPopup(event,'get_latest_version_available')">get_latest_version_available</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l102"><span class="linenum"> 102</span></a>          return array(false, array());
<a name="l103"><span class="linenum"> 103</span></a>      }
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">/// Perform all the checks</span>
<a name="l106"><span class="linenum"> 106</span></a>      if (!<a class="var it11199" onMouseOver="hilite(11199)" onMouseOut="lolite()" onClick="logVariable('environment_results')" href="../_variables/environment_results.html">$environment_results</a> = <a class="function" onClick="logFunction('environment_check')" href="../_functions/environment_check.html" onMouseOver="funcPopup(event,'environment_check')">environment_check</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>          return array(false, array());
<a name="l108"><span class="linenum"> 108</span></a>      }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">/// Iterate over all the results looking for some error in required items</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">/// or some error_code</span>
<a name="l112"><span class="linenum"> 112</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = true;
<a name="l113"><span class="linenum"> 113</span></a>      foreach (<a class="var it11199" onMouseOver="hilite(11199)" onMouseOut="lolite()" onClick="logVariable('environment_results')" href="../_variables/environment_results.html">$environment_results</a> as <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>) {
<a name="l114"><span class="linenum"> 114</span></a>          if (!<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>() &amp;&amp; <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required'
<a name="l115"><span class="linenum"> 115</span></a>            &amp;&amp; !<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getBypassStr')" href="../_functions/getbypassstr.html" onMouseOver="funcPopup(event,'getbypassstr')">getBypassStr</a>()) {
<a name="l116"><span class="linenum"> 116</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = false; <span class="comment">// required item that is not bypased</span>
<a name="l117"><span class="linenum"> 117</span></a>          } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>() &amp;&amp; <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required'
<a name="l118"><span class="linenum"> 118</span></a>            &amp;&amp; <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getRestrictStr')" href="../_functions/getrestrictstr.html" onMouseOver="funcPopup(event,'getrestrictstr')">getRestrictStr</a>()) {
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = false; <span class="comment">// required item that is restricted</span>
<a name="l120"><span class="linenum"> 120</span></a>          } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getErrorCode')" href="../_functions/geterrorcode.html" onMouseOver="funcPopup(event,'geterrorcode')">getErrorCode</a>()) {
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = false;
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>      return array(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>, <a class="var it11199" onMouseOver="hilite(11199)" onMouseOut="lolite()" onClick="logVariable('environment_results')" href="../_variables/environment_results.html">$environment_results</a>);
<a name="l126"><span class="linenum"> 126</span></a>  }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">/**</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * Returns array of critical errors in plain text format</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * @param array $environment_results array of results gathered</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> * @return array errors</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> */</span>
<a name="l134"><span class="linenum"> 134</span></a>  function <a class="function" onClick="logFunction('environment_get_errors')" href="../_functions/environment_get_errors.html" onMouseOver="funcPopup(event,'environment_get_errors')">environment_get_errors</a>(<a class="var it11199" onMouseOver="hilite(11199)" onMouseOut="lolite()" onClick="logVariable('environment_results')" href="../_variables/environment_results.html">$environment_results</a>) {
<a name="l135"><span class="linenum"> 135</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l136"><span class="linenum"> 136</span></a>      <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a> = array();
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">    // Iterate over each environment_result</span>
<a name="l139"><span class="linenum"> 139</span></a>      foreach (<a class="var it11199" onMouseOver="hilite(11199)" onMouseOut="lolite()" onClick="logVariable('environment_results')" href="../_variables/environment_results.html">$environment_results</a> as <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>) {
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getPart')" href="../_functions/getpart.html" onMouseOver="funcPopup(event,'getpart')">getPart</a>();
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getInfo')" href="../_functions/getinfo.html" onMouseOver="funcPopup(event,'getinfo')">getInfo</a>();
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>();
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getErrorCode')" href="../_functions/geterrorcode.html" onMouseOver="funcPopup(event,'geterrorcode')">getErrorCode</a>();
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a> = new stdClass();
<a name="l146"><span class="linenum"> 146</span></a>          if (<a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a>) {
<a name="l147"><span class="linenum"> 147</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('error_code')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> = <a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a>;
<a name="l148"><span class="linenum"> 148</span></a>              <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a>[] = array(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>, <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('environmentxmlerror', 'admin', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../_variables/a.html">$a</a>));
<a name="l149"><span class="linenum"> 149</span></a>              return <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a>;
<a name="l150"><span class="linenum"> 150</span></a>          }
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">        /// Calculate the status value</span>
<a name="l153"><span class="linenum"> 153</span></a>          if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getBypassStr')" href="../_functions/getbypassstr.html" onMouseOver="funcPopup(event,'getbypassstr')">getBypassStr</a>() != '') {
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">            // not interesting</span>
<a name="l155"><span class="linenum"> 155</span></a>              continue;
<a name="l156"><span class="linenum"> 156</span></a>          } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getRestrictStr')" href="../_functions/getrestrictstr.html" onMouseOver="funcPopup(event,'getrestrictstr')">getRestrictStr</a>() != '') {
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">            // error</span>
<a name="l158"><span class="linenum"> 158</span></a>          } else {
<a name="l159"><span class="linenum"> 159</span></a>              if (<a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a>) {
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">                // ok</span>
<a name="l161"><span class="linenum"> 161</span></a>                  continue;
<a name="l162"><span class="linenum"> 162</span></a>              } else {
<a name="l163"><span class="linenum"> 163</span></a>                  if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'optional') {
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">                    // just a warning</span>
<a name="l165"><span class="linenum"> 165</span></a>                      continue;
<a name="l166"><span class="linenum"> 166</span></a>                  } else {
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">                    // error</span>
<a name="l168"><span class="linenum"> 168</span></a>                  }
<a name="l169"><span class="linenum"> 169</span></a>              }
<a name="l170"><span class="linenum"> 170</span></a>          }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">        // We are comparing versions</span>
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a> = new stdClass();
<a name="l174"><span class="linenum"> 174</span></a>          if (<a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('needed')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/needed.html">needed</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getNeededVersion')" href="../_functions/getneededversion.html" onMouseOver="funcPopup(event,'getneededversion')">getNeededVersion</a>()) {
<a name="l175"><span class="linenum"> 175</span></a>              <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>-&gt;<a onClick="logVariable('current')" class="var it39948" onMouseOver="hilite(39948)" onMouseOut="lolite()" href="../_variables/current.html">current</a> = <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getCurrentVersion')" href="../_functions/getcurrentversion.html" onMouseOver="funcPopup(event,'getcurrentversion')">getCurrentVersion</a>();
<a name="l176"><span class="linenum"> 176</span></a>              if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required') {
<a name="l177"><span class="linenum"> 177</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrequireversion';
<a name="l178"><span class="linenum"> 178</span></a>              } else {
<a name="l179"><span class="linenum"> 179</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrecommendversion';
<a name="l180"><span class="linenum"> 180</span></a>              }
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">        // We are checking installed &amp; enabled things</span>
<a name="l182"><span class="linenum"> 182</span></a>          } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getPart')" href="../_functions/getpart.html" onMouseOver="funcPopup(event,'getpart')">getPart</a>() == 'custom_check') {
<a name="l183"><span class="linenum"> 183</span></a>              if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required') {
<a name="l184"><span class="linenum"> 184</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrequirecustomcheck';
<a name="l185"><span class="linenum"> 185</span></a>              } else {
<a name="l186"><span class="linenum"> 186</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrecommendcustomcheck';
<a name="l187"><span class="linenum"> 187</span></a>              }
<a name="l188"><span class="linenum"> 188</span></a>          } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getPart')" href="../_functions/getpart.html" onMouseOver="funcPopup(event,'getpart')">getPart</a>() == 'php_setting') {
<a name="l189"><span class="linenum"> 189</span></a>              if (<a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a>) {
<a name="l190"><span class="linenum"> 190</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentsettingok';
<a name="l191"><span class="linenum"> 191</span></a>              } else if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required') {
<a name="l192"><span class="linenum"> 192</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentmustfixsetting';
<a name="l193"><span class="linenum"> 193</span></a>              } else {
<a name="l194"><span class="linenum"> 194</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentshouldfixsetting';
<a name="l195"><span class="linenum"> 195</span></a>              }
<a name="l196"><span class="linenum"> 196</span></a>          } else {
<a name="l197"><span class="linenum"> 197</span></a>              if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required') {
<a name="l198"><span class="linenum"> 198</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrequireinstall';
<a name="l199"><span class="linenum"> 199</span></a>              } else {
<a name="l200"><span class="linenum"> 200</span></a>                  <a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a> = 'environmentrecommendinstall';
<a name="l201"><span class="linenum"> 201</span></a>              }
<a name="l202"><span class="linenum"> 202</span></a>          }
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it11268" onMouseOver="hilite(11268)" onMouseOut="lolite()" onClick="logVariable('stringtouse')" href="../_variables/stringtouse.html">$stringtouse</a>, 'admin', <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../_variables/rec.html">$rec</a>);
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">        // Here we'll store all the feedback found</span>
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feedbacktext')" href="../_variables/feedbacktext.html">$feedbacktext</a> = '';
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">        // Append  the feedback if there is some</span>
<a name="l208"><span class="linenum"> 208</span></a>          <a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feedbacktext')" href="../_variables/feedbacktext.html">$feedbacktext</a> .= <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('strToReport')" href="../_functions/strtoreport.html" onMouseOver="funcPopup(event,'strtoreport')">strToReport</a>(<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getFeedbackStr')" href="../_functions/getfeedbackstr.html" onMouseOver="funcPopup(event,'getfeedbackstr')">getFeedbackStr</a>(), 'error');
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">        // Append the restrict if there is some</span>
<a name="l210"><span class="linenum"> 210</span></a>          <a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feedbacktext')" href="../_variables/feedbacktext.html">$feedbacktext</a> .= <a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('strToReport')" href="../_functions/strtoreport.html" onMouseOver="funcPopup(event,'strtoreport')">strToReport</a>(<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getRestrictStr')" href="../_functions/getrestrictstr.html" onMouseOver="funcPopup(event,'getrestrictstr')">getRestrictStr</a>(), 'error');
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>          <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a> .= <a class="function" onClick="logFunction('html_to_text')" href="../_functions/html_to_text.html" onMouseOver="funcPopup(event,'html_to_text')">html_to_text</a>(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feedbacktext')" href="../_variables/feedbacktext.html">$feedbacktext</a>);
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>          if (<a class="var it11266" onMouseOver="hilite(11266)" onMouseOut="lolite()" onClick="logVariable('environment_result')" href="../_variables/environment_result.html">$environment_result</a>-&gt;<a class="function" onClick="logFunction('getPart')" href="../_functions/getpart.html" onMouseOver="funcPopup(event,'getpart')">getPart</a>() == 'custom_check'){
<a name="l215"><span class="linenum"> 215</span></a>              <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a>[] = array(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>, <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>);
<a name="l216"><span class="linenum"> 216</span></a>          } else {
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a>[] = array((<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a> !== '' ? &quot;<a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a> <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>&quot; : <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../_variables/type.html">$type</a>), <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../_variables/report.html">$report</a>);
<a name="l218"><span class="linenum"> 218</span></a>          }
<a name="l219"><span class="linenum"> 219</span></a>      }
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>      return <a class="var it1210" onMouseOver="hilite(1210)" onMouseOut="lolite()" onClick="logVariable('errors')" href="../_variables/errors.html">$errors</a>;
<a name="l222"><span class="linenum"> 222</span></a>  }
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">/**</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment"> * This function will normalize any version to just a serie of numbers</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> * separated by dots. Everything else will be removed.</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> *</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> * @param string $version the original version</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment"> * @return string the normalized version</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> */</span>
<a name="l232"><span class="linenum"> 232</span></a>  function <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>) {
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">/// 1.9 Beta 2 should be read 1.9 on enviromental checks, not 1.9.2</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">/// we can discard everything after the first space</span>
<a name="l236"><span class="linenum"> 236</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l237"><span class="linenum"> 237</span></a>      <a class="var it17087" onMouseOver="hilite(17087)" onMouseOut="lolite()" onClick="logVariable('versionarr')" href="../_variables/versionarr.html">$versionarr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(&quot; &quot;,<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l238"><span class="linenum"> 238</span></a>      if (!empty(<a class="var it17087" onMouseOver="hilite(17087)" onMouseOut="lolite()" onClick="logVariable('versionarr')" href="../_variables/versionarr.html">$versionarr</a>)) {
<a name="l239"><span class="linenum"> 239</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="var it17087" onMouseOver="hilite(17087)" onMouseOut="lolite()" onClick="logVariable('versionarr')" href="../_variables/versionarr.html">$versionarr</a>[0];
<a name="l240"><span class="linenum"> 240</span></a>      }
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">/// Replace everything but numbers and dots by dots</span>
<a name="l242"><span class="linenum"> 242</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/[^\.\d]/', '.', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">/// Combine multiple dots in one</span>
<a name="l244"><span class="linenum"> 244</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(\.{2,})/', '.', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">/// Trim possible leading and trailing dots</span>
<a name="l246"><span class="linenum"> 246</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, '.');
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>      return <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>;
<a name="l249"><span class="linenum"> 249</span></a>  }
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">/**</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment"> * This function will load the environment.xml file and xmlize it</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment"> *</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment"> * @staticvar array $data</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment"> * @uses ENV_SELECT_NEWER</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment"> * @uses ENV_SELECT_DATAROOT</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment"> * @uses ENV_SELECT_RELEASE</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment"> * @return mixed the xmlized structure or false on error</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment"> */</span>
<a name="l262"><span class="linenum"> 262</span></a>  function <a class="function" onClick="logFunction('load_environment_xml')" href="../_functions/load_environment_xml.html" onMouseOver="funcPopup(event,'load_environment_xml')">load_environment_xml</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>=<a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a>) {
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l265"><span class="linenum"> 265</span></a>  
<a name="l266"><span class="linenum"> 266</span></a>      static <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = array(); <span class="comment">// Only load and xmlize once by request.</span>
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>      if (isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>[<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>])) {
<a name="l269"><span class="linenum"> 269</span></a>          return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>[<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>];
<a name="l270"><span class="linenum"> 270</span></a>      }
<a name="l271"><span class="linenum"> 271</span></a>      <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = false;
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>      if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dataroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dataroot.html">dataroot</a>.'/environment/environment.xml';
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>.'/'.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('admin')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/admin.html">admin</a>.'/environment.xml';
<a name="l276"><span class="linenum"> 276</span></a>          switch (<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l277"><span class="linenum"> 277</span></a>              case <a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a>:
<a name="l278"><span class="linenum"> 278</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) || !<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) || <a class="phpfunction" onClick="logFunction('filemtime')" href="../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) &lt; <a class="phpfunction" onClick="logFunction('filemtime')" href="../_functions/filemtime.html" onMouseOver="phpfuncPopup(event,'filemtime')">filemtime</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>) ||
<a name="l279"><span class="linenum"> 279</span></a>                      !<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>)) {
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">                    /// Fallback to fixed $CFG-&gt;admin/environment.xml</span>
<a name="l281"><span class="linenum"> 281</span></a>                      if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>) || !<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>) || !<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>)) {
<a name="l282"><span class="linenum"> 282</span></a>                          <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = false;
<a name="l283"><span class="linenum"> 283</span></a>                      }
<a name="l284"><span class="linenum"> 284</span></a>                  }
<a name="l285"><span class="linenum"> 285</span></a>                  break;
<a name="l286"><span class="linenum"> 286</span></a>              case <a class="constant" onClick="logConstant('ENV_SELECT_DATAROOT')" href="../_constants/ENV_SELECT_DATAROOT.html" onMouseOver="constPopup(event,'ENV_SELECT_DATAROOT')">ENV_SELECT_DATAROOT</a>:
<a name="l287"><span class="linenum"> 287</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) || !<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>) || !<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>)) {
<a name="l288"><span class="linenum"> 288</span></a>                      <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = false;
<a name="l289"><span class="linenum"> 289</span></a>                  }
<a name="l290"><span class="linenum"> 290</span></a>                  break;
<a name="l291"><span class="linenum"> 291</span></a>              case <a class="constant" onClick="logConstant('ENV_SELECT_RELEASE')" href="../_constants/ENV_SELECT_RELEASE.html" onMouseOver="constPopup(event,'ENV_SELECT_RELEASE')">ENV_SELECT_RELEASE</a>:
<a name="l292"><span class="linenum"> 292</span></a>                  if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>) || !<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>) || !<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it17088" onMouseOver="hilite(17088)" onMouseOut="lolite()" onClick="logVariable('internalfile')" href="../_variables/internalfile.html">$internalfile</a>)) {
<a name="l293"><span class="linenum"> 293</span></a>                      <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = false;
<a name="l294"><span class="linenum"> 294</span></a>                  }
<a name="l295"><span class="linenum"> 295</span></a>                  break;
<a name="l296"><span class="linenum"> 296</span></a>          }
<a name="l297"><span class="linenum"> 297</span></a>      } else {
<a name="l298"><span class="linenum"> 298</span></a>          if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a> = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_component_directory')" href="../_functions/get_component_directory.html" onMouseOver="funcPopup(event,'get_component_directory')">get_component_directory</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l299"><span class="linenum"> 299</span></a>              <a class="var it17089" onMouseOver="hilite(17089)" onMouseOut="lolite()" onClick="logVariable('pluginfile')" href="../_variables/pluginfile.html">$pluginfile</a> = &quot;<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('plugindir')" href="../_variables/plugindir.html">$plugindir</a>/environment.xml&quot;;
<a name="l300"><span class="linenum"> 300</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_file')" href="../_functions/is_file.html" onMouseOver="phpfuncPopup(event,'is_file')">is_file</a>(<a class="var it17089" onMouseOver="hilite(17089)" onMouseOut="lolite()" onClick="logVariable('pluginfile')" href="../_variables/pluginfile.html">$pluginfile</a>) || !<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it17089" onMouseOver="hilite(17089)" onMouseOut="lolite()" onClick="logVariable('pluginfile')" href="../_variables/pluginfile.html">$pluginfile</a>) || !<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="phpfunction" onClick="logFunction('file_get_contents')" href="../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="var it17089" onMouseOver="hilite(17089)" onMouseOut="lolite()" onClick="logVariable('pluginfile')" href="../_variables/pluginfile.html">$pluginfile</a>)) {
<a name="l301"><span class="linenum"> 301</span></a>                  <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = false;
<a name="l302"><span class="linenum"> 302</span></a>              }
<a name="l303"><span class="linenum"> 303</span></a>          }
<a name="l304"><span class="linenum"> 304</span></a>      }
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">    // XML the whole file.</span>
<a name="l306"><span class="linenum"> 306</span></a>      if (<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> !== false) {
<a name="l307"><span class="linenum"> 307</span></a>          <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="function" onClick="logFunction('xmlize')" href="../_functions/xmlize.html" onMouseOver="funcPopup(event,'xmlize')">xmlize</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>);
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>[<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>] = <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>;
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>      return <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>[<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>];
<a name="l313"><span class="linenum"> 313</span></a>  }
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">/**</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> * This function will return the list of Moodle versions available</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> *</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> * @return array of versions</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> */</span>
<a name="l321"><span class="linenum"> 321</span></a>  function <a class="function" onClick="logFunction('get_list_of_environment_versions')" href="../_functions/get_list_of_environment_versions.html" onMouseOver="funcPopup(event,'get_list_of_environment_versions')">get_list_of_environment_versions</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>) {
<a name="l322"><span class="linenum"> 322</span></a>      <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a> = array();
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>      if (isset(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['MOODLE'])) {
<a name="l325"><span class="linenum"> 325</span></a>          foreach (<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['MOODLE'] as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>) {
<a name="l326"><span class="linenum"> 326</span></a>              <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>[] = <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>['@']['version'];
<a name="l327"><span class="linenum"> 327</span></a>          }
<a name="l328"><span class="linenum"> 328</span></a>      }
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>      if (isset(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['PLUGIN'])) {
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>[] = 'all';
<a name="l332"><span class="linenum"> 332</span></a>      }
<a name="l333"><span class="linenum"> 333</span></a>  
<a name="l334"><span class="linenum"> 334</span></a>      return <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>;
<a name="l335"><span class="linenum"> 335</span></a>  }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">/**</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment"> * This function will return the most recent version in the environment.xml</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * file previous or equal to the version requested</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> *</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> * @param string $version top version from which we start to look backwards</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * @param int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use.</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @return string|bool string more recent version or false if not found</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> */</span>
<a name="l346"><span class="linenum"> 346</span></a>  function <a class="function" onClick="logFunction('get_latest_version_available')" href="../_functions/get_latest_version_available.html" onMouseOver="funcPopup(event,'get_latest_version_available')">get_latest_version_available</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l347"><span class="linenum"> 347</span></a>      if (<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_DATAROOT')" href="../_constants/ENV_SELECT_DATAROOT.html" onMouseOver="constPopup(event,'ENV_SELECT_DATAROOT')">ENV_SELECT_DATAROOT</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_RELEASE')" href="../_constants/ENV_SELECT_RELEASE.html" onMouseOver="constPopup(event,'ENV_SELECT_RELEASE')">ENV_SELECT_RELEASE</a>) {
<a name="l348"><span class="linenum"> 348</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Incorrect value of <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> parameter');
<a name="l349"><span class="linenum"> 349</span></a>      }
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">/// Normalize the version requested</span>
<a name="l352"><span class="linenum"> 352</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">/// Load xml file</span>
<a name="l355"><span class="linenum"> 355</span></a>      if (!<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="function" onClick="logFunction('load_environment_xml')" href="../_functions/load_environment_xml.html" onMouseOver="funcPopup(event,'load_environment_xml')">load_environment_xml</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l356"><span class="linenum"> 356</span></a>          return false;
<a name="l357"><span class="linenum"> 357</span></a>      }
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">/// Detect available versions</span>
<a name="l360"><span class="linenum"> 360</span></a>      if (!<a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a> = <a class="function" onClick="logFunction('get_list_of_environment_versions')" href="../_functions/get_list_of_environment_versions.html" onMouseOver="funcPopup(event,'get_list_of_environment_versions')">get_list_of_environment_versions</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>)) {
<a name="l361"><span class="linenum"> 361</span></a>          return false;
<a name="l362"><span class="linenum"> 362</span></a>      }
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">/// First we look for exact version</span>
<a name="l364"><span class="linenum"> 364</span></a>      if (<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>)) {
<a name="l365"><span class="linenum"> 365</span></a>          return <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>;
<a name="l366"><span class="linenum"> 366</span></a>      } else {
<a name="l367"><span class="linenum"> 367</span></a>          <a class="var it17090" onMouseOver="hilite(17090)" onMouseOut="lolite()" onClick="logVariable('found_version')" href="../_variables/found_version.html">$found_version</a> = false;
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">    /// Not exact match, so we are going to iterate over the list searching</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">    /// for the latest version before the requested one</span>
<a name="l370"><span class="linenum"> 370</span></a>          foreach (<a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a> as <a class="var it17091" onMouseOver="hilite(17091)" onMouseOut="lolite()" onClick="logVariable('arrversion')" href="../_variables/arrversion.html">$arrversion</a>) {
<a name="l371"><span class="linenum"> 371</span></a>              if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17091" onMouseOver="hilite(17091)" onMouseOut="lolite()" onClick="logVariable('arrversion')" href="../_variables/arrversion.html">$arrversion</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, '&lt;')) {
<a name="l372"><span class="linenum"> 372</span></a>                  <a class="var it17090" onMouseOver="hilite(17090)" onMouseOut="lolite()" onClick="logVariable('found_version')" href="../_variables/found_version.html">$found_version</a> = <a class="var it17091" onMouseOver="hilite(17091)" onMouseOut="lolite()" onClick="logVariable('arrversion')" href="../_variables/arrversion.html">$arrversion</a>;
<a name="l373"><span class="linenum"> 373</span></a>              }
<a name="l374"><span class="linenum"> 374</span></a>          }
<a name="l375"><span class="linenum"> 375</span></a>      }
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>      return <a class="var it17090" onMouseOver="hilite(17090)" onMouseOut="lolite()" onClick="logVariable('found_version')" href="../_variables/found_version.html">$found_version</a>;
<a name="l378"><span class="linenum"> 378</span></a>  }
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">/**</span>
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment"> * This function will return the xmlized data belonging to one Moodle version</span>
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment"> *</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment"> * @param string $version top version from which we start to look backwards</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment"> * @return mixed the xmlized structure or false on error</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment"> */</span>
<a name="l388"><span class="linenum"> 388</span></a>  function <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l389"><span class="linenum"> 389</span></a>  
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">/// Normalize the version requested</span>
<a name="l391"><span class="linenum"> 391</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">/// Load xml file</span>
<a name="l394"><span class="linenum"> 394</span></a>      if (!<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a> = <a class="function" onClick="logFunction('load_environment_xml')" href="../_functions/load_environment_xml.html" onMouseOver="funcPopup(event,'load_environment_xml')">load_environment_xml</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l395"><span class="linenum"> 395</span></a>          return false;
<a name="l396"><span class="linenum"> 396</span></a>      }
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">/// Detect available versions</span>
<a name="l399"><span class="linenum"> 399</span></a>      if (!<a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a> = <a class="function" onClick="logFunction('get_list_of_environment_versions')" href="../_functions/get_list_of_environment_versions.html" onMouseOver="funcPopup(event,'get_list_of_environment_versions')">get_list_of_environment_versions</a>(<a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>)) {
<a name="l400"><span class="linenum"> 400</span></a>          return false;
<a name="l401"><span class="linenum"> 401</span></a>      }
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">    // If $env_select is not numeric then this is being called on a plugin, and not the core environment.xml</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">    // If a version of 'all' is in the arry is also means that the new &lt;PLUGIN&gt; tag was found, this should</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">    // be matched against any version of Moodle.</span>
<a name="l406"><span class="linenum"> 406</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_numeric')" href="../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) &amp;&amp; <a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>('all', <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>)
<a name="l407"><span class="linenum"> 407</span></a>              &amp;&amp; <a class="function" onClick="logFunction('environment_verify_plugin')" href="../_functions/environment_verify_plugin.html" onMouseOver="funcPopup(event,'environment_verify_plugin')">environment_verify_plugin</a>(<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>, <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['PLUGIN'][0])) {
<a name="l408"><span class="linenum"> 408</span></a>          return <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['PLUGIN'][0];
<a name="l409"><span class="linenum"> 409</span></a>      }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">/// If the version requested is available</span>
<a name="l412"><span class="linenum"> 412</span></a>      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>)) {
<a name="l413"><span class="linenum"> 413</span></a>          return false;
<a name="l414"><span class="linenum"> 414</span></a>      }
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">/// We now we have it. Extract from full contents.</span>
<a name="l417"><span class="linenum"> 417</span></a>      <a class="var it17092" onMouseOver="hilite(17092)" onMouseOut="lolite()" onClick="logVariable('fl_arr')" href="../_variables/fl_arr.html">$fl_arr</a> = <a class="phpfunction" onClick="logFunction('array_flip')" href="../_functions/array_flip.html" onMouseOver="phpfuncPopup(event,'array_flip')">array_flip</a>(<a class="var it11220" onMouseOver="hilite(11220)" onMouseOut="lolite()" onClick="logVariable('versions')" href="../_variables/versions.html">$versions</a>);
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>      return <a class="var it1144" onMouseOver="hilite(1144)" onMouseOut="lolite()" onClick="logVariable('contents')" href="../_variables/contents.html">$contents</a>['COMPATIBILITY_MATRIX']['#']['MOODLE'][<a class="var it17092" onMouseOver="hilite(17092)" onMouseOut="lolite()" onClick="logVariable('fl_arr')" href="../_variables/fl_arr.html">$fl_arr</a>[<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>]];
<a name="l420"><span class="linenum"> 420</span></a>  }
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">/**</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment"> * Checks if a plugin tag has a name attribute and it matches the plugin being tested.</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment"> *</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment"> * @param string $plugin the name of the plugin.</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> * @param array $pluginxml the xmlised structure for the plugin tag being tested.</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment"> * @return boolean true if the name attribute exists and matches the plugin being tested.</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment"> */</span>
<a name="l429"><span class="linenum"> 429</span></a>  function <a class="function" onClick="logFunction('environment_verify_plugin')" href="../_functions/environment_verify_plugin.html" onMouseOver="funcPopup(event,'environment_verify_plugin')">environment_verify_plugin</a>(<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>, <a class="var it17093" onMouseOver="hilite(17093)" onMouseOut="lolite()" onClick="logVariable('pluginxml')" href="../_variables/pluginxml.html">$pluginxml</a>) {
<a name="l430"><span class="linenum"> 430</span></a>      if (!isset(<a class="var it17093" onMouseOver="hilite(17093)" onMouseOut="lolite()" onClick="logVariable('pluginxml')" href="../_variables/pluginxml.html">$pluginxml</a>['@']['name']) || <a class="var it17093" onMouseOver="hilite(17093)" onMouseOut="lolite()" onClick="logVariable('pluginxml')" href="../_variables/pluginxml.html">$pluginxml</a>['@']['name'] != <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>) {
<a name="l431"><span class="linenum"> 431</span></a>          return false;
<a name="l432"><span class="linenum"> 432</span></a>      }
<a name="l433"><span class="linenum"> 433</span></a>      return true;
<a name="l434"><span class="linenum"> 434</span></a>  }
<a name="l435"><span class="linenum"> 435</span></a>  
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">/**</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> * This function will check for everything (DB, PHP and PHP extensions for now)</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> * returning an array of environment_result objects.</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment"> *</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment"> * @global object</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment"> * @param int $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use.</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment"> * @return environment_results[] array of results encapsulated in one environment_result object</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment"> */</span>
<a name="l445"><span class="linenum"> 445</span></a>  function <a class="function" onClick="logFunction('environment_check')" href="../_functions/environment_check.html" onMouseOver="funcPopup(event,'environment_check')">environment_check</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l446"><span class="linenum"> 446</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      if (<a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_NEWER')" href="../_constants/ENV_SELECT_NEWER.html" onMouseOver="constPopup(event,'ENV_SELECT_NEWER')">ENV_SELECT_NEWER</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_DATAROOT')" href="../_constants/ENV_SELECT_DATAROOT.html" onMouseOver="constPopup(event,'ENV_SELECT_DATAROOT')">ENV_SELECT_DATAROOT</a> and <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> != <a class="constant" onClick="logConstant('ENV_SELECT_RELEASE')" href="../_constants/ENV_SELECT_RELEASE.html" onMouseOver="constPopup(event,'ENV_SELECT_RELEASE')">ENV_SELECT_RELEASE</a>) {
<a name="l449"><span class="linenum"> 449</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('coding_exception')" href="../_classes/coding_exception.html" onMouseOver="classPopup(event,'coding_exception')">coding_exception</a>('Incorrect value of <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a> parameter');
<a name="l450"><span class="linenum"> 450</span></a>      }
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">/// Normalize the version requested</span>
<a name="l453"><span class="linenum"> 453</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>);
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = array(); <span class="comment">//To store all the results</span>
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">/// Only run the moodle versions checker on upgrade, not on install</span>
<a name="l458"><span class="linenum"> 458</span></a>      if (!empty(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('version')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/version.html">version</a>)) {
<a name="l459"><span class="linenum"> 459</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="function" onClick="logFunction('environment_check_moodle')" href="../_functions/environment_check_moodle.html" onMouseOver="funcPopup(event,'environment_check_moodle')">environment_check_moodle</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l460"><span class="linenum"> 460</span></a>      }
<a name="l461"><span class="linenum"> 461</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="function" onClick="logFunction('environment_check_unicode')" href="../_functions/environment_check_unicode.html" onMouseOver="funcPopup(event,'environment_check_unicode')">environment_check_unicode</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l462"><span class="linenum"> 462</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="function" onClick="logFunction('environment_check_database')" href="../_functions/environment_check_database.html" onMouseOver="funcPopup(event,'environment_check_database')">environment_check_database</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l463"><span class="linenum"> 463</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="function" onClick="logFunction('environment_check_php')" href="../_functions/environment_check_php.html" onMouseOver="funcPopup(event,'environment_check_php')">environment_check_php</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>      if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('environment_check_pcre_unicode')" href="../_functions/environment_check_pcre_unicode.html" onMouseOver="funcPopup(event,'environment_check_pcre_unicode')">environment_check_pcre_unicode</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l466"><span class="linenum"> 466</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l467"><span class="linenum"> 467</span></a>      }
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>      <a class="var it17094" onMouseOver="hilite(17094)" onMouseOut="lolite()" onClick="logVariable('phpext_results')" href="../_variables/phpext_results.html">$phpext_results</a> = <a class="function" onClick="logFunction('environment_check_php_extensions')" href="../_functions/environment_check_php_extensions.html" onMouseOver="funcPopup(event,'environment_check_php_extensions')">environment_check_php_extensions</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l470"><span class="linenum"> 470</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>, <a class="var it17094" onMouseOver="hilite(17094)" onMouseOut="lolite()" onClick="logVariable('phpext_results')" href="../_variables/phpext_results.html">$phpext_results</a>);
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>      <a class="var it17095" onMouseOver="hilite(17095)" onMouseOut="lolite()" onClick="logVariable('phpsetting_results')" href="../_variables/phpsetting_results.html">$phpsetting_results</a> = <a class="function" onClick="logFunction('environment_check_php_settings')" href="../_functions/environment_check_php_settings.html" onMouseOver="funcPopup(event,'environment_check_php_settings')">environment_check_php_settings</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l473"><span class="linenum"> 473</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>, <a class="var it17095" onMouseOver="hilite(17095)" onMouseOut="lolite()" onClick="logVariable('phpsetting_results')" href="../_variables/phpsetting_results.html">$phpsetting_results</a>);
<a name="l474"><span class="linenum"> 474</span></a>  
<a name="l475"><span class="linenum"> 475</span></a>      <a class="var it17096" onMouseOver="hilite(17096)" onMouseOut="lolite()" onClick="logVariable('custom_results')" href="../_variables/custom_results.html">$custom_results</a> = <a class="function" onClick="logFunction('environment_custom_checks')" href="../_functions/environment_custom_checks.html" onMouseOver="funcPopup(event,'environment_custom_checks')">environment_custom_checks</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>);
<a name="l476"><span class="linenum"> 476</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>, <a class="var it17096" onMouseOver="hilite(17096)" onMouseOut="lolite()" onClick="logVariable('custom_results')" href="../_variables/custom_results.html">$custom_results</a>);
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">    // Always use the plugin directory version of environment.xml,</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">    // add-on developers need to keep those up-to-date with future info.</span>
<a name="l480"><span class="linenum"> 480</span></a>      foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_types')" href="../_functions/get_plugin_types.html" onMouseOver="funcPopup(event,'get_plugin_types')">get_plugin_types</a>() as <a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> =&gt; <a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>) {
<a name="l481"><span class="linenum"> 481</span></a>          foreach (<a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list_with_file')" href="../_functions/get_plugin_list_with_file.html" onMouseOver="funcPopup(event,'get_plugin_list_with_file')">get_plugin_list_with_file</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, 'environment.xml') as <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../_variables/pluginname.html">$pluginname</a> =&gt; <a class="var it1136" onMouseOver="hilite(1136)" onMouseOut="lolite()" onClick="logVariable('unused')" href="../_variables/unused.html">$unused</a>) {
<a name="l482"><span class="linenum"> 482</span></a>              <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> = <a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a> . '_' . <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../_variables/pluginname.html">$pluginname</a>;
<a name="l483"><span class="linenum"> 483</span></a>  
<a name="l484"><span class="linenum"> 484</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('environment_check_database')" href="../_functions/environment_check_database.html" onMouseOver="funcPopup(event,'environment_check_database')">environment_check_database</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l485"><span class="linenum"> 485</span></a>              if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>
<a name="l486"><span class="linenum"> 486</span></a>                  and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_DATABASE_SECTION_FOUND')" href="../_constants/NO_DATABASE_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_SECTION_FOUND')">NO_DATABASE_SECTION_FOUND</a>
<a name="l487"><span class="linenum"> 487</span></a>                  and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_DATABASE_VENDORS_FOUND')" href="../_constants/NO_DATABASE_VENDORS_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDORS_FOUND')">NO_DATABASE_VENDORS_FOUND</a>) {
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('plugin')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l490"><span class="linenum"> 490</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l491"><span class="linenum"> 491</span></a>              }
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('environment_check_php')" href="../_functions/environment_check_php.html" onMouseOver="funcPopup(event,'environment_check_php')">environment_check_php</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l494"><span class="linenum"> 494</span></a>              if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>
<a name="l495"><span class="linenum"> 495</span></a>                  and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_PHP_SECTION_FOUND')" href="../_constants/NO_PHP_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_SECTION_FOUND')">NO_PHP_SECTION_FOUND</a>
<a name="l496"><span class="linenum"> 496</span></a>                  and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_PHP_VERSION_FOUND')" href="../_constants/NO_PHP_VERSION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_VERSION_FOUND')">NO_PHP_VERSION_FOUND</a>) {
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('plugin')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l499"><span class="linenum"> 499</span></a>                  <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l500"><span class="linenum"> 500</span></a>              }
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>              <a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> = <a class="function" onClick="logFunction('environment_check_php_extensions')" href="../_functions/environment_check_php_extensions.html" onMouseOver="funcPopup(event,'environment_check_php_extensions')">environment_check_php_extensions</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l503"><span class="linenum"> 503</span></a>              foreach (<a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> as <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l504"><span class="linenum"> 504</span></a>                  if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>
<a name="l505"><span class="linenum"> 505</span></a>                      and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_PHP_EXTENSIONS_SECTION_FOUND')" href="../_constants/NO_PHP_EXTENSIONS_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_EXTENSIONS_SECTION_FOUND')">NO_PHP_EXTENSIONS_SECTION_FOUND</a>) {
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('plugin')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l508"><span class="linenum"> 508</span></a>                      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l509"><span class="linenum"> 509</span></a>                  }
<a name="l510"><span class="linenum"> 510</span></a>              }
<a name="l511"><span class="linenum"> 511</span></a>  
<a name="l512"><span class="linenum"> 512</span></a>              <a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> = <a class="function" onClick="logFunction('environment_check_php_settings')" href="../_functions/environment_check_php_settings.html" onMouseOver="funcPopup(event,'environment_check_php_settings')">environment_check_php_settings</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l513"><span class="linenum"> 513</span></a>              foreach (<a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> as <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l514"><span class="linenum"> 514</span></a>                  if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>) {
<a name="l515"><span class="linenum"> 515</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('plugin')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l516"><span class="linenum"> 516</span></a>                      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l517"><span class="linenum"> 517</span></a>                  }
<a name="l518"><span class="linenum"> 518</span></a>              }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>              <a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> = <a class="function" onClick="logFunction('environment_custom_checks')" href="../_functions/environment_custom_checks.html" onMouseOver="funcPopup(event,'environment_custom_checks')">environment_custom_checks</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>);
<a name="l521"><span class="linenum"> 521</span></a>              foreach (<a class="var it17097" onMouseOver="hilite(17097)" onMouseOut="lolite()" onClick="logVariable('pluginresults')" href="../_variables/pluginresults.html">$pluginresults</a> as <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l522"><span class="linenum"> 522</span></a>                  if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('error_code')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a> != <a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>) {
<a name="l523"><span class="linenum"> 523</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('plugin')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a>;
<a name="l524"><span class="linenum"> 524</span></a>                      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l525"><span class="linenum"> 525</span></a>                  }
<a name="l526"><span class="linenum"> 526</span></a>              }
<a name="l527"><span class="linenum"> 527</span></a>          }
<a name="l528"><span class="linenum"> 528</span></a>      }
<a name="l529"><span class="linenum"> 529</span></a>  
<a name="l530"><span class="linenum"> 530</span></a>      return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l531"><span class="linenum"> 531</span></a>  }
<a name="l532"><span class="linenum"> 532</span></a>  
<a name="l533"><span class="linenum"> 533</span></a>  
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">/**</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment"> * This function will check if php extensions requirements are satisfied</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment"> *</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment"> * @uses NO_PHP_EXTENSIONS_SECTION_FOUND</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment"> * @uses NO_PHP_EXTENSIONS_NAME_FOUND</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment"> * @return array array of results encapsulated in one environment_result object</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment"> */</span>
<a name="l544"><span class="linenum"> 544</span></a>  function <a class="function" onClick="logFunction('environment_check_php_extensions')" href="../_functions/environment_check_php_extensions.html" onMouseOver="funcPopup(event,'environment_check_php_extensions')">environment_check_php_extensions</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = array();
<a name="l547"><span class="linenum"> 547</span></a>  
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l549"><span class="linenum"> 549</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l551"><span class="linenum"> 551</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php_extension');
<a name="l552"><span class="linenum"> 552</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l554"><span class="linenum"> 554</span></a>          return array(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l555"><span class="linenum"> 555</span></a>      }
<a name="l556"><span class="linenum"> 556</span></a>  
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">/// Extract the php_extension part</span>
<a name="l558"><span class="linenum"> 558</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP_EXTENSIONS']['0']['#']['PHP_EXTENSION'])) {
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">    /// Error. No PHP section found</span>
<a name="l560"><span class="linenum"> 560</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php_extension');
<a name="l561"><span class="linenum"> 561</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l562"><span class="linenum"> 562</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_PHP_EXTENSIONS_SECTION_FOUND')" href="../_constants/NO_PHP_EXTENSIONS_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_EXTENSIONS_SECTION_FOUND')">NO_PHP_EXTENSIONS_SECTION_FOUND</a>);
<a name="l563"><span class="linenum"> 563</span></a>          return array(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l564"><span class="linenum"> 564</span></a>      }
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">/// Iterate over extensions checking them and creating the needed environment_results</span>
<a name="l566"><span class="linenum"> 566</span></a>      foreach(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP_EXTENSIONS']['0']['#']['PHP_EXTENSION'] as <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>) {
<a name="l567"><span class="linenum"> 567</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php_extension');
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">    /// Check for level</span>
<a name="l569"><span class="linenum"> 569</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>);
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">    /// Check for extension name</span>
<a name="l571"><span class="linenum"> 571</span></a>          if (!isset(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>['@']['name'])) {
<a name="l572"><span class="linenum"> 572</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l573"><span class="linenum"> 573</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_PHP_EXTENSIONS_NAME_FOUND')" href="../_constants/NO_PHP_EXTENSIONS_NAME_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_EXTENSIONS_NAME_FOUND')">NO_PHP_EXTENSIONS_NAME_FOUND</a>);
<a name="l574"><span class="linenum"> 574</span></a>          } else {
<a name="l575"><span class="linenum"> 575</span></a>              <a class="var it17098" onMouseOver="hilite(17098)" onMouseOut="lolite()" onClick="logVariable('extension_name')" href="../_variables/extension_name.html">$extension_name</a> = <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>['@']['name'];
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">        /// The name exists. Just check if it's an installed extension</span>
<a name="l577"><span class="linenum"> 577</span></a>              if (!<a class="phpfunction" onClick="logFunction('extension_loaded')" href="../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>(<a class="var it17098" onMouseOver="hilite(17098)" onMouseOut="lolite()" onClick="logVariable('extension_name')" href="../_variables/extension_name.html">$extension_name</a>)) {
<a name="l578"><span class="linenum"> 578</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l579"><span class="linenum"> 579</span></a>              } else {
<a name="l580"><span class="linenum"> 580</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l581"><span class="linenum"> 581</span></a>              }
<a name="l582"><span class="linenum"> 582</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l583"><span class="linenum"> 583</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it17098" onMouseOver="hilite(17098)" onMouseOut="lolite()" onClick="logVariable('extension_name')" href="../_variables/extension_name.html">$extension_name</a>);
<a name="l584"><span class="linenum"> 584</span></a>          }
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">    /// Do any actions defined in the XML file.</span>
<a name="l587"><span class="linenum"> 587</span></a>          <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('extension')" href="../_variables/extension.html">$extension</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">    /// Add the result to the array of results</span>
<a name="l590"><span class="linenum"> 590</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l591"><span class="linenum"> 591</span></a>      }
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>  
<a name="l594"><span class="linenum"> 594</span></a>      return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l595"><span class="linenum"> 595</span></a>  }
<a name="l596"><span class="linenum"> 596</span></a>  
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">/**</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment"> * This function will check if php extensions requirements are satisfied</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment"> *</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment"> * @uses NO_PHP_SETTINGS_NAME_FOUND</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment"> * @return array array of results encapsulated in one environment_result object</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment"> */</span>
<a name="l606"><span class="linenum"> 606</span></a>  function <a class="function" onClick="logFunction('environment_check_php_settings')" href="../_functions/environment_check_php_settings.html" onMouseOver="funcPopup(event,'environment_check_php_settings')">environment_check_php_settings</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l607"><span class="linenum"> 607</span></a>  
<a name="l608"><span class="linenum"> 608</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = array();
<a name="l609"><span class="linenum"> 609</span></a>  
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l611"><span class="linenum"> 611</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l613"><span class="linenum"> 613</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php_setting');
<a name="l614"><span class="linenum"> 614</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l615"><span class="linenum"> 615</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l616"><span class="linenum"> 616</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l617"><span class="linenum"> 617</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l618"><span class="linenum"> 618</span></a>      }
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">/// Extract the php_setting part</span>
<a name="l621"><span class="linenum"> 621</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP_SETTINGS']['0']['#']['PHP_SETTING'])) {
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">    /// No PHP section found - ignore</span>
<a name="l623"><span class="linenum"> 623</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l624"><span class="linenum"> 624</span></a>      }
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">/// Iterate over settings checking them and creating the needed environment_results</span>
<a name="l626"><span class="linenum"> 626</span></a>      foreach(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP_SETTINGS']['0']['#']['PHP_SETTING'] as <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>) {
<a name="l627"><span class="linenum"> 627</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php_setting');
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">    /// Check for level</span>
<a name="l629"><span class="linenum"> 629</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>);
<a name="l630"><span class="linenum"> 630</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">    /// Check for extension name</span>
<a name="l632"><span class="linenum"> 632</span></a>          if (!isset(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>['@']['name'])) {
<a name="l633"><span class="linenum"> 633</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l634"><span class="linenum"> 634</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_PHP_SETTINGS_NAME_FOUND')" href="../_constants/NO_PHP_SETTINGS_NAME_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_SETTINGS_NAME_FOUND')">NO_PHP_SETTINGS_NAME_FOUND</a>);
<a name="l635"><span class="linenum"> 635</span></a>          } else {
<a name="l636"><span class="linenum"> 636</span></a>              <a class="var it17099" onMouseOver="hilite(17099)" onMouseOut="lolite()" onClick="logVariable('setting_name')" href="../_variables/setting_name.html">$setting_name</a>  = <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>['@']['name'];
<a name="l637"><span class="linenum"> 637</span></a>              <a class="var it17100" onMouseOver="hilite(17100)" onMouseOut="lolite()" onClick="logVariable('setting_value')" href="../_variables/setting_value.html">$setting_value</a> = <a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>['@']['value'];
<a name="l638"><span class="linenum"> 638</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it17099" onMouseOver="hilite(17099)" onMouseOut="lolite()" onClick="logVariable('setting_name')" href="../_variables/setting_name.html">$setting_name</a>);
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>              if (<a class="var it17099" onMouseOver="hilite(17099)" onMouseOut="lolite()" onClick="logVariable('setting_name')" href="../_variables/setting_name.html">$setting_name</a> == 'memory_limit') {
<a name="l641"><span class="linenum"> 641</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('memory_limit');
<a name="l642"><span class="linenum"> 642</span></a>                  if (<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> == -1) {
<a name="l643"><span class="linenum"> 643</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l644"><span class="linenum"> 644</span></a>                  } else {
<a name="l645"><span class="linenum"> 645</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>  = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>);
<a name="l646"><span class="linenum"> 646</span></a>                      <a class="var it17101" onMouseOver="hilite(17101)" onMouseOut="lolite()" onClick="logVariable('minlimit')" href="../_variables/minlimit.html">$minlimit</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it17100" onMouseOver="hilite(17100)" onMouseOut="lolite()" onClick="logVariable('setting_value')" href="../_variables/setting_value.html">$setting_value</a>);
<a name="l647"><span class="linenum"> 647</span></a>                      if (<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> &lt; <a class="var it17101" onMouseOver="hilite(17101)" onMouseOut="lolite()" onClick="logVariable('minlimit')" href="../_variables/minlimit.html">$minlimit</a>) {
<a name="l648"><span class="linenum"> 648</span></a>                          @<a class="phpfunction" onClick="logFunction('ini_set')" href="../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>('memory_limit', <a class="var it17100" onMouseOver="hilite(17100)" onMouseOut="lolite()" onClick="logVariable('setting_value')" href="../_variables/setting_value.html">$setting_value</a>);
<a name="l649"><span class="linenum"> 649</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="phpfunction" onClick="logFunction('ini_get')" href="../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('memory_limit');
<a name="l650"><span class="linenum"> 650</span></a>                          <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="function" onClick="logFunction('get_real_size')" href="../_functions/get_real_size.html" onMouseOver="funcPopup(event,'get_real_size')">get_real_size</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a>);
<a name="l651"><span class="linenum"> 651</span></a>                      }
<a name="l652"><span class="linenum"> 652</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> &gt;= <a class="var it17101" onMouseOver="hilite(17101)" onMouseOut="lolite()" onClick="logVariable('minlimit')" href="../_variables/minlimit.html">$minlimit</a>);
<a name="l653"><span class="linenum"> 653</span></a>                  }
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>              } else {
<a name="l656"><span class="linenum"> 656</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> = <a class="function" onClick="logFunction('ini_get_bool')" href="../_functions/ini_get_bool.html" onMouseOver="funcPopup(event,'ini_get_bool')">ini_get_bool</a>(<a class="var it17099" onMouseOver="hilite(17099)" onMouseOut="lolite()" onClick="logVariable('setting_name')" href="../_variables/setting_name.html">$setting_name</a>);
<a name="l657"><span class="linenum"> 657</span></a>  <span class="comment">            /// The name exists. Just check if it's an installed extension</span>
<a name="l658"><span class="linenum"> 658</span></a>                  if (<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('current')" href="../_variables/current.html">$current</a> == <a class="var it17100" onMouseOver="hilite(17100)" onMouseOut="lolite()" onClick="logVariable('setting_value')" href="../_variables/setting_value.html">$setting_value</a>) {
<a name="l659"><span class="linenum"> 659</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l660"><span class="linenum"> 660</span></a>                  } else {
<a name="l661"><span class="linenum"> 661</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l662"><span class="linenum"> 662</span></a>                  }
<a name="l663"><span class="linenum"> 663</span></a>              }
<a name="l664"><span class="linenum"> 664</span></a>          }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">    /// Do any actions defined in the XML file.</span>
<a name="l667"><span class="linenum"> 667</span></a>          <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it564" onMouseOver="hilite(564)" onMouseOut="lolite()" onClick="logVariable('setting')" href="../_variables/setting.html">$setting</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">    /// Add the result to the array of results</span>
<a name="l670"><span class="linenum"> 670</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l671"><span class="linenum"> 671</span></a>      }
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>      return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l675"><span class="linenum"> 675</span></a>  }
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">/**</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment"> * This function will do the custom checks.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment"> *</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment"> * @uses CUSTOM_CHECK_FUNCTION_MISSING</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment"> * @uses CUSTOM_CHECK_FILE_MISSING</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment"> * @uses NO_CUSTOM_CHECK_FOUND</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server.</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment"> * @return array array of results encapsulated in environment_result objects.</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment"> */</span>
<a name="l687"><span class="linenum"> 687</span></a>  function <a class="function" onClick="logFunction('environment_custom_checks')" href="../_functions/environment_custom_checks.html" onMouseOver="funcPopup(event,'environment_custom_checks')">environment_custom_checks</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l688"><span class="linenum"> 688</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>      <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a> = array();
<a name="l691"><span class="linenum"> 691</span></a>  
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">/// Get current Moodle version (release) for later compare</span>
<a name="l693"><span class="linenum"> 693</span></a>      <a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a> = isset(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('release')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/release.html">release</a>) ? <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('release')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/release.html">release</a> : <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>; <span class="comment">/// In case $CFG fails (at install) use $version</span>
<a name="l694"><span class="linenum"> 694</span></a>      <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a>);
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l697"><span class="linenum"> 697</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">    /// Error. No version data found - but this will already have been reported.</span>
<a name="l699"><span class="linenum"> 699</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l700"><span class="linenum"> 700</span></a>      }
<a name="l701"><span class="linenum"> 701</span></a>  
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">/// Extract the CUSTOM_CHECKS part</span>
<a name="l703"><span class="linenum"> 703</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['CUSTOM_CHECKS']['0']['#']['CUSTOM_CHECK'])) {
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">    /// No custom checks found - not a problem</span>
<a name="l705"><span class="linenum"> 705</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l706"><span class="linenum"> 706</span></a>      }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">/// Iterate over extensions checking them and creating the needed environment_results</span>
<a name="l709"><span class="linenum"> 709</span></a>      foreach(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['CUSTOM_CHECKS']['0']['#']['CUSTOM_CHECK'] as <a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>) {
<a name="l710"><span class="linenum"> 710</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('custom_check');
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">    /// Check for level</span>
<a name="l713"><span class="linenum"> 713</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>);
<a name="l714"><span class="linenum"> 714</span></a>  
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">    /// Check for extension name</span>
<a name="l716"><span class="linenum"> 716</span></a>          if (isset(<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>['@']['function'])) {
<a name="l717"><span class="linenum"> 717</span></a>              <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a> = <a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>['@']['function'];
<a name="l718"><span class="linenum"> 718</span></a>              <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a> = null;
<a name="l719"><span class="linenum"> 719</span></a>              if (isset(<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>['@']['file'])) {
<a name="l720"><span class="linenum"> 720</span></a>                  <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a> . '/' . <a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>['@']['file'];
<a name="l721"><span class="linenum"> 721</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>)) {
<a name="l722"><span class="linenum"> 722</span></a>                      include_once(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>);
<a name="l723"><span class="linenum"> 723</span></a>                  }
<a name="l724"><span class="linenum"> 724</span></a>              }
<a name="l725"><span class="linenum"> 725</span></a>  
<a name="l726"><span class="linenum"> 726</span></a>              if (<a class="phpfunction" onClick="logFunction('is_callable')" href="../_functions/is_callable.html" onMouseOver="phpfuncPopup(event,'is_callable')">is_callable</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>)) {
<a name="l727"><span class="linenum"> 727</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l728"><span class="linenum"> 728</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>);
<a name="l729"><span class="linenum"> 729</span></a>                  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l730"><span class="linenum"> 730</span></a>              } else if (!<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a> or <a class="phpfunction" onClick="logFunction('is_readable')" href="../_functions/is_readable.html" onMouseOver="phpfuncPopup(event,'is_readable')">is_readable</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../_variables/file.html">$file</a>)) {
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">            /// Only show error for current version (where function MUST exist)</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">            /// else, we are performing custom checks against future versiosn</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">            /// and function MAY not exist, so it doesn't cause error, just skip</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">            /// custom check by returning null. MDL-15939</span>
<a name="l735"><span class="linenum"> 735</span></a>                  if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, '&gt;=')) {
<a name="l736"><span class="linenum"> 736</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l737"><span class="linenum"> 737</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>);
<a name="l738"><span class="linenum"> 738</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('CUSTOM_CHECK_FUNCTION_MISSING')" href="../_constants/CUSTOM_CHECK_FUNCTION_MISSING.html" onMouseOver="constPopup(event,'CUSTOM_CHECK_FUNCTION_MISSING')">CUSTOM_CHECK_FUNCTION_MISSING</a>);
<a name="l739"><span class="linenum"> 739</span></a>                  } else {
<a name="l740"><span class="linenum"> 740</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = null;
<a name="l741"><span class="linenum"> 741</span></a>                  }
<a name="l742"><span class="linenum"> 742</span></a>              } else {
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">            /// Only show error for current version (where function MUST exist)</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">            /// else, we are performing custom checks against future versiosn</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">            /// and function MAY not exist, so it doesn't cause error, just skip</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">            /// custom check by returning null. MDL-15939</span>
<a name="l747"><span class="linenum"> 747</span></a>                  if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, '&gt;=')) {
<a name="l748"><span class="linenum"> 748</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l749"><span class="linenum"> 749</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>);
<a name="l750"><span class="linenum"> 750</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('CUSTOM_CHECK_FILE_MISSING')" href="../_constants/CUSTOM_CHECK_FILE_MISSING.html" onMouseOver="constPopup(event,'CUSTOM_CHECK_FILE_MISSING')">CUSTOM_CHECK_FILE_MISSING</a>);
<a name="l751"><span class="linenum"> 751</span></a>                  } else {
<a name="l752"><span class="linenum"> 752</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = null;
<a name="l753"><span class="linenum"> 753</span></a>                  }
<a name="l754"><span class="linenum"> 754</span></a>              }
<a name="l755"><span class="linenum"> 755</span></a>          } else {
<a name="l756"><span class="linenum"> 756</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l757"><span class="linenum"> 757</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_CUSTOM_CHECK_FOUND')" href="../_constants/NO_CUSTOM_CHECK_FOUND.html" onMouseOver="constPopup(event,'NO_CUSTOM_CHECK_FOUND')">NO_CUSTOM_CHECK_FOUND</a>);
<a name="l758"><span class="linenum"> 758</span></a>          }
<a name="l759"><span class="linenum"> 759</span></a>  
<a name="l760"><span class="linenum"> 760</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>)) {
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">        /// Do any actions defined in the XML file.</span>
<a name="l762"><span class="linenum"> 762</span></a>              <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it5355" onMouseOver="hilite(5355)" onMouseOut="lolite()" onClick="logVariable('check')" href="../_variables/check.html">$check</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l763"><span class="linenum"> 763</span></a>  
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">        /// Add the result to the array of results</span>
<a name="l765"><span class="linenum"> 765</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l766"><span class="linenum"> 766</span></a>          }
<a name="l767"><span class="linenum"> 767</span></a>      }
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>      return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../_variables/results.html">$results</a>;
<a name="l770"><span class="linenum"> 770</span></a>  }
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment">/**</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment"> * This function will check if Moodle requirements are satisfied</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment"> *</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment"> * @return object results encapsulated in one environment_result object</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment"> */</span>
<a name="l780"><span class="linenum"> 780</span></a>  function <a class="function" onClick="logFunction('environment_check_moodle')" href="../_functions/environment_check_moodle.html" onMouseOver="funcPopup(event,'environment_check_moodle')">environment_check_moodle</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('moodle');
<a name="l783"><span class="linenum"> 783</span></a>  
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l785"><span class="linenum"> 785</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l789"><span class="linenum"> 789</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l790"><span class="linenum"> 790</span></a>      }
<a name="l791"><span class="linenum"> 791</span></a>  
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">/// Extract the moodle part</span>
<a name="l793"><span class="linenum"> 793</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['@']['requires'])) {
<a name="l794"><span class="linenum"> 794</span></a>          <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a> = '1.0'; <span class="comment">/// Default to 1.0 if no moodle requires is found</span>
<a name="l795"><span class="linenum"> 795</span></a>      } else {
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">    /// Extract required moodle version</span>
<a name="l797"><span class="linenum"> 797</span></a>          <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['@']['requires'];
<a name="l798"><span class="linenum"> 798</span></a>      }
<a name="l799"><span class="linenum"> 799</span></a>  
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">/// Now search the version we are using</span>
<a name="l801"><span class="linenum"> 801</span></a>      <a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a> = <a class="function" onClick="logFunction('get_config')" href="../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('', 'release');
<a name="l802"><span class="linenum"> 802</span></a>      <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a>);
<a name="l803"><span class="linenum"> 803</span></a>      if (<a class="phpfunction" onClick="logFunction('strpos')" href="../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a>, 'dev') !== false) {
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">        // when final version is required, dev is NOT enough!</span>
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> = <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> - 0.1;
<a name="l806"><span class="linenum"> 806</span></a>      }
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">/// And finally compare them, saving results</span>
<a name="l809"><span class="linenum"> 809</span></a>      if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>, <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>, '&gt;=')) {
<a name="l810"><span class="linenum"> 810</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l811"><span class="linenum"> 811</span></a>      } else {
<a name="l812"><span class="linenum"> 812</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l813"><span class="linenum"> 813</span></a>      }
<a name="l814"><span class="linenum"> 814</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>('required');
<a name="l815"><span class="linenum"> 815</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setCurrentVersion')" href="../_functions/setcurrentversion.html" onMouseOver="funcPopup(event,'setcurrentversion')">setCurrentVersion</a>(<a class="var it1816" onMouseOver="hilite(1816)" onMouseOut="lolite()" onClick="logVariable('release')" href="../_variables/release.html">$release</a>);
<a name="l816"><span class="linenum"> 816</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setNeededVersion')" href="../_functions/setneededversion.html" onMouseOver="funcPopup(event,'setneededversion')">setNeededVersion</a>(<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>);
<a name="l817"><span class="linenum"> 817</span></a>  
<a name="l818"><span class="linenum"> 818</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l819"><span class="linenum"> 819</span></a>  }
<a name="l820"><span class="linenum"> 820</span></a>  
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">/**</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment"> * This function will check if php requirements are satisfied</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment"> *</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment"> * @uses NO_PHP_SECTION_FOUND</span>
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment"> * @uses NO_PHP_VERSION_FOUND</span>
<a name="l827"><span class="linenum"> 827</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l828"><span class="linenum"> 828</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment"> * @return object results encapsulated in one environment_result object</span>
<a name="l830"><span class="linenum"> 830</span></a>  <span class="comment"> */</span>
<a name="l831"><span class="linenum"> 831</span></a>  function <a class="function" onClick="logFunction('environment_check_php')" href="../_functions/environment_check_php.html" onMouseOver="funcPopup(event,'environment_check_php')">environment_check_php</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('php');
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l836"><span class="linenum"> 836</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l838"><span class="linenum"> 838</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l839"><span class="linenum"> 839</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l840"><span class="linenum"> 840</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l841"><span class="linenum"> 841</span></a>      }
<a name="l842"><span class="linenum"> 842</span></a>  
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">/// Extract the php part</span>
<a name="l844"><span class="linenum"> 844</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP'])) {
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment">    /// Error. No PHP section found</span>
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l847"><span class="linenum"> 847</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_PHP_SECTION_FOUND')" href="../_constants/NO_PHP_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_SECTION_FOUND')">NO_PHP_SECTION_FOUND</a>);
<a name="l848"><span class="linenum"> 848</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l849"><span class="linenum"> 849</span></a>      } else {
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment">    /// Extract level and version</span>
<a name="l851"><span class="linenum"> 851</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP']['0']);
<a name="l852"><span class="linenum"> 852</span></a>          if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP']['0']['@']['version'])) {
<a name="l853"><span class="linenum"> 853</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l854"><span class="linenum"> 854</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_PHP_VERSION_FOUND')" href="../_constants/NO_PHP_VERSION_FOUND.html" onMouseOver="constPopup(event,'NO_PHP_VERSION_FOUND')">NO_PHP_VERSION_FOUND</a>);
<a name="l855"><span class="linenum"> 855</span></a>              return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l856"><span class="linenum"> 856</span></a>          } else {
<a name="l857"><span class="linenum"> 857</span></a>              <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a> = <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP']['0']['@']['version'];
<a name="l858"><span class="linenum"> 858</span></a>          }
<a name="l859"><span class="linenum"> 859</span></a>      }
<a name="l860"><span class="linenum"> 860</span></a>  
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment">/// Now search the version we are using</span>
<a name="l862"><span class="linenum"> 862</span></a>      <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="phpfunction" onClick="logFunction('phpversion')" href="../_functions/phpversion.html" onMouseOver="phpfuncPopup(event,'phpversion')">phpversion</a>());
<a name="l863"><span class="linenum"> 863</span></a>  
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">/// And finally compare them, saving results</span>
<a name="l865"><span class="linenum"> 865</span></a>      if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>, <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>, '&gt;=')) {
<a name="l866"><span class="linenum"> 866</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l867"><span class="linenum"> 867</span></a>      } else {
<a name="l868"><span class="linenum"> 868</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l869"><span class="linenum"> 869</span></a>      }
<a name="l870"><span class="linenum"> 870</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l871"><span class="linenum"> 871</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setCurrentVersion')" href="../_functions/setcurrentversion.html" onMouseOver="funcPopup(event,'setcurrentversion')">setCurrentVersion</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>);
<a name="l872"><span class="linenum"> 872</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setNeededVersion')" href="../_functions/setneededversion.html" onMouseOver="funcPopup(event,'setneededversion')">setNeededVersion</a>(<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>);
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">/// Do any actions defined in the XML file.</span>
<a name="l875"><span class="linenum"> 875</span></a>      <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PHP'][0], <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l878"><span class="linenum"> 878</span></a>  }
<a name="l879"><span class="linenum"> 879</span></a>  
<a name="l880"><span class="linenum"> 880</span></a>  <span class="comment">/**</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment"> * Looks for buggy PCRE implementation, we need unicode support in Moodle...</span>
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment"> * @return stdClass results encapsulated in one environment_result object, null if irrelevant</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment"> */</span>
<a name="l886"><span class="linenum"> 886</span></a>  function <a class="function" onClick="logFunction('environment_check_pcre_unicode')" href="../_functions/environment_check_pcre_unicode.html" onMouseOver="funcPopup(event,'environment_check_pcre_unicode')">environment_check_pcre_unicode</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l887"><span class="linenum"> 887</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('pcreunicode');
<a name="l888"><span class="linenum"> 888</span></a>  
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment">    // Get the environment version we need</span>
<a name="l890"><span class="linenum"> 890</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">        // Error. No version data found!</span>
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l893"><span class="linenum"> 893</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l894"><span class="linenum"> 894</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l895"><span class="linenum"> 895</span></a>      }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PCREUNICODE'])) {
<a name="l898"><span class="linenum"> 898</span></a>          return null;
<a name="l899"><span class="linenum"> 899</span></a>      }
<a name="l900"><span class="linenum"> 900</span></a>  
<a name="l901"><span class="linenum"> 901</span></a>      <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PCREUNICODE']['0']);
<a name="l902"><span class="linenum"> 902</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>      if (!<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('preg_match')) {
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">        // The extension test fails instead.</span>
<a name="l906"><span class="linenum"> 906</span></a>          return null;
<a name="l907"><span class="linenum"> 907</span></a>  
<a name="l908"><span class="linenum"> 908</span></a>      } else if (@<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/\pL/u', 'a') and @<a class="phpfunction" onClick="logFunction('preg_match')" href="../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/á/iu', 'Á')) {
<a name="l909"><span class="linenum"> 909</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>      } else {
<a name="l912"><span class="linenum"> 912</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l913"><span class="linenum"> 913</span></a>      }
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">    // Do any actions defined in the XML file.</span>
<a name="l916"><span class="linenum"> 916</span></a>      <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['PCREUNICODE'][0], <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l917"><span class="linenum"> 917</span></a>  
<a name="l918"><span class="linenum"> 918</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l919"><span class="linenum"> 919</span></a>  }
<a name="l920"><span class="linenum"> 920</span></a>  
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment">/**</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment"> * This function will check if unicode database requirements are satisfied</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment"> *</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment"> * @uses NO_UNICODE_SECTION_FOUND</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment"> * @return object results encapsulated in one environment_result object</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment"> */</span>
<a name="l930"><span class="linenum"> 930</span></a>  function <a class="function" onClick="logFunction('environment_check_unicode')" href="../_functions/environment_check_unicode.html" onMouseOver="funcPopup(event,'environment_check_unicode')">environment_check_unicode</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l931"><span class="linenum"> 931</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l932"><span class="linenum"> 932</span></a>  
<a name="l933"><span class="linenum"> 933</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('unicode');
<a name="l934"><span class="linenum"> 934</span></a>  
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">    /// Get the enviroment version we need</span>
<a name="l936"><span class="linenum"> 936</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l939"><span class="linenum"> 939</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l940"><span class="linenum"> 940</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l941"><span class="linenum"> 941</span></a>      }
<a name="l942"><span class="linenum"> 942</span></a>  
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">    /// Extract the unicode part</span>
<a name="l944"><span class="linenum"> 944</span></a>  
<a name="l945"><span class="linenum"> 945</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['UNICODE'])) {
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">    /// Error. No UNICODE section found</span>
<a name="l947"><span class="linenum"> 947</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l948"><span class="linenum"> 948</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_UNICODE_SECTION_FOUND')" href="../_constants/NO_UNICODE_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_UNICODE_SECTION_FOUND')">NO_UNICODE_SECTION_FOUND</a>);
<a name="l949"><span class="linenum"> 949</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l950"><span class="linenum"> 950</span></a>      } else {
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment">    /// Extract level</span>
<a name="l952"><span class="linenum"> 952</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['UNICODE']['0']);
<a name="l953"><span class="linenum"> 953</span></a>      }
<a name="l954"><span class="linenum"> 954</span></a>  
<a name="l955"><span class="linenum"> 955</span></a>      if (!<a class="var it17104" onMouseOver="hilite(17104)" onMouseOut="lolite()" onClick="logVariable('unicodedb')" href="../_variables/unicodedb.html">$unicodedb</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('setup_is_unicodedb')" href="../_functions/setup_is_unicodedb.html" onMouseOver="funcPopup(event,'setup_is_unicodedb')">setup_is_unicodedb</a>()) {
<a name="l956"><span class="linenum"> 956</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l957"><span class="linenum"> 957</span></a>      } else {
<a name="l958"><span class="linenum"> 958</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l959"><span class="linenum"> 959</span></a>      }
<a name="l960"><span class="linenum"> 960</span></a>  
<a name="l961"><span class="linenum"> 961</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">/// Do any actions defined in the XML file.</span>
<a name="l964"><span class="linenum"> 964</span></a>      <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['UNICODE'][0], <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l965"><span class="linenum"> 965</span></a>  
<a name="l966"><span class="linenum"> 966</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l967"><span class="linenum"> 967</span></a>  }
<a name="l968"><span class="linenum"> 968</span></a>  
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">/**</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment"> * This function will check if database requirements are satisfied</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment"> *</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment"> * @uses NO_VERSION_DATA_FOUND</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment"> * @uses NO_DATABASE_SECTION_FOUND</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment"> * @uses NO_DATABASE_VENDORS_FOUND</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment"> * @uses NO_DATABASE_VENDOR_MYSQL_FOUND</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment"> * @uses NO_DATABASE_VENDOR_POSTGRES_FOUND</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment"> * @uses NO_DATABASE_VENDOR_VERSION_FOUND</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment"> * @param string $version xml version we are going to use to test this server</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment"> * @param int|string $env_select one of ENV_SELECT_NEWER | ENV_SELECT_DATAROOT | ENV_SELECT_RELEASE decide xml to use. String means plugin name.</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment"> * @return object results encapsulated in one environment_result object</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment"> */</span>
<a name="l982"><span class="linenum"> 982</span></a>  function <a class="function" onClick="logFunction('environment_check_database')" href="../_functions/environment_check_database.html" onMouseOver="funcPopup(event,'environment_check_database')">environment_check_database</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>) {
<a name="l983"><span class="linenum"> 983</span></a>  
<a name="l984"><span class="linenum"> 984</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a>('database');
<a name="l987"><span class="linenum"> 987</span></a>  
<a name="l988"><span class="linenum"> 988</span></a>      <a class="var it17105" onMouseOver="hilite(17105)" onMouseOut="lolite()" onClick="logVariable('vendors')" href="../_variables/vendors.html">$vendors</a> = array();  <span class="comment">//Array of vendors in version</span>
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">/// Get the enviroment version we need</span>
<a name="l991"><span class="linenum"> 991</span></a>      if (!<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a> = <a class="function" onClick="logFunction('get_environment_for_version')" href="../_functions/get_environment_for_version.html" onMouseOver="funcPopup(event,'get_environment_for_version')">get_environment_for_version</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('version')" href="../_variables/version.html">$version</a>, <a class="var it17086" onMouseOver="hilite(17086)" onMouseOut="lolite()" onClick="logVariable('env_select')" href="../_variables/env_select.html">$env_select</a>)) {
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">    /// Error. No version data found</span>
<a name="l993"><span class="linenum"> 993</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l994"><span class="linenum"> 994</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_VERSION_DATA_FOUND')" href="../_constants/NO_VERSION_DATA_FOUND.html" onMouseOver="constPopup(event,'NO_VERSION_DATA_FOUND')">NO_VERSION_DATA_FOUND</a>);
<a name="l995"><span class="linenum"> 995</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l996"><span class="linenum"> 996</span></a>      }
<a name="l997"><span class="linenum"> 997</span></a>  
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment">/// Extract the database part</span>
<a name="l999"><span class="linenum"> 999</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['DATABASE'])) {
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">    /// Error. No DATABASE section found</span>
<a name="l1001"><span class="linenum">1001</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1002"><span class="linenum">1002</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_DATABASE_SECTION_FOUND')" href="../_constants/NO_DATABASE_SECTION_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_SECTION_FOUND')">NO_DATABASE_SECTION_FOUND</a>);
<a name="l1003"><span class="linenum">1003</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1004"><span class="linenum">1004</span></a>      } else {
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment">    /// Extract level</span>
<a name="l1006"><span class="linenum">1006</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['DATABASE']['0']);
<a name="l1007"><span class="linenum">1007</span></a>      }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">/// Extract DB vendors. At least 2 are mandatory (mysql &amp; postgres)</span>
<a name="l1010"><span class="linenum">1010</span></a>      if (!isset(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['DATABASE']['0']['#']['VENDOR'])) {
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">    /// Error. No VENDORS found</span>
<a name="l1012"><span class="linenum">1012</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1013"><span class="linenum">1013</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_DATABASE_VENDORS_FOUND')" href="../_constants/NO_DATABASE_VENDORS_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDORS_FOUND')">NO_DATABASE_VENDORS_FOUND</a>);
<a name="l1014"><span class="linenum">1014</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1015"><span class="linenum">1015</span></a>      } else {
<a name="l1016"><span class="linenum">1016</span></a>  <span class="comment">    /// Extract vendors</span>
<a name="l1017"><span class="linenum">1017</span></a>          foreach (<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../_variables/data.html">$data</a>['#']['DATABASE']['0']['#']['VENDOR'] as <a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>) {
<a name="l1018"><span class="linenum">1018</span></a>              if (isset(<a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>['@']['name']) &amp;&amp; isset(<a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>['@']['version'])) {
<a name="l1019"><span class="linenum">1019</span></a>                  <a class="var it17105" onMouseOver="hilite(17105)" onMouseOut="lolite()" onClick="logVariable('vendors')" href="../_variables/vendors.html">$vendors</a>[<a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>['@']['name']] = <a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>['@']['version'];
<a name="l1020"><span class="linenum">1020</span></a>                  <a class="var it17106" onMouseOver="hilite(17106)" onMouseOut="lolite()" onClick="logVariable('vendorsxml')" href="../_variables/vendorsxml.html">$vendorsxml</a>[<a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>['@']['name']] = <a class="var it4603" onMouseOver="hilite(4603)" onMouseOut="lolite()" onClick="logVariable('vendor')" href="../_variables/vendor.html">$vendor</a>;
<a name="l1021"><span class="linenum">1021</span></a>              }
<a name="l1022"><span class="linenum">1022</span></a>          }
<a name="l1023"><span class="linenum">1023</span></a>      }
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">/// Check we have the mysql vendor version</span>
<a name="l1025"><span class="linenum">1025</span></a>      if (empty(<a class="var it17105" onMouseOver="hilite(17105)" onMouseOut="lolite()" onClick="logVariable('vendors')" href="../_variables/vendors.html">$vendors</a>['mysql'])) {
<a name="l1026"><span class="linenum">1026</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1027"><span class="linenum">1027</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_MYSQL_FOUND')" href="../_constants/NO_DATABASE_VENDOR_MYSQL_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_MYSQL_FOUND')">NO_DATABASE_VENDOR_MYSQL_FOUND</a>);
<a name="l1028"><span class="linenum">1028</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1029"><span class="linenum">1029</span></a>      }
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment">/// Check we have the postgres vendor version</span>
<a name="l1031"><span class="linenum">1031</span></a>      if (empty(<a class="var it17105" onMouseOver="hilite(17105)" onMouseOut="lolite()" onClick="logVariable('vendors')" href="../_variables/vendors.html">$vendors</a>['postgres'])) {
<a name="l1032"><span class="linenum">1032</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1033"><span class="linenum">1033</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_POSTGRES_FOUND')" href="../_constants/NO_DATABASE_VENDOR_POSTGRES_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_POSTGRES_FOUND')">NO_DATABASE_VENDOR_POSTGRES_FOUND</a>);
<a name="l1034"><span class="linenum">1034</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1035"><span class="linenum">1035</span></a>      }
<a name="l1036"><span class="linenum">1036</span></a>  
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">/// Now search the version we are using (depending of vendor)</span>
<a name="l1038"><span class="linenum">1038</span></a>      <a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('current_vendor')" href="../_variables/current_vendor.html">$current_vendor</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_dbvendor')" href="../_functions/get_dbvendor.html" onMouseOver="funcPopup(event,'get_dbvendor')">get_dbvendor</a>();
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>      <a class="var it17108" onMouseOver="hilite(17108)" onMouseOut="lolite()" onClick="logVariable('dbinfo')" href="../_variables/dbinfo.html">$dbinfo</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_server_info')" href="../_functions/get_server_info.html" onMouseOver="funcPopup(event,'get_server_info')">get_server_info</a>();
<a name="l1041"><span class="linenum">1041</span></a>      <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a> = <a class="function" onClick="logFunction('normalize_version')" href="../_functions/normalize_version.html" onMouseOver="funcPopup(event,'normalize_version')">normalize_version</a>(<a class="var it17108" onMouseOver="hilite(17108)" onMouseOut="lolite()" onClick="logVariable('dbinfo')" href="../_variables/dbinfo.html">$dbinfo</a>['version']);
<a name="l1042"><span class="linenum">1042</span></a>      <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a> = <a class="var it17105" onMouseOver="hilite(17105)" onMouseOut="lolite()" onClick="logVariable('vendors')" href="../_variables/vendors.html">$vendors</a>[<a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('current_vendor')" href="../_variables/current_vendor.html">$current_vendor</a>];
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment">/// Check we have a needed version</span>
<a name="l1045"><span class="linenum">1045</span></a>      if (!<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>) {
<a name="l1046"><span class="linenum">1046</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1047"><span class="linenum">1047</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_DATABASE_VENDOR_VERSION_FOUND')" href="../_constants/NO_DATABASE_VENDOR_VERSION_FOUND.html" onMouseOver="constPopup(event,'NO_DATABASE_VENDOR_VERSION_FOUND')">NO_DATABASE_VENDOR_VERSION_FOUND</a>);
<a name="l1048"><span class="linenum">1048</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1049"><span class="linenum">1049</span></a>      }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">/// And finally compare them, saving results</span>
<a name="l1052"><span class="linenum">1052</span></a>      if (<a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>, <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>, '&gt;=')) {
<a name="l1053"><span class="linenum">1053</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(true);
<a name="l1054"><span class="linenum">1054</span></a>      } else {
<a name="l1055"><span class="linenum">1055</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1056"><span class="linenum">1056</span></a>      }
<a name="l1057"><span class="linenum">1057</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>);
<a name="l1058"><span class="linenum">1058</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setCurrentVersion')" href="../_functions/setcurrentversion.html" onMouseOver="funcPopup(event,'setcurrentversion')">setCurrentVersion</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>);
<a name="l1059"><span class="linenum">1059</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setNeededVersion')" href="../_functions/setneededversion.html" onMouseOver="funcPopup(event,'setneededversion')">setNeededVersion</a>(<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>);
<a name="l1060"><span class="linenum">1060</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('current_vendor')" href="../_variables/current_vendor.html">$current_vendor</a> . ' (' . <a class="var it17108" onMouseOver="hilite(17108)" onMouseOut="lolite()" onClick="logVariable('dbinfo')" href="../_variables/dbinfo.html">$dbinfo</a>['description'] . ')');
<a name="l1061"><span class="linenum">1061</span></a>  
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">/// Do any actions defined in the XML file.</span>
<a name="l1063"><span class="linenum">1063</span></a>      <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it17106" onMouseOver="hilite(17106)" onMouseOut="lolite()" onClick="logVariable('vendorsxml')" href="../_variables/vendorsxml.html">$vendorsxml</a>[<a class="var it17107" onMouseOver="hilite(17107)" onMouseOut="lolite()" onClick="logVariable('current_vendor')" href="../_variables/current_vendor.html">$current_vendor</a>], <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l1064"><span class="linenum">1064</span></a>  
<a name="l1065"><span class="linenum">1065</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l1066"><span class="linenum">1066</span></a>  
<a name="l1067"><span class="linenum">1067</span></a>  }
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">/**</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment"> * This function will post-process the result record by executing the specified</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment"> * function, modifying it as necessary, also a custom message will be added</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment"> * to the result object to be printed by the display layer.</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment"> * Every bypass function must be defined in this file and it'll return</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment"> * true/false to decide if the original test is bypassed or no. Also</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment"> * such bypass functions are able to directly handling the result object</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment"> * although it should be only under exceptional conditions.</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment"> *</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment"> * @param string xmldata containing the bypass data</span>
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment"> * @param object result object to be updated</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment"> * @return void</span>
<a name="l1081"><span class="linenum">1081</span></a>  <span class="comment"> */</span>
<a name="l1082"><span class="linenum">1082</span></a>  function <a class="function" onClick="logFunction('process_environment_bypass')" href="../_functions/process_environment_bypass.html" onMouseOver="funcPopup(event,'process_environment_bypass')">process_environment_bypass</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>, &amp;<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l1083"><span class="linenum">1083</span></a>  
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">/// Only try to bypass if we were in error and it was required</span>
<a name="l1085"><span class="linenum">1085</span></a>      if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>() || <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'optional') {
<a name="l1086"><span class="linenum">1086</span></a>          return;
<a name="l1087"><span class="linenum">1087</span></a>      }
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">/// It there is bypass info (function and message)</span>
<a name="l1090"><span class="linenum">1090</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']) &amp;&amp; isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['function']) &amp;&amp; isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['message'])) {
<a name="l1091"><span class="linenum">1091</span></a>          <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a> = <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['function'];
<a name="l1092"><span class="linenum">1092</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>  = <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['message'];
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment">    /// Look for the function</span>
<a name="l1094"><span class="linenum">1094</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>)) {
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">        /// Call it, and if bypass = true is returned, apply meesage</span>
<a name="l1096"><span class="linenum">1096</span></a>              if (<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>)) {
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">            /// We only set the bypass message if the function itself hasn't defined it before</span>
<a name="l1098"><span class="linenum">1098</span></a>                  if (empty(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('getBypassStr')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/getBypassStr.html">getBypassStr</a>)) {
<a name="l1099"><span class="linenum">1099</span></a>                      if (isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['plugin'])) {
<a name="l1100"><span class="linenum">1100</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setBypassStr')" href="../_functions/setbypassstr.html" onMouseOver="funcPopup(event,'setbypassstr')">setBypassStr</a>(array(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['BYPASS'][0]['@']['plugin']));
<a name="l1101"><span class="linenum">1101</span></a>                      } else {
<a name="l1102"><span class="linenum">1102</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setBypassStr')" href="../_functions/setbypassstr.html" onMouseOver="funcPopup(event,'setbypassstr')">setBypassStr</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l1103"><span class="linenum">1103</span></a>                      }
<a name="l1104"><span class="linenum">1104</span></a>                  }
<a name="l1105"><span class="linenum">1105</span></a>              }
<a name="l1106"><span class="linenum">1106</span></a>          }
<a name="l1107"><span class="linenum">1107</span></a>      }
<a name="l1108"><span class="linenum">1108</span></a>  }
<a name="l1109"><span class="linenum">1109</span></a>  
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">/**</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment"> * This function will post-process the result record by executing the specified</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment"> * function, modifying it as necessary, also a custom message will be added</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment"> * to the result object to be printed by the display layer.</span>
<a name="l1114"><span class="linenum">1114</span></a>  <span class="comment"> * Every restrict function must be defined in this file and it'll return</span>
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment"> * true/false to decide if the original test is restricted or no. Also</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment"> * such restrict functions are able to directly handling the result object</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment"> * although it should be only under exceptional conditions.</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment"> *</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment"> * @param string xmldata containing the restrict data</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment"> * @param object result object to be updated</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment"> * @return void</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment"> */</span>
<a name="l1123"><span class="linenum">1123</span></a>  function <a class="function" onClick="logFunction('process_environment_restrict')" href="../_functions/process_environment_restrict.html" onMouseOver="funcPopup(event,'process_environment_restrict')">process_environment_restrict</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>, &amp;<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">/// Only try to restrict if we were not in error and it was required</span>
<a name="l1126"><span class="linenum">1126</span></a>      if (!<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>() || <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'optional') {
<a name="l1127"><span class="linenum">1127</span></a>          return;
<a name="l1128"><span class="linenum">1128</span></a>      }
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">/// It there is restrict info (function and message)</span>
<a name="l1130"><span class="linenum">1130</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']) &amp;&amp; isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['function']) &amp;&amp; isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['message'])) {
<a name="l1131"><span class="linenum">1131</span></a>          <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a> = <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['function'];
<a name="l1132"><span class="linenum">1132</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>  = <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['message'];
<a name="l1133"><span class="linenum">1133</span></a>  <span class="comment">    /// Look for the function</span>
<a name="l1134"><span class="linenum">1134</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>)) {
<a name="l1135"><span class="linenum">1135</span></a>  <span class="comment">        /// Call it, and if restrict = true is returned, apply meesage</span>
<a name="l1136"><span class="linenum">1136</span></a>              if (<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('function')" href="../_variables/function.html">$function</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>)) {
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment">            /// We only set the restrict message if the function itself hasn't defined it before</span>
<a name="l1138"><span class="linenum">1138</span></a>                  if (empty(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('getRestrictStr')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/getRestrictStr.html">getRestrictStr</a>)) {
<a name="l1139"><span class="linenum">1139</span></a>                      if (isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['plugin'])) {
<a name="l1140"><span class="linenum">1140</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setRestrictStr')" href="../_functions/setrestrictstr.html" onMouseOver="funcPopup(event,'setrestrictstr')">setRestrictStr</a>(array(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>, <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['RESTRICT'][0]['@']['plugin']));
<a name="l1141"><span class="linenum">1141</span></a>                      } else {
<a name="l1142"><span class="linenum">1142</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setRestrictStr')" href="../_functions/setrestrictstr.html" onMouseOver="funcPopup(event,'setrestrictstr')">setRestrictStr</a>(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../_variables/message.html">$message</a>);
<a name="l1143"><span class="linenum">1143</span></a>                      }
<a name="l1144"><span class="linenum">1144</span></a>                  }
<a name="l1145"><span class="linenum">1145</span></a>              }
<a name="l1146"><span class="linenum">1146</span></a>          }
<a name="l1147"><span class="linenum">1147</span></a>      }
<a name="l1148"><span class="linenum">1148</span></a>  }
<a name="l1149"><span class="linenum">1149</span></a>  
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment">/**</span>
<a name="l1151"><span class="linenum">1151</span></a>  <span class="comment"> * This function will detect if there is some message available to be added to the</span>
<a name="l1152"><span class="linenum">1152</span></a>  <span class="comment"> * result in order to clarify enviromental details.</span>
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment"> *</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment"> * @uses INCORRECT_FEEDBACK_FOR_REQUIRED</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment"> * @uses INCORRECT_FEEDBACK_FOR_OPTIONAL</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> * @param string xmldata containing the feedback data</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment"> * @param object reult object to be updated</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment"> */</span>
<a name="l1159"><span class="linenum">1159</span></a>  function <a class="function" onClick="logFunction('process_environment_messages')" href="../_functions/process_environment_messages.html" onMouseOver="funcPopup(event,'process_environment_messages')">process_environment_messages</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>, &amp;<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l1160"><span class="linenum">1160</span></a>  
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment">/// If there is feedback info</span>
<a name="l1162"><span class="linenum">1162</span></a>      if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']) &amp;&amp; isset(<a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['FEEDBACK'][0]['#'])) {
<a name="l1163"><span class="linenum">1163</span></a>          <a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a> = <a class="var it2503" onMouseOver="hilite(2503)" onMouseOut="lolite()" onClick="logVariable('xml')" href="../_variables/xml.html">$xml</a>['#']['FEEDBACK'][0]['#'];
<a name="l1164"><span class="linenum">1164</span></a>  
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">        // Detect some incorrect feedback combinations.</span>
<a name="l1166"><span class="linenum">1166</span></a>          if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required' and isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'])) {
<a name="l1167"><span class="linenum">1167</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1168"><span class="linenum">1168</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('INCORRECT_FEEDBACK_FOR_REQUIRED')" href="../_constants/INCORRECT_FEEDBACK_FOR_REQUIRED.html" onMouseOver="constPopup(event,'INCORRECT_FEEDBACK_FOR_REQUIRED')">INCORRECT_FEEDBACK_FOR_REQUIRED</a>);
<a name="l1169"><span class="linenum">1169</span></a>          } else if (<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'optional' and isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'])) {
<a name="l1170"><span class="linenum">1170</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(false);
<a name="l1171"><span class="linenum">1171</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('INCORRECT_FEEDBACK_FOR_OPTIONAL')" href="../_constants/INCORRECT_FEEDBACK_FOR_OPTIONAL.html" onMouseOver="constPopup(event,'INCORRECT_FEEDBACK_FOR_OPTIONAL')">INCORRECT_FEEDBACK_FOR_OPTIONAL</a>);
<a name="l1172"><span class="linenum">1172</span></a>          }
<a name="l1173"><span class="linenum">1173</span></a>  
<a name="l1174"><span class="linenum">1174</span></a>          if (!<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('status')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/status.html">status</a> and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'required') {
<a name="l1175"><span class="linenum">1175</span></a>              if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'][0]['@']['message'])) {
<a name="l1176"><span class="linenum">1176</span></a>                  if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'][0]['@']['plugin'])) {
<a name="l1177"><span class="linenum">1177</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(array(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'][0]['@']['message'], <a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'][0]['@']['plugin']));
<a name="l1178"><span class="linenum">1178</span></a>                  } else {
<a name="l1179"><span class="linenum">1179</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_ERROR'][0]['@']['message']);
<a name="l1180"><span class="linenum">1180</span></a>                  }
<a name="l1181"><span class="linenum">1181</span></a>              }
<a name="l1182"><span class="linenum">1182</span></a>          } else if (!<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('status')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../_variables/status.html">status</a> and <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() == 'optional') {
<a name="l1183"><span class="linenum">1183</span></a>              if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'][0]['@']['message'])) {
<a name="l1184"><span class="linenum">1184</span></a>                  if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'][0]['@']['plugin'])) {
<a name="l1185"><span class="linenum">1185</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(array(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'][0]['@']['message'], <a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'][0]['@']['plugin']));
<a name="l1186"><span class="linenum">1186</span></a>                  } else {
<a name="l1187"><span class="linenum">1187</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_CHECK'][0]['@']['message']);
<a name="l1188"><span class="linenum">1188</span></a>                  }
<a name="l1189"><span class="linenum">1189</span></a>              }
<a name="l1190"><span class="linenum">1190</span></a>          } else {
<a name="l1191"><span class="linenum">1191</span></a>              if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_OK'][0]['@']['message'])) {
<a name="l1192"><span class="linenum">1192</span></a>                  if (isset(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_OK'][0]['@']['plugin'])) {
<a name="l1193"><span class="linenum">1193</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(array(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_OK'][0]['@']['message'], <a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_OK'][0]['@']['plugin']));
<a name="l1194"><span class="linenum">1194</span></a>                  } else {
<a name="l1195"><span class="linenum">1195</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>-&gt;<a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(<a class="var it17111" onMouseOver="hilite(17111)" onMouseOut="lolite()" onClick="logVariable('feedbackxml')" href="../_variables/feedbackxml.html">$feedbackxml</a>['ON_OK'][0]['@']['message']);
<a name="l1196"><span class="linenum">1196</span></a>                  }
<a name="l1197"><span class="linenum">1197</span></a>              }
<a name="l1198"><span class="linenum">1198</span></a>          }
<a name="l1199"><span class="linenum">1199</span></a>      }
<a name="l1200"><span class="linenum">1200</span></a>  }
<a name="l1201"><span class="linenum">1201</span></a>  
<a name="l1202"><span class="linenum">1202</span></a>  
<a name="l1203"><span class="linenum">1203</span></a>  <span class="comment">//--- Helper Class to return results to caller ---//</span>
<a name="l1204"><span class="linenum">1204</span></a>  
<a name="l1205"><span class="linenum">1205</span></a>  
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">/**</span>
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment"> * Helper Class to return results to caller</span>
<a name="l1208"><span class="linenum">1208</span></a>  <span class="comment"> *</span>
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment"> * @copyright 1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l1211"><span class="linenum">1211</span></a>  <span class="comment"> * @package moodlecore</span>
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment"> */</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('environment_results')" href="../_classes/environment_results.html" onMouseOver="classPopup(event,'environment_results')">environment_results</a> {
<a name="l1214"><span class="linenum">1214</span></a>      <span class="comment">/**</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment">     * @var string Which are we checking (database, php, php_extension, php_extension)</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment">     */</span>
<a name="l1217"><span class="linenum">1217</span></a>      var <a class="var it779" onMouseOver="hilite(779)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>;
<a name="l1218"><span class="linenum">1218</span></a>      <span class="comment">/**</span>
<a name="l1219"><span class="linenum">1219</span></a>  <span class="comment">     * @var bool true means the test passed and all is OK. false means it failed.</span>
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">     */</span>
<a name="l1221"><span class="linenum">1221</span></a>      var <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../_variables/status.html">$status</a>;
<a name="l1222"><span class="linenum">1222</span></a>      <span class="comment">/**</span>
<a name="l1223"><span class="linenum">1223</span></a>  <span class="comment">     * @var integer See constants at the beginning of the file</span>
<a name="l1224"><span class="linenum">1224</span></a>  <span class="comment">     */</span>
<a name="l1225"><span class="linenum">1225</span></a>      var <a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a>;
<a name="l1226"><span class="linenum">1226</span></a>      <span class="comment">/**</span>
<a name="l1227"><span class="linenum">1227</span></a>  <span class="comment">     * @var string required/optional</span>
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">     */</span>
<a name="l1229"><span class="linenum">1229</span></a>      var <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>;
<a name="l1230"><span class="linenum">1230</span></a>      <span class="comment">/**</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     * @var string current version detected</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     */</span>
<a name="l1233"><span class="linenum">1233</span></a>      var <a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>;
<a name="l1234"><span class="linenum">1234</span></a>      <span class="comment">/**</span>
<a name="l1235"><span class="linenum">1235</span></a>  <span class="comment">     * @var string version needed</span>
<a name="l1236"><span class="linenum">1236</span></a>  <span class="comment">     */</span>
<a name="l1237"><span class="linenum">1237</span></a>      var <a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>;
<a name="l1238"><span class="linenum">1238</span></a>      <span class="comment">/**</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment">     * @var string Aux. info (DB vendor, library...)</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment">     */</span>
<a name="l1241"><span class="linenum">1241</span></a>      var <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>;
<a name="l1242"><span class="linenum">1242</span></a>      <span class="comment">/**</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">     * @var string String to show on error|on check|on ok</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment">     */</span>
<a name="l1245"><span class="linenum">1245</span></a>      var <a class="var it17112" onMouseOver="hilite(17112)" onMouseOut="lolite()" onClick="logVariable('feedback_str')" href="../_variables/feedback_str.html">$feedback_str</a>;
<a name="l1246"><span class="linenum">1246</span></a>      <span class="comment">/**</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">     * @var string String to show if some bypass has happened</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment">     */</span>
<a name="l1249"><span class="linenum">1249</span></a>      var <a class="var it17113" onMouseOver="hilite(17113)" onMouseOut="lolite()" onClick="logVariable('bypass_str')" href="../_variables/bypass_str.html">$bypass_str</a>;
<a name="l1250"><span class="linenum">1250</span></a>      <span class="comment">/**</span>
<a name="l1251"><span class="linenum">1251</span></a>  <span class="comment">     * @var string String to show if some restrict has happened</span>
<a name="l1252"><span class="linenum">1252</span></a>  <span class="comment">     */</span>
<a name="l1253"><span class="linenum">1253</span></a>      var <a class="var it17114" onMouseOver="hilite(17114)" onMouseOut="lolite()" onClick="logVariable('restrict_str')" href="../_variables/restrict_str.html">$restrict_str</a>;
<a name="l1254"><span class="linenum">1254</span></a>      <span class="comment">/**</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @var string|null full plugin name or null if main environment</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     */</span>
<a name="l1257"><span class="linenum">1257</span></a>      var <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../_variables/plugin.html">$plugin</a> = null;
<a name="l1258"><span class="linenum">1258</span></a>      <span class="comment">/**</span>
<a name="l1259"><span class="linenum">1259</span></a>  <span class="comment">     * Constructor of the environment_result class. Just set default values</span>
<a name="l1260"><span class="linenum">1260</span></a>  <span class="comment">     *</span>
<a name="l1261"><span class="linenum">1261</span></a>  <span class="comment">     * @param string $part</span>
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">     */</span>
<a name="l1263"><span class="linenum">1263</span></a>      function <a class="function" onClick="logFunction('environment_results')" href="../_functions/environment_results.html" onMouseOver="funcPopup(event,'environment_results')">environment_results</a>(<a class="var it779" onMouseOver="hilite(779)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>) {
<a name="l1264"><span class="linenum">1264</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('part')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/part.html">part</a>=<a class="var it779" onMouseOver="hilite(779)" onMouseOut="lolite()" onClick="logVariable('part')" href="../_variables/part.html">$part</a>;
<a name="l1265"><span class="linenum">1265</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('status')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/status.html">status</a>=false;
<a name="l1266"><span class="linenum">1266</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_code')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a>=<a class="constant" onClick="logConstant('NO_ERROR')" href="../_constants/NO_ERROR.html" onMouseOver="constPopup(event,'NO_ERROR')">NO_ERROR</a>;
<a name="l1267"><span class="linenum">1267</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('level')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/level.html">level</a>='required';
<a name="l1268"><span class="linenum">1268</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/current_version.html">current_version</a>='';
<a name="l1269"><span class="linenum">1269</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('needed_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/needed_version.html">needed_version</a>='';
<a name="l1270"><span class="linenum">1270</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('info')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/info.html">info</a>='';
<a name="l1271"><span class="linenum">1271</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('feedback_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/feedback_str.html">feedback_str</a>='';
<a name="l1272"><span class="linenum">1272</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('bypass_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/bypass_str.html">bypass_str</a>='';
<a name="l1273"><span class="linenum">1273</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('restrict_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/restrict_str.html">restrict_str</a>='';
<a name="l1274"><span class="linenum">1274</span></a>      }
<a name="l1275"><span class="linenum">1275</span></a>  
<a name="l1276"><span class="linenum">1276</span></a>      <span class="comment">/**</span>
<a name="l1277"><span class="linenum">1277</span></a>  <span class="comment">     * Set the status</span>
<a name="l1278"><span class="linenum">1278</span></a>  <span class="comment">     *</span>
<a name="l1279"><span class="linenum">1279</span></a>  <span class="comment">     * @param bool $testpassed true means the test passed and all is OK. false means it failed.</span>
<a name="l1280"><span class="linenum">1280</span></a>  <span class="comment">     */</span>
<a name="l1281"><span class="linenum">1281</span></a>      function <a class="function" onClick="logFunction('setStatus')" href="../_functions/setstatus.html" onMouseOver="funcPopup(event,'setstatus')">setStatus</a>(<a class="var it17115" onMouseOver="hilite(17115)" onMouseOut="lolite()" onClick="logVariable('testpassed')" href="../_variables/testpassed.html">$testpassed</a>) {
<a name="l1282"><span class="linenum">1282</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('status')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/status.html">status</a> = <a class="var it17115" onMouseOver="hilite(17115)" onMouseOut="lolite()" onClick="logVariable('testpassed')" href="../_variables/testpassed.html">$testpassed</a>;
<a name="l1283"><span class="linenum">1283</span></a>          if (<a class="var it17115" onMouseOver="hilite(17115)" onMouseOut="lolite()" onClick="logVariable('testpassed')" href="../_variables/testpassed.html">$testpassed</a>) {
<a name="l1284"><span class="linenum">1284</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="constant" onClick="logConstant('NO_ERROR')" href="../_constants/NO_ERROR.html" onMouseOver="constPopup(event,'NO_ERROR')">NO_ERROR</a>);
<a name="l1285"><span class="linenum">1285</span></a>          }
<a name="l1286"><span class="linenum">1286</span></a>      }
<a name="l1287"><span class="linenum">1287</span></a>  
<a name="l1288"><span class="linenum">1288</span></a>      <span class="comment">/**</span>
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment">     * Set the error_code</span>
<a name="l1290"><span class="linenum">1290</span></a>  <span class="comment">     *</span>
<a name="l1291"><span class="linenum">1291</span></a>  <span class="comment">     * @param integer $error_code the error code (see constants above)</span>
<a name="l1292"><span class="linenum">1292</span></a>  <span class="comment">     */</span>
<a name="l1293"><span class="linenum">1293</span></a>      function <a class="function" onClick="logFunction('setErrorCode')" href="../_functions/seterrorcode.html" onMouseOver="funcPopup(event,'seterrorcode')">setErrorCode</a>(<a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a>) {
<a name="l1294"><span class="linenum">1294</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_code')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a>=<a class="var it846" onMouseOver="hilite(846)" onMouseOut="lolite()" onClick="logVariable('error_code')" href="../_variables/error_code.html">$error_code</a>;
<a name="l1295"><span class="linenum">1295</span></a>      }
<a name="l1296"><span class="linenum">1296</span></a>  
<a name="l1297"><span class="linenum">1297</span></a>      <span class="comment">/**</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment">     * Set the level</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">     *</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment">     * @param string $level the level (required, optional)</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">     */</span>
<a name="l1302"><span class="linenum">1302</span></a>      function <a class="function" onClick="logFunction('setLevel')" href="../_functions/setlevel.html" onMouseOver="funcPopup(event,'setlevel')">setLevel</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>) {
<a name="l1303"><span class="linenum">1303</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('level')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/level.html">level</a>=<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>;
<a name="l1304"><span class="linenum">1304</span></a>      }
<a name="l1305"><span class="linenum">1305</span></a>  
<a name="l1306"><span class="linenum">1306</span></a>      <span class="comment">/**</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">     * Set the current version</span>
<a name="l1308"><span class="linenum">1308</span></a>  <span class="comment">     *</span>
<a name="l1309"><span class="linenum">1309</span></a>  <span class="comment">     * @param string $current_version the current version</span>
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment">     */</span>
<a name="l1311"><span class="linenum">1311</span></a>      function <a class="function" onClick="logFunction('setCurrentVersion')" href="../_functions/setcurrentversion.html" onMouseOver="funcPopup(event,'setcurrentversion')">setCurrentVersion</a>(<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>) {
<a name="l1312"><span class="linenum">1312</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/current_version.html">current_version</a>=<a class="var it17102" onMouseOver="hilite(17102)" onMouseOut="lolite()" onClick="logVariable('current_version')" href="../_variables/current_version.html">$current_version</a>;
<a name="l1313"><span class="linenum">1313</span></a>      }
<a name="l1314"><span class="linenum">1314</span></a>  
<a name="l1315"><span class="linenum">1315</span></a>      <span class="comment">/**</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">     * Set the needed version</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     *</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     * @param string $needed_version the needed version</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">     */</span>
<a name="l1320"><span class="linenum">1320</span></a>      function <a class="function" onClick="logFunction('setNeededVersion')" href="../_functions/setneededversion.html" onMouseOver="funcPopup(event,'setneededversion')">setNeededVersion</a>(<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>) {
<a name="l1321"><span class="linenum">1321</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('needed_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/needed_version.html">needed_version</a>=<a class="var it17103" onMouseOver="hilite(17103)" onMouseOut="lolite()" onClick="logVariable('needed_version')" href="../_variables/needed_version.html">$needed_version</a>;
<a name="l1322"><span class="linenum">1322</span></a>      }
<a name="l1323"><span class="linenum">1323</span></a>  
<a name="l1324"><span class="linenum">1324</span></a>      <span class="comment">/**</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment">     * Set the auxiliary info</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment">     *</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment">     * @param string $info the auxiliary info</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment">     */</span>
<a name="l1329"><span class="linenum">1329</span></a>      function <a class="function" onClick="logFunction('setInfo')" href="../_functions/setinfo.html" onMouseOver="funcPopup(event,'setinfo')">setInfo</a>(<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>) {
<a name="l1330"><span class="linenum">1330</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('info')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/info.html">info</a>=<a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../_variables/info.html">$info</a>;
<a name="l1331"><span class="linenum">1331</span></a>      }
<a name="l1332"><span class="linenum">1332</span></a>  
<a name="l1333"><span class="linenum">1333</span></a>      <span class="comment">/**</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">     * Set the feedback string</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">     *</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">     * @param mixed $str the feedback string that will be fetched from the admin lang file.</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     *                  pass just the string or pass an array of params for get_string</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     *                  You always should put your string in admin.php but a third param is useful</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment">     *                  to pass an $a object / string to get_string</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment">     */</span>
<a name="l1341"><span class="linenum">1341</span></a>      function <a class="function" onClick="logFunction('setFeedbackStr')" href="../_functions/setfeedbackstr.html" onMouseOver="funcPopup(event,'setfeedbackstr')">setFeedbackStr</a>(<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>) {
<a name="l1342"><span class="linenum">1342</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('feedback_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/feedback_str.html">feedback_str</a>=<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1343"><span class="linenum">1343</span></a>      }
<a name="l1344"><span class="linenum">1344</span></a>  
<a name="l1345"><span class="linenum">1345</span></a>  
<a name="l1346"><span class="linenum">1346</span></a>      <span class="comment">/**</span>
<a name="l1347"><span class="linenum">1347</span></a>  <span class="comment">     * Set the bypass string</span>
<a name="l1348"><span class="linenum">1348</span></a>  <span class="comment">     *</span>
<a name="l1349"><span class="linenum">1349</span></a>  <span class="comment">     * @param string $str the bypass string that will be fetched from the admin lang file.</span>
<a name="l1350"><span class="linenum">1350</span></a>  <span class="comment">     *                  pass just the string or pass an array of params for get_string</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment">     *                  You always should put your string in admin.php but a third param is useful</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">     *                  to pass an $a object / string to get_string</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">     */</span>
<a name="l1354"><span class="linenum">1354</span></a>      function <a class="function" onClick="logFunction('setBypassStr')" href="../_functions/setbypassstr.html" onMouseOver="funcPopup(event,'setbypassstr')">setBypassStr</a>(<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>) {
<a name="l1355"><span class="linenum">1355</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('bypass_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/bypass_str.html">bypass_str</a>=<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1356"><span class="linenum">1356</span></a>      }
<a name="l1357"><span class="linenum">1357</span></a>  
<a name="l1358"><span class="linenum">1358</span></a>      <span class="comment">/**</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">     * Set the restrict string</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">     *</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">     * @param string $str the restrict string that will be fetched from the admin lang file.</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">     *                  pass just the string or pass an array of params for get_string</span>
<a name="l1363"><span class="linenum">1363</span></a>  <span class="comment">     *                  You always should put your string in admin.php but a third param is useful</span>
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">     *                  to pass an $a object / string to get_string</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">     */</span>
<a name="l1366"><span class="linenum">1366</span></a>      function <a class="function" onClick="logFunction('setRestrictStr')" href="../_functions/setrestrictstr.html" onMouseOver="funcPopup(event,'setrestrictstr')">setRestrictStr</a>(<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>) {
<a name="l1367"><span class="linenum">1367</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('restrict_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/restrict_str.html">restrict_str</a>=<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>;
<a name="l1368"><span class="linenum">1368</span></a>      }
<a name="l1369"><span class="linenum">1369</span></a>  
<a name="l1370"><span class="linenum">1370</span></a>      <span class="comment">/**</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">     * Get the status</span>
<a name="l1372"><span class="linenum">1372</span></a>  <span class="comment">     *</span>
<a name="l1373"><span class="linenum">1373</span></a>  <span class="comment">     * @return bool true means the test passed and all is OK. false means it failed.</span>
<a name="l1374"><span class="linenum">1374</span></a>  <span class="comment">     */</span>
<a name="l1375"><span class="linenum">1375</span></a>      function <a class="function" onClick="logFunction('getStatus')" href="../_functions/getstatus.html" onMouseOver="funcPopup(event,'getstatus')">getStatus</a>() {
<a name="l1376"><span class="linenum">1376</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('status')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/status.html">status</a>;
<a name="l1377"><span class="linenum">1377</span></a>      }
<a name="l1378"><span class="linenum">1378</span></a>  
<a name="l1379"><span class="linenum">1379</span></a>      <span class="comment">/**</span>
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">     * Get the error code</span>
<a name="l1381"><span class="linenum">1381</span></a>  <span class="comment">     *</span>
<a name="l1382"><span class="linenum">1382</span></a>  <span class="comment">     * @return integer error code</span>
<a name="l1383"><span class="linenum">1383</span></a>  <span class="comment">     */</span>
<a name="l1384"><span class="linenum">1384</span></a>      function <a class="function" onClick="logFunction('getErrorCode')" href="../_functions/geterrorcode.html" onMouseOver="funcPopup(event,'geterrorcode')">getErrorCode</a>() {
<a name="l1385"><span class="linenum">1385</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('error_code')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/error_code.html">error_code</a>;
<a name="l1386"><span class="linenum">1386</span></a>      }
<a name="l1387"><span class="linenum">1387</span></a>  
<a name="l1388"><span class="linenum">1388</span></a>      <span class="comment">/**</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment">     * Get the level</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment">     *</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment">     * @return string level</span>
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment">     */</span>
<a name="l1393"><span class="linenum">1393</span></a>      function <a class="function" onClick="logFunction('getLevel')" href="../_functions/getlevel.html" onMouseOver="funcPopup(event,'getlevel')">getLevel</a>() {
<a name="l1394"><span class="linenum">1394</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('level')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/level.html">level</a>;
<a name="l1395"><span class="linenum">1395</span></a>      }
<a name="l1396"><span class="linenum">1396</span></a>  
<a name="l1397"><span class="linenum">1397</span></a>      <span class="comment">/**</span>
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">     * Get the current version</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment">     *</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment">     * @return string current version</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment">     */</span>
<a name="l1402"><span class="linenum">1402</span></a>      function <a class="function" onClick="logFunction('getCurrentVersion')" href="../_functions/getcurrentversion.html" onMouseOver="funcPopup(event,'getcurrentversion')">getCurrentVersion</a>() {
<a name="l1403"><span class="linenum">1403</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('current_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/current_version.html">current_version</a>;
<a name="l1404"><span class="linenum">1404</span></a>      }
<a name="l1405"><span class="linenum">1405</span></a>  
<a name="l1406"><span class="linenum">1406</span></a>      <span class="comment">/**</span>
<a name="l1407"><span class="linenum">1407</span></a>  <span class="comment">     * Get the needed version</span>
<a name="l1408"><span class="linenum">1408</span></a>  <span class="comment">     *</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     * @return string needed version</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     */</span>
<a name="l1411"><span class="linenum">1411</span></a>      function <a class="function" onClick="logFunction('getNeededVersion')" href="../_functions/getneededversion.html" onMouseOver="funcPopup(event,'getneededversion')">getNeededVersion</a>() {
<a name="l1412"><span class="linenum">1412</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('needed_version')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/needed_version.html">needed_version</a>;
<a name="l1413"><span class="linenum">1413</span></a>      }
<a name="l1414"><span class="linenum">1414</span></a>  
<a name="l1415"><span class="linenum">1415</span></a>      <span class="comment">/**</span>
<a name="l1416"><span class="linenum">1416</span></a>  <span class="comment">     * Get the aux info</span>
<a name="l1417"><span class="linenum">1417</span></a>  <span class="comment">     *</span>
<a name="l1418"><span class="linenum">1418</span></a>  <span class="comment">     * @return string info</span>
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">     */</span>
<a name="l1420"><span class="linenum">1420</span></a>      function <a class="function" onClick="logFunction('getInfo')" href="../_functions/getinfo.html" onMouseOver="funcPopup(event,'getinfo')">getInfo</a>() {
<a name="l1421"><span class="linenum">1421</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('info')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/info.html">info</a>;
<a name="l1422"><span class="linenum">1422</span></a>      }
<a name="l1423"><span class="linenum">1423</span></a>  
<a name="l1424"><span class="linenum">1424</span></a>      <span class="comment">/**</span>
<a name="l1425"><span class="linenum">1425</span></a>  <span class="comment">     * Get the part this result belongs to</span>
<a name="l1426"><span class="linenum">1426</span></a>  <span class="comment">     *</span>
<a name="l1427"><span class="linenum">1427</span></a>  <span class="comment">     * @return string part</span>
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment">     */</span>
<a name="l1429"><span class="linenum">1429</span></a>      function <a class="function" onClick="logFunction('getPart')" href="../_functions/getpart.html" onMouseOver="funcPopup(event,'getpart')">getPart</a>() {
<a name="l1430"><span class="linenum">1430</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('part')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/part.html">part</a>;
<a name="l1431"><span class="linenum">1431</span></a>      }
<a name="l1432"><span class="linenum">1432</span></a>  
<a name="l1433"><span class="linenum">1433</span></a>      <span class="comment">/**</span>
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment">     * Get the feedback string</span>
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment">     *</span>
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment">     * @return mixed feedback string (can be an array of params for get_string or a single string to fetch from</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment">     *                  admin.php lang file).</span>
<a name="l1438"><span class="linenum">1438</span></a>  <span class="comment">     */</span>
<a name="l1439"><span class="linenum">1439</span></a>      function <a class="function" onClick="logFunction('getFeedbackStr')" href="../_functions/getfeedbackstr.html" onMouseOver="funcPopup(event,'getfeedbackstr')">getFeedbackStr</a>() {
<a name="l1440"><span class="linenum">1440</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('feedback_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/feedback_str.html">feedback_str</a>;
<a name="l1441"><span class="linenum">1441</span></a>      }
<a name="l1442"><span class="linenum">1442</span></a>  
<a name="l1443"><span class="linenum">1443</span></a>      <span class="comment">/**</span>
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">     * Get the bypass string</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment">     *</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">     * @return mixed bypass string (can be an array of params for get_string or a single string to fetch from</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment">     *                  admin.php lang file).</span>
<a name="l1448"><span class="linenum">1448</span></a>  <span class="comment">     */</span>
<a name="l1449"><span class="linenum">1449</span></a>      function <a class="function" onClick="logFunction('getBypassStr')" href="../_functions/getbypassstr.html" onMouseOver="funcPopup(event,'getbypassstr')">getBypassStr</a>() {
<a name="l1450"><span class="linenum">1450</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('bypass_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/bypass_str.html">bypass_str</a>;
<a name="l1451"><span class="linenum">1451</span></a>      }
<a name="l1452"><span class="linenum">1452</span></a>  
<a name="l1453"><span class="linenum">1453</span></a>      <span class="comment">/**</span>
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">     * Get the restrict string</span>
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">     *</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">     * @return mixed restrict string (can be an array of params for get_string or a single string to fetch from</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">     *                  admin.php lang file).</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     */</span>
<a name="l1459"><span class="linenum">1459</span></a>      function <a class="function" onClick="logFunction('getRestrictStr')" href="../_functions/getrestrictstr.html" onMouseOver="funcPopup(event,'getrestrictstr')">getRestrictStr</a>() {
<a name="l1460"><span class="linenum">1460</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('restrict_str')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/restrict_str.html">restrict_str</a>;
<a name="l1461"><span class="linenum">1461</span></a>      }
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>      <span class="comment">/**</span>
<a name="l1464"><span class="linenum">1464</span></a>  <span class="comment">     * @todo Document this function</span>
<a name="l1465"><span class="linenum">1465</span></a>  <span class="comment">     *</span>
<a name="l1466"><span class="linenum">1466</span></a>  <span class="comment">     * @param mixed $string params for get_string, either a string to fetch from admin.php or an array of</span>
<a name="l1467"><span class="linenum">1467</span></a>  <span class="comment">     *                       params for get_string.</span>
<a name="l1468"><span class="linenum">1468</span></a>  <span class="comment">     * @param string $class css class(es) for message.</span>
<a name="l1469"><span class="linenum">1469</span></a>  <span class="comment">     * @return string feedback string fetched from lang file wrapped in p tag with class $class or returns</span>
<a name="l1470"><span class="linenum">1470</span></a>  <span class="comment">     *                              empty string if $string is empty.</span>
<a name="l1471"><span class="linenum">1471</span></a>  <span class="comment">     */</span>
<a name="l1472"><span class="linenum">1472</span></a>      function <a class="function" onClick="logFunction('strToReport')" href="../_functions/strtoreport.html" onMouseOver="funcPopup(event,'strtoreport')">strToReport</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>){
<a name="l1473"><span class="linenum">1473</span></a>          if (!empty(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>)){
<a name="l1474"><span class="linenum">1474</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>)){
<a name="l1475"><span class="linenum">1475</span></a>                  <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = <a class="phpfunction" onClick="logFunction('call_user_func_array')" href="../_functions/call_user_func_array.html" onMouseOver="phpfuncPopup(event,'call_user_func_array')">call_user_func_array</a>('get_string', <a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>);
<a name="l1476"><span class="linenum">1476</span></a>              } else {
<a name="l1477"><span class="linenum">1477</span></a>                  <a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it160" onMouseOver="hilite(160)" onMouseOut="lolite()" onClick="logVariable('string')" href="../_variables/string.html">$string</a>, 'admin');
<a name="l1478"><span class="linenum">1478</span></a>              }
<a name="l1479"><span class="linenum">1479</span></a>              return '&lt;p class=&quot;'.<a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../_variables/class.html">$class</a>.'&quot;&gt;'.<a class="var it332" onMouseOver="hilite(332)" onMouseOut="lolite()" onClick="logVariable('str')" href="../_variables/str.html">$str</a>.'&lt;/p&gt;';
<a name="l1480"><span class="linenum">1480</span></a>          } else {
<a name="l1481"><span class="linenum">1481</span></a>              return '';
<a name="l1482"><span class="linenum">1482</span></a>          }
<a name="l1483"><span class="linenum">1483</span></a>      }
<a name="l1484"><span class="linenum">1484</span></a>  
<a name="l1485"><span class="linenum">1485</span></a>      <span class="comment">/**</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment">     * Get plugin name.</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">     *</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">     * @return string plugin name</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     */</span>
<a name="l1490"><span class="linenum">1490</span></a>      function <a class="function" onClick="logFunction('getPluginName')" href="../_functions/getpluginname.html" onMouseOver="funcPopup(event,'getpluginname')">getPluginName</a>() {
<a name="l1491"><span class="linenum">1491</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>) {
<a name="l1492"><span class="linenum">1492</span></a>              <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a> = <a class="class" onClick="logClass('core_plugin_manager')" href="../_classes/core_plugin_manager.html" onMouseOver="classPopup(event,'core_plugin_manager')">core_plugin_manager</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l1493"><span class="linenum">1493</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>, <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../_variables/pluginname.html">$pluginname</a>) = <a class="class" onClick="logClass('core_component')" href="../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('normalize_component')" href="../_functions/normalize_component.html" onMouseOver="funcPopup(event,'normalize_component')">normalize_component</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>);
<a name="l1494"><span class="linenum">1494</span></a>              return <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('plugintype_name')" href="../_functions/plugintype_name.html" onMouseOver="funcPopup(event,'plugintype_name')">plugintype_name</a>(<a class="var it1843" onMouseOver="hilite(1843)" onMouseOut="lolite()" onClick="logVariable('plugintype')" href="../_variables/plugintype.html">$plugintype</a>) . ' / ' . <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('manager')" href="../_variables/manager.html">$manager</a>-&gt;<a class="function" onClick="logFunction('plugin_name')" href="../_functions/plugin_name.html" onMouseOver="funcPopup(event,'plugin_name')">plugin_name</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('plugin')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../_variables/plugin.html">plugin</a>);
<a name="l1495"><span class="linenum">1495</span></a>          } else {
<a name="l1496"><span class="linenum">1496</span></a>              return '';
<a name="l1497"><span class="linenum">1497</span></a>          }
<a name="l1498"><span class="linenum">1498</span></a>      }
<a name="l1499"><span class="linenum">1499</span></a>  }
<a name="l1500"><span class="linenum">1500</span></a>  
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">/// Here all the restrict functions are coded to be used by the environment</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment">/// checker. All those functions will receive the result object and will</span>
<a name="l1503"><span class="linenum">1503</span></a>  <span class="comment">/// return it modified as needed (status and bypass string)</span>
<a name="l1504"><span class="linenum">1504</span></a>  
<a name="l1505"><span class="linenum">1505</span></a>  <span class="comment">/**</span>
<a name="l1506"><span class="linenum">1506</span></a>  <span class="comment"> * @param array $element the element from the environment.xml file that should have</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="comment"> *      either a level=&quot;required&quot; or level=&quot;optional&quot; attribute.</span>
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment"> * @return string &quot;required&quot; or &quot;optional&quot;.</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment"> */</span>
<a name="l1510"><span class="linenum">1510</span></a>  function <a class="function" onClick="logFunction('get_level')" href="../_functions/get_level.html" onMouseOver="funcPopup(event,'get_level')">get_level</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>) {
<a name="l1511"><span class="linenum">1511</span></a>      <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 'required';
<a name="l1512"><span class="linenum">1512</span></a>      if (isset(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['@']['level'])) {
<a name="l1513"><span class="linenum">1513</span></a>          <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>['@']['level'];
<a name="l1514"><span class="linenum">1514</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>, array('required', 'optional'))) {
<a name="l1515"><span class="linenum">1515</span></a>              <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('The level of a check in the environment.xml file must be &quot;required&quot; or &quot;optional&quot;.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1516"><span class="linenum">1516</span></a>              <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a> = 'required';
<a name="l1517"><span class="linenum">1517</span></a>          }
<a name="l1518"><span class="linenum">1518</span></a>      } else {
<a name="l1519"><span class="linenum">1519</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Checks in the environment.xml file must have a level=&quot;required&quot; or level=&quot;optional&quot; attribute.', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l1520"><span class="linenum">1520</span></a>      }
<a name="l1521"><span class="linenum">1521</span></a>      return <a class="var it283" onMouseOver="hilite(283)" onMouseOut="lolite()" onClick="logVariable('level')" href="../_variables/level.html">$level</a>;
<a name="l1522"><span class="linenum">1522</span></a>  }
<a name="l1523"><span class="linenum">1523</span></a>  
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">/**</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment"> * Once the result has been determined, look in the XML for any</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment"> * messages, or other things that should be done depending on the outcome.</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment"> *</span>
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment"> * @param array $element the element from the environment.xml file which</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment"> *      may have children defining what should be done with the outcome.</span>
<a name="l1530"><span class="linenum">1530</span></a>  <span class="comment"> * @param object $result the result of the test, which may be modified by</span>
<a name="l1531"><span class="linenum">1531</span></a>  <span class="comment"> *      this function as specified in the XML.</span>
<a name="l1532"><span class="linenum">1532</span></a>  <span class="comment"> */</span>
<a name="l1533"><span class="linenum">1533</span></a>  function <a class="function" onClick="logFunction('process_environment_result')" href="../_functions/process_environment_result.html" onMouseOver="funcPopup(event,'process_environment_result')">process_environment_result</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, &amp;<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>) {
<a name="l1534"><span class="linenum">1534</span></a>  <span class="comment">/// Process messages, modifying the $result if needed.</span>
<a name="l1535"><span class="linenum">1535</span></a>      <a class="function" onClick="logFunction('process_environment_messages')" href="../_functions/process_environment_messages.html" onMouseOver="funcPopup(event,'process_environment_messages')">process_environment_messages</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">/// Process bypass, modifying $result if needed.</span>
<a name="l1537"><span class="linenum">1537</span></a>      <a class="function" onClick="logFunction('process_environment_bypass')" href="../_functions/process_environment_bypass.html" onMouseOver="funcPopup(event,'process_environment_bypass')">process_environment_bypass</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l1538"><span class="linenum">1538</span></a>  <span class="comment">/// Process restrict, modifying $result if needed.</span>
<a name="l1539"><span class="linenum">1539</span></a>      <a class="function" onClick="logFunction('process_environment_restrict')" href="../_functions/process_environment_restrict.html" onMouseOver="funcPopup(event,'process_environment_restrict')">process_environment_restrict</a>(<a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('element')" href="../_variables/element.html">$element</a>, <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>);
<a name="l1540"><span class="linenum">1540</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'plugintype_name': ['plugintype_name', 'Returns a localized name of a plugin typed in singular form ', [['lib/classes','plugin_manager.php',562]], 3],
'get_environment_for_version': ['get_environment_for_version', 'This function will return the xmlized data belonging to one Moodle version ', [['lib','environmentlib.php',381]], 8],
'environment_check': ['environment_check', 'This function will check for everything (DB, PHP and PHP extensions for now) returning an array of environment_result objects. ', [['lib','environmentlib.php',436]], 1],
'get_config': ['get_config', 'Get a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546],['question/engine','bank.php',109],['lib','moodlelib.php',1404],['lib','enrollib.php',1141],['lib/editor/tinymce/classes','plugin.php',73],['admin/tool/log/classes/helper','store.php',63]], 847],
'setfeedbackstr': ['setfeedbackstr', 'Set the feedback string ', [['lib','environmentlib.php',1333]], 6],
'plugin_name': ['plugin_name', '', [['question/type','questiontypebase.php',68],['lib/classes','plugin_manager.php',545]], 31],
'geterrorcode': ['geterrorcode', 'returns the error code ', [['lib/zend/Zend/Service/DeveloperGarden/Response/SendSms','SendSmsAbstract.php',65],['lib/google/src/Google/Service','DoubleClickBidManager.php',758],['lib/zend/Zend/Service/DeveloperGarden/Response','ResponseAbstract.php',70],['lib/zend/Zend/Service/DeveloperGarden/Response/VoiceButler','VoiceButlerAbstract.php',74],['lib/zend/Zend/Service/ReCaptcha','Response.php',125],['lib/zend/Zend/Service/Amazon/Ec2','Exception.php',47],['lib','environmentlib.php',1379],['lib/zend/Zend/Service/DeveloperGarden/Response','BaseType.php',113],['lib','boxlib.php',902],['lib/zend/Zend/Gdata/Gapps','Error.php',95],['lib','flickrlib.php',190]], 12],
'getbypassstr': ['getbypassstr', 'Get the bypass string ', [['lib','environmentlib.php',1443]], 4],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',2854]], 853],
'get_component_directory': ['get_component_directory', 'Return exact absolute path to a plugin directory. ', [['lib/classes','component.php',1003],['lib','deprecatedlib.php',543]], 44],
'seterrorcode': ['seterrorcode', '', [['lib/google/src/Google/Service','DoubleClickBidManager.php',754],['lib/zend/Zend/Service/ReCaptcha','Response.php',112],['lib','environmentlib.php',1288],['lib/zend/Zend/Gdata/Gapps','Error.php',84]], 26],
'get_list_of_environment_versions': ['get_list_of_environment_versions', 'This function will return the list of Moodle versions available ', [['lib','environmentlib.php',316]], 4],
'environment_check_php_settings': ['environment_check_php_settings', 'This function will check if php extensions requirements are satisfied ', [['lib','environmentlib.php',597]], 2],
'environment_check_pcre_unicode': ['environment_check_pcre_unicode', 'Looks for buggy PCRE implementation, we need unicode support in Moodle... ', [['lib','environmentlib.php',880]], 1],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'load_environment_xml': ['load_environment_xml', 'This function will load the environment.xml file and xmlize it ', [['lib','environmentlib.php',252]], 3],
'setinfo': ['setinfo', '', [['lib/google/src/Google/Service','Genomics.php',1696],['lib/google/src/Google/Service','Genomics.php',2151],['lib/google/src/Google/Service','Genomics.php',2611],['lib/google/src/Google/Service','Genomics.php',2854],['lib/google/src/Google/Service','Genomics.php',2979],['lib/google/src/Google/Service','Genomics.php',4120],['lib','environmentlib.php',1324]], 9],
'normalize_version': ['normalize_version', 'This function will normalize any version to just a serie of numbers separated by dots. Everything else will be removed. ', [['lib','environmentlib.php',225]], 15],
'strtoreport': ['strtoreport', '', [['lib','environmentlib.php',1472]], 5],
'setbypassstr': ['setbypassstr', 'Set the bypass string ', [['lib','environmentlib.php',1346]], 2],
'environment_results': ['environment_results', 'Constructor of the environment_result class. Just set default values ', [['lib','environmentlib.php',1258]], 11],
'check_moodle_environment': ['check_moodle_environment', 'This function checks all the requirements defined in environment.xml. ', [['lib','environmentlib.php',86]], 8],
'environment_verify_plugin': ['environment_verify_plugin', 'Checks if a plugin tag has a name attribute and it matches the plugin being tested. ', [['lib','environmentlib.php',422]], 5],
'getpluginname': ['getpluginname', 'Get plugin name. ', [['lib','environmentlib.php',1485]], 1],
'setup_is_unicodedb': ['setup_is_unicodedb', 'Is db in unicode mode? ', [['lib/dml','pgsql_native_moodle_database.php',610],['lib/dml','oci_native_moodle_database.php',870],['lib/dml','moodle_database.php',1059],['lib/dml','mysqli_native_moodle_database.php',866]], 4],
'ini_get_bool': ['ini_get_bool', 'This function makes the return value of ini_get consistent if you are setting server directives through the .htaccess file in apache. ', [['lib','setuplib.php',738]], 11],
'process_environment_restrict': ['process_environment_restrict', 'This function will post-process the result record by executing the specified function, modifying it as necessary, also a custom message will be added to the result object to be printed by the display layer. Every restrict function must be defined in this file and it\'ll return true/false to decide if the original test is restricted or no. Also such restrict functions are able to directly handling the result object although it should be only under exceptional conditions. ', [['lib','environmentlib.php',1110]], 1],
'environment_check_unicode': ['environment_check_unicode', 'This function will check if unicode database requirements are satisfied ', [['lib','environmentlib.php',921]], 1],
'setrestrictstr': ['setrestrictstr', 'Set the restrict string ', [['lib','environmentlib.php',1358]], 2],
'setcurrentversion': ['setcurrentversion', 'Set the current version ', [['lib','environmentlib.php',1306],['lib/google/src/Google/Service','Games.php',4137]], 3],
'xmlize': ['xmlize', 'Create an array structure from an XML string. ', [['lib','xmlize.php',44]], 28],
'environment_check_database': ['environment_check_database', 'This function will check if database requirements are satisfied ', [['lib','environmentlib.php',969]], 2],
'getrestrictstr': ['getrestrictstr', 'Get the restrict string ', [['lib','environmentlib.php',1453]], 5],
'setlevel': ['setlevel', 'Sets the current log level, use the MC_LOGGER constants. ', [['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',43],['lib/google/src/Google/Service','Mirror.php',1431],['lib','environmentlib.php',1297],['lib/google/src/Google/Service','CivicInfo.php',673],['lib/google/src/Google/Service','Games.php',4944],['lib/google/src/Google/Service','Analytics.php',9108],['lib/google/src/Google/Service','Analytics.php',9313],['lib/google/src/Google/Service','GamesManagement.php',1059],['lib/mustache/src/Mustache/Logger','StreamLogger.php',65],['lib/google/src/Google/Logger','Abstract.php',139]], 20],
'setneededversion': ['setneededversion', 'Set the needed version ', [['lib','environmentlib.php',1315]], 3],
'get_latest_version_available': ['get_latest_version_available', 'This function will return the most recent version in the environment.xml file previous or equal to the version requested ', [['lib','environmentlib.php',338]], 1],
'get_server_info': ['get_server_info', 'Returns database server info array ', [['lib/dml','pgsql_native_moodle_database.php',262],['lib/dml','oci_native_moodle_database.php',274],['lib/dml','mariadb_native_moodle_database.php',77],['lib/dml','sqlsrv_native_moodle_database.php',253],['lib/dml','mssql_native_moodle_database.php',245],['lib/dml','mysqli_native_moodle_database.php',488],['lib/dml/tests','dml_test.php',5412],['lib/dml','pdo_moodle_database.php',131]], 8],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'process_environment_messages': ['process_environment_messages', 'This function will detect if there is some message available to be added to the result in order to clarify enviromental details. ', [['lib','environmentlib.php',1150]], 1],
'process_environment_result': ['process_environment_result', 'Once the result has been determined, look in the XML for any messages, or other things that should be done depending on the outcome. ', [['lib','environmentlib.php',1524]], 7],
'environment_check_moodle': ['environment_check_moodle', 'This function will check if Moodle requirements are satisfied ', [['lib','environmentlib.php',772]], 1],
'setstatus': ['setstatus', '', [['lib/google/src/Google/Service','Reseller.php',932],['lib/google/src/Google/Service','DoubleClickBidManager.php',825],['lib/google/src/Google/Service','Blogger.php',1789],['lib/google/src/Google/Service','Blogger.php',2144],['lib/google/src/Google/Service','Blogger.php',2405],['lib/google/src/Google/Service','Blogger.php',2752],['lib/google/src/Google/Service','AdExchangeBuyer.php',1082],['lib/google/src/Google/Service','Manager.php',582],['lib/google/src/Google/Service','Genomics.php',2371],['lib/google/src/Google/Service','Genomics.php',3503],['lib/google/src/Google/Service','Urlshortener.php',363],['lib/zend/Zend/Service/ReCaptcha','Response.php',75],['lib/google/src/Google/Service','Dfareporting.php',1022],['lib','environmentlib.php',1276],['lib/google/src/Google/Service','Drive.php',3711],['lib/google/src/Google/Service','Bigquery.php',1435],['lib/google/src/Google/Service','Bigquery.php',2075],['lib/google/src/Google/Service','YouTube.php',4411],['lib/google/src/Google/Service','YouTube.php',6760],['lib/google/src/Google/Service','YouTube.php',7143],['lib/google/src/Google/Service','YouTube.php',7513],['lib/google/src/Google/Service','YouTube.php',7595],['lib/google/src/Google/Service','YouTube.php',9043],['lib/google/src/Google/Service','Autoscaler.php',972],['lib/google/src/Google/Service','Autoscaler.php',1293],['lib/google/src/Google/Service','YouTubeAnalytics.php',348],['lib/google/src/Google/Service','ShoppingContent.php',1209],['lib/google/src/Google/Service','SQLAdmin.php',1160],['lib/google/src/Google/Service','Directory.php',3099],['lib/google/src/Google/Service','Directory.php',3686],['lib/google/src/Google/Service','Directory.php',4985],['lib/google/src/Google/Service','Container.php',562],['lib/google/src/Google/Service','Container.php',770],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',122],['lib/google/src/Google/Service','AndroidPublisher.php',2662],['lib/google/src/Google/Service','AdSenseHost.php',1257],['lib/google/src/Google/Service','AdSenseHost.php',1627],['lib/google/src/Google/Service','AdSenseHost.php',1854],['lib/google/src/Google/Service','Games.php',5791],['lib/google/src/Google/Service','Games.php',6280],['lib/google/src/Google/Service','Games.php',6418],['lib/google/src/Google/Service','Games.php',6475],['lib/google/src/Google/Service','Games.php',6951],['lib/google/src/Google/Service','Games.php',7227],['lib/google/src/Google/Service','Compute.php',5594],['lib/google/src/Google/Service','Compute.php',6431],['lib/google/src/Google/Service','Compute.php',7885],['lib/google/src/Google/Service','Compute.php',8119],['lib/google/src/Google/Service','Compute.php',9397],['lib/google/src/Google/Service','Compute.php',10061],['lib/google/src/Google/Service','Compute.php',10602],['lib/google/src/Google/Service','Compute.php',12043],['lib/google/src/Google/Service','Calendar.php',2839],['lib/google/src/Google/Service','Analytics.php',5309],['lib/google/src/Google/Service','Analytics.php',5412],['lib/google/src/Google/Service','Analytics.php',8677],['lib/google/src/Google/Service','Analytics.php',8889],['lib/google/src/Google/Service','Tasks.php',694],['lib/zend/Zend/Service/SlideShare','SlideShow.php',350],['lib/google/src/Google/Service','AdSense.php',2578],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',114],['lib/google/src/Google/Service','Dns.php',546],['lib/google/src/Google/Service','Replicapool.php',1045],['lib/google/src/Google/Service','Resourceviews.php',784]], 63],
'environment_custom_checks': ['environment_custom_checks', 'This function will do the custom checks. ', [['lib','environmentlib.php',677]], 2],
'get_plugin_types': ['get_plugin_types', 'Get list of available plugin types together with their location. ', [['lib/classes','component.php',771],['lib','deprecatedlib.php',433],['lib/classes','plugin_manager.php',116]], 60],
'getfeedbackstr': ['getfeedbackstr', 'Get the feedback string ', [['lib','environmentlib.php',1433]], 2],
'environment_get_errors': ['environment_get_errors', 'Returns array of critical errors in plain text format ', [['lib','environmentlib.php',129]], 4],
'process_environment_bypass': ['process_environment_bypass', 'This function will post-process the result record by executing the specified function, modifying it as necessary, also a custom message will be added to the result object to be printed by the display layer. Every bypass function must be defined in this file and it\'ll return true/false to decide if the original test is bypassed or no. Also such bypass functions are able to directly handling the result object although it should be only under exceptional conditions. ', [['lib','environmentlib.php',1069]], 1],
'getinfo': ['getinfo', '', [['lib/google/src/Google/Service','Genomics.php',1700],['lib/google/src/Google/Service','Genomics.php',2155],['lib/google/src/Google/Service','Genomics.php',2615],['lib/google/src/Google/Service','Genomics.php',2858],['lib/google/src/Google/Service','Genomics.php',2983],['lib/google/src/Google/Service','Genomics.php',4124],['lib','environmentlib.php',1415],['lib/zend/Zend/Service/Amazon','S3.php',213],['lib/zend/Zend/Service','Technorati.php',422]], 8],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'html_to_text': ['html_to_text', 'Given HTML text, make it into plain text using external function ', [['lib','weblib.php',1841],['question/type','questionbase.php',367]], 52],
'normalize_component': ['normalize_component', 'Normalize the component name using the "frankenstyle" rules. ', [['lib/classes','component.php',968],['lib','deprecatedlib.php',528]], 85],
'get_plugin_list_with_file': ['get_plugin_list_with_file', 'Get a list of all the plugins of a given type that contain a particular file. ', [['lib/classes','component.php',851],['lib','deprecatedlib.php',3818]], 24],
'getcurrentversion': ['getcurrentversion', 'Get the current version ', [['lib','environmentlib.php',1397],['lib/google/src/Google/Service','Games.php',4141]], 2],
'getpart': ['getpart', 'Get the part this result belongs to ', [['lib','environmentlib.php',1424],['lib/horde/framework/Horde/Mime','Part.php',880]], 19],
'get_real_size': ['get_real_size', 'Converts numbers like 10M into bytes. ', [['lib','setuplib.php',1253]], 25],
'getstatus': ['getstatus', '', [['lib/google/src/Google/Service','Reseller.php',936],['lib/zend/Zend/Rest/Client','Result.php',175],['lib/google/src/Google/Service','DoubleClickBidManager.php',829],['lib/google/src/Google/Service','Blogger.php',1793],['lib/google/src/Google/Service','Blogger.php',2148],['lib/google/src/Google/Service','Blogger.php',2409],['lib/google/src/Google/Service','Blogger.php',2756],['lib/google/src/Google/Service','AdExchangeBuyer.php',1086],['lib/google/src/Google/Service','Manager.php',586],['lib/google/src/Google/Service','Genomics.php',2375],['lib/google/src/Google/Service','Genomics.php',3507],['lib/google/src/Google/Service','Urlshortener.php',367],['lib/zend/Zend/Service/ReCaptcha','Response.php',92],['lib/google/src/Google/Service','Dfareporting.php',1026],['lib','environmentlib.php',1370],['lib/google/src/Google/Service','Drive.php',3715],['lib/google/src/Google/Service','Bigquery.php',1439],['lib/google/src/Google/Service','Bigquery.php',2079],['lib/google/src/Google/Service','YouTube.php',4415],['lib/google/src/Google/Service','YouTube.php',6764],['lib/google/src/Google/Service','YouTube.php',7147],['lib/google/src/Google/Service','YouTube.php',7517],['lib/google/src/Google/Service','YouTube.php',7599],['lib/google/src/Google/Service','YouTube.php',9047],['lib/google/src/Google/Service','Autoscaler.php',976],['lib/google/src/Google/Service','Autoscaler.php',1297],['lib/google/src/Google/Service','YouTubeAnalytics.php',352],['lib/google/src/Google/Service','ShoppingContent.php',1213],['lib/google/src/Google/Service','SQLAdmin.php',1164],['lib/google/src/Google/Service','Directory.php',3103],['lib/google/src/Google/Service','Directory.php',3690],['lib/google/src/Google/Service','Directory.php',4989],['lib/google/src/Google/Service','Container.php',566],['lib/google/src/Google/Service','Container.php',774],['lib/horde/framework/Horde/Imap/Client/Base','Mailbox.php',67],['lib/google/src/Google/Service','AndroidPublisher.php',2666],['lib/google/src/Google/Service','AdSenseHost.php',1261],['lib/google/src/Google/Service','AdSenseHost.php',1631],['lib/google/src/Google/Service','AdSenseHost.php',1858],['lib/google/src/Google/Service','Games.php',5795],['lib/google/src/Google/Service','Games.php',6284],['lib/google/src/Google/Service','Games.php',6422],['lib/google/src/Google/Service','Games.php',6479],['lib/google/src/Google/Service','Games.php',6955],['lib/google/src/Google/Service','Games.php',7231],['lib/zend/Zend/Http','Response.php',313],['lib/google/src/Google/Service','Compute.php',5598],['lib/google/src/Google/Service','Compute.php',6435],['lib/google/src/Google/Service','Compute.php',7889],['lib/google/src/Google/Service','Compute.php',8123],['lib/google/src/Google/Service','Compute.php',9401],['lib/google/src/Google/Service','Compute.php',10065],['lib/google/src/Google/Service','Compute.php',10606],['lib/google/src/Google/Service','Compute.php',12047],['lib/zend/Zend/Service/DeveloperGarden/Response/ConferenceCall','GetParticipantStatusResponseType.php',44],['lib/google/src/Google/Service','Calendar.php',2843],['lib/google/src/Google/Service','Analytics.php',5313],['lib/google/src/Google/Service','Analytics.php',5416],['lib/google/src/Google/Service','Analytics.php',8681],['lib/google/src/Google/Service','Analytics.php',8893],['lib/google/src/Google/Service','Tasks.php',698],['lib/zend/Zend/Service/SlideShare','SlideShow.php',362],['lib/google/src/Google/Service','AdSense.php',2582],['lib/zend/Zend/Gdata/YouTube','ContactEntry.php',126],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','Participant.php',73],['lib/google/src/Google/Service','Dns.php',550],['lib/google/src/Google/Service','Replicapool.php',1049],['lib/google/src/Google/Service','Resourceviews.php',788]], 89],
'get_level': ['get_level', 'Return the level of this element, that will be, the level of the parent (doesn\'t consume level) (note this os only a "cosmetic" effect (to_string) as fact as the real responsible for this is the corresponding structure_processor for the final output. ', [['backup/util/structure','base_optigroup.class.php',52],['backup/util/structure','base_final_element.class.php',168],['lib','environmentlib.php',1510],['backup/util/structure','backup_optigroup_element.class.php',101],['backup/util/settings','backup_setting.class.php',55],['backup/util/loggers','base_logger.class.php',70]], 62],
'getneededversion': ['getneededversion', 'Get the needed version ', [['lib','environmentlib.php',1406]], 2],
'get_dbvendor': ['get_dbvendor', 'Returns the database vendor. Note: can be used before connect() ', [['lib/dml','mariadb_native_moodle_database.php',59],['lib/dml','moodle_database.php',195]], 1],
'environment_check_php_extensions': ['environment_check_php_extensions', 'This function will check if php extensions requirements are satisfied ', [['lib','environmentlib.php',534]], 2],
'environment_check_php': ['environment_check_php', 'This function will check if php requirements are satisfied ', [['lib','environmentlib.php',821]], 2],
'getlevel': ['getlevel', 'Returns the current log level for example MC_LOGGER_DEBUG. ', [['lib/editor/tinymce/plugins/spellchecker/classes/utils','Logger.php',80],['lib/google/src/Google/Service','Mirror.php',1435],['lib','environmentlib.php',1388],['lib/google/src/Google/Service','CivicInfo.php',677],['lib/google/src/Google/Service','Games.php',4948],['lib/google/src/Google/Service','Analytics.php',9112],['lib/google/src/Google/Service','Analytics.php',9317],['lib/google/src/Google/Service','GamesManagement.php',1063],['lib/mustache/src/Mustache/Logger','StreamLogger.php',81]], 19],
'is_readable': ['is_readable', '', [], 207],
'explode': ['explode', '', [], 1599],
'is_array': ['is_array', '', [], 1820],
'trim': ['trim', '', [], 1889],
'in_array': ['in_array', '', [], 1173],
'call_user_func_array': ['call_user_func_array', '', [], 101],
'filemtime': ['filemtime', '', [], 70],
'array_flip': ['array_flip', '', [], 118],
'ini_set': ['ini_set', '', [], 144],
'extension_loaded': ['extension_loaded', '', [], 90],
'is_null': ['is_null', '', [], 1992],
'file_get_contents': ['file_get_contents', '', [], 215],
'ini_get': ['ini_get', '', [], 142],
'is_numeric': ['is_numeric', '', [], 723],
'array_merge': ['array_merge', '', [], 2320],
'call_user_func': ['call_user_func', '', [], 126],
'is_callable': ['is_callable', '', [], 60],
'define': ['define', '', [], 2170],
'is_file': ['is_file', '', [], 108],
'strpos': ['strpos', '', [], 1623],
'defined': ['defined', '', [], 4098],
'preg_match': ['preg_match', '', [], 1317],
'phpversion': ['phpversion', '', [], 25],
'function_exists': ['function_exists', '', [], 443],
'version_compare': ['version_compare', '', [], 69],
'preg_replace': ['preg_replace', '', [], 903]};
CLASS_DATA={
'coding_exception': ['coding_exception', 'Exception indicating programming error, must be fixed by a programer. For example a core API might throw this type of exception if a plugin calls it incorrectly. ', [['lib','setuplib.php',214]], 867],
'environment_results': ['environment_results', 'Helper Class to return results to caller ', [['lib','environmentlib.php',1206]], 11],
'core_plugin_manager': ['core_plugin_manager', 'Singleton class providing general plugins management functionality. ', [['lib/classes','plugin_manager.php',31]], 187],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485]};
CONST_DATA={
'NO_VERSION_DATA_FOUND': ['NO_VERSION_DATA_FOUND', '', [['lib','environmentlib.php',44]], 13],
'NO_PHP_EXTENSIONS_NAME_FOUND': ['NO_PHP_EXTENSIONS_NAME_FOUND', '', [['lib','environmentlib.php',60]], 2],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 554],
'NO_ERROR': ['NO_ERROR', '', [['lib','environmentlib.php',42]], 3],
'CUSTOM_CHECK_FUNCTION_MISSING': ['CUSTOM_CHECK_FUNCTION_MISSING', '', [['lib','environmentlib.php',70]], 2],
'NO_DATABASE_VENDOR_VERSION_FOUND': ['NO_DATABASE_VENDOR_VERSION_FOUND', '', [['lib','environmentlib.php',62]], 2],
'NO_CUSTOM_CHECK_FOUND': ['NO_CUSTOM_CHECK_FOUND', '', [['lib','environmentlib.php',66]], 2],
'ENV_SELECT_RELEASE': ['ENV_SELECT_RELEASE', '', [['lib','environmentlib.php',84]], 12],
'NO_PHP_VERSION_FOUND': ['NO_PHP_VERSION_FOUND', '', [['lib','environmentlib.php',56]], 3],
'ENV_SELECT_DATAROOT': ['ENV_SELECT_DATAROOT', '', [['lib','environmentlib.php',82]], 5],
'INCORRECT_FEEDBACK_FOR_REQUIRED': ['INCORRECT_FEEDBACK_FOR_REQUIRED', '', [['lib','environmentlib.php',74]], 2],
'NO_DATABASE_VENDORS_FOUND': ['NO_DATABASE_VENDORS_FOUND', '', [['lib','environmentlib.php',48]], 3],
'CUSTOM_CHECK_FILE_MISSING': ['CUSTOM_CHECK_FILE_MISSING', '', [['lib','environmentlib.php',68]], 2],
'ENV_SELECT_NEWER': ['ENV_SELECT_NEWER', '', [['lib','environmentlib.php',80]], 8],
'INCORRECT_FEEDBACK_FOR_OPTIONAL': ['INCORRECT_FEEDBACK_FOR_OPTIONAL', '', [['lib','environmentlib.php',76]], 2],
'NO_DATABASE_VENDOR_MYSQL_FOUND': ['NO_DATABASE_VENDOR_MYSQL_FOUND', '', [['lib','environmentlib.php',50]], 2],
'NO_PHP_EXTENSIONS_SECTION_FOUND': ['NO_PHP_EXTENSIONS_SECTION_FOUND', '', [['lib','environmentlib.php',58]], 3],
'NO_UNICODE_SECTION_FOUND': ['NO_UNICODE_SECTION_FOUND', '', [['lib','environmentlib.php',64]], 2],
'NO_DATABASE_VENDOR_POSTGRES_FOUND': ['NO_DATABASE_VENDOR_POSTGRES_FOUND', '', [['lib','environmentlib.php',52]], 2],
'NO_PHP_SETTINGS_NAME_FOUND': ['NO_PHP_SETTINGS_NAME_FOUND', '', [['lib','environmentlib.php',72]], 2],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'NO_PHP_SECTION_FOUND': ['NO_PHP_SECTION_FOUND', '', [['lib','environmentlib.php',54]], 3],
'NO_DATABASE_SECTION_FOUND': ['NO_DATABASE_SECTION_FOUND', '', [['lib','environmentlib.php',46]], 3]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
