<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of setuplib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='setuplib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="setuplib.php.source.html">setuplib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="setuplib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>These functions are required very early in the Moodle setup process, before any of the main libraries are loaded.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  {@link http://moodle.com}</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2010 lines (74 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 13 classes</h3>
<div class="inset">
<p><b>object::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>moodle_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>require_login_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>require_login_session_timeout_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>webservice_parameter_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>required_capability_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>coding_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>invalid_parameter_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>invalid_response_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>invalid_state_exception::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>invalid_dataroot_permissions::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
</p>
<p><b>file_serving_exception::</b> (36 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#default_exception_handler">default_exception_handler</a>()<br>
&nbsp;&nbsp;<a href="#default_error_handler">default_error_handler</a>()<br>
&nbsp;&nbsp;<a href="#abort_all_db_transactions">abort_all_db_transactions</a>()<br>
&nbsp;&nbsp;<a href="#is_early_init">is_early_init</a>()<br>
&nbsp;&nbsp;<a href="#print_error">print_error</a>()<br>
&nbsp;&nbsp;<a href="#get_exception_info">get_exception_info</a>()<br>
&nbsp;&nbsp;<a href="#generate_uuid">generate_uuid</a>()<br>
&nbsp;&nbsp;<a href="#get_docs_url">get_docs_url</a>()<br>
&nbsp;&nbsp;<a href="#format_backtrace">format_backtrace</a>()<br>
&nbsp;&nbsp;<a href="#ini_get_bool">ini_get_bool</a>()<br>
&nbsp;&nbsp;<a href="#setup_validate_php_configuration">setup_validate_php_configuration</a>()<br>
&nbsp;&nbsp;<a href="#initialise_cfg">initialise_cfg</a>()<br>
&nbsp;&nbsp;<a href="#initialise_fullme">initialise_fullme</a>()<br>
&nbsp;&nbsp;<a href="#initialise_fullme_cli">initialise_fullme_cli</a>()<br>
&nbsp;&nbsp;<a href="#setup_get_remote_url">setup_get_remote_url</a>()<br>
&nbsp;&nbsp;<a href="#workaround_max_input_vars">workaround_max_input_vars</a>()<br>
&nbsp;&nbsp;<a href="#merge_query_params">merge_query_params</a>()<br>
&nbsp;&nbsp;<a href="#init_performance_info">init_performance_info</a>()<br>
&nbsp;&nbsp;<a href="#during_initial_install">during_initial_install</a>()<br>
&nbsp;&nbsp;<a href="#raise_memory_limit">raise_memory_limit</a>()<br>
&nbsp;&nbsp;<a href="#reduce_memory_limit">reduce_memory_limit</a>()<br>
&nbsp;&nbsp;<a href="#get_real_size">get_real_size</a>()<br>
&nbsp;&nbsp;<a href="#disable_output_buffering">disable_output_buffering</a>()<br>
&nbsp;&nbsp;<a href="#redirect_if_major_upgrade_required">redirect_if_major_upgrade_required</a>()<br>
&nbsp;&nbsp;<a href="#upgrade_ensure_not_running">upgrade_ensure_not_running</a>()<br>
&nbsp;&nbsp;<a href="#check_dir_exists">check_dir_exists</a>()<br>
&nbsp;&nbsp;<a href="#make_unique_writable_directory">make_unique_writable_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_writable_directory">make_writable_directory</a>()<br>
&nbsp;&nbsp;<a href="#protect_directory">protect_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_upload_directory">make_upload_directory</a>()<br>
&nbsp;&nbsp;<a href="#get_request_storage_directory">get_request_storage_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_request_directory">make_request_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_temp_directory">make_temp_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_cache_directory">make_cache_directory</a>()<br>
&nbsp;&nbsp;<a href="#make_localcache_directory">make_localcache_directory</a>()<br>
</p>
<p><b>bootstrap_renderer::</b> (8 methods):<br>
&nbsp;&nbsp;<a href="#has_started">has_started</a>()<br>
&nbsp;&nbsp;<a href="#__call">__call</a>()<br>
&nbsp;&nbsp;<a href="#early_error_content">early_error_content</a>()<br>
&nbsp;&nbsp;<a href="#early_error">early_error</a>()<br>
&nbsp;&nbsp;<a href="#early_notification">early_notification</a>()<br>
&nbsp;&nbsp;<a href="#plain_redirect_message">plain_redirect_message</a>()<br>
&nbsp;&nbsp;<a href="#early_redirect_message">early_redirect_message</a>()<br>
&nbsp;&nbsp;<a href="#plain_page">plain_page</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="object"><b>object</b></a>&nbsp;&nbsp;- <a href="../_classes/object.html"><small>X-Ref</small></a>
</p>
<b>Simple class. It is usually used instead of stdClass because it looks<BR>
more familiar to Java developers ;-) Do not use for type checking of<BR>
function parameters. Please use stdClass instead.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l67')" href="setuplib.php.source.html#l67">__construct</a>()&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="moodle_exception"><b>moodle_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/moodle_exception.html"><small>X-Ref</small></a>
</p>
<b>Base Moodle Exception class<BR>
</b><br>
Although this class is defined here, you cannot throw a moodle_exception until<BR>
after moodlelib.php has been included (which will happen very soon).<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l113')" href="setuplib.php.source.html#l113">__construct</a>(<a href="../_variables/errorcode.html">$errorcode</a>, <a href="../_variables/module.html">$module</a>='', <a href="../_variables/link.html">$link</a>='', <a href="../_variables/a.html">$a</a>=NULL, <a href="../_variables/debuginfo.html">$debuginfo</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $errorcode The name of the string from error.php to print<br>
<b>param:</b> string $module name of module<br>
<b>param:</b> string $link The url where the user will be prompted to continue. If no url is provided the user will be directed to the site index page.<br>
<b>param:</b> mixed $a Extra words and phrases that might be required in the error string<br>
<b>param:</b> string $debuginfo optional debugging information<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="require_login_exception"><b>require_login_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/require_login_exception.html"><small>X-Ref</small></a>
</p>
<b>Course/activity access exception.<BR>
</b><br>
This exception is thrown from require_login()<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l165')" href="setuplib.php.source.html#l165">__construct</a>(<a href="../_variables/debuginfo.html">$debuginfo</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $debuginfo Information to aid the debugging process<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="require_login_session_timeout_exception"><b>require_login_session_timeout_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/require_login_session_timeout_exception.html"><small>X-Ref</small></a>
</p>
<b>Session timeout exception.<BR>
</b><br>
This exception is thrown from require_login()<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l184')" href="setuplib.php.source.html#l184">__construct</a>()&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="webservice_parameter_exception"><b>webservice_parameter_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/webservice_parameter_exception.html"><small>X-Ref</small></a>
</p>
<b>Web service parameter exception class<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l199')" href="setuplib.php.source.html#l199">__construct</a>(<a href="../_variables/errorcode.html">$errorcode</a>=null, <a href="../_variables/a.html">$a</a> = '', <a href="../_variables/debuginfo.html">$debuginfo</a> = null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $errorcode The name of the string from webservice.php to print<br>
<b>param:</b> string $a The name of the parameter<br>
<b>param:</b> string $debuginfo Optional information to aid debugging<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="required_capability_exception"><b>required_capability_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/required_capability_exception.html"><small>X-Ref</small></a>
</p>
<b>Exceptions indicating user does not have permissions to do something<BR>
and the execution can not continue.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l219')" href="setuplib.php.source.html#l219">__construct</a>(<a href="../_variables/context.html">$context</a>, <a href="../_variables/capability.html">$capability</a>, <a href="../_variables/errormessage.html">$errormessage</a>, <a href="../_variables/stringfile.html">$stringfile</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> context $context The context used for the capability check<br>
<b>param:</b> string $capability The required capability<br>
<b>param:</b> string $errormessage The error message to show the user<br>
<b>param:</b> string $stringfile<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="coding_exception"><b>coding_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/coding_exception.html"><small>X-Ref</small></a>
</p>
<b>Exception indicating programming error, must be fixed by a programer. For example<BR>
a core API might throw this type of exception if a plugin calls it incorrectly.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l249')" href="setuplib.php.source.html#l249">__construct</a>(<a href="../_variables/hint.html">$hint</a>, <a href="../_variables/debuginfo.html">$debuginfo</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $hint short description of problem<br>
<b>param:</b> string $debuginfo detailed information how to fix problem<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_parameter_exception"><b>invalid_parameter_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/invalid_parameter_exception.html"><small>X-Ref</small></a>
</p>
<b>Exception indicating malformed parameter problem.<BR>
This exception is not supposed to be thrown when processing<BR>
user submitted data in forms. It is more suitable<BR>
for WS and other low level stuff.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l271')" href="setuplib.php.source.html#l271">__construct</a>(<a href="../_variables/debuginfo.html">$debuginfo</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $debuginfo some detailed information<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_response_exception"><b>invalid_response_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/invalid_response_exception.html"><small>X-Ref</small></a>
</p>
<b>Exception indicating malformed response problem.<BR>
This exception is not supposed to be thrown when processing<BR>
user submitted data in forms. It is more suitable<BR>
for WS and other low level stuff.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l287')" href="setuplib.php.source.html#l287">__construct</a>(<a href="../_variables/debuginfo.html">$debuginfo</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $debuginfo some detailed information<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_state_exception"><b>invalid_state_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/invalid_state_exception.html"><small>X-Ref</small></a>
</p>
<b>An exception that indicates something really weird happened. For example,<BR>
if you do switch ($context-&gt;contextlevel), and have one case for each<BR>
CONTEXT_... constant. You might throw an invalid_state_exception in the<BR>
default case, to just in case something really weird is going on, and<BR>
$context-&gt;contextlevel is invalid - rather than ignoring this possibility.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l309')" href="setuplib.php.source.html#l309">__construct</a>(<a href="../_variables/hint.html">$hint</a>, <a href="../_variables/debuginfo.html">$debuginfo</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $hint short description of problem<br>
<b>param:</b> string $debuginfo optional more detailed information<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_dataroot_permissions"><b>invalid_dataroot_permissions</b></a>&nbsp;&nbsp;- <a href="../_classes/invalid_dataroot_permissions.html"><small>X-Ref</small></a>
</p>
<b>An exception that indicates incorrect permissions in $CFG-&gt;dataroot<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l328')" href="setuplib.php.source.html#l328">__construct</a>(<a href="../_variables/debuginfo.html">$debuginfo</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $debuginfo optional more detailed information<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="file_serving_exception"><b>file_serving_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/file_serving_exception.html"><small>X-Ref</small></a>
</p>
<b>An exception that indicates that file can not be served<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'setuplib.php.source.html#l346')" href="setuplib.php.source.html#l346">__construct</a>(<a href="../_variables/debuginfo.html">$debuginfo</a> = NULL)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $debuginfo optional more detailed information<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_exception_handler" onClick="logFunction('default_exception_handler', 'setuplib.php.source.html#l355')" href="setuplib.php.source.html#l355">default_exception_handler</a>(<a href="../_variables/ex.html">$ex</a>)&nbsp;&nbsp;
<a href="../_functions/default_exception_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Default exception handler.<BR>
</b><BR><b>param:</b> Exception $ex<br>
<b>return:</b> void -does not return. Terminates execution!<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_error_handler" onClick="logFunction('default_error_handler', 'setuplib.php.source.html#l413')" href="setuplib.php.source.html#l413">default_error_handler</a>(<a href="../_variables/errno.html">$errno</a>, <a href="../_variables/errstr.html">$errstr</a>, <a href="../_variables/errfile.html">$errfile</a>, <a href="../_variables/errline.html">$errline</a>, <a href="../_variables/errcontext.html">$errcontext</a>)&nbsp;&nbsp;
<a href="../_functions/default_error_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Default error handler, prevents some white screens.<BR>
</b><BR><b>param:</b> int $errno<br>
<b>param:</b> string $errstr<br>
<b>param:</b> string $errfile<br>
<b>param:</b> int $errline<br>
<b>param:</b> array $errcontext<br>
<b>return:</b> bool false means use default error handler<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="abort_all_db_transactions" onClick="logFunction('abort_all_db_transactions', 'setuplib.php.source.html#l430')" href="setuplib.php.source.html#l430">abort_all_db_transactions</a>()&nbsp;&nbsp;
<a href="../_functions/abort_all_db_transactions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unconditionally abort all database transactions, this function<BR>
should be called from exception handlers only.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_early_init" onClick="logFunction('is_early_init', 'setuplib.php.source.html#l447')" href="setuplib.php.source.html#l447">is_early_init</a>(<a href="../_variables/backtrace.html">$backtrace</a>)&nbsp;&nbsp;
<a href="../_functions/is_early_init.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function encapsulates the tests for whether an exception was thrown in<BR>
early init -- either during setup.php or during init of $OUTPUT.<BR>
</b><BR>If another exception is thrown then, and if we do not take special measures,<BR>
we would just get a very cryptic message &quot;Exception thrown without a stack<BR>
frame in Unknown on line 0&quot;. That makes debugging very hard, so we do take<BR>
special measures in default_exception_handler, with the help of this function.<BR>
<BR>
<b>param:</b> array $backtrace the stack trace to analyse.<br>
<b>return:</b> boolean whether the stack trace is somewhere in output initialisation.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="print_error" onClick="logFunction('print_error', 'setuplib.php.source.html#l481')" href="setuplib.php.source.html#l481">print_error</a>(<a href="../_variables/errorcode.html">$errorcode</a>, <a href="../_variables/module.html">$module</a> = 'error', <a href="../_variables/link.html">$link</a> = '', <a href="../_variables/a.html">$a</a> = null, <a href="../_variables/debuginfo.html">$debuginfo</a> = null)&nbsp;&nbsp;
<a href="../_functions/print_error.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Abort execution by throwing of a general exception,<BR>
default exception handler displays the error message in most cases.<BR>
</b><BR><b>param:</b> string $errorcode The name of the language string containing the error message.<br>
<b>param:</b> string $module The language file to get the error message from.<br>
<b>param:</b> string $link The url where the user will be prompted to continue.<br>
<b>param:</b> object $a Extra words and phrases that might be required in the error string<br>
<b>param:</b> string $debuginfo optional debugging information<br>
<b>return:</b> void, always throws exception!<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_exception_info" onClick="logFunction('get_exception_info', 'setuplib.php.source.html#l498')" href="setuplib.php.source.html#l498">get_exception_info</a>(<a href="../_variables/ex.html">$ex</a>)&nbsp;&nbsp;
<a href="../_functions/get_exception_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns detailed information about specified exception.<BR>
</b><BR><b>param:</b> exception $ex<br>
<b>return:</b> object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_uuid" onClick="logFunction('generate_uuid', 'setuplib.php.source.html#l616')" href="setuplib.php.source.html#l616">generate_uuid</a>()&nbsp;&nbsp;
<a href="../_functions/generate_uuid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate a uuid.<BR>
</b><BR>Unique is hard. Very hard. Attempt to use the PECL UUID functions if available, and if not then revert to<BR>
constructing the uuid using mt_rand.<BR>
<BR>
It is important that this token is not solely based on time as this could lead<BR>
to duplicates in a clustered environment (especially on VMs due to poor time precision).<BR>
<BR>
<b>return:</b> string The uuid.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_docs_url" onClick="logFunction('get_docs_url', 'setuplib.php.source.html#l662')" href="setuplib.php.source.html#l662">get_docs_url</a>(<a href="../_variables/path.html">$path</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_docs_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the Moodle Docs URL in the users language for a given 'More help' link.<BR>
</b><BR>There are three cases:<BR>
<BR>
1. In the normal case, $path will be a short relative path 'component/thing',<BR>
like 'mod/folder/view' 'group/import'. This gets turned into an link to<BR>
MoodleDocs in the user's language, and for the appropriate Moodle version.<BR>
E.g. 'group/import' may become 'http://docs.moodle.org/2x/en/group/import'.<BR>
The 'http://docs.moodle.org' bit comes from $CFG-&gt;docroot.<BR>
<BR>
This is the only option that should be used in standard Moodle code. The other<BR>
two options have been implemented because they are useful for third-party plugins.<BR>
<BR>
2. $path may be an absolute URL, starting http:// or https://. In this case,<BR>
the link is used as is.<BR>
<BR>
3. $path may start %%WWWROOT%%, in which case that is replaced by<BR>
$CFG-&gt;wwwroot to make the link.<BR>
<BR>
<b>param:</b> string $path the place to link to. See above for details.<br>
<b>return:</b> string The MoodleDocs URL in the user's language. for example @link <a href="http://docs.moodle.org/2x/en/$path}" target="_blank">http://docs.moodle.org/2x/en/$path}</a><br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_backtrace" onClick="logFunction('format_backtrace', 'setuplib.php.source.html#l729')" href="setuplib.php.source.html#l729">format_backtrace</a>(<a href="../_variables/callers.html">$callers</a>, <a href="../_variables/plaintext.html">$plaintext</a> = false)&nbsp;&nbsp;
<a href="../_functions/format_backtrace.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Formats a backtrace ready for output.<BR>
</b><BR><b>param:</b> array $callers backtrace array, as returned by debug_backtrace().<br>
<b>param:</b> boolean $plaintext if false, generates HTML, if true generates plain text.<br>
<b>return:</b> string formatted backtrace, ready for output.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ini_get_bool" onClick="logFunction('ini_get_bool', 'setuplib.php.source.html#l770')" href="setuplib.php.source.html#l770">ini_get_bool</a>(<a href="../_variables/ini_get_arg.html">$ini_get_arg</a>)&nbsp;&nbsp;
<a href="../_functions/ini_get_bool.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function makes the return value of ini_get consistent if you are<BR>
setting server directives through the .htaccess file in apache.<BR>
</b><BR>Current behavior for value set from php.ini On = 1, Off = [blank]<BR>
Current behavior for value set from .htaccess On = On, Off = Off<BR>
Contributed by jdell @ unr.edu<BR>
<BR>
<b>param:</b> string $ini_get_arg The argument to get<br>
<b>return:</b> bool True for on false for not<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setup_validate_php_configuration" onClick="logFunction('setup_validate_php_configuration', 'setuplib.php.source.html#l790')" href="setuplib.php.source.html#l790">setup_validate_php_configuration</a>()&nbsp;&nbsp;
<a href="../_functions/setup_validate_php_configuration.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function verifies the sanity of PHP configuration<BR>
and stops execution if anything critical found.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_cfg" onClick="logFunction('initialise_cfg', 'setuplib.php.source.html#l802')" href="setuplib.php.source.html#l802">initialise_cfg</a>()&nbsp;&nbsp;
<a href="../_functions/initialise_cfg.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise global $CFG variable.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_fullme" onClick="logFunction('initialise_fullme', 'setuplib.php.source.html#l828')" href="setuplib.php.source.html#l828">initialise_fullme</a>()&nbsp;&nbsp;
<a href="../_functions/initialise_fullme.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises $FULLME and friends. Private function. Should only be called from<BR>
setup.php.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_fullme_cli" onClick="logFunction('initialise_fullme_cli', 'setuplib.php.source.html#l923')" href="setuplib.php.source.html#l923">initialise_fullme_cli</a>()&nbsp;&nbsp;
<a href="../_functions/initialise_fullme_cli.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises $FULLME and friends for command line scripts.<BR>
This is a private method for use by initialise_fullme.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setup_get_remote_url" onClick="logFunction('setup_get_remote_url', 'setuplib.php.source.html#l947')" href="setuplib.php.source.html#l947">setup_get_remote_url</a>()&nbsp;&nbsp;
<a href="../_functions/setup_get_remote_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the URL that PHP/the web server thinks it is serving. Private function<BR>
used by initialise_fullme. In your code, use $PAGE-&gt;url, $SCRIPT, etc.<BR>
</b><BR><b>return:</b> array in the same format that parse_url returns, with the addition of<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="workaround_max_input_vars" onClick="logFunction('workaround_max_input_vars', 'setuplib.php.source.html#l1056')" href="setuplib.php.source.html#l1056">workaround_max_input_vars</a>()&nbsp;&nbsp;
<a href="../_functions/workaround_max_input_vars.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Try to work around the 'max_input_vars' restriction if necessary.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="merge_query_params" onClick="logFunction('merge_query_params', 'setuplib.php.source.html#l1131')" href="setuplib.php.source.html#l1131">merge_query_params</a>(array &amp;<a href="../_variables/target.html">$target</a>, array <a href="../_variables/values.html">$values</a>)&nbsp;&nbsp;
<a href="../_functions/merge_query_params.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Merge parsed POST chunks.<BR>
</b><BR>NOTE: this is not perfect, but it should work in most cases hopefully.<BR>
<BR>
<b>param:</b> array $target<br>
<b>param:</b> array $values<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="init_performance_info" onClick="logFunction('init_performance_info', 'setuplib.php.source.html#l1165')" href="setuplib.php.source.html#l1165">init_performance_info</a>()&nbsp;&nbsp;
<a href="../_functions/init_performance_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initializes our performance info early.<BR>
</b><BR>Pairs up with get_performance_info() which is actually<BR>
in moodlelib.php. This function is here so that we can<BR>
call it before all the libs are pulled in.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="during_initial_install" onClick="logFunction('during_initial_install', 'setuplib.php.source.html#l1191')" href="setuplib.php.source.html#l1191">during_initial_install</a>()&nbsp;&nbsp;
<a href="../_functions/during_initial_install.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Indicates whether we are in the middle of the initial Moodle install.<BR>
</b><BR>Very occasionally it is necessary avoid running certain bits of code before the<BR>
Moodle installation has completed. The installed flag is set in admin/index.php<BR>
after Moodle core and all the plugins have been installed, but just before<BR>
the person doing the initial install is asked to choose the admin password.<BR>
<BR>
<b>return:</b> boolean true if the initial install is not complete.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="raise_memory_limit" onClick="logFunction('raise_memory_limit', 'setuplib.php.source.html#l1206')" href="setuplib.php.source.html#l1206">raise_memory_limit</a>(<a href="../_variables/newlimit.html">$newlimit</a>)&nbsp;&nbsp;
<a href="../_functions/raise_memory_limit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to raise the memory limit to a new value.<BR>
Will respect the memory limit if it is higher, thus allowing<BR>
settings in php.ini, apache conf or command line switches<BR>
to override it.<BR>
</b><BR>The memory limit should be expressed with a constant<BR>
MEMORY_STANDARD, MEMORY_EXTRA or MEMORY_HUGE.<BR>
It is possible to use strings or integers too (eg:'128M').<BR>
<BR>
<b>param:</b> mixed $newlimit the new memory limit<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reduce_memory_limit" onClick="logFunction('reduce_memory_limit', 'setuplib.php.source.html#l1284')" href="setuplib.php.source.html#l1284">reduce_memory_limit</a>(<a href="../_variables/newlimit.html">$newlimit</a>)&nbsp;&nbsp;
<a href="../_functions/reduce_memory_limit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to reduce the memory limit to a new value.<BR>
Will respect the memory limit if it is lower, thus allowing<BR>
settings in php.ini, apache conf or command line switches<BR>
to override it<BR>
</b><BR>The memory limit should be expressed with a string (eg:'64M')<BR>
<BR>
<b>param:</b> string $newlimit the new memory limit<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_real_size" onClick="logFunction('get_real_size', 'setuplib.php.source.html#l1320')" href="setuplib.php.source.html#l1320">get_real_size</a>(<a href="../_variables/size.html">$size</a> = 0)&nbsp;&nbsp;
<a href="../_functions/get_real_size.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts numbers like 10M into bytes.<BR>
</b><BR><b>param:</b> string $size The size to be converted<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="disable_output_buffering" onClick="logFunction('disable_output_buffering', 'setuplib.php.source.html#l1349')" href="setuplib.php.source.html#l1349">disable_output_buffering</a>()&nbsp;&nbsp;
<a href="../_functions/disable_output_buffering.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Try to disable all output buffering and purge<BR>
all headers.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="redirect_if_major_upgrade_required" onClick="logFunction('redirect_if_major_upgrade_required', 'setuplib.php.source.html#l1382')" href="setuplib.php.source.html#l1382">redirect_if_major_upgrade_required</a>()&nbsp;&nbsp;
<a href="../_functions/redirect_if_major_upgrade_required.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check whether a major upgrade is needed. That is defined as an upgrade that<BR>
changes something really fundamental in the database, so nothing can possibly<BR>
work until the database has been updated, and that is defined by the hard-coded<BR>
version number in this function.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="upgrade_ensure_not_running" onClick="logFunction('upgrade_ensure_not_running', 'setuplib.php.source.html#l1406')" href="setuplib.php.source.html#l1406">upgrade_ensure_not_running</a>(<a href="../_variables/warningonly.html">$warningonly</a> = false)&nbsp;&nbsp;
<a href="../_functions/upgrade_ensure_not_running.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Makes sure that upgrade process is not running<BR>
</b><BR>To be inserted in the core functions that can not be called by pluigns during upgrade.<BR>
Core upgrade should not use any API functions at all.<BR>
See {@link http://docs.moodle.org/dev/Upgrade_API#Upgrade_code_restrictions}<BR>
<BR>
<b>param:</b> bool $warningonly if true displays a warning instead of throwing an exception<br>
<b>return:</b> bool true if executed from outside of upgrade process, false if from inside upgrade process and function is used for warning only<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_dir_exists" onClick="logFunction('check_dir_exists', 'setuplib.php.source.html#l1430')" href="setuplib.php.source.html#l1430">check_dir_exists</a>(<a href="../_variables/dir.html">$dir</a>, <a href="../_variables/create.html">$create</a> = true, <a href="../_variables/recursive.html">$recursive</a> = true)&nbsp;&nbsp;
<a href="../_functions/check_dir_exists.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to check if a directory exists and by default create it if not exists.<BR>
</b><BR>Previously this was accepting paths only from dataroot, but we now allow<BR>
files outside of dataroot if you supply custom paths for some settings in config.php.<BR>
This function does not verify that the directory is writable.<BR>
<BR>
NOTE: this function uses current file stat cache,<BR>
please use clearstatcache() before this if you expect that the<BR>
directories may have been removed recently from a different request.<BR>
<BR>
<b>param:</b> string $dir absolute directory path<br>
<b>param:</b> boolean $create directory if does not exist<br>
<b>param:</b> boolean $recursive create directory recursively<br>
<b>return:</b> boolean true if directory exists or created, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_unique_writable_directory" onClick="logFunction('make_unique_writable_directory', 'setuplib.php.source.html#l1462')" href="setuplib.php.source.html#l1462">make_unique_writable_directory</a>(<a href="../_variables/basedir.html">$basedir</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_unique_writable_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a new unique directory within the specified directory.<BR>
</b><BR><b>param:</b> string $basedir The directory to create your new unique directory within.<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string The created directory<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_writable_directory" onClick="logFunction('make_writable_directory', 'setuplib.php.source.html#l1506')" href="setuplib.php.source.html#l1506">make_writable_directory</a>(<a href="../_variables/dir.html">$dir</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_writable_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a directory and make sure it is writable.<BR>
</b><BR><b>param:</b> string $dir&nbsp;&nbsp;the full path of the directory to be created<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="protect_directory" onClick="logFunction('protect_directory', 'setuplib.php.source.html#l1553')" href="setuplib.php.source.html#l1553">protect_directory</a>(<a href="../_variables/dir.html">$dir</a>)&nbsp;&nbsp;
<a href="../_functions/protect_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Protect a directory from web access.<BR>
Could be extended in the future to support other mechanisms (e.g. other webservers).<BR>
</b><BR><b>param:</b> string $dir&nbsp;&nbsp;the full path of the directory to be protected<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_upload_directory" onClick="logFunction('make_upload_directory', 'setuplib.php.source.html#l1572')" href="setuplib.php.source.html#l1572">make_upload_directory</a>(<a href="../_variables/directory.html">$directory</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_upload_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a directory under dataroot and make sure it is writable.<BR>
Do not use for temporary and cache files - see make_temp_directory() and make_cache_directory().<BR>
</b><BR><b>param:</b> string $directory&nbsp;&nbsp;the full path of the directory to be created under $CFG-&gt;dataroot<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_request_storage_directory" onClick="logFunction('get_request_storage_directory', 'setuplib.php.source.html#l1597')" href="setuplib.php.source.html#l1597">get_request_storage_directory</a>(<a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/get_request_storage_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a per-request storage directory in the tempdir.<BR>
</b><BR>The directory is automatically cleaned up during the shutdown handler.<BR>
<BR>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_request_directory" onClick="logFunction('make_request_directory', 'setuplib.php.source.html#l1627')" href="setuplib.php.source.html#l1627">make_request_directory</a>(<a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_request_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a per-request directory and make sure it is writable.<BR>
This can only be used during the current request and will be tidied away<BR>
automatically afterwards.<BR>
</b><BR>A new, unique directory is always created within the current request directory.<BR>
<BR>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_temp_directory" onClick="logFunction('make_temp_directory', 'setuplib.php.source.html#l1642')" href="setuplib.php.source.html#l1642">make_temp_directory</a>(<a href="../_variables/directory.html">$directory</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_temp_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a directory under tempdir and make sure it is writable.<BR>
</b><BR>Where possible, please use make_request_directory() and limit the scope<BR>
of your data to the current HTTP request.<BR>
<BR>
Do not use for storing cache files - see make_cache_directory(), and<BR>
make_localcache_directory() instead for this purpose.<BR>
<BR>
Temporary files must be on a shared storage, and heavy usage is<BR>
discouraged due to the performance impact upon clustered environments.<BR>
<BR>
<b>param:</b> string $directory&nbsp;&nbsp;the full path of the directory to be created under $CFG-&gt;tempdir<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_cache_directory" onClick="logFunction('make_cache_directory', 'setuplib.php.source.html#l1669')" href="setuplib.php.source.html#l1669">make_cache_directory</a>(<a href="../_variables/directory.html">$directory</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_cache_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a directory under cachedir and make sure it is writable.<BR>
</b><BR>Note: this cache directory is shared by all cluster nodes.<BR>
<BR>
<b>param:</b> string $directory&nbsp;&nbsp;the full path of the directory to be created under $CFG-&gt;cachedir<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_localcache_directory" onClick="logFunction('make_localcache_directory', 'setuplib.php.source.html#l1689')" href="setuplib.php.source.html#l1689">make_localcache_directory</a>(<a href="../_variables/directory.html">$directory</a>, <a href="../_variables/exceptiononerror.html">$exceptiononerror</a> = true)&nbsp;&nbsp;
<a href="../_functions/make_localcache_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a directory under localcachedir and make sure it is writable.<BR>
The files in this directory MUST NOT change, use revisions or content hashes to<BR>
work around this limitation - this means you can only add new files here.<BR>
</b><BR>The content of this directory gets purged automatically on all cluster nodes<BR>
after calling purge_all_caches() before new data is written to this directory.<BR>
<BR>
Note: this local cache directory does not need to be shared by cluster nodes.<BR>
<BR>
<b>param:</b> string $directory the relative path of the directory to be created under $CFG-&gt;localcachedir<br>
<b>param:</b> bool $exceptiononerror throw exception if error encountered<br>
<b>return:</b> string|false Returns full path to directory if successful, false if not; may throw exception<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="bootstrap_renderer"><b>bootstrap_renderer</b></a>&nbsp;&nbsp;- <a href="../_classes/bootstrap_renderer.html"><small>X-Ref</small></a>
</p>
<b>This class solves the problem of how to initialise $OUTPUT.<BR>
</b><br>
The problem is caused be two factors<BR>
&lt;ol&gt;<BR>
&lt;li&gt;On the one hand, we cannot be sure when output will start. In particular,<BR>
an error, which needs to be displayed, could be thrown at any time.&lt;/li&gt;<BR>
&lt;li&gt;On the other hand, we cannot be sure when we will have all the information<BR>
necessary to correctly initialise $OUTPUT. $OUTPUT depends on the theme, which<BR>
(potentially) depends on the current course, course categories, and logged in user.<BR>
It also depends on whether the current page requires HTTPS.&lt;/li&gt;<BR>
&lt;/ol&gt;<BR>
<BR>
So, it is hard to find a single natural place during Moodle script execution,<BR>
which we can guarantee is the right time to initialise $OUTPUT. Instead we<BR>
adopt the following strategy<BR>
&lt;ol&gt;<BR>
&lt;li&gt;We will initialise $OUTPUT the first time it is used.&lt;/li&gt;<BR>
&lt;li&gt;If, after $OUTPUT has been initialised, the script tries to change something<BR>
that $OUTPUT depends on, we throw an exception making it clear that the script<BR>
did something wrong.<BR>
&lt;/ol&gt;<BR>
<BR>
The only problem with that is, how do we initialise $OUTPUT on first use if,<BR>
it is going to be used like $OUTPUT-&gt;somthing(...)? Well that is where this<BR>
class comes in. Initially, we set up $OUTPUT = new bootstrap_renderer(). Then,<BR>
when any method is called on that object, we initialise $OUTPUT, and pass the call on.<BR>
<BR>
Note that this class is used before lib/outputlib.php has been loaded, so we<BR>
must be careful referring to classes/functions from there, they may not be<BR>
defined yet, and we must avoid fatal errors.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_started" onClick="logFunction('has_started', 'setuplib.php.source.html#l1785')" href="setuplib.php.source.html#l1785">has_started</a>()&nbsp;&nbsp;
<a href="../_functions/has_started.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Have we started output yet?<BR>
</b><BR><b>return:</b> boolean true if the header has been printed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__call" onClick="logFunction('__call', 'setuplib.php.source.html#l1793')" href="setuplib.php.source.html#l1793">__call</a>(<a href="../_variables/method.html">$method</a>, <a href="../_variables/arguments.html">$arguments</a>)&nbsp;&nbsp;
<a href="../_functions/__call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor - to be used by core code only.<BR>
</b><BR><b>param:</b> string $method The method to call<br>
<b>param:</b> array $arguments Arguments to pass to the method being called<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="early_error_content" onClick="logFunction('early_error_content', 'setuplib.php.source.html#l1836')" href="setuplib.php.source.html#l1836">early_error_content</a>(<a href="../_variables/message.html">$message</a>, <a href="../_variables/moreinfourl.html">$moreinfourl</a>, <a href="../_variables/link.html">$link</a>, <a href="../_variables/backtrace.html">$backtrace</a>, <a href="../_variables/debuginfo.html">$debuginfo</a> = null)&nbsp;&nbsp;
<a href="../_functions/early_error_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns nicely formatted error message in a div box.<BR>
</b><BR><b>param:</b> string $message error message<br>
<b>param:</b> string $moreinfourl (ignored in early errors)<br>
<b>param:</b> string $link (ignored in early errors)<br>
<b>param:</b> array $backtrace<br>
<b>param:</b> string $debuginfo<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="early_error" onClick="logFunction('early_error', 'setuplib.php.source.html#l1873')" href="setuplib.php.source.html#l1873">early_error</a>(<a href="../_variables/message.html">$message</a>, <a href="../_variables/moreinfourl.html">$moreinfourl</a>, <a href="../_variables/link.html">$link</a>, <a href="../_variables/backtrace.html">$backtrace</a>, <a href="../_variables/debuginfo.html">$debuginfo</a> = null, <a href="../_variables/errorcode.html">$errorcode</a> = null)&nbsp;&nbsp;
<a href="../_functions/early_error.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function should only be called by this class, or from exception handlers<BR>
</b><BR><b>param:</b> string $message error message<br>
<b>param:</b> string $moreinfourl (ignored in early errors)<br>
<b>param:</b> string $link (ignored in early errors)<br>
<b>param:</b> array $backtrace<br>
<b>param:</b> string $debuginfo extra information for developers<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="early_notification" onClick="logFunction('early_notification', 'setuplib.php.source.html#l1942')" href="setuplib.php.source.html#l1942">early_notification</a>(<a href="../_variables/message.html">$message</a>, <a href="../_variables/classes.html">$classes</a> = 'notifyproblem')&nbsp;&nbsp;
<a href="../_functions/early_notification.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Early notification message<BR>
</b><BR><b>param:</b> string $message<br>
<b>param:</b> string $classes usually notifyproblem or notifysuccess<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plain_redirect_message" onClick="logFunction('plain_redirect_message', 'setuplib.php.source.html#l1953')" href="setuplib.php.source.html#l1953">plain_redirect_message</a>(<a href="../_variables/encodedurl.html">$encodedurl</a>)&nbsp;&nbsp;
<a href="../_functions/plain_redirect_message.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Page should redirect message.<BR>
</b><BR><b>param:</b> string $encodedurl redirect url<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="early_redirect_message" onClick="logFunction('early_redirect_message', 'setuplib.php.source.html#l1965')" href="setuplib.php.source.html#l1965">early_redirect_message</a>(<a href="../_variables/encodedurl.html">$encodedurl</a>, <a href="../_variables/message.html">$message</a>, <a href="../_variables/delay.html">$delay</a>)&nbsp;&nbsp;
<a href="../_functions/early_redirect_message.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Early redirection page, used before full init of $PAGE global<BR>
</b><BR><b>param:</b> string $encodedurl redirect url<br>
<b>param:</b> string $message redirect message<br>
<b>param:</b> int $delay time in seconds<br>
<b>return:</b> string redirect page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plain_page" onClick="logFunction('plain_page', 'setuplib.php.source.html#l1981')" href="setuplib.php.source.html#l1981">plain_page</a>(<a href="../_variables/title.html">$title</a>, <a href="../_variables/content.html">$content</a>, <a href="../_variables/meta.html">$meta</a> = '')&nbsp;&nbsp;
<a href="../_functions/plain_page.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Output basic html page.<BR>
</b><BR><b>param:</b> string $title page title<br>
<b>param:</b> string $content page content<br>
<b>param:</b> string $meta meta tag<br>
<b>return:</b> string html page<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
