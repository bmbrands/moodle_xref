<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of outputrequirementslib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='outputrequirementslib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="outputrequirementslib.php.source.html">outputrequirementslib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="outputrequirementslib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>Library functions to facilitate the use of JavaScript in Moodle. Note: you can find history of this file in lib/ajax/ajaxlib.php</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2009 Tim Hunt, 2010 Petr Skoda</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2072 lines (85 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 2 classes</h3>
<div class="inset">
<p><b>page_requirements_manager::</b> (43 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_config_for_javascript">get_config_for_javascript</a>()<br>
&nbsp;&nbsp;<a href="#init_requirements_data">init_requirements_data</a>()<br>
&nbsp;&nbsp;<a href="#get_jsrev">get_jsrev</a>()<br>
&nbsp;&nbsp;<a href="#js">js</a>()<br>
&nbsp;&nbsp;<a href="#jquery">jquery</a>()<br>
&nbsp;&nbsp;<a href="#jquery_plugin">jquery_plugin</a>()<br>
&nbsp;&nbsp;<a href="#jquery_override_plugin">jquery_override_plugin</a>()<br>
&nbsp;&nbsp;<a href="#get_jquery_headcode">get_jquery_headcode</a>()<br>
&nbsp;&nbsp;<a href="#js_fix_url">js_fix_url</a>()<br>
&nbsp;&nbsp;<a href="#find_module">find_module</a>()<br>
&nbsp;&nbsp;<a href="#js_module">js_module</a>()<br>
&nbsp;&nbsp;<a href="#js_module_loaded">js_module_loaded</a>()<br>
&nbsp;&nbsp;<a href="#css">css</a>()<br>
&nbsp;&nbsp;<a href="#css_theme">css_theme</a>()<br>
&nbsp;&nbsp;<a href="#skip_link_to">skip_link_to</a>()<br>
&nbsp;&nbsp;<a href="#js_function_call">js_function_call</a>()<br>
&nbsp;&nbsp;<a href="#js_amd_inline">js_amd_inline</a>()<br>
&nbsp;&nbsp;<a href="#js_call_amd">js_call_amd</a>()<br>
&nbsp;&nbsp;<a href="#yui_module">yui_module</a>()<br>
&nbsp;&nbsp;<a href="#set_yuicssmodules">set_yuicssmodules</a>()<br>
&nbsp;&nbsp;<a href="#js_init_call">js_init_call</a>()<br>
&nbsp;&nbsp;<a href="#js_init_code">js_init_code</a>()<br>
&nbsp;&nbsp;<a href="#string_for_js">string_for_js</a>()<br>
&nbsp;&nbsp;<a href="#strings_for_js">strings_for_js</a>()<br>
&nbsp;&nbsp;<a href="#data_for_js">data_for_js</a>()<br>
&nbsp;&nbsp;<a href="#event_handler">event_handler</a>()<br>
&nbsp;&nbsp;<a href="#get_event_handler_code">get_event_handler_code</a>()<br>
&nbsp;&nbsp;<a href="#get_javascript_code">get_javascript_code</a>()<br>
&nbsp;&nbsp;<a href="#get_javascript_init_code">get_javascript_init_code</a>()<br>
&nbsp;&nbsp;<a href="#get_amd_footercode">get_amd_footercode</a>()<br>
&nbsp;&nbsp;<a href="#get_yui3lib_headcss">get_yui3lib_headcss</a>()<br>
&nbsp;&nbsp;<a href="#get_yui3lib_headcode">get_yui3lib_headcode</a>()<br>
&nbsp;&nbsp;<a href="#get_css_code">get_css_code</a>()<br>
&nbsp;&nbsp;<a href="#get_extra_modules_code">get_extra_modules_code</a>()<br>
&nbsp;&nbsp;<a href="#get_head_code">get_head_code</a>()<br>
&nbsp;&nbsp;<a href="#get_top_of_body_code">get_top_of_body_code</a>()<br>
&nbsp;&nbsp;<a href="#get_end_code">get_end_code</a>()<br>
&nbsp;&nbsp;<a href="#is_head_done">is_head_done</a>()<br>
&nbsp;&nbsp;<a href="#is_top_of_body_done">is_top_of_body_done</a>()<br>
&nbsp;&nbsp;<a href="#should_create_one_time_item_now">should_create_one_time_item_now</a>()<br>
&nbsp;&nbsp;<a href="#has_one_time_item_been_created">has_one_time_item_been_created</a>()<br>
&nbsp;&nbsp;<a href="#set_one_time_item_created">set_one_time_item_created</a>()<br>
</p>
<p><b>YUI_config::</b> (12 methods):<br>
&nbsp;&nbsp;<a href="#add_group">add_group</a>()<br>
&nbsp;&nbsp;<a href="#update_group">update_group</a>()<br>
&nbsp;&nbsp;<a href="#set_config_function">set_config_function</a>()<br>
&nbsp;&nbsp;<a href="#set_config_source">set_config_source</a>()<br>
&nbsp;&nbsp;<a href="#get_config_functions">get_config_functions</a>()<br>
&nbsp;&nbsp;<a href="#update_header_js">update_header_js</a>()<br>
&nbsp;&nbsp;<a href="#add_module_config">add_module_config</a>()<br>
&nbsp;&nbsp;<a href="#add_moodle_metadata">add_moodle_metadata</a>()<br>
&nbsp;&nbsp;<a href="#get_moodle_metadata">get_moodle_metadata</a>()<br>
&nbsp;&nbsp;<a href="#get_moodle_path_metadata">get_moodle_path_metadata</a>()<br>
&nbsp;&nbsp;<a href="#define_patched_core_modules">define_patched_core_modules</a>()<br>
&nbsp;&nbsp;<a href="#js_reset_all_caches">js_reset_all_caches</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="page_requirements_manager"><b>page_requirements_manager</b></a>&nbsp;&nbsp;- <a href="../_classes/page_requirements_manager.html"><small>X-Ref</small></a>
</p>
<b>This class tracks all the things that are needed by the current page.<BR>
</b><br>
Normally, the only instance of this&nbsp;&nbsp;class you will need to work with is the<BR>
one accessible via $PAGE-&gt;requires.<BR>
<BR>
Typical usage would be<BR>
&lt;pre&gt;<BR>
$PAGE-&gt;requires-&gt;js_call_amd('mod_forum/view', 'init');<BR>
&lt;/pre&gt;<BR>
<BR>
It also supports obsoleted coding style with/without YUI3 modules.<BR>
&lt;pre&gt;<BR>
$PAGE-&gt;requires-&gt;js_init_call('M.mod_forum.init_view');<BR>
$PAGE-&gt;requires-&gt;css('/mod/mymod/userstyles.php?id='.$id); // not overridable via themes!<BR>
$PAGE-&gt;requires-&gt;js('/mod/mymod/script.js');<BR>
$PAGE-&gt;requires-&gt;js('/mod/mymod/small_but_urgent.js', true);<BR>
$PAGE-&gt;requires-&gt;js_function_call('init_mymod', array($data), true);<BR>
&lt;/pre&gt;<BR>
<BR>
There are some natural restrictions on some methods. For example, {@link css()}<BR>
can only be called before the &lt;head&gt; tag is output. See the comments on the<BR>
individual methods for details.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'outputrequirementslib.php.source.html#l171')" href="outputrequirementslib.php.source.html#l171">__construct</a>()&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Page requirements constructor.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_config_for_javascript" onClick="logFunction('get_config_for_javascript', 'outputrequirementslib.php.source.html#l302')" href="outputrequirementslib.php.source.html#l302">get_config_for_javascript</a>(moodle_page <a href="../_variables/page.html">$page</a>, renderer_base <a href="../_variables/renderer.html">$renderer</a>)&nbsp;&nbsp;
<a href="../_functions/get_config_for_javascript.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the safe config values that get set for javascript in &quot;M.cfg&quot;.<BR>
</b><BR><b>return:</b> array List of safe config values that are available to javascript.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="init_requirements_data" onClick="logFunction('init_requirements_data', 'outputrequirementslib.php.source.html#l338')" href="outputrequirementslib.php.source.html#l338">init_requirements_data</a>(moodle_page <a href="../_variables/page.html">$page</a>, core_renderer <a href="../_variables/renderer.html">$renderer</a>)&nbsp;&nbsp;
<a href="../_functions/init_requirements_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise with the bits of JavaScript that every Moodle page should have.<BR>
</b><BR><b>param:</b> moodle_page $page<br>
<b>param:</b> core_renderer $renderer<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_jsrev" onClick="logFunction('get_jsrev', 'outputrequirementslib.php.source.html#l388')" href="outputrequirementslib.php.source.html#l388">get_jsrev</a>()&nbsp;&nbsp;
<a href="../_functions/get_jsrev.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine the correct JS Revision to use for this load.<BR>
</b><BR><b>return:</b> int the jsrev to use.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js" onClick="logFunction('js', 'outputrequirementslib.php.source.html#l407')" href="outputrequirementslib.php.source.html#l407">js</a>(<a href="../_variables/url.html">$url</a>, <a href="../_variables/inhead.html">$inhead</a> = false)&nbsp;&nbsp;
<a href="../_functions/js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that the specified JavaScript file is linked to from this page.<BR>
</b><BR>NOTE: This function is to be used in RARE CASES ONLY, please store your JS in module.js file<BR>
and use $PAGE-&gt;requires-&gt;js_init_call() instead or use /yui/ subdirectories for YUI modules.<BR>
<BR>
By default the link is put at the end of the page, since this gives best page-load performance.<BR>
<BR>
Even if a particular script is requested more than once, it will only be linked<BR>
to once.<BR>
<BR>
<b>param:</b> string|moodle_url $url The path to the .js file, relative to $CFG-&gt;dirroot / $CFG-&gt;wwwroot.<br>
<b>param:</b> bool $inhead initialise in head<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="jquery" onClick="logFunction('jquery', 'outputrequirementslib.php.source.html#l428')" href="outputrequirementslib.php.source.html#l428">jquery</a>()&nbsp;&nbsp;
<a href="../_functions/jquery.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request inclusion of jQuery library in the page.<BR>
</b><BR>NOTE: this should not be used in official Moodle distribution!<BR>
<BR>
{@see http://docs.moodle.org/dev/jQuery}<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="jquery_plugin" onClick="logFunction('jquery_plugin', 'outputrequirementslib.php.source.html#l439')" href="outputrequirementslib.php.source.html#l439">jquery_plugin</a>(<a href="../_variables/plugin.html">$plugin</a>, <a href="../_variables/component.html">$component</a> = 'core')&nbsp;&nbsp;
<a href="../_functions/jquery_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request inclusion of jQuery plugin.<BR>
</b><BR>NOTE: this should not be used in official Moodle distribution!<BR>
<BR>
jQuery plugins are located in plugin/jquery/* subdirectory,<BR>
plugin/jquery/plugins.php lists all available plugins.<BR>
<BR>
Included core plugins:<BR>
- jQuery UI<BR>
<BR>
Add-ons may include extra jQuery plugins in jquery/ directory,<BR>
plugins.php file defines the mapping between plugin names and<BR>
necessary page includes.<BR>
<BR>
Examples:<BR>
&lt;code&gt;<BR>
// file: mod/xxx/view.php<BR>
$PAGE-&gt;requires-&gt;jquery();<BR>
$PAGE-&gt;requires-&gt;jquery_plugin('ui');<BR>
$PAGE-&gt;requires-&gt;jquery_plugin('ui-css');<BR>
&lt;/code&gt;<BR>
<BR>
&lt;code&gt;<BR>
// file: theme/yyy/lib.php<BR>
function theme_yyy_page_init(moodle_page $page) {<BR>
$page-&gt;requires-&gt;jquery();<BR>
$page-&gt;requires-&gt;jquery_plugin('ui');<BR>
$page-&gt;requires-&gt;jquery_plugin('ui-css');<BR>
}<BR>
&lt;/code&gt;<BR>
<BR>
&lt;code&gt;<BR>
// file: blocks/zzz/block_zzz.php<BR>
public function get_required_javascript() {<BR>
parent::get_required_javascript();<BR>
$this-&gt;page-&gt;requires-&gt;jquery();<BR>
$page-&gt;requires-&gt;jquery_plugin('ui');<BR>
$page-&gt;requires-&gt;jquery_plugin('ui-css');<BR>
}<BR>
&lt;/code&gt;<BR>
<BR>
{@see http://docs.moodle.org/dev/jQuery}<BR>
<BR>
<b>param:</b> string $plugin name of the jQuery plugin as defined in jquery/plugins.php<br>
<b>param:</b> string $component name of the component<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="jquery_override_plugin" onClick="logFunction('jquery_override_plugin', 'outputrequirementslib.php.source.html#l570')" href="outputrequirementslib.php.source.html#l570">jquery_override_plugin</a>(<a href="../_variables/oldplugin.html">$oldplugin</a>, <a href="../_variables/newplugin.html">$newplugin</a>)&nbsp;&nbsp;
<a href="../_functions/jquery_override_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request replacement of one jQuery plugin by another.<BR>
</b><BR>This is useful when themes want to replace the jQuery UI theme,<BR>
the problem is that theme can not prevent others from including the core ui-css plugin.<BR>
<BR>
Example:<BR>
1/ generate new jQuery UI theme and place it into theme/yourtheme/jquery/<BR>
2/ write theme/yourtheme/jquery/plugins.php<BR>
3/ init jQuery from theme<BR>
<BR>
&lt;code&gt;<BR>
// file theme/yourtheme/lib.php<BR>
function theme_yourtheme_page_init($page) {<BR>
$page-&gt;requires-&gt;jquery_plugin('yourtheme-ui-css', 'theme_yourtheme');<BR>
$page-&gt;requires-&gt;jquery_override_plugin('ui-css', 'yourtheme-ui-css');<BR>
}<BR>
&lt;/code&gt;<BR>
<BR>
This code prevents loading of standard 'ui-css' which my be requested by other plugins,<BR>
the 'yourtheme-ui-css' gets loaded only if some other code requires jquery.<BR>
<BR>
{@see http://docs.moodle.org/dev/jQuery}<BR>
<BR>
<b>param:</b> string $oldplugin original plugin<br>
<b>param:</b> string $newplugin the replacement<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_jquery_headcode" onClick="logFunction('get_jquery_headcode', 'outputrequirementslib.php.source.html#l605')" href="outputrequirementslib.php.source.html#l605">get_jquery_headcode</a>()&nbsp;&nbsp;
<a href="../_functions/get_jquery_headcode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return jQuery related markup for page start.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_fix_url" onClick="logFunction('js_fix_url', 'outputrequirementslib.php.source.html#l674')" href="outputrequirementslib.php.source.html#l674">js_fix_url</a>(<a href="../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../_functions/js_fix_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the actual url through which a script is served.<BR>
</b><BR><b>param:</b> moodle_url|string $url full moodle url, or shortened path to script<br>
<b>return:</b> moodle_url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_module" onClick="logFunction('find_module', 'outputrequirementslib.php.source.html#l715')" href="outputrequirementslib.php.source.html#l715">find_module</a>(<a href="../_variables/component.html">$component</a>)&nbsp;&nbsp;
<a href="../_functions/find_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Find out if JS module present and return details.<BR>
</b><BR><b>param:</b> string $component name of component in frankenstyle, ex: core_group, mod_forum<br>
<b>return:</b> array description of module or null if not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_module" onClick="logFunction('js_module', 'outputrequirementslib.php.source.html#l805')" href="outputrequirementslib.php.source.html#l805">js_module</a>(<a href="../_variables/module.html">$module</a>)&nbsp;&nbsp;
<a href="../_functions/js_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Append YUI3 module to default YUI3 JS loader.<BR>
The structure of module array is described at {@link http://developer.yahoo.com/yui/3/yui/}<BR>
</b><BR><b>param:</b> string|array $module name of module (details are autodetected), or full module specification as array<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_module_loaded" onClick="logFunction('js_module_loaded', 'outputrequirementslib.php.source.html#l857')" href="outputrequirementslib.php.source.html#l857">js_module_loaded</a>(<a href="../_variables/module.html">$module</a>)&nbsp;&nbsp;
<a href="../_functions/js_module_loaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if the module has already been loaded.<BR>
</b><BR><b>param:</b> string|array $module<br>
<b>return:</b> bool True if the module has already been loaded<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="css" onClick="logFunction('css', 'outputrequirementslib.php.source.html#l873')" href="outputrequirementslib.php.source.html#l873">css</a>(<a href="../_variables/stylesheet.html">$stylesheet</a>)&nbsp;&nbsp;
<a href="../_functions/css.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that the specified CSS file is linked to from this page.<BR>
</b><BR>Because stylesheet links must go in the &lt;head&gt; part of the HTML, you must call<BR>
this function before {@link get_head_code()} is called. That normally means before<BR>
the call to print_header. If you call it when it is too late, an exception<BR>
will be thrown.<BR>
<BR>
Even if a particular style sheet is requested more than once, it will only<BR>
be linked to once.<BR>
<BR>
Please note use of this feature is strongly discouraged,<BR>
it is suitable only for places where CSS is submitted directly by teachers.<BR>
(Students must not be allowed to submit any external CSS because it may<BR>
contain embedded javascript!). Example of correct use is mod/data.<BR>
<BR>
<b>param:</b> string $stylesheet The path to the .css file, relative to $CFG-&gt;wwwroot.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="css_theme" onClick="logFunction('css_theme', 'outputrequirementslib.php.source.html#l911')" href="outputrequirementslib.php.source.html#l911">css_theme</a>(moodle_url <a href="../_variables/stylesheet.html">$stylesheet</a>)&nbsp;&nbsp;
<a href="../_functions/css_theme.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add theme stylesheet to page - do not use from plugin code,<BR>
this should be called only from the core renderer!<BR>
</b><BR><b>param:</b> moodle_url $stylesheet<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="skip_link_to" onClick="logFunction('skip_link_to', 'outputrequirementslib.php.source.html#l922')" href="outputrequirementslib.php.source.html#l922">skip_link_to</a>(<a href="../_variables/target.html">$target</a>, <a href="../_variables/linktext.html">$linktext</a>)&nbsp;&nbsp;
<a href="../_functions/skip_link_to.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that a skip link to a given target is printed at the top of the &lt;body&gt;.<BR>
</b><BR>You must call this function before {@link get_top_of_body_code()}, (if not, an exception<BR>
will be thrown). That normally means you must call this before the call to print_header.<BR>
<BR>
If you ask for a particular skip link to be printed, it is then your responsibility<BR>
to ensure that the appropriate &lt;a name=&quot;...&quot;&gt; tag is printed in the body of the<BR>
page, so that the skip link goes somewhere.<BR>
<BR>
Even if a particular skip link is requested more than once, only one copy of it will be output.<BR>
<BR>
<b>param:</b> string $target the name of anchor this link should go to. For example 'maincontent'.<br>
<b>param:</b> string $linktext The text to use for the skip link. Normally get_string('skipto', 'access', ...);<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_function_call" onClick="logFunction('js_function_call', 'outputrequirementslib.php.source.html#l945')" href="outputrequirementslib.php.source.html#l945">js_function_call</a>(<a href="../_variables/function.html">$function</a>, array <a href="../_variables/arguments.html">$arguments</a> = null, <a href="../_variables/ondomready.html">$ondomready</a> = false, <a href="../_variables/delay.html">$delay</a> = 0)&nbsp;&nbsp;
<a href="../_functions/js_function_call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>!!!DEPRECATED!!! please use js_init_call() if possible<BR>
Ensure that the specified JavaScript function is called from an inline script<BR>
somewhere on this page.<BR>
</b><BR>By default the call will be put in a script tag at the<BR>
end of the page after initialising Y instance, since this gives best page-load<BR>
performance and allows you to use YUI3 library.<BR>
<BR>
If you request that a particular function is called several times, then<BR>
that is what will happen (unlike linking to a CSS or JS file, where only<BR>
one link will be output).<BR>
<BR>
The main benefit of the method is the automatic encoding of all function parameters.<BR>
<BR>
<b>param:</b> string $function the name of the JavaScritp function to call. Can<br>
<b>param:</b> array $arguments and array of arguments to be passed to the function.<br>
<b>param:</b> bool $ondomready If tru the function is only called when the dom is<br>
<b>param:</b> int $delay The delay before the function is called.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_amd_inline" onClick="logFunction('js_amd_inline', 'outputrequirementslib.php.source.html#l977')" href="outputrequirementslib.php.source.html#l977">js_amd_inline</a>(<a href="../_variables/code.html">$code</a>)&nbsp;&nbsp;
<a href="../_functions/js_amd_inline.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function appends a block of code to the AMD specific javascript block executed<BR>
in the page footer, just after loading the requirejs library.<BR>
</b><BR>The code passed here can rely on AMD module loading, e.g. require('jquery', function($) {...});<BR>
<BR>
<b>param:</b> string $code The JS code to append.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_call_amd" onClick="logFunction('js_call_amd', 'outputrequirementslib.php.source.html#l989')" href="outputrequirementslib.php.source.html#l989">js_call_amd</a>(<a href="../_variables/fullmodule.html">$fullmodule</a>, <a href="../_variables/func.html">$func</a>, <a href="../_variables/params.html">$params</a> = array()&nbsp;&nbsp;
<a href="../_functions/js_call_amd.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function creates a minimal JS script that requires and calls a single function from an AMD module with arguments.<BR>
If it is called multiple times, it will be executed multiple times.<BR>
</b><BR><b>param:</b> string $fullmodule The format for module names is &lt;component name&gt;/&lt;module name&gt;.<br>
<b>param:</b> string $func The function from the module to call<br>
<b>param:</b> array $params The params to pass to the function. They will be json encoded, so no nasty classes/types please.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="yui_module" onClick="logFunction('yui_module', 'outputrequirementslib.php.source.html#l1023')" href="outputrequirementslib.php.source.html#l1023">yui_module</a>(<a href="../_variables/modules.html">$modules</a>, <a href="../_variables/function.html">$function</a>, array <a href="../_variables/arguments.html">$arguments</a> = null, <a href="../_variables/galleryversion.html">$galleryversion</a> = null, <a href="../_variables/ondomready.html">$ondomready</a> = false)&nbsp;&nbsp;
<a href="../_functions/yui_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a JavaScript function call that requires one or more modules to be loaded.<BR>
</b><BR>This function can be used to include all of the standard YUI module types within JavaScript:<BR>
- YUI3 modules&nbsp;&nbsp;&nbsp;&nbsp;[node, event, io]<BR>
- YUI2 modules&nbsp;&nbsp;&nbsp;&nbsp;[yui2-*]<BR>
- Moodle modules&nbsp;&nbsp;[moodle-*]<BR>
- Gallery modules [gallery-*]<BR>
<BR>
Before writing new code that makes extensive use of YUI, you should consider it's replacement AMD/JQuery.<BR>
<b>param:</b> array|string $modules One or more modules<br>
<b>param:</b> string $function The function to call once modules have been loaded<br>
<b>param:</b> array $arguments An array of arguments to pass to the function<br>
<b>param:</b> string $galleryversion Deprecated: The gallery version to use<br>
<b>param:</b> bool $ondomready<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_yuicssmodules" onClick="logFunction('set_yuicssmodules', 'outputrequirementslib.php.source.html#l1057')" href="outputrequirementslib.php.source.html#l1057">set_yuicssmodules</a>(array <a href="../_variables/modules.html">$modules</a> = array()&nbsp;&nbsp;
<a href="../_functions/set_yuicssmodules.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the CSS Modules to be included from YUI.<BR>
</b><BR><b>param:</b> array $modules The list of YUI CSS Modules to include.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_init_call" onClick="logFunction('js_init_call', 'outputrequirementslib.php.source.html#l1066')" href="outputrequirementslib.php.source.html#l1066">js_init_call</a>(<a href="../_variables/function.html">$function</a>, array <a href="../_variables/extraarguments.html">$extraarguments</a> = null, <a href="../_variables/ondomready.html">$ondomready</a> = false, array <a href="../_variables/module.html">$module</a> = null)&nbsp;&nbsp;
<a href="../_functions/js_init_call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that the specified JavaScript function is called from an inline script<BR>
from page footer.<BR>
</b><BR><b>param:</b> string $function the name of the JavaScritp function to with init code,<br>
<b>param:</b> array $extraarguments and array of arguments to be passed to the function.<br>
<b>param:</b> bool $ondomready wait for dom ready (helps with some IE problems when modifying DOM)<br>
<b>param:</b> array $module JS module specification array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_init_code" onClick="logFunction('js_init_code', 'outputrequirementslib.php.source.html#l1090')" href="outputrequirementslib.php.source.html#l1090">js_init_code</a>(<a href="../_variables/jscode.html">$jscode</a>, <a href="../_variables/ondomready.html">$ondomready</a> = false, array <a href="../_variables/module.html">$module</a> = null)&nbsp;&nbsp;
<a href="../_functions/js_init_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add short static javascript code fragment to page footer.<BR>
This is intended primarily for loading of js modules and initialising page layout.<BR>
Ideally the JS code fragment should be stored in plugin renderer so that themes<BR>
may override it.<BR>
</b><BR><b>param:</b> string $jscode<br>
<b>param:</b> bool $ondomready wait for dom ready (helps with some IE problems when modifying DOM)<br>
<b>param:</b> array $module JS module specification array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="string_for_js" onClick="logFunction('string_for_js', 'outputrequirementslib.php.source.html#l1120')" href="outputrequirementslib.php.source.html#l1120">string_for_js</a>(<a href="../_variables/identifier.html">$identifier</a>, <a href="../_variables/component.html">$component</a>, <a href="../_variables/a.html">$a</a> = null)&nbsp;&nbsp;
<a href="../_functions/string_for_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Make a language string available to JavaScript.<BR>
</b><BR>All the strings will be available in a M.str object in the global namespace.<BR>
So, for example, after a call to $PAGE-&gt;requires-&gt;string_for_js('course', 'moodle');<BR>
then the JavaScript variable M.str.moodle.course will be 'Course', or the<BR>
equivalent in the current language.<BR>
<BR>
The arguments to this function are just like the arguments to get_string<BR>
except that $component is not optional, and there are some aspects to consider<BR>
when the string contains {$a} placeholder.<BR>
<BR>
If the string does not contain any {$a} placeholder, you can simply use<BR>
M.str.component.identifier to obtain it. If you prefer, you can call<BR>
M.util.get_string(identifier, component) to get the same result.<BR>
<BR>
If you need to use {$a} placeholders, there are two options. Either the<BR>
placeholder should be substituted in PHP on server side or it should<BR>
be substituted in Javascript at client side.<BR>
<BR>
To substitute the placeholder at server side, just provide the required<BR>
value for the placeholder when you require the string. Because each string<BR>
is only stored once in the JavaScript (based on $identifier and $module)<BR>
you cannot get the same string with two different values of $a. If you try,<BR>
an exception will be thrown. Once the placeholder is substituted, you can<BR>
use M.str or M.util.get_string() as shown above:<BR>
<BR>
// Require the string in PHP and replace the placeholder.<BR>
$PAGE-&gt;requires-&gt;string_for_js('fullnamedisplay', 'moodle', $USER);<BR>
// Use the result of the substitution in Javascript.<BR>
alert(M.str.moodle.fullnamedisplay);<BR>
<BR>
To substitute the placeholder at client side, use M.util.get_string()<BR>
function. It implements the same logic as {@link get_string()}:<BR>
<BR>
// Require the string in PHP but keep {$a} as it is.<BR>
$PAGE-&gt;requires-&gt;string_for_js('fullnamedisplay', 'moodle');<BR>
// Provide the values on the fly in Javascript.<BR>
user = { firstname : 'Harry', lastname : 'Potter' }<BR>
alert(M.util.get_string('fullnamedisplay', 'moodle', user);<BR>
<BR>
If you do need the same string expanded with different $a values in PHP<BR>
on server side, then the solution is to put them in your own data structure<BR>
(e.g. and array) that you pass to JavaScript with {@link data_for_js()}.<BR>
<BR>
<b>param:</b> string $identifier the desired string.<br>
<b>param:</b> string $component the language file to look in.<br>
<b>param:</b> mixed $a any extra data to add into the string (optional).<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="strings_for_js" onClick="logFunction('strings_for_js', 'outputrequirementslib.php.source.html#l1183')" href="outputrequirementslib.php.source.html#l1183">strings_for_js</a>(<a href="../_variables/identifiers.html">$identifiers</a>, <a href="../_variables/component.html">$component</a>, <a href="../_variables/a.html">$a</a> = null)&nbsp;&nbsp;
<a href="../_functions/strings_for_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Make an array of language strings available for JS.<BR>
</b><BR>This function calls the above function {@link string_for_js()} for each requested<BR>
string in the $identifiers array that is passed to the argument for a single module<BR>
passed in $module.<BR>
<BR>
&lt;code&gt;<BR>
$PAGE-&gt;requires-&gt;strings_for_js(array('one', 'two', 'three'), 'mymod', array('a', null, 3));<BR>
<BR>
// The above is identical to calling:<BR>
<BR>
$PAGE-&gt;requires-&gt;string_for_js('one', 'mymod', 'a');<BR>
$PAGE-&gt;requires-&gt;string_for_js('two', 'mymod');<BR>
$PAGE-&gt;requires-&gt;string_for_js('three', 'mymod', 3);<BR>
&lt;/code&gt;<BR>
<BR>
<b>param:</b> array $identifiers An array of desired strings<br>
<b>param:</b> string $component The module to load for<br>
<b>param:</b> mixed $a This can either be a single variable that gets passed as extra<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="data_for_js" onClick="logFunction('data_for_js', 'outputrequirementslib.php.source.html#l1218')" href="outputrequirementslib.php.source.html#l1218">data_for_js</a>(<a href="../_variables/variable.html">$variable</a>, <a href="../_variables/data.html">$data</a>, <a href="../_variables/inhead.html">$inhead</a>=false)&nbsp;&nbsp;
<a href="../_functions/data_for_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>!!!!!!DEPRECATED!!!!!! please use js_init_call() for everything now.<BR>
</b><BR>Make some data from PHP available to JavaScript code.<BR>
<BR>
For example, if you call<BR>
&lt;pre&gt;<BR>
$PAGE-&gt;requires-&gt;data_for_js('mydata', array('name' =&gt; 'Moodle'));<BR>
&lt;/pre&gt;<BR>
then in JavsScript mydata.name will be 'Moodle'.<BR>
<BR>
<b>param:</b> string $variable the the name of the JavaScript variable to assign the data to.<br>
<b>param:</b> mixed $data The data to pass to JavaScript. This will be escaped using json_encode,<br>
<b>param:</b> bool $inhead initialise in head<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="event_handler" onClick="logFunction('event_handler', 'outputrequirementslib.php.source.html#l1243')" href="outputrequirementslib.php.source.html#l1243">event_handler</a>(<a href="../_variables/selector.html">$selector</a>, <a href="../_variables/event.html">$event</a>, <a href="../_variables/function.html">$function</a>, array <a href="../_variables/arguments.html">$arguments</a> = null)&nbsp;&nbsp;
<a href="../_functions/event_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a YUI event handler.<BR>
</b><BR><b>param:</b> mixed $selector standard YUI selector for elements, may be array or string, element id is in the form &quot;#idvalue&quot;<br>
<b>param:</b> string $event A valid DOM event (click, mousedown, change etc.)<br>
<b>param:</b> string $function The name of the function to call<br>
<b>param:</b> array&nbsp;&nbsp;$arguments An optional array of argument parameters to pass to the function<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_event_handler_code" onClick="logFunction('get_event_handler_code', 'outputrequirementslib.php.source.html#l1255')" href="outputrequirementslib.php.source.html#l1255">get_event_handler_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_event_handler_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns code needed for registering of event handlers.<BR>
</b><BR><b>return:</b> string JS code<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_javascript_code" onClick="logFunction('get_javascript_code', 'outputrequirementslib.php.source.html#l1267')" href="outputrequirementslib.php.source.html#l1267">get_javascript_code</a>(<a href="../_variables/ondomready.html">$ondomready</a>)&nbsp;&nbsp;
<a href="../_functions/get_javascript_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the inline JavaScript code that need to appear in a particular place.<BR>
</b><BR><b>param:</b> bool $ondomready<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_javascript_init_code" onClick="logFunction('get_javascript_init_code', 'outputrequirementslib.php.source.html#l1286')" href="outputrequirementslib.php.source.html#l1286">get_javascript_init_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_javascript_init_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns js code to be executed when Y is available.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_amd_footercode" onClick="logFunction('get_amd_footercode', 'outputrequirementslib.php.source.html#l1297')" href="outputrequirementslib.php.source.html#l1297">get_amd_footercode</a>()&nbsp;&nbsp;
<a href="../_functions/get_amd_footercode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns js code to load amd module loader, then insert inline script tags<BR>
that contain require() calls using RequireJS.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_yui3lib_headcss" onClick="logFunction('get_yui3lib_headcss', 'outputrequirementslib.php.source.html#l1338')" href="outputrequirementslib.php.source.html#l1338">get_yui3lib_headcss</a>()&nbsp;&nbsp;
<a href="../_functions/get_yui3lib_headcss.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns basic YUI3 CSS code.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_yui3lib_headcode" onClick="logFunction('get_yui3lib_headcode', 'outputrequirementslib.php.source.html#l1379')" href="outputrequirementslib.php.source.html#l1379">get_yui3lib_headcode</a>()&nbsp;&nbsp;
<a href="../_functions/get_yui3lib_headcode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns basic YUI3 JS loading code.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_css_code" onClick="logFunction('get_css_code', 'outputrequirementslib.php.source.html#l1424')" href="outputrequirementslib.php.source.html#l1424">get_css_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_css_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns html tags needed for inclusion of theme CSS.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extra_modules_code" onClick="logFunction('get_extra_modules_code', 'outputrequirementslib.php.source.html#l1457')" href="outputrequirementslib.php.source.html#l1457">get_extra_modules_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_extra_modules_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds extra modules specified after printing of page header.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_head_code" onClick="logFunction('get_head_code', 'outputrequirementslib.php.source.html#l1469')" href="outputrequirementslib.php.source.html#l1469">get_head_code</a>(moodle_page <a href="../_variables/page.html">$page</a>, core_renderer <a href="../_variables/renderer.html">$renderer</a>)&nbsp;&nbsp;
<a href="../_functions/get_head_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate any HTML that needs to go inside the &lt;head&gt; tag.<BR>
</b><BR>Normally, this method is called automatically by the code that prints the<BR>
&lt;head&gt; tag. You should not normally need to call it in your own code.<BR>
<BR>
<b>param:</b> moodle_page $page<br>
<b>param:</b> core_renderer $renderer<br>
<b>return:</b> string the HTML code to to inside the &lt;head&gt; tag.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_top_of_body_code" onClick="logFunction('get_top_of_body_code', 'outputrequirementslib.php.source.html#l1528')" href="outputrequirementslib.php.source.html#l1528">get_top_of_body_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_top_of_body_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate any HTML that needs to go at the start of the &lt;body&gt; tag.<BR>
</b><BR>Normally, this method is called automatically by the code that prints the<BR>
&lt;head&gt; tag. You should not normally need to call it in your own code.<BR>
<BR>
<b>return:</b> string the HTML code to go at the start of the &lt;body&gt; tag.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_end_code" onClick="logFunction('get_end_code', 'outputrequirementslib.php.source.html#l1568')" href="outputrequirementslib.php.source.html#l1568">get_end_code</a>()&nbsp;&nbsp;
<a href="../_functions/get_end_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate any HTML that needs to go at the end of the page.<BR>
</b><BR>Normally, this method is called automatically by the code that prints the<BR>
page footer. You should not normally need to call it in your own code.<BR>
<BR>
<b>return:</b> string the HTML code to to at the end of the page.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_head_done" onClick="logFunction('is_head_done', 'outputrequirementslib.php.source.html#l1646')" href="outputrequirementslib.php.source.html#l1646">is_head_done</a>()&nbsp;&nbsp;
<a href="../_functions/is_head_done.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Have we already output the code in the &lt;head&gt; tag?<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_top_of_body_done" onClick="logFunction('is_top_of_body_done', 'outputrequirementslib.php.source.html#l1655')" href="outputrequirementslib.php.source.html#l1655">is_top_of_body_done</a>()&nbsp;&nbsp;
<a href="../_functions/is_top_of_body_done.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Have we already output the code at the start of the &lt;body&gt; tag?<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="should_create_one_time_item_now" onClick="logFunction('should_create_one_time_item_now', 'outputrequirementslib.php.source.html#l1664')" href="outputrequirementslib.php.source.html#l1664">should_create_one_time_item_now</a>(<a href="../_variables/thing.html">$thing</a>)&nbsp;&nbsp;
<a href="../_functions/should_create_one_time_item_now.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Should we generate a bit of content HTML that is only required once&nbsp;&nbsp;on<BR>
this page (e.g. the contents of the modchooser), now? Basically, we call<BR>
{@link has_one_time_item_been_created()}, and if the thing has not already<BR>
been output, we return true to tell the caller to generate it, and also<BR>
call {@link set_one_time_item_created()} to record the fact that it is<BR>
about to be generated.<BR>
</b><BR>That is, a typical usage pattern (in a renderer method) is:<BR>
&lt;pre&gt;<BR>
if (!$this-&gt;page-&gt;requires-&gt;should_create_one_time_item_now($thing)) {<BR>
return '';<BR>
}<BR>
// Else generate it.<BR>
&lt;/pre&gt;<BR>
<BR>
<b>param:</b> string $thing identifier for the bit of content. Should be of the form<br>
<b>return:</b> bool if true, the caller should generate that bit of output now, otherwise don't.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_one_time_item_been_created" onClick="logFunction('has_one_time_item_been_created', 'outputrequirementslib.php.source.html#l1693')" href="outputrequirementslib.php.source.html#l1693">has_one_time_item_been_created</a>(<a href="../_variables/thing.html">$thing</a>)&nbsp;&nbsp;
<a href="../_functions/has_one_time_item_been_created.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Has a particular bit of HTML that is only required once&nbsp;&nbsp;on this page<BR>
(e.g. the contents of the modchooser) already been generated?<BR>
</b><BR>Normally, you can use the {@link should_create_one_time_item_now()} helper<BR>
method rather than calling this method directly.<BR>
<BR>
<b>param:</b> string $thing identifier for the bit of content. Should be of the form<br>
<b>return:</b> bool whether that bit of output has been created.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_one_time_item_created" onClick="logFunction('set_one_time_item_created', 'outputrequirementslib.php.source.html#l1708')" href="outputrequirementslib.php.source.html#l1708">set_one_time_item_created</a>(<a href="../_variables/thing.html">$thing</a>)&nbsp;&nbsp;
<a href="../_functions/set_one_time_item_created.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Indicate that a particular bit of HTML that is only required once on this<BR>
page (e.g. the contents of the modchooser) has been generated (or is about to be)?<BR>
</b><BR>Normally, you can use the {@link should_create_one_time_item_now()} helper<BR>
method rather than calling this method directly.<BR>
<BR>
<b>param:</b> string $thing identifier for the bit of content. Should be of the form<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="yui_config"><b>YUI_config</b></a>&nbsp;&nbsp;- <a href="../_classes/yui_config.html"><small>X-Ref</small></a>
</p>
<b>This class represents the YUI configuration.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_group" onClick="logFunction('add_group', 'outputrequirementslib.php.source.html#l1759')" href="outputrequirementslib.php.source.html#l1759">add_group</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../_functions/add_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a new group within the YUI_config system.<BR>
</b><BR><b>param:</b> String $name The name of the group. This must be unique and<br>
<b>param:</b> Array $config The configuration for this group.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_group" onClick="logFunction('update_group', 'outputrequirementslib.php.source.html#l1774')" href="outputrequirementslib.php.source.html#l1774">update_group</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../_functions/update_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update an existing group configuration<BR>
</b><BR>Note, any existing configuration for that group will be wiped out.<BR>
This includes module configuration.<BR>
<BR>
<b>param:</b> String $name The name of the group. This must be unique and<br>
<b>param:</b> Array $config The configuration for this group.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_config_function" onClick="logFunction('set_config_function', 'outputrequirementslib.php.source.html#l1792')" href="outputrequirementslib.php.source.html#l1792">set_config_function</a>(<a href="../_variables/function.html">$function</a>)&nbsp;&nbsp;
<a href="../_functions/set_config_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the value of a configuration function used by the YUI Loader's pattern testing.<BR>
</b><BR>Only the body of the function should be passed, and not the whole function wrapper.<BR>
<BR>
The JS function your write will be passed a single argument 'name' containing the<BR>
name of the module being loaded.<BR>
<BR>
<b>param:</b> $function String the body of the JavaScript function. This should be used i<br>
<b>return:</b> String the name of the function to use in the group pattern configuration.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_config_source" onClick="logFunction('set_config_source', 'outputrequirementslib.php.source.html#l1812')" href="outputrequirementslib.php.source.html#l1812">set_config_source</a>(<a href="../_variables/file.html">$file</a>)&nbsp;&nbsp;
<a href="../_functions/set_config_source.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Allow setting of the config function described in {@see set_config_function} from a file.<BR>
The contents of this file are then passed to set_config_function.<BR>
</b><BR>When jsrev is positive, the function is minified and stored in a MUC cache for subsequent uses.<BR>
<BR>
<b>param:</b> $file The path to the JavaScript function used for YUI configuration.<br>
<b>return:</b> String the name of the function to use in the group pattern configuration.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_config_functions" onClick="logFunction('get_config_functions', 'outputrequirementslib.php.source.html#l1842')" href="outputrequirementslib.php.source.html#l1842">get_config_functions</a>()&nbsp;&nbsp;
<a href="../_functions/get_config_functions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieve the list of JavaScript functions for YUI_config groups.<BR>
</b><BR><b>return:</b> String The complete set of config functions<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_header_js" onClick="logFunction('update_header_js', 'outputrequirementslib.php.source.html#l1857')" href="outputrequirementslib.php.source.html#l1857">update_header_js</a>(<a href="../_variables/js.html">$js</a>)&nbsp;&nbsp;
<a href="../_functions/update_header_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the header JavaScript with any required modification for the YUI Loader.<BR>
</b><BR><b>param:</b> $js String The JavaScript to manipulate.<br>
<b>return:</b> String the modified JS string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_module_config" onClick="logFunction('add_module_config', 'outputrequirementslib.php.source.html#l1873')" href="outputrequirementslib.php.source.html#l1873">add_module_config</a>(<a href="../_variables/name.html">$name</a>, <a href="../_variables/config.html">$config</a>, <a href="../_variables/group.html">$group</a> = null)&nbsp;&nbsp;
<a href="../_functions/add_module_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add configuration for a specific module.<BR>
</b><BR><b>param:</b> String $name The name of the module to add configuration for.<br>
<b>param:</b> Array $config The configuration for the specified module.<br>
<b>param:</b> String $group The name of the group to add configuration for.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_moodle_metadata" onClick="logFunction('add_moodle_metadata', 'outputrequirementslib.php.source.html#l1898')" href="outputrequirementslib.php.source.html#l1898">add_moodle_metadata</a>()&nbsp;&nbsp;
<a href="../_functions/add_moodle_metadata.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add the moodle YUI module metadata for the moodle group to the YUI_config instance.<BR>
</b><BR>If js caching is disabled, metadata will not be served causing YUI to calculate<BR>
module dependencies as each module is loaded.<BR>
<BR>
If metadata does not exist it will be created and stored in a MUC entry.<BR>
<BR>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_moodle_metadata" onClick="logFunction('get_moodle_metadata', 'outputrequirementslib.php.source.html#l1936')" href="outputrequirementslib.php.source.html#l1936">get_moodle_metadata</a>()&nbsp;&nbsp;
<a href="../_functions/get_moodle_metadata.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine the module metadata for all moodle YUI modules.<BR>
</b><BR>This works through all modules capable of serving YUI modules, and attempts to get<BR>
metadata for each of those modules.<BR>
<BR>
<b>return:</b> Array of module metadata<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_moodle_path_metadata" onClick="logFunction('get_moodle_path_metadata', 'outputrequirementslib.php.source.html#l1976')" href="outputrequirementslib.php.source.html#l1976">get_moodle_path_metadata</a>(<a href="../_variables/path.html">$path</a>)&nbsp;&nbsp;
<a href="../_functions/get_moodle_path_metadata.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function process and return the YUI metadata for all of the modules under the specified path.<BR>
</b><BR><b>param:</b> String $path the UNC path to the YUI src directory.<br>
<b>return:</b> Array the complete array for frankenstyle directory.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="define_patched_core_modules" onClick="logFunction('define_patched_core_modules', 'outputrequirementslib.php.source.html#l2003')" href="outputrequirementslib.php.source.html#l2003">define_patched_core_modules</a>(<a href="../_variables/combobase.html">$combobase</a>, <a href="../_variables/yuiversion.html">$yuiversion</a>, <a href="../_variables/patchlevel.html">$patchlevel</a>, <a href="../_variables/patchedmodules.html">$patchedmodules</a>)&nbsp;&nbsp;
<a href="../_functions/define_patched_core_modules.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Define YUI modules which we have been required to patch between releases.<BR>
</b><BR>We must do this because we aggressively cache content on the browser, and we must also override use of the<BR>
external CDN which will serve the true authoritative copy of the code without our patches.<BR>
<BR>
<b>param:</b> String combobase The local combobase<br>
<b>param:</b> String yuiversion The current YUI version<br>
<b>param:</b> Int patchlevel The patch level we're working to for YUI<br>
<b>param:</b> Array patchedmodules An array containing the names of the patched modules<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="js_reset_all_caches" onClick="logFunction('js_reset_all_caches', 'outputrequirementslib.php.source.html#l2057')" href="outputrequirementslib.php.source.html#l2057">js_reset_all_caches</a>()&nbsp;&nbsp;
<a href="../_functions/js_reset_all_caches.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Invalidate all server and client side JS caches.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
