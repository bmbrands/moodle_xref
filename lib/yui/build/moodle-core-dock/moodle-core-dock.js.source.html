<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /lib/yui/build/moodle-core-dock/moodle-core-dock.js source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='lib/yui/build/moodle-core-dock';
filename='moodle-core-dock.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/lib/yui/build/moodle-core-dock/</a> -> <a href="moodle-core-dock.js.html">moodle-core-dock.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="moodle-core-dock.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="moodle-core-dock.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  YUI.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>('moodle-core-dock', function (Y, NAME) {
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">/**</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> *</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * This file contains the DOCK object and all dock related global namespace methods and properties.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> */</span>
<a name="l10"><span class="linenum">  10</span></a>  
<a name="l11"><span class="linenum">  11</span></a>  var LOGNS = 'moodle-core-dock',
<a name="l12"><span class="linenum">  12</span></a>      BODY = Y.one(Y.config.doc.body),
<a name="l13"><span class="linenum">  13</span></a>      CSS = {
<a name="l14"><span class="linenum">  14</span></a>          dock: 'dock',                    // CSS Class applied to the dock box
<a name="l15"><span class="linenum">  15</span></a>          dockspacer: 'dockspacer',        // CSS class applied to the dockspacer
<a name="l16"><span class="linenum">  16</span></a>          controls: 'controls',            // CSS class applied to the controls box
<a name="l17"><span class="linenum">  17</span></a>          body: 'has_dock',                // CSS class added to the body when there is a dock
<a name="l18"><span class="linenum">  18</span></a>          buttonscontainer: 'buttons_container',
<a name="l19"><span class="linenum">  19</span></a>          dockeditem: 'dockeditem',        // CSS class added to each item in the dock
<a name="l20"><span class="linenum">  20</span></a>          dockeditemcontainer: 'dockeditem_container',
<a name="l21"><span class="linenum">  21</span></a>          dockedtitle: 'dockedtitle',      // CSS class added to the item's title in each dock
<a name="l22"><span class="linenum">  22</span></a>          activeitem: 'activeitem',        // CSS class added to the active item
<a name="l23"><span class="linenum">  23</span></a>          dockonload: 'dock_on_load'
<a name="l24"><span class="linenum">  24</span></a>      },
<a name="l25"><span class="linenum">  25</span></a>      SELECTOR = {
<a name="l26"><span class="linenum">  26</span></a>          dockableblock: '.block[data-instanceid][data-dockable]',
<a name="l27"><span class="linenum">  27</span></a>          blockmoveto: '.block[data-instanceid][data-dockable] .moveto',
<a name="l28"><span class="linenum">  28</span></a>          panelmoveto: '#dockeditempanel .commands a.moveto',
<a name="l29"><span class="linenum">  29</span></a>          dockonload: '.block.' + CSS.dockonload,
<a name="l30"><span class="linenum">  30</span></a>          blockregion: '[data-blockregion]'
<a name="l31"><span class="linenum">  31</span></a>      },
<a name="l32"><span class="linenum">  32</span></a>      DOCK,
<a name="l33"><span class="linenum">  33</span></a>      DOCKPANEL,
<a name="l34"><span class="linenum">  34</span></a>      TABHEIGHTMANAGER,
<a name="l35"><span class="linenum">  35</span></a>      BLOCK,
<a name="l36"><span class="linenum">  36</span></a>      DOCKEDITEM; <span class="comment">// eslint-disable-line no-unused-vars</span>
<a name="l37"><span class="linenum">  37</span></a>  
<a name="l38"><span class="linenum">  38</span></a>  M.core = M.core || {};
<a name="l39"><span class="linenum">  39</span></a>  M.core.dock = M.core.dock || {};
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">/**</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * The dock - once initialised.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @private</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @property _dock</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @type DOCK</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> */</span>
<a name="l48"><span class="linenum">  48</span></a>  M.core.dock._dock = null;
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">/**</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * An associative array of dockable blocks.</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * @property _dockableblocks</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * @type {Array} An array of BLOCK objects organised by instanceid.</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * @private</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> */</span>
<a name="l56"><span class="linenum">  56</span></a>  M.core.dock._dockableblocks = {};
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">/**</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * Initialises the dock.</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * This method registers dockable blocks, and creates delegations to dock them.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @static</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * @method init</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> */</span>
<a name="l64"><span class="linenum">  64</span></a>  M.core.dock.init = function() {
<a name="l65"><span class="linenum">  65</span></a>      Y.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>(SELECTOR.dockableblock).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(M.core.dock.registerDockableBlock);
<a name="l66"><span class="linenum">  66</span></a>      Y.Global.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(M.core.globalEvents.BLOCK_CONTENT_UPDATED, function(e) {
<a name="l67"><span class="linenum">  67</span></a>          M.core.dock.notifyBlockChange(e.instanceid);
<a name="l68"><span class="linenum">  68</span></a>      }, this);
<a name="l69"><span class="linenum">  69</span></a>      BODY.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('click', M.core.dock.dockBlock, SELECTOR.blockmoveto);
<a name="l70"><span class="linenum">  70</span></a>      BODY.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('key', M.core.dock.dockBlock, SELECTOR.blockmoveto, 'enter');
<a name="l71"><span class="linenum">  71</span></a>  };
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">/**</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment"> * Returns an instance of the dock.</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment"> * Initialises one if one hasn't already being initialised.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment"> *</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment"> * @static</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment"> * @method get</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment"> * @return DOCK</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment"> */</span>
<a name="l81"><span class="linenum">  81</span></a>  M.core.dock.get = function() {
<a name="l82"><span class="linenum">  82</span></a>      if (this._dock === null) {
<a name="l83"><span class="linenum">  83</span></a>          this._dock = new DOCK();
<a name="l84"><span class="linenum">  84</span></a>      }
<a name="l85"><span class="linenum">  85</span></a>      return this._dock;
<a name="l86"><span class="linenum">  86</span></a>  };
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">/**</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * Registers a dockable block with the dock.</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> *</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> * @static</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> * @method registerDockableBlock</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * @param {int} id The block instance ID.</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * @return void</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> */</span>
<a name="l96"><span class="linenum">  96</span></a>  M.core.dock.registerDockableBlock = function(id) {
<a name="l97"><span class="linenum">  97</span></a>      if (typeof id === 'object' &amp;&amp; typeof id.getData === 'function') {
<a name="l98"><span class="linenum">  98</span></a>          id = id.<a class="function" onClick="logFunction('getData')" href="../../../../_functions/getdata.html" onMouseOver="funcPopup(event,'getdata')">getData</a>('instanceid');
<a name="l99"><span class="linenum">  99</span></a>      }
<a name="l100"><span class="linenum"> 100</span></a>      M.core.dock._dockableblocks[id] = <span class="keyword">new </span><a class="class" onClick="logClass('BLOCK')" href="../../../../_classes/block.html" onMouseOver="classPopup(event,'block')">BLOCK</a>({id: id});
<a name="l101"><span class="linenum"> 101</span></a>  };
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">/**</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment"> * Docks a block given either its instanceid, its node, or an event fired from within the block.</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment"> * @static</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment"> * @method dockBlockByInstanceID</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment"> * @param id</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment"> * @return void</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment"> */</span>
<a name="l110"><span class="linenum"> 110</span></a>  M.core.dock.dockBlock = function(id) {
<a name="l111"><span class="linenum"> 111</span></a>      if (typeof id === 'object' &amp;&amp; id.target !== 'undefined') {
<a name="l112"><span class="linenum"> 112</span></a>          id = id.target;
<a name="l113"><span class="linenum"> 113</span></a>      }
<a name="l114"><span class="linenum"> 114</span></a>      if (typeof id === &quot;object&quot;) {
<a name="l115"><span class="linenum"> 115</span></a>          if (!id.test(SELECTOR.dockableblock)) {
<a name="l116"><span class="linenum"> 116</span></a>              id = id.ancestor(SELECTOR.dockableblock);
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>          if (typeof id === 'object' &amp;&amp; typeof id.getData === 'function' &amp;&amp; !id.ancestor('.' + CSS.dock)) {
<a name="l119"><span class="linenum"> 119</span></a>              id = id.<a class="function" onClick="logFunction('getData')" href="../../../../_functions/getdata.html" onMouseOver="funcPopup(event,'getdata')">getData</a>('instanceid');
<a name="l120"><span class="linenum"> 120</span></a>          } else {
<a name="l121"><span class="linenum"> 121</span></a>              return;
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>      var block = M.core.dock._dockableblocks[id];
<a name="l125"><span class="linenum"> 125</span></a>      if (block) {
<a name="l126"><span class="linenum"> 126</span></a>          block.moveToDock();
<a name="l127"><span class="linenum"> 127</span></a>      }
<a name="l128"><span class="linenum"> 128</span></a>  };
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * Fixes the title orientation. Rotating it if required.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> *</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * @static</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * @method fixTitleOrientation</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * @param {Node} title The title node we are looking at.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @param {String} text The string to use as the title.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> * @return {Node} The title node to use.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment"> */</span>
<a name="l139"><span class="linenum"> 139</span></a>  M.core.dock.fixTitleOrientation = function(title, text) {
<a name="l140"><span class="linenum"> 140</span></a>      var dock = M.core.dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(),
<a name="l141"><span class="linenum"> 141</span></a>          fontsize = '11px',
<a name="l142"><span class="linenum"> 142</span></a>          transform = '<a class="function" onClick="logFunction('rotate')" href="../../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(270deg)',
<a name="l143"><span class="linenum"> 143</span></a>          test,
<a name="l144"><span class="linenum"> 144</span></a>          width,
<a name="l145"><span class="linenum"> 145</span></a>          height,
<a name="l146"><span class="linenum"> 146</span></a>          container,
<a name="l147"><span class="linenum"> 147</span></a>          verticaldirection = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('thisdirectionvertical', 'langconfig');
<a name="l148"><span class="linenum"> 148</span></a>      title = Y.one(title);
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>      if (dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('orientation') !== 'vertical') {
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">        // If the dock isn't vertical don't adjust it!</span>
<a name="l152"><span class="linenum"> 152</span></a>          title.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', text);
<a name="l153"><span class="linenum"> 153</span></a>          return title;
<a name="l154"><span class="linenum"> 154</span></a>      }
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>      if (Y.UA.ie &gt; 0 &amp;&amp; Y.UA.ie &lt; 8) {
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">        // IE 6/7 can't rotate text so force ver</span>
<a name="l158"><span class="linenum"> 158</span></a>          verticaldirection = 'ver';
<a name="l159"><span class="linenum"> 159</span></a>      }
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>      switch (verticaldirection) {
<a name="l162"><span class="linenum"> 162</span></a>          case 'ver':
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">            // Stacked is easy</span>
<a name="l164"><span class="linenum"> 164</span></a>              return title.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', text.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('').<a class="function" onClick="logFunction('join')" href="../../../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('&lt;br /&gt;'));
<a name="l165"><span class="linenum"> 165</span></a>          case 'ttb':
<a name="l166"><span class="linenum"> 166</span></a>              transform = '<a class="function" onClick="logFunction('rotate')" href="../../../../_functions/rotate.html" onMouseOver="funcPopup(event,'rotate')">rotate</a>(90deg)';
<a name="l167"><span class="linenum"> 167</span></a>              break;
<a name="l168"><span class="linenum"> 168</span></a>          case 'btt':
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">            // Nothing to do here. transform default is good.</span>
<a name="l170"><span class="linenum"> 170</span></a>              break;
<a name="l171"><span class="linenum"> 171</span></a>      }
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>      if (Y.UA.ie === 8) {
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">        // IE8 can flip the text via CSS but not handle transform. IE9+ can handle the CSS3 transform attribute.</span>
<a name="l175"><span class="linenum"> 175</span></a>          title.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', text);
<a name="l176"><span class="linenum"> 176</span></a>          title.<a class="function" onClick="logFunction('setAttribute')" href="../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('style', 'writing-mode: tb-rl; filter: flipV flipH;display:inline;');
<a name="l177"><span class="linenum"> 177</span></a>          title.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('filterrotate');
<a name="l178"><span class="linenum"> 178</span></a>          return title;
<a name="l179"><span class="linenum"> 179</span></a>      }
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">    // We need to fix a font-size - sorry theme designers.</span>
<a name="l182"><span class="linenum"> 182</span></a>      test = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;h2 class=&quot;transform-test-heading&quot;&gt;&lt;span class=&quot;transform-test-node&quot; style=&quot;font-size:' +
<a name="l183"><span class="linenum"> 183</span></a>              fontsize + ';&quot;&gt;' + text + '&lt;/span&gt;&lt;/h2&gt;');
<a name="l184"><span class="linenum"> 184</span></a>      BODY.<a class="function" onClick="logFunction('insert')" href="../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(test, 0);
<a name="l185"><span class="linenum"> 185</span></a>      width = test.one('span').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetWidth') * 1.2;
<a name="l186"><span class="linenum"> 186</span></a>      height = test.one('span').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight');
<a name="l187"><span class="linenum"> 187</span></a>      test.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>      title.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', text);
<a name="l190"><span class="linenum"> 190</span></a>      title.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('css3transform');
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">    // Move the title into position</span>
<a name="l193"><span class="linenum"> 193</span></a>      title.<a class="function" onClick="logFunction('setStyles')" href="../../../../_functions/setstyles.html" onMouseOver="funcPopup(event,'setstyles')">setStyles</a>({
<a name="l194"><span class="linenum"> 194</span></a>          'position': 'relative',
<a name="l195"><span class="linenum"> 195</span></a>          'fontSize': fontsize,
<a name="l196"><span class="linenum"> 196</span></a>          'width': width,
<a name="l197"><span class="linenum"> 197</span></a>          'top': (width - height) / 2
<a name="l198"><span class="linenum"> 198</span></a>      });
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">    // Positioning is different when in RTL mode.</span>
<a name="l201"><span class="linenum"> 201</span></a>      if (window.<a class="function" onClick="logFunction('right_to_left')" href="../../../../_functions/right_to_left.html" onMouseOver="funcPopup(event,'right_to_left')">right_to_left</a>()) {
<a name="l202"><span class="linenum"> 202</span></a>          title.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('left', width / 2 - height);
<a name="l203"><span class="linenum"> 203</span></a>      } else {
<a name="l204"><span class="linenum"> 204</span></a>          title.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('right', width / 2 - height);
<a name="l205"><span class="linenum"> 205</span></a>      }
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">    // Rotate the text</span>
<a name="l208"><span class="linenum"> 208</span></a>      title.<a class="function" onClick="logFunction('setStyles')" href="../../../../_functions/setstyles.html" onMouseOver="funcPopup(event,'setstyles')">setStyles</a>({
<a name="l209"><span class="linenum"> 209</span></a>          'transform': transform,
<a name="l210"><span class="linenum"> 210</span></a>          '-ms-transform': transform,
<a name="l211"><span class="linenum"> 211</span></a>          '-moz-transform': transform,
<a name="l212"><span class="linenum"> 212</span></a>          '-webkit-transform': transform,
<a name="l213"><span class="linenum"> 213</span></a>          '-o-transform': transform
<a name="l214"><span class="linenum"> 214</span></a>      });
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>      container = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div&gt;&lt;/div&gt;');
<a name="l217"><span class="linenum"> 217</span></a>      container.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(title);
<a name="l218"><span class="linenum"> 218</span></a>      container.<a class="function" onClick="logFunction('setStyles')" href="../../../../_functions/setstyles.html" onMouseOver="funcPopup(event,'setstyles')">setStyles</a>({
<a name="l219"><span class="linenum"> 219</span></a>          height: width + (width / 4),
<a name="l220"><span class="linenum"> 220</span></a>          position: 'relative'
<a name="l221"><span class="linenum"> 221</span></a>      });
<a name="l222"><span class="linenum"> 222</span></a>      return container;
<a name="l223"><span class="linenum"> 223</span></a>  };
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">/**</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment"> * Informs the dock that the content of the block has changed.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment"> * This should be called by the blocks JS code if its content has been updated dynamically.</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment"> * This method ensure the dock resizes if need be.</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment"> *</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment"> * @static</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment"> * @method notifyBlockChange</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment"> * @param {Number} instanceid</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> * @return void</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment"> */</span>
<a name="l235"><span class="linenum"> 235</span></a>  M.core.dock.notifyBlockChange = function(instanceid) {
<a name="l236"><span class="linenum"> 236</span></a>      if (this._dock !== null) {
<a name="l237"><span class="linenum"> 237</span></a>          var dock = M.core.dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(),
<a name="l238"><span class="linenum"> 238</span></a>              activeitem = dock.getActiveItem();
<a name="l239"><span class="linenum"> 239</span></a>          if (activeitem &amp;&amp; activeitem.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('blockinstanceid') === parseInt(instanceid, 10)) {
<a name="l240"><span class="linenum"> 240</span></a>              dock.resizePanelIfRequired();
<a name="l241"><span class="linenum"> 241</span></a>          }
<a name="l242"><span class="linenum"> 242</span></a>      }
<a name="l243"><span class="linenum"> 243</span></a>  };
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">/**</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> * The Dock.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> *</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment"> * @class Dock</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment"> * @constructor</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment"> * @extends Base</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment"> * @uses EventTarget</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment"> */</span>
<a name="l254"><span class="linenum"> 254</span></a>  DOCK = function() {
<a name="l255"><span class="linenum"> 255</span></a>      DOCK.superclass.constructor.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l256"><span class="linenum"> 256</span></a>  };
<a name="l257"><span class="linenum"> 257</span></a>  DOCK.prototype = {
<a name="l258"><span class="linenum"> 258</span></a>      <span class="comment">/**</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     * Tab height manager used to ensure tabs are always visible.</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * @protected</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * @property tabheightmanager</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * @type TABHEIGHTMANAGER</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     */</span>
<a name="l264"><span class="linenum"> 264</span></a>      tabheightmanager: null,
<a name="l265"><span class="linenum"> 265</span></a>      <span class="comment">/**</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     * Will be an eventtype if there is an eventype to prevent.</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @protected</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * @property preventevent</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     * @type String</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     */</span>
<a name="l271"><span class="linenum"> 271</span></a>      preventevent: null,
<a name="l272"><span class="linenum"> 272</span></a>      <span class="comment">/**</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * Will be an object if there is a delayed event in effect.</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * @protected</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * @property delayedevent</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @type {Object}</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     */</span>
<a name="l278"><span class="linenum"> 278</span></a>      delayedevent: null,
<a name="l279"><span class="linenum"> 279</span></a>      <span class="comment">/**</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * An array of currently docked items.</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * @protected</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * @property dockeditems</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     * @type Array</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     */</span>
<a name="l285"><span class="linenum"> 285</span></a>      dockeditems: [],
<a name="l286"><span class="linenum"> 286</span></a>      <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     * Set to true once the dock has been drawn.</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @protected</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * @property dockdrawn</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * @type Boolean</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     */</span>
<a name="l292"><span class="linenum"> 292</span></a>      dockdrawn: false,
<a name="l293"><span class="linenum"> 293</span></a>      <span class="comment">/**</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * The number of blocks that are currently docked.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * @protected</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * @property count</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @type Number</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     */</span>
<a name="l299"><span class="linenum"> 299</span></a>      count: 0,
<a name="l300"><span class="linenum"> 300</span></a>      <span class="comment">/**</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * The total number of blocks that have been docked.</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * @protected</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     * @property totalcount</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * @type Number</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     */</span>
<a name="l306"><span class="linenum"> 306</span></a>      totalcount: 0,
<a name="l307"><span class="linenum"> 307</span></a>      <span class="comment">/**</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     * A hidden node used as a holding area for DOM objects used by blocks that have been docked.</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * @protected</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     * @property holdingareanode</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * @type Node</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     */</span>
<a name="l313"><span class="linenum"> 313</span></a>      holdingareanode: null,
<a name="l314"><span class="linenum"> 314</span></a>      <span class="comment">/**</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * Called during the initialisation process of the object.</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @method initializer</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     */</span>
<a name="l318"><span class="linenum"> 318</span></a>      initializer: function() {
<a name="l319"><span class="linenum"> 319</span></a>  
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">        // Publish the events the dock has</span>
<a name="l321"><span class="linenum"> 321</span></a>          <span class="comment">/**</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">         * Fired when the dock first starts initialising.</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">         * @event dock:starting</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">         */</span>
<a name="l325"><span class="linenum"> 325</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:starting', {prefix: 'dock', broadcast:  2, emitFacade: true, fireOnce: true});
<a name="l326"><span class="linenum"> 326</span></a>          <span class="comment">/**</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">         * Fired after the dock is initialised for the first time.</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">         * @event dock:initialised</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">         */</span>
<a name="l330"><span class="linenum"> 330</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:initialised', {prefix: 'dock', broadcast:  2, emitFacade: true, fireOnce: true});
<a name="l331"><span class="linenum"> 331</span></a>          <span class="comment">/**</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">         * Fired before the dock structure and content is first created.</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">         * @event dock:beforedraw</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">         */</span>
<a name="l335"><span class="linenum"> 335</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:beforedraw', {prefix: 'dock', fireOnce: true});
<a name="l336"><span class="linenum"> 336</span></a>          <span class="comment">/**</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">         * Fired before the dock is changed from hidden to visible.</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">         * @event dock:beforeshow</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">         */</span>
<a name="l340"><span class="linenum"> 340</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:beforeshow', {prefix: 'dock'});
<a name="l341"><span class="linenum"> 341</span></a>          <span class="comment">/**</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">         * Fires after the dock has been changed from hidden to visible.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">         * @event dock:shown</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">         */</span>
<a name="l345"><span class="linenum"> 345</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:shown', {prefix: 'dock', broadcast: 2});
<a name="l346"><span class="linenum"> 346</span></a>          <span class="comment">/**</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">         * Fired after the dock has been changed from visible to hidden.</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">         * @event dock:hidden</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">         */</span>
<a name="l350"><span class="linenum"> 350</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:hidden', {prefix: 'dock', broadcast: 2});
<a name="l351"><span class="linenum"> 351</span></a>          <span class="comment">/**</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">         * Fires when an item is added to the dock.</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">         * @event dock:itemadded</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">         */</span>
<a name="l355"><span class="linenum"> 355</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:itemadded', {prefix: 'dock'});
<a name="l356"><span class="linenum"> 356</span></a>          <span class="comment">/**</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">         * Fires when an item is removed from the dock.</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">         * @event dock:itemremoved</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">         */</span>
<a name="l360"><span class="linenum"> 360</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:itemremoved', {prefix: 'dock'});
<a name="l361"><span class="linenum"> 361</span></a>          <span class="comment">/**</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">         * Fires when a block is added or removed from the dock.</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">         * This happens after the itemadded and itemremoved events have been called.</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">         * @event dock:itemschanged</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">         */</span>
<a name="l366"><span class="linenum"> 366</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:itemschanged', {prefix: 'dock', broadcast: 2});
<a name="l367"><span class="linenum"> 367</span></a>          <span class="comment">/**</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">         * Fires once when the docks panel is first initialised.</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">         * @event dock:panelgenerated</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">         */</span>
<a name="l371"><span class="linenum"> 371</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:panelgenerated', {prefix: 'dock', fireOnce: true});
<a name="l372"><span class="linenum"> 372</span></a>          <span class="comment">/**</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">         * Fires when the dock panel is about to be resized.</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">         * @event dock:panelresizestart</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">         */</span>
<a name="l376"><span class="linenum"> 376</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:panelresizestart', {prefix: 'dock'});
<a name="l377"><span class="linenum"> 377</span></a>          <span class="comment">/**</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">         * Fires after the dock panel has been resized.</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">         * @event dock:resizepanelcomplete</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">         */</span>
<a name="l381"><span class="linenum"> 381</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dock:resizepanelcomplete', {prefix: 'dock'});
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">        // Apply theme customisations here before we do any real work.</span>
<a name="l384"><span class="linenum"> 384</span></a>          this._applyThemeCustomisation();
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">        // Inform everyone we are now about to initialise.</span>
<a name="l386"><span class="linenum"> 386</span></a>          this.fire('dock:starting');
<a name="l387"><span class="linenum"> 387</span></a>          this._ensureDockDrawn();
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">        // Inform everyone the dock has been initialised</span>
<a name="l389"><span class="linenum"> 389</span></a>          this.fire('dock:initialised');
<a name="l390"><span class="linenum"> 390</span></a>      },
<a name="l391"><span class="linenum"> 391</span></a>      <span class="comment">/**</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     * Ensures that the dock has been drawn.</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">     * @private</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     * @method _ensureDockDrawn</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">     */</span>
<a name="l397"><span class="linenum"> 397</span></a>      _ensureDockDrawn: function() {
<a name="l398"><span class="linenum"> 398</span></a>          if (this.dockdrawn === true) {
<a name="l399"><span class="linenum"> 399</span></a>              return true;
<a name="l400"><span class="linenum"> 400</span></a>          }
<a name="l401"><span class="linenum"> 401</span></a>          var dock = this._initialiseDockNode(),
<a name="l402"><span class="linenum"> 402</span></a>              clickargs = {
<a name="l403"><span class="linenum"> 403</span></a>                  cssselector: '.' + CSS.dockedtitle,
<a name="l404"><span class="linenum"> 404</span></a>                  delay: 0
<a name="l405"><span class="linenum"> 405</span></a>              },
<a name="l406"><span class="linenum"> 406</span></a>              mouseenterargs = {
<a name="l407"><span class="linenum"> 407</span></a>                  cssselector: '.' + CSS.dockedtitle,
<a name="l408"><span class="linenum"> 408</span></a>                  delay: 0.5,
<a name="l409"><span class="linenum"> 409</span></a>                  iscontained: true,
<a name="l410"><span class="linenum"> 410</span></a>                  preventevent: 'click',
<a name="l411"><span class="linenum"> 411</span></a>                  preventdelay: 3
<a name="l412"><span class="linenum"> 412</span></a>              };
<a name="l413"><span class="linenum"> 413</span></a>          if (Y.UA.ie &gt; 0 &amp;&amp; Y.UA.ie &lt; 7) {
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">            // Adjust for IE 6 (can't handle fixed pos)</span>
<a name="l415"><span class="linenum"> 415</span></a>              dock.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('height', dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('winHeight') + 'px');
<a name="l416"><span class="linenum"> 416</span></a>          }
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>          this.fire('dock:beforedraw');
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>          this._initialiseDockControls();
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>          this.tabheightmanager = new TABHEIGHTMANAGER({dock: this});
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">        // Attach the required event listeners</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">        // We use delegate here as that way a handful of events are created for the dock</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">        // and all items rather than the same number for the dock AND every item individually</span>
<a name="l427"><span class="linenum"> 427</span></a>          Y.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('click', this.handleEvent, this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'), '.' + CSS.dockedtitle, this, clickargs);
<a name="l428"><span class="linenum"> 428</span></a>          Y.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('mouseenter', this.handleEvent, this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'), '.' + CSS.dockedtitle, this, mouseenterargs);
<a name="l429"><span class="linenum"> 429</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('mouseleave', this.handleEvent, this, {cssselector: '#dock', delay: 0.5, iscontained: false});
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>          Y.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('click', this.handleReturnToBlock, this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'), SELECTOR.panelmoveto, this);
<a name="l432"><span class="linenum"> 432</span></a>          Y.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>('dock:actionkey', this.handleDockedItemEvent, this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'), '.' + CSS.dockeditem, this);
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>          BODY.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', this.handleEvent, this, {cssselector: 'body', delay: 0});
<a name="l435"><span class="linenum"> 435</span></a>          this.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:itemschanged', this.resizeBlockSpace, this);
<a name="l436"><span class="linenum"> 436</span></a>          this.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:itemschanged', this.checkDockVisibility, this);
<a name="l437"><span class="linenum"> 437</span></a>          this.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:itemschanged', this.resetFirstItem, this);
<a name="l438"><span class="linenum"> 438</span></a>          this.dockdrawn = true;
<a name="l439"><span class="linenum"> 439</span></a>          return true;
<a name="l440"><span class="linenum"> 440</span></a>      },
<a name="l441"><span class="linenum"> 441</span></a>      <span class="comment">/**</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     * Handles an actionkey event on the dock.</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     * @param {EventFacade} e</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * @method handleDockedItemEvent</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     */</span>
<a name="l447"><span class="linenum"> 447</span></a>      handleDockedItemEvent: function(e) {
<a name="l448"><span class="linenum"> 448</span></a>          if (e.type !== 'dock:actionkey') {
<a name="l449"><span class="linenum"> 449</span></a>              return false;
<a name="l450"><span class="linenum"> 450</span></a>          }
<a name="l451"><span class="linenum"> 451</span></a>          var target = e.target,
<a name="l452"><span class="linenum"> 452</span></a>              dockeditem = '.' + CSS.dockeditem;
<a name="l453"><span class="linenum"> 453</span></a>          if (!target.test(dockeditem)) {
<a name="l454"><span class="linenum"> 454</span></a>              target = target.ancestor(dockeditem);
<a name="l455"><span class="linenum"> 455</span></a>          }
<a name="l456"><span class="linenum"> 456</span></a>          if (!target) {
<a name="l457"><span class="linenum"> 457</span></a>              return false;
<a name="l458"><span class="linenum"> 458</span></a>          }
<a name="l459"><span class="linenum"> 459</span></a>          e.halt();
<a name="l460"><span class="linenum"> 460</span></a>          this.dockeditems[target.<a class="function" onClick="logFunction('getAttribute')" href="../../../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('rel')].<a class="function" onClick="logFunction('toggle')" href="../../../../_functions/toggle.html" onMouseOver="funcPopup(event,'toggle')">toggle</a>(e.action);
<a name="l461"><span class="linenum"> 461</span></a>      },
<a name="l462"><span class="linenum"> 462</span></a>      <span class="comment">/**</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     * Call the theme customisation method &quot;customise_dock_for_theme&quot; if it exists.</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * @private</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     * @method _applyThemeCustomisation</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     */</span>
<a name="l467"><span class="linenum"> 467</span></a>      _applyThemeCustomisation: function() {
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">        // Check if there is a customisation function</span>
<a name="l469"><span class="linenum"> 469</span></a>          if (typeof (customise_dock_for_theme) === 'function') {
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">            // First up pre the legacy object.</span>
<a name="l471"><span class="linenum"> 471</span></a>              M.core_dock = this;
<a name="l472"><span class="linenum"> 472</span></a>              M.core_dock.cfg = {
<a name="l473"><span class="linenum"> 473</span></a>                  buffer: null,
<a name="l474"><span class="linenum"> 474</span></a>                  orientation: null,
<a name="l475"><span class="linenum"> 475</span></a>                  position: null,
<a name="l476"><span class="linenum"> 476</span></a>                  spacebeforefirstitem: null,
<a name="l477"><span class="linenum"> 477</span></a>                  removeallicon: null
<a name="l478"><span class="linenum"> 478</span></a>              };
<a name="l479"><span class="linenum"> 479</span></a>              M.core_dock.css = {
<a name="l480"><span class="linenum"> 480</span></a>                  dock: null,
<a name="l481"><span class="linenum"> 481</span></a>                  dockspacer: null,
<a name="l482"><span class="linenum"> 482</span></a>                  controls: null,
<a name="l483"><span class="linenum"> 483</span></a>                  body: null,
<a name="l484"><span class="linenum"> 484</span></a>                  buttonscontainer: null,
<a name="l485"><span class="linenum"> 485</span></a>                  dockeditem: null,
<a name="l486"><span class="linenum"> 486</span></a>                  dockeditemcontainer: null,
<a name="l487"><span class="linenum"> 487</span></a>                  dockedtitle: null,
<a name="l488"><span class="linenum"> 488</span></a>                  activeitem: null
<a name="l489"><span class="linenum"> 489</span></a>              };
<a name="l490"><span class="linenum"> 490</span></a>              try {
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">                // Run the customisation function</span>
<a name="l492"><span class="linenum"> 492</span></a>                  window.<a class="function" onClick="logFunction('customise_dock_for_theme')" href="../../../../_functions/customise_dock_for_theme.html" onMouseOver="funcPopup(event,'customise_dock_for_theme')">customise_dock_for_theme</a>(this);
<a name="l493"><span class="linenum"> 493</span></a>              } catch (exception) {
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">                // Do nothing at the moment.</span>
<a name="l495"><span class="linenum"> 495</span></a>              }
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">            // Now to work out what they did.</span>
<a name="l497"><span class="linenum"> 497</span></a>              var key, value,
<a name="l498"><span class="linenum"> 498</span></a>                  warned = false,
<a name="l499"><span class="linenum"> 499</span></a>                  cfgmap = {
<a name="l500"><span class="linenum"> 500</span></a>                      buffer: 'bufferPanel',
<a name="l501"><span class="linenum"> 501</span></a>                      orientation: 'orientation',
<a name="l502"><span class="linenum"> 502</span></a>                      position: 'position',
<a name="l503"><span class="linenum"> 503</span></a>                      spacebeforefirstitem: 'bufferBeforeFirstItem',
<a name="l504"><span class="linenum"> 504</span></a>                      removeallicon: 'undockAllIconUrl'
<a name="l505"><span class="linenum"> 505</span></a>                  };
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">            // Check for and apply any legacy configuration.</span>
<a name="l507"><span class="linenum"> 507</span></a>              for (key in M.core_dock.cfg) {
<a name="l508"><span class="linenum"> 508</span></a>                  if (Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(key) &amp;&amp; cfgmap[key]) {
<a name="l509"><span class="linenum"> 509</span></a>                      value = M.core_dock.cfg[key];
<a name="l510"><span class="linenum"> 510</span></a>                      if (value === null) {
<a name="l511"><span class="linenum"> 511</span></a>                          continue;
<a name="l512"><span class="linenum"> 512</span></a>                      }
<a name="l513"><span class="linenum"> 513</span></a>                      if (!warned) {
<a name="l514"><span class="linenum"> 514</span></a>                          warned = true;
<a name="l515"><span class="linenum"> 515</span></a>                      }
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">                    // Damn, the've set something.</span>
<a name="l517"><span class="linenum"> 517</span></a>                      this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>(cfgmap[key], value);
<a name="l518"><span class="linenum"> 518</span></a>                  }
<a name="l519"><span class="linenum"> 519</span></a>              }
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">            // Check for and apply any legacy CSS changes..</span>
<a name="l521"><span class="linenum"> 521</span></a>              for (key in M.core_dock.css) {
<a name="l522"><span class="linenum"> 522</span></a>                  if (Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(key)) {
<a name="l523"><span class="linenum"> 523</span></a>                      value = M.core_dock.css[key];
<a name="l524"><span class="linenum"> 524</span></a>                      if (value === null) {
<a name="l525"><span class="linenum"> 525</span></a>                          continue;
<a name="l526"><span class="linenum"> 526</span></a>                      }
<a name="l527"><span class="linenum"> 527</span></a>                      if (!warned) {
<a name="l528"><span class="linenum"> 528</span></a>                          warned = true;
<a name="l529"><span class="linenum"> 529</span></a>                      }
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">                    // Damn, they've set something.</span>
<a name="l531"><span class="linenum"> 531</span></a>                      CSS[key] = value;
<a name="l532"><span class="linenum"> 532</span></a>                  }
<a name="l533"><span class="linenum"> 533</span></a>              }
<a name="l534"><span class="linenum"> 534</span></a>          }
<a name="l535"><span class="linenum"> 535</span></a>      },
<a name="l536"><span class="linenum"> 536</span></a>      <span class="comment">/**</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     * Initialises the dock node, creating it and its content if required.</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     *</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     * @private</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @method _initialiseDockNode</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     * @return {Node} The dockNode</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     */</span>
<a name="l543"><span class="linenum"> 543</span></a>      _initialiseDockNode: function() {
<a name="l544"><span class="linenum"> 544</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'),
<a name="l545"><span class="linenum"> 545</span></a>              positionorientationclass = CSS.dock + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('position') + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('orientation'),
<a name="l546"><span class="linenum"> 546</span></a>              holdingarea = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div&gt;&lt;/div&gt;').<a class="function" onClick="logFunction('setStyles')" href="../../../../_functions/setstyles.html" onMouseOver="funcPopup(event,'setstyles')">setStyles</a>({display: 'none'}),
<a name="l547"><span class="linenum"> 547</span></a>              buttons = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('buttonsNode'),
<a name="l548"><span class="linenum"> 548</span></a>              container = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('itemContainerNode');
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          if (!dock) {
<a name="l551"><span class="linenum"> 551</span></a>              dock = Y.one('#' + CSS.dock);
<a name="l552"><span class="linenum"> 552</span></a>          }
<a name="l553"><span class="linenum"> 553</span></a>          if (!dock) {
<a name="l554"><span class="linenum"> 554</span></a>              dock = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div id=&quot;' + CSS.dock + '&quot;&gt;&lt;/div&gt;');
<a name="l555"><span class="linenum"> 555</span></a>              BODY.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(dock);
<a name="l556"><span class="linenum"> 556</span></a>          }
<a name="l557"><span class="linenum"> 557</span></a>          dock.<a class="function" onClick="logFunction('setAttribute')" href="../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('role', 'menubar').<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(positionorientationclass);
<a name="l558"><span class="linenum"> 558</span></a>          if (Y.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>(SELECTOR.dockonload).<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() === 0) {
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">            // Nothing on the dock... hide it using CSS</span>
<a name="l560"><span class="linenum"> 560</span></a>              dock.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('nothingdocked');
<a name="l561"><span class="linenum"> 561</span></a>          } else {
<a name="l562"><span class="linenum"> 562</span></a>              positionorientationclass = CSS.body + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('position') + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('orientation');
<a name="l563"><span class="linenum"> 563</span></a>              BODY.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(CSS.body).<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>();
<a name="l564"><span class="linenum"> 564</span></a>          }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>          if (!buttons) {
<a name="l567"><span class="linenum"> 567</span></a>              buttons = dock.one('.' + CSS.buttonscontainer);
<a name="l568"><span class="linenum"> 568</span></a>          }
<a name="l569"><span class="linenum"> 569</span></a>          if (!buttons) {
<a name="l570"><span class="linenum"> 570</span></a>              buttons = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;' + CSS.buttonscontainer + '&quot;&gt;&lt;/div&gt;');
<a name="l571"><span class="linenum"> 571</span></a>              dock.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(buttons);
<a name="l572"><span class="linenum"> 572</span></a>          }
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>          if (!container) {
<a name="l575"><span class="linenum"> 575</span></a>              container = dock.one('.' + CSS.dockeditemcontainer);
<a name="l576"><span class="linenum"> 576</span></a>          }
<a name="l577"><span class="linenum"> 577</span></a>          if (!container) {
<a name="l578"><span class="linenum"> 578</span></a>              container = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;' + CSS.dockeditemcontainer + '&quot;&gt;&lt;/div&gt;');
<a name="l579"><span class="linenum"> 579</span></a>              buttons.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(container);
<a name="l580"><span class="linenum"> 580</span></a>          }
<a name="l581"><span class="linenum"> 581</span></a>  
<a name="l582"><span class="linenum"> 582</span></a>          BODY.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(holdingarea);
<a name="l583"><span class="linenum"> 583</span></a>          this.holdingareanode = holdingarea;
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('dockNode', dock);
<a name="l586"><span class="linenum"> 586</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('buttonsNode', buttons);
<a name="l587"><span class="linenum"> 587</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('itemContainerNode', container);
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>          return dock;
<a name="l590"><span class="linenum"> 590</span></a>      },
<a name="l591"><span class="linenum"> 591</span></a>      <span class="comment">/**</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * Initialises the dock controls.</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     *</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">     * @private</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">     * @method _initialiseDockControls</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">     */</span>
<a name="l597"><span class="linenum"> 597</span></a>      _initialiseDockControls: function() {
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment">        // Add a removeall button</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">        // Must set the image src seperatly of we get an error with XML strict headers</span>
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>          var removeall = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;img alt=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('undockall', 'block') + '&quot; tabindex=&quot;0&quot; /&gt;');
<a name="l602"><span class="linenum"> 602</span></a>          removeall.<a class="function" onClick="logFunction('setAttribute')" href="../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('src', this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('undockAllIconUrl'));
<a name="l603"><span class="linenum"> 603</span></a>          removeall.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('removeall|click', this.removeAll, this);
<a name="l604"><span class="linenum"> 604</span></a>          removeall.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:actionkey', this.removeAll, this, {actions: {enter: true}});
<a name="l605"><span class="linenum"> 605</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('buttonsNode').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;' + CSS.controls + '&quot;&gt;&lt;/div&gt;').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(removeall));
<a name="l606"><span class="linenum"> 606</span></a>      },
<a name="l607"><span class="linenum"> 607</span></a>      <span class="comment">/**</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">     * Returns the dock panel. Initialising it if it hasn't already been initialised.</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">     * @method getPanel</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * @return {DOCKPANEL}</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     */</span>
<a name="l612"><span class="linenum"> 612</span></a>      getPanel: function() {
<a name="l613"><span class="linenum"> 613</span></a>          var panel = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('panel');
<a name="l614"><span class="linenum"> 614</span></a>          if (!panel) {
<a name="l615"><span class="linenum"> 615</span></a>              panel = new DOCKPANEL({dock: this});
<a name="l616"><span class="linenum"> 616</span></a>              panel.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('panel:visiblechange', this.resize, this);
<a name="l617"><span class="linenum"> 617</span></a>              Y.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('windowresize', this.resize, this);
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment">            // Initialise the dockpanel .. should only happen once</span>
<a name="l619"><span class="linenum"> 619</span></a>              this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('panel', panel);
<a name="l620"><span class="linenum"> 620</span></a>              this.fire('dock:panelgenerated');
<a name="l621"><span class="linenum"> 621</span></a>          }
<a name="l622"><span class="linenum"> 622</span></a>          return panel;
<a name="l623"><span class="linenum"> 623</span></a>      },
<a name="l624"><span class="linenum"> 624</span></a>      <span class="comment">/**</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * Resizes the dock panel if required.</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     * @method resizePanelIfRequired</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     */</span>
<a name="l628"><span class="linenum"> 628</span></a>      resizePanelIfRequired: function() {
<a name="l629"><span class="linenum"> 629</span></a>          this.<a class="function" onClick="logFunction('resize')" href="../../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>();
<a name="l630"><span class="linenum"> 630</span></a>          var panel = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('panel');
<a name="l631"><span class="linenum"> 631</span></a>          if (panel) {
<a name="l632"><span class="linenum"> 632</span></a>              panel.correctWidth();
<a name="l633"><span class="linenum"> 633</span></a>          }
<a name="l634"><span class="linenum"> 634</span></a>      },
<a name="l635"><span class="linenum"> 635</span></a>      <span class="comment">/**</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">     * Handles a dock event sending it to the right place.</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">     *</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">     * @method handleEvent</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">     * @param {EventFacade} e</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">     * @param {Object} options</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">     */</span>
<a name="l643"><span class="linenum"> 643</span></a>      handleEvent: function(e, options) {
<a name="l644"><span class="linenum"> 644</span></a>          var item = this.getActiveItem(),
<a name="l645"><span class="linenum"> 645</span></a>              target,
<a name="l646"><span class="linenum"> 646</span></a>              targetid,
<a name="l647"><span class="linenum"> 647</span></a>              regex = /^dock_item_(\d+)_title$/,
<a name="l648"><span class="linenum"> 648</span></a>              self = this;
<a name="l649"><span class="linenum"> 649</span></a>          if (options.cssselector === 'body') {
<a name="l650"><span class="linenum"> 650</span></a>              if (!this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(e.target)) {
<a name="l651"><span class="linenum"> 651</span></a>                  if (item) {
<a name="l652"><span class="linenum"> 652</span></a>                      item.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l653"><span class="linenum"> 653</span></a>                  }
<a name="l654"><span class="linenum"> 654</span></a>              }
<a name="l655"><span class="linenum"> 655</span></a>          } else {
<a name="l656"><span class="linenum"> 656</span></a>              if (e.target.test(options.cssselector)) {
<a name="l657"><span class="linenum"> 657</span></a>                  target = e.target;
<a name="l658"><span class="linenum"> 658</span></a>              } else {
<a name="l659"><span class="linenum"> 659</span></a>                  target = e.target.ancestor(options.cssselector);
<a name="l660"><span class="linenum"> 660</span></a>              }
<a name="l661"><span class="linenum"> 661</span></a>              if (!target) {
<a name="l662"><span class="linenum"> 662</span></a>                  return true;
<a name="l663"><span class="linenum"> 663</span></a>              }
<a name="l664"><span class="linenum"> 664</span></a>              if (this.preventevent !== null &amp;&amp; e.type === this.preventevent) {
<a name="l665"><span class="linenum"> 665</span></a>                  return true;
<a name="l666"><span class="linenum"> 666</span></a>              }
<a name="l667"><span class="linenum"> 667</span></a>              if (options.preventevent) {
<a name="l668"><span class="linenum"> 668</span></a>                  this.preventevent = options.preventevent;
<a name="l669"><span class="linenum"> 669</span></a>                  if (options.preventdelay) {
<a name="l670"><span class="linenum"> 670</span></a>                      <a class="function" onClick="logFunction('setTimeout')" href="../../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(function() {
<a name="l671"><span class="linenum"> 671</span></a>                          self.preventevent = null;
<a name="l672"><span class="linenum"> 672</span></a>                      }, options.preventdelay * 1000);
<a name="l673"><span class="linenum"> 673</span></a>                  }
<a name="l674"><span class="linenum"> 674</span></a>              }
<a name="l675"><span class="linenum"> 675</span></a>              if (this.delayedevent &amp;&amp; this.delayedevent.timeout) {
<a name="l676"><span class="linenum"> 676</span></a>                  clearTimeout(this.delayedevent.timeout);
<a name="l677"><span class="linenum"> 677</span></a>                  this.delayedevent.event.<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l678"><span class="linenum"> 678</span></a>                  this.delayedevent = null;
<a name="l679"><span class="linenum"> 679</span></a>              }
<a name="l680"><span class="linenum"> 680</span></a>              if (options.delay &gt; 0) {
<a name="l681"><span class="linenum"> 681</span></a>                  return this.<a class="function" onClick="logFunction('delayEvent')" href="../../../../_functions/delayevent.html" onMouseOver="funcPopup(event,'delayevent')">delayEvent</a>(e, options, target);
<a name="l682"><span class="linenum"> 682</span></a>              }
<a name="l683"><span class="linenum"> 683</span></a>              targetid = target.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id');
<a name="l684"><span class="linenum"> 684</span></a>              if (targetid.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(regex)) {
<a name="l685"><span class="linenum"> 685</span></a>                  item = this.dockeditems[targetid.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(regex, '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../../../_variables/1.html">$1</a>')];
<a name="l686"><span class="linenum"> 686</span></a>                  if (item.active) {
<a name="l687"><span class="linenum"> 687</span></a>                      item.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l688"><span class="linenum"> 688</span></a>                  } else {
<a name="l689"><span class="linenum"> 689</span></a>                      item.<a class="function" onClick="logFunction('show')" href="../../../../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l690"><span class="linenum"> 690</span></a>                  }
<a name="l691"><span class="linenum"> 691</span></a>              } else if (item) {
<a name="l692"><span class="linenum"> 692</span></a>                  item.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l693"><span class="linenum"> 693</span></a>              }
<a name="l694"><span class="linenum"> 694</span></a>          }
<a name="l695"><span class="linenum"> 695</span></a>          return true;
<a name="l696"><span class="linenum"> 696</span></a>      },
<a name="l697"><span class="linenum"> 697</span></a>      <span class="comment">/**</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     * Delays an event.</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment">     *</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">     * @method delayEvent</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">     * @param {EventFacade} event</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">     * @param {Object} options</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">     * @param {Node} target</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">     */</span>
<a name="l706"><span class="linenum"> 706</span></a>      delayEvent: function(event, options, target) {
<a name="l707"><span class="linenum"> 707</span></a>          var self = this;
<a name="l708"><span class="linenum"> 708</span></a>          self.delayedevent = (function() {
<a name="l709"><span class="linenum"> 709</span></a>              return {
<a name="l710"><span class="linenum"> 710</span></a>                  target: target,
<a name="l711"><span class="linenum"> 711</span></a>                  event: BODY.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('mousemove', function(e) {
<a name="l712"><span class="linenum"> 712</span></a>                      self.delayedevent.target = e.target;
<a name="l713"><span class="linenum"> 713</span></a>                  }),
<a name="l714"><span class="linenum"> 714</span></a>                  timeout: null
<a name="l715"><span class="linenum"> 715</span></a>              };
<a name="l716"><span class="linenum"> 716</span></a>          })(self);
<a name="l717"><span class="linenum"> 717</span></a>          self.delayedevent.timeout = <a class="function" onClick="logFunction('setTimeout')" href="../../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(function() {
<a name="l718"><span class="linenum"> 718</span></a>              self.delayedevent.timeout = null;
<a name="l719"><span class="linenum"> 719</span></a>              self.delayedevent.event.<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l720"><span class="linenum"> 720</span></a>              if (options.iscontained === self.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(self.delayedevent.target)) {
<a name="l721"><span class="linenum"> 721</span></a>                  self.handleEvent(event, {cssselector: options.cssselector, delay: 0, iscontained: options.iscontained});
<a name="l722"><span class="linenum"> 722</span></a>              }
<a name="l723"><span class="linenum"> 723</span></a>          }, options.delay * 1000);
<a name="l724"><span class="linenum"> 724</span></a>          return true;
<a name="l725"><span class="linenum"> 725</span></a>      },
<a name="l726"><span class="linenum"> 726</span></a>      <span class="comment">/**</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">     * Resizes block spaces.</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">     * @method resizeBlockSpace</span>
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment">     */</span>
<a name="l730"><span class="linenum"> 730</span></a>      resizeBlockSpace: function() {
<a name="l731"><span class="linenum"> 731</span></a>          if (Y.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>(SELECTOR.dockonload).<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() &gt; 0) {
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">            // Do not resize during initial load</span>
<a name="l733"><span class="linenum"> 733</span></a>              return;
<a name="l734"><span class="linenum"> 734</span></a>          }
<a name="l735"><span class="linenum"> 735</span></a>  
<a name="l736"><span class="linenum"> 736</span></a>          var populatedRegionCount = 0,
<a name="l737"><span class="linenum"> 737</span></a>              populatedBlockRegions = [],
<a name="l738"><span class="linenum"> 738</span></a>              unpopulatedBlockRegions = [],
<a name="l739"><span class="linenum"> 739</span></a>              isMoving = false,
<a name="l740"><span class="linenum"> 740</span></a>              populatedLegacyRegions = [],
<a name="l741"><span class="linenum"> 741</span></a>              containsLegacyRegions = false,
<a name="l742"><span class="linenum"> 742</span></a>              classesToAdd = [],
<a name="l743"><span class="linenum"> 743</span></a>              classesToRemove = [];
<a name="l744"><span class="linenum"> 744</span></a>  
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">        // First look for understood regions.</span>
<a name="l746"><span class="linenum"> 746</span></a>          Y.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>(SELECTOR.blockregion).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(region) {
<a name="l747"><span class="linenum"> 747</span></a>              var regionname = region.<a class="function" onClick="logFunction('getData')" href="../../../../_functions/getdata.html" onMouseOver="funcPopup(event,'getdata')">getData</a>('blockregion');
<a name="l748"><span class="linenum"> 748</span></a>              if (region.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('.block').<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() &gt; 0) {
<a name="l749"><span class="linenum"> 749</span></a>                  populatedBlockRegions.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname);
<a name="l750"><span class="linenum"> 750</span></a>                  populatedRegionCount++;
<a name="l751"><span class="linenum"> 751</span></a>              } else if (region.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('.block_dock_placeholder').<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() &gt; 0) {
<a name="l752"><span class="linenum"> 752</span></a>                  unpopulatedBlockRegions.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname);
<a name="l753"><span class="linenum"> 753</span></a>              }
<a name="l754"><span class="linenum"> 754</span></a>          });
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment">        // Next check for legacy regions.</span>
<a name="l757"><span class="linenum"> 757</span></a>          Y.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('.block-region').<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(region) {
<a name="l758"><span class="linenum"> 758</span></a>              if (region.test(SELECTOR.blockregion)) {
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment">                // This is a new region, we've already processed it.</span>
<a name="l760"><span class="linenum"> 760</span></a>                  return;
<a name="l761"><span class="linenum"> 761</span></a>              }
<a name="l762"><span class="linenum"> 762</span></a>  
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">            // Sigh - there are legacy regions.</span>
<a name="l764"><span class="linenum"> 764</span></a>              containsLegacyRegions = true;
<a name="l765"><span class="linenum"> 765</span></a>  
<a name="l766"><span class="linenum"> 766</span></a>              var regionname = region.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id').<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/^region\-/, 'side-'),
<a name="l767"><span class="linenum"> 767</span></a>                  hasblocks = (region.<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('.block').<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() &gt; 0);
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>              if (hasblocks) {
<a name="l770"><span class="linenum"> 770</span></a>                  populatedLegacyRegions.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname);
<a name="l771"><span class="linenum"> 771</span></a>                  populatedRegionCount++;
<a name="l772"><span class="linenum"> 772</span></a>              } else {
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">                // This legacy region has no blocks so cannot have the -only body tag.</span>
<a name="l774"><span class="linenum"> 774</span></a>                  classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(
<a name="l775"><span class="linenum"> 775</span></a>                          regionname + '-only'
<a name="l776"><span class="linenum"> 776</span></a>                      );
<a name="l777"><span class="linenum"> 777</span></a>              }
<a name="l778"><span class="linenum"> 778</span></a>          });
<a name="l779"><span class="linenum"> 779</span></a>  
<a name="l780"><span class="linenum"> 780</span></a>          if (BODY.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('blocks-moving')) {
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">            // When we're moving blocks, we do not want to collapse.</span>
<a name="l782"><span class="linenum"> 782</span></a>              isMoving = true;
<a name="l783"><span class="linenum"> 783</span></a>          }
<a name="l784"><span class="linenum"> 784</span></a>  
<a name="l785"><span class="linenum"> 785</span></a>          Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(unpopulatedBlockRegions, function(regionname) {
<a name="l786"><span class="linenum"> 786</span></a>              classesToAdd.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment">                    // This block region is empty.</span>
<a name="l788"><span class="linenum"> 788</span></a>                      'empty-region-' + regionname,
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">                    // Which has the same effect as being docked.</span>
<a name="l791"><span class="linenum"> 791</span></a>                      'docked-region-' + regionname
<a name="l792"><span class="linenum"> 792</span></a>                  );
<a name="l793"><span class="linenum"> 793</span></a>              classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">                    // It is no-longer used.</span>
<a name="l795"><span class="linenum"> 795</span></a>                      'used-region-' + regionname,
<a name="l796"><span class="linenum"> 796</span></a>  
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">                    // It cannot be the only region on screen if it is empty.</span>
<a name="l798"><span class="linenum"> 798</span></a>                      regionname + '-only'
<a name="l799"><span class="linenum"> 799</span></a>                  );
<a name="l800"><span class="linenum"> 800</span></a>          }, this);
<a name="l801"><span class="linenum"> 801</span></a>  
<a name="l802"><span class="linenum"> 802</span></a>          Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(populatedBlockRegions, function(regionname) {
<a name="l803"><span class="linenum"> 803</span></a>              classesToAdd.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">                    // This block region is in use.</span>
<a name="l805"><span class="linenum"> 805</span></a>                      'used-region-' + regionname
<a name="l806"><span class="linenum"> 806</span></a>                  );
<a name="l807"><span class="linenum"> 807</span></a>              classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">                    // It is not empty.</span>
<a name="l809"><span class="linenum"> 809</span></a>                      'empty-region-' + regionname,
<a name="l810"><span class="linenum"> 810</span></a>  
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">                    // Is it not docked.</span>
<a name="l812"><span class="linenum"> 812</span></a>                      'docked-region-' + regionname
<a name="l813"><span class="linenum"> 813</span></a>                  );
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>              if (populatedRegionCount === 1 &amp;&amp; isMoving === false) {
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">                // There was only one populated region, and we are not moving blocks.</span>
<a name="l817"><span class="linenum"> 817</span></a>                  classesToAdd.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname + '-only');
<a name="l818"><span class="linenum"> 818</span></a>              } else {
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">                // There were multiple block regions visible - remove any 'only' classes.</span>
<a name="l820"><span class="linenum"> 820</span></a>                  classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname + '-only');
<a name="l821"><span class="linenum"> 821</span></a>              }
<a name="l822"><span class="linenum"> 822</span></a>          }, this);
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>          if (containsLegacyRegions) {
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment">            // Handle the classing for legacy blocks. These have slightly different class names for the body.</span>
<a name="l826"><span class="linenum"> 826</span></a>              if (isMoving || populatedRegionCount !== 1) {
<a name="l827"><span class="linenum"> 827</span></a>                  Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(populatedLegacyRegions, function(regionname) {
<a name="l828"><span class="linenum"> 828</span></a>                      classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname + '-only');
<a name="l829"><span class="linenum"> 829</span></a>                  });
<a name="l830"><span class="linenum"> 830</span></a>              } else {
<a name="l831"><span class="linenum"> 831</span></a>                  Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(populatedLegacyRegions, function(regionname) {
<a name="l832"><span class="linenum"> 832</span></a>                      classesToAdd.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(regionname + '-only');
<a name="l833"><span class="linenum"> 833</span></a>                  });
<a name="l834"><span class="linenum"> 834</span></a>              }
<a name="l835"><span class="linenum"> 835</span></a>          }
<a name="l836"><span class="linenum"> 836</span></a>  
<a name="l837"><span class="linenum"> 837</span></a>          if (!BODY.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('has-region-content')) {
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">            // This page does not have a content region, therefore content-only is implied when all block regions are docked.</span>
<a name="l839"><span class="linenum"> 839</span></a>              if (populatedRegionCount === 0 &amp;&amp; isMoving === false) {
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">                // If all blocks are docked, ensure that the content-only class is added anyway.</span>
<a name="l841"><span class="linenum"> 841</span></a>                  classesToAdd.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('content-only');
<a name="l842"><span class="linenum"> 842</span></a>              } else {
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">                // Otherwise remove it.</span>
<a name="l844"><span class="linenum"> 844</span></a>                  classesToRemove.<a class="function" onClick="logFunction('push')" href="../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('content-only');
<a name="l845"><span class="linenum"> 845</span></a>              }
<a name="l846"><span class="linenum"> 846</span></a>          }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment">        // Modify the body clases.</span>
<a name="l849"><span class="linenum"> 849</span></a>          Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(classesToRemove, function(className) {
<a name="l850"><span class="linenum"> 850</span></a>              BODY.removeClass(className);
<a name="l851"><span class="linenum"> 851</span></a>          });
<a name="l852"><span class="linenum"> 852</span></a>          Y.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(classesToAdd, function(className) {
<a name="l853"><span class="linenum"> 853</span></a>              BODY.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(className);
<a name="l854"><span class="linenum"> 854</span></a>          });
<a name="l855"><span class="linenum"> 855</span></a>      },
<a name="l856"><span class="linenum"> 856</span></a>      <span class="comment">/**</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">     * Adds an item to the dock.</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment">     * @method add</span>
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment">     * @param {DOCKEDITEM} item</span>
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">     */</span>
<a name="l861"><span class="linenum"> 861</span></a>      add: function(item) {
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">        // Set the dockitem id to the total count and then increment it.</span>
<a name="l863"><span class="linenum"> 863</span></a>          item.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('id', this.totalcount);
<a name="l864"><span class="linenum"> 864</span></a>          this.count++;
<a name="l865"><span class="linenum"> 865</span></a>          this.totalcount++;
<a name="l866"><span class="linenum"> 866</span></a>          this.dockeditems[item.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id')] = item;
<a name="l867"><span class="linenum"> 867</span></a>          this.dockeditems[item.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id')].<a class="function" onClick="logFunction('draw')" href="../../../../_functions/draw.html" onMouseOver="funcPopup(event,'draw')">draw</a>();
<a name="l868"><span class="linenum"> 868</span></a>          this.fire('dock:itemadded', item);
<a name="l869"><span class="linenum"> 869</span></a>          this.fire('dock:itemschanged', item);
<a name="l870"><span class="linenum"> 870</span></a>      },
<a name="l871"><span class="linenum"> 871</span></a>      <span class="comment">/**</span>
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment">     * Appends an item to the dock (putting it in the item container.</span>
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment">     * @method append</span>
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">     * @param {Node} docknode</span>
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment">     */</span>
<a name="l876"><span class="linenum"> 876</span></a>      append: function(docknode) {
<a name="l877"><span class="linenum"> 877</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('itemContainerNode').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(docknode);
<a name="l878"><span class="linenum"> 878</span></a>      },
<a name="l879"><span class="linenum"> 879</span></a>      <span class="comment">/**</span>
<a name="l880"><span class="linenum"> 880</span></a>  <span class="comment">     * Handles events that require a docked block to be returned to the page./</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment">     * @method handleReturnToBlock</span>
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">     * @param {EventFacade} e</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">     */</span>
<a name="l884"><span class="linenum"> 884</span></a>      handleReturnToBlock: function(e) {
<a name="l885"><span class="linenum"> 885</span></a>          e.halt();
<a name="l886"><span class="linenum"> 886</span></a>          this.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>(this.getActiveItem().<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id'));
<a name="l887"><span class="linenum"> 887</span></a>      },
<a name="l888"><span class="linenum"> 888</span></a>      <span class="comment">/**</span>
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment">     * Removes a docked item from the dock.</span>
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">     * @method remove</span>
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">     * @param {Number} id The docked item id.</span>
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">     */</span>
<a name="l894"><span class="linenum"> 894</span></a>      remove: function(id) {
<a name="l895"><span class="linenum"> 895</span></a>          if (!this.dockeditems[id]) {
<a name="l896"><span class="linenum"> 896</span></a>              return false;
<a name="l897"><span class="linenum"> 897</span></a>          }
<a name="l898"><span class="linenum"> 898</span></a>          this.dockeditems[id].<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l899"><span class="linenum"> 899</span></a>          delete this.dockeditems[id];
<a name="l900"><span class="linenum"> 900</span></a>          this.count--;
<a name="l901"><span class="linenum"> 901</span></a>          this.fire('dock:itemremoved', id);
<a name="l902"><span class="linenum"> 902</span></a>          this.fire('dock:itemschanged', id);
<a name="l903"><span class="linenum"> 903</span></a>          return true;
<a name="l904"><span class="linenum"> 904</span></a>      },
<a name="l905"><span class="linenum"> 905</span></a>      <span class="comment">/**</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     * Ensures the the first item in the dock has the correct class.</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * @method resetFirstItem</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     */</span>
<a name="l909"><span class="linenum"> 909</span></a>      resetFirstItem: function() {
<a name="l910"><span class="linenum"> 910</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('all')" href="../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('.' + CSS.dockeditem + '.firstdockitem').removeClass('firstdockitem');
<a name="l911"><span class="linenum"> 911</span></a>          if (this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').one('.' + CSS.dockeditem)) {
<a name="l912"><span class="linenum"> 912</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').one('.' + CSS.dockeditem).<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('firstdockitem');
<a name="l913"><span class="linenum"> 913</span></a>          }
<a name="l914"><span class="linenum"> 914</span></a>      },
<a name="l915"><span class="linenum"> 915</span></a>      <span class="comment">/**</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment">     * Removes all docked blocks returning them to the page.</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">     * @method removeAll</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">     */</span>
<a name="l920"><span class="linenum"> 920</span></a>      removeAll: function() {
<a name="l921"><span class="linenum"> 921</span></a>          var i;
<a name="l922"><span class="linenum"> 922</span></a>          for (i in this.dockeditems) {
<a name="l923"><span class="linenum"> 923</span></a>              if (Y.Lang.<a class="function" onClick="logFunction('isNumber')" href="../../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(i) || Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(i)) {
<a name="l924"><span class="linenum"> 924</span></a>                  this.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>(i);
<a name="l925"><span class="linenum"> 925</span></a>              }
<a name="l926"><span class="linenum"> 926</span></a>          }
<a name="l927"><span class="linenum"> 927</span></a>          return true;
<a name="l928"><span class="linenum"> 928</span></a>      },
<a name="l929"><span class="linenum"> 929</span></a>      <span class="comment">/**</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * Hides the active item.</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * @method hideActive</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     */</span>
<a name="l933"><span class="linenum"> 933</span></a>      hideActive: function() {
<a name="l934"><span class="linenum"> 934</span></a>          var item = this.getActiveItem();
<a name="l935"><span class="linenum"> 935</span></a>          if (item) {
<a name="l936"><span class="linenum"> 936</span></a>              item.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l937"><span class="linenum"> 937</span></a>          }
<a name="l938"><span class="linenum"> 938</span></a>      },
<a name="l939"><span class="linenum"> 939</span></a>      <span class="comment">/**</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     * Checks wether the dock should be shown or hidden</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     * @method checkDockVisibility</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     */</span>
<a name="l943"><span class="linenum"> 943</span></a>      checkDockVisibility: function() {
<a name="l944"><span class="linenum"> 944</span></a>          var bodyclass = CSS.body + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('position') + '_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('orientation');
<a name="l945"><span class="linenum"> 945</span></a>          if (!this.count) {
<a name="l946"><span class="linenum"> 946</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('nothingdocked');
<a name="l947"><span class="linenum"> 947</span></a>              BODY.removeClass(CSS.body).removeClass();
<a name="l948"><span class="linenum"> 948</span></a>              this.fire('dock:hidden');
<a name="l949"><span class="linenum"> 949</span></a>          } else {
<a name="l950"><span class="linenum"> 950</span></a>              this.fire('dock:beforeshow');
<a name="l951"><span class="linenum"> 951</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').removeClass('nothingdocked');
<a name="l952"><span class="linenum"> 952</span></a>              BODY.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(CSS.body).<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(bodyclass);
<a name="l953"><span class="linenum"> 953</span></a>              this.fire('dock:shown');
<a name="l954"><span class="linenum"> 954</span></a>          }
<a name="l955"><span class="linenum"> 955</span></a>      },
<a name="l956"><span class="linenum"> 956</span></a>      <span class="comment">/**</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * This function checks the size and position of the panel and moves/resizes if</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * required to keep it within the bounds of the window.</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     * @method resize</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     */</span>
<a name="l962"><span class="linenum"> 962</span></a>      resize: function() {
<a name="l963"><span class="linenum"> 963</span></a>          var panel = this.getPanel(),
<a name="l964"><span class="linenum"> 964</span></a>              item = this.getActiveItem(),
<a name="l965"><span class="linenum"> 965</span></a>              buffer,
<a name="l966"><span class="linenum"> 966</span></a>              screenh,
<a name="l967"><span class="linenum"> 967</span></a>              docky,
<a name="l968"><span class="linenum"> 968</span></a>              titletop,
<a name="l969"><span class="linenum"> 969</span></a>              containery,
<a name="l970"><span class="linenum"> 970</span></a>              containerheight,
<a name="l971"><span class="linenum"> 971</span></a>              scrolltop,
<a name="l972"><span class="linenum"> 972</span></a>              panelheight,
<a name="l973"><span class="linenum"> 973</span></a>              dockx,
<a name="l974"><span class="linenum"> 974</span></a>              titleleft;
<a name="l975"><span class="linenum"> 975</span></a>          if (!panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('visible') || !item) {
<a name="l976"><span class="linenum"> 976</span></a>              return true;
<a name="l977"><span class="linenum"> 977</span></a>          }
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>          this.fire('dock:panelresizestart');
<a name="l980"><span class="linenum"> 980</span></a>          if (this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('orientation') === 'vertical') {
<a name="l981"><span class="linenum"> 981</span></a>              buffer = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bufferPanel');
<a name="l982"><span class="linenum"> 982</span></a>              screenh = parseInt(BODY.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('winHeight'), 10) - (buffer * 2);
<a name="l983"><span class="linenum"> 983</span></a>              docky = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('getY')" href="../../../../_functions/gety.html" onMouseOver="funcPopup(event,'gety')">getY</a>();
<a name="l984"><span class="linenum"> 984</span></a>              titletop = item.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode').<a class="function" onClick="logFunction('getY')" href="../../../../_functions/gety.html" onMouseOver="funcPopup(event,'gety')">getY</a>() - docky - buffer;
<a name="l985"><span class="linenum"> 985</span></a>              containery = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('itemContainerNode').<a class="function" onClick="logFunction('getY')" href="../../../../_functions/gety.html" onMouseOver="funcPopup(event,'gety')">getY</a>();
<a name="l986"><span class="linenum"> 986</span></a>              containerheight = containery - docky + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('buttonsNode').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight');
<a name="l987"><span class="linenum"> 987</span></a>              scrolltop = panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('scrollTop');
<a name="l988"><span class="linenum"> 988</span></a>              panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('height', 'auto');
<a name="l989"><span class="linenum"> 989</span></a>              panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').removeClass('oversized_content');
<a name="l990"><span class="linenum"> 990</span></a>              panelheight = panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight');
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>              if (Y.UA.ie &gt; 0 &amp;&amp; Y.UA.ie &lt; 7) {
<a name="l993"><span class="linenum"> 993</span></a>                  panel.<a class="function" onClick="logFunction('setTop')" href="../../../../_functions/settop.html" onMouseOver="funcPopup(event,'settop')">setTop</a>(item.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode').<a class="function" onClick="logFunction('getY')" href="../../../../_functions/gety.html" onMouseOver="funcPopup(event,'gety')">getY</a>());
<a name="l994"><span class="linenum"> 994</span></a>              } else if (panelheight &gt; screenh) {
<a name="l995"><span class="linenum"> 995</span></a>                  panel.<a class="function" onClick="logFunction('setTop')" href="../../../../_functions/settop.html" onMouseOver="funcPopup(event,'settop')">setTop</a>(buffer - containerheight);
<a name="l996"><span class="linenum"> 996</span></a>                  panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('height', (screenh - panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('headerNode').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight')) + 'px');
<a name="l997"><span class="linenum"> 997</span></a>                  panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('oversized_content');
<a name="l998"><span class="linenum"> 998</span></a>              } else if (panelheight &gt; (screenh - (titletop - buffer))) {
<a name="l999"><span class="linenum"> 999</span></a>                  panel.<a class="function" onClick="logFunction('setTop')" href="../../../../_functions/settop.html" onMouseOver="funcPopup(event,'settop')">setTop</a>(titletop - containerheight - (panelheight - (screenh - titletop)) + buffer);
<a name="l1000"><span class="linenum">1000</span></a>              } else {
<a name="l1001"><span class="linenum">1001</span></a>                  panel.<a class="function" onClick="logFunction('setTop')" href="../../../../_functions/settop.html" onMouseOver="funcPopup(event,'settop')">setTop</a>(titletop - containerheight + buffer);
<a name="l1002"><span class="linenum">1002</span></a>              }
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>              if (scrolltop) {
<a name="l1005"><span class="linenum">1005</span></a>                  panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode').<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('scrollTop', scrolltop);
<a name="l1006"><span class="linenum">1006</span></a>              }
<a name="l1007"><span class="linenum">1007</span></a>          }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>          if (this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('position') === 'right') {
<a name="l1010"><span class="linenum">1010</span></a>              panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('left', '-' + panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetWidth') + 'px');
<a name="l1011"><span class="linenum">1011</span></a>  
<a name="l1012"><span class="linenum">1012</span></a>          } else if (this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('position') === 'top') {
<a name="l1013"><span class="linenum">1013</span></a>              dockx = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode').<a class="function" onClick="logFunction('getX')" href="../../../../_functions/getx.html" onMouseOver="funcPopup(event,'getx')">getX</a>();
<a name="l1014"><span class="linenum">1014</span></a>              titleleft = item.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode').<a class="function" onClick="logFunction('getX')" href="../../../../_functions/getx.html" onMouseOver="funcPopup(event,'getx')">getX</a>() - dockx;
<a name="l1015"><span class="linenum">1015</span></a>              panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('left', titleleft + 'px');
<a name="l1016"><span class="linenum">1016</span></a>          }
<a name="l1017"><span class="linenum">1017</span></a>  
<a name="l1018"><span class="linenum">1018</span></a>          this.fire('dock:resizepanelcomplete');
<a name="l1019"><span class="linenum">1019</span></a>          return true;
<a name="l1020"><span class="linenum">1020</span></a>      },
<a name="l1021"><span class="linenum">1021</span></a>      <span class="comment">/**</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * Returns the currently active dock item or false</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @method getActiveItem</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     * @return {DOCKEDITEM}</span>
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">     */</span>
<a name="l1026"><span class="linenum">1026</span></a>      getActiveItem: function() {
<a name="l1027"><span class="linenum">1027</span></a>          var i;
<a name="l1028"><span class="linenum">1028</span></a>          for (i in this.dockeditems) {
<a name="l1029"><span class="linenum">1029</span></a>              if (this.dockeditems[i].active) {
<a name="l1030"><span class="linenum">1030</span></a>                  return this.dockeditems[i];
<a name="l1031"><span class="linenum">1031</span></a>              }
<a name="l1032"><span class="linenum">1032</span></a>          }
<a name="l1033"><span class="linenum">1033</span></a>          return false;
<a name="l1034"><span class="linenum">1034</span></a>      },
<a name="l1035"><span class="linenum">1035</span></a>      <span class="comment">/**</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment">     * Adds an item to the holding area.</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment">     * @method addToHoldingArea</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">     * @param {Node} node</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     */</span>
<a name="l1040"><span class="linenum">1040</span></a>      addToHoldingArea: function(node) {
<a name="l1041"><span class="linenum">1041</span></a>          this.holdingareanode.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(node);
<a name="l1042"><span class="linenum">1042</span></a>      }
<a name="l1043"><span class="linenum">1043</span></a>  };
<a name="l1044"><span class="linenum">1044</span></a>  
<a name="l1045"><span class="linenum">1045</span></a>  Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(DOCK, Y.Base, DOCK.prototype, {
<a name="l1046"><span class="linenum">1046</span></a>      NAME: 'moodle-core-dock',
<a name="l1047"><span class="linenum">1047</span></a>      ATTRS: {
<a name="l1048"><span class="linenum">1048</span></a>          <span class="comment">/**</span>
<a name="l1049"><span class="linenum">1049</span></a>  <span class="comment">         * The dock itself. #dock.</span>
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment">         * @attribute dockNode</span>
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">         * @type Node</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment">         */</span>
<a name="l1054"><span class="linenum">1054</span></a>          dockNode: {
<a name="l1055"><span class="linenum">1055</span></a>              writeOnce: true
<a name="l1056"><span class="linenum">1056</span></a>          },
<a name="l1057"><span class="linenum">1057</span></a>          <span class="comment">/**</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment">         * The docks panel.</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment">         * @attribute panel</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment">         * @type DOCKPANEL</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">         */</span>
<a name="l1063"><span class="linenum">1063</span></a>          panel: {
<a name="l1064"><span class="linenum">1064</span></a>              writeOnce: true
<a name="l1065"><span class="linenum">1065</span></a>          },
<a name="l1066"><span class="linenum">1066</span></a>          <span class="comment">/**</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment">         * A container within the dock used for buttons.</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment">         * @attribute buttonsNode</span>
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">         * @type Node</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment">         */</span>
<a name="l1072"><span class="linenum">1072</span></a>          buttonsNode: {
<a name="l1073"><span class="linenum">1073</span></a>              writeOnce: true
<a name="l1074"><span class="linenum">1074</span></a>          },
<a name="l1075"><span class="linenum">1075</span></a>          <span class="comment">/**</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">         * A container within the dock used for docked blocks.</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">         * @attribute itemContainerNode</span>
<a name="l1078"><span class="linenum">1078</span></a>  <span class="comment">         * @type Node</span>
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">         */</span>
<a name="l1081"><span class="linenum">1081</span></a>          itemContainerNode: {
<a name="l1082"><span class="linenum">1082</span></a>              writeOnce: true
<a name="l1083"><span class="linenum">1083</span></a>          },
<a name="l1084"><span class="linenum">1084</span></a>  
<a name="l1085"><span class="linenum">1085</span></a>          <span class="comment">/**</span>
<a name="l1086"><span class="linenum">1086</span></a>  <span class="comment">         * Buffer used when containing a panel.</span>
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">         * @attribute bufferPanel</span>
<a name="l1088"><span class="linenum">1088</span></a>  <span class="comment">         * @type Number</span>
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">         * @default 10</span>
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment">         */</span>
<a name="l1091"><span class="linenum">1091</span></a>          bufferPanel: {
<a name="l1092"><span class="linenum">1092</span></a>              value: 10,
<a name="l1093"><span class="linenum">1093</span></a>              validator: Y.Lang.isNumber
<a name="l1094"><span class="linenum">1094</span></a>          },
<a name="l1095"><span class="linenum">1095</span></a>  
<a name="l1096"><span class="linenum">1096</span></a>          <span class="comment">/**</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">         * Position of the dock.</span>
<a name="l1098"><span class="linenum">1098</span></a>  <span class="comment">         * @attribute position</span>
<a name="l1099"><span class="linenum">1099</span></a>  <span class="comment">         * @type String</span>
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">         * @default left</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment">         */</span>
<a name="l1102"><span class="linenum">1102</span></a>          position: {
<a name="l1103"><span class="linenum">1103</span></a>              value: 'left',
<a name="l1104"><span class="linenum">1104</span></a>              validator: Y.Lang.isString
<a name="l1105"><span class="linenum">1105</span></a>          },
<a name="l1106"><span class="linenum">1106</span></a>  
<a name="l1107"><span class="linenum">1107</span></a>          <span class="comment">/**</span>
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment">         * vertical || horizontal determines if we change the title</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment">         * @attribute orientation</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">         * @type String</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">         * @default vertical</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">         */</span>
<a name="l1113"><span class="linenum">1113</span></a>          orientation: {
<a name="l1114"><span class="linenum">1114</span></a>              value: 'vertical',
<a name="l1115"><span class="linenum">1115</span></a>              validator: Y.Lang.isString,
<a name="l1116"><span class="linenum">1116</span></a>              setter: function(value) {
<a name="l1117"><span class="linenum">1117</span></a>                  if (value.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/^vertical$/i)) {
<a name="l1118"><span class="linenum">1118</span></a>                      return 'vertical';
<a name="l1119"><span class="linenum">1119</span></a>                  }
<a name="l1120"><span class="linenum">1120</span></a>                  return 'horizontal';
<a name="l1121"><span class="linenum">1121</span></a>              }
<a name="l1122"><span class="linenum">1122</span></a>          },
<a name="l1123"><span class="linenum">1123</span></a>  
<a name="l1124"><span class="linenum">1124</span></a>          <span class="comment">/**</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">         * Space between the top of the dock and the first item.</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment">         * @attribute bufferBeforeFirstItem</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">         * @type Number</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">         * @default 10</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">         */</span>
<a name="l1130"><span class="linenum">1130</span></a>          bufferBeforeFirstItem: {
<a name="l1131"><span class="linenum">1131</span></a>              value: 10,
<a name="l1132"><span class="linenum">1132</span></a>              validator: Y.Lang.isNumber
<a name="l1133"><span class="linenum">1133</span></a>          },
<a name="l1134"><span class="linenum">1134</span></a>  
<a name="l1135"><span class="linenum">1135</span></a>          <span class="comment">/**</span>
<a name="l1136"><span class="linenum">1136</span></a>  <span class="comment">         * Icon URL for the icon to undock all blocks</span>
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment">         * @attribute undockAllIconUrl</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment">         * @type String</span>
<a name="l1139"><span class="linenum">1139</span></a>  <span class="comment">         * @default t/dock_to_block</span>
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment">         */</span>
<a name="l1141"><span class="linenum">1141</span></a>          undockAllIconUrl: {
<a name="l1142"><span class="linenum">1142</span></a>              value: M.util.image_url((window.<a class="function" onClick="logFunction('right_to_left')" href="../../../../_functions/right_to_left.html" onMouseOver="funcPopup(event,'right_to_left')">right_to_left</a>()) ? 't/dock_to_block_rtl' : 't/dock_to_block', 'moodle'),
<a name="l1143"><span class="linenum">1143</span></a>              validator: Y.Lang.isString
<a name="l1144"><span class="linenum">1144</span></a>          }
<a name="l1145"><span class="linenum">1145</span></a>      }
<a name="l1146"><span class="linenum">1146</span></a>  });
<a name="l1147"><span class="linenum">1147</span></a>  Y.augment(DOCK, Y.EventTarget);
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">/* global DOCKPANEL, LOGNS */</span>
<a name="l1149"><span class="linenum">1149</span></a>  
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment">/**</span>
<a name="l1151"><span class="linenum">1151</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l1152"><span class="linenum">1152</span></a>  <span class="comment"> *</span>
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment"> * This file contains the panel class used by the dock to display the content of docked blocks.</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment"> *</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> */</span>
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment">/**</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment"> * Panel.</span>
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment"> *</span>
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment"> * @class Panel</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment"> * @constructor</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment"> * @extends Base</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment"> * @uses EventTarget</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment"> */</span>
<a name="l1167"><span class="linenum">1167</span></a>  DOCKPANEL = function() {
<a name="l1168"><span class="linenum">1168</span></a>      DOCKPANEL.superclass.constructor.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l1169"><span class="linenum">1169</span></a>  };
<a name="l1170"><span class="linenum">1170</span></a>  DOCKPANEL.prototype = {
<a name="l1171"><span class="linenum">1171</span></a>      <span class="comment">/**</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">     * True once the panel has been created.</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment">     * @property created</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment">     * @protected</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment">     * @type {Boolean}</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">     */</span>
<a name="l1177"><span class="linenum">1177</span></a>      created: false,
<a name="l1178"><span class="linenum">1178</span></a>      <span class="comment">/**</span>
<a name="l1179"><span class="linenum">1179</span></a>  <span class="comment">     * Called during the initialisation process of the object.</span>
<a name="l1180"><span class="linenum">1180</span></a>  <span class="comment">     * @method initializer</span>
<a name="l1181"><span class="linenum">1181</span></a>  <span class="comment">     */</span>
<a name="l1182"><span class="linenum">1182</span></a>      initializer: function() {
<a name="l1183"><span class="linenum">1183</span></a>          <span class="comment">/**</span>
<a name="l1184"><span class="linenum">1184</span></a>  <span class="comment">         * Fired before the panel is shown.</span>
<a name="l1185"><span class="linenum">1185</span></a>  <span class="comment">         * @event dockpane::beforeshow</span>
<a name="l1186"><span class="linenum">1186</span></a>  <span class="comment">         */</span>
<a name="l1187"><span class="linenum">1187</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockpanel:beforeshow', {prefix: 'dockpanel'});
<a name="l1188"><span class="linenum">1188</span></a>          <span class="comment">/**</span>
<a name="l1189"><span class="linenum">1189</span></a>  <span class="comment">         * Fired after the panel is shown.</span>
<a name="l1190"><span class="linenum">1190</span></a>  <span class="comment">         * @event dockpanel:shown</span>
<a name="l1191"><span class="linenum">1191</span></a>  <span class="comment">         */</span>
<a name="l1192"><span class="linenum">1192</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockpanel:shown', {prefix: 'dockpanel'});
<a name="l1193"><span class="linenum">1193</span></a>          <span class="comment">/**</span>
<a name="l1194"><span class="linenum">1194</span></a>  <span class="comment">         * Fired before the panel is hidden.</span>
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">         * @event dockpane::beforehide</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment">         */</span>
<a name="l1197"><span class="linenum">1197</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockpanel:beforehide', {prefix: 'dockpanel'});
<a name="l1198"><span class="linenum">1198</span></a>          <span class="comment">/**</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment">         * Fired after the panel is hidden.</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">         * @event dockpanel:hidden</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment">         */</span>
<a name="l1202"><span class="linenum">1202</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockpanel:hidden', {prefix: 'dockpanel'});
<a name="l1203"><span class="linenum">1203</span></a>          <span class="comment">/**</span>
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">         * Fired when ever the dock panel is either hidden or shown.</span>
<a name="l1205"><span class="linenum">1205</span></a>  <span class="comment">         * Always fired after the shown or hidden events.</span>
<a name="l1206"><span class="linenum">1206</span></a>  <span class="comment">         * @event dockpanel:visiblechange</span>
<a name="l1207"><span class="linenum">1207</span></a>  <span class="comment">         */</span>
<a name="l1208"><span class="linenum">1208</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockpanel:visiblechange', {prefix: 'dockpanel'});
<a name="l1209"><span class="linenum">1209</span></a>      },
<a name="l1210"><span class="linenum">1210</span></a>      <span class="comment">/**</span>
<a name="l1211"><span class="linenum">1211</span></a>  <span class="comment">     * Creates the Panel if it has not already been created.</span>
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment">     * @method create</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment">     */</span>
<a name="l1215"><span class="linenum">1215</span></a>      create: function() {
<a name="l1216"><span class="linenum">1216</span></a>          if (this.created) {
<a name="l1217"><span class="linenum">1217</span></a>              return true;
<a name="l1218"><span class="linenum">1218</span></a>          }
<a name="l1219"><span class="linenum">1219</span></a>          this.created = true;
<a name="l1220"><span class="linenum">1220</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock'),
<a name="l1221"><span class="linenum">1221</span></a>              node = dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode');
<a name="l1222"><span class="linenum">1222</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('node', Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div id=&quot;dockeditempanel&quot; class=&quot;dockitempanel_hidden&quot;&gt;&lt;/div&gt;'));
<a name="l1223"><span class="linenum">1223</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('contentNode', Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;dockeditempanel_content&quot;&gt;&lt;/div&gt;'));
<a name="l1224"><span class="linenum">1224</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('headerNode', Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;dockeditempanel_hd&quot;&gt;&lt;/div&gt;'));
<a name="l1225"><span class="linenum">1225</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('bodyNode', Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;dockeditempanel_bd&quot;&gt;&lt;/div&gt;'));
<a name="l1226"><span class="linenum">1226</span></a>          node.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(
<a name="l1227"><span class="linenum">1227</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('contentNode').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('headerNode')).<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode')))
<a name="l1228"><span class="linenum">1228</span></a>          );
<a name="l1229"><span class="linenum">1229</span></a>      },
<a name="l1230"><span class="linenum">1230</span></a>      <span class="comment">/**</span>
<a name="l1231"><span class="linenum">1231</span></a>  <span class="comment">     * Displays the panel.</span>
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">     * @method show</span>
<a name="l1233"><span class="linenum">1233</span></a>  <span class="comment">     */</span>
<a name="l1234"><span class="linenum">1234</span></a>      show: function() {
<a name="l1235"><span class="linenum">1235</span></a>          this.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>();
<a name="l1236"><span class="linenum">1236</span></a>          this.fire('dockpanel:beforeshow');
<a name="l1237"><span class="linenum">1237</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('visible', true);
<a name="l1238"><span class="linenum">1238</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').removeClass('dockitempanel_hidden');
<a name="l1239"><span class="linenum">1239</span></a>          this.fire('dockpanel:shown');
<a name="l1240"><span class="linenum">1240</span></a>          this.fire('dockpanel:visiblechange');
<a name="l1241"><span class="linenum">1241</span></a>      },
<a name="l1242"><span class="linenum">1242</span></a>      <span class="comment">/**</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">     * Hides the panel</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment">     * @method hide</span>
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment">     */</span>
<a name="l1246"><span class="linenum">1246</span></a>      hide: function() {
<a name="l1247"><span class="linenum">1247</span></a>          this.fire('dockpanel:beforehide');
<a name="l1248"><span class="linenum">1248</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('visible', false);
<a name="l1249"><span class="linenum">1249</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('dockitempanel_hidden');
<a name="l1250"><span class="linenum">1250</span></a>          this.fire('dockpanel:hidden');
<a name="l1251"><span class="linenum">1251</span></a>          this.fire('dockpanel:visiblechange');
<a name="l1252"><span class="linenum">1252</span></a>      },
<a name="l1253"><span class="linenum">1253</span></a>      <span class="comment">/**</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     * Sets the panel header.</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @method setHeader</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     * @param {Node|String} content</span>
<a name="l1257"><span class="linenum">1257</span></a>  <span class="comment">     */</span>
<a name="l1258"><span class="linenum">1258</span></a>      setHeader: function(content) {
<a name="l1259"><span class="linenum">1259</span></a>          this.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>();
<a name="l1260"><span class="linenum">1260</span></a>          var header = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('headerNode'),
<a name="l1261"><span class="linenum">1261</span></a>              i;
<a name="l1262"><span class="linenum">1262</span></a>          header.<a class="function" onClick="logFunction('setContent')" href="../../../../_functions/setcontent.html" onMouseOver="funcPopup(event,'setcontent')">setContent</a>(content);
<a name="l1263"><span class="linenum">1263</span></a>          if (arguments.length &gt; 1) {
<a name="l1264"><span class="linenum">1264</span></a>              for (i = 1; i &lt; arguments.length; i++) {
<a name="l1265"><span class="linenum">1265</span></a>                  if (Y.Lang.<a class="function" onClick="logFunction('isNumber')" href="../../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(i) || Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(i)) {
<a name="l1266"><span class="linenum">1266</span></a>                      header.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(arguments[i]);
<a name="l1267"><span class="linenum">1267</span></a>                  }
<a name="l1268"><span class="linenum">1268</span></a>              }
<a name="l1269"><span class="linenum">1269</span></a>          }
<a name="l1270"><span class="linenum">1270</span></a>      },
<a name="l1271"><span class="linenum">1271</span></a>      <span class="comment">/**</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">     * Sets the panel body.</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment">     * @method setBody</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">     * @param {Node|String} content</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">     */</span>
<a name="l1276"><span class="linenum">1276</span></a>      setBody: function(content) {
<a name="l1277"><span class="linenum">1277</span></a>          this.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>();
<a name="l1278"><span class="linenum">1278</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode').<a class="function" onClick="logFunction('setContent')" href="../../../../_functions/setcontent.html" onMouseOver="funcPopup(event,'setcontent')">setContent</a>(content);
<a name="l1279"><span class="linenum">1279</span></a>      },
<a name="l1280"><span class="linenum">1280</span></a>      <span class="comment">/**</span>
<a name="l1281"><span class="linenum">1281</span></a>  <span class="comment">     * Sets the new top mark of the panel.</span>
<a name="l1282"><span class="linenum">1282</span></a>  <span class="comment">     *</span>
<a name="l1283"><span class="linenum">1283</span></a>  <span class="comment">     * @method setTop</span>
<a name="l1284"><span class="linenum">1284</span></a>  <span class="comment">     * @param {Number} newtop</span>
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">     */</span>
<a name="l1286"><span class="linenum">1286</span></a>      setTop: function(newtop) {
<a name="l1287"><span class="linenum">1287</span></a>          if (Y.UA.ie &gt; 0 &amp;&amp; Y.UA.ie &lt; 7) {
<a name="l1288"><span class="linenum">1288</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('setY')" href="../../../../_functions/sety.html" onMouseOver="funcPopup(event,'sety')">setY</a>(newtop);
<a name="l1289"><span class="linenum">1289</span></a>          } else {
<a name="l1290"><span class="linenum">1290</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('top', newtop.<a class="function" onClick="logFunction('toString')" href="../../../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>() + 'px');
<a name="l1291"><span class="linenum">1291</span></a>          }
<a name="l1292"><span class="linenum">1292</span></a>      },
<a name="l1293"><span class="linenum">1293</span></a>      <span class="comment">/**</span>
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">     * Corrects the width of the panel.</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment">     * @method correctWidth</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment">     */</span>
<a name="l1297"><span class="linenum">1297</span></a>      correctWidth: function() {
<a name="l1298"><span class="linenum">1298</span></a>          var bodyNode = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bodyNode'),
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment">            // Width of content.</span>
<a name="l1300"><span class="linenum">1300</span></a>              width = bodyNode.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('clientWidth'),
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment">            // Scrollable width of content.</span>
<a name="l1302"><span class="linenum">1302</span></a>              scroll = bodyNode.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('scrollWidth'),
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment">            // Width of content container with overflow.</span>
<a name="l1304"><span class="linenum">1304</span></a>              offsetWidth = bodyNode.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetWidth'),
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment">            // The new width - defaults to the current width.</span>
<a name="l1306"><span class="linenum">1306</span></a>              newWidth = width,
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">            // The max width (80% of screen).</span>
<a name="l1308"><span class="linenum">1308</span></a>              maxWidth = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(bodyNode.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('winWidth') * 0.8);
<a name="l1309"><span class="linenum">1309</span></a>  
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment">        // If the scrollable width is more than the visible width</span>
<a name="l1311"><span class="linenum">1311</span></a>          if (scroll &gt; width) {
<a name="l1312"><span class="linenum">1312</span></a>  <span class="comment">            //   Content width</span>
<a name="l1313"><span class="linenum">1313</span></a>  <span class="comment">            // + the difference</span>
<a name="l1314"><span class="linenum">1314</span></a>  <span class="comment">            // + any rendering difference (borders, padding)</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment">            // + 10px to make it look nice.</span>
<a name="l1316"><span class="linenum">1316</span></a>              newWidth = width + (scroll - width) + ((offsetWidth - width) * 2) + 10;
<a name="l1317"><span class="linenum">1317</span></a>          }
<a name="l1318"><span class="linenum">1318</span></a>  
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment">        // Make sure its not more then the maxwidth</span>
<a name="l1320"><span class="linenum">1320</span></a>          if (newWidth &gt; maxWidth) {
<a name="l1321"><span class="linenum">1321</span></a>              newWidth = maxWidth;
<a name="l1322"><span class="linenum">1322</span></a>          }
<a name="l1323"><span class="linenum">1323</span></a>  
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment">        // Set the new width if its more than the old width.</span>
<a name="l1325"><span class="linenum">1325</span></a>          if (newWidth &gt; offsetWidth) {
<a name="l1326"><span class="linenum">1326</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node').<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('width', newWidth + 'px');
<a name="l1327"><span class="linenum">1327</span></a>          }
<a name="l1328"><span class="linenum">1328</span></a>      }
<a name="l1329"><span class="linenum">1329</span></a>  };
<a name="l1330"><span class="linenum">1330</span></a>  Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(DOCKPANEL, Y.Base, DOCKPANEL.prototype, {
<a name="l1331"><span class="linenum">1331</span></a>      NAME: 'moodle-core-dock-panel',
<a name="l1332"><span class="linenum">1332</span></a>      ATTRS: {
<a name="l1333"><span class="linenum">1333</span></a>          <span class="comment">/**</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">         * The dock itself.</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">         * @attribute dock</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">         * @type DOCK</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">         * @writeonce</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">         */</span>
<a name="l1339"><span class="linenum">1339</span></a>          dock: {
<a name="l1340"><span class="linenum">1340</span></a>              writeOnce: 'initOnly'
<a name="l1341"><span class="linenum">1341</span></a>          },
<a name="l1342"><span class="linenum">1342</span></a>          <span class="comment">/**</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment">         * The node that contains the whole panel.</span>
<a name="l1344"><span class="linenum">1344</span></a>  <span class="comment">         * @attribute node</span>
<a name="l1345"><span class="linenum">1345</span></a>  <span class="comment">         * @type Node</span>
<a name="l1346"><span class="linenum">1346</span></a>  <span class="comment">         */</span>
<a name="l1347"><span class="linenum">1347</span></a>          node: {
<a name="l1348"><span class="linenum">1348</span></a>              value: null
<a name="l1349"><span class="linenum">1349</span></a>          },
<a name="l1350"><span class="linenum">1350</span></a>          <span class="comment">/**</span>
<a name="l1351"><span class="linenum">1351</span></a>  <span class="comment">         * The node that contains the header, body and footer.</span>
<a name="l1352"><span class="linenum">1352</span></a>  <span class="comment">         * @attribute contentNode</span>
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">         * @type Node</span>
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">         */</span>
<a name="l1355"><span class="linenum">1355</span></a>          contentNode: {
<a name="l1356"><span class="linenum">1356</span></a>              value: null
<a name="l1357"><span class="linenum">1357</span></a>          },
<a name="l1358"><span class="linenum">1358</span></a>          <span class="comment">/**</span>
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">         * The node that contains the header</span>
<a name="l1360"><span class="linenum">1360</span></a>  <span class="comment">         * @attribute headerNode</span>
<a name="l1361"><span class="linenum">1361</span></a>  <span class="comment">         * @type Node</span>
<a name="l1362"><span class="linenum">1362</span></a>  <span class="comment">         */</span>
<a name="l1363"><span class="linenum">1363</span></a>          headerNode: {
<a name="l1364"><span class="linenum">1364</span></a>              value: null
<a name="l1365"><span class="linenum">1365</span></a>          },
<a name="l1366"><span class="linenum">1366</span></a>          <span class="comment">/**</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">         * The node that contains the body</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">         * @attribute bodyNode</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">         * @type Node</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">         */</span>
<a name="l1371"><span class="linenum">1371</span></a>          bodyNode: {
<a name="l1372"><span class="linenum">1372</span></a>              value: null
<a name="l1373"><span class="linenum">1373</span></a>          },
<a name="l1374"><span class="linenum">1374</span></a>          <span class="comment">/**</span>
<a name="l1375"><span class="linenum">1375</span></a>  <span class="comment">         * True if the panel is currently visible.</span>
<a name="l1376"><span class="linenum">1376</span></a>  <span class="comment">         * @attribute visible</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment">         * @type Boolean</span>
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment">         */</span>
<a name="l1379"><span class="linenum">1379</span></a>          visible: {
<a name="l1380"><span class="linenum">1380</span></a>              value: false
<a name="l1381"><span class="linenum">1381</span></a>          }
<a name="l1382"><span class="linenum">1382</span></a>      }
<a name="l1383"><span class="linenum">1383</span></a>  });
<a name="l1384"><span class="linenum">1384</span></a>  Y.augment(DOCKPANEL, Y.EventTarget);
<a name="l1385"><span class="linenum">1385</span></a>  <span class="comment">/* global TABHEIGHTMANAGER, LOGNS */</span>
<a name="l1386"><span class="linenum">1386</span></a>  
<a name="l1387"><span class="linenum">1387</span></a>  <span class="comment">/**</span>
<a name="l1388"><span class="linenum">1388</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l1389"><span class="linenum">1389</span></a>  <span class="comment"> *</span>
<a name="l1390"><span class="linenum">1390</span></a>  <span class="comment"> * This file contains the tab height manager.</span>
<a name="l1391"><span class="linenum">1391</span></a>  <span class="comment"> * The tab height manager is responsible for ensure all tabs are visible all the time.</span>
<a name="l1392"><span class="linenum">1392</span></a>  <span class="comment"> *</span>
<a name="l1393"><span class="linenum">1393</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l1394"><span class="linenum">1394</span></a>  <span class="comment"> */</span>
<a name="l1395"><span class="linenum">1395</span></a>  
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">/**</span>
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment"> * Tab height manager.</span>
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment"> *</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment"> * @class TabHeightManager</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment"> * @constructor</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment"> * @extends Base</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment"> */</span>
<a name="l1404"><span class="linenum">1404</span></a>  TABHEIGHTMANAGER = function() {
<a name="l1405"><span class="linenum">1405</span></a>      TABHEIGHTMANAGER.superclass.constructor.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l1406"><span class="linenum">1406</span></a>  };
<a name="l1407"><span class="linenum">1407</span></a>  TABHEIGHTMANAGER.prototype = {
<a name="l1408"><span class="linenum">1408</span></a>      <span class="comment">/**</span>
<a name="l1409"><span class="linenum">1409</span></a>  <span class="comment">     * Initialises the dock sizer which then attaches itself to the required</span>
<a name="l1410"><span class="linenum">1410</span></a>  <span class="comment">     * events in order to monitor the dock</span>
<a name="l1411"><span class="linenum">1411</span></a>  <span class="comment">     * @method initializer</span>
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">     */</span>
<a name="l1413"><span class="linenum">1413</span></a>      initializer: function() {
<a name="l1414"><span class="linenum">1414</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock');
<a name="l1415"><span class="linenum">1415</span></a>          dock.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:itemschanged', this.checkSizing, this);
<a name="l1416"><span class="linenum">1416</span></a>          Y.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('windowresize', this.checkSizing, this);
<a name="l1417"><span class="linenum">1417</span></a>      },
<a name="l1418"><span class="linenum">1418</span></a>      <span class="comment">/**</span>
<a name="l1419"><span class="linenum">1419</span></a>  <span class="comment">     * Check if the size dock items needs to be adjusted</span>
<a name="l1420"><span class="linenum">1420</span></a>  <span class="comment">     * @method checkSizing</span>
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment">     */</span>
<a name="l1422"><span class="linenum">1422</span></a>      checkSizing: function() {
<a name="l1423"><span class="linenum">1423</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock'),
<a name="l1424"><span class="linenum">1424</span></a>              node = dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockNode'),
<a name="l1425"><span class="linenum">1425</span></a>              items = dock.dockeditems,
<a name="l1426"><span class="linenum">1426</span></a>              containermargin = parseInt(node.one('.dockeditem_container').<a class="function" onClick="logFunction('getStyle')" href="../../../../_functions/getstyle.html" onMouseOver="funcPopup(event,'getstyle')">getStyle</a>('marginTop').<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>('/[^0-9]+$/', ''), 10),
<a name="l1427"><span class="linenum">1427</span></a>              dockheight = node.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight') - containermargin,
<a name="l1428"><span class="linenum">1428</span></a>              controlheight = node.one('.controls').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight'),
<a name="l1429"><span class="linenum">1429</span></a>              buffer = (dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('bufferPanel') * 3),
<a name="l1430"><span class="linenum">1430</span></a>              possibleheight = dockheight - controlheight - buffer - (items.length * 2),
<a name="l1431"><span class="linenum">1431</span></a>              totalheight = 0,
<a name="l1432"><span class="linenum">1432</span></a>              id, dockedtitle;
<a name="l1433"><span class="linenum">1433</span></a>          if (items.length &gt; 0) {
<a name="l1434"><span class="linenum">1434</span></a>              for (id in items) {
<a name="l1435"><span class="linenum">1435</span></a>                  if (Y.Lang.<a class="function" onClick="logFunction('isNumber')" href="../../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(id) || Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(id)) {
<a name="l1436"><span class="linenum">1436</span></a>                      dockedtitle = Y.one(items[id].<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('title')).ancestor('.' + CSS.dockedtitle);
<a name="l1437"><span class="linenum">1437</span></a>                      if (dockedtitle) {
<a name="l1438"><span class="linenum">1438</span></a>                          if (this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('enabled')) {
<a name="l1439"><span class="linenum">1439</span></a>                              dockedtitle.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('height', 'auto');
<a name="l1440"><span class="linenum">1440</span></a>                          }
<a name="l1441"><span class="linenum">1441</span></a>                          totalheight += dockedtitle.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight') || 0;
<a name="l1442"><span class="linenum">1442</span></a>                      }
<a name="l1443"><span class="linenum">1443</span></a>                  }
<a name="l1444"><span class="linenum">1444</span></a>              }
<a name="l1445"><span class="linenum">1445</span></a>              if (totalheight &gt; possibleheight) {
<a name="l1446"><span class="linenum">1446</span></a>                  this.<a class="function" onClick="logFunction('enable')" href="../../../../_functions/enable.html" onMouseOver="funcPopup(event,'enable')">enable</a>(possibleheight);
<a name="l1447"><span class="linenum">1447</span></a>              }
<a name="l1448"><span class="linenum">1448</span></a>          }
<a name="l1449"><span class="linenum">1449</span></a>      },
<a name="l1450"><span class="linenum">1450</span></a>      <span class="comment">/**</span>
<a name="l1451"><span class="linenum">1451</span></a>  <span class="comment">     * Enables the dock sizer and resizes where required.</span>
<a name="l1452"><span class="linenum">1452</span></a>  <span class="comment">     * @method enable</span>
<a name="l1453"><span class="linenum">1453</span></a>  <span class="comment">     * @param {Number} possibleheight</span>
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">     */</span>
<a name="l1455"><span class="linenum">1455</span></a>      enable: function(possibleheight) {
<a name="l1456"><span class="linenum">1456</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock'),
<a name="l1457"><span class="linenum">1457</span></a>              items = dock.dockeditems,
<a name="l1458"><span class="linenum">1458</span></a>              count = dock.count,
<a name="l1459"><span class="linenum">1459</span></a>              runningcount = 0,
<a name="l1460"><span class="linenum">1460</span></a>              usedheight = 0,
<a name="l1461"><span class="linenum">1461</span></a>              id, itemtitle, itemheight, offsetheight;
<a name="l1462"><span class="linenum">1462</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('enabled', true);
<a name="l1463"><span class="linenum">1463</span></a>          for (id in items) {
<a name="l1464"><span class="linenum">1464</span></a>              if (Y.Lang.<a class="function" onClick="logFunction('isNumber')" href="../../../../_functions/isnumber.html" onMouseOver="funcPopup(event,'isnumber')">isNumber</a>(id) || Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(id)) {
<a name="l1465"><span class="linenum">1465</span></a>                  itemtitle = Y.one(items[id].<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('title')).ancestor('.' + CSS.dockedtitle);
<a name="l1466"><span class="linenum">1466</span></a>                  if (!itemtitle) {
<a name="l1467"><span class="linenum">1467</span></a>                      continue;
<a name="l1468"><span class="linenum">1468</span></a>                  }
<a name="l1469"><span class="linenum">1469</span></a>                  itemheight = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>((possibleheight - usedheight) / (count - runningcount));
<a name="l1470"><span class="linenum">1470</span></a>                  offsetheight = itemtitle.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('offsetHeight');
<a name="l1471"><span class="linenum">1471</span></a>                  itemtitle.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('overflow', 'hidden');
<a name="l1472"><span class="linenum">1472</span></a>                  if (offsetheight &gt; itemheight) {
<a name="l1473"><span class="linenum">1473</span></a>                      itemtitle.<a class="function" onClick="logFunction('setStyle')" href="../../../../_functions/setstyle.html" onMouseOver="funcPopup(event,'setstyle')">setStyle</a>('height', itemheight + 'px');
<a name="l1474"><span class="linenum">1474</span></a>                      usedheight += itemheight;
<a name="l1475"><span class="linenum">1475</span></a>                  } else {
<a name="l1476"><span class="linenum">1476</span></a>                      usedheight += offsetheight;
<a name="l1477"><span class="linenum">1477</span></a>                  }
<a name="l1478"><span class="linenum">1478</span></a>                  runningcount++;
<a name="l1479"><span class="linenum">1479</span></a>              }
<a name="l1480"><span class="linenum">1480</span></a>          }
<a name="l1481"><span class="linenum">1481</span></a>      }
<a name="l1482"><span class="linenum">1482</span></a>  };
<a name="l1483"><span class="linenum">1483</span></a>  Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(TABHEIGHTMANAGER, Y.Base, TABHEIGHTMANAGER.prototype, {
<a name="l1484"><span class="linenum">1484</span></a>      NAME: 'moodle-core-tabheightmanager',
<a name="l1485"><span class="linenum">1485</span></a>      ATTRS: {
<a name="l1486"><span class="linenum">1486</span></a>          <span class="comment">/**</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment">         * The dock.</span>
<a name="l1488"><span class="linenum">1488</span></a>  <span class="comment">         * @attribute dock</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">         * @type DOCK</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">         */</span>
<a name="l1492"><span class="linenum">1492</span></a>          dock: {
<a name="l1493"><span class="linenum">1493</span></a>              writeOnce: 'initOnly'
<a name="l1494"><span class="linenum">1494</span></a>          },
<a name="l1495"><span class="linenum">1495</span></a>          <span class="comment">/**</span>
<a name="l1496"><span class="linenum">1496</span></a>  <span class="comment">         * True if the item_sizer is being used, false otherwise.</span>
<a name="l1497"><span class="linenum">1497</span></a>  <span class="comment">         * @attribute enabled</span>
<a name="l1498"><span class="linenum">1498</span></a>  <span class="comment">         * @type Bool</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment">         */</span>
<a name="l1500"><span class="linenum">1500</span></a>          enabled: {
<a name="l1501"><span class="linenum">1501</span></a>              value: false
<a name="l1502"><span class="linenum">1502</span></a>          }
<a name="l1503"><span class="linenum">1503</span></a>      }
<a name="l1504"><span class="linenum">1504</span></a>  });
<a name="l1505"><span class="linenum">1505</span></a>  <span class="comment">/**</span>
<a name="l1506"><span class="linenum">1506</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l1507"><span class="linenum">1507</span></a>  <span class="comment"> *</span>
<a name="l1508"><span class="linenum">1508</span></a>  <span class="comment"> * This file contains the action key event definition that is used for accessibility handling within the Dock.</span>
<a name="l1509"><span class="linenum">1509</span></a>  <span class="comment"> *</span>
<a name="l1510"><span class="linenum">1510</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l1511"><span class="linenum">1511</span></a>  <span class="comment"> */</span>
<a name="l1512"><span class="linenum">1512</span></a>  
<a name="l1513"><span class="linenum">1513</span></a>  <span class="comment">/**</span>
<a name="l1514"><span class="linenum">1514</span></a>  <span class="comment"> * A 'dock:actionkey' Event.</span>
<a name="l1515"><span class="linenum">1515</span></a>  <span class="comment"> * The event consists of the left arrow, right arrow, enter and space keys.</span>
<a name="l1516"><span class="linenum">1516</span></a>  <span class="comment"> * More keys can be mapped to action meanings.</span>
<a name="l1517"><span class="linenum">1517</span></a>  <span class="comment"> * actions: collapse , expand, toggle, enter.</span>
<a name="l1518"><span class="linenum">1518</span></a>  <span class="comment"> *</span>
<a name="l1519"><span class="linenum">1519</span></a>  <span class="comment"> * This event is subscribed to by dockitems.</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment"> * The on() method to subscribe allows specifying the desired trigger actions as JSON.</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment"> *</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment"> * This event can also be delegated if needed.</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment"> *</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment"> * @class ActionKey</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment"> */</span>
<a name="l1527"><span class="linenum">1527</span></a>  Y.Event.<a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;dock:actionkey&quot;, {
<a name="l1528"><span class="linenum">1528</span></a>  <span class="comment">    // Webkit and IE repeat keydown when you hold down arrow keys.</span>
<a name="l1529"><span class="linenum">1529</span></a>  <span class="comment">    // Opera links keypress to page scroll; others keydown.</span>
<a name="l1530"><span class="linenum">1530</span></a>  <span class="comment">    // Firefox prevents page scroll via preventDefault() on either</span>
<a name="l1531"><span class="linenum">1531</span></a>  <span class="comment">    // keydown or keypress.</span>
<a name="l1532"><span class="linenum">1532</span></a>      _event: (Y.UA.webkit || Y.UA.ie) ? 'keydown' : 'keypress',
<a name="l1533"><span class="linenum">1533</span></a>  
<a name="l1534"><span class="linenum">1534</span></a>      <span class="comment">/**</span>
<a name="l1535"><span class="linenum">1535</span></a>  <span class="comment">     * The keys to trigger on.</span>
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">     * @property _keys</span>
<a name="l1537"><span class="linenum">1537</span></a>  <span class="comment">     */</span>
<a name="l1538"><span class="linenum">1538</span></a>      _keys: {
<a name="l1539"><span class="linenum">1539</span></a>  <span class="comment">        // arrows</span>
<a name="l1540"><span class="linenum">1540</span></a>          '37': 'collapse',
<a name="l1541"><span class="linenum">1541</span></a>          '39': 'expand',
<a name="l1542"><span class="linenum">1542</span></a>  <span class="comment">        // (@todo: lrt/rtl/M.core_dock.cfg.orientation decision to assign arrow to meanings)</span>
<a name="l1543"><span class="linenum">1543</span></a>          '32': 'toggle',
<a name="l1544"><span class="linenum">1544</span></a>          '13': 'enter'
<a name="l1545"><span class="linenum">1545</span></a>      },
<a name="l1546"><span class="linenum">1546</span></a>  
<a name="l1547"><span class="linenum">1547</span></a>      <span class="comment">/**</span>
<a name="l1548"><span class="linenum">1548</span></a>  <span class="comment">     * Handles key events</span>
<a name="l1549"><span class="linenum">1549</span></a>  <span class="comment">     * @method _keyHandler</span>
<a name="l1550"><span class="linenum">1550</span></a>  <span class="comment">     * @param {EventFacade} e</span>
<a name="l1551"><span class="linenum">1551</span></a>  <span class="comment">     * @param {SyntheticEvent.Notifier} notifier The notifier used to trigger the execution of subscribers</span>
<a name="l1552"><span class="linenum">1552</span></a>  <span class="comment">     * @param {Object} args</span>
<a name="l1553"><span class="linenum">1553</span></a>  <span class="comment">     */</span>
<a name="l1554"><span class="linenum">1554</span></a>      _keyHandler: function(e, notifier, args) {
<a name="l1555"><span class="linenum">1555</span></a>          var actObj;
<a name="l1556"><span class="linenum">1556</span></a>          if (!args.actions) {
<a name="l1557"><span class="linenum">1557</span></a>              actObj = {collapse: true, expand: true, toggle: true, enter: true};
<a name="l1558"><span class="linenum">1558</span></a>          } else {
<a name="l1559"><span class="linenum">1559</span></a>              actObj = args.actions;
<a name="l1560"><span class="linenum">1560</span></a>          }
<a name="l1561"><span class="linenum">1561</span></a>          if (this._keys[e.keyCode] &amp;&amp; actObj[this._keys[e.keyCode]]) {
<a name="l1562"><span class="linenum">1562</span></a>              e.action = this._keys[e.keyCode];
<a name="l1563"><span class="linenum">1563</span></a>              notifier.fire(e);
<a name="l1564"><span class="linenum">1564</span></a>          }
<a name="l1565"><span class="linenum">1565</span></a>      },
<a name="l1566"><span class="linenum">1566</span></a>  
<a name="l1567"><span class="linenum">1567</span></a>      <span class="comment">/**</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">     * Subscribes to events.</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">     * @method on</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">     * @param {Node} node The node this subscription was applied to.</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">     * @param {Subscription} sub The object tracking this subscription.</span>
<a name="l1572"><span class="linenum">1572</span></a>  <span class="comment">     * @param {SyntheticEvent.Notifier} notifier The notifier used to trigger the execution of subscribers</span>
<a name="l1573"><span class="linenum">1573</span></a>  <span class="comment">     */</span>
<a name="l1574"><span class="linenum">1574</span></a>      on: function(node, sub, notifier) {
<a name="l1575"><span class="linenum">1575</span></a>  <span class="comment">        // subscribe to _event and ask keyHandler to handle with given args[0] (the desired actions).</span>
<a name="l1576"><span class="linenum">1576</span></a>          if (sub.args === null) {
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">            // no actions given</span>
<a name="l1578"><span class="linenum">1578</span></a>              sub._detacher = node.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(this._event, this._keyHandler, this, notifier, {actions: false});
<a name="l1579"><span class="linenum">1579</span></a>          } else {
<a name="l1580"><span class="linenum">1580</span></a>              sub._detacher = node.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(this._event, this._keyHandler, this, notifier, sub.args[0]);
<a name="l1581"><span class="linenum">1581</span></a>          }
<a name="l1582"><span class="linenum">1582</span></a>      },
<a name="l1583"><span class="linenum">1583</span></a>  
<a name="l1584"><span class="linenum">1584</span></a>      <span class="comment">/**</span>
<a name="l1585"><span class="linenum">1585</span></a>  <span class="comment">     * Detaches an event listener</span>
<a name="l1586"><span class="linenum">1586</span></a>  <span class="comment">     * @method detach</span>
<a name="l1587"><span class="linenum">1587</span></a>  <span class="comment">     * @param {Node} node The node this subscription was applied to.</span>
<a name="l1588"><span class="linenum">1588</span></a>  <span class="comment">     * @param {Subscription} sub The object tracking this subscription.</span>
<a name="l1589"><span class="linenum">1589</span></a>  <span class="comment">     * @param {SyntheticEvent.Notifier} notifier The notifier used to trigger the execution of subscribers</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     */</span>
<a name="l1591"><span class="linenum">1591</span></a>      detach: function(node, sub) {
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">        // detach our _detacher handle of the subscription made in on()</span>
<a name="l1593"><span class="linenum">1593</span></a>          sub._detacher.<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l1594"><span class="linenum">1594</span></a>      },
<a name="l1595"><span class="linenum">1595</span></a>  
<a name="l1596"><span class="linenum">1596</span></a>      <span class="comment">/**</span>
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">     * Creates a delegated event listener.</span>
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">     * @method delegate</span>
<a name="l1599"><span class="linenum">1599</span></a>  <span class="comment">     * @param {Node} node The node this subscription was applied to.</span>
<a name="l1600"><span class="linenum">1600</span></a>  <span class="comment">     * @param {Subscription} sub The object tracking this subscription.</span>
<a name="l1601"><span class="linenum">1601</span></a>  <span class="comment">     * @param {SyntheticEvent.Notifier} notifier The notifier used to trigger the execution of subscribers</span>
<a name="l1602"><span class="linenum">1602</span></a>  <span class="comment">     * @param {String|function} filter Selector string or function that accpets an event object and returns null.</span>
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">     */</span>
<a name="l1604"><span class="linenum">1604</span></a>      delegate: function(node, sub, notifier, filter) {
<a name="l1605"><span class="linenum">1605</span></a>  <span class="comment">        // subscribe to _event and ask keyHandler to handle with given args[0] (the desired actions).</span>
<a name="l1606"><span class="linenum">1606</span></a>          if (sub.args === null) {
<a name="l1607"><span class="linenum">1607</span></a>  <span class="comment">            // no actions given</span>
<a name="l1608"><span class="linenum">1608</span></a>              sub._delegateDetacher = node.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>(this._event, this._keyHandler, filter, this, notifier, {actions: false});
<a name="l1609"><span class="linenum">1609</span></a>          } else {
<a name="l1610"><span class="linenum">1610</span></a>              sub._delegateDetacher = node.<a class="function" onClick="logFunction('delegate')" href="../../../../_functions/delegate.html" onMouseOver="funcPopup(event,'delegate')">delegate</a>(this._event, this._keyHandler, filter, this, notifier, sub.args[0]);
<a name="l1611"><span class="linenum">1611</span></a>          }
<a name="l1612"><span class="linenum">1612</span></a>      },
<a name="l1613"><span class="linenum">1613</span></a>  
<a name="l1614"><span class="linenum">1614</span></a>      <span class="comment">/**</span>
<a name="l1615"><span class="linenum">1615</span></a>  <span class="comment">     * Detaches a delegated event listener.</span>
<a name="l1616"><span class="linenum">1616</span></a>  <span class="comment">     * @method detachDelegate</span>
<a name="l1617"><span class="linenum">1617</span></a>  <span class="comment">     * @param {Node} node The node this subscription was applied to.</span>
<a name="l1618"><span class="linenum">1618</span></a>  <span class="comment">     * @param {Subscription} sub The object tracking this subscription.</span>
<a name="l1619"><span class="linenum">1619</span></a>  <span class="comment">     * @param {SyntheticEvent.Notifier} notifier The notifier used to trigger the execution of subscribers</span>
<a name="l1620"><span class="linenum">1620</span></a>  <span class="comment">     * @param {String|function} filter Selector string or function that accpets an event object and returns null.</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment">     */</span>
<a name="l1622"><span class="linenum">1622</span></a>      detachDelegate: function(node, sub) {
<a name="l1623"><span class="linenum">1623</span></a>          sub._delegateDetacher.<a class="function" onClick="logFunction('detach')" href="../../../../_functions/detach.html" onMouseOver="funcPopup(event,'detach')">detach</a>();
<a name="l1624"><span class="linenum">1624</span></a>      }
<a name="l1625"><span class="linenum">1625</span></a>  });
<a name="l1626"><span class="linenum">1626</span></a>  <span class="comment">/* global BLOCK, LOGNS, DOCKEDITEM */</span>
<a name="l1627"><span class="linenum">1627</span></a>  
<a name="l1628"><span class="linenum">1628</span></a>  <span class="comment">/**</span>
<a name="l1629"><span class="linenum">1629</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment"> *</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment"> * This file contains the block class used to manage blocks (both docked and not) for the dock.</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment"> *</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment"> */</span>
<a name="l1635"><span class="linenum">1635</span></a>  
<a name="l1636"><span class="linenum">1636</span></a>  <span class="comment">/**</span>
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment"> * Block.</span>
<a name="l1638"><span class="linenum">1638</span></a>  <span class="comment"> *</span>
<a name="l1639"><span class="linenum">1639</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l1640"><span class="linenum">1640</span></a>  <span class="comment"> * @class Block</span>
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment"> * @constructor</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment"> * @extends Base</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment"> */</span>
<a name="l1644"><span class="linenum">1644</span></a>  BLOCK = function() {
<a name="l1645"><span class="linenum">1645</span></a>      BLOCK.superclass.constructor.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l1646"><span class="linenum">1646</span></a>  };
<a name="l1647"><span class="linenum">1647</span></a>  BLOCK.prototype = {
<a name="l1648"><span class="linenum">1648</span></a>      <span class="comment">/**</span>
<a name="l1649"><span class="linenum">1649</span></a>  <span class="comment">     * A content place holder used when the block has been docked.</span>
<a name="l1650"><span class="linenum">1650</span></a>  <span class="comment">     * @property contentplaceholder</span>
<a name="l1651"><span class="linenum">1651</span></a>  <span class="comment">     * @protected</span>
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">     * @type Node</span>
<a name="l1653"><span class="linenum">1653</span></a>  <span class="comment">     */</span>
<a name="l1654"><span class="linenum">1654</span></a>      contentplaceholder: null,
<a name="l1655"><span class="linenum">1655</span></a>      <span class="comment">/**</span>
<a name="l1656"><span class="linenum">1656</span></a>  <span class="comment">     * The skip link associated with this block.</span>
<a name="l1657"><span class="linenum">1657</span></a>  <span class="comment">     * @property contentskipanchor</span>
<a name="l1658"><span class="linenum">1658</span></a>  <span class="comment">     * @protected</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment">     * @type Node</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">     */</span>
<a name="l1661"><span class="linenum">1661</span></a>      contentskipanchor: null,
<a name="l1662"><span class="linenum">1662</span></a>      <span class="comment">/**</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">     * The cached content node for the actual block</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     * @property cachedcontentnode</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     * @protected</span>
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">     * @type Node</span>
<a name="l1667"><span class="linenum">1667</span></a>  <span class="comment">     */</span>
<a name="l1668"><span class="linenum">1668</span></a>      cachedcontentnode: null,
<a name="l1669"><span class="linenum">1669</span></a>      <span class="comment">/**</span>
<a name="l1670"><span class="linenum">1670</span></a>  <span class="comment">     * If true the user preference isn't updated</span>
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">     * @property skipsetposition</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">     * @protected</span>
<a name="l1673"><span class="linenum">1673</span></a>  <span class="comment">     * @type Boolean</span>
<a name="l1674"><span class="linenum">1674</span></a>  <span class="comment">     */</span>
<a name="l1675"><span class="linenum">1675</span></a>      skipsetposition: true,
<a name="l1676"><span class="linenum">1676</span></a>      <span class="comment">/**</span>
<a name="l1677"><span class="linenum">1677</span></a>  <span class="comment">     * The dock item associated with this block</span>
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">     * @property dockitem</span>
<a name="l1679"><span class="linenum">1679</span></a>  <span class="comment">     * @protected</span>
<a name="l1680"><span class="linenum">1680</span></a>  <span class="comment">     * @type DOCKEDITEM</span>
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">     */</span>
<a name="l1682"><span class="linenum">1682</span></a>      dockitem: null,
<a name="l1683"><span class="linenum">1683</span></a>      <span class="comment">/**</span>
<a name="l1684"><span class="linenum">1684</span></a>  <span class="comment">     * Called during the initialisation process of the object.</span>
<a name="l1685"><span class="linenum">1685</span></a>  <span class="comment">     * @method initializer</span>
<a name="l1686"><span class="linenum">1686</span></a>  <span class="comment">     */</span>
<a name="l1687"><span class="linenum">1687</span></a>      initializer: function() {
<a name="l1688"><span class="linenum">1688</span></a>          var node = Y.one('#inst' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id'));
<a name="l1689"><span class="linenum">1689</span></a>          if (!node) {
<a name="l1690"><span class="linenum">1690</span></a>              return false;
<a name="l1691"><span class="linenum">1691</span></a>          }
<a name="l1692"><span class="linenum">1692</span></a>  
<a name="l1693"><span class="linenum">1693</span></a>  
<a name="l1694"><span class="linenum">1694</span></a>          M.core.dock.ensureMoveToIconExists(node);
<a name="l1695"><span class="linenum">1695</span></a>  
<a name="l1696"><span class="linenum">1696</span></a>  <span class="comment">        // Move the block straight to the dock if required</span>
<a name="l1697"><span class="linenum">1697</span></a>          if (node.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(CSS.dockonload)) {
<a name="l1698"><span class="linenum">1698</span></a>              node.removeClass(CSS.dockonload);
<a name="l1699"><span class="linenum">1699</span></a>              this.moveToDock();
<a name="l1700"><span class="linenum">1700</span></a>          }
<a name="l1701"><span class="linenum">1701</span></a>          this.skipsetposition = false;
<a name="l1702"><span class="linenum">1702</span></a>          return true;
<a name="l1703"><span class="linenum">1703</span></a>      },
<a name="l1704"><span class="linenum">1704</span></a>      <span class="comment">/**</span>
<a name="l1705"><span class="linenum">1705</span></a>  <span class="comment">     * Returns the class associated with this block.</span>
<a name="l1706"><span class="linenum">1706</span></a>  <span class="comment">     * @method _getBlockClass</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     * @private</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * @param {Node} node</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * @return String</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     */</span>
<a name="l1711"><span class="linenum">1711</span></a>      _getBlockClass: function(node) {
<a name="l1712"><span class="linenum">1712</span></a>          var block = node.<a class="function" onClick="logFunction('getData')" href="../../../../_functions/getdata.html" onMouseOver="funcPopup(event,'getdata')">getData</a>('block'),
<a name="l1713"><span class="linenum">1713</span></a>              classes,
<a name="l1714"><span class="linenum">1714</span></a>              matches;
<a name="l1715"><span class="linenum">1715</span></a>          if (Y.Lang.<a class="function" onClick="logFunction('isString')" href="../../../../_functions/isstring.html" onMouseOver="funcPopup(event,'isstring')">isString</a>(block) &amp;&amp; block !== '') {
<a name="l1716"><span class="linenum">1716</span></a>              return block;
<a name="l1717"><span class="linenum">1717</span></a>          }
<a name="l1718"><span class="linenum">1718</span></a>          classes = node.<a class="function" onClick="logFunction('getAttribute')" href="../../../../_functions/getattribute.html" onMouseOver="funcPopup(event,'getattribute')">getAttribute</a>('className').<a class="function" onClick="logFunction('toString')" href="../../../../_functions/tostring.html" onMouseOver="funcPopup(event,'tostring')">toString</a>();
<a name="l1719"><span class="linenum">1719</span></a>          matches = /(^| )block_([^ ]+)/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(classes);
<a name="l1720"><span class="linenum">1720</span></a>          if (matches) {
<a name="l1721"><span class="linenum">1721</span></a>              return matches[2];
<a name="l1722"><span class="linenum">1722</span></a>          }
<a name="l1723"><span class="linenum">1723</span></a>          return matches;
<a name="l1724"><span class="linenum">1724</span></a>      },
<a name="l1725"><span class="linenum">1725</span></a>  
<a name="l1726"><span class="linenum">1726</span></a>      <span class="comment">/**</span>
<a name="l1727"><span class="linenum">1727</span></a>  <span class="comment">     * This function is responsible for moving a block from the page structure onto the dock.</span>
<a name="l1728"><span class="linenum">1728</span></a>  <span class="comment">     * @method moveToDock</span>
<a name="l1729"><span class="linenum">1729</span></a>  <span class="comment">     * @param {EventFacade} e</span>
<a name="l1730"><span class="linenum">1730</span></a>  <span class="comment">     */</span>
<a name="l1731"><span class="linenum">1731</span></a>      moveToDock: function(e) {
<a name="l1732"><span class="linenum">1732</span></a>          if (e) {
<a name="l1733"><span class="linenum">1733</span></a>              e.halt(true);
<a name="l1734"><span class="linenum">1734</span></a>          }
<a name="l1735"><span class="linenum">1735</span></a>  
<a name="l1736"><span class="linenum">1736</span></a>          var dock = M.core.dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(),
<a name="l1737"><span class="linenum">1737</span></a>              id = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id'),
<a name="l1738"><span class="linenum">1738</span></a>              blockcontent = Y.one('#inst' + id).one('.content'),
<a name="l1739"><span class="linenum">1739</span></a>              icon = (window.<a class="function" onClick="logFunction('right_to_left')" href="../../../../_functions/right_to_left.html" onMouseOver="funcPopup(event,'right_to_left')">right_to_left</a>()) ? 't/dock_to_block_rtl' : 't/dock_to_block',
<a name="l1740"><span class="linenum">1740</span></a>              breakchar = (location.href.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/\?/)) ? '&amp;' : '?',
<a name="l1741"><span class="linenum">1741</span></a>              blocktitle,
<a name="l1742"><span class="linenum">1742</span></a>              blockcommands,
<a name="l1743"><span class="linenum">1743</span></a>              movetoimg,
<a name="l1744"><span class="linenum">1744</span></a>              moveto;
<a name="l1745"><span class="linenum">1745</span></a>  
<a name="l1746"><span class="linenum">1746</span></a>          if (!blockcontent) {
<a name="l1747"><span class="linenum">1747</span></a>              return;
<a name="l1748"><span class="linenum">1748</span></a>          }
<a name="l1749"><span class="linenum">1749</span></a>  
<a name="l1750"><span class="linenum">1750</span></a>  
<a name="l1751"><span class="linenum">1751</span></a>          this.recordBlockState();
<a name="l1752"><span class="linenum">1752</span></a>  
<a name="l1753"><span class="linenum">1753</span></a>          blocktitle = this.cachedcontentnode.one('.title h2').<a class="function" onClick="logFunction('cloneNode')" href="../../../../_functions/clonenode.html" onMouseOver="funcPopup(event,'clonenode')">cloneNode</a>(true);
<a name="l1754"><span class="linenum">1754</span></a>  
<a name="l1755"><span class="linenum">1755</span></a>  <span class="comment">        // Build up the block commands.</span>
<a name="l1756"><span class="linenum">1756</span></a>  <span class="comment">        // These should not actually added to the DOM.</span>
<a name="l1757"><span class="linenum">1757</span></a>          blockcommands = this.cachedcontentnode.one('.title .commands');
<a name="l1758"><span class="linenum">1758</span></a>          if (blockcommands) {
<a name="l1759"><span class="linenum">1759</span></a>              blockcommands = blockcommands.<a class="function" onClick="logFunction('cloneNode')" href="../../../../_functions/clonenode.html" onMouseOver="funcPopup(event,'clonenode')">cloneNode</a>(true);
<a name="l1760"><span class="linenum">1760</span></a>          } else {
<a name="l1761"><span class="linenum">1761</span></a>              blockcommands = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;commands&quot;&gt;&lt;/div&gt;');
<a name="l1762"><span class="linenum">1762</span></a>          }
<a name="l1763"><span class="linenum">1763</span></a>          movetoimg = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;img /&gt;').setAttrs({
<a name="l1764"><span class="linenum">1764</span></a>              alt: Y.Escape.<a class="function" onClick="logFunction('html')" href="../../../../_functions/html.html" onMouseOver="funcPopup(event,'html')">html</a>(M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('undockitem', 'block')),
<a name="l1765"><span class="linenum">1765</span></a>              title: Y.Escape.<a class="function" onClick="logFunction('html')" href="../../../../_functions/html.html" onMouseOver="funcPopup(event,'html')">html</a>(M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('undockblock', 'block', blocktitle.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('innerHTML'))),
<a name="l1766"><span class="linenum">1766</span></a>              src: M.util.image_url(icon, 'moodle')
<a name="l1767"><span class="linenum">1767</span></a>          });
<a name="l1768"><span class="linenum">1768</span></a>          moveto = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;a class=&quot;moveto customcommand requiresjs&quot;&gt;&lt;/a&gt;').setAttrs({
<a name="l1769"><span class="linenum">1769</span></a>              href: Y.config.win.location.href + breakchar + 'dock=' + id
<a name="l1770"><span class="linenum">1770</span></a>          });
<a name="l1771"><span class="linenum">1771</span></a>          moveto.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(movetoimg);
<a name="l1772"><span class="linenum">1772</span></a>          blockcommands.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(moveto.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(movetoimg));
<a name="l1773"><span class="linenum">1773</span></a>  
<a name="l1774"><span class="linenum">1774</span></a>  <span class="comment">        // Create a new dock item for the block</span>
<a name="l1775"><span class="linenum">1775</span></a>          this.dockitem = new DOCKEDITEM({
<a name="l1776"><span class="linenum">1776</span></a>              block: this,
<a name="l1777"><span class="linenum">1777</span></a>              dock: dock,
<a name="l1778"><span class="linenum">1778</span></a>              blockinstanceid: id,
<a name="l1779"><span class="linenum">1779</span></a>              title: blocktitle,
<a name="l1780"><span class="linenum">1780</span></a>              contents: blockcontent,
<a name="l1781"><span class="linenum">1781</span></a>              commands: blockcommands,
<a name="l1782"><span class="linenum">1782</span></a>              blockclass: this._getBlockClass(Y.one('#inst' + id))
<a name="l1783"><span class="linenum">1783</span></a>          });
<a name="l1784"><span class="linenum">1784</span></a>  <span class="comment">        // Register an event so that when it is removed we can put it back as a block</span>
<a name="l1785"><span class="linenum">1785</span></a>          dock.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(this.dockitem);
<a name="l1786"><span class="linenum">1786</span></a>  
<a name="l1787"><span class="linenum">1787</span></a>          if (!this.skipsetposition) {
<a name="l1788"><span class="linenum">1788</span></a>  <span class="comment">            // save the users preference</span>
<a name="l1789"><span class="linenum">1789</span></a>              M.util.<a class="function" onClick="logFunction('set_user_preference')" href="../../../../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>('docked_block_instance_' + id, 1);
<a name="l1790"><span class="linenum">1790</span></a>          }
<a name="l1791"><span class="linenum">1791</span></a>  
<a name="l1792"><span class="linenum">1792</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('isDocked', true);
<a name="l1793"><span class="linenum">1793</span></a>      },
<a name="l1794"><span class="linenum">1794</span></a>      <span class="comment">/**</span>
<a name="l1795"><span class="linenum">1795</span></a>  <span class="comment">     * Records the block state and adds it to the docks holding area.</span>
<a name="l1796"><span class="linenum">1796</span></a>  <span class="comment">     * @method recordBlockState</span>
<a name="l1797"><span class="linenum">1797</span></a>  <span class="comment">     */</span>
<a name="l1798"><span class="linenum">1798</span></a>      recordBlockState: function() {
<a name="l1799"><span class="linenum">1799</span></a>          var id = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id'),
<a name="l1800"><span class="linenum">1800</span></a>              dock = M.core.dock.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(),
<a name="l1801"><span class="linenum">1801</span></a>              node = Y.one('#inst' + id),
<a name="l1802"><span class="linenum">1802</span></a>              skipanchor = node.previous();
<a name="l1803"><span class="linenum">1803</span></a>  <span class="comment">        // Disable the skip anchor when docking</span>
<a name="l1804"><span class="linenum">1804</span></a>          if (skipanchor.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('skip-block')) {
<a name="l1805"><span class="linenum">1805</span></a>              this.contentskipanchor = skipanchor;
<a name="l1806"><span class="linenum">1806</span></a>              this.contentskipanchor.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l1807"><span class="linenum">1807</span></a>          }
<a name="l1808"><span class="linenum">1808</span></a>          this.cachedcontentnode = node;
<a name="l1809"><span class="linenum">1809</span></a>          this.contentplaceholder = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;block_dock_placeholder&quot;&gt;&lt;/div&gt;');
<a name="l1810"><span class="linenum">1810</span></a>          node.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(this.contentplaceholder);
<a name="l1811"><span class="linenum">1811</span></a>          dock.addToHoldingArea(node);
<a name="l1812"><span class="linenum">1812</span></a>          node = null;
<a name="l1813"><span class="linenum">1813</span></a>      },
<a name="l1814"><span class="linenum">1814</span></a>  
<a name="l1815"><span class="linenum">1815</span></a>      <span class="comment">/**</span>
<a name="l1816"><span class="linenum">1816</span></a>  <span class="comment">     * This function removes a block from the dock and puts it back into the page structure.</span>
<a name="l1817"><span class="linenum">1817</span></a>  <span class="comment">     * @method returnToPage</span>
<a name="l1818"><span class="linenum">1818</span></a>  <span class="comment">     * @return {Boolean}</span>
<a name="l1819"><span class="linenum">1819</span></a>  <span class="comment">     */</span>
<a name="l1820"><span class="linenum">1820</span></a>      returnToPage: function() {
<a name="l1821"><span class="linenum">1821</span></a>          var id = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id');
<a name="l1822"><span class="linenum">1822</span></a>  
<a name="l1823"><span class="linenum">1823</span></a>  
<a name="l1824"><span class="linenum">1824</span></a>  <span class="comment">        // Enable the skip anchor when going back to block mode</span>
<a name="l1825"><span class="linenum">1825</span></a>          if (this.contentskipanchor) {
<a name="l1826"><span class="linenum">1826</span></a>              this.contentskipanchor.<a class="function" onClick="logFunction('show')" href="../../../../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l1827"><span class="linenum">1827</span></a>          }
<a name="l1828"><span class="linenum">1828</span></a>  
<a name="l1829"><span class="linenum">1829</span></a>          if (this.cachedcontentnode.one('.header')) {
<a name="l1830"><span class="linenum">1830</span></a>              this.cachedcontentnode.one('.header').<a class="function" onClick="logFunction('insert')" href="../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(this.dockitem.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('contents'), 'after');
<a name="l1831"><span class="linenum">1831</span></a>          } else {
<a name="l1832"><span class="linenum">1832</span></a>              this.cachedcontentnode.<a class="function" onClick="logFunction('insert')" href="../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(this.dockitem.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('contents'));
<a name="l1833"><span class="linenum">1833</span></a>          }
<a name="l1834"><span class="linenum">1834</span></a>  
<a name="l1835"><span class="linenum">1835</span></a>          this.contentplaceholder.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(this.cachedcontentnode);
<a name="l1836"><span class="linenum">1836</span></a>          this.cachedcontentnode = null;
<a name="l1837"><span class="linenum">1837</span></a>  
<a name="l1838"><span class="linenum">1838</span></a>          M.util.<a class="function" onClick="logFunction('set_user_preference')" href="../../../../_functions/set_user_preference.html" onMouseOver="funcPopup(event,'set_user_preference')">set_user_preference</a>('docked_block_instance_' + id, 0);
<a name="l1839"><span class="linenum">1839</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('isDocked', false);
<a name="l1840"><span class="linenum">1840</span></a>          return true;
<a name="l1841"><span class="linenum">1841</span></a>      }
<a name="l1842"><span class="linenum">1842</span></a>  };
<a name="l1843"><span class="linenum">1843</span></a>  Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(BLOCK, Y.Base, BLOCK.prototype, {
<a name="l1844"><span class="linenum">1844</span></a>      NAME: 'moodle-core-dock-block',
<a name="l1845"><span class="linenum">1845</span></a>      ATTRS: {
<a name="l1846"><span class="linenum">1846</span></a>          <span class="comment">/**</span>
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment">         * The block instance ID</span>
<a name="l1848"><span class="linenum">1848</span></a>  <span class="comment">         * @attribute id</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment">         * @type Number</span>
<a name="l1851"><span class="linenum">1851</span></a>  <span class="comment">         */</span>
<a name="l1852"><span class="linenum">1852</span></a>          id: {
<a name="l1853"><span class="linenum">1853</span></a>              writeOnce: 'initOnly',
<a name="l1854"><span class="linenum">1854</span></a>              setter: function(value) {
<a name="l1855"><span class="linenum">1855</span></a>                  return parseInt(value, 10);
<a name="l1856"><span class="linenum">1856</span></a>              }
<a name="l1857"><span class="linenum">1857</span></a>          },
<a name="l1858"><span class="linenum">1858</span></a>          <span class="comment">/**</span>
<a name="l1859"><span class="linenum">1859</span></a>  <span class="comment">         * True if the block has been docked.</span>
<a name="l1860"><span class="linenum">1860</span></a>  <span class="comment">         * @attribute isDocked</span>
<a name="l1861"><span class="linenum">1861</span></a>  <span class="comment">         * @default false</span>
<a name="l1862"><span class="linenum">1862</span></a>  <span class="comment">         * @type Boolean</span>
<a name="l1863"><span class="linenum">1863</span></a>  <span class="comment">         */</span>
<a name="l1864"><span class="linenum">1864</span></a>          isDocked: {
<a name="l1865"><span class="linenum">1865</span></a>              value: false
<a name="l1866"><span class="linenum">1866</span></a>          }
<a name="l1867"><span class="linenum">1867</span></a>      }
<a name="l1868"><span class="linenum">1868</span></a>  });
<a name="l1869"><span class="linenum">1869</span></a>  <span class="comment">/* global LOGNS, DOCKEDITEM */</span>
<a name="l1870"><span class="linenum">1870</span></a>  
<a name="l1871"><span class="linenum">1871</span></a>  <span class="comment">/**</span>
<a name="l1872"><span class="linenum">1872</span></a>  <span class="comment"> * Dock JS.</span>
<a name="l1873"><span class="linenum">1873</span></a>  <span class="comment"> *</span>
<a name="l1874"><span class="linenum">1874</span></a>  <span class="comment"> * This file contains the docked item class.</span>
<a name="l1875"><span class="linenum">1875</span></a>  <span class="comment"> *</span>
<a name="l1876"><span class="linenum">1876</span></a>  <span class="comment"> * @module moodle-core-dock</span>
<a name="l1877"><span class="linenum">1877</span></a>  <span class="comment"> */</span>
<a name="l1878"><span class="linenum">1878</span></a>  
<a name="l1879"><span class="linenum">1879</span></a>  <span class="comment">/**</span>
<a name="l1880"><span class="linenum">1880</span></a>  <span class="comment"> * Docked item.</span>
<a name="l1881"><span class="linenum">1881</span></a>  <span class="comment"> *</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment"> * @namespace M.core.dock</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment"> * @class DockedItem</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment"> * @constructor</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment"> * @extends Base</span>
<a name="l1886"><span class="linenum">1886</span></a>  <span class="comment"> * @uses EventTarget</span>
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment"> */</span>
<a name="l1888"><span class="linenum">1888</span></a>  DOCKEDITEM = function() {
<a name="l1889"><span class="linenum">1889</span></a>      DOCKEDITEM.superclass.constructor.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l1890"><span class="linenum">1890</span></a>  };
<a name="l1891"><span class="linenum">1891</span></a>  DOCKEDITEM.prototype = {
<a name="l1892"><span class="linenum">1892</span></a>      <span class="comment">/**</span>
<a name="l1893"><span class="linenum">1893</span></a>  <span class="comment">     * Set to true if this item is currently being displayed.</span>
<a name="l1894"><span class="linenum">1894</span></a>  <span class="comment">     * @property active</span>
<a name="l1895"><span class="linenum">1895</span></a>  <span class="comment">     * @protected</span>
<a name="l1896"><span class="linenum">1896</span></a>  <span class="comment">     * @type Boolean</span>
<a name="l1897"><span class="linenum">1897</span></a>  <span class="comment">     */</span>
<a name="l1898"><span class="linenum">1898</span></a>      active: false,
<a name="l1899"><span class="linenum">1899</span></a>      <span class="comment">/**</span>
<a name="l1900"><span class="linenum">1900</span></a>  <span class="comment">     * Called during the initialisation process of the object.</span>
<a name="l1901"><span class="linenum">1901</span></a>  <span class="comment">     * @method initializer</span>
<a name="l1902"><span class="linenum">1902</span></a>  <span class="comment">     */</span>
<a name="l1903"><span class="linenum">1903</span></a>      initializer: function() {
<a name="l1904"><span class="linenum">1904</span></a>          var title = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('title'),
<a name="l1905"><span class="linenum">1905</span></a>              titlestring,
<a name="l1906"><span class="linenum">1906</span></a>              type;
<a name="l1907"><span class="linenum">1907</span></a>          <span class="comment">/**</span>
<a name="l1908"><span class="linenum">1908</span></a>  <span class="comment">         * Fired before the docked item has been drawn.</span>
<a name="l1909"><span class="linenum">1909</span></a>  <span class="comment">         * @event dockeditem:drawstart</span>
<a name="l1910"><span class="linenum">1910</span></a>  <span class="comment">         */</span>
<a name="l1911"><span class="linenum">1911</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:drawstart', {prefix: 'dockeditem'});
<a name="l1912"><span class="linenum">1912</span></a>          <span class="comment">/**</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">         * Fired after the docked item has been drawn.</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">         * @event dockeditem:drawcomplete</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">         */</span>
<a name="l1916"><span class="linenum">1916</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:drawcomplete', {prefix: 'dockeditem'});
<a name="l1917"><span class="linenum">1917</span></a>          <span class="comment">/**</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">         * Fired before the docked item is to be shown.</span>
<a name="l1919"><span class="linenum">1919</span></a>  <span class="comment">         * @event dockeditem:showstart</span>
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">         */</span>
<a name="l1921"><span class="linenum">1921</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:showstart', {prefix: 'dockeditem'});
<a name="l1922"><span class="linenum">1922</span></a>          <span class="comment">/**</span>
<a name="l1923"><span class="linenum">1923</span></a>  <span class="comment">         * Fired after the docked item has been shown.</span>
<a name="l1924"><span class="linenum">1924</span></a>  <span class="comment">         * @event dockeditem:showcomplete</span>
<a name="l1925"><span class="linenum">1925</span></a>  <span class="comment">         */</span>
<a name="l1926"><span class="linenum">1926</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:showcomplete', {prefix: 'dockeditem'});
<a name="l1927"><span class="linenum">1927</span></a>          <span class="comment">/**</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment">         * Fired before the docked item has been hidden.</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">         * @event dockeditem:hidestart</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment">         */</span>
<a name="l1931"><span class="linenum">1931</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:hidestart', {prefix: 'dockeditem'});
<a name="l1932"><span class="linenum">1932</span></a>          <span class="comment">/**</span>
<a name="l1933"><span class="linenum">1933</span></a>  <span class="comment">         * Fired after the docked item has been hidden.</span>
<a name="l1934"><span class="linenum">1934</span></a>  <span class="comment">         * @event dockeditem:hidecomplete</span>
<a name="l1935"><span class="linenum">1935</span></a>  <span class="comment">         */</span>
<a name="l1936"><span class="linenum">1936</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:hidecomplete', {prefix: 'dockeditem'});
<a name="l1937"><span class="linenum">1937</span></a>          <span class="comment">/**</span>
<a name="l1938"><span class="linenum">1938</span></a>  <span class="comment">         * Fired when the docked item is removed from the dock.</span>
<a name="l1939"><span class="linenum">1939</span></a>  <span class="comment">         * @event dockeditem:itemremoved</span>
<a name="l1940"><span class="linenum">1940</span></a>  <span class="comment">         */</span>
<a name="l1941"><span class="linenum">1941</span></a>          this.<a class="function" onClick="logFunction('publish')" href="../../../../_functions/publish.html" onMouseOver="funcPopup(event,'publish')">publish</a>('dockeditem:itemremoved', {prefix: 'dockeditem'});
<a name="l1942"><span class="linenum">1942</span></a>          if (title) {
<a name="l1943"><span class="linenum">1943</span></a>              type = title.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('nodeName');
<a name="l1944"><span class="linenum">1944</span></a>              titlestring = title.<a class="function" onClick="logFunction('cloneNode')" href="../../../../_functions/clonenode.html" onMouseOver="funcPopup(event,'clonenode')">cloneNode</a>(true);
<a name="l1945"><span class="linenum">1945</span></a>              title = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;' + type + '&gt;&lt;/' + type + '&gt;');
<a name="l1946"><span class="linenum">1946</span></a>              title = M.core.dock.fixTitleOrientation(title, titlestring.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('text'));
<a name="l1947"><span class="linenum">1947</span></a>              this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('title', title);
<a name="l1948"><span class="linenum">1948</span></a>              this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('titlestring', titlestring);
<a name="l1949"><span class="linenum">1949</span></a>          }
<a name="l1950"><span class="linenum">1950</span></a>      },
<a name="l1951"><span class="linenum">1951</span></a>      <span class="comment">/**</span>
<a name="l1952"><span class="linenum">1952</span></a>  <span class="comment">     * This function draws the item on the dock.</span>
<a name="l1953"><span class="linenum">1953</span></a>  <span class="comment">     * @method draw</span>
<a name="l1954"><span class="linenum">1954</span></a>  <span class="comment">     * @return Boolean</span>
<a name="l1955"><span class="linenum">1955</span></a>  <span class="comment">     */</span>
<a name="l1956"><span class="linenum">1956</span></a>      draw: function() {
<a name="l1957"><span class="linenum">1957</span></a>          var create = Y.Node.create,
<a name="l1958"><span class="linenum">1958</span></a>              dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock'),
<a name="l1959"><span class="linenum">1959</span></a>              count = dock.count,
<a name="l1960"><span class="linenum">1960</span></a>              docktitle,
<a name="l1961"><span class="linenum">1961</span></a>              dockitem,
<a name="l1962"><span class="linenum">1962</span></a>              closeicon,
<a name="l1963"><span class="linenum">1963</span></a>              closeiconimg,
<a name="l1964"><span class="linenum">1964</span></a>              id = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('id');
<a name="l1965"><span class="linenum">1965</span></a>  
<a name="l1966"><span class="linenum">1966</span></a>          this.fire('dockeditem:drawstart');
<a name="l1967"><span class="linenum">1967</span></a>  
<a name="l1968"><span class="linenum">1968</span></a>          docktitle = <a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div id=&quot;dock_item_' + id + '_title&quot; role=&quot;menu&quot; aria-haspopup=&quot;true&quot; class=&quot;'
<a name="l1969"><span class="linenum">1969</span></a>              + CSS.dockedtitle + '&quot;&gt;&lt;/div&gt;');
<a name="l1970"><span class="linenum">1970</span></a>          docktitle.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('title'));
<a name="l1971"><span class="linenum">1971</span></a>          dockitem = <a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div id=&quot;dock_item_' + id + '&quot; class=&quot;' + CSS.dockeditem + '&quot; tabindex=&quot;0&quot; rel=&quot;' + id + '&quot;&gt;&lt;/div&gt;');
<a name="l1972"><span class="linenum">1972</span></a>          if (count === 1) {
<a name="l1973"><span class="linenum">1973</span></a>              dockitem.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('firstdockitem');
<a name="l1974"><span class="linenum">1974</span></a>          }
<a name="l1975"><span class="linenum">1975</span></a>          dockitem.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(docktitle);
<a name="l1976"><span class="linenum">1976</span></a>          dock.<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(dockitem);
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>          closeiconimg = <a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;img alt=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hidepanel', 'block') +
<a name="l1979"><span class="linenum">1979</span></a>                  '&quot; title=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hidedockpanel', 'block') + '&quot; /&gt;');
<a name="l1980"><span class="linenum">1980</span></a>          closeiconimg.<a class="function" onClick="logFunction('setAttribute')" href="../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('src', M.util.image_url('t/dockclose', 'moodle'));
<a name="l1981"><span class="linenum">1981</span></a>          closeicon = <a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;span class=&quot;hidepanelicon&quot; tabindex=&quot;0&quot;&gt;&lt;/span&gt;').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(closeiconimg);
<a name="l1982"><span class="linenum">1982</span></a>          closeicon.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('forceclose|click', this.hide, this);
<a name="l1983"><span class="linenum">1983</span></a>          closeicon.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('dock:actionkey', this.hide, this, {actions: {enter: true, toggle: true}});
<a name="l1984"><span class="linenum">1984</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('commands').<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(closeicon);
<a name="l1985"><span class="linenum">1985</span></a>  
<a name="l1986"><span class="linenum">1986</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('dockTitleNode', docktitle);
<a name="l1987"><span class="linenum">1987</span></a>          this.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('dockItemNode', dockitem);
<a name="l1988"><span class="linenum">1988</span></a>  
<a name="l1989"><span class="linenum">1989</span></a>          this.fire('dockeditem:drawcomplete');
<a name="l1990"><span class="linenum">1990</span></a>          return true;
<a name="l1991"><span class="linenum">1991</span></a>      },
<a name="l1992"><span class="linenum">1992</span></a>      <span class="comment">/**</span>
<a name="l1993"><span class="linenum">1993</span></a>  <span class="comment">     * This function toggles makes the item active and shows it.</span>
<a name="l1994"><span class="linenum">1994</span></a>  <span class="comment">     * @method show</span>
<a name="l1995"><span class="linenum">1995</span></a>  <span class="comment">     * @return Boolean</span>
<a name="l1996"><span class="linenum">1996</span></a>  <span class="comment">     */</span>
<a name="l1997"><span class="linenum">1997</span></a>      show: function() {
<a name="l1998"><span class="linenum">1998</span></a>          var dock = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock'),
<a name="l1999"><span class="linenum">1999</span></a>              panel = dock.getPanel(),
<a name="l2000"><span class="linenum">2000</span></a>              docktitle = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode');
<a name="l2001"><span class="linenum">2001</span></a>  
<a name="l2002"><span class="linenum">2002</span></a>          dock.hideActive();
<a name="l2003"><span class="linenum">2003</span></a>          this.fire('dockeditem:showstart');
<a name="l2004"><span class="linenum">2004</span></a>          panel.<a class="function" onClick="logFunction('setHeader')" href="../../../../_functions/setheader.html" onMouseOver="funcPopup(event,'setheader')">setHeader</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('titlestring'), this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('commands'));
<a name="l2005"><span class="linenum">2005</span></a>          panel.<a class="function" onClick="logFunction('setBody')" href="../../../../_functions/setbody.html" onMouseOver="funcPopup(event,'setbody')">setBody</a>(Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;block_' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('blockclass') + ' block_docked&quot;&gt;&lt;/div&gt;')
<a name="l2006"><span class="linenum">2006</span></a>               .<a class="function" onClick="logFunction('append')" href="../../../../_functions/append.html" onMouseOver="funcPopup(event,'append')">append</a>(this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('contents')));
<a name="l2007"><span class="linenum">2007</span></a>          if (M.core.actionmenu !== undefined) {
<a name="l2008"><span class="linenum">2008</span></a>              M.core.actionmenu.newDOMNode(panel.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('node'));
<a name="l2009"><span class="linenum">2009</span></a>          }
<a name="l2010"><span class="linenum">2010</span></a>          panel.<a class="function" onClick="logFunction('show')" href="../../../../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l2011"><span class="linenum">2011</span></a>          panel.correctWidth();
<a name="l2012"><span class="linenum">2012</span></a>  
<a name="l2013"><span class="linenum">2013</span></a>          this.active = true;
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">        // Add active item class first up</span>
<a name="l2015"><span class="linenum">2015</span></a>          docktitle.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>(CSS.activeitem);
<a name="l2016"><span class="linenum">2016</span></a>  <span class="comment">        // Set aria-exapanded property to true.</span>
<a name="l2017"><span class="linenum">2017</span></a>          docktitle.<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('aria-expanded', &quot;true&quot;);
<a name="l2018"><span class="linenum">2018</span></a>          this.fire('dockeditem:showcomplete');
<a name="l2019"><span class="linenum">2019</span></a>          dock.<a class="function" onClick="logFunction('resize')" href="../../../../_functions/resize.html" onMouseOver="funcPopup(event,'resize')">resize</a>();
<a name="l2020"><span class="linenum">2020</span></a>          return true;
<a name="l2021"><span class="linenum">2021</span></a>      },
<a name="l2022"><span class="linenum">2022</span></a>      <span class="comment">/**</span>
<a name="l2023"><span class="linenum">2023</span></a>  <span class="comment">     * This function hides the item and makes it inactive.</span>
<a name="l2024"><span class="linenum">2024</span></a>  <span class="comment">     * @method hide</span>
<a name="l2025"><span class="linenum">2025</span></a>  <span class="comment">     */</span>
<a name="l2026"><span class="linenum">2026</span></a>      hide: function() {
<a name="l2027"><span class="linenum">2027</span></a>          this.fire('dockeditem:hidestart');
<a name="l2028"><span class="linenum">2028</span></a>          if (this.active) {
<a name="l2029"><span class="linenum">2029</span></a>  <span class="comment">            // No longer active</span>
<a name="l2030"><span class="linenum">2030</span></a>              this.active = false;
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment">            // Hide the panel</span>
<a name="l2032"><span class="linenum">2032</span></a>              this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dock').getPanel().<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l2033"><span class="linenum">2033</span></a>          }
<a name="l2034"><span class="linenum">2034</span></a>  <span class="comment">        // Remove the active class</span>
<a name="l2035"><span class="linenum">2035</span></a>  <span class="comment">        // Set aria-exapanded property to false</span>
<a name="l2036"><span class="linenum">2036</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode').removeClass(CSS.activeitem).<a class="function" onClick="logFunction('set')" href="../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('aria-expanded', &quot;false&quot;);
<a name="l2037"><span class="linenum">2037</span></a>          this.fire('dockeditem:hidecomplete');
<a name="l2038"><span class="linenum">2038</span></a>      },
<a name="l2039"><span class="linenum">2039</span></a>      <span class="comment">/**</span>
<a name="l2040"><span class="linenum">2040</span></a>  <span class="comment">     * A toggle between calling show and hide functions based on css.activeitem</span>
<a name="l2041"><span class="linenum">2041</span></a>  <span class="comment">     * Applies rules to key press events (dock:actionkey)</span>
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment">     * @method toggle</span>
<a name="l2043"><span class="linenum">2043</span></a>  <span class="comment">     * @param {String} action</span>
<a name="l2044"><span class="linenum">2044</span></a>  <span class="comment">     */</span>
<a name="l2045"><span class="linenum">2045</span></a>      toggle: function(action) {
<a name="l2046"><span class="linenum">2046</span></a>          var docktitle = this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockTitleNode');
<a name="l2047"><span class="linenum">2047</span></a>          if (docktitle.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(CSS.activeitem) &amp;&amp; action !== 'expand') {
<a name="l2048"><span class="linenum">2048</span></a>              this.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l2049"><span class="linenum">2049</span></a>          } else if (!docktitle.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(CSS.activeitem) &amp;&amp; action !== 'collapse') {
<a name="l2050"><span class="linenum">2050</span></a>              this.<a class="function" onClick="logFunction('show')" href="../../../../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l2051"><span class="linenum">2051</span></a>          }
<a name="l2052"><span class="linenum">2052</span></a>      },
<a name="l2053"><span class="linenum">2053</span></a>      <span class="comment">/**</span>
<a name="l2054"><span class="linenum">2054</span></a>  <span class="comment">     * This function removes the node and destroys it's bits.</span>
<a name="l2055"><span class="linenum">2055</span></a>  <span class="comment">     * @method remove.</span>
<a name="l2056"><span class="linenum">2056</span></a>  <span class="comment">     */</span>
<a name="l2057"><span class="linenum">2057</span></a>      remove: function() {
<a name="l2058"><span class="linenum">2058</span></a>          this.<a class="function" onClick="logFunction('hide')" href="../../../../_functions/hide.html" onMouseOver="funcPopup(event,'hide')">hide</a>();
<a name="l2059"><span class="linenum">2059</span></a>  <span class="comment">        // Return the block to its original position.</span>
<a name="l2060"><span class="linenum">2060</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('block').returnToPage();
<a name="l2061"><span class="linenum">2061</span></a>  <span class="comment">        // Remove the dock item node.</span>
<a name="l2062"><span class="linenum">2062</span></a>          this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('dockItemNode').<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l2063"><span class="linenum">2063</span></a>          this.fire('dockeditem:itemremoved');
<a name="l2064"><span class="linenum">2064</span></a>      },
<a name="l2065"><span class="linenum">2065</span></a>      <span class="comment">/**</span>
<a name="l2066"><span class="linenum">2066</span></a>  <span class="comment">     * Returns the description of this item to use for log calls.</span>
<a name="l2067"><span class="linenum">2067</span></a>  <span class="comment">     * @method _getLogDescription</span>
<a name="l2068"><span class="linenum">2068</span></a>  <span class="comment">     * @private</span>
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment">     * @return {String}</span>
<a name="l2070"><span class="linenum">2070</span></a>  <span class="comment">     */</span>
<a name="l2071"><span class="linenum">2071</span></a>      _getLogDescription: function() {
<a name="l2072"><span class="linenum">2072</span></a>          return this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('titlestring').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('innerHTML') + ' (' + this.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('blockinstanceid') + ')';
<a name="l2073"><span class="linenum">2073</span></a>      }
<a name="l2074"><span class="linenum">2074</span></a>  };
<a name="l2075"><span class="linenum">2075</span></a>  Y.<a class="function" onClick="logFunction('extend')" href="../../../../_functions/extend.html" onMouseOver="funcPopup(event,'extend')">extend</a>(DOCKEDITEM, Y.Base, DOCKEDITEM.prototype, {
<a name="l2076"><span class="linenum">2076</span></a>      NAME: 'moodle-core-dock-dockeditem',
<a name="l2077"><span class="linenum">2077</span></a>      ATTRS: {
<a name="l2078"><span class="linenum">2078</span></a>          <span class="comment">/**</span>
<a name="l2079"><span class="linenum">2079</span></a>  <span class="comment">         * The block this docked item is associated with.</span>
<a name="l2080"><span class="linenum">2080</span></a>  <span class="comment">         * @attribute block</span>
<a name="l2081"><span class="linenum">2081</span></a>  <span class="comment">         * @type BLOCK</span>
<a name="l2082"><span class="linenum">2082</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2083"><span class="linenum">2083</span></a>  <span class="comment">         * @required</span>
<a name="l2084"><span class="linenum">2084</span></a>  <span class="comment">         */</span>
<a name="l2085"><span class="linenum">2085</span></a>          block: {
<a name="l2086"><span class="linenum">2086</span></a>              writeOnce: 'initOnly'
<a name="l2087"><span class="linenum">2087</span></a>          },
<a name="l2088"><span class="linenum">2088</span></a>          <span class="comment">/**</span>
<a name="l2089"><span class="linenum">2089</span></a>  <span class="comment">         * The dock itself.</span>
<a name="l2090"><span class="linenum">2090</span></a>  <span class="comment">         * @attribute dock</span>
<a name="l2091"><span class="linenum">2091</span></a>  <span class="comment">         * @type DOCK</span>
<a name="l2092"><span class="linenum">2092</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2093"><span class="linenum">2093</span></a>  <span class="comment">         * @required</span>
<a name="l2094"><span class="linenum">2094</span></a>  <span class="comment">         */</span>
<a name="l2095"><span class="linenum">2095</span></a>          dock: {
<a name="l2096"><span class="linenum">2096</span></a>              writeOnce: 'initOnly'
<a name="l2097"><span class="linenum">2097</span></a>          },
<a name="l2098"><span class="linenum">2098</span></a>          <span class="comment">/**</span>
<a name="l2099"><span class="linenum">2099</span></a>  <span class="comment">         * The docked item ID. This will be given by the dock.</span>
<a name="l2100"><span class="linenum">2100</span></a>  <span class="comment">         * @attribute id</span>
<a name="l2101"><span class="linenum">2101</span></a>  <span class="comment">         * @type Number</span>
<a name="l2102"><span class="linenum">2102</span></a>  <span class="comment">         */</span>
<a name="l2103"><span class="linenum">2103</span></a>          id: {},
<a name="l2104"><span class="linenum">2104</span></a>          <span class="comment">/**</span>
<a name="l2105"><span class="linenum">2105</span></a>  <span class="comment">         * Block instance id.Taken from the associated block.</span>
<a name="l2106"><span class="linenum">2106</span></a>  <span class="comment">         * @attribute blockinstanceid</span>
<a name="l2107"><span class="linenum">2107</span></a>  <span class="comment">         * @type Number</span>
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment">         */</span>
<a name="l2110"><span class="linenum">2110</span></a>          blockinstanceid: {
<a name="l2111"><span class="linenum">2111</span></a>              writeOnce: 'initOnly',
<a name="l2112"><span class="linenum">2112</span></a>              setter: function(value) {
<a name="l2113"><span class="linenum">2113</span></a>                  return parseInt(value, 10);
<a name="l2114"><span class="linenum">2114</span></a>              }
<a name="l2115"><span class="linenum">2115</span></a>          },
<a name="l2116"><span class="linenum">2116</span></a>          <span class="comment">/**</span>
<a name="l2117"><span class="linenum">2117</span></a>  <span class="comment">         * The title  nodeof the docked item.</span>
<a name="l2118"><span class="linenum">2118</span></a>  <span class="comment">         * @attribute title</span>
<a name="l2119"><span class="linenum">2119</span></a>  <span class="comment">         * @type Node</span>
<a name="l2120"><span class="linenum">2120</span></a>  <span class="comment">         * @default null</span>
<a name="l2121"><span class="linenum">2121</span></a>  <span class="comment">         */</span>
<a name="l2122"><span class="linenum">2122</span></a>          title: {
<a name="l2123"><span class="linenum">2123</span></a>              value: null
<a name="l2124"><span class="linenum">2124</span></a>          },
<a name="l2125"><span class="linenum">2125</span></a>          <span class="comment">/**</span>
<a name="l2126"><span class="linenum">2126</span></a>  <span class="comment">         * The title string.</span>
<a name="l2127"><span class="linenum">2127</span></a>  <span class="comment">         * @attribute titlestring</span>
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">         * @type String</span>
<a name="l2129"><span class="linenum">2129</span></a>  <span class="comment">         */</span>
<a name="l2130"><span class="linenum">2130</span></a>          titlestring: {
<a name="l2131"><span class="linenum">2131</span></a>              value: null
<a name="l2132"><span class="linenum">2132</span></a>          },
<a name="l2133"><span class="linenum">2133</span></a>          <span class="comment">/**</span>
<a name="l2134"><span class="linenum">2134</span></a>  <span class="comment">         * The contents of the docked item</span>
<a name="l2135"><span class="linenum">2135</span></a>  <span class="comment">         * @attribute contents</span>
<a name="l2136"><span class="linenum">2136</span></a>  <span class="comment">         * @type Node</span>
<a name="l2137"><span class="linenum">2137</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2138"><span class="linenum">2138</span></a>  <span class="comment">         * @required</span>
<a name="l2139"><span class="linenum">2139</span></a>  <span class="comment">         */</span>
<a name="l2140"><span class="linenum">2140</span></a>          contents: {
<a name="l2141"><span class="linenum">2141</span></a>              writeOnce: 'initOnly'
<a name="l2142"><span class="linenum">2142</span></a>          },
<a name="l2143"><span class="linenum">2143</span></a>          <span class="comment">/**</span>
<a name="l2144"><span class="linenum">2144</span></a>  <span class="comment">         * Commands associated with the block.</span>
<a name="l2145"><span class="linenum">2145</span></a>  <span class="comment">         * @attribute commands</span>
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">         * @type Node</span>
<a name="l2147"><span class="linenum">2147</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2148"><span class="linenum">2148</span></a>  <span class="comment">         * @required</span>
<a name="l2149"><span class="linenum">2149</span></a>  <span class="comment">         */</span>
<a name="l2150"><span class="linenum">2150</span></a>          commands: {
<a name="l2151"><span class="linenum">2151</span></a>              writeOnce: 'initOnly'
<a name="l2152"><span class="linenum">2152</span></a>          },
<a name="l2153"><span class="linenum">2153</span></a>          <span class="comment">/**</span>
<a name="l2154"><span class="linenum">2154</span></a>  <span class="comment">         * The block class.</span>
<a name="l2155"><span class="linenum">2155</span></a>  <span class="comment">         * @attribute blockclass</span>
<a name="l2156"><span class="linenum">2156</span></a>  <span class="comment">         * @type String</span>
<a name="l2157"><span class="linenum">2157</span></a>  <span class="comment">         * @writeOnce</span>
<a name="l2158"><span class="linenum">2158</span></a>  <span class="comment">         * @required</span>
<a name="l2159"><span class="linenum">2159</span></a>  <span class="comment">         */</span>
<a name="l2160"><span class="linenum">2160</span></a>          blockclass: {
<a name="l2161"><span class="linenum">2161</span></a>              writeOnce: 'initOnly'
<a name="l2162"><span class="linenum">2162</span></a>          },
<a name="l2163"><span class="linenum">2163</span></a>          <span class="comment">/**</span>
<a name="l2164"><span class="linenum">2164</span></a>  <span class="comment">         * The title node for the docked block.</span>
<a name="l2165"><span class="linenum">2165</span></a>  <span class="comment">         * @attribute dockTitleNode</span>
<a name="l2166"><span class="linenum">2166</span></a>  <span class="comment">         * @type Node</span>
<a name="l2167"><span class="linenum">2167</span></a>  <span class="comment">         */</span>
<a name="l2168"><span class="linenum">2168</span></a>          dockTitleNode: {
<a name="l2169"><span class="linenum">2169</span></a>              value: null
<a name="l2170"><span class="linenum">2170</span></a>          },
<a name="l2171"><span class="linenum">2171</span></a>          <span class="comment">/**</span>
<a name="l2172"><span class="linenum">2172</span></a>  <span class="comment">         * The item node for the docked block.</span>
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment">         * @attribute dockItemNode</span>
<a name="l2174"><span class="linenum">2174</span></a>  <span class="comment">         * @type Node</span>
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment">         */</span>
<a name="l2176"><span class="linenum">2176</span></a>          dockItemNode: {
<a name="l2177"><span class="linenum">2177</span></a>              value: null
<a name="l2178"><span class="linenum">2178</span></a>          },
<a name="l2179"><span class="linenum">2179</span></a>          <span class="comment">/**</span>
<a name="l2180"><span class="linenum">2180</span></a>  <span class="comment">         * The container for the docked item (will contain the block contents when visible)</span>
<a name="l2181"><span class="linenum">2181</span></a>  <span class="comment">         * @attribute dockcontainerNode</span>
<a name="l2182"><span class="linenum">2182</span></a>  <span class="comment">         * @type Node</span>
<a name="l2183"><span class="linenum">2183</span></a>  <span class="comment">         */</span>
<a name="l2184"><span class="linenum">2184</span></a>          dockcontainerNode: {
<a name="l2185"><span class="linenum">2185</span></a>              value: null
<a name="l2186"><span class="linenum">2186</span></a>          }
<a name="l2187"><span class="linenum">2187</span></a>      }
<a name="l2188"><span class="linenum">2188</span></a>  });
<a name="l2189"><span class="linenum">2189</span></a>  Y.augment(DOCKEDITEM, Y.EventTarget);
<a name="l2190"><span class="linenum">2190</span></a>  
<a name="l2191"><span class="linenum">2191</span></a>  
<a name="l2192"><span class="linenum">2192</span></a>  }, '@VERSION@', {
<a name="l2193"><span class="linenum">2193</span></a>      &quot;requires&quot;: [
<a name="l2194"><span class="linenum">2194</span></a>          &quot;base&quot;,
<a name="l2195"><span class="linenum">2195</span></a>          &quot;node&quot;,
<a name="l2196"><span class="linenum">2196</span></a>          &quot;event-custom&quot;,
<a name="l2197"><span class="linenum">2197</span></a>          &quot;event-mouseenter&quot;,
<a name="l2198"><span class="linenum">2198</span></a>          &quot;event-resize&quot;,
<a name="l2199"><span class="linenum">2199</span></a>          &quot;escape&quot;,
<a name="l2200"><span class="linenum">2200</span></a>          &quot;moodle-core-dock-loader&quot;,
<a name="l2201"><span class="linenum">2201</span></a>          &quot;moodle-core-event&quot;
<a name="l2202"><span class="linenum">2202</span></a>      ]
<a name="l2203"><span class="linenum">2203</span></a>  });
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'setcontent': ['setcontent', '', [['lib/google/src/Google/Service','MapsEngine.php',3684],['lib/google/src/Google/Service','Books.php',5359],['lib/pear/HTML/QuickForm','xbutton.php',110],['lib/google/src/Google/Service','DeploymentManager.php',856],['lib/google/src/Google/Service','DeploymentManager.php',1218],['lib/google/src/Google/Service','Blogger.php',2105],['lib/google/src/Google/Service','Blogger.php',2383],['lib/google/src/Google/Service','Blogger.php',2700],['lib/google/src/Google/Service','ShoppingContent.php',2551],['lib/google/src/Google/Service','Drive.php',3741],['lib/google/src/Google/Service','Drive.php',3944],['lib/google/src/Google/Service','Plus.php',1148],['lib/google/src/Google/Service','Plus.php',1368],['lib/google/src/Google/Service','Plus.php',2094],['lib/google/src/Google/Service','PlusDomains.php',1441],['lib/google/src/Google/Service','PlusDomains.php',1671],['lib/google/src/Google/Service','PlusDomains.php',2755]], 235],
'delegate': ['delegate', '<p>Sets up event delegation on a container element.  The delegated event will use a supplied selector or filtering function to test if the event references at least one node that should trigger the subscription callback.</p> ', [['lib/yuilib/3.17.2/event-delegate','event-delegate.js',25],['lib/yuilib/3.17.2/event-delegate','event-delegate-debug.js',25]], 632],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'addclass': ['addclass', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',4450],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',4450],['lib/editor/atto/yui/src/rangy/js','rangy-classapplier.js',60]], 2581],
'hasclass': ['hasclass', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',4440],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',13134],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',4440],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/template','editor_plugin_src.js',82],['lib/editor/atto/yui/src/rangy/js','rangy-classapplier.js',50]], 888],
'clonenode': ['clonenode', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/table','editor_plugin_src.js',46]], 265],
'size': ['size', 'Search for messages smaller/larger than a certain size. ', [['lib/horde/framework/Horde/Imap/Client/Search','Query.php',507],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',224]], 531],
'replace': ['replace', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace/js','searchreplace.js',70],['lib/google/src/Google/Utils','URITemplate.php',83],['lib/adodb','adodb-active-record.inc.php',928],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',61],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2448],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',49],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',55],['lib/adodb','adodb.inc.php',1853],['lib/adodb','adodb-active-recordx.inc.php',1061],['lib/phpexcel/PHPExcel/Calculation','TextData.php',503],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',70],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',48],['lib/lessphp','Functions.php',492]], 3264],
'detach': ['detach', '', [['lib/phpexcel/PHPExcel','Cell.php',103]], 608],
'setattribute': ['setattribute', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2531],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',254]], 1664],
'enable': ['enable', 'Enable a license ', [['lib','licenselib.php',90],['mod/assign','assignmentplugin.php',203]], 32],
'show': ['show', '', [['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',187],['lib/jquery/ui-1.11.4','jquery-ui.js',13476],['lib','coursecatlib.php',2127]], 582],
'setstyle': ['setstyle', 'Set Style ', [['lib/phpexcel/PHPExcel/Style','Conditional.php',250],['lib/google/src/Google/Service','MapsEngine.php',4384],['lib/google/src/Google/Service','YouTube.php',6292]], 2174],
'isnumber': ['isnumber', '', [['lib/lessphp','Functions.php',774]], 801],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google/src/Google/IO','Stream.php',200],['lib/google/src/Google/Service','Appengine.php',1018],['lib/phpmailer','class.smtp.php',1164],['lib/google/src/Google/IO','Curl.php',154],['lib/google','curlio.php',156]], 707],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'html': ['html', 'Get the HTML for the whole table ', [['grade/report/singleview/classes/local/screen','tablelike.php',155],['grade/report/singleview/classes/local/ui','dropdown_attribute.php',74],['grade/report/singleview/classes/local/ui','bulk_insert.php',82],['grade/report/singleview/classes/local/ui','checkbox_attribute.php',64],['grade/report/singleview/classes/local/screen','select.php',72],['grade/report/singleview/classes/local/ui','text_attribute.php',63],['grade/report/singleview/tests/fixtures','screen.php',48],['grade/report/singleview/classes/local/ui','empty_element.php',51]], 278],
'toggle': ['toggle', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17248]], 23],
'getx': ['getx', 'Returns the relative X value of current position. The value is relative to the left border for LTR languages and to the right border for RTL languages. ', [['lib/tcpdf','tcpdf.php',7383]], 149],
'remove': ['remove', 'Remove HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',93],['lib/horde/framework/Horde/Mail/Rfc822','List.php',128],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',590],['lib/horde/framework/Horde/Support','ConsistentHash.php',184],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17045],['lib/horde/framework/Horde','Variables.php',238],['lib','navigationlib.php',398],['lib','navigationlib.php',915],['lib/horde/framework/Horde/Imap/Client','Ids.php',187],['lib/google/src/Google/Service','Games.php',1494],['lib/mustache/src/Mustache','HelperCollection.php',137],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',88],['lib/jquery','jquery-3.1.0.js',5683],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',43],['lib/google/src/Google/Service','PlusDomains.php',661],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',271],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',80],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',121]], 1103],
'push': ['push', 'Push a new timer start on the stack. ', [['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/evalmath','evalmath.class.php',462],['lib/horde/framework/Horde/Support','Stack.php',23],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',47],['lib/mustache/src/Mustache','Context.php',32],['lib','outputlib.php',2046],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',54]], 4478],
'getdata': ['getdata', 'Get the raw image data ', [['lib/phpexcel/PHPExcel/Shared/Escher/DggContainer/BstoreContainer/BSE','Blip.php',44],['lib/google/src/Google/Service','Replicapool.php',1249],['lib/horde/framework/Horde/Stream/Wrapper','CombineStream.php',26],['lib/horde/framework/Horde/Support','CombineStream.php',77],['lib/google/src/Google/Service','Computeaccounts.php',1452],['lib/horde/framework/Horde/Imap/Client/Data/Format','Mailbox.php',51],['lib/google/src/Google/Service','Books.php',2733],['lib/google/src/Google/Service','Books.php',3004],['lib/google/src/Google/Service','Books.php',6917],['lib/horde/framework/Horde/Imap/Client/Data','Format.php',54],['lib/google/src/Google/Service','DeploymentManager.php',1108],['lib/google/src/Google/Service','DeploymentManager.php',1633],['lib/google/src/Google/Service','DeploymentManager.php',1852],['lib/google/src/Google/Service','CloudUserAccounts.php',1891],['lib/google/src/Google/Service','Pagespeedonline.php',329],['lib/google/src/Google/Service','Replicapoolupdater.php',1010],['lib/google/src/Google/Service','QPXExpress.php',1465],['lib/google/src/Google/Service','Games.php',6870],['lib/google/src/Google/Service','Games.php',7072],['lib/google/src/Google/Service','Games.php',7106],['lib/google/src/Google/Service','Games.php',7310],['lib/google/src/Google/Service','Games.php',7404],['lib/google/src/Google/Service','Reports.php',1098],['lib/google/src/Google/Service','Gmail.php',1971],['lib/google/src/Google/Service','Autoscaler.php',1163],['lib/google/src/Google/Service','Proximitybeacon.php',670],['lib/google/src/Google/Service','Proximitybeacon.php',797],['lib/google/src/Google/Service','AppState.php',251],['lib/google/src/Google/Service','AppState.php',322],['lib/google/src/Google/Service','Resourceviews.php',978],['lib/phpexcel/PHPExcel/Shared','XMLWriter.php',91],['lib/google/src/Google/Service','Compute.php',8744],['lib/google/src/Google/Service','Compute.php',9192],['lib/google/src/Google/Service','Compute.php',10284],['lib/google/src/Google/Service','Compute.php',10376],['lib/google/src/Google/Service','Compute.php',10882],['lib/google/src/Google/Service','Compute.php',12517],['lib/google/src/Google/Service','Compute.php',12763],['lib/google/src/Google/Service','Compute.php',13241],['lib/google/src/Google/Service','Compute.php',13644],['lib/google/src/Google/Service','Compute.php',14480],['lib/google/src/Google/Service','Compute.php',14572],['lib/google/src/Google/Service','Compute.php',15227],['lib/google/src/Google/Service','Compute.php',16241],['lib/google/src/Google/Service','Compute.php',16667],['lib/google/src/Google/Service','Compute.php',16997],['lib/google/src/Google/Service','Compute.php',17715],['lib/google/src/Google/Service','Pubsub.php',785],['lib/pear/Net/GeoIP','Location.php',147]], 492],
'rotate': ['rotate', 'Rotate object. ', [['lib/tcpdf','tcpdf.php',11140],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',198],['repository/flickr_public','image.php',109]], 49],
'insert': ['insert', 'Inserts a data transfer request. (transfers.insert) ', [['lib/google/src/Google/Service','DataTransfer.php',223],['lib/grade','grade_item.php',427],['lib/google/src/Google/Service','Replicapool.php',438],['lib/google/src/Google/Service','Tasks.php',337],['lib/google/src/Google/Service','Tasks.php',457],['lib/google/src/Google/Service','AndroidPublisher.php',1264],['lib/google/src/Google/Service','AndroidPublisher.php',2113],['lib/google/src/Google/Service','Reseller.php',310],['lib/google/src/Google/Service','Reseller.php',474],['lib/google/src/Google/Service','Computeaccounts.php',527],['lib/google/src/Google/Service','Computeaccounts.php',698],['lib/grade','grade_category.php',340],['lib/grade','grade_scale.php',111],['lib/adodb','adodb-active-record.inc.php',848],['lib/grade','grade_object.php',325],['lib/google/src/Google/Service','YouTubeAnalytics.php',379],['lib/google/src/Google/Service','YouTubeAnalytics.php',474],['lib/google/src/Google/Service','Admin.php',88],['lib/google/src/Google/Service','MapsEngine.php',2781],['lib/google/src/Google/Service','MapsEngine.php',3185],['completion','data_object.php',317],['lib/google/src/Google/Service','Urlshortener.php',125],['lib/google/src/Google/Service','AdExchangeBuyer.php',967],['lib/google/src/Google/Service','AdExchangeBuyer.php',1057],['lib/google/src/Google/Service','AdExchangeBuyer.php',1152],['lib/google/src/Google/Service','AdExchangeBuyer.php',1209],['lib/google/src/Google/Service','AdExchangeBuyer.php',1307],['lib/google/src/Google/Service','AdExchangeBuyer.php',1389],['lib/google/src/Google/Service','AdExchangeBuyer.php',1431],['lib/google/src/Google/Service','AdExchangeBuyer.php',1485],['lib/google/src/Google/Service','AdExchangeBuyer.php',1591],['lib/google/src/Google/Service','Books.php',1961],['lib/grade','grade_grade.php',997],['lib/grade','grade_outcome.php',120],['lib/google/src/Google/Service','Analytics.php',2179],['lib/google/src/Google/Service','Analytics.php',2325],['lib/google/src/Google/Service','Analytics.php',2439],['lib/google/src/Google/Service','Analytics.php',2567],['lib/google/src/Google/Service','Analytics.php',2685],['lib/google/src/Google/Service','Analytics.php',2780],['lib/google/src/Google/Service','Analytics.php',2907],['lib/google/src/Google/Service','Analytics.php',3017],['lib/google/src/Google/Service','Analytics.php',3124],['lib/google/src/Google/Service','Analytics.php',3263],['lib/google/src/Google/Service','Analytics.php',3441],['lib/google/src/Google/Service','Analytics.php',3548],['lib/google/src/Google/Service','Analytics.php',3646],['lib/google/src/Google/Service','Coordinate.php',524],['lib/google/src/Google/Service','DeploymentManager.php',483],['lib/google/src/Google/Service','Blogger.php',1258],['lib/google/src/Google/Service','Blogger.php',1510],['lib/google/src/Google/Service','CloudUserAccounts.php',674],['lib/google/src/Google/Service','CloudUserAccounts.php',939],['lib/google/src/Google/Service','Replicapoolupdater.php',355],['lib/google/src/Google/Service','Bigquery.php',567],['lib/google/src/Google/Service','Bigquery.php',709],['lib/google/src/Google/Service','Bigquery.php',897],['lib/google/src/Google/Service','ShoppingContent.php',1081],['lib/google/src/Google/Service','ShoppingContent.php',1479],['lib/google/src/Google/Service','ShoppingContent.php',2001],['lib/google/src/Google/Service','GroupsMigration.php',88],['lib/google/src/Google/Service','Storage.php',1077],['lib/google/src/Google/Service','Storage.php',1197],['lib/google/src/Google/Service','Storage.php',1367],['lib/google/src/Google/Service','Storage.php',1499],['lib/google/src/Google/Service','Storage.php',1737],['lib/google/src/Google/Service','Licensing.php',256],['lib/google/src/Google/Service','Gmail.php',1078],['lib/google/src/Google/Service','Taskqueue.php',324],['lib/adodb','adodb-active-recordx.inc.php',963],['lib/google/src/Google/Service','Doubleclicksearch.php',286],['lib/google/src/Google/Service','Autoscaler.php',347],['lib/google/src/Google/Service','Prediction.php',291],['lib/google/src/Google/Service','SiteVerification.php',181],['lib/google/src/Google/Service','Drive.php',1551],['lib/google/src/Google/Service','Drive.php',1635],['lib/google/src/Google/Service','Drive.php',1816],['lib/google/src/Google/Service','Drive.php',2069],['lib/google/src/Google/Service','Drive.php',2153],['lib/google/src/Google/Service','Drive.php',2273],['lib/google/src/Google/Service','Drive.php',2437],['lib/google/src/Google/Service','Directory.php',1945],['lib/google/src/Google/Service','Directory.php',2018],['lib/google/src/Google/Service','Directory.php',2086],['lib/google/src/Google/Service','Directory.php',2183],['lib/google/src/Google/Service','Directory.php',2253],['lib/google/src/Google/Service','Directory.php',2546],['lib/google/src/Google/Service','Directory.php',2681],['lib/google/src/Google/Service','Directory.php',2760],['lib/google/src/Google/Service','Directory.php',2865],['lib/google/src/Google/Service','Directory.php',3033],['lib/google/src/Google/Service','Directory.php',3213],['lib/google/src/Google/Service','Fusiontables.php',675],['lib/google/src/Google/Service','Fusiontables.php',841],['lib/google/src/Google/Service','Fusiontables.php',1011],['lib/google/src/Google/Service','Fusiontables.php',1217],['lib/google/src/Google/Service','AdSenseHost.php',787],['lib/google/src/Google/Service','AdSenseHost.php',1042],['lib/google/src/Google/Service','AdSenseHost.php',1183],['lib/google/src/Google/Service','Plus.php',466],['lib/google/src/Google/Service','Mirror.php',394],['lib/google/src/Google/Service','Mirror.php',452],['lib/google/src/Google/Service','Mirror.php',606],['lib/google/src/Google/Service','Mirror.php',688],['lib/google/src/Google/Service','Mirror.php',802],['lib/google/src/Google/Service','AndroidEnterprise.php',1017],['lib/google/src/Google/Service','AndroidEnterprise.php',1326],['lib/google/src/Google/Service','Calendar.php',936],['lib/google/src/Google/Service','Calendar.php',1102],['lib/google/src/Google/Service','Calendar.php',1301],['lib/google/src/Google/Service','Calendar.php',1481],['lib/google/src/Google/Service','PlusDomains.php',482],['lib/google/src/Google/Service','PlusDomains.php',607],['lib/google/src/Google/Service','PlusDomains.php',733],['lib/google/src/Google/Service','PlusDomains.php',782],['lib/google/src/Google/Service','GamesConfiguration.php',280],['lib/google/src/Google/Service','GamesConfiguration.php',419],['lib/google/src/Google/Service','Resourceviews.php',475],['lib/google/src/Google/Service','SQLAdmin.php',892],['lib/google/src/Google/Service','SQLAdmin.php',1111],['lib/google/src/Google/Service','SQLAdmin.php',1406],['lib/google/src/Google/Service','SQLAdmin.php',1501],['lib/google/src/Google/Service','Compute.php',4053],['lib/google/src/Google/Service','Compute.php',4183],['lib/google/src/Google/Service','Compute.php',4332],['lib/google/src/Google/Service','Compute.php',4606],['lib/google/src/Google/Service','Compute.php',4701],['lib/google/src/Google/Service','Compute.php',4861],['lib/google/src/Google/Service','Compute.php',4972],['lib/google/src/Google/Service','Compute.php',5063],['lib/google/src/Google/Service','Compute.php',5280],['lib/google/src/Google/Service','Compute.php',5410],['lib/google/src/Google/Service','Compute.php',5557],['lib/google/src/Google/Service','Compute.php',5744],['lib/google/src/Google/Service','Compute.php',6017],['lib/google/src/Google/Service','Compute.php',6186],['lib/google/src/Google/Service','Compute.php',6404],['lib/google/src/Google/Service','Compute.php',6747],['lib/google/src/Google/Service','Compute.php',7067],['lib/google/src/Google/Service','Compute.php',7238],['lib/google/src/Google/Service','Compute.php',7331],['lib/google/src/Google/Service','Compute.php',7441],['lib/google/src/Google/Service','Compute.php',7602],['lib/google/src/Google/Service','Compute.php',7785],['lib/google/src/Google/Service','Compute.php',7972],['lib/google/src/Google/Service','Compute.php',8065],['lib/google/src/Google/Service','Compute.php',8242],['lib/google/src/Google/Service','YouTube.php',1715],['lib/google/src/Google/Service','YouTube.php',1881],['lib/google/src/Google/Service','YouTube.php',2014],['lib/google/src/Google/Service','YouTube.php',2089],['lib/google/src/Google/Service','YouTube.php',2351],['lib/google/src/Google/Service','YouTube.php',2473],['lib/google/src/Google/Service','YouTube.php',2935],['lib/google/src/Google/Service','YouTube.php',3233],['lib/google/src/Google/Service','YouTube.php',3434],['lib/google/src/Google/Service','YouTube.php',3587],['lib/google/src/Google/Service','YouTube.php',3943],['lib/google/src/Google/Service','YouTube.php',4216],['lib/google/src/Google/Service','Dfareporting.php',4686],['lib/google/src/Google/Service','Dfareporting.php',4882],['lib/google/src/Google/Service','Dfareporting.php',5029],['lib/google/src/Google/Service','Dfareporting.php',5132],['lib/google/src/Google/Service','Dfareporting.php',5257],['lib/google/src/Google/Service','Dfareporting.php',5323],['lib/google/src/Google/Service','Dfareporting.php',5595],['lib/google/src/Google/Service','Dfareporting.php',5724],['lib/google/src/Google/Service','Dfareporting.php',5786],['lib/google/src/Google/Service','Dfareporting.php',5906],['lib/google/src/Google/Service','Dfareporting.php',6012],['lib/google/src/Google/Service','Dfareporting.php',6120],['lib/google/src/Google/Service','Dfareporting.php',6329],['lib/google/src/Google/Service','Dfareporting.php',6426],['lib/google/src/Google/Service','Dfareporting.php',6624],['lib/google/src/Google/Service','Dfareporting.php',6761],['lib/google/src/Google/Service','Dfareporting.php',7027],['lib/google/src/Google/Service','Dfareporting.php',7393],['lib/google/src/Google/Service','Dfareporting.php',7532],['lib/google/src/Google/Service','Dfareporting.php',7655],['lib/google/src/Google/Service','Dfareporting.php',8010],['lib/google/src/Google/Service','Dfareporting.php',8131],['lib/google/src/Google/Service','Dfareporting.php',8322],['lib/google/src/Google/Service','Dfareporting.php',8436],['lib/google/src/Google/Service','Dfareporting.php',8497],['lib/google/src/Google/Service','Dfareporting.php',8797],['lib/google/src/Google/Service','Manager.php',275],['lib/google/src/Google/Service','Manager.php',353]], 481],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1716],['lib/google/src/Google/Service','Games.php',2100]], 1030],
'hide': ['hide', 'Hide the given player\'s leaderboard scores from the given application. This method is only available to user accounts for your developer console. (players.hide) ', [['lib/google/src/Google/Service','GamesManagement.php',560],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/contextmenu','editor_plugin_src.js',71],['repository','lib.php',2009],['lib','navigationlib.php',700],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',269],['lib','coursecatlib.php',2068]], 795],
'set': ['set', 'Sets an item in the cache given its key and data value. ', [['cache/stores/static','lib.php',265],['cache','disabledlib.php',81],['search/classes','document.php',241],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',331],['lib/google/src/Google/Cache','Memcache.php',113],['lib','filelib.php',3656],['lib/adodb','adodb-active-record.inc.php',646],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',85],['lib/google/src/Google/Cache','File.php',93],['cache/classes','dummystore.php',170],['cache/classes','loaders.php',496],['cache/classes','loaders.php',1350],['cache/classes','loaders.php',1797],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',47],['lib/horde/framework/Horde','Variables.php',189],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',39],['competency/classes','persistent.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',203],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',51],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',41],['lib/google/src/Google/Service','ShoppingContent.php',1643],['lib','navigationlib.php',5131],['lib/google/src/Google/Service','Clouddebugger.php',445],['lib/htmlpurifier/HTMLPurifier','Config.php',289],['lib/portfolio','exporter.php',154],['grade/report/singleview/classes/local/ui','finalgrade.php',129],['cache/stores/memcache','lib.php',358],['lib/adodb','adodb-active-recordx.inc.php',676],['cache/classes','interfaces.php',68],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',167],['lib/horde/framework/Horde/Imap/Client','Cache.php',127],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',60],['grade/report/singleview/classes/local/ui','exclude.php',90],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',24],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',114],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',41],['lib/portfolio','caller.php',187],['cache/stores/session','lib.php',290],['cache/stores/mongodb','lib.php',305],['lib/google/src/Google/Cache','Null.php',44],['grade/report/singleview/classes/local/ui','override.php',95],['cache/stores/file','lib.php',426],['lib/phpmailer','class.phpmailer.php',3554],['grade/report/singleview/classes/local/ui','feedback.php',102],['cache/stores/memcached','lib.php',354],['lib/portfolio','plugin.php',647],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',31],['lib/google/src/Google/Service','YouTube.php',4048],['lib/google/src/Google/Service','YouTube.php',4458],['lib/google/src/Google/Cache','Apc.php',82],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',162],['lib/pear/Net/GeoIP','Location.php',125]], 4904],
'customise_dock_for_theme': ['customise_dock_for_theme', 'Customise the dock for this theme. ', [['theme/bootstrapbase/javascript','dock.js',1]], 4],
'getstyle': ['getstyle', 'Get Style ', [['lib/phpexcel/PHPExcel/Style','Conditional.php',240],['lib/google/src/Google/Service','MapsEngine.php',4388],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',341],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17496],['lib/phpexcel/PHPExcel','Cell.php',534],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',340],['lib/phpexcel/PHPExcel','Worksheet.php',1396],['lib/editor/tinymce/tiny_mce/3.5.11/utils','form_utils.js',200],['lib/google/src/Google/Service','YouTube.php',6296]], 841],
'apply': ['apply', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16662]], 2690],
'sety': ['sety', 'Moves the current abscissa back to the left margin and sets the ordinate. If the passed value is negative, it is relative to the bottom of the page. ', [['lib/tcpdf','tcpdf.php',7454]], 68],
'contains': ['contains', 'Does this list contain the given e-mail address? ', [['lib/horde/framework/Horde/Mail/Rfc822','List.php',258],['auth/cas/CAS/CAS/ProxyChain','AllowedList.php',95],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',259]], 883],
'publish': ['publish', 'Publish a layer asset. (layers.publish) ', [['lib/google/src/Google/Service','MapsEngine.php',1841],['lib/google/src/Google/Service','MapsEngine.php',2123],['lib/google/src/Google/Service','Blogger.php',1319],['lib/google/src/Google/Service','Blogger.php',1590],['lib/google/src/Google/Service','TagManager.php',1596],['backup/util/xml/parser','progressive_parser.class.php',189],['lib/google/src/Google/Service','Pubsub.php',429]], 411],
'isstring': ['isstring', '', [['lib/lessphp','Functions.php',778]], 898],
'draw': ['draw', '', [['lib','graphlib.php',274]], 116],
'append': ['append', 'Append data to PPS ', [['lib/phpexcel/PHPExcel/Shared/OLE/PPS','File.php',55],['lib/horde/framework/Horde/Imap/Client','Base.php',1741]], 1081],
'on': ['on', '', [['lib/requirejs','require.js',508],['lib/jquery','jquery-3.1.0.js',4809]], 3823],
'right_to_left': ['right_to_left', 'Returns true if the user is using a right-to-left language. ', [['lib','weblib.php',3109],['lib','javascript-static.js',1156]], 63],
'setbody': ['setbody', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2804],['lib/google/src/Google/Service','Books.php',5047],['lib/google/src/Google/Service','Gmail.php',1900],['auth/cas/CAS/CAS/ProxiedService/Http','Post.php',107],['lib/google/src/Google/Service','Directory.php',5087],['lib/google/src/Google/Service','Fusiontables.php',2399],['lib/horde/framework/Horde/Mime','Mail.php',189]], 46],
'add': ['add', 'Add HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',78],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/google/src/Google/Http','Batch.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib','csslib.php',1508],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde','Variables.php',297],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib','outputcomponents.php',2705],['lib','outputcomponents.php',3380],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',436],['lib','adminlib.php',735],['lib','adminlib.php',894],['lib','adminlib.php',1446],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['lib/google/src/Google/Service','Webmasters.php',436],['lib','navigationlib.php',304],['lib','navigationlib.php',761],['lib','navigationlib.php',3305],['lib','navigationlib.php',3583],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['backup/cc/cc_lib/gral_lib','cssparser.php',121],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['lib/horde/framework/Horde','Stream.php',116],['comment','lib.php',679],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454],['lib/lessphp/Output','Mapped.php',50],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',74],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['tag/classes','tag.php',152],['blog','locallib.php',242],['lib/classes','notification.php',50],['lib/lessphp','Output.php',18],['tag/classes/output','tagfeed.php',61],['backup/cc','validator.php',51],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11]], 6188],
'set_user_preference': ['set_user_preference', 'Sets a preference for the specified user. ', [['lib','moodlelib.php',1827]], 172],
'all': ['all', '', [['lib','questionlib.php',1516]], 1415],
'settop': ['settop', '', [['lib/google/src/Google/Service','Pagespeedonline.php',248],['lib/google/src/Google/Service','Pagespeedonline.php',292],['lib/google/src/Google/Service','Pagespeedonline.php',401],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',141],['lib/google/src/Google/Service','Dfareporting.php',15485],['lib/google/src/Google/Service','Dfareporting.php',16351]], 19],
'get': ['get', 'Retrieves a variable reference from the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',36],['cache/stores/static','lib.php',220],['cache','disabledlib.php',55],['search/classes','document.php',299],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','DataTransfer.php',162],['lib/google/src/Google/Service','DataTransfer.php',208],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','AdSense.php',1076],['lib/google/src/Google/Service','AdSense.php',1155],['lib/google/src/Google/Service','AdSense.php',1303],['lib/google/src/Google/Service','AdSense.php',1519],['lib/google/src/Google/Service','AdSense.php',1631],['lib/google/src/Google/Service','AdSense.php',1773],['lib/google/src/Google/Service','AdSense.php',2047],['lib/google/src/Google/Service','Replicapool.php',420],['lib/google/src/Google/Service','Replicapool.php',575],['lib/google/src/Google/Service','Tasks.php',323],['lib/google/src/Google/Service','Tasks.php',442],['lib/google/src/Google/Service','Partners.php',362],['lib/google/src/Google/Service','AndroidPublisher.php',1247],['lib/google/src/Google/Service','AndroidPublisher.php',1349],['lib/google/src/Google/Service','AndroidPublisher.php',1510],['lib/google/src/Google/Service','AndroidPublisher.php',1573],['lib/google/src/Google/Service','AndroidPublisher.php',1796],['lib/google/src/Google/Service','AndroidPublisher.php',1884],['lib/google/src/Google/Service','AndroidPublisher.php',1948],['lib/google/src/Google/Service','AndroidPublisher.php',2098],['lib/google/src/Google/Service','AndroidPublisher.php',2223],['lib/google/src/Google/Service','AndroidPublisher.php',2293],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',146],['lib/google/src/Google/Service','YouTubeReporting.php',273],['lib/google/src/Google/Service','YouTubeReporting.php',326],['lib/google/src/Google/Service','Reseller.php',295],['lib/google/src/Google/Service','Reseller.php',458],['lib/google/src/Google/Cache','Memcache.php',74],['lib','filelib.php',3382],['lib','filelib.php',3630],['lib/google/src/Google/Service','Computeaccounts.php',432],['lib/google/src/Google/Service','Computeaccounts.php',512],['lib/google/src/Google/Service','Computeaccounts.php',683],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','MapsEngine.php',1530],['lib/google/src/Google/Service','MapsEngine.php',1709],['lib/google/src/Google/Service','MapsEngine.php',2006],['lib/google/src/Google/Service','MapsEngine.php',2268],['lib/google/src/Google/Service','MapsEngine.php',2360],['lib/google/src/Google/Service','MapsEngine.php',2666],['lib/google/src/Google/Service','MapsEngine.php',2927],['lib/google/src/Google/Service','MapsEngine.php',3118],['lib/google/src/Google/Cache','File.php',47],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Dns.php',307],['lib/google/src/Google/Service','Dns.php',393],['lib/google/src/Google/Service','Dns.php',444],['cache/classes','loaders.php',278],['cache/classes','loaders.php',1422],['cache/classes','loaders.php',1731],['lib/google/src/Google/Service','Appengine.php',320],['lib/google/src/Google/Service','Appengine.php',368],['lib/google/src/Google/Service','Appengine.php',472],['lib/google/src/Google/Service','Appengine.php',525],['lib/google/src/Google/Service','Urlshortener.php',109],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['lib/google/src/Google/Service','AdExchangeBuyer.php',759],['lib/google/src/Google/Service','AdExchangeBuyer.php',829],['lib/google/src/Google/Service','AdExchangeBuyer.php',870],['lib/google/src/Google/Service','AdExchangeBuyer.php',952],['lib/google/src/Google/Service','AdExchangeBuyer.php',1041],['lib/google/src/Google/Service','AdExchangeBuyer.php',1111],['lib/google/src/Google/Service','AdExchangeBuyer.php',1251],['lib/google/src/Google/Service','AdExchangeBuyer.php',1293],['lib/google/src/Google/Service','AdExchangeBuyer.php',1417],['lib/google/src/Google/Service','AdExchangeBuyer.php',1471],['lib/google/src/Google/Service','AdExchangeBuyer.php',1576],['lib/google/src/Google/Service','Books.php',1456],['lib/google/src/Google/Service','Books.php',1625],['lib/google/src/Google/Service','Books.php',1677],['lib/google/src/Google/Service','Books.php',1752],['lib/google/src/Google/Service','Books.php',2086],['lib/google/src/Google/Service','Books.php',2205],['lib/google/src/Google/Service','Books.php',2262],['lib/google/src/Google/Service','Books.php',2345],['lib/google/src/Google/Service','Books.php',2418],['lib/google/src/Google/Service','Books.php',2450],['lib/google/src/Google/Service','Oauth2.php',165],['lib/google/src/Google/Service','Oauth2.php',202],['lib/google/src/Google/Service','Analytics.php',1988],['lib/google/src/Google/Service','Analytics.php',2037],['lib/google/src/Google/Service','Analytics.php',2084],['lib/google/src/Google/Service','Analytics.php',2308],['lib/google/src/Google/Service','Analytics.php',2422],['lib/google/src/Google/Service','Analytics.php',2550],['lib/google/src/Google/Service','Analytics.php',2670],['lib/google/src/Google/Service','Analytics.php',2763],['lib/google/src/Google/Service','Analytics.php',2889],['lib/google/src/Google/Service','Analytics.php',3108],['lib/google/src/Google/Service','Analytics.php',3245],['lib/google/src/Google/Service','Analytics.php',3336],['lib/google/src/Google/Service','Analytics.php',3422],['lib/google/src/Google/Service','Analytics.php',3533],['lib/google/src/Google/Service','Coordinate.php',509],['lib/google/src/Google/Service','Coordinate.php',689],['lib','oauthlib.php',302],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/google/src/Google/Service','DeploymentManager.php',468],['lib/google/src/Google/Service','DeploymentManager.php',632],['lib/google/src/Google/Service','DeploymentManager.php',693],['lib/google/src/Google/Service','DeploymentManager.php',752],['lib/google/src/Google/Service','Blogger.php',945],['lib/google/src/Google/Service','Blogger.php',976],['lib/google/src/Google/Service','Blogger.php',1080],['lib/google/src/Google/Service','Blogger.php',1199],['lib/google/src/Google/Service','Blogger.php',1241],['lib/google/src/Google/Service','Blogger.php',1382],['lib/google/src/Google/Service','Blogger.php',1465],['lib/google/src/Google/Service','Blogger.php',1686],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['question/engine','states.php',116],['lib/google/src/Google/Service','Dataflow.php',292],['lib/horde/framework/Horde','Variables.php',135],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['competency/classes','persistent.php',86],['lib/google/src/Google/Service','CloudUserAccounts.php',542],['lib/google/src/Google/Service','CloudUserAccounts.php',643],['lib/google/src/Google/Service','CloudUserAccounts.php',908],['lib/google/src/Google/Service','Cloudresourcemanager.php',248],['lib/google/src/Google/Service','Cloudresourcemanager.php',427],['lib/editor/tinymce/classes','plugin.php',447],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','TagManager.php',950],['lib/google/src/Google/Service','TagManager.php',1036],['lib/google/src/Google/Service','TagManager.php',1128],['lib/google/src/Google/Service','TagManager.php',1280],['lib/google/src/Google/Service','TagManager.php',1373],['lib/google/src/Google/Service','TagManager.php',1467],['lib/google/src/Google/Service','TagManager.php',1561],['lib/google/src/Google/Service','TagManager.php',1711],['mod/lesson','locallib.php',3248],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapoolupdater.php',338],['lib/google/src/Google/Service','Replicapoolupdater.php',489],['lib/google/src/Google/Service','Bigquery.php',552],['lib/google/src/Google/Service','Bigquery.php',668],['lib/google/src/Google/Service','Bigquery.php',879],['lib/google/src/Google/Service','ShoppingContent.php',1066],['lib/google/src/Google/Service','ShoppingContent.php',1183],['lib/google/src/Google/Service','ShoppingContent.php',1283],['lib/google/src/Google/Service','ShoppingContent.php',1346],['lib/google/src/Google/Service','ShoppingContent.php',1464],['lib/google/src/Google/Service','ShoppingContent.php',1578],['lib/google/src/Google/Service','ShoppingContent.php',1773],['lib/google/src/Google/Service','ShoppingContent.php',1986],['lib/google/src/Google/Service','ShoppingContent.php',2063],['lib/google/src/Google/Service','Webmasters.php',371],['lib/google/src/Google/Service','Webmasters.php',464],['lib/google/src/Google/Service','Webmasters.php',540],['lib','navigationlib.php',384],['lib','navigationlib.php',836],['lib','navigationlib.php',2704],['lib','navigationlib.php',3139],['lib/google/src/Google/Service','Clouddebugger.php',399],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['lib/portfolio','exporter.php',134],['lib/google/src/Google/Service','Container.php',329],['lib/google/src/Google/Service','Container.php',396],['backup/cc/cc_lib/gral_lib','cssparser.php',147],['lib/horde/framework/Horde/Support','Array.php',30],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Storage.php',1059],['lib/google/src/Google/Service','Storage.php',1175],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1476],['lib/google/src/Google/Service','Storage.php',1709],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Genomics.php',660],['lib/google/src/Google/Service','Genomics.php',749],['lib/google/src/Google/Service','Genomics.php',918],['lib/google/src/Google/Service','Genomics.php',1007],['lib/google/src/Google/Service','Genomics.php',1185],['lib/google/src/Google/Service','Genomics.php',1268],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1475],['lib/google/src/Google/Service','Games.php',1220],['lib/google/src/Google/Service','Games.php',1339],['lib/google/src/Google/Service','Games.php',1441],['lib/google/src/Google/Service','Games.php',1699],['lib/google/src/Google/Service','Games.php',1806],['lib/google/src/Google/Service','Games.php',1948],['lib/google/src/Google/Service','Games.php',2082],['lib/google/src/Google/Service','Licensing.php',239],['lib/google/src/Google/Service','Fitness.php',417],['lib/google/src/Google/Service','Fitness.php',543],['lib/google/src/Google/Service','Reports.php',375],['lib/google/src/Google/Service','Reports.php',409],['lib/google/src/Google/Service','Gmail.php',779],['lib/google/src/Google/Service','Gmail.php',937],['lib/google/src/Google/Service','Gmail.php',1030],['lib/google/src/Google/Service','Gmail.php',1206],['lib/google/src/Google/Service','Gmail.php',1250],['lib/google/src/Google/Service','Taskqueue.php',264],['lib/google/src/Google/Service','Taskqueue.php',308],['lib/mustache/src/Mustache','HelperCollection.php',81],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Doubleclicksearch.php',257],['lib/google/src/Google/Service','Doubleclicksearch.php',381],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/google/src/Google/Service','Autoscaler.php',331],['lib/google/src/Google/Service','Autoscaler.php',445],['lib/google/src/Google/Service','AdExchangeSeller.php',444],['lib/google/src/Google/Service','AdExchangeSeller.php',552],['lib/google/src/Google/Service','AdExchangeSeller.php',666],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Prediction.php',276],['lib/behat/classes','behat_context_helper.php',63],['lib/google/src/Google/Service','SiteVerification.php',152],['lib/google/src/Google/Service','Drive.php',1333],['lib/google/src/Google/Service','Drive.php',1369],['lib/google/src/Google/Service','Drive.php',1422],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1617],['lib/google/src/Google/Service','Drive.php',1792],['lib/google/src/Google/Service','Drive.php',2054],['lib/google/src/Google/Service','Drive.php',2124],['lib/google/src/Google/Service','Drive.php',2256],['lib/google/src/Google/Service','Drive.php',2350],['lib/google/src/Google/Service','Drive.php',2418],['lib/google/src/Google/Service','Drive.php',2537],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Proximitybeacon.php',348],['lib/google/src/Google/Service','Groupssettings.php',108],['lib/google/src/Google/Service','Directory.php',1698],['lib/google/src/Google/Service','Directory.php',1766],['lib/google/src/Google/Service','Directory.php',1860],['lib/google/src/Google/Service','Directory.php',1930],['lib/google/src/Google/Service','Directory.php',2003],['lib/google/src/Google/Service','Directory.php',2072],['lib/google/src/Google/Service','Directory.php',2238],['lib/google/src/Google/Service','Directory.php',2365],['lib/google/src/Google/Service','Directory.php',2435],['lib/google/src/Google/Service','Directory.php',2531],['lib/google/src/Google/Service','Directory.php',2666],['lib/google/src/Google/Service','Directory.php',2745],['lib/google/src/Google/Service','Directory.php',2850],['lib/google/src/Google/Service','Directory.php',2954],['lib/google/src/Google/Service','Directory.php',3012],['lib/google/src/Google/Service','Directory.php',3287],['lib/google/src/Google/Service','Fusiontables.php',659],['lib/google/src/Google/Service','Fusiontables.php',826],['lib/google/src/Google/Service','Fusiontables.php',950],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/google/src/Google/Service','AdSenseHost.php',645],['lib/google/src/Google/Service','AdSenseHost.php',686],['lib/google/src/Google/Service','AdSenseHost.php',751],['lib/google/src/Google/Service','AdSenseHost.php',918],['lib/google/src/Google/Service','AdSenseHost.php',1026],['lib/google/src/Google/Service','Plus.php',343],['lib/google/src/Google/Service','Plus.php',418],['lib/google/src/Google/Service','Plus.php',525],['lib/google/src/Google/Service','Mirror.php',438],['lib/google/src/Google/Service','Mirror.php',523],['lib/google/src/Google/Service','Mirror.php',563],['lib/google/src/Google/Service','Mirror.php',674],['lib/google/src/Google/Service','Mirror.php',786],['lib/google/src/Google/Service','AndroidEnterprise.php',1002],['lib/google/src/Google/Service','AndroidEnterprise.php',1109],['lib/google/src/Google/Service','AndroidEnterprise.php',1196],['lib/google/src/Google/Service','AndroidEnterprise.php',1312],['lib/google/src/Google/Service','AndroidEnterprise.php',1432],['lib/google/src/Google/Service','AndroidEnterprise.php',1524],['lib/google/src/Google/Service','AndroidEnterprise.php',1616],['lib/google/src/Google/Service','AndroidEnterprise.php',1705],['lib/google/src/Google/Service','AndroidEnterprise.php',1777],['lib/google/src/Google/Service','AndroidEnterprise.php',1879],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/testing/classes','nasty_strings.php',73],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/google/src/Google/Service','Playmoviespartner.php',411],['lib/google/src/Google/Service','Playmoviespartner.php',475],['lib/google/src/Google/Service','Playmoviespartner.php',580],['lib','coursecatlib.php',212],['lib/google/src/Google/Service','Cloudtrace.php',217],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['tag/classes','tag.php',190],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['competency/classes','url.php',55],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','Calendar.php',919],['lib/google/src/Google/Service','Calendar.php',1086],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1387],['lib/google/src/Google/Service','Calendar.php',1431],['lib/google/src/Google/Service','Calendar.php',1873],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['cache/stores/session','lib.php',225],['lib/google/src/Google/Service','Cloudbilling.php',162],['lib/google/src/Google/Service','PlusDomains.php',468],['lib/google/src/Google/Service','PlusDomains.php',593],['lib/google/src/Google/Service','PlusDomains.php',719],['lib/google/src/Google/Service','PlusDomains.php',813],['lib/google/src/Google/Service','Storagetransfer.php',248],['lib/google/src/Google/Service','Storagetransfer.php',295],['lib/google/src/Google/Service','Storagetransfer.php',396],['cache/stores/mongodb','lib.php',252],['lib/google/src/Google/Cache','Null.php',36],['lib/google/src/Google/Service','GamesConfiguration.php',265],['lib/google/src/Google/Service','GamesConfiguration.php',404],['cache/stores/file','lib.php',330],['cache/stores/memcached','lib.php',319],['lib/google/src/Google/Service','AppState.php',171],['lib/google/src/Google/Service','Resourceviews.php',354],['lib/google/src/Google/Service','Resourceviews.php',439],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','Classroom.php',484],['lib/google/src/Google/Service','Classroom.php',724],['lib/google/src/Google/Service','Classroom.php',830],['lib/google/src/Google/Service','Classroom.php',951],['lib/google/src/Google/Service','Classroom.php',1010],['lib/google/src/Google/Service','SQLAdmin.php',804],['lib/google/src/Google/Service','SQLAdmin.php',874],['lib/google/src/Google/Service','SQLAdmin.php',1076],['lib/google/src/Google/Service','SQLAdmin.php',1298],['lib/google/src/Google/Service','SQLAdmin.php',1387],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/google/src/Google/Service','Compute.php',4037],['lib/google/src/Google/Service','Compute.php',4166],['lib/google/src/Google/Service','Compute.php',4299],['lib/google/src/Google/Service','Compute.php',4460],['lib/google/src/Google/Service','Compute.php',4590],['lib/google/src/Google/Service','Compute.php',4686],['lib/google/src/Google/Service','Compute.php',4845],['lib/google/src/Google/Service','Compute.php',4957],['lib/google/src/Google/Service','Compute.php',5048],['lib/google/src/Google/Service','Compute.php',5188],['lib/google/src/Google/Service','Compute.php',5264],['lib/google/src/Google/Service','Compute.php',5394],['lib/google/src/Google/Service','Compute.php',5542],['lib/google/src/Google/Service','Compute.php',5726],['lib/google/src/Google/Service','Compute.php',6001],['lib/google/src/Google/Service','Compute.php',6171],['lib/google/src/Google/Service','Compute.php',6369],['lib/google/src/Google/Service','Compute.php',6595],['lib/google/src/Google/Service','Compute.php',6655],['lib/google/src/Google/Service','Compute.php',6732],['lib/google/src/Google/Service','Compute.php',6808],['lib/google/src/Google/Service','Compute.php',6914],['lib/google/src/Google/Service','Compute.php',6977],['lib/google/src/Google/Service','Compute.php',7052],['lib/google/src/Google/Service','Compute.php',7148],['lib/google/src/Google/Service','Compute.php',7223],['lib/google/src/Google/Service','Compute.php',7315],['lib/google/src/Google/Service','Compute.php',7425],['lib/google/src/Google/Service','Compute.php',7586],['lib/google/src/Google/Service','Compute.php',7750],['lib/google/src/Google/Service','Compute.php',7955],['lib/google/src/Google/Service','Compute.php',8050],['lib/google/src/Google/Service','Compute.php',8226],['lib/google/src/Google/Service','Compute.php',8321],['lib/google/src/Google/Service','Compute.php',8384],['lib/google/src/Google/Service','Pubsub.php',255],['lib/google/src/Google/Service','Pubsub.php',394],['lib/google/src/Google/Cache','Apc.php',52],['lib/google/src/Google/Service','Dfareporting.php',4559],['lib/google/src/Google/Service','Dfareporting.php',4587],['lib/google/src/Google/Service','Dfareporting.php',4629],['lib/google/src/Google/Service','Dfareporting.php',4671],['lib/google/src/Google/Service','Dfareporting.php',4779],['lib/google/src/Google/Service','Dfareporting.php',4867],['lib/google/src/Google/Service','Dfareporting.php',5014],['lib/google/src/Google/Service','Dfareporting.php',5117],['lib/google/src/Google/Service','Dfareporting.php',5308],['lib/google/src/Google/Service','Dfareporting.php',5427],['lib/google/src/Google/Service','Dfareporting.php',5525],['lib/google/src/Google/Service','Dfareporting.php',5580],['lib/google/src/Google/Service','Dfareporting.php',5683],['lib/google/src/Google/Service','Dfareporting.php',5769],['lib/google/src/Google/Service','Dfareporting.php',5891],['lib/google/src/Google/Service','Dfareporting.php',5997],['lib/google/src/Google/Service','Dfareporting.php',6105],['lib/google/src/Google/Service','Dfareporting.php',6255],['lib/google/src/Google/Service','Dfareporting.php',6314],['lib/google/src/Google/Service','Dfareporting.php',6411],['lib/google/src/Google/Service','Dfareporting.php',6529],['lib/google/src/Google/Service','Dfareporting.php',6609],['lib/google/src/Google/Service','Dfareporting.php',6746],['lib/google/src/Google/Service','Dfareporting.php',6862],['lib/google/src/Google/Service','Dfareporting.php',6940],['lib/google/src/Google/Service','Dfareporting.php',7011],['lib/google/src/Google/Service','Dfareporting.php',7131],['lib/google/src/Google/Service','Dfareporting.php',7172],['lib/google/src/Google/Service','Dfareporting.php',7214],['lib/google/src/Google/Service','Dfareporting.php',7256],['lib/google/src/Google/Service','Dfareporting.php',7320],['lib/google/src/Google/Service','Dfareporting.php',7378],['lib/google/src/Google/Service','Dfareporting.php',7517],['lib/google/src/Google/Service','Dfareporting.php',7640],['lib/google/src/Google/Service','Dfareporting.php',7771],['lib/google/src/Google/Service','Dfareporting.php',7812],['lib/google/src/Google/Service','Dfareporting.php',7853],['lib/google/src/Google/Service','Dfareporting.php',7935],['lib/google/src/Google/Service','Dfareporting.php',7995],['lib/google/src/Google/Service','Dfareporting.php',8116],['lib/google/src/Google/Service','Dfareporting.php',8258],['lib/google/src/Google/Service','Dfareporting.php',8307],['lib/google/src/Google/Service','Dfareporting.php',8421],['lib/google/src/Google/Service','Dfareporting.php',8482],['lib/google/src/Google/Service','Dfareporting.php',8584],['lib/google/src/Google/Service','Dfareporting.php',8643],['lib/google/src/Google/Service','Dfareporting.php',8682],['lib/google/src/Google/Service','Dfareporting.php',8724],['lib/google/src/Google/Service','Dfareporting.php',8782],['lib/google/src/Google/Service','Manager.php',259],['lib/google/src/Google/Service','Manager.php',338],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['lib','webdavlib.php',264]], 21532],
'match': ['match', '', [['lib/lessphp/Tree','Selector.php',67],['lib/minify/lib','JSMinPlus.php',1780],['lib/phpexcel/PHPExcel/Calculation','LookupRef.php',489],['lib/horde/framework/Horde/Mail/Rfc822','List.php',244],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',121],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17319],['lib/lessphp','Parser.php',671],['lib','lexer.php',79],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',181]], 940],
'gety': ['gety', 'Returns the ordinate of the current position. ', [['lib/tcpdf','tcpdf.php',7411]], 160],
'resize': ['resize', 'Resizes the managed instance group up or down. If resized up, new instances are created using the current instance template. If resized down, instances are removed in the order outlined in Resizing a managed instance group. (instanceGroupManagers.resize) ', [['lib/google/src/Google/Service','Replicapool.php',501],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/autoresize','editor_plugin_src.js',34],['lib/yuilib/3.17.2/resize-base','resize-base.js',172],['lib/yuilib/3.17.2/resize-base','resize-base-debug.js',172],['repository/flickr_public','image.php',114],['lib/google/src/Google/Service','Compute.php',5848]], 117],
'tostring': ['tostring', 'Return the entire part in MIME format. ', [['lib/horde/framework/Horde/Mime','Part.php',1133],['lib/jabber/XMPP','XMLObj.php',108],['lib/htmlpurifier/HTMLPurifier/ConfigSchema/Interchange','Id.php',27],['lib/lessphp/Tree','Unit.php',40],['lib/horde/framework/Horde/Mime','Headers.php',169],['lib/pear','PEAR.php',1029],['lib/htmlpurifier/HTMLPurifier','URI.php',213],['lib/lessphp','Output.php',40],['lib/htmlpurifier/HTMLPurifier','Length.php',95]], 602],
'extend': ['extend', 'Extend the lifetime of this lock. Not supported by all factories. ', [['lib/classes/lock','lock.php',81]], 1504],
'getattribute': ['getattribute', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2535],['auth/cas/CAS','CAS.php',1226],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',279],['lib/spout/src/Spout/Reader/Wrapper','SimpleXMLElement.php',47],['lib/phpexcel/PHPExcel/Reader/Excel2007','Chart.php',37],['auth/cas/CAS/CAS','Client.php',1196],['lib/pear/HTML','Common.php',271]], 1140],
'setstyles': ['setstyles', 'Set multiple styles on one element. ', [['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',282],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',281]], 362],
'setheader': ['setheader', 'Send header ', [['lib/minify/lib','FirePHP.php',779],['lib','filelib.php',2913],['lib/tcpdf','tcpdf.php',3511],['lib/google/src/Google/Service','Pagespeedonline.php',621],['lib/phpexcel/PHPExcel/Worksheet','PageMargins.php',185],['lib/google/src/Google/Service','Datastore.php',270],['lib/google/src/Google/Service','Datastore.php',314],['lib/google/src/Google/Service','Datastore.php',387],['lib/google/src/Google/Service','Datastore.php',735],['lib/google/src/Google/Service','Datastore.php',1321],['lib/google/src/Google/Service','Datastore.php',1397],['repository/s3','S3.php',2084]], 93],
'delayevent': ['delayevent', '', [['lib/jquery/ui-1.11.4','jquery-ui.js',5698]], 6],
'define': ['define', '', [], 2373],
'split': ['split', '', [], 892],
'exec': ['exec', '', [], 346],
'each': ['each', '', [], 2670],
'round': ['round', '', [], 1002],
'floor': ['floor', '', [], 514]};
CLASS_DATA={
'block': ['block', 'Class for page side blocks ', [['lib/classes/plugininfo','block.php',30],['blocks/rss_client/classes/output','block.php',30]], 5]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
