<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of portfoliolib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='portfoliolib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="portfoliolib.php.source.html">portfoliolib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="portfoliolib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>This file contains all global functions to do with manipulating portfolios. Everything else that is logically namespaced by class is in its own file in lib/portfolio/ directory.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  {@link http://moodle.com}</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1389 lines (56 kb)</td></tr>
<tr><td align="right">Included or required: </td><td><a href="portfoliolib.php.xref.html">1 time</a></td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>1 file<br>&nbsp;<a href="../lib/portfoliolib.php.html">lib/portfoliolib.php</a>
</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>portfolio_add_button::</b> (41 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#set_callback_options">set_callback_options</a>()<br>
&nbsp;&nbsp;<a href="#set_formats">set_formats</a>()<br>
&nbsp;&nbsp;<a href="#reset_formats">reset_formats</a>()<br>
&nbsp;&nbsp;<a href="#set_format_by_file">set_format_by_file</a>()<br>
&nbsp;&nbsp;<a href="#set_format_by_intended_file">set_format_by_intended_file</a>()<br>
&nbsp;&nbsp;<a href="#render">render</a>()<br>
&nbsp;&nbsp;<a href="#to_html">to_html</a>()<br>
&nbsp;&nbsp;<a href="#is_renderable">is_renderable</a>()<br>
&nbsp;&nbsp;<a href="#get_formats">get_formats</a>()<br>
&nbsp;&nbsp;<a href="#get_callbackargs">get_callbackargs</a>()<br>
&nbsp;&nbsp;<a href="#get_callbackcomponent">get_callbackcomponent</a>()<br>
&nbsp;&nbsp;<a href="#get_callbackclass">get_callbackclass</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_instance_select">portfolio_instance_select</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_instances">portfolio_instances</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_has_visible_instances">portfolio_has_visible_instances</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_supported_formats">portfolio_supported_formats</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_format_from_mimetype">portfolio_format_from_mimetype</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_supported_formats_intersect">portfolio_supported_formats_intersect</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_format_is_abstract">portfolio_format_is_abstract</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_most_specific_formats">portfolio_most_specific_formats</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_format_object">portfolio_format_object</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_instance">portfolio_instance</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_static_function">portfolio_static_function</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_plugin_sanity_check">portfolio_plugin_sanity_check</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_instance_sanity_check">portfolio_instance_sanity_check</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_report_insane">portfolio_report_insane</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_cron">portfolio_cron</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_export_rethrow_exception">portfolio_export_rethrow_exception</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_expected_time_file">portfolio_expected_time_file</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_filesize_info">portfolio_filesize_info</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_expected_time_db">portfolio_expected_time_db</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_insane_notify_admins">portfolio_insane_notify_admins</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_export_pagesetup">portfolio_export_pagesetup</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_export_type_to_id">portfolio_export_type_to_id</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_existing_exports">portfolio_existing_exports</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_existing_exports_by_plugin">portfolio_existing_exports_by_plugin</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_format_text_options">portfolio_format_text_options</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_rewrite_pluginfile_url_callback">portfolio_rewrite_pluginfile_url_callback</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_include_callback_file">portfolio_include_callback_file</a>()<br>
&nbsp;&nbsp;<a href="#portfolio_rewrite_pluginfile_urls">portfolio_rewrite_pluginfile_urls</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="portfolio_add_button"><b>portfolio_add_button</b></a>&nbsp;&nbsp;- <a href="../_classes/portfolio_add_button.html"><small>X-Ref</small></a>
</p>
<b>Use this to add a portfolio button or icon or form to a page.<BR>
</b><br>
These class methods do not check permissions. the caller must check permissions first.<BR>
Later, during the export process, the caller class is instantiated and the check_permissions method is called<BR>
If you are exporting a single file, you should always call set_format_by_file($file)<BR>
This class can be used like this:<BR>
&lt;code&gt;<BR>
$button = new portfolio_add_button();<BR>
$button-&gt;set_callback_options('name_of_caller_class', array('id' =&gt; 6), 'yourcomponent'); eg. mod_forum<BR>
$button-&gt;render(PORTFOLIO_ADD_FULL_FORM, get_string('addeverythingtoportfolio', 'yourcomponent'));<BR>
&lt;/code&gt;<BR>
or like this:<BR>
&lt;code&gt;<BR>
$button = new portfolio_add_button(array('callbackclass' =&gt; 'name_of_caller_class', 'callbackargs' =&gt; array('id' =&gt; 6), 'callbackcomponent' =&gt; 'yourcomponent')); eg. mod_forum<BR>
$somehtml .= $button-&gt;to_html(PORTFOLIO_ADD_TEXT_LINK);<BR>
&lt;/code&gt;<BR>
{@link http://docs.moodle.org/dev/Adding_a_Portfolio_Button_to_a_page} for more information<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'portfoliolib.php.source.html#l101')" href="portfoliolib.php.source.html#l101">__construct</a>(<a href="../_variables/options.html">$options</a>=null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor. Either pass the options here or set them using the helper methods.<BR>
Generally the code will be clearer if you use the helper methods.<BR>
</b><BR><b>param:</b> array $options keyed array of options:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_callback_options" onClick="logFunction('set_callback_options', 'portfoliolib.php.source.html#l134')" href="portfoliolib.php.source.html#l134">set_callback_options</a>(<a href="../_variables/class.html">$class</a>, array <a href="../_variables/argarray.html">$argarray</a>, <a href="../_variables/component.html">$component</a>)&nbsp;&nbsp;
<a href="../_functions/set_callback_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to set the callback options<BR>
</b><BR><b>param:</b> string $class Name of the class containing the callback functions<br>
<b>param:</b> array $argarray This can be an array or hash of arguments to pass<br>
<b>param:</b> string $component This is the name of the component in Moodle, eg 'mod_forum'<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_formats" onClick="logFunction('set_formats', 'portfoliolib.php.source.html#l164')" href="portfoliolib.php.source.html#l164">set_formats</a>(<a href="../_variables/formats.html">$formats</a>=null)&nbsp;&nbsp;
<a href="../_functions/set_formats.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the available export formats for this content.<BR>
This function will also poll the static function in the caller class<BR>
and make sure we're not overriding a format that has nothing to do with mimetypes.<BR>
Eg: if you pass IMAGE here but the caller can export LEAP2A it will keep LEAP2A as well.<BR>
</b><BR><b>param:</b> array $formats if the calling code knows better than the static method on the calling class (base_supported_formats).<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reset_formats" onClick="logFunction('reset_formats', 'portfoliolib.php.source.html#l192')" href="portfoliolib.php.source.html#l192">reset_formats</a>()&nbsp;&nbsp;
<a href="../_functions/reset_formats.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Reset formats to the default,<BR>
which is usually what base_supported_formats returns<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_format_by_file" onClick="logFunction('set_format_by_file', 'portfoliolib.php.source.html#l201')" href="portfoliolib.php.source.html#l201">set_format_by_file</a>(stored_file <a href="../_variables/file.html">$file</a>, <a href="../_variables/extraformats.html">$extraformats</a>=null)&nbsp;&nbsp;
<a href="../_functions/set_format_by_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If we already know we have exactly one file,<BR>
bypass set_formats and just pass the file<BR>
so we can detect the formats by mimetype.<BR>
</b><BR><b>param:</b> stored_file $file file to set the format from<br>
<b>param:</b> array $extraformats any additional formats other than by mimetype<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_format_by_intended_file" onClick="logFunction('set_format_by_intended_file', 'portfoliolib.php.source.html#l221')" href="portfoliolib.php.source.html#l221">set_format_by_intended_file</a>(<a href="../_variables/extn.html">$extn</a>, <a href="../_variables/extraformats.html">$extraformats</a>=null)&nbsp;&nbsp;
<a href="../_functions/set_format_by_intended_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Correllary this is use to set_format_by_file, but it is also used when there is no stored_file and<BR>
when we're writing out a new type of file (like csv or pdf)<BR>
</b><BR><b>param:</b> string $extn the file extension we intend to generate<br>
<b>param:</b> array&nbsp;&nbsp;$extraformats any additional formats other than by mimetype<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="render" onClick="logFunction('render', 'portfoliolib.php.source.html#l241')" href="portfoliolib.php.source.html#l241">render</a>(<a href="../_variables/format.html">$format</a>=null, <a href="../_variables/addstr.html">$addstr</a>=null)&nbsp;&nbsp;
<a href="../_functions/render.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Echo the form/button/icon/text link to the page<BR>
</b><BR><b>param:</b> int $format format to display the button or form or icon or link.<br>
<b>param:</b> string $addstr string to use for the button or icon alt text or link text.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="to_html" onClick="logFunction('to_html', 'portfoliolib.php.source.html#l254')" href="portfoliolib.php.source.html#l254">to_html</a>(<a href="../_variables/format.html">$format</a>=null, <a href="../_variables/addstr.html">$addstr</a>=null)&nbsp;&nbsp;
<a href="../_functions/to_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the form/button/icon/text link as html<BR>
</b><BR><b>param:</b> int $format format to display the button or form or icon or link.<br>
<b>param:</b> string $addstr string to use for the button or icon alt text or link text.<br>
<b>return:</b> void|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_renderable" onClick="logFunction('is_renderable', 'portfoliolib.php.source.html#l372')" href="portfoliolib.php.source.html#l372">is_renderable</a>()&nbsp;&nbsp;
<a href="../_functions/is_renderable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform some internal checks.<BR>
These are not errors, just situations<BR>
where it's not appropriate to add the button<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_formats" onClick="logFunction('get_formats', 'portfoliolib.php.source.html#l395')" href="portfoliolib.php.source.html#l395">get_formats</a>()&nbsp;&nbsp;
<a href="../_functions/get_formats.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter for $format property<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_callbackargs" onClick="logFunction('get_callbackargs', 'portfoliolib.php.source.html#l404')" href="portfoliolib.php.source.html#l404">get_callbackargs</a>()&nbsp;&nbsp;
<a href="../_functions/get_callbackargs.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter for $callbackargs property<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_callbackcomponent" onClick="logFunction('get_callbackcomponent', 'portfoliolib.php.source.html#l413')" href="portfoliolib.php.source.html#l413">get_callbackcomponent</a>()&nbsp;&nbsp;
<a href="../_functions/get_callbackcomponent.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter for $callbackcomponent property<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_callbackclass" onClick="logFunction('get_callbackclass', 'portfoliolib.php.source.html#l422')" href="portfoliolib.php.source.html#l422">get_callbackclass</a>()&nbsp;&nbsp;
<a href="../_functions/get_callbackclass.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Getter for $callbackclass property<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_instance_select" onClick="logFunction('portfolio_instance_select', 'portfoliolib.php.source.html#l432')" href="portfoliolib.php.source.html#l432">portfolio_instance_select</a>(<a href="../_variables/instances.html">$instances</a>, <a href="../_variables/callerformats.html">$callerformats</a>, <a href="../_variables/callbackclass.html">$callbackclass</a>, <a href="../_variables/mimetype.html">$mimetype</a>=null, <a href="../_variables/selectname.html">$selectname</a>='instance', <a href="../_variables/return.html">$return</a>=false, <a href="../_variables/returnarray.html">$returnarray</a>=false)&nbsp;&nbsp;
<a href="../_functions/portfolio_instance_select.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a drop menu with a list of available instances.<BR>
</b><BR><b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$instances&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array of portfolio plugin instance objects - the instances to put in the menu<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$callerformats&nbsp;&nbsp;array of PORTFOLIO_FORMAT_XXX constants - the formats the caller supports (this is used to filter plugins)<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$callbackclass&nbsp;&nbsp;the callback class name - used for debugging only for when there are no common formats<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$mimetype&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if we already know we have exactly one file, or are going to write one, pass it here to do mime filtering.<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$selectname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the name of the select element. Optional, defaults to instance.<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$return&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whether to print or return the output. Optional, defaults to print.<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$returnarray&nbsp;&nbsp;&nbsp;&nbsp;if returning, whether to return the HTML or the array of options. Optional, defaults to HTML.<br>
<b>return:</b> void|array|string the html, from &lt;select&gt; to &lt;/select&gt; inclusive.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_instances" onClick="logFunction('portfolio_instances', 'portfoliolib.php.source.html#l501')" href="portfoliolib.php.source.html#l501">portfolio_instances</a>(<a href="../_variables/visibleonly.html">$visibleonly</a>=true, <a href="../_variables/useronly.html">$useronly</a>=true)&nbsp;&nbsp;
<a href="../_functions/portfolio_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return all portfolio instances<BR>
</b><BR><b>param:</b> bool $visibleonly Don't include hidden instances. Defaults to true and will be overridden to true if the next parameter is true<br>
<b>param:</b> bool $useronly&nbsp;&nbsp;&nbsp;&nbsp;Check the visibility preferences and permissions of the logged in user. Defaults to true.<br>
<b>return:</b> array of portfolio instances (full objects, not just database records)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_has_visible_instances" onClick="logFunction('portfolio_has_visible_instances', 'portfoliolib.php.source.html#l536')" href="portfoliolib.php.source.html#l536">portfolio_has_visible_instances</a>()&nbsp;&nbsp;
<a href="../_functions/portfolio_has_visible_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return whether there are visible instances in portfolio.<BR>
</b><BR><b>return:</b> bool true when there are some visible instances.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_supported_formats" onClick="logFunction('portfolio_supported_formats', 'portfoliolib.php.source.html#l546')" href="portfoliolib.php.source.html#l546">portfolio_supported_formats</a>()&nbsp;&nbsp;
<a href="../_functions/portfolio_supported_formats.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Supported formats currently in use.<BR>
Canonical place for a list of all formats<BR>
that portfolio plugins and callers<BR>
can use for exporting content<BR>
</b><BR><b>return:</b> array keyed array of all the available export formats (constant =&gt; classname)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_format_from_mimetype" onClick="logFunction('portfolio_format_from_mimetype', 'portfoliolib.php.source.html#l572')" href="portfoliolib.php.source.html#l572">portfolio_format_from_mimetype</a>(<a href="../_variables/mimetype.html">$mimetype</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_format_from_mimetype.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deduce export format from file mimetype<BR>
This function returns the revelant portfolio export format<BR>
which is used to determine which portfolio plugins can be used<BR>
for exporting this content<BR>
according to the given mime type<BR>
this only works when exporting exactly &lt;b&gt;one&lt;/b&gt; file, or generating a new one<BR>
(like a pdf or csv export)<BR>
</b><BR><b>param:</b> string $mimetype (usually $file-&gt;get_mimetype())<br>
<b>return:</b> string the format constant (see PORTFOLIO_FORMAT_XXX constants)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_supported_formats_intersect" onClick="logFunction('portfolio_supported_formats_intersect', 'portfoliolib.php.source.html#l610')" href="portfoliolib.php.source.html#l610">portfolio_supported_formats_intersect</a>(<a href="../_variables/callerformats.html">$callerformats</a>, <a href="../_variables/pluginformats.html">$pluginformats</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_supported_formats_intersect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Intersection of plugin formats and caller formats.<BR>
Walks both the caller formats and portfolio plugin formats<BR>
and looks for matches (walking the hierarchy as well)<BR>
and returns the intersection<BR>
</b><BR><b>param:</b> array $callerformats formats the caller supports<br>
<b>param:</b> array $pluginformats formats the portfolio plugin supports<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_format_is_abstract" onClick="logFunction('portfolio_format_is_abstract', 'portfoliolib.php.source.html#l649')" href="portfoliolib.php.source.html#l649">portfolio_format_is_abstract</a>(<a href="../_variables/format.html">$format</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_format_is_abstract.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Tiny helper to figure out whether a portfolio format is abstract<BR>
</b><BR><b>param:</b> string $format the format to test<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_most_specific_formats" onClick="logFunction('portfolio_most_specific_formats', 'portfoliolib.php.source.html#l673')" href="portfoliolib.php.source.html#l673">portfolio_most_specific_formats</a>(<a href="../_variables/specificformats.html">$specificformats</a>, <a href="../_variables/generalformats.html">$generalformats</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_most_specific_formats.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the combination of the two arrays of formats with duplicates in terms of specificity removed<BR>
and also removes conflicting formats.<BR>
Use case: a module is exporting a single file, so the general formats would be FILE and MBKP<BR>
while the specific formats would be the specific subclass of FILE based on mime (say IMAGE)<BR>
and this function would return IMAGE and MBKP<BR>
</b><BR><b>param:</b> array $specificformats array of more specific formats (eg based on mime detection)<br>
<b>param:</b> array $generalformats&nbsp;&nbsp;array of more general formats (usually more supported)<br>
<b>return:</b> array merged formats with dups removed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_format_object" onClick="logFunction('portfolio_format_object', 'portfoliolib.php.source.html#l744')" href="portfoliolib.php.source.html#l744">portfolio_format_object</a>(<a href="../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_format_object.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to return a format object from the constant<BR>
</b><BR><b>param:</b> string $name the constant PORTFOLIO_FORMAT_XXX<br>
<b>return:</b> portfolio_format<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_instance" onClick="logFunction('portfolio_instance', 'portfoliolib.php.source.html#l757')" href="portfoliolib.php.source.html#l757">portfolio_instance</a>(<a href="../_variables/instanceid.html">$instanceid</a>, <a href="../_variables/record.html">$record</a>=null)&nbsp;&nbsp;
<a href="../_functions/portfolio_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to return an instance of a plugin (with config loaded)<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;&nbsp;$instanceid id of instance<br>
<b>param:</b> object $record database row that corresponds to this instance<br>
<b>return:</b> object of portfolio_plugin_XXX<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_static_function" onClick="logFunction('portfolio_static_function', 'portfoliolib.php.source.html#l782')" href="portfoliolib.php.source.html#l782">portfolio_static_function</a>(<a href="../_variables/plugin.html">$plugin</a>, <a href="../_variables/function.html">$function</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_static_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to call a static function on a portfolio plugin class.<BR>
This will figure out the classname and require the right file and call the function.<BR>
You can send a variable number of arguments to this function after the first two<BR>
and they will be passed on to the function you wish to call.<BR>
</b><BR><b>param:</b> string $plugin&nbsp;&nbsp;&nbsp;name of plugin<br>
<b>param:</b> string $function function to call<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_plugin_sanity_check" onClick="logFunction('portfolio_plugin_sanity_check', 'portfoliolib.php.source.html#l817')" href="portfoliolib.php.source.html#l817">portfolio_plugin_sanity_check</a>(<a href="../_variables/plugins.html">$plugins</a>=null)&nbsp;&nbsp;
<a href="../_functions/portfolio_plugin_sanity_check.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to check all the plugins for sanity and set any insane ones to invisible.<BR>
</b><BR><b>param:</b> array $plugins array of supported plugin types<br>
<b>return:</b> array array of insane instances (keys= id, values = reasons (keys for plugin lang)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_instance_sanity_check" onClick="logFunction('portfolio_instance_sanity_check', 'portfoliolib.php.source.html#l847')" href="portfoliolib.php.source.html#l847">portfolio_instance_sanity_check</a>(<a href="../_variables/instances.html">$instances</a>=null)&nbsp;&nbsp;
<a href="../_functions/portfolio_instance_sanity_check.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to check all the instances for sanity and set any insane ones to invisible.<BR>
</b><BR><b>param:</b> array $instances array of plugin instances<br>
<b>return:</b> array array of insane instances (keys= id, values = reasons (keys for plugin lang)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_report_insane" onClick="logFunction('portfolio_report_insane', 'portfoliolib.php.source.html#l886')" href="portfoliolib.php.source.html#l886">portfolio_report_insane</a>(<a href="../_variables/insane.html">$insane</a>, <a href="../_variables/instances.html">$instances</a>=false, <a href="../_variables/return.html">$return</a>=false)&nbsp;&nbsp;
<a href="../_functions/portfolio_report_insane.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to display a table of plugins (or instances) and reasons for disabling<BR>
</b><BR><b>param:</b> array $insane array of portfolio plugin<br>
<b>param:</b> array $instances if reporting instances rather than whole plugins, pass the array (key = id, value = object) here<br>
<b>param:</b> bool $return option to deliver the report in html format or print it out directly to the page.<br>
<b>return:</b> void|string of portfolio report in html table format<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_cron" onClick="logFunction('portfolio_cron', 'portfoliolib.php.source.html#l933')" href="portfoliolib.php.source.html#l933">portfolio_cron</a>()&nbsp;&nbsp;
<a href="../_functions/portfolio_cron.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Main portfolio cronjob.<BR>
Currently just cleans up expired transfer records.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_export_rethrow_exception" onClick="logFunction('portfolio_export_rethrow_exception', 'portfoliolib.php.source.html#l967')" href="portfoliolib.php.source.html#l967">portfolio_export_rethrow_exception</a>(<a href="../_variables/exporter.html">$exporter</a>, <a href="../_variables/exception.html">$exception</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_export_rethrow_exception.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper function to rethrow a caught portfolio_exception as an export exception.<BR>
Used because when a portfolio_export exception is thrown the export is cancelled<BR>
throws portfolio_export_exceptiog<BR>
</b><BR><b>param:</b> portfolio_exporter $exporter&nbsp;&nbsp;current exporter object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$exception exception to rethrow<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_expected_time_file" onClick="logFunction('portfolio_expected_time_file', 'portfoliolib.php.source.html#l979')" href="portfoliolib.php.source.html#l979">portfolio_expected_time_file</a>(<a href="../_variables/totest.html">$totest</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_expected_time_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Try and determine expected_time for purely file based exports<BR>
or exports that might include large file attachments.<BR>
</b><BR><b>param:</b> stored_file|array $totest - either an array of stored_file objects or a single stored_file object<br>
<b>return:</b> string PORTFOLIO_TIME_XXX<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_filesize_info" onClick="logFunction('portfolio_filesize_info', 'portfoliolib.php.source.html#l1024')" href="portfoliolib.php.source.html#l1024">portfolio_filesize_info</a>()&nbsp;&nbsp;
<a href="../_functions/portfolio_filesize_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The default filesizes and threshold information for file based transfers.<BR>
This shouldn't need to be used outside the admin pages and the portfolio code<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_expected_time_db" onClick="logFunction('portfolio_expected_time_db', 'portfoliolib.php.source.html#l1043')" href="portfoliolib.php.source.html#l1043">portfolio_expected_time_db</a>(<a href="../_variables/recordcount.html">$recordcount</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_expected_time_db.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Try and determine expected_time for purely database based exports<BR>
or exports that might include large parts of a database.<BR>
</b><BR><b>param:</b> int $recordcount number of records trying to export<br>
<b>return:</b> string PORTFOLIO_TIME_XXX<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_insane_notify_admins" onClick="logFunction('portfolio_insane_notify_admins', 'portfoliolib.php.source.html#l1067')" href="portfoliolib.php.source.html#l1067">portfolio_insane_notify_admins</a>(<a href="../_variables/insane.html">$insane</a>, <a href="../_variables/instances.html">$instances</a>=false)&nbsp;&nbsp;
<a href="../_functions/portfolio_insane_notify_admins.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to send portfolio report to admins<BR>
</b><BR><b>param:</b> array $insane array of insane plugins<br>
<b>param:</b> array $instances (optional) if reporting instances rather than whole plugins<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_export_pagesetup" onClick="logFunction('portfolio_export_pagesetup', 'portfoliolib.php.source.html#l1127')" href="portfoliolib.php.source.html#l1127">portfolio_export_pagesetup</a>(<a href="../_variables/PAGE.html">$PAGE</a>, <a href="../_variables/caller.html">$caller</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_export_pagesetup.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Setup page export<BR>
</b><BR><b>param:</b> moodle_page $PAGE global variable from page object<br>
<b>param:</b> portfolio_caller_base $caller plugin type caller<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_export_type_to_id" onClick="logFunction('portfolio_export_type_to_id', 'portfoliolib.php.source.html#l1148')" href="portfoliolib.php.source.html#l1148">portfolio_export_type_to_id</a>(<a href="../_variables/type.html">$type</a>, <a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_export_type_to_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get export type id<BR>
</b><BR><b>param:</b> string $type plugin type<br>
<b>param:</b> int $userid the user to check for<br>
<b>return:</b> mixed|bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_existing_exports" onClick="logFunction('portfolio_existing_exports', 'portfoliolib.php.source.html#l1161')" href="portfoliolib.php.source.html#l1161">portfolio_existing_exports</a>(<a href="../_variables/userid.html">$userid</a>, <a href="../_variables/type.html">$type</a>=null)&nbsp;&nbsp;
<a href="../_functions/portfolio_existing_exports.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a list of current exports for the given user.<BR>
This will not go through and call rewaken_object, because it's heavy.<BR>
It's really just used to figure out what exports are currently happening.<BR>
This is useful for plugins that don't support multiple exports per session<BR>
</b><BR><b>param:</b> int $userid the user to check for<br>
<b>param:</b> string $type (optional) the portfolio plugin to filter by<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_existing_exports_by_plugin" onClick="logFunction('portfolio_existing_exports_by_plugin', 'portfoliolib.php.source.html#l1182')" href="portfoliolib.php.source.html#l1182">portfolio_existing_exports_by_plugin</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_existing_exports_by_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an array of existing exports by type for a given user.<BR>
This is much more lightweight than existing_exports because it only returns the types, rather than the whole serialised data<BR>
so can be used for checking availability of multiple plugins at the same time.<BR>
</b><BR><b>param:</b> int $userid the user to check for<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_format_text_options" onClick="logFunction('portfolio_format_text_options', 'portfoliolib.php.source.html#l1198')" href="portfoliolib.php.source.html#l1198">portfolio_format_text_options</a>()&nbsp;&nbsp;
<a href="../_functions/portfolio_format_text_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return default common options for {@link format_text()} when preparing a content to be exported.<BR>
It is important not to apply filters and not to clean the HTML in format_text()<BR>
</b><BR><b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_rewrite_pluginfile_url_callback" onClick="logFunction('portfolio_rewrite_pluginfile_url_callback', 'portfoliolib.php.source.html#l1216')" href="portfoliolib.php.source.html#l1216">portfolio_rewrite_pluginfile_url_callback</a>(<a href="../_variables/contextid.html">$contextid</a>, <a href="../_variables/component.html">$component</a>, <a href="../_variables/filearea.html">$filearea</a>, <a href="../_variables/itemid.html">$itemid</a>, <a href="../_variables/format.html">$format</a>, <a href="../_variables/options.html">$options</a>, <a href="../_variables/matches.html">$matches</a>)&nbsp;&nbsp;
<a href="../_functions/portfolio_rewrite_pluginfile_url_callback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>callback function from {@link portfolio_rewrite_pluginfile_urls}<BR>
looks through preg_replace matches and replaces content with whatever the active portfolio export format says<BR>
</b><BR><b>param:</b> int $contextid module context id<br>
<b>param:</b> string $component module name (eg:mod_assignment)<br>
<b>param:</b> string $filearea normal file_area arguments<br>
<b>param:</b> int $itemid component item id<br>
<b>param:</b> portfolio_format $format exporter format type<br>
<b>param:</b> array $options extra options to pass through to the file_output function in the format (optional)<br>
<b>param:</b> array $matches internal matching<br>
<b>return:</b> object|array|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_include_callback_file" onClick="logFunction('portfolio_include_callback_file', 'portfoliolib.php.source.html#l1279')" href="portfoliolib.php.source.html#l1279">portfolio_include_callback_file</a>(<a href="../_variables/component.html">$component</a>, <a href="../_variables/class.html">$class</a> = null)&nbsp;&nbsp;
<a href="../_functions/portfolio_include_callback_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to require any potential callback files, throwing exceptions<BR>
if an issue occurs.<BR>
</b><BR><b>param:</b> string $component This is the name of the component in Moodle, eg 'mod_forum'<br>
<b>param:</b> string $class Name of the class containing the callback functions<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="portfolio_rewrite_pluginfile_urls" onClick="logFunction('portfolio_rewrite_pluginfile_urls', 'portfoliolib.php.source.html#l1365')" href="portfoliolib.php.source.html#l1365">portfolio_rewrite_pluginfile_urls</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/contextid.html">$contextid</a>, <a href="../_variables/component.html">$component</a>, <a href="../_variables/filearea.html">$filearea</a>, <a href="../_variables/itemid.html">$itemid</a>, <a href="../_variables/format.html">$format</a>, <a href="../_variables/options.html">$options</a>=null)&nbsp;&nbsp;
<a href="../_functions/portfolio_rewrite_pluginfile_urls.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Go through all the @@PLUGINFILE@@ matches in some text,<BR>
extract the file information and pass it back to the portfolio export format<BR>
to regenerate the html to output<BR>
</b><BR><b>param:</b> string $text the text to search through<br>
<b>param:</b> int $contextid normal file_area arguments<br>
<b>param:</b> string $component module name<br>
<b>param:</b> string $filearea normal file_area arguments<br>
<b>param:</b> int $itemid normal file_area arguments<br>
<b>param:</b> portfolio_format $format the portfolio export format<br>
<b>param:</b> array $options additional options to be included in the plugin file url (optional)<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
