<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of navigationlib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='lib';
filename='navigationlib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/lib/</a> -> <a href="navigationlib.php.source.html">navigationlib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="navigationlib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>This file contains classes used to manage the navigation structures within Moodle.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2009 Sam Hemelryk</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>5126 lines (227 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 9 classes</h3>
<div class="inset">
<p><b>navigation_node::</b> (31 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#check_if_active">check_if_active</a>()<br>
&nbsp;&nbsp;<a href="#override_active_url">override_active_url</a>()<br>
&nbsp;&nbsp;<a href="#require_admin_tree">require_admin_tree</a>()<br>
&nbsp;&nbsp;<a href="#create">create</a>()<br>
&nbsp;&nbsp;<a href="#add">add</a>()<br>
&nbsp;&nbsp;<a href="#add_node">add_node</a>()<br>
&nbsp;&nbsp;<a href="#get_children_key_list">get_children_key_list</a>()<br>
&nbsp;&nbsp;<a href="#find">find</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#remove">remove</a>()<br>
&nbsp;&nbsp;<a href="#has_children">has_children</a>()<br>
&nbsp;&nbsp;<a href="#make_active">make_active</a>()<br>
&nbsp;&nbsp;<a href="#make_inactive">make_inactive</a>()<br>
&nbsp;&nbsp;<a href="#force_open">force_open</a>()<br>
&nbsp;&nbsp;<a href="#add_class">add_class</a>()<br>
&nbsp;&nbsp;<a href="#remove_class">remove_class</a>()<br>
&nbsp;&nbsp;<a href="#title">title</a>()<br>
&nbsp;&nbsp;<a href="#__wakeup">__wakeup</a>()<br>
&nbsp;&nbsp;<a href="#contains_active_node">contains_active_node</a>()<br>
&nbsp;&nbsp;<a href="#find_active_node">find_active_node</a>()<br>
&nbsp;&nbsp;<a href="#search_for_active_node">search_for_active_node</a>()<br>
&nbsp;&nbsp;<a href="#get_content">get_content</a>()<br>
&nbsp;&nbsp;<a href="#get_title">get_title</a>()<br>
&nbsp;&nbsp;<a href="#get_css_type">get_css_type</a>()<br>
&nbsp;&nbsp;<a href="#find_expandable">find_expandable</a>()<br>
&nbsp;&nbsp;<a href="#find_all_of_type">find_all_of_type</a>()<br>
&nbsp;&nbsp;<a href="#trim_if_empty">trim_if_empty</a>()<br>
&nbsp;&nbsp;<a href="#get_tabs_array">get_tabs_array</a>()<br>
&nbsp;&nbsp;<a href="#set_parent">set_parent</a>()<br>
&nbsp;&nbsp;<a href="#hide">hide</a>()<br>
</p>
<p><b>navigation_node_collection::</b> (9 methods):<br>
&nbsp;&nbsp;<a href="#add">add</a>()<br>
&nbsp;&nbsp;<a href="#get_key_list">get_key_list</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#find">find</a>()<br>
&nbsp;&nbsp;<a href="#last">last</a>()<br>
&nbsp;&nbsp;<a href="#type">type</a>()<br>
&nbsp;&nbsp;<a href="#remove">remove</a>()<br>
&nbsp;&nbsp;<a href="#count">count</a>()<br>
&nbsp;&nbsp;<a href="#getiterator">getIterator</a>()<br>
</p>
<p><b>global_navigation::</b> (32 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#set_userid_for_parent_checks">set_userid_for_parent_checks</a>()<br>
&nbsp;&nbsp;<a href="#initialise">initialise</a>()<br>
&nbsp;&nbsp;<a href="#current_user_is_parent_role">current_user_is_parent_role</a>()<br>
&nbsp;&nbsp;<a href="#show_categories">show_categories</a>()<br>
&nbsp;&nbsp;<a href="#show_my_categories">show_my_categories</a>()<br>
&nbsp;&nbsp;<a href="#load_all_courses">load_all_courses</a>()<br>
&nbsp;&nbsp;<a href="#can_add_more_courses_to_category">can_add_more_courses_to_category</a>()<br>
&nbsp;&nbsp;<a href="#load_all_categories">load_all_categories</a>()<br>
&nbsp;&nbsp;<a href="#add_category">add_category</a>()<br>
&nbsp;&nbsp;<a href="#load_course">load_course</a>()<br>
&nbsp;&nbsp;<a href="#load_course_sections">load_course_sections</a>()<br>
&nbsp;&nbsp;<a href="#generate_sections_and_activities">generate_sections_and_activities</a>()<br>
&nbsp;&nbsp;<a href="#load_generic_course_sections">load_generic_course_sections</a>()<br>
&nbsp;&nbsp;<a href="#load_section_activities">load_section_activities</a>()<br>
&nbsp;&nbsp;<a href="#load_stealth_activity">load_stealth_activity</a>()<br>
&nbsp;&nbsp;<a href="#load_activity">load_activity</a>()<br>
&nbsp;&nbsp;<a href="#load_for_user">load_for_user</a>()<br>
&nbsp;&nbsp;<a href="#module_extends_navigation">module_extends_navigation</a>()<br>
&nbsp;&nbsp;<a href="#extend_for_user">extend_for_user</a>()<br>
&nbsp;&nbsp;<a href="#get_extending_users">get_extending_users</a>()<br>
&nbsp;&nbsp;<a href="#add_course">add_course</a>()<br>
&nbsp;&nbsp;<a href="#get_expand_course_cache">get_expand_course_cache</a>()<br>
&nbsp;&nbsp;<a href="#can_expand_course">can_expand_course</a>()<br>
&nbsp;&nbsp;<a href="#is_category_fully_loaded">is_category_fully_loaded</a>()<br>
&nbsp;&nbsp;<a href="#add_course_essentials">add_course_essentials</a>()<br>
&nbsp;&nbsp;<a href="#add_front_page_course_essentials">add_front_page_course_essentials</a>()<br>
&nbsp;&nbsp;<a href="#clear_cache">clear_cache</a>()<br>
&nbsp;&nbsp;<a href="#set_expansion_limit">set_expansion_limit</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#find">find</a>()<br>
&nbsp;&nbsp;<a href="#load_courses_enrolled">load_courses_enrolled</a>()<br>
</p>
<p><b>global_navigation_for_ajax::</b> (5 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#initialise">initialise</a>()<br>
&nbsp;&nbsp;<a href="#load_courses_other">load_courses_other</a>()<br>
&nbsp;&nbsp;<a href="#load_category">load_category</a>()<br>
&nbsp;&nbsp;<a href="#get_expandable">get_expandable</a>()<br>
</p>
<p><b>navbar::</b> (8 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#has_items">has_items</a>()<br>
&nbsp;&nbsp;<a href="#ignore_active">ignore_active</a>()<br>
&nbsp;&nbsp;<a href="#get">get</a>()<br>
&nbsp;&nbsp;<a href="#get_items">get_items</a>()<br>
&nbsp;&nbsp;<a href="#get_course_categories">get_course_categories</a>()<br>
&nbsp;&nbsp;<a href="#add">add</a>()<br>
&nbsp;&nbsp;<a href="#prepend">prepend</a>()<br>
</p>
<p><b>settings_navigation::</b> (19 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#initialise">initialise</a>()<br>
&nbsp;&nbsp;<a href="#add">add</a>()<br>
&nbsp;&nbsp;<a href="#prepend">prepend</a>()<br>
&nbsp;&nbsp;<a href="#is_admin_tree_needed">is_admin_tree_needed</a>()<br>
&nbsp;&nbsp;<a href="#load_administration_settings">load_administration_settings</a>()<br>
&nbsp;&nbsp;<a href="#scan_for_active_node">scan_for_active_node</a>()<br>
&nbsp;&nbsp;<a href="#get_by_path">get_by_path</a>()<br>
&nbsp;&nbsp;<a href="#load_course_settings">load_course_settings</a>()<br>
&nbsp;&nbsp;<a href="#load_module_settings">load_module_settings</a>()<br>
&nbsp;&nbsp;<a href="#load_user_settings">load_user_settings</a>()<br>
&nbsp;&nbsp;<a href="#extend_for_user">extend_for_user</a>()<br>
&nbsp;&nbsp;<a href="#generate_user_settings">generate_user_settings</a>()<br>
&nbsp;&nbsp;<a href="#load_block_settings">load_block_settings</a>()<br>
&nbsp;&nbsp;<a href="#load_category_settings">load_category_settings</a>()<br>
&nbsp;&nbsp;<a href="#in_alternative_role">in_alternative_role</a>()<br>
&nbsp;&nbsp;<a href="#load_front_page_settings">load_front_page_settings</a>()<br>
&nbsp;&nbsp;<a href="#load_local_plugin_settings">load_local_plugin_settings</a>()<br>
&nbsp;&nbsp;<a href="#clear_cache">clear_cache</a>()<br>
</p>
<p><b>settings_navigation_ajax::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#initialise">initialise</a>()<br>
</p>
<p><b>navigation_json::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#convert">convert</a>()<br>
&nbsp;&nbsp;<a href="#set_expandable">set_expandable</a>()<br>
&nbsp;&nbsp;<a href="#convert_child">convert_child</a>()<br>
</p>
<p><b>navigation_cache::</b> (11 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#ensure_session_cache_initialised">ensure_session_cache_initialised</a>()<br>
&nbsp;&nbsp;<a href="#__get">__get</a>()<br>
&nbsp;&nbsp;<a href="#__set">__set</a>()<br>
&nbsp;&nbsp;<a href="#set">set</a>()<br>
&nbsp;&nbsp;<a href="#cached">cached</a>()<br>
&nbsp;&nbsp;<a href="#compare">compare</a>()<br>
&nbsp;&nbsp;<a href="#clear">clear</a>()<br>
&nbsp;&nbsp;<a href="#garbage_collection">garbage_collection</a>()<br>
&nbsp;&nbsp;<a href="#volatile">volatile</a>()<br>
&nbsp;&nbsp;<a href="#destroy_volatile_caches">destroy_volatile_caches</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="navigation_node"><b>navigation_node</b></a>&nbsp;&nbsp;- <a href="../_classes/navigation_node.html"><small>X-Ref</small></a>
</p>
<b>This class is used to represent a node in a navigation tree<BR>
</b><br>
This class is used to represent a node in a navigation tree within Moodle,<BR>
the tree could be one of global navigation, settings navigation, or the navbar.<BR>
Each node can be one of two types either a Leaf (default) or a branch.<BR>
When a node is first created it is created as a leaf, when/if children are added<BR>
the node then becomes a branch.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l145')" href="navigationlib.php.source.html#l145">__construct</a>(<a href="../_variables/properties.html">$properties</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs a new navigation_node<BR>
</b><BR><b>param:</b> array|string $properties Either an array of properties or a string to use<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="check_if_active" onClick="logFunction('check_if_active', 'navigationlib.php.source.html#l209')" href="navigationlib.php.source.html#l209">check_if_active</a>(<a href="../_variables/strength.html">$strength</a>=URL_MATCH_EXACT)&nbsp;&nbsp;
<a href="../_functions/check_if_active.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if this node is the active node.<BR>
</b><BR>This is determined by comparing the action for the node against the<BR>
defined URL for the page. A match will see this node marked as active.<BR>
<BR>
<b>param:</b> int $strength One of URL_MATCH_EXACT, URL_MATCH_PARAMS, or URL_MATCH_BASE<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="override_active_url" onClick="logFunction('override_active_url', 'navigationlib.php.source.html#l237')" href="navigationlib.php.source.html#l237">override_active_url</a>(moodle_url <a href="../_variables/url.html">$url</a>, <a href="../_variables/loadadmintree.html">$loadadmintree</a> = false)&nbsp;&nbsp;
<a href="../_functions/override_active_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This sets the URL that the URL of new nodes get compared to when locating<BR>
the active node.<BR>
</b><BR>The active node is the node that matches the URL set here. By default this<BR>
is either $PAGE-&gt;url or if that hasn't been set $FULLME.<BR>
<BR>
<b>param:</b> moodle_url $url The url to use for the fullmeurl.<br>
<b>param:</b> bool $loadadmintree use true if the URL point to administration tree<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_admin_tree" onClick="logFunction('require_admin_tree', 'navigationlib.php.source.html#l257')" href="navigationlib.php.source.html#l257">require_admin_tree</a>()&nbsp;&nbsp;
<a href="../_functions/require_admin_tree.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Use when page is linked from the admin tree,<BR>
if not used navigation could not find the page using current URL<BR>
because the tree is not fully loaded.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create" onClick="logFunction('create', 'navigationlib.php.source.html#l266')" href="navigationlib.php.source.html#l266">create</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/action.html">$action</a>=null, <a href="../_variables/type.html">$type</a>=self::TYPE_CUSTOM,<a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/create.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a navigation node, ready to add it as a child using add_node<BR>
function. (The created node needs to be added before you can use it.)<BR>
</b><BR><b>param:</b> string $text<br>
<b>param:</b> moodle_url|action_link $action<br>
<b>param:</b> int $type<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key<br>
<b>param:</b> pix_icon $icon<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add" onClick="logFunction('add', 'navigationlib.php.source.html#l302')" href="navigationlib.php.source.html#l302">add</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/action.html">$action</a>=null, <a href="../_variables/type.html">$type</a>=self::TYPE_CUSTOM, <a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a navigation node as a child of this node.<BR>
</b><BR><b>param:</b> string $text<br>
<b>param:</b> moodle_url|action_link $action<br>
<b>param:</b> int $type<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key<br>
<b>param:</b> pix_icon $icon<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_node" onClick="logFunction('add_node', 'navigationlib.php.source.html#l321')" href="navigationlib.php.source.html#l321">add_node</a>(navigation_node <a href="../_variables/childnode.html">$childnode</a>, <a href="../_variables/beforekey.html">$beforekey</a>=null)&nbsp;&nbsp;
<a href="../_functions/add_node.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a navigation node as a child of this one, given a $node object<BR>
created using the create function.<BR>
</b><BR><b>param:</b> navigation_node $childnode Node to add<br>
<b>param:</b> string $beforekey<br>
<b>return:</b> navigation_node The added node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_children_key_list" onClick="logFunction('get_children_key_list', 'navigationlib.php.source.html#l359')" href="navigationlib.php.source.html#l359">get_children_key_list</a>()&nbsp;&nbsp;
<a href="../_functions/get_children_key_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a list of all the keys of all the child nodes.<BR>
</b><BR><b>return:</b> array the keys.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find" onClick="logFunction('find', 'navigationlib.php.source.html#l367')" href="navigationlib.php.source.html#l367">find</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/find.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Searches for a node of the given type with the given key.<BR>
</b><BR>This searches this node plus all of its children, and their children....<BR>
If you know the node you are looking for is a child of this node then please<BR>
use the get method instead.<BR>
<BR>
<b>param:</b> int|string $key The key of the node we are looking for<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'navigationlib.php.source.html#l382')" href="navigationlib.php.source.html#l382">get</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>=null)&nbsp;&nbsp;
<a href="../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the child of this node that has the given key + (optional) type.<BR>
</b><BR>If you are looking for a node and want to search all children + their children<BR>
then please use the find method instead.<BR>
<BR>
<b>param:</b> int|string $key The key of the node we are looking for<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove" onClick="logFunction('remove', 'navigationlib.php.source.html#l396')" href="navigationlib.php.source.html#l396">remove</a>()&nbsp;&nbsp;
<a href="../_functions/remove.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes this node.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_children" onClick="logFunction('has_children', 'navigationlib.php.source.html#l405')" href="navigationlib.php.source.html#l405">has_children</a>()&nbsp;&nbsp;
<a href="../_functions/has_children.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if this node has or could have any children<BR>
</b><BR><b>return:</b> bool Returns true if it has children or could have (by AJAX expansion)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_active" onClick="logFunction('make_active', 'navigationlib.php.source.html#l414')" href="navigationlib.php.source.html#l414">make_active</a>()&nbsp;&nbsp;
<a href="../_functions/make_active.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks this node as active and forces it open.<BR>
</b><BR>Important: If you are here because you need to mark a node active to get<BR>
the navigation to do what you want have you looked at {@link navigation_node::override_active_url()}?<BR>
You can use it to specify a different URL to match the active navigation node on<BR>
rather than having to locate and manually mark a node active.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="make_inactive" onClick="logFunction('make_inactive', 'navigationlib.php.source.html#l431')" href="navigationlib.php.source.html#l431">make_inactive</a>()&nbsp;&nbsp;
<a href="../_functions/make_inactive.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks a node as inactive and recusised back to the base of the tree<BR>
doing the same to all parents.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="force_open" onClick="logFunction('force_open', 'navigationlib.php.source.html#l443')" href="navigationlib.php.source.html#l443">force_open</a>()&nbsp;&nbsp;
<a href="../_functions/force_open.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Forces this node to be open and at the same time forces open all<BR>
parents until the root node.<BR>
</b><BR>Recursive.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_class" onClick="logFunction('add_class', 'navigationlib.php.source.html#l456')" href="navigationlib.php.source.html#l456">add_class</a>(<a href="../_variables/class.html">$class</a>)&nbsp;&nbsp;
<a href="../_functions/add_class.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a CSS class to this node.<BR>
</b><BR><b>param:</b> string $class<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_class" onClick="logFunction('remove_class', 'navigationlib.php.source.html#l469')" href="navigationlib.php.source.html#l469">remove_class</a>(<a href="../_variables/class.html">$class</a>)&nbsp;&nbsp;
<a href="../_functions/remove_class.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes a CSS class from this node.<BR>
</b><BR><b>param:</b> string $class<br>
<b>return:</b> bool True if the class was successfully removed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="title" onClick="logFunction('title', 'navigationlib.php.source.html#l486')" href="navigationlib.php.source.html#l486">title</a>(<a href="../_variables/title.html">$title</a>)&nbsp;&nbsp;
<a href="../_functions/title.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the title for this node and forces Moodle to utilise it.<BR>
</b><BR><b>param:</b> string $title<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__wakeup" onClick="logFunction('__wakeup', 'navigationlib.php.source.html#l495')" href="navigationlib.php.source.html#l495">__wakeup</a>()&nbsp;&nbsp;
<a href="../_functions/__wakeup.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Resets the page specific information on this node if it is being unserialised.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="contains_active_node" onClick="logFunction('contains_active_node', 'navigationlib.php.source.html#l504')" href="navigationlib.php.source.html#l504">contains_active_node</a>()&nbsp;&nbsp;
<a href="../_functions/contains_active_node.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if this node or any of its children contain the active node.<BR>
</b><BR>Recursive.<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_active_node" onClick="logFunction('find_active_node', 'navigationlib.php.source.html#l524')" href="navigationlib.php.source.html#l524">find_active_node</a>()&nbsp;&nbsp;
<a href="../_functions/find_active_node.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds the active node.<BR>
</b><BR>Searches this nodes children plus all of the children for the active node<BR>
and returns it if found.<BR>
<BR>
Recursive.<BR>
<BR>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="search_for_active_node" onClick="logFunction('search_for_active_node', 'navigationlib.php.source.html#l548')" href="navigationlib.php.source.html#l548">search_for_active_node</a>()&nbsp;&nbsp;
<a href="../_functions/search_for_active_node.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Searches all children for the best matching active node<BR>
</b><BR><b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_content" onClick="logFunction('get_content', 'navigationlib.php.source.html#l566')" href="navigationlib.php.source.html#l566">get_content</a>(<a href="../_variables/shorttext.html">$shorttext</a>=false)&nbsp;&nbsp;
<a href="../_functions/get_content.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the content for this node.<BR>
</b><BR><b>param:</b> bool $shorttext If true shorttext is used rather than the normal text<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_title" onClick="logFunction('get_title', 'navigationlib.php.source.html#l580')" href="navigationlib.php.source.html#l580">get_title</a>()&nbsp;&nbsp;
<a href="../_functions/get_title.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the title to use for this node.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_css_type" onClick="logFunction('get_css_type', 'navigationlib.php.source.html#l593')" href="navigationlib.php.source.html#l593">get_css_type</a>()&nbsp;&nbsp;
<a href="../_functions/get_css_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the CSS class to add to this node to describe its type<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_expandable" onClick="logFunction('find_expandable', 'navigationlib.php.source.html#l605')" href="navigationlib.php.source.html#l605">find_expandable</a>(array &amp;<a href="../_variables/expandable.html">$expandable</a>)&nbsp;&nbsp;
<a href="../_functions/find_expandable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds all nodes that are expandable by AJAX<BR>
</b><BR><b>param:</b> array $expandable An array by reference to populate with expandable nodes.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find_all_of_type" onClick="logFunction('find_all_of_type', 'navigationlib.php.source.html#l621')" href="navigationlib.php.source.html#l621">find_all_of_type</a>(<a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/find_all_of_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds all nodes of a given type (recursive)<BR>
</b><BR><b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="trim_if_empty" onClick="logFunction('trim_if_empty', 'navigationlib.php.source.html#l636')" href="navigationlib.php.source.html#l636">trim_if_empty</a>()&nbsp;&nbsp;
<a href="../_functions/trim_if_empty.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes this node if it is empty<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tabs_array" onClick="logFunction('get_tabs_array', 'navigationlib.php.source.html#l645')" href="navigationlib.php.source.html#l645">get_tabs_array</a>(array <a href="../_variables/inactive.html">$inactive</a>=array()&nbsp;&nbsp;
<a href="../_functions/get_tabs_array.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a tab representation of this nodes children that can be used<BR>
with print_tabs to produce the tabs on a page.<BR>
</b><BR>call_user_func_array('print_tabs', $node-&gt;get_tabs_array());<BR>
<BR>
<b>param:</b> array $inactive<br>
<b>param:</b> bool $return<br>
<b>return:</b> array Array (tabs, selected, inactive, activated, return)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_parent" onClick="logFunction('set_parent', 'navigationlib.php.source.html#l679')" href="navigationlib.php.source.html#l679">set_parent</a>(navigation_node <a href="../_variables/parent.html">$parent</a>)&nbsp;&nbsp;
<a href="../_functions/set_parent.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the parent for this node and if this node is active ensures that the tree is properly<BR>
adjusted as well.<BR>
</b><BR><b>param:</b> navigation_node $parent<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hide" onClick="logFunction('hide', 'navigationlib.php.source.html#l697')" href="navigationlib.php.source.html#l697">hide</a>(array <a href="../_variables/typestohide.html">$typestohide</a> = null)&nbsp;&nbsp;
<a href="../_functions/hide.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Hides the node and any children it has.<BR>
</b><BR><b>param:</b> array $typestohide Optional. An array of node types that should be hidden.<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="navigation_node_collection"><b>navigation_node_collection</b></a>&nbsp;&nbsp;- <a href="../_classes/navigation_node_collection.html"><small>X-Ref</small></a>
</p>
<b>Navigation node collection<BR>
</b><br>
This class is responsible for managing a collection of navigation nodes.<BR>
It is required because a node's unique identifier is a combination of both its<BR>
key and its type.<BR>
<BR>
Originally an array was used with a string key that was a combination of the two<BR>
however it was decided that a better solution would be to use a class that<BR>
implements the standard IteratorAggregate interface.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add" onClick="logFunction('add', 'navigationlib.php.source.html#l758')" href="navigationlib.php.source.html#l758">add</a>(navigation_node <a href="../_variables/node.html">$node</a>, <a href="../_variables/beforekey.html">$beforekey</a>=null)&nbsp;&nbsp;
<a href="../_functions/add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a navigation node to the collection<BR>
</b><BR><b>param:</b> navigation_node $node Node to add<br>
<b>param:</b> string $beforekey If specified, adds before a node with this key,<br>
<b>return:</b> navigation_node Added node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_key_list" onClick="logFunction('get_key_list', 'navigationlib.php.source.html#l821')" href="navigationlib.php.source.html#l821">get_key_list</a>()&nbsp;&nbsp;
<a href="../_functions/get_key_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a list of all the keys of all the nodes.<BR>
</b><BR><b>return:</b> array the keys.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'navigationlib.php.source.html#l833')" href="navigationlib.php.source.html#l833">get</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>=null)&nbsp;&nbsp;
<a href="../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches a node from this collection.<BR>
</b><BR><b>param:</b> string|int $key The key of the node we want to find.<br>
<b>param:</b> int $type One of navigation_node::TYPE_*.<br>
<b>return:</b> navigation_node|null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find" onClick="logFunction('find', 'navigationlib.php.source.html#l857')" href="navigationlib.php.source.html#l857">find</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>=null)&nbsp;&nbsp;
<a href="../_functions/find.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Searches for a node with matching key and type.<BR>
</b><BR>This function searches both the nodes in this collection and all of<BR>
the nodes in each collection belonging to the nodes in this collection.<BR>
<BR>
Recursive.<BR>
<BR>
<b>param:</b> string|int $key&nbsp;&nbsp;The key of the node we want to find.<br>
<b>param:</b> int $type&nbsp;&nbsp;One of navigation_node::TYPE_*.<br>
<b>return:</b> navigation_node|null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="last" onClick="logFunction('last', 'navigationlib.php.source.html#l891')" href="navigationlib.php.source.html#l891">last</a>()&nbsp;&nbsp;
<a href="../_functions/last.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches the last node that was added to this collection<BR>
</b><BR><b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="type" onClick="logFunction('type', 'navigationlib.php.source.html#l900')" href="navigationlib.php.source.html#l900">type</a>(<a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches all nodes of a given type from this collection<BR>
</b><BR><b>param:</b> string|int $type&nbsp;&nbsp;node type being searched for.<br>
<b>return:</b> array ordered collection<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove" onClick="logFunction('remove', 'navigationlib.php.source.html#l912')" href="navigationlib.php.source.html#l912">remove</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>=null)&nbsp;&nbsp;
<a href="../_functions/remove.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes the node with the given key and type from the collection<BR>
</b><BR><b>param:</b> string|int $key The key of the node we want to find.<br>
<b>param:</b> int $type<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count" onClick="logFunction('count', 'navigationlib.php.source.html#l936')" href="navigationlib.php.source.html#l936">count</a>()&nbsp;&nbsp;
<a href="../_functions/count.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the number of nodes in this collection<BR>
</b><BR>This option uses an internal count rather than counting the actual options to avoid<BR>
a performance hit through the count function.<BR>
<BR>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getiterator" onClick="logFunction('getiterator', 'navigationlib.php.source.html#l947')" href="navigationlib.php.source.html#l947">getIterator</a>()&nbsp;&nbsp;
<a href="../_functions/getiterator.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets an array iterator for the collection.<BR>
</b><BR>This is required by the IteratorAggregator interface and is used by routines<BR>
such as the foreach loop.<BR>
<BR>
<b>return:</b> ArrayIterator<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="global_navigation"><b>global_navigation</b></a>&nbsp;&nbsp;- <a href="../_classes/global_navigation.html"><small>X-Ref</small></a>
</p>
<b>The global navigation class used for... the global navigation<BR>
</b><br>
This class is used by PAGE to store the global navigation for the site<BR>
and is then used by the settings nav and navbar to save on processing and DB calls<BR>
<BR>
See<BR>
{@link lib/pagelib.php} {@link moodle_page::initialise_theme_and_output()}<BR>
{@link lib/ajax/getnavbranch.php} Called by ajax<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l1012')" href="navigationlib.php.source.html#l1012">__construct</a>(moodle_page <a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs a new global navigation<BR>
</b><BR><b>param:</b> moodle_page $page The page this navigation object belongs to<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_userid_for_parent_checks" onClick="logFunction('set_userid_for_parent_checks', 'navigationlib.php.source.html#l1051')" href="navigationlib.php.source.html#l1051">set_userid_for_parent_checks</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/set_userid_for_parent_checks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Mutator to set userid to allow parent to see child's profile<BR>
page navigation. See MDL-25805 for initial issue. Linked to it<BR>
is an issue explaining why this is a REALLY UGLY HACK thats not<BR>
for you to use!<BR>
</b><BR><b>param:</b> int $userid userid of profile page that parent wants to navigate around.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise" onClick="logFunction('initialise', 'navigationlib.php.source.html#l1064')" href="navigationlib.php.source.html#l1064">initialise</a>()&nbsp;&nbsp;
<a href="../_functions/initialise.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises the navigation object.<BR>
</b><BR>This causes the navigation object to look at the current state of the page<BR>
that it is associated with and then load the appropriate content.<BR>
<BR>
This should only occur the first time that the navigation structure is utilised<BR>
which will normally be either when the navbar is called to be displayed or<BR>
when a block makes use of it.<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="current_user_is_parent_role" onClick="logFunction('current_user_is_parent_role', 'navigationlib.php.source.html#l1343')" href="navigationlib.php.source.html#l1343">current_user_is_parent_role</a>()&nbsp;&nbsp;
<a href="../_functions/current_user_is_parent_role.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if the current user is a parent of the user being currently viewed.<BR>
</b><BR>If the current user is not viewing another user, or if the current user does not hold any parent roles over the<BR>
other user being viewed this function returns false.<BR>
In order to set the user for whom we are checking against you must call {@link set_userid_for_parent_checks()}<BR>
<BR>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="show_categories" onClick="logFunction('show_categories', 'navigationlib.php.source.html#l1367')" href="navigationlib.php.source.html#l1367">show_categories</a>(<a href="../_variables/ismycourse.html">$ismycourse</a> = false)&nbsp;&nbsp;
<a href="../_functions/show_categories.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if courses should be shown within categories on the navigation.<BR>
</b><BR><b>param:</b> bool $ismycourse Set to true if you are calculating this for a course.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="show_my_categories" onClick="logFunction('show_my_categories', 'navigationlib.php.source.html#l1390')" href="navigationlib.php.source.html#l1390">show_my_categories</a>()&nbsp;&nbsp;
<a href="../_functions/show_my_categories.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if we should show categories in the My Courses branch.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_all_courses" onClick="logFunction('load_all_courses', 'navigationlib.php.source.html#l1402')" href="navigationlib.php.source.html#l1402">load_all_courses</a>(<a href="../_variables/categoryids.html">$categoryids</a> = null)&nbsp;&nbsp;
<a href="../_functions/load_all_courses.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the courses in Moodle into the navigation.<BR>
</b><BR><b>param:</b> string|array $categoryids An array containing categories to load courses<br>
<b>return:</b> array An array of navigation_nodes one for each course<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="can_add_more_courses_to_category" onClick="logFunction('can_add_more_courses_to_category', 'navigationlib.php.source.html#l1580')" href="navigationlib.php.source.html#l1580">can_add_more_courses_to_category</a>(<a href="../_variables/category.html">$category</a>)&nbsp;&nbsp;
<a href="../_functions/can_add_more_courses_to_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if more courses can be added to the provided category.<BR>
</b><BR><b>param:</b> int|navigation_node|stdClass $category<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_all_categories" onClick="logFunction('load_all_categories', 'navigationlib.php.source.html#l1608')" href="navigationlib.php.source.html#l1608">load_all_categories</a>(<a href="../_variables/categoryid.html">$categoryid</a> = self::LOAD_ROOT_CATEGORIES, <a href="../_variables/showbasecategories.html">$showbasecategories</a> = false)&nbsp;&nbsp;
<a href="../_functions/load_all_categories.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads all categories (top level or if an id is specified for that category)<BR>
</b><BR><b>param:</b> int $categoryid The category id to load or null/0 to load all base level categories<br>
<b>param:</b> bool $showbasecategories If set to true all base level categories will be loaded as well<br>
<b>return:</b> navigation_node|void returns a navigation node if a category has been loaded.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_category" onClick="logFunction('add_category', 'navigationlib.php.source.html#l1768')" href="navigationlib.php.source.html#l1768">add_category</a>(stdClass <a href="../_variables/category.html">$category</a>, navigation_node <a href="../_variables/parent.html">$parent</a>, <a href="../_variables/nodetype.html">$nodetype</a> = self::TYPE_CATEGORY)&nbsp;&nbsp;
<a href="../_functions/add_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a structured category to the navigation in the correct order/place<BR>
</b><BR><b>param:</b> stdClass $category category to be added in navigation.<br>
<b>param:</b> navigation_node $parent parent navigation node<br>
<b>param:</b> int $nodetype type of node, if category is under MyHome then it's TYPE_MY_CATEGORY<br>
<b>return:</b> void.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_course" onClick="logFunction('load_course', 'navigationlib.php.source.html#l1794')" href="navigationlib.php.source.html#l1794">load_course</a>(stdClass <a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/load_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the given course into the navigation<BR>
</b><BR><b>param:</b> stdClass $course<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_course_sections" onClick="logFunction('load_course_sections', 'navigationlib.php.source.html#l1814')" href="navigationlib.php.source.html#l1814">load_course_sections</a>(stdClass <a href="../_variables/course.html">$course</a>, navigation_node <a href="../_variables/coursenode.html">$coursenode</a>, <a href="../_variables/sectionnum.html">$sectionnum</a> = null, <a href="../_variables/cm.html">$cm</a> = null)&nbsp;&nbsp;
<a href="../_functions/load_course_sections.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads all of the courses section into the navigation.<BR>
</b><BR>This function calls method from current course format, see<BR>
{@link format_base::extend_course_navigation()}<BR>
If course module ($cm) is specified but course format failed to create the node,<BR>
the activity node is created anyway.<BR>
<BR>
By default course formats call the method {@link global_navigation::load_generic_course_sections()}<BR>
<BR>
<b>param:</b> stdClass $course Database record for the course<br>
<b>param:</b> navigation_node $coursenode The course node within the navigation<br>
<b>param:</b> null|int $sectionnum If specified load the contents of section with this relative number<br>
<b>param:</b> null|cm_info $cm If specified make sure that activity node is created (either<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_sections_and_activities" onClick="logFunction('generate_sections_and_activities', 'navigationlib.php.source.html#l1848')" href="navigationlib.php.source.html#l1848">generate_sections_and_activities</a>(stdClass <a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/generate_sections_and_activities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates an array of sections and an array of activities for the given course.<BR>
</b><BR>This method uses the cache to improve performance and avoid the get_fast_modinfo call<BR>
<BR>
<b>param:</b> stdClass $course<br>
<b>return:</b> array Array($sections, $activities)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_generic_course_sections" onClick="logFunction('load_generic_course_sections', 'navigationlib.php.source.html#l1913')" href="navigationlib.php.source.html#l1913">load_generic_course_sections</a>(stdClass <a href="../_variables/course.html">$course</a>, navigation_node <a href="../_variables/coursenode.html">$coursenode</a>)&nbsp;&nbsp;
<a href="../_functions/load_generic_course_sections.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generically loads the course sections into the course's navigation.<BR>
</b><BR><b>param:</b> stdClass $course<br>
<b>param:</b> navigation_node $coursenode<br>
<b>return:</b> array An array of course section nodes<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_section_activities" onClick="logFunction('load_section_activities', 'navigationlib.php.source.html#l1953')" href="navigationlib.php.source.html#l1953">load_section_activities</a>(navigation_node <a href="../_variables/sectionnode.html">$sectionnode</a>, <a href="../_variables/sectionnumber.html">$sectionnumber</a>, array <a href="../_variables/activities.html">$activities</a>, <a href="../_variables/course.html">$course</a> = null)&nbsp;&nbsp;
<a href="../_functions/load_section_activities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads all of the activities for a section into the navigation structure.<BR>
</b><BR><b>param:</b> navigation_node $sectionnode<br>
<b>param:</b> int $sectionnumber<br>
<b>param:</b> array $activities An array of activites as returned by {@link global_navigation::generate_sections_and_activities()}<br>
<b>param:</b> stdClass $course The course object the section and activities relate to.<br>
<b>return:</b> array Array of activity nodes<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_stealth_activity" onClick="logFunction('load_stealth_activity', 'navigationlib.php.source.html#l2026')" href="navigationlib.php.source.html#l2026">load_stealth_activity</a>(navigation_node <a href="../_variables/coursenode.html">$coursenode</a>, <a href="../_variables/modinfo.html">$modinfo</a>)&nbsp;&nbsp;
<a href="../_functions/load_stealth_activity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads a stealth module from unavailable section<BR>
</b><BR><b>param:</b> navigation_node $coursenode<br>
<b>param:</b> stdClass $modinfo<br>
<b>return:</b> navigation_node or null if not accessible<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_activity" onClick="logFunction('load_activity', 'navigationlib.php.source.html#l2058')" href="navigationlib.php.source.html#l2058">load_activity</a>(<a href="../_variables/cm.html">$cm</a>, stdClass <a href="../_variables/course.html">$course</a>, navigation_node <a href="../_variables/activity.html">$activity</a>)&nbsp;&nbsp;
<a href="../_functions/load_activity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the navigation structure for the given activity into the activities node.<BR>
</b><BR>This method utilises a callback within the modules lib.php file to load the<BR>
content specific to activity given.<BR>
<BR>
The callback is a method: {modulename}_extend_navigation()<BR>
Examples:<BR>
* {@link forum_extend_navigation()}<BR>
* {@link workshop_extend_navigation()}<BR>
<BR>
<b>param:</b> cm_info|stdClass $cm<br>
<b>param:</b> stdClass $course<br>
<b>param:</b> navigation_node $activity<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_for_user" onClick="logFunction('load_for_user', 'navigationlib.php.source.html#l2105')" href="navigationlib.php.source.html#l2105">load_for_user</a>(<a href="../_variables/user.html">$user</a>=null, <a href="../_variables/forceforcontext.html">$forceforcontext</a>=false)&nbsp;&nbsp;
<a href="../_functions/load_for_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads user specific information into the navigation in the appropriate place.<BR>
</b><BR>If no user is provided the current user is assumed.<BR>
<BR>
<b>param:</b> stdClass $user<br>
<b>param:</b> bool $forceforcontext probably force something to be loaded somewhere (ask SamH if not sure what this means)<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="module_extends_navigation" onClick="logFunction('module_extends_navigation', 'navigationlib.php.source.html#l2349')" href="navigationlib.php.source.html#l2349">module_extends_navigation</a>(<a href="../_variables/modname.html">$modname</a>)&nbsp;&nbsp;
<a href="../_functions/module_extends_navigation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method simply checks to see if a given module can extend the navigation.<BR>
</b><BR><b>param:</b> string $modname<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extend_for_user" onClick="logFunction('extend_for_user', 'navigationlib.php.source.html#l2371')" href="navigationlib.php.source.html#l2371">extend_for_user</a>(<a href="../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../_functions/extend_for_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extends the navigation for the given user.<BR>
</b><BR><b>param:</b> stdClass $user A user from the database<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_extending_users" onClick="logFunction('get_extending_users', 'navigationlib.php.source.html#l2380')" href="navigationlib.php.source.html#l2380">get_extending_users</a>()&nbsp;&nbsp;
<a href="../_functions/get_extending_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all of the users the navigation is being extended for<BR>
</b><BR><b>return:</b> array An array of extending users.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_course" onClick="logFunction('add_course', 'navigationlib.php.source.html#l2388')" href="navigationlib.php.source.html#l2388">add_course</a>(stdClass <a href="../_variables/course.html">$course</a>, <a href="../_variables/forcegeneric.html">$forcegeneric</a> = false, <a href="../_variables/coursetype.html">$coursetype</a> = self::COURSE_OTHER)&nbsp;&nbsp;
<a href="../_functions/add_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds the given course to the navigation structure.<BR>
</b><BR><b>param:</b> stdClass $course<br>
<b>param:</b> bool $forcegeneric<br>
<b>param:</b> bool $ismycourse<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_expand_course_cache" onClick="logFunction('get_expand_course_cache', 'navigationlib.php.source.html#l2479')" href="navigationlib.php.source.html#l2479">get_expand_course_cache</a>()&nbsp;&nbsp;
<a href="../_functions/get_expand_course_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a cache instance to use for the expand course cache.<BR>
</b><BR><b>return:</b> cache_session<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="can_expand_course" onClick="logFunction('can_expand_course', 'navigationlib.php.source.html#l2490')" href="navigationlib.php.source.html#l2490">can_expand_course</a>(<a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/can_expand_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if a user can expand a course in the navigation.<BR>
</b><BR>We use a cache here because in order to be accurate we need to call can_access_course which is a costly function.<BR>
Because this functionality is basic + non-essential and because we lack good event triggering this cache<BR>
permits stale data.<BR>
In the situation the user is granted access to a course after we've initialised this session cache the cache<BR>
will be stale.<BR>
It is brought up to date in only one of two ways.<BR>
1. The user logs out and in again.<BR>
2. The user browses to the course they've just being given access to.<BR>
<BR>
Really all this controls is whether the node is shown as expandable or not. It is uber un-important.<BR>
<BR>
<b>param:</b> stdClass $course<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_category_fully_loaded" onClick="logFunction('is_category_fully_loaded', 'navigationlib.php.source.html#l2518')" href="navigationlib.php.source.html#l2518">is_category_fully_loaded</a>(<a href="../_variables/categoryid.html">$categoryid</a>)&nbsp;&nbsp;
<a href="../_functions/is_category_fully_loaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if the category has already been loaded as have any child categories<BR>
</b><BR><b>param:</b> int $categoryid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_course_essentials" onClick="logFunction('add_course_essentials', 'navigationlib.php.source.html#l2528')" href="navigationlib.php.source.html#l2528">add_course_essentials</a>(<a href="../_variables/coursenode.html">$coursenode</a>, stdClass <a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/add_course_essentials.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds essential course nodes to the navigation for the given course.<BR>
</b><BR>This method adds nodes such as reports, blogs and participants<BR>
<BR>
<b>param:</b> navigation_node $coursenode<br>
<b>param:</b> stdClass $course<br>
<b>return:</b> bool returns true on successful addition of a node.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_front_page_course_essentials" onClick="logFunction('add_front_page_course_essentials', 'navigationlib.php.source.html#l2584')" href="navigationlib.php.source.html#l2584">add_front_page_course_essentials</a>(navigation_node <a href="../_variables/coursenode.html">$coursenode</a>, stdClass <a href="../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../_functions/add_front_page_course_essentials.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This generates the structure of the course that won't be generated when<BR>
the modules and sections are added.<BR>
</b><BR>Things such as the reports branch, the participants branch, blogs... get<BR>
added to the course node by this method.<BR>
<BR>
<b>param:</b> navigation_node $coursenode<br>
<b>param:</b> stdClass $course<br>
<b>return:</b> bool True for successfull generation<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear_cache" onClick="logFunction('clear_cache', 'navigationlib.php.source.html#l2648')" href="navigationlib.php.source.html#l2648">clear_cache</a>()&nbsp;&nbsp;
<a href="../_functions/clear_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clears the navigation cache<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_expansion_limit" onClick="logFunction('set_expansion_limit', 'navigationlib.php.source.html#l2655')" href="navigationlib.php.source.html#l2655">set_expansion_limit</a>(<a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/set_expansion_limit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets an expansion limit for the navigation<BR>
</b><BR>The expansion limit is used to prevent the display of content that has a type<BR>
greater than the provided $type.<BR>
<BR>
Can be used to ensure things such as activities or activity content don't get<BR>
shown on the navigation.<BR>
They are still generated in order to ensure the navbar still makes sense.<BR>
<BR>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> bool true when complete.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'navigationlib.php.source.html#l2693')" href="navigationlib.php.source.html#l2693">get</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a> = null)&nbsp;&nbsp;
<a href="../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Attempts to get the navigation with the given key from this nodes children.<BR>
</b><BR>This function only looks at this nodes children, it does NOT look recursivily.<BR>
If the node can't be found then false is returned.<BR>
<BR>
If you need to search recursivily then use the {@link global_navigation::find()} method.<BR>
<BR>
Note: If you are trying to set the active node {@link navigation_node::override_active_url()}<BR>
may be of more use to you.<BR>
<BR>
<b>param:</b> string|int $key The key of the node you wish to receive.<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="find" onClick="logFunction('find', 'navigationlib.php.source.html#l2715')" href="navigationlib.php.source.html#l2715">find</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../_functions/find.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Searches this nodes children and their children to find a navigation node<BR>
with the matching key and type.<BR>
</b><BR>This method is recursive and searches children so until either a node is<BR>
found or there are no more nodes to search.<BR>
<BR>
If you know that the node being searched for is a child of this node<BR>
then use the {@link global_navigation::get()} method instead.<BR>
<BR>
Note: If you are trying to set the active node {@link navigation_node::override_active_url()}<BR>
may be of more use to you.<BR>
<BR>
<b>param:</b> string|int $key The key of the node you wish to receive.<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_courses_enrolled" onClick="logFunction('load_courses_enrolled', 'navigationlib.php.source.html#l2742')" href="navigationlib.php.source.html#l2742">load_courses_enrolled</a>()&nbsp;&nbsp;
<a href="../_functions/load_courses_enrolled.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>They've expanded the 'my courses' branch.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="global_navigation_for_ajax"><b>global_navigation_for_ajax</b></a>&nbsp;&nbsp;- <a href="../_classes/global_navigation_for_ajax.html"><small>X-Ref</small></a>
</p>
<b>The global navigation class used especially for AJAX requests.<BR>
</b><br>
The primary methods that are used in the global navigation class have been overriden<BR>
to ensure that only the relevant branch is generated at the root of the tree.<BR>
This can be done because AJAX is only used when the backwards structure for the<BR>
requested branch exists.<BR>
This has been done only because it shortens the amounts of information that is generated<BR>
which of course will speed up the response time.. because no one likes laggy AJAX.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l2814')" href="navigationlib.php.source.html#l2814">__construct</a>(<a href="../_variables/page.html">$page</a>, <a href="../_variables/branchtype.html">$branchtype</a>, <a href="../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs the navigation for use in an AJAX request<BR>
</b><BR><b>param:</b> moodle_page $page moodle_page object<br>
<b>param:</b> int $branchtype<br>
<b>param:</b> int $id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise" onClick="logFunction('initialise', 'navigationlib.php.source.html#l2829')" href="navigationlib.php.source.html#l2829">initialise</a>()&nbsp;&nbsp;
<a href="../_functions/initialise.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise the navigation given the type and id for the branch to expand.<BR>
</b><BR><b>return:</b> array An array of the expandable nodes<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_courses_other" onClick="logFunction('load_courses_other', 'navigationlib.php.source.html#l2922')" href="navigationlib.php.source.html#l2922">load_courses_other</a>()&nbsp;&nbsp;
<a href="../_functions/load_courses_other.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>They've expanded the general 'courses' branch.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_category" onClick="logFunction('load_category', 'navigationlib.php.source.html#l2929')" href="navigationlib.php.source.html#l2929">load_category</a>(<a href="../_variables/categoryid.html">$categoryid</a>, <a href="../_variables/nodetype.html">$nodetype</a> = self::TYPE_CATEGORY)&nbsp;&nbsp;
<a href="../_functions/load_category.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads a single category into the AJAX navigation.<BR>
</b><BR>This function is special in that it doesn't concern itself with the parent of<BR>
the requested category or its siblings.<BR>
This is because with the AJAX navigation we know exactly what is wanted and only need to<BR>
request that.<BR>
<BR>
<b>param:</b> int $categoryid id of category to load in navigation.<br>
<b>param:</b> int $nodetype type of node, if category is under MyHome then it's TYPE_MY_CATEGORY<br>
<b>return:</b> void.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_expandable" onClick="logFunction('get_expandable', 'navigationlib.php.source.html#l3032')" href="navigationlib.php.source.html#l3032">get_expandable</a>()&nbsp;&nbsp;
<a href="../_functions/get_expandable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of expandable nodes<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="navbar"><b>navbar</b></a>&nbsp;&nbsp;- <a href="../_classes/navbar.html"><small>X-Ref</small></a>
</p>
<b>Navbar class<BR>
</b><br>
This class is used to manage the navbar, which is initialised from the navigation<BR>
object held by PAGE<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l3075')" href="navigationlib.php.source.html#l3075">__construct</a>(moodle_page <a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The almighty constructor<BR>
</b><BR><b>param:</b> moodle_page $page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_items" onClick="logFunction('has_items', 'navigationlib.php.source.html#l3094')" href="navigationlib.php.source.html#l3094">has_items</a>()&nbsp;&nbsp;
<a href="../_functions/has_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Quick check to see if the navbar will have items in.<BR>
</b><BR><b>return:</b> bool Returns true if the navbar will have items, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ignore_active" onClick="logFunction('ignore_active', 'navigationlib.php.source.html#l3117')" href="navigationlib.php.source.html#l3117">ignore_active</a>(<a href="../_variables/setting.html">$setting</a>=true)&nbsp;&nbsp;
<a href="../_functions/ignore_active.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Turn on/off ignore active<BR>
</b><BR><b>param:</b> bool $setting<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get" onClick="logFunction('get', 'navigationlib.php.source.html#l3126')" href="navigationlib.php.source.html#l3126">get</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/type.html">$type</a> = null)&nbsp;&nbsp;
<a href="../_functions/get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets a navigation node<BR>
</b><BR><b>param:</b> string|int $key for referencing the navbar nodes<br>
<b>param:</b> int $type navigation_node::TYPE_*<br>
<b>return:</b> navigation_node|bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_items" onClick="logFunction('get_items', 'navigationlib.php.source.html#l3146')" href="navigationlib.php.source.html#l3146">get_items</a>()&nbsp;&nbsp;
<a href="../_functions/get_items.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of navigation_node's that make up the navbar.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course_categories" onClick="logFunction('get_course_categories', 'navigationlib.php.source.html#l3238')" href="navigationlib.php.source.html#l3238">get_course_categories</a>()&nbsp;&nbsp;
<a href="../_functions/get_course_categories.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the list of categories leading to this course.<BR>
</b><BR>This function is used by {@link navbar::get_items()} to add back the &quot;courses&quot;<BR>
node and category chain leading to the current course.&nbsp;&nbsp;Note that this is only ever<BR>
called for the current course, so we don't need to bother taking in any parameters.<BR>
<BR>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add" onClick="logFunction('add', 'navigationlib.php.source.html#l3288')" href="navigationlib.php.source.html#l3288">add</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/action.html">$action</a>=null, <a href="../_variables/type.html">$type</a>=self::TYPE_CUSTOM, <a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a new navigation_node to the navbar, overrides parent::add<BR>
</b><BR>This function overrides {@link navigation_node::add()} so that we can change<BR>
the way nodes get added to allow us to simply call add and have the node added to the<BR>
end of the navbar<BR>
<BR>
<b>param:</b> string $text<br>
<b>param:</b> string|moodle_url|action_link $action An action to associate with this node.<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key A key to identify this node with. Key + type is unique to a parent.<br>
<b>param:</b> pix_icon $icon An optional icon to use for this node.<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepend" onClick="logFunction('prepend', 'navigationlib.php.source.html#l3338')" href="navigationlib.php.source.html#l3338">prepend</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/action.html">$action</a>=null, <a href="../_variables/type.html">$type</a>=self::TYPE_CUSTOM, <a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/prepend.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepends a new navigation_node to the start of the navbar<BR>
</b><BR><b>param:</b> string $text<br>
<b>param:</b> string|moodle_url|action_link $action An action to associate with this node.<br>
<b>param:</b> int $type One of navigation_node::TYPE_*<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key A key to identify this node with. Key + type is unique to a parent.<br>
<b>param:</b> pix_icon $icon An optional icon to use for this node.<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="settings_navigation"><b>settings_navigation</b></a>&nbsp;&nbsp;- <a href="../_classes/settings_navigation.html"><small>X-Ref</small></a>
</p>
<b>Class used to manage the settings option for the current page<BR>
</b><br>
This class is used to manage the settings options in a tree format (recursively)<BR>
and was created initially for use with the settings blocks.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l3409')" href="navigationlib.php.source.html#l3409">__construct</a>(moodle_page &amp;<a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets up the object with basic settings and preparse it for use<BR>
</b><BR><b>param:</b> moodle_page $page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise" onClick="logFunction('initialise', 'navigationlib.php.source.html#l3426')" href="navigationlib.php.source.html#l3426">initialise</a>()&nbsp;&nbsp;
<a href="../_functions/initialise.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise the settings navigation based on the current context<BR>
</b><BR>This function initialises the settings navigation tree for a given context<BR>
by calling supporting functions to generate major parts of the tree.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add" onClick="logFunction('add', 'navigationlib.php.source.html#l3542')" href="navigationlib.php.source.html#l3542">add</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/url.html">$url</a>=null, <a href="../_variables/type.html">$type</a>=null, <a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/add.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Override the parent function so that we can add preceeding hr's and set a<BR>
root node class against all first level element<BR>
</b><BR>It does this by first calling the parent's add method {@link navigation_node::add()}<BR>
and then proceeds to use the key to set class and hr<BR>
<BR>
<b>param:</b> string $text text to be used for the link.<br>
<b>param:</b> string|moodle_url $url url for the new node<br>
<b>param:</b> int $type the type of node navigation_node::TYPE_*<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key a key to access the node by.<br>
<b>param:</b> pix_icon $icon An icon that appears next to the node.<br>
<b>return:</b> navigation_node with the new node added to it.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepend" onClick="logFunction('prepend', 'navigationlib.php.source.html#l3563')" href="navigationlib.php.source.html#l3563">prepend</a>(<a href="../_variables/text.html">$text</a>, <a href="../_variables/url.html">$url</a>=null, <a href="../_variables/type.html">$type</a>=null, <a href="../_variables/shorttext.html">$shorttext</a>=null, <a href="../_variables/key.html">$key</a>=null, pix_icon <a href="../_variables/icon.html">$icon</a>=null)&nbsp;&nbsp;
<a href="../_functions/prepend.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function allows the user to add something to the start of the settings<BR>
navigation, which means it will be at the top of the settings navigation block<BR>
</b><BR><b>param:</b> string $text text to be used for the link.<br>
<b>param:</b> string|moodle_url $url url for the new node<br>
<b>param:</b> int $type the type of node navigation_node::TYPE_*<br>
<b>param:</b> string $shorttext<br>
<b>param:</b> string|int $key a key to access the node by.<br>
<b>param:</b> pix_icon $icon An icon that appears next to the node.<br>
<b>return:</b> navigation_node $node with the new node added to it.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_admin_tree_needed" onClick="logFunction('is_admin_tree_needed', 'navigationlib.php.source.html#l3586')" href="navigationlib.php.source.html#l3586">is_admin_tree_needed</a>()&nbsp;&nbsp;
<a href="../_functions/is_admin_tree_needed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Does this page require loading of full admin tree or is<BR>
it enough rely on AJAX?<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_administration_settings" onClick="logFunction('load_administration_settings', 'navigationlib.php.source.html#l3609')" href="navigationlib.php.source.html#l3609">load_administration_settings</a>(navigation_node <a href="../_variables/referencebranch.html">$referencebranch</a>=null, part_of_admin_tree <a href="../_variables/adminbranch.html">$adminbranch</a>=null)&nbsp;&nbsp;
<a href="../_functions/load_administration_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Load the site administration tree<BR>
</b><BR>This function loads the site administration tree by using the lib/adminlib library functions<BR>
<BR>
<b>param:</b> navigation_node $referencebranch A reference to a branch in the settings<br>
<b>param:</b> part_of_admin_tree $adminbranch The branch to add, if null generate the admin<br>
<b>return:</b> mixed A key to access the admin tree by<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="scan_for_active_node" onClick="logFunction('scan_for_active_node', 'navigationlib.php.source.html#l3695')" href="navigationlib.php.source.html#l3695">scan_for_active_node</a>(navigation_node <a href="../_variables/node.html">$node</a>)&nbsp;&nbsp;
<a href="../_functions/scan_for_active_node.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function recursivily scans nodes until it finds the active node or there<BR>
are no more nodes.<BR>
</b><BR><b>param:</b> navigation_node $node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_by_path" onClick="logFunction('get_by_path', 'navigationlib.php.source.html#l3708')" href="navigationlib.php.source.html#l3708">get_by_path</a>(array <a href="../_variables/path.html">$path</a>)&nbsp;&nbsp;
<a href="../_functions/get_by_path.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets a navigation node given an array of keys that represent the path to<BR>
the desired node.<BR>
</b><BR><b>param:</b> array $path<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_course_settings" onClick="logFunction('load_course_settings', 'navigationlib.php.source.html#l3723')" href="navigationlib.php.source.html#l3723">load_course_settings</a>(<a href="../_variables/forceopen.html">$forceopen</a> = false)&nbsp;&nbsp;
<a href="../_functions/load_course_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function loads the course settings that are available for the user<BR>
</b><BR><b>param:</b> bool $forceopen If set to true the course node will be forced open<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_module_settings" onClick="logFunction('load_module_settings', 'navigationlib.php.source.html#l3937')" href="navigationlib.php.source.html#l3937">load_module_settings</a>()&nbsp;&nbsp;
<a href="../_functions/load_module_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function calls the module function to inject module settings into the<BR>
settings navigation tree.<BR>
</b><BR>This only gets called if there is a corrosponding function in the modules<BR>
lib file.<BR>
<BR>
For examples mod/forum/lib.php {@link forum_extend_settings_navigation()}<BR>
<BR>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_user_settings" onClick="logFunction('load_user_settings', 'navigationlib.php.source.html#l4031')" href="navigationlib.php.source.html#l4031">load_user_settings</a>(<a href="../_variables/courseid.html">$courseid</a> = SITEID)&nbsp;&nbsp;
<a href="../_functions/load_user_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the user settings block of the settings nav<BR>
</b><BR>This function is simply works out the userid and whether we need to load<BR>
just the current users profile settings, or the current user and the user the<BR>
current user is viewing.<BR>
<BR>
This function has some very ugly code to work out the user, if anyone has<BR>
any bright ideas please feel free to intervene.<BR>
<BR>
<b>param:</b> int $courseid The course id of the current course<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="extend_for_user" onClick="logFunction('extend_for_user', 'navigationlib.php.source.html#l4080')" href="navigationlib.php.source.html#l4080">extend_for_user</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/extend_for_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extends the settings navigation for the given user.<BR>
</b><BR>Note: This method gets called automatically if you call<BR>
$PAGE-&gt;navigation-&gt;extend_for_user($userid)<BR>
<BR>
<b>param:</b> int $userid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="generate_user_settings" onClick="logFunction('generate_user_settings', 'navigationlib.php.source.html#l4108')" href="navigationlib.php.source.html#l4108">generate_user_settings</a>(<a href="../_variables/courseid.html">$courseid</a>, <a href="../_variables/userid.html">$userid</a>, <a href="../_variables/gstitle.html">$gstitle</a>='usercurrentsettings')&nbsp;&nbsp;
<a href="../_functions/generate_user_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function gets called by {@link settings_navigation::load_user_settings()} and actually works out<BR>
what can be shown/done<BR>
</b><BR><b>param:</b> int $courseid The current course' id<br>
<b>param:</b> int $userid The user id to load for<br>
<b>param:</b> string $gstitle The string to pass to get_string for the branch title<br>
<b>return:</b> navigation_node|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_block_settings" onClick="logFunction('load_block_settings', 'navigationlib.php.source.html#l4505')" href="navigationlib.php.source.html#l4505">load_block_settings</a>()&nbsp;&nbsp;
<a href="../_functions/load_block_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads block specific settings in the navigation<BR>
</b><BR><b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_category_settings" onClick="logFunction('load_category_settings', 'navigationlib.php.source.html#l4534')" href="navigationlib.php.source.html#l4534">load_category_settings</a>()&nbsp;&nbsp;
<a href="../_functions/load_category_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads category specific settings in the navigation<BR>
</b><BR><b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="in_alternative_role" onClick="logFunction('in_alternative_role', 'navigationlib.php.source.html#l4612')" href="navigationlib.php.source.html#l4612">in_alternative_role</a>()&nbsp;&nbsp;
<a href="../_functions/in_alternative_role.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine whether the user is assuming another role<BR>
</b><BR>This function checks to see if the user is assuming another role by means of<BR>
role switching. In doing this we compare each RSW key (context path) against<BR>
the current context path. This ensures that we can provide the switching<BR>
options against both the course and any page shown under the course.<BR>
<BR>
<b>return:</b> bool|int The role(int) if the user is in another role, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_front_page_settings" onClick="logFunction('load_front_page_settings', 'navigationlib.php.source.html#l4637')" href="navigationlib.php.source.html#l4637">load_front_page_settings</a>(<a href="../_variables/forceopen.html">$forceopen</a> = false)&nbsp;&nbsp;
<a href="../_functions/load_front_page_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function loads all of the front page settings into the settings navigation.<BR>
This function is called when the user is on the front page, or $COURSE==$SITE<BR>
</b><BR><b>param:</b> bool $forceopen (optional)<br>
<b>return:</b> navigation_node<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="load_local_plugin_settings" onClick="logFunction('load_local_plugin_settings', 'navigationlib.php.source.html#l4738')" href="navigationlib.php.source.html#l4738">load_local_plugin_settings</a>()&nbsp;&nbsp;
<a href="../_functions/load_local_plugin_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function gives local plugins an opportunity to modify the settings navigation.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear_cache" onClick="logFunction('clear_cache', 'navigationlib.php.source.html#l4758')" href="navigationlib.php.source.html#l4758">clear_cache</a>()&nbsp;&nbsp;
<a href="../_functions/clear_cache.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function marks the cache as volatile so it is cleared during shutdown<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="settings_navigation_ajax"><b>settings_navigation_ajax</b></a>&nbsp;&nbsp;- <a href="../_classes/settings_navigation_ajax.html"><small>X-Ref</small></a>
</p>
<b>Class used to populate site admin navigation for ajax.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l4775')" href="navigationlib.php.source.html#l4775">__construct</a>(moodle_page &amp;<a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs the navigation for use in an AJAX request<BR>
</b><BR><b>param:</b> moodle_page $page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise" onClick="logFunction('initialise', 'navigationlib.php.source.html#l4787')" href="navigationlib.php.source.html#l4787">initialise</a>()&nbsp;&nbsp;
<a href="../_functions/initialise.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialise the site admin navigation.<BR>
</b><BR><b>return:</b> array An array of the expandable nodes<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="navigation_json"><b>navigation_json</b></a>&nbsp;&nbsp;- <a href="../_classes/navigation_json.html"><small>X-Ref</small></a>
</p>
<b>Simple class used to output a navigation branch in XML<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="convert" onClick="logFunction('convert', 'navigationlib.php.source.html#l4819')" href="navigationlib.php.source.html#l4819">convert</a>(<a href="../_variables/branch.html">$branch</a>)&nbsp;&nbsp;
<a href="../_functions/convert.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Turns a branch and all of its children into XML<BR>
</b><BR><b>param:</b> navigation_node $branch<br>
<b>return:</b> string XML string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_expandable" onClick="logFunction('set_expandable', 'navigationlib.php.source.html#l4829')" href="navigationlib.php.source.html#l4829">set_expandable</a>(<a href="../_variables/expandable.html">$expandable</a>)&nbsp;&nbsp;
<a href="../_functions/set_expandable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the expandable items in the array so that we have enough information<BR>
to attach AJAX events<BR>
</b><BR><b>param:</b> array $expandable<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="convert_child" onClick="logFunction('convert_child', 'navigationlib.php.source.html#l4839')" href="navigationlib.php.source.html#l4839">convert_child</a>(<a href="../_variables/child.html">$child</a>, <a href="../_variables/depth.html">$depth</a>=1)&nbsp;&nbsp;
<a href="../_functions/convert_child.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recusively converts a child node and its children to XML for output<BR>
</b><BR><b>param:</b> navigation_node $child The child to convert<br>
<b>param:</b> int $depth Pointlessly used to track the depth of the XML structure<br>
<b>return:</b> string JSON<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="navigation_cache"><b>navigation_cache</b></a>&nbsp;&nbsp;- <a href="../_classes/navigation_cache.html"><small>X-Ref</small></a>
</p>
<b>The cache class used by global navigation and settings navigation.<BR>
</b><br>
It is basically an easy access point to session with a bit of smarts to make<BR>
sure that the information that is cached is valid still.<BR>
<BR>
Example use:<BR>
&lt;code php&gt;<BR>
if (!$cache-&gt;viewdiscussion()) {<BR>
// Code to do stuff and produce cachable content<BR>
$cache-&gt;viewdiscussion = has_capability('mod/forum:viewdiscussion', $coursecontext);<BR>
}<BR>
$content = $cache-&gt;viewdiscussion;<BR>
&lt;/code&gt;<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'navigationlib.php.source.html#l4956')" href="navigationlib.php.source.html#l4956">__construct</a>(<a href="../_variables/area.html">$area</a>, <a href="../_variables/timeout.html">$timeout</a>=1800)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Contructor for the cache. Requires two arguments<BR>
</b><BR><b>param:</b> string $area The string to use to segregate this particular cache<br>
<b>param:</b> int $timeout The number of seconds to time the information out after<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="ensure_session_cache_initialised" onClick="logFunction('ensure_session_cache_initialised', 'navigationlib.php.source.html#l4974')" href="navigationlib.php.source.html#l4974">ensure_session_cache_initialised</a>()&nbsp;&nbsp;
<a href="../_functions/ensure_session_cache_initialised.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used to set up the cache within the SESSION.<BR>
</b><BR>This is called for each access and ensure that we don't put anything into the session before<BR>
it is required.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__get" onClick="logFunction('__get', 'navigationlib.php.source.html#l4993')" href="navigationlib.php.source.html#l4993">__get</a>(<a href="../_variables/key.html">$key</a>)&nbsp;&nbsp;
<a href="../_functions/__get.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic Method to retrieve something by simply calling using = cache-&gt;key<BR>
</b><BR><b>param:</b> mixed $key The identifier for the information you want out again<br>
<b>return:</b> void|mixed Either void or what ever was put in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__set" onClick="logFunction('__set', 'navigationlib.php.source.html#l5007')" href="navigationlib.php.source.html#l5007">__set</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/information.html">$information</a>)&nbsp;&nbsp;
<a href="../_functions/__set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method that simply uses {@link set();} to store something in the cache<BR>
</b><BR><b>param:</b> string|int $key<br>
<b>param:</b> mixed $information<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set" onClick="logFunction('set', 'navigationlib.php.source.html#l5017')" href="navigationlib.php.source.html#l5017">set</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/information.html">$information</a>)&nbsp;&nbsp;
<a href="../_functions/set.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets some information against the cache (session) for later retrieval<BR>
</b><BR><b>param:</b> string|int $key<br>
<b>param:</b> mixed $information<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cached" onClick="logFunction('cached', 'navigationlib.php.source.html#l5029')" href="navigationlib.php.source.html#l5029">cached</a>(<a href="../_variables/key.html">$key</a>)&nbsp;&nbsp;
<a href="../_functions/cached.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check the existence of the identifier in the cache<BR>
</b><BR><b>param:</b> string|int $key<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="compare" onClick="logFunction('compare', 'navigationlib.php.source.html#l5043')" href="navigationlib.php.source.html#l5043">compare</a>(<a href="../_variables/key.html">$key</a>, <a href="../_variables/value.html">$value</a>, <a href="../_variables/serialise.html">$serialise</a> = true)&nbsp;&nbsp;
<a href="../_functions/compare.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Compare something to it's equivilant in the cache<BR>
</b><BR><b>param:</b> string $key<br>
<b>param:</b> mixed $value<br>
<b>param:</b> bool $serialise Whether to serialise the value before comparison<br>
<b>return:</b> bool If the value is the same false if it is not set or doesn't match<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="clear" onClick="logFunction('clear', 'navigationlib.php.source.html#l5064')" href="navigationlib.php.source.html#l5064">clear</a>()&nbsp;&nbsp;
<a href="../_functions/clear.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Wipes the entire cache, good to force regeneration<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="garbage_collection" onClick="logFunction('garbage_collection', 'navigationlib.php.source.html#l5072')" href="navigationlib.php.source.html#l5072">garbage_collection</a>()&nbsp;&nbsp;
<a href="../_functions/garbage_collection.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks all cache entries and removes any that have expired, good ole cleanup<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="volatile" onClick="logFunction('volatile', 'navigationlib.php.source.html#l5086')" href="navigationlib.php.source.html#l5086">volatile</a>(<a href="../_variables/setting.html">$setting</a> = true)&nbsp;&nbsp;
<a href="../_functions/volatile.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks the cache as being volatile (likely to change)<BR>
</b><BR>Any caches marked as volatile will be destroyed at the on shutdown by<BR>
{@link navigation_node::destroy_volatile_caches()} which is registered<BR>
as a shutdown function if any caches are marked as volatile.<BR>
<BR>
<b>param:</b> bool $setting True to destroy the cache false not too<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="destroy_volatile_caches" onClick="logFunction('destroy_volatile_caches', 'navigationlib.php.source.html#l5108')" href="navigationlib.php.source.html#l5108">destroy_volatile_caches</a>()&nbsp;&nbsp;
<a href="../_functions/destroy_volatile_caches.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Destroys all caches marked as volatile<BR>
</b><BR>This function is static and works in conjunction with the static volatilecaches<BR>
property of navigation cache.<BR>
Because this function is static it manually resets the cached areas back to an<BR>
empty array.<BR>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
